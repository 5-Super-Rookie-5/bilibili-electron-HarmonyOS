import{B as S,aa as B}from"./MoreFeedback.eac5fca1.js";import{M as x,o,c as n,a as s,U as C,W as h,$ as F,aa as w,k as l,z as L,aV as R,x as E,dL as I,A as N,l as $,Q as z,aj as f,V as D,a0 as H,X as v,Y as T,a6 as j,a7 as A}from"./index.f074ecef.js";import{_ as O,e as M}from"./index.194c39d1.js";import{u as W,N as G}from"./App.c1beb0e9.js";import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";import"./style.2070e26d.js";import"./modulepreload-polyfill.b7f2da20.js";import"./ico_max_exit.f7f1ea61.js";import"./index.14a3ec94.js";import"./isUdf.1a76b9f4.js";import"./btn_devtools.06ffa497.js";import"./ico_pin.a6faa7a5.js";/* empty css               */import"./theme-map.a3b52bba.js";import"./index.733b73c2.js";const U={class:"precious_video_card"},X={class:"precious_video_card--view"},Y=["title"],Z=x({__name:"PreciousVideoCard",props:{idx:Number,info:{type:Object,default:()=>({})},mediaList:{type:Object,default:null},rootRef:{type:Object}},setup(e){const c=e,t=()=>{c.info.bvid&&w({type:"ugc",bvid:c.info.bvid})};return(a,u)=>(o(),n("div",U,[s("div",X,[C(h(S),{info:e.info.info,"img-lazy":"eager","is-rcmd":"","disable-frame":"","disable-scale":"",rootRef:e.rootRef,iid:"pc_app_hots_precious","scroll-wrap":".home_hots",isFirstCard:e.idx===0},null,8,["info","rootRef","isFirstCard"])]),s("div",{class:"precious_video_card--achievement bd_radius_sm flex_row cs_pointer text_ellipsis",onClick:t,title:e.info.achievement},F(e.info.achievement),9,Y)]))}});const d=e=>(j("data-v-899edf0e"),e=e(),A(),e),q={class:"home_hots_precious"},J={class:"home_hots--tabs--shim flex_end mb_lg"},K=d(()=>s("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M9.3315 5.69705C10.2228 6.359 10.2228 7.641 9.33151 8.30294L2.80945 13.1465C1.66772 13.9945 0 13.221 0 11.8436V2.1564C0 0.77899 1.66772 0.00554585 2.80945 0.853451L9.3315 5.69705Z",fill:"currentColor"})],-1)),ee=d(()=>s("span",null,"\u64AD\u653E\u5168\u90E8",-1)),te=d(()=>s("span",{class:"gamepad-cursor"},null,-1)),oe={class:"row gutter_md"},se=d(()=>s("div",{class:"flex_center text3 lh_md fs_5 pb_xl"},"\u9646\u7EED\u66F4\u65B0\u4E2D\uFF0C\u656C\u8BF7\u671F\u5F85",-1)),ae=x({__name:"Precious",setup(e){const c=l(0),t=L([]),a=l(!1),u=l(0),g=l(""),k=R(),{homeHotsRef:V}=E(I());async function y(){var _;if(!a.value){a.value=!0;try{const i=await M();if(!((_=i.list)!=null&&_.length)){a.value=!1;return}u.value=i.media_id,g.value=i.title;const m=i.list.map((r,p)=>({info:B(r,p),bvid:r.bvid,achievement:r.achievement}));t.push(...m),a.value=!1,k.flashPageCursors(100)}catch(i){console.log(i),a.value=!1}}}W("HomeHotsPrecious",()=>{c.value===1&&a.value||(t.splice(0,t.length),c.value=0,y())});const b=N(()=>({bizType:4,bizId:String(u.value),bizTitle:g.value})),P=()=>{w({type:"ugc",fromSpmid:"main.home-page-hot.0.0.pv",mediaList:b.value})};return $(()=>{t.length||y()}),(_,i)=>{const m=z("v-button");return o(),n("div",q,[s("div",J,[t.length?(o(),f(m,{key:0,class:"play-all p_relative",type:"pink",onClick:P},{default:D(()=>[K,ee,te]),_:1})):H("",!0)]),t.length?(o(),n(v,{key:1},[s("div",oe,[(o(!0),n(v,null,T(t,(r,p)=>(o(),n("div",{class:"home_hots_preciousl--video col_3 col_sm_1_5 mb_xxl",key:r.bvid},[C(Z,{info:r,idx:p,mediaList:h(b),rootRef:h(V)},null,8,["info","idx","mediaList","rootRef"])]))),128))]),se],64)):(o(),n(v,{key:0},[a.value?(o(),f(O,{key:0})):(o(),f(G,{key:1}))],64))])}}});var be=Q(ae,[["__scopeId","data-v-899edf0e"]]);export{be as default};
