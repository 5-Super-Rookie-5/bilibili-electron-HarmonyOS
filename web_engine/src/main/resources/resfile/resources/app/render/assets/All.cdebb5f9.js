import{_ as y,g as C}from"./index.194c39d1.js";import{u as x,N as H}from"./App.c1beb0e9.js";import{g as h,p as B,k as f,M as V,aV as A,z as b,x as F,dL as N,l as R,Q as E,o,c as t,X as v,W as _,aj as g,Y as L,U as M,a0 as w,a as S}from"./index.f074ecef.js";import{a9 as z}from"./MoreFeedback.eac5fca1.js";import"./modulepreload-polyfill.b7f2da20.js";import"./ico_max_exit.f7f1ea61.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./index.14a3ec94.js";import"./style.2070e26d.js";import"./isUdf.1a76b9f4.js";import"./btn_devtools.06ffa497.js";import"./ico_pin.a6faa7a5.js";/* empty css               */import"./theme-map.a3b52bba.js";import"./index.733b73c2.js";const D=(p,i)=>{const a=e=>{p===e&&i()};return h.on("loadmore",a),B(()=>{h.off("loadmore",a)}),{noMore:f(!1),loading:f(!1)}},P={class:"home_hots_all pt_lg"},T=S("div",{class:"home_hots--tabs--shim"},null,-1),U={key:1,class:"row gutter_md"},j={key:2,class:"flex_center text3 lh_md fs_5 pb_xl"},se=V({__name:"All",setup(p){const i=A(),a=f(1),e=b([]),{noMore:l,loading:s}=D("HomeHotsAll",()=>m()),{homeHotsRef:k}=F(N());async function m(){var c;if(!(s.value||l.value)){s.value=!0;try{const r=await C({pn:a.value});if(a.value++,r.no_more){s.value=!1,l.value=!0;return}const u=((c=r.list)==null?void 0:c.map((n,d)=>z(n,d)))||[];e.push(...u),s.value=!1,i.flashPageCursors(100)}catch(r){s.value=!1,console.log(r)}}}return x("HomeHotsAll",()=>{a.value===1&&s.value||(e.splice(0,e.length),l.value=!1,a.value=1,m())}),R(()=>{e.length||m()}),(c,r)=>{const u=E("BiliVideoCard");return o(),t("div",P,[T,e.length?(o(),t("div",U,[(o(!0),t(v,null,L(e,(n,d)=>(o(),t("div",{class:"home_hots_all--video col_3 col_sm_1_5 mb_xxl",key:n.aid},[M(u,{info:n,"is-rcmd":"","img-lazy":"eager","disable-frame":"","disable-scale":"",rootRef:_(k),iid:"pc_app_hots_all","scroll-wrap":".home_hots",isFirstCard:d===0},null,8,["info","rootRef","isFirstCard"])]))),128))])):(o(),t(v,{key:0},[_(s)?(o(),g(y,{key:0})):(o(),g(H,{key:1}))],64)),_(l)?(o(),t("div",j,"\u5DF2\u7ECF\u5230\u5E95\u5566~")):w("",!0)])}}});export{se as default};
