import{M as w,x as C,aU as b,k as l,P as p,o as P,c as K,a as d,R as _,an as F,T as I,U as v,W as f,Z as D}from"./index.f074ecef.js";import{S as T,G as U}from"./index.194c39d1.js";const V=["placeholder"],E=w({__name:"SearchBox",props:{searchPlaceholder:{type:String,default:"\u641C\u7D22\u4F60\u611F\u5174\u8DA3\u7684\u5185\u5BB9"},isSpacePage:{type:Boolean,default:!1}},emits:["confirmSearch"],setup(n,{expose:S,emit:m}){const u=n,{spaceSearchKeyword:r}=C(b()),i=l(null),c=l(!1),x=()=>{c.value=!0},y=()=>{c.value=!1},g=s=>{s.key==="Enter"&&o()};let t=!1;const o=()=>{var a;if(t)return;t=!0;const s=e.value.trim();(a=i.value)==null||a.blur(),t=!1,m("confirmSearch",s)},e=l(""),h=()=>{e.value=""},B=()=>{h(),o()};return p(r,()=>{u.isSpacePage&&(e.value=r.value)},{immediate:!0}),p(e,()=>{u.isSpacePage&&(r.value=e.value)},{immediate:!0}),S({clearSearchKeyWord:h}),(s,a)=>(P(),K("div",{class:D(["page_searchbox",{search_active:c.value}])},[d("div",{class:"page_searchbox--input no_drag",ref:"inputWrapper",onKeydown:g},[_(d("input",{type:"text",class:"input-text text1",ref_key:"searchInput",ref:i,placeholder:n.searchPlaceholder,"onUpdate:modelValue":a[0]||(a[0]=k=>e.value=k),onFocus:x,onBlur:y},null,40,V),[[F,e.value]])],544),_(v(f(T),{class:"page_searchbox--icon-close cs_pointer p_center_y",onClick:B},null,512),[[I,e.value]]),v(f(U),{class:"page_searchbox--icon-search cs_pointer p_center_y r_md",onClick:o})],2))}});export{E as _};
