import{M as T,u as x,al as w,k as h,A,aB as B,S as f,x as P,dL as F,aV as V,P as E,l as K,Q as m,o as l,aj as i,V as p,a as n,c as D,Y as L,U as y,a2 as N,$ as M,X as I,bA as U,ar as $,g as j,w as q}from"./index.f074ecef.js";import{k as G}from"./App.c1beb0e9.js";import{u as Q,a as W}from"./index.194c39d1.js";import"./MoreFeedback.eac5fca1.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./style.2070e26d.js";import"./btn_devtools.06ffa497.js";import"./index.733b73c2.js";import"./modulepreload-polyfill.b7f2da20.js";import"./ico_max_exit.f7f1ea61.js";import"./index.14a3ec94.js";import"./isUdf.1a76b9f4.js";import"./ico_pin.a6faa7a5.js";/* empty css               */import"./theme-map.a3b52bba.js";const X={class:"i_wrapper p_relative"},Y={class:"home_hots--tabs flex_start ps p_absolute"},z=n("span",{class:"gamepad-cursor","data-tp":"liveUps"},null,-1),J={class:"home_hots--content h_100 w_100"},ve=T({__name:"HomeHots",setup(O){const u=x(),k=w(),r=[{key:"1",label:"\u7EFC\u5408\u70ED\u95E8",route:"HomeHotsAll",meta:{loadmore:!0}},{key:"2",label:"\u6BCF\u5468\u5FC5\u770B",route:"HomeHotsSeries"},{key:"3",label:"\u5165\u7AD9\u5FC5\u5237",route:"HomeHotsPrecious",meta:{loadmore:!0}},{key:"4",label:"\u6392\u884C\u699C",route:"HomeHotsRanking"}],o=h(r[0].key),_=A(()=>r.find(e=>e.key===o.value));Q({spm_id:f.homeHot,pageName:"HomeHot"}),B("pageSpmId",f.homeHot);const{resetScroller:H}=G(".home_hots");W(".home_hots");const d=h(),{homeHotsRef:b}=P(F()),g=V(),C=()=>g.flashPageCursors(),v=e=>{const t=r.find(a=>a.key===e);if(t){if(u.name===t.route)return;k.push({name:t.route})}},S=()=>{var e;(e=_.value.meta)!=null&&e.loadmore&&j.emit("loadmore",_.value.route)};return E(o,e=>{v(e)}),K(async()=>{var a;u.path.startsWith("/page/home/hots")&&(H(),v(o.value),b.value=d.value),await q();const e=(a=u.query)==null?void 0:a.key,t=r.some(c=>c.key===e);e&&t&&(o.value=e)}),(e,t)=>{const a=m("v-button"),c=m("router-view"),R=m("Scroller");return l(),i(R,{ref_key:"homeHotsRef",ref:d,class:"home_hots page_scroller pt_lg h_100 p_relative u_select_none",onLoadMore:S,onScroll:C},{default:p(()=>[n("div",X,[n("div",Y,[(l(),D(I,null,L(r,s=>y(a,{class:"mr_sm p_relative","active-pink":"",key:s.key,type:"tab",active:o.value===s.key,onClick:Z=>o.value=s.key},{default:p(()=>[N(M(s.label)+" ",1),z]),_:2},1032,["active","onClick"])),64))]),n("div",J,[y(c,null,{default:p(({Component:s})=>[(l(),i(U,null,[(l(),i($(s)))],1024))]),_:1})])])]),_:1},512)}}});export{ve as default};
