import{_ as F,f as B}from"./index.194c39d1.js";import{B as I,ab as S}from"./MoreFeedback.eac5fca1.js";import{M as C,o as e,c as a,$ as x,aj as d,W as u,aa as T,S as $,x as v,dL as w,aV as N,k as p,z as D,b3 as E,l as H,a as c,U as k,X as g,Y as y,Z as V,a2 as R}from"./index.f074ecef.js";import{u as A,N as z}from"./App.c1beb0e9.js";import{I as P}from"./ico_tips.762d2c8c.js";import"./modulepreload-polyfill.b7f2da20.js";import"./ico_max_exit.f7f1ea61.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./index.14a3ec94.js";import"./style.2070e26d.js";import"./isUdf.1a76b9f4.js";import"./btn_devtools.06ffa497.js";import"./ico_pin.a6faa7a5.js";/* empty css               */import"./theme-map.a3b52bba.js";import"./index.733b73c2.js";const j={class:"ranking_card p_relative"},L={key:0,class:"ranking_card--badge order_1st"},O={key:1,class:"ranking_card--badge order_2nd"},K={key:2,class:"ranking_card--badge order_3rd"},M=["textContent"],W=C({__name:"RankingCard",props:{idx:Number,info:{type:Object,default:()=>({})},rootRef:{type:Object}},setup(t){function _(r){T({type:"ogv",seasonId:r.sid,fromSpmid:`${$.homeHot}.pv`})}return(r,i)=>(e(),a("div",j,[t.info.order===1?(e(),a("div",L)):t.info.order===2?(e(),a("div",O)):t.info.order===3?(e(),a("div",K)):(e(),a("div",{key:3,class:"ranking_card--badge order_th",textContent:x(t.info.order)},null,8,M)),t.info.type==="video"?(e(),d(u(I),{key:4,info:t.info.videoInfo,"is-rcmd":"","img-lazy":"eager","disable-frame":"","disable-scale":"",iid:"pc_app_hots_ranking","scroll-wrap":".home_hots",rootRef:t.rootRef,isFirstCard:t.idx===0},null,8,["info","rootRef","isFirstCard"])):(e(),d(u(S),{key:5,onClickBangumi:_,info:t.info.bangumiInfo,"img-lazy":"eager","disable-frame":"","disable-scale":"","scroll-wrap":".home_hots",rootRef:t.rootRef,isFirstCard:t.idx===0},null,8,["info","rootRef","isFirstCard"]))]))}});const G={class:"home_hots_ranking"},J={class:"home_hots--tabs--shim"},U={class:"home_hots_ranking--tips"},X=R(" \u6392\u884C\u699C\u6839\u636E\u7A3F\u4EF6\u5185\u5BB9\u8D28\u91CF\uFF0C\u8FD1\u671F\u7684\u6570\u636E\u7EFC\u5408\u5C55\u793A\uFF0C\u52A8\u6001\u66F4\u65B0 "),Y={class:"home_hots_ranking--filter flex_row flex_wrap w_100"},Z=["onClick"],q=c("span",{class:"gamepad-cursor","data-tp":"rankingItems"},null,-1),Q={key:1,class:"home_hots_ranking--content pt_lg row gutter_md"},pe=C({__name:"Ranking",setup(t){const{homeHotsRef:_}=v(w()),r=N(),i=p(!1),o=D({activeTypeIndex:-1,list:[]}),{kvSDK:b}=v(E()),m=p([{name:"\u5168\u7AD9",tid:0,slug:"all"}]),h=async()=>{if(!i.value){o.list=[],i.value=!0;try{o.list=await B(m.value[o.activeTypeIndex]),i.value=!1,r.flashPageCursors(100)}catch(s){console.log(s),i.value=!1}}},f=s=>{s===o.activeTypeIndex&&o.list.length||(o.activeTypeIndex=s,o.list=[],h())};return A("HomeHotsRanking",async()=>{o.activeTypeIndex!==0?f(0):h()}),H(()=>{(async()=>{const s=JSON.parse(await b.value.get("app.rank")||"[]");s.length&&(m.value=s)})(),f(0)}),(s,ee)=>(e(),a("div",G,[c("div",J,[c("div",U,[k(u(P)),X])]),c("div",Y,[(e(!0),a(g,null,y(m.value,(n,l)=>(e(),a("div",{key:n.slug,class:V(["home_hots_ranking--filter--type text_center cs_pointer p_relative",{"is-active":o.activeTypeIndex===l}]),onClick:te=>f(l)},[R(x(n.name)+" ",1),q],10,Z))),128))]),o.list.length?(e(),a("div",Q,[(e(!0),a(g,null,y(o.list,(n,l)=>(e(),a("div",{class:"home_hots_all--video col_3 col_sm_1_5 mb_xxl",key:n.aid},[k(W,{info:n,idx:l,rootRef:u(_)},null,8,["info","idx","rootRef"])]))),128))])):(e(),a(g,{key:0},[i.value?(e(),d(F,{key:0})):(e(),d(z,{key:1}))],64))]))}});export{pe as default};
