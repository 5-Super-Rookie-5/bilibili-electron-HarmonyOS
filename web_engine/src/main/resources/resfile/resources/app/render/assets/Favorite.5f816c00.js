import{k as V,s as I}from"./App.c1beb0e9.js";import{_ as P}from"./FolderMediaCard.1999fd20.js";import{F as M}from"./FolderMediaCardSkeleton.2b4fce32.js";import{M as g,o as i,c as s,a as o,U as l,x as N,y as T,u as U,k as c,aV as W,P as z,l as D,Q as L,aj as h,a0 as u,V as y,$ as v,W as k,B as q,aa as j,w as G}from"./index.f074ecef.js";import{_ as S}from"./FavoriteVideos.81cfbb94.js";import{_ as K}from"./SearchBox.531653cb.js";import{u as Q}from"./useRouteScrollKeeper.7c392bad.js";import"./MoreFeedback.eac5fca1.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./style.2070e26d.js";import"./btn_devtools.06ffa497.js";import"./index.733b73c2.js";import"./index.14a3ec94.js";import"./ico_max_exit.f7f1ea61.js";import"./index.194c39d1.js";import"./modulepreload-polyfill.b7f2da20.js";import"./isUdf.1a76b9f4.js";import"./ico_pin.a6faa7a5.js";/* empty css               */import"./theme-map.a3b52bba.js";import"./mine.30873ffc.js";import"./SearchResultCount.6c930e27.js";const Z={class:"favorite_info_skeleton"},H={class:"favorite_info_skeleton--left"},J=o("div",{class:"favorite_info_skeleton--right"},[o("div",{class:"favorite_info_skeleton--title"}),o("div",{class:"favorite_info_skeleton--desc"}),o("div",{class:"favorite_info_skeleton--count"})],-1),O=g({__name:"FavoriteInfoSkeleton",props:{width:{type:Number,default:160}},setup(F){return(p,n)=>(i(),s("div",Z,[o("div",H,[l(M,{class:"mb_xxl",width:160})]),J]))}});const X={class:"app_favorite i_page_wrapper"},Y={key:0,class:"app_favorite--info i_wrapper"},R={class:"app_favorite--info--left"},ee={class:"app_favorite--info--right"},te={class:"app_favorite--info--title"},oe={key:0,class:"app_favorite--info--count"},ae={key:1,class:"app_favorite--info--desc"},re={class:"flex_start"},ie=o("svg",{width:"10",height:"14",viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M9.3315 5.69705C10.2228 6.359 10.2228 7.641 9.33151 8.30294L2.80945 13.1465C1.66772 13.9945 0 13.221 0 11.8436V2.1564C0 0.77899 1.66772 0.00554585 2.80945 0.853451L9.3315 5.69705Z",fill:"currentColor"})],-1),se=o("span",null,"\u64AD\u653E\u5168\u90E8",-1),le=o("span",{class:"gamepad-cursor"},null,-1),ne={key:1,class:"app_favorite--content"},ce={key:2,class:"app_favorite--search"},Ie=g({__name:"Favorite",setup(F){const{userInfo:p}=N(T()),n=U(),a=c("folder"),_=c(0),t=c(null),f=c(null),d=c(!1),C=W();V(".app_favorite--scroller");const{pageScrollRef:w,handlePageScroll:x,resetScrollPosition:$}=Q("MineFavoriteFolder"),B=e=>{x(e),C.flashPageCursors()},m=e=>{var r;a.value==="folder"?t.value={mid:e.upper.mid,type:a.value,id:e.id,cover:e.cover,title:e.title,desc:`\u521B\u5EFA\u8005\uFF1A${e.upper.name}`,count:`${e.media_count}\u4E2A\u5185\u5BB9 \xB7 \u521B\u5EFA\u8005\uFF1A${e.upper.name}`,mediaCount:e.media_count}:t.value={mid:e.upper.mid,type:a.value,id:e.id,cover:e.cover,title:e.title,desc:`\u5408\u96C6 \xB7 UP\u4E3B\uFF1A${e.upper.name}`,count:`${e.media_count}\u4E2A\u89C6\u9891 \xB7 ${q((r=e.cnt_info)==null?void 0:r.play)}\u64AD\u653E`,mediaCount:e.media_count}},A=()=>{const e=String(t.value.id||"");!e||j({type:"ugc",fromSpmid:"main.mine-collection.0.0.pv",mediaList:{bizType:a.value==="folder"?3:8,bizId:e,bizTitle:t.value.title}})},b=async e=>{var r;d.value=!!e,await G(),e&&((r=f.value)==null||r.doSearch(e))};return z(n,()=>{n.name==="MineFavorite"&&(t.value=null,_.value=0,$())}),D(()=>{var e,r;a.value=(e=n.query)==null?void 0:e.type,_.value=Number((r=n.query)==null?void 0:r.id),d.value=!1}),(e,r)=>{const E=L("v-button");return i(),s("div",X,[t.value?u("",!0):(i(),h(O,{key:0})),l(I,{class:"app_favorite--scroller page_scroller",ref_key:"pageScrollRef",ref:w,onScroll:B},{default:y(()=>[t.value?(i(),s("div",Y,[o("div",R,[l(P,{class:"app_favorite--info--cover",src:t.value.cover},null,8,["src"])]),o("div",ee,[o("div",te,v(t.value.title),1),a.value==="folder"?(i(),s("div",oe,v(t.value.count),1)):u("",!0),a.value!=="folder"?(i(),s("div",ae,v(t.value.desc),1)):u("",!0),o("div",re,[l(E,{class:"app_favorite--info--play-all p_relative",type:"pink",onClick:A,disabled:!t.value.mediaCount},{default:y(()=>[ie,se,le]),_:1},8,["disabled"]),a.value==="folder"?(i(),h(K,{key:0,class:"ml_sm",onConfirmSearch:b})):u("",!0)])])])):u("",!0),d.value?(i(),s("div",ce,[l(S,{ref_key:"favoriteVideoRef",ref:f,isSearchPage:!0,id:_.value,isActive:!0,owner:"",scrollWrap:".app_favorite--scroller",onUpdateInfo:m,searchMode:"currentFolder"},null,8,["id"])])):(i(),s("div",ne,[l(S,{type:a.value,owner:k(p)&&t.value&&k(p).mid===t.value.mid,id:_.value,isActive:!0,scrollWrap:".app_favorite--scroller",onUpdateInfo:m},null,8,["type","owner","id"])]))]),_:1},512)])}}});export{Ie as default};
