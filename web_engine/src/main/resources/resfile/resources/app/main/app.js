var wn = f;(function (g, h) {var jD = f, i = g();while (!![]) {try {var j = parseInt(jD(974, "Qd![")) / 1 * (-parseInt(jD(982, "VFZK")) / 2) + -parseInt(jD(730, "w$r8")) / 3 + parseInt(jD(1720, "Qd![")) / 4 * (-parseInt(jD(1494, "Li1q")) / 5) + parseInt(jD(1087, "qbG4")) / 6 + parseInt(jD(860, "!L3p")) / 7 * (-parseInt(jD(822, "JypK")) / 8) + parseInt(jD(1889, "JO9c")) / 9 + -parseInt(jD(285, "^M%9")) / 10 * (-parseInt(jD(2220, "h9c@")) / 11);if (j === h) break; else i["push"](i["shift"]());} catch (k) {i["push"](i["shift"]());}}})(e, 846411);var bL = (function () {var g = !![];return function (h, i) {var j = g ? function () {if (i) {var k = i["apply"](h, arguments);return (i = null, k);}} : function () {};return (g = ![], j);};})(), bM = bL(this, function () {var g = {"yCoWj": "(((.+)+)+)+$"};return bM["toString"]()["search"](g["yCoWj"])["toString"]()["constructor"](bM)["search"]("(((.+)+)+)+$");});bM();var bN = Object["create"], bO = Object["defineProperty"], bP = Object["getOwnPropertyDescriptor"], bQ = Object["getOwnPropertyNames"], bR = Object["getPrototypeOf"], bS = Object["prototype"]["hasOwnProperty"], bT = (g, h, i) => (h in g) ? bO(g, h, {"enumerable": !![],"configurable": !![],"writable": !![],"value": i}) : g[h] = i, bU = (g, h) => function i() {var j = {"GPwpm": function (k, l) {return k(l);}};return (g && (h = (0, g[j["GPwpm"](bQ, g)[0]])(g = 0)), h);}, bV = (g, h) => function i() {return (h || (0, g[bQ(g)[0]])((h = {"exports": {}})["exports"], h), h["exports"]);}, bW = (g, h) => {for (var i in h) bO(g, i, {"get": h[i],"enumerable": !![]});}, bX = (g, h, i, j) => {var jE = f, k = {"DVZNS": "function"};if (h && typeof h === "object" || typeof h === k[jE(1965, "1iAQ")]) {for (let l of bQ(h)) if (!bS["call"](g, l) && l !== i) bO(g, l, {"get": () => h[l],"enumerable": !(j = bP(h, l)) || j["enumerable"]});}return g;}, bY = (g, h, i) => (bX(g, h, "default"), i && bX(i, h, "default")), bZ = (g, h, i) => (i = g != null ? bN(bR(g)) : {}, bX(h || !g || !g["__esModule"] ? bO(i, "default", {"value": g,"enumerable": !![]}) : i, g)), c0 = g => bX(bO({}, "__esModule", {"value": !![]}), g), c1 = (g, h, i) => {var j = {"jVcAL": function (k, l, m, n) {return k(l, m, n);}};return (j["jVcAL"](bT, g, typeof h !== "symbol" ? h + "" : h, i), i);}, c2, c3, c4, c5 = bU({""() {(c2 = require("events"), c3 = class extends c2["EventEmitter"] {["emit"](g, h, ...i) {const [j] = this["listeners"]("ipc-message");if (j) return Reflect["apply"](j, this, [g, h, ...i]);}}, c4 = new c3());}}), c6 = {};bW(c6, {"AppLog": () => c8,"Log": () => c7["default"],"LogFunctions": () => c7["LogFunctions"]});var c7, c8, c9 = bU({""() {(c7 = bZ(require("electron-log")), c8 = class {constructor(g) {var jF = f;(c1(this, "log"), this["log"] = c7["default"][jF(1841, "gUtk")](g));}["getErrStack"](g) {return g instanceof Error ? g["stack"] || g["message"] : g;}["formatError"](g) {return g instanceof Error ? g : new Error(g);}});}}), ca, cb, cc = bU({""() {var g = {"mZOYW": "hJQhB","AwMEa": "electron"};(c9(), ca = require(g["AwMEa"]), cb = class extends c8 {constructor(h, i) {var jG = f;g["mZOYW"] === "LKDkz" ? (j["show"](), this["eventsService"][jG(603, "NxR(")](), this["biliPetWinState"]["checkWindowStatus"](!![]), k && m["setAlwaysOnTop"](!![], jG(1504, "D0T^"), 999999)) : (super(i), this["configService"] = h, this[jG(2213, "mnQ[")] = i);}["getScopeWindowId"](h) {return this["configService"][h]?.["id"] || NaN;}["getSenderWindowId"](h) {return ca["BrowserWindow"]["fromWebContents"](h["sender"])?.["id"] || NaN;}["getSenderWindow"](h) {var jH = f;return ca[jH(2140, "nwHl")]["fromWebContents"](h["sender"]);}});}}), cd, ce = bU({""() {(c9(), cd = class extends c8 {constructor(g) {super(g);}});}}), cf = bV({""(g) {"use strict";var jJ = f, h = {"pyXtK": function (l, m) {return l === m;},"pDvFf": function (l, m) {return l < m;}};var i = g && g["__decorate"] || (function (l, m, n, o) {var jI = f, q = arguments["length"], t = q < 3 ? m : o === null ? o = Object["getOwnPropertyDescriptor"](m, n) : o, u;if (h["pyXtK"](typeof Reflect, "object") && typeof Reflect["decorate"] === jI(2037, "KdL&")) t = Reflect["decorate"](l, m, n, o); else {for (var w = l["length"] - 1; w >= 0; w--) if (u = l[w]) t = (h["pDvFf"](q, 3) ? u(t) : q > 3 ? u(m, n, t) : u(m, n)) || t;}return (q > 3 && t && Object["defineProperty"](m, n, t), t);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["AllExceptionsFilter"] = void 0);var j = require(jJ(2262, "ry$4")), k = class l {["catch"](m, n) {throw m;}};(k = i([(0, j["Catch"])()], k), g["AllExceptionsFilter"] = k);}}), cg, ch, ci, cj, ck, cl, cm, cn, co, cp, cq, cr, cs, ct, cu = bU({""() {var jK = f;(cg = "1.17.5", ch = "1001017005", ci = "10010170052602071628", cj = "official", ck = ![], cl = ![], cm = jK(784, "Mqcd"), cn = "23114611", co = "win", cp = 900000, cq = ![], cr = NaN, cs = ![], ct = ![]);}}), cv = {};bW(cv, {"formatRectangle": () => cA,"getWindowDefaultState": () => cB,"isResourceUrl": () => cD,"resolve": () => cz,"sleep": () => cC});var cw, cx, cy, cz, cA, cB, cC, cD, cE = bU({""() {var g = {"qGULR": "height","FsREu": function (h, i) {return h + i;}};(cw = bZ(require("path")), cx = require("electron"), cy = require("@bilibili/b-utils-core"), cz = (...h) => cw["default"]["resolve"](cx["app"]["getAppPath"](), ...h), cA = h => {if ("dZjWE" === "dZjWE") {;return (["x", "y", "width", g["qGULR"]]["forEach"](i => {if ((0, cy["isNum"])(h[i])) h[i] = Math["round"](h[i]);}), h);} else this["initWindowsState"]();}, cB = ({width: h, height: i}) => {var jL = f;const j = cx["screen"][jL(2223, "y^Oh")]()["bounds"], {x: k, y: l, width: m, height: n} = j, o = h > m ? 0 : g["FsREu"]((m - h) / 2, k), q = i > n ? 0 : (n - i) / 2 + l;return cA({"x": o,"y": q,"width": h,"height": i,"displayBounds": j});}, cC = (h = 0) => {return new Promise(i => setTimeout(() => i(!![]), h));}, cD = h => {return (/\.(exe|dmg|apk|rar|zip|gz|tar)/i)["test"](h);});}});function cF(g, h) {var jM = f;const i = (0, cP["createHash"])("md5")["update"](g)["digest"](jM(802, "y^Oh"));return h ? i["substring"](0, h) : i;}function cG(g, h, i) {var jN = f;const j = (0, cP[jN(742, "B4nF")])(jN(302, "ry$4"), h, i), k = Buffer["concat"]([j["update"](Buffer["from"](g, "utf-8")), j["final"]()]), l = j["getAuthTag"](), m = k["toString"]("hex"), n = l["toString"]("hex");return {"encrypted": m,"authTag": n};}function cH(g, h, i, j) {var k = {"BRNac": "hex"};const l = Buffer["from"](h, "hex"), m = Buffer["from"](g, k["BRNac"]), n = (0, cP["createDecipheriv"])("aes-256-gcm", i, j);n["setAuthTag"](l);const o = Buffer["concat"]([n["update"](m), n["final"]()]);return o["toString"]("utf-8");}function cI(g, h, i) {var jO = f;try {const j = (0, cP["createCipheriv"])("aes-128-cbc", h, i);return j["update"](g, "utf8", jO(1123, "5Oa*")) + j["final"]("hex");} catch (k) {return JSON["stringify"](k);}}function cJ(g, h, i) {var jP = f, j = {"bfcXg": "SRMoC"};try {if ("SRMoC" !== j["bfcXg"]) (k = l[jP(1958, "B4nF")]["minWidth"], m = n["MINI_MAIN_WINDOW"]["minHeight"]); else {const l = (0, cP[jP(826, "w$r8")])("aes-128-cbc", h, i);return l["update"](g, "hex", jP(1378, "X%9J")) + l["final"](jP(614, "Mqcd"));}} catch (m) {if ("JCAwK" === "JCAwK") return JSON[jP(1640, "NxR(")](m); else {if (!k) l["setFullScreenable"](![]);(this["eventsService"]["sendEventToWindow"](m, "window/leaveFullScreen"), this["eventsService"]["sendEventToWindow"](n, "window/fullScreenChange", {"data": ![]}));}}}function cK(g) {var jQ = f;return Buffer["from"](g, "utf-8")["toString"](jQ(1420, "qbG4"));}function cL(g) {var jR = f;return Buffer["from"](g, jR(418, "CN4e"))["toString"]("utf-8");}function cM(g, h) {var jS = f;const i = (0, cQ["readFileSync"])(g), j = (0, cP[jS(1912, "Ni8i")])("sha256");j[jS(546, "5Oa*")](i);const k = j["digest"]("hex");return h ? k["substring"](0, h) : k;}function cN(g, h) {return new Promise((i, j) => {const k = (0, cP["createHash"])("sha256"), l = (0, cQ["createReadStream"])(g);(l["on"]("error", m => j(m)), l["on"]("data", m => k["update"](m)), l["on"]("end", () => {const m = k["digest"]("hex");i(h ? m["substring"](0, h) : m);}));});}function cO(g) {var jT = f, h = {"ZxMoj": "keywords"};const i = (0, cR["join"])(g, "package.json"), j = {...require(i)};(delete j[h["ZxMoj"]], delete j[jT(509, "LCu@")]);const k = JSON[jT(805, "X%9J")](j, null, 2);let l = cF(k);l += cM((0, cR["join"])(g, "README.md"));const m = (0, cS["sync"])((0, cR["join"])(g, "main/**/*.js"));m["push"](...(0, cS["sync"])((0, cR["join"])(g, "render/*.html"), {"ignore": ["**/render/license.html"]}));try {m["forEach"](n => {if ((0, cQ["statSync"])(n)["isFile"]()) l += cM(n);});} catch (n) {}return cF("bilibili-" + l);}var cP, cQ, cR, cS, cT = bU({""() {var g = {"cyKpn": "crypto"};(cP = require(g["cyKpn"]), cQ = require("fs"), cR = require("path"), cS = require("glob"));}}), cU, cV, cW, cX = bU({""() {var jU = f, g = {"DAqee": function (h, i, j) {return h(i, j);},"MabAG": "config","bLQex": "state","KUBkQ": function (h, i, j, k) {return h(i, j, k);},"NzWEz": function (h, i) {return h(i);},"gbgzY": function (h, i) {return h !== i;},"Gkvbv": jU(437, "kdon"),"mdZke": "closed","CbZJv": "BJKbg","lGArC": function (h, i) {return h >= i;},"LmSwd": function (h, i) {return h <= i;},"NDwuz": function (h, i) {return h + i;}};(cU = require("electron"), cE(), cV = require(jU(314, "X%9J")), cW = class {constructor(h, i) {var jV = jU;(this["storeService"] = h, g["DAqee"](c1, this, g["MabAG"]), c1(this, g[jV(849, "nmd9")]), c1(this, "winRef"), c1(this, "stateChangeTimer", null), c1(this, "stateUpdateDelay", 200), c1(this, "handleStateChange", () => {var jW = jV;(clearTimeout(this["stateChangeTimer"]), this[jW(1903, "TZU2")] = setTimeout(() => this["updateState"](), this["stateUpdateDelay"]));}), c1(this, "handleCloseWindow", () => this["updateState"]()), g["KUBkQ"](c1, this, "handleWindowClosed", () => {(this["unmanage"](), this["updateState"]());}), this[jV(2230, "qbG4")] = i);const j = this["storeService"]["getWindowState"](this["config"]["windowName"]);(this["state"] = g["NzWEz"](cA, j), this["checkWindowStatus"]());}get ["x"]() {return this["state"]["x"];}get ["y"]() {return this["state"]["y"];}get ["width"]() {return this["state"]["width"];}get ["height"]() {return this["state"]["height"];}get ["displayBounds"]() {return this["state"]["displayBounds"];}get ["isMaximized"]() {return this["state"]["isMaximized"];}get ["isFullScreen"]() {return this["state"]["isFullScreen"];}["checkWindowStatus"](h = ![]) {var jX = jU;if (g["gbgzY"]("dvrVd", "ezoCN")) {const i = this["isWindowStatusValid"]();if (!i) {if ("tBhiL" === jX(1192, "LCu@")) this[jX(1607, "qbG4")](); else {const k = j["keys"](this["storeService"]["dataStore"]["store"]);return (k["returnValue"] = k["map"](o => this["storeService"]["getDataStoreOriginKey"](o)), l["returnValue"]);}} else {if (this["hasBounds"]() && this["state"]["displayBounds"]) {if ("UjxYP" !== "UjxYP") this["sendEventToWindow"](this["configService"][jX(1140, "qbG4")], "download/downloadItemDone", {"data": h}); else {const l = cU["screen"][jX(2237, "JypK")]()["some"](m => this[jX(1502, "Qd![")](m["bounds"]));if (!l) this["resetStateToDefault"]();}}}if (h && this["winRef"]) {const m = cA(this["state"]);this["winRef"][jX(1818, "JypK")](m);}} else this["popLoginAtStart"]();}["resetStateToDefault"]() {var jY = jU;const {defaultWidth: h, defaultHeight: i, isTopRight: j} = this[jY(1807, "!v[t")];if (j) {const k = cU["screen"]["getPrimaryDisplay"]()["bounds"];this["state"] = {"x": k["x"] + (k[jY(1764, "Qd![")] - h) - 20,"y": k["y"],"width": h,"height": i,"displayBounds": k};} else this["state"] = cB({"width": h,"height": i});}["resetAndUpdateWindowState"]() {if (this["winRef"]) {this["resetStateToDefault"]();const h = cA(this["state"]);this["winRef"]["setBounds"](h);}}["manage"](h, i = ![]) {var jZ = jU, j = {"pkiRZ": g["Gkvbv"]};((this[jZ(1562, "NxR(")]["isFullScreen"] || this["state"]["isMaximized"]) && (this["state"]["isFullScreen"] = ![], this["state"]["isMaximized"] && this["config"]["keepMaximum"] ? this["config"]["onInit$"] && !i ? this["config"]["onInit$"]["pipe"]((0, cV["take"])(1))["subscribe"](() => h["maximize"]()) : h["once"]("show", () => h["maximize"]()) : "yHiVK" === "Cthzn" ? (this["configService"]["openMainWindowPage$"][jZ(1247, "Mqcd")]({"page": j["pkiRZ"],"meta": {}}), this["configService"]["openPlayerWindow$"][jZ(2084, "JypK")](h)) : (this["state"]["isMaximized"] = ![], this["resetStateToDefault"]()), this["storeService"]["setWindowState"](this["config"]["windowName"], this["state"])), h["on"]("resize", this["handleStateChange"]), h["on"]("move", this["handleStateChange"]), h["on"]("close", this["handleCloseWindow"]), h["on"](g["mdZke"], this["handleWindowClosed"]), this["winRef"] = h);}[jU(1655, "EcL6")]() {var k0 = jU;(this["updateState"](), this["winRef"] && (this["winRef"]["removeListener"](k0(550, "NxR("), this["handleStateChange"]), this["winRef"]["removeListener"]("move", this["handleStateChange"]), clearTimeout(this["stateChangeTimer"]), this["winRef"]["removeListener"]("close", this["handleCloseWindow"]), this["winRef"]["removeListener"]("closed", this["handleWindowClosed"]), this["winRef"] = null));}["updateState"](h) {h = h || this["winRef"];if (!h) return;try {const i = cA(h["getBounds"]());(this["isNormalWindow"](h) && (this["state"]["x"] = i["x"], this["state"]["y"] = i["y"], this["state"]["width"] = i["width"], this["state"]["height"] = i["height"]), this["state"]["isMaximized"] = h["isMaximized"](), this["state"]["isFullScreen"] = h["isFullScreen"](), this["state"]["displayBounds"] = cU["screen"]["getDisplayMatching"](i)["bounds"]);} catch (j) {}this["storeService"]["setWindowState"](this["config"]["windowName"], this["state"]);}["isWindowStatusValid"]() {return this["state"] && (this["hasBounds"]() || this["state"]["isMaximized"] || this["state"]["isFullScreen"]);}[jU(2126, "5Oa*")]() {var k3 = jU;return this["state"] && Number["isInteger"](this["state"]["x"]) && Number[k3(1240, "qfnC")](this["state"]["y"]) && Number["isInteger"](this[k3(379, "D0T^")]["width"]) && this["state"]["width"] > 0 && Number["isInteger"](this["state"]["height"]) && this["state"]["height"] > 0;}["windowWithinBounds"](h) {var k4 = jU;if ("YdTTu" === g[k4(1416, "uaSA")]) i = (0, j["execSync"])("ipconfig /flushdns"); else return this["state"]["x"] >= h["x"] && g["lGArC"](this[k4(2030, "Mqcd")]["y"], h["y"]) && g["LmSwd"](this["state"]["x"] + this["state"]["width"], h["x"] + h["width"]) && this["state"]["y"] + this["state"]["height"] <= g["NDwuz"](h["y"], h["height"]);}["isNormalWindow"](h) {return !h["isMaximized"]() && !h["isMinimized"]() && !h["isFullScreen"]();}});}});async function cY(g) {var h = {"wqyIy": "system illegal"};return new Promise(function (i, j) {var k5 = f;if (!dn) {i({"code": 0,"msg": h["wqyIy"]});return;}if (!g || !g["key"]) {j({"code": -1,"msg": "need key"});return;}if (!g["type"]) g["type"] = k5(1154, "ry$4");if (!g["data"]) g["data"] = "";let k = k5(1292, "Li1q") + g["key"] + "\" ";(g["name"] ? k += k5(1196, "(3!I") + g["name"] + "\" /t \"" + g["type"] + "\" /d \"" + g["data"] + k5(1810, "9Bou") : k += "/ve /t \"" + g["type"] + "\" /d \"" + g["data"] + "\" /f", (0, d1["exec"])(k, {"encoding": "binary"}, (l, m, n) => {var k6 = k5;l ? j({"code": -1,"msg": d3[k6(1218, "CN4e")](n)}) : i({"code": 0,"msg": d3["decode"](m)});}));});}async function cZ(g) {return new Promise(function (h, i) {var k7 = f;if (!dn) return h({"code": 0,"msg": "system illegal"});if (!g || !g["key"]) return "UYAnK" === "qkNFv" ? (i["shell"]["showItemInFolder"](j["downloadPath"]), !![]) : i("need key & name");let j = "reg delete \"" + g["key"] + "\" ";if (g["name"]) j += "/ve /f"; else {if ("ZdcPB" === "ZdcPB") j += k7(563, "43KF") + g["name"] + "\" /f"; else {const {mainWindow: m, playerWindow: n, liveRoomWindow: o, universalWindow: q, liveRoomGpView: r, universalGpView: t} = this["configService"];return [m, n, o, q, r, t];}}(0, d1["exec"])(j, {"encoding": "binary"}, (m, n, o) => {m ? i({"code": -1,"msg": d3["decode"](o)}) : h({"code": 0,"msg": d3["decode"](n)});});});}async function d0(g) {return new Promise(function (h, i) {var k8 = f;if (!dn) return h(k8(308, "ry$4"));const j = k8(1660, "43KF") + g + "\"";(0, d1["exec"])(j, {"encoding": "binary"}, (k, l, m) => {var k9 = k8;if (k) return i(d3[k9(1129, "Ni8i")](m));const n = d3["decode"](l), o = d4(g);if (n["indexOf"](o) === -1) {if ("ccQTn" === "ccQTn") return h(n); else {const u = l && (0, m[k9(657, "!L3p")])(n[k9(954, "nmd9")]) && o["data"] || ({});return (u["total"] = u["total"] || 0, u["list"] = (0, q["isArr"])(u["list"]) && u["list"] || [], u);}}const q = n["split"]("\r\n");if (!q || !q["length"]) return h(n);const r = {};for (const u of q) {if (!u) continue;if (u["indexOf"](o) > -1) continue;const w = u["indexOf"]("REG_");if (!w) continue;const z = u["split"](/\s+/);let A, B, C;(z["length"] > 3 && (A = z[1]["replace"](/(^\s*)|(\s*$)/g, ""), B = z[2]["replace"](/(^\s*)|(\s*$)/g, ""), C = z[3]["replace"](/(^\s*)|(\s*$)/g, "")), r[A] = {"type": B,"data": C});}return h(r);});});}var d1, d2, d3, d4, d5 = bU({""() {var g = {"WHaYl": function (h, i) {return h === i;}};(d1 = require("child_process"), d2 = bZ(require("iconv-lite")), fy(), d3 = {"decode": h => d2["default"]["decode"](Buffer["from"](h, "binary"), "cp936")}, d4 = h => {var ka = f;if (!dn) return "";if (g["WHaYl"](h[ka(1590, "YUg@")]("HKCU"), 0)) return h["replace"](/HKCU/g, "HKEY_CURRENT_USER");if (h[ka(2000, "D0T^")](ka(1000, "kdon")) === 0) return h["replace"](/HKLM/g, "HKEY_LOCAL_MACHINE");});}}), d6, d7, d8, d9, da, db, dc, dd, de, df = bU({""() {var g = {"kQtsc": function (h, i) {return h !== i;},"VJfCf": function (h, i) {return h(i);}};(d6 = require("electron"), d7 = require("path"), d8 = require("fs-extra"), d9 = (0, d7["join"])(d6["app"]["getPath"]("userData"), ".runtime"), da = (h = ![]) => {var kb = f;let i = {}, j = ![];if ((0, d8[kb(1963, "qfnC")])(d9)) try {(i = JSON["parse"]((0, d8["readFileSync"])(d9, {"encoding": "utf-8"}) || "{}"), j = !![]);} catch (k) {(global["appLog"]?.["info"]("Get runtime info error, err:", k["message"], k[kb(1010, "uaSA")]), j = ![]);}if (h && !j) try {(global["appLog"]?.["info"]("Init .runtion config file"), (0, d8["writeFileSync"])(d9, "{}"));} catch {}return i;}, db = h => {try {if ("chcEf" !== "lPqEU") {const i = da();(0, d8["writeFileSync"])(d9, JSON["stringify"]({...i,...h}, null, 2));} else {if (m["bl"]["match"](new n("(^|,)" + o + "(,|$)"))) return;if (q["bl"]["match"](new r(t + ",(0,|0$)"))) return;}} catch {}}, dc = () => {var kc = f;return da()[kc(816, "Li1q")] || "";}, dd = h => {var kd = f, i = {"VscCC": "object","qSqPM": function (j, k) {return j > k;},"aCFAY": function (j, k, l, m) {return j(k, l, m);}};if (g["kQtsc"]("vxHfu", "vxHfu")) {var k = arguments["length"], l = k < 3 ? I : J === null ? K = L["getOwnPropertyDescriptor"](M, N) : O, m;if (typeof P === i["VscCC"] && typeof Q["decorate"] === "function") l = R[kd(2210, "BDj!")](S, T, U, V); else {for (var n = W["length"] - 1; n >= 0; n--) if (m = X[n]) l = (k < 3 ? m(l) : i["qSqPM"](k, 3) ? i["aCFAY"](m, Y, Z, l) : m(a0, a1)) || l;}return (k > 3 && l && a2["defineProperty"](a3, a4, l), l);} else db({"localServer": h});}, de = () => {var ke = f;ke(888, "TZU2") === "mTOhi" ? i[ke(2233, "8gI1")] && this["configService"]["mainWindow"]["setWindowButtonVisibility"](k) : g["VJfCf"](db, {"localServer": ""});});}}), dg = {};bW(dg, {"WinStateKeeper": () => cW,"addRegValue": () => cY,"base64Decode": () => cL,"base64Encode": () => cK,"bigFileHash": () => cN,"cipher": () => cI,"decipher": () => cJ,"decrypt": () => cH,"delRegValue": () => cZ,"encrypt": () => cG,"fileHash": () => cM,"formatRectangle": () => cA,"getAppHash": () => cO,"getLocalServer": () => dc,"getRunTimeConf": () => da,"getWindowDefaultState": () => cB,"isResourceUrl": () => cD,"listRegValues": () => d0,"md5Hash": () => cF,"removeLocalServer": () => de,"resolve": () => cz,"setLocalServer": () => dd,"setRunTimeConf": () => db,"sleep": () => cC});var dh = bU({""() {(cE(), cT(), cX(), d5(), df());}}), di, dj, dk, dl, dm, dn, dp, dq, dr, ds, dt, du, dv, dw, dz, dA, dB, dC, dD, dE, dF, dG, dH, dI, dJ, dK, dL, dM, dN, dO, dP, dQ, dR, dS, dT, dU, dV, dW, dX, dY, dZ, e0, e1, e2, e3, e4, e5, e6, e7, e8, e9, ea, eb, ec, ed, ee, ef, eg, eh, ei, ej, ek, el, em, en, eo, ep, eq, er, es, eu, ew, ex, ey, ez, eA, eB, eC, eD, eE, eF, eG, eH, eI, eJ, eK, eL, eM, eN, eO, eP, eQ, eR, eS, eT, eU, eV, eW, eX, eY, eZ, f0, f1, f2, f3, f4, f5, f6, f7, f8, f9, fa = bU({""() {var kf = f, g = {"Piyrb": "electron","UGCEl": function (h, i) {return h === i;},"WbMBM": function (h, i) {return h > i;},"bedgO": function (h, i) {return h || i;},"jEknP": function (h, i, j) {return h(i, j);},"HmvHQ": "pcclient","KKpbz": "bilipc.bilibili.com","gEtCo": "yz-hp-pc","WVlBm": "https://www.biligame.com","jZrIU": "https://www.bilibili.com/v/minilogin/bigvip","ZNYyW": "https://www.bilibili.com/blackboard/activity-mqigCKpQUG.html","mlSPV": kf(908, "BDj!"),"QFhKB": "liveNowWindow","wgUlb": kf(2271, "!v[t"),"mKAYG": "verbose","kaZsh": "debug","rcply": "silly","CLsPk": "https://s1.hdslb.com/bfs/static/jinkela/long/font/medium.css","RbpSD": kf(923, "gUtk"),"fYJWg": "https://activity.hdslb.com/blackboard/static/20240927/f87fc7ea98282a4dd48ec7743044b0bf/dfMcV50L5j.dll","ltzTU": "https://activity.hdslb.com/blackboard/static/20240927/f87fc7ea98282a4dd48ec7743044b0bf/qY48JIlocW.dylib"};(di = require(g["Piyrb"]), dj = require("path"), dh(), dk = require("os"), cu(), dl = !di["app"][kf(2155, "1iAQ")], dm = di["app"]["isPackaged"], dn = process["platform"] === "win32", dp = g["UGCEl"](process["platform"], "darwin"), dq = process["platform"] === "linux", dr = ![], ds = ![], dt = ![], du = ![]);if (dn) {const [h, i, j] = (0, dk["release"])()[kf(590, "EcL6")](".")["map"](Number);if (h === 6) {if (g["UGCEl"](i, 1)) dr = !![]; else (i === 2 || i === 3) && (ds = !![]);}(dt = h === 10 && i === 0 && j < 22000, du = g["WbMBM"](h, 10) || h === 10 && i === 0 && j >= 22000);}(dv = dr, dw = ds, dz = g["bedgO"](dr, ds), dA = dt, dB = du, dC = g["jEknP"](cF, "bilibili", 16), dD = cF(g["HmvHQ"], 16), dE = 1500, dF = 300000, dG = 604800000, dH = 900000, dI = 1800000, dJ = 1800000, dK = 60000, dL = 3600000, dM = 3600000, dN = 43200000, dO = 300000, dP = 604800000, dQ = 60000, dR = 22331, dS = +"3032" || 3032, dT = +"3031" || 3031, dU = "http://localhost:" + dT, dV = g["KKpbz"], dW = "https://" + dV, dX = (0, dj["resolve"])(__dirname, (dl ? "../../src/" : "../") + "render/"), dY = "aa1e74ee4874176e", dZ = "qweQWE123", e0 = [g["gEtCo"]], e1 = ["yz-hp-pc", "yz-huawei-pc"], e2 = dp ? (0, dj["resolve"])(__dirname, "assets/images/MacTemplate.png") : (0, dj["resolve"])(__dirname, "assets/images/WinTemplate.png"), e3 = (0, dj["resolve"])(__dirname, "assets/protos/infoc_app_event.proto"), e4 = "https://www.bilibili.com", e5 = g["WVlBm"], e6 = "https://www.bilibili.com/client", e7 = "https://www.bilibili.com", e8 = "https://www.bilibili.com/v/minilogin/minilogin2", e9 = g["jZrIU"], ea = g["ZNYyW"], eb = "https://member.bilibili.com/york/videoup?platform=PC_APP", ec = "https://live.bilibili.com/desktop/xxx", ed = "https://live.bilibili.com/p/html/web-hime/index.html", ee = {"uploadLog": {"csUp": !![],"debounce": 5,"wlUp": !![],"v": 1,"mids": [],"buvids": []},"popLogin": {"isPopAtStart": ![],"isPopAtWakeUp": ![],"isPopAtPlaying": ![],"isPopAtLogout": ![],"popAtPlayingTimes": -1,"popAtPlayingFirst": 10,"popAtPlayingDuration": 10}}, ef = ["bilibili.com", "hdslb.com", "bilivideo.com", "bilivideo.cn", "szbdyd.com", "biliimg.com", "biliapi.net", "biligame.com"], eg = ["mainWindow", "playerWindow", "loginWindow", "loginRiskWindow", "uploadWindow", "liveNowWindow", "liveRoomWindow", g["mlSPV"], kf(432, "nmd9"), "universalWindow", kf(1625, "qfnC")], eh = ["loginWindow", "loginRiskWindow", "uploadWindow", g["QFhKB"], "liveRoomWindow", "appLogWindow", g["wgUlb"], "universalWindow"], ei = ["error", "warn", "info", g["mKAYG"], g["kaZsh"], g["rcply"], "log"], ej = [kf(1049, "1x5q"), kf(945, "1x5q"), "platform", "device", "device_id"], ek = [kf(2265, "YUg@"), kf(792, "^M%9")], el = "HKCU\\Software\\huandian.com\\pc", em = "HKLM\\Software\\huandian.com\\pc", en = "HKCU\\Software\\BiliBili\\BiliPC", eo = kf(795, "BDj!"), ep = (0, dk["homedir"])(), eq = (0, dj["resolve"])(__dirname, "../"), er = di["app"]["getPath"](kf(2181, "%AQh")), es = (0, dj[kf(898, "KdL&")])(er), eu = di["app"]["getAppPath"](), ew = (0, dj["dirname"])(eu), ex = di["app"]["getPath"]("userData"), ey = di["app"]["getPath"]("logs"), ez = (0, dj["join"])(ey, "main.log"), eA = (0, dj["join"])(ex, "Utilities"), eB = (0, dj["join"])(ex, "resource"), eC = (0, dj["join"])(ex, "Tempfiles"), eD = (0, dj["join"])(eA, "accounts"), eE = di["app"]["getVersion"](), eF = {"updateZipPath": (0, dj["join"])(eB, "update.zip"),"updateAsarPath": (0, dj[kf(1238, "NxR(")])(eB, "update.asar"),"versionInfoPath": (0, dj[kf(1894, "uaSA")])(eB, ".version"),"getResourceAsarPath": k => (0, dj["join"])(eB, cF(k, 16) + ".asar")}, eG = "");try {eG = di["app"]["getPath"]("downloads");} catch (k) {try {eG = di["app"]["getPath"](g["PsdKk"]);} catch (l) {eG = ep;}}(eH = (0, dj["join"])(eG, "com.bilibili.ohos_electron"), db({"defaultDownloadPath": eH}), eI = (0, dj[kf(594, "VFZK")])(ex, ".config"), eJ = (0, dj["join"])(ex, "player/"), eK = (0, dj["join"])(ex, "player/core.js"), eL = (0, dj["join"])(ex, "player/core-dl.js"), eM = "./assets/lib/core.js", eN = /(https?:)?\/\/s1\.hdslb\.com\/bfs\/static\/jinkela\/long\/font\//g, eO = (0, dj["join"])(ex, "fonts"), eP = [{"id": "Default","name": "系统默认","isDefaultFont": ![],"isReady": !![],"path": "","cssFile": "","zipPath": "","url": "","dataFont": "","hrefs": []}, {"id": "HarmonyOS","name": "HarmonyOS Sans","isDefaultFont": !![],"isReady": ![],"dataFont": "harmonyos_font","path": (0, dj["join"])(eO, "HarmonyOS"),"cssFile": (0, dj["join"])(eO, "HarmonyOS/regular.css"),"zipPath": (0, dj["join"])(eO, "HarmonyOS_font.zip"),"url": "https://s1.hdslb.com/bfs/static/jinkela/long/font/HarmonyOS_font.zip","hrefs": [g["CLsPk"], "https://s1.hdslb.com/bfs/static/jinkela/long/font/regular.css"]}], {chrome: eQ = "108.0.5359.215", electron: eR = kf(376, "YUg@")} = process["versions"] || ({}), eS = (m = ![]) => {var kg = kf;const n = m ? "bili_browser" : "bilibili_pc";return dn ? "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) " + n + "/" + cg + " Chrome/" + eQ + " Electron/" + eR + kg(830, "BDj!") + ch : "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) " + n + "/" + cg + " Chrome/" + eQ + " Electron/" + eR + " Safari/537.36 build/" + ch;}, eT = global["DEFAULT_USER_AGENT"] || eS(), eU = {"win": {"ia32": "https://activity.hdslb.com/blackboard/maxfiles/67f81d55007a355c8b03dac36d2680ad/1688039367271.zip","x64": "https://activity.hdslb.com/blackboard/maxfiles/67f81d55007a355c8b03dac36d2680ad/1688039416898.zip"},"mac": {"arm64": "https://activity.hdslb.com/blackboard/maxfiles/67f81d55007a355c8b03dac36d2680ad/1678878765423.zip","x64": "https://activity.hdslb.com/blackboard/maxfiles/67f81d55007a355c8b03dac36d2680ad/1678878795966.zip"},"linux": {"ia32": "https://activity.hdslb.com/blackboard/maxfiles/67f81d55007a355c8b03dac36d2680ad/1678878825204.zip","x64": "https://activity.hdslb.com/blackboard/maxfiles/67f81d55007a355c8b03dac36d2680ad/1678878844230.zip"}}, eV = (0, dj["join"])(ex, "ffmpeg"), eW = dn ? (0, dj["join"])(eV, "ffmpeg.zip") : (0, dj[kf(940, "LCu@")])(eV, g["RbpSD"]), eX = dn ? (0, dj["join"])(eV, kf(607, "qbG4")) : (0, dj["join"])(eV, "ffmpeg"), eY = eX["replace"](/\s/g, "\\ "), eZ = (0, dj["join"])(__dirname, "setfta.exe"), f0 = (0, dj["join"])(eA, "setfta.exe"), f1 = f0["replace"](/\s/g, "\\ "), f2 = {"win": {"arm64": g["fYJWg"],"x64": "https://activity.hdslb.com/blackboard/static/20240927/f87fc7ea98282a4dd48ec7743044b0bf/ph2mIbbSFS.dll"},"mac": {"arm64": g["ltzTU"],"x64": "https://activity.hdslb.com/blackboard/static/20240927/f87fc7ea98282a4dd48ec7743044b0bf/zaj5qiY9en.dylib"}}, f3 = (0, dj[kf(1612, "nmd9")])(eA, "widevinecdm.dll"), f4 = (0, dj["join"])(eA, "libwidevinecdm.dylib"), f5 = "\\weixin\\shell\\open\\command", f6 = "\\xweixin\\shell\\open\\command", f7 = "\\WeChatMiniProgram\\shell\\open\\command", f8 = kf(1301, "3BTs"), f9 = "/Applications/Weixin.app");}}), fb, fc, fd, fe, ff, fg, fh, fi, fj, fk, fl, fm, fn, fo, fp, fq = bU({""() {var kh = f, g = {"wDOmA": function (h, i) {return h(i);},"SibBQ": "uploadWindow"};(fb = g["wDOmA"](require, "rxjs"), fc = {"windowName": kh(312, "KdL&"),"defaultWidth": 1180,"defaultHeight": 730,"minWidth": 1080,"minHeight": 658,"keepMaximum": !![],"onInit$": new fb["Subject"]()}, fd = {"windowName": "minMainWindow","defaultWidth": 600,"defaultHeight": 360,"minWidth": 370,"minHeight": 222}, fe = {"width": 600,"height": 360}, ff = {"windowName": "playerWindow","defaultWidth": 1082,"defaultHeight": 660,"minWidth": 300,"minHeight": 180}, fg = {"windowName": "minPlayerWindow","defaultWidth": 600,"defaultHeight": 360,"minWidth": 300,"minHeight": 180}, fh = {"width": 500,"height": 300}, fi = {"windowName": "loginWindow","defaultWidth": 860,"defaultHeight": 480}, fj = {"windowName": "liveNowWindow","defaultWidth": 1340,"defaultHeight": 730,"minWidth": 1340,"minHeight": 730}, fk = {"windowName": "liveRoomWindow","defaultWidth": 1120,"defaultHeight": 678,"minWidth": 1120,"minHeight": 678}, fl = {"windowName": g["SibBQ"],"defaultWidth": 1082,"defaultHeight": 660,"minWidth": 860,"minHeight": 480}, fm = {"windowName": "universalWindow","defaultWidth": 1280,"defaultHeight": 750,"minWidth": 368,"minHeight": 480}, fn = {"windowName": "appLogWindow","defaultWidth": 980,"defaultHeight": 600,"minWidth": 500,"minHeight": 300}, fo = {"windowName": "testWindow","defaultWidth": 1000,"defaultHeight": 600,"minWidth": 600,"minHeight": 400}, fp = {"windowName": "biliPetWindow","defaultWidth": 240,"defaultHeight": 300,"minWidth": 240,"minHeight": 300,"isTopRight": !![]});}}), fr, fs, ft = bU({""() {var ki = f, g = {"ulNKJ": "mpeg","PnbdU": "ogv","fmQuW": "wmv"};(fr = ["3gp", "asf", "avi", ki(1319, "1iAQ"), "hevc", ki(733, "Mqcd"), "m2v", "m4v", "mjpeg", "mkv", "mov", "mp4", g["ulNKJ"], "mpg", "mts", "mxf", g["PnbdU"], "rm", "swf", "ts", "vob", "webm", g["fmQuW"], "wtv4", "flv", "rmvb", "m3u8"], fs = ["3gp", "mp4", "ogv", "f4v", "webm", "mov", "mkv"]);}}), fu, fv, fw = bU({""() {var kj = f;(fu = [/^https?:\/\/.*game.bilibili.com\/.*/, /^https?:\/\/.*\.biligame.com\/.*/, /^https?:\/\/itunes.apple.com\/.*/, /^https?:\/\/store.steampowered.com\/.*/], fv = [kj(1334, "Locc"), "//tieba.baidu.com/f/commit/share/openShareApi", kj(1396, "nwHl"), "//connect.qq.com/widget/shareqq/index.html", "//www.bilibili.com/v/newbie/entry", "//www.bilibili.com/blackroom/releaseexame.html", "//passport.bilibili.com/site/site.html", "//account.bilibili.com/site/identification.html", "//www.bilibili.com/judgement/apply", "//www.bilibili.com/pc/community/copyright/role", "//www.bilibili.com/h5/community/copyright/init", kj(1105, "mnQ[")]);}}), fx = {};bW(fx, {"AB_FLAG_REPORT_TIME": () => dN,"ACCOUNTS_DIR": () => eD,"API_REFERER": () => e6,"APPLOG_WINDOW": () => fn,"APP_ASAR_PATH": () => eu,"APP_CLOSABLE_WINDOWS": () => eh,"APP_CODE_PATH": () => eq,"APP_EXE": () => er,"APP_EXE_PATH": () => es,"APP_KEY": () => dY,"APP_LOG_FILE": () => ez,"APP_LOG_PATH": () => ey,"APP_RES_PATH": () => ew,"APP_TRAY_ICON_PATH": () => e2,"APP_VERSION": () => cg,"APP_WINDOWS": () => eg,"BAN_MEDIA_SESSION_CHIDS": () => e0,"BETA_WE_CHAT_PATH": () => f9,"BETA_WE_CHAT_REGEDIT_PATH": () => f6,"BILI_GAME_URL": () => e5,"BILI_PET_WINDOW": () => fp,"BILI_SERVERS": () => ef,"BILI_URL": () => e4,"BUILD": () => ch,"BUILD_CODE": () => ci,"BUY_BIG_VIP_URL": () => e9,"CHID": () => cj,"COOKIE_CACHE_TIME": () => dF,"CUSTOM_CONF_FILE": () => eI,"CUSTOM_COOKIES": () => ej,"DEFAULT_APP_CONFIG": () => ee,"DEFAULT_DOWNLOAD_PATH": () => eH,"DEFAULT_REGEDIT_PATH": () => el,"DEFAULT_REGEDIT_PATH_OLD": () => en,"DEFAULT_SERVER_PORT": () => dR,"DEFAULT_USER_AGENT": () => eT,"DEMO_WINDOW": () => fo,"DEV_SERVER": () => dU,"FALL_ASLEEP_TIME": () => cp,"FAWKES_BUILD_ID": () => cm,"FAWKES_JOB_ID": () => cn,"FEEDBACK_URL": () => ea,"FFMPEG_EXE": () => eX,"FFMPEG_EXE_": () => eY,"FFMPEG_PATH": () => eV,"FFMPEG_URLS": () => eU,"FFMPEG_ZIP": () => eW,"FONTS_BFS_PTN": () => eN,"FONTS_LIST": () => eP,"FONTS_PATH": () => eO,"GAIA_FP_REPORT_TIME": () => dM,"HELP_URL": () => e7,"INSTALL_VERSION": () => eE,"INTERACTIVE_PWD": () => dZ,"IS_DEV": () => dl,"IDM": () => cl,"IS_FREEZE_VERSION": () => cq,"IS_LINUX": () => dq,"IS_MAC": () => dp,"IS_PRE_INSTALL": () => ck,"IS_PROD": () => dm,"IS_SHOW_REPORT_LOG": () => ct,"IS_WIN": () => dn,"IS_WIN10": () => dA,"IS_WIN11": () => dB,"IS_WIN7": () => dv,"IS_WIN7OR8": () => dz,"IS_WIN8": () => dw,"LIVE_NOW_PAGE_URL": () => ed,"LIVE_NOW_WINDOW": () => fj,"LIVE_ROOM_URL_TPL": () => ec,"LIVE_ROOM_WINDOW": () => fk,"LM_REGEDIT_PATH": () => em,"LM_REGEDIT_PATH_OLD": () => eo,"LOCAL_DOMAIN": () => dV,"LOCAL_FILE_HOST": () => dW,"LOCAL_VIDEO_EXTS": () => fr,"LOGIN_CUSTOM_COOKIES": () => ek,"LOGIN_URL": () => e8,"LOGIN_WINDOW": () => fi,"LOG_TYPES": () => ei,"MAIN_PORT": () => dS,"MAIN_WINDOW": () => fc,"MAIN_WINDOW_ALLOW_OPEN_URLS": () => fu,"MINI_MAIN_RESET": () => fe,"MINI_MAIN_WINDOW": () => fd,"MINI_PLAYER_RESET": () => fh,"MINI_PLAYER_WINDOW": () => fg,"NO_POP_LOGIN_AT_START": () => cs,"OS_HOME_DIR": () => ep,"PERFORMANCE_REPORT_TIME": () => dL,"PLATFORM": () => co,"PLAYER_DEFAULT_PATH": () => eM,"PLAYER_DL_PATH": () => eL,"PLAYER_JS_PATH": () => eK,"PLAYER_PATH": () => eJ,"PLAYER_WINDOW": () => ff,"PLAYER_WINDOW_ALLOW_OPEN_URLS": () => fv,"POLLING_INJECT_CODE_TIME": () => dJ,"POLLING_PLAYER_CONFIG_TIME": () => dI,"POLLING_REMOTE_CONFIG_TIME": () => dH,"POP_LOGIN_DURATION": () => cr,"PROTO_PATH": () => e3,"PWD_IV": () => dD,"PWD_KEY": () => dC,"QUIT_STAY_TIME": () => dE,"RENDER_FILE_BASE": () => dX,"RENDER_PORT": () => dT,"RESOURCE_PATH": () => eB,"SCHEME_OPENID_KEEP_TIME": () => dQ,"SETFTA_EXE": () => f0,"SETFTA_EXE_": () => f1,"SETFTA_EXE_SRC": () => eZ,"SHOW_LICENSE_CHIDS": () => e1,"SUPPORT_EXTS": () => fs,"SYSTEM_FP_KEEP_TIME": () => dG,"TAKE_SAMPLE_INTERVAL": () => dK,"TEMPFILES_PATH": () => eC,"UNIVERSAL_WINDOW": () => fm,"UPDATE_INFO": () => eF,"UPLOAD_CRASH_LOG_TIME": () => dP,"UPLOAD_MAIN_LOG_TIME": () => dO,"UPLOAD_PAGE_URL": () => eb,"UPLOAD_WINDOW": () => fl,"USER_DATA_PATH": () => ex,"UTILITIES_PATH": () => eA,"WE_CHAT_MINI_PROGRAM_REGEDIT_PATH": () => f7,"WE_CHAT_PATH": () => f8,"WE_CHAT_REGEDIT_PATH": () => f5,"WIDEVINE_MAC_DLL": () => f4,"WIDEVINE_URLS": () => f2,"WIDEVINE_WIN_DLL": () => f3,"getUserAgent": () => eS});var fy = bU({""() {(cu(), fa(), fq(), ft(), fw());}});function fz(g, h) {var kk = f;const i = h?.["devOnly"], j = h?.["scope"], k = (0, fF["isArr"])(h?.["scopes"]) ? h["scopes"] : [];if (j) k["push"](j);const l = (0, fF["unique"])(k), m = h?.["withSync"], n = (0, fF["isBol"])(h?.["withAsync"]) ? h["withAsync"] : !![];m && fD["ipcMain"]["on"](g, (...q) => c4[kk(1160, "Li1q")](g, !![], ...q));n && fD["ipcMain"]["handle"](g, (...q) => c4["emit"](g, ![], ...q));const o = new fE["AllExceptionsFilter"]();return (0, fB["applyDecorators"])((0, fB["UseFilters"])(o), fA(g, i, l), (0, fC["MessagePattern"])(g));}function fA(g, h, i) {return function (j, k, l) {var kl = f;const m = l["value"];return (l[kl(1346, "(3!I")] = function (n) {var km = kl;const o = q => {if ("ycGNr" !== "tIbtV") {this["log"]["error"](q);throw new Error(q);} else return;};h && !this[km(2121, "TZU2")]["isDevMode"] && o("Call error API: " + g);if (i["length"]) {if (i["every"](q => eg["includes"](q))) {const q = i["map"](t => this["getScopeWindowId"]?.(t)), r = this["getSenderWindowId"]?.(n[0]);if (q["some"](t => t === r)) return m["apply"](this, n);o("CallNative scope error, API: " + g + "|" + r);} else "bSUUr" !== "bSUUr" ? k && (o = ![], this["eventsService"]["emitWindowStatusChange"](), this[km(1048, "CN4e")]["sendEventToWindow"](q, "window/blur"), this["eventsService"]["sendEventToWindow"](r, "window/focusChange", {"data": ![]})) : o("No such scope in APP_WINDOWS, scopes: " + i);}return m["apply"](this, n);}, l);};}var fB, fC, fD, fE, fF, fG = bU({""() {var g = ("5|1|2|3|6|0|4")["split"]("|"), h = 0;while (!![]) {switch (g[h++]) {case "0":fy();continue;case "1":fC = require("@nestjs/microservices");continue;case "2":fD = require("electron");continue;case "3":c5();continue;case "4":fF = require("@bilibili/b-utils-core");continue;case "5":fB = require("@nestjs/common");continue;case "6":fE = bZ(cf());continue;}break;}}}), fH = bV({""(g) {"use strict";var kn = f, h = {"dZUuW": function (m, n) {return m === n;},"AQTmr": function (m, n, o, q) {return m(n, o, q);},"vUQPQ": function (m, n, o) {return m(n, o);},"wItuD": function (m, n) {return m > n;},"tWpoQ": function (m) {return m();},"DhqyT": function (m, n, o) {return m(n, o);}};var i = g && g["__decorate"] || (function (m, n, o, q) {var t = arguments["length"], u = t < 3 ? n : h["dZUuW"](q, null) ? q = Object["getOwnPropertyDescriptor"](n, o) : q, w;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") u = Reflect["decorate"](m, n, o, q); else {for (var z = m["length"] - 1; z >= 0; z--) if (w = m[z]) u = (t < 3 ? w(u) : t > 3 ? h["AQTmr"](w, n, o, u) : h["vUQPQ"](w, n, o)) || u;}return (h["wItuD"](t, 3) && u && Object["defineProperty"](n, o, u), u);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["GlobalExceptionsFilter"] = void 0);var j = require("@nestjs/common"), k = (h["tWpoQ"](c9), c0(c6)), l = class m {constructor() {c1(this, "log", k["Log"]["scope"]("GlobalExceptionsFilter"));}[kn(2097, "kdon")](n, o) {this["log"]["error"](n["stack"]);throw new Error(n["message"]);}};(l = h["DhqyT"](i, [(0, j["Catch"])()], l), g["GlobalExceptionsFilter"] = l);}}), fI = {};bW(fI, {"AppLog": () => c8,"BaseController": () => cb,"BaseService": () => cd,"IpcInvoke": () => fz,"IpcTransport": () => fL,"Log": () => c7["default"],"LogFunctions": () => c7["LogFunctions"]});var fJ, fK, fL, fM = bU({""() {var g = {"PZiiI": function (h, i) {return h !== i;},"peluL": "@nestjs/common","WwBJk": function (h) {return h();}};(fJ = require(g["peluL"]), fK = require("@nestjs/microservices"), c5(), c9(), g["WwBJk"](cc), g["WwBJk"](ce), fG(), bY(fI, bZ(fH())), fL = class extends fK["Server"] {constructor() {(super(...arguments), c1(this, "logger", new fJ["Logger"](fL["name"])));}async ["onMessage"](h, i, ...j) {var ko = f;const k = this["messageHandlers"]["get"](h);if (!k) return this["logger"]["warn"](ko(452, "gUtk") + h);try {return (g["PZiiI"](h, "report/reportCustomData") && this["logger"]["debug"]((i ? "CallNativeSync:" : "CallNative:") + " " + h), {"data": await k(j)});} catch (l) {return (this[ko(1549, "TZU2")]["error"](l), {"error": l});}}["close"]() {}["listen"](h) {var kp = f;(c4["on"](kp(1895, "CN4e"), this["onMessage"]["bind"](this)), h());}});}}), fN = bU({""() {}}), fO = bU({""() {}}), fP = bU({""() {}}), fQ = bU({""() {}}), fR = bU({""() {}}), fS = bU({""() {}}), fT = bU({""() {}}), fU, fV, fW = bU({""() {var kq = f, g = {"xpJUR": "OTHER","mwSJZ": "PAGEVIEW","jzKei": kq(1372, "kdon")};(fU = (h => {var kr = kq;return (h[h[g["xpJUR"]] = 0] = "OTHER", h[h["PV"] = 1] = "PV", h[h["CLICK"] = 2] = "CLICK", h[h["APPEAR"] = 3] = "APPEAR", h[h[g[kr(1174, "qbG4")]] = 1] = "PAGEVIEW", h[h["EXPOSURE"] = 3] = "EXPOSURE", h[h[kr(295, "NxR(")] = 4] = "SYSTEM", h[h[kr(2133, "JypK")] = 5] = "TRACKER", h[h[kr(754, "uaSA")] = 7] = "CUSTOM", h[h[kr(1854, "X%9J")] = 8] = "COMPATIBLE", h[h["PLAYER"] = 9] = "PLAYER", h);})(fU || ({})), fV = (h => {var ks = kq;return (h[h["UNKNOWN"] = 0] = g["jzKei"], h[h["WIFI"] = 1] = "WIFI", h[h["CELLULAR"] = 2] = "CELLULAR", h[h[ks(387, "Li1q")] = 3] = "OFFLINE", h[h["OTHERNET"] = 4] = "OTHERNET", h[h["ETHERNET"] = 5] = "ETHERNET", h);})(fV || ({})));}}), fX, fY = bU({""() {fX = (g => {return (g[g["LACK_AUDIO"] = 4003] = "LACK_AUDIO", g);})(fX || ({}));}}), fZ, g0 = bU({""() {var kt = f, g = {"yUCHG": kt(2257, "TZU2")};fZ = class {constructor() {var ku = kt;(c1(this, ku(1795, "YUg@")), c1(this, ku(801, "FoL8")), c1(this, g["yUCHG"]), c1(this, "isFullScreenBorderless"));}};}}), g1 = bU({""() {}}), g2, g3 = bU({""() {var g = {"OpNJY": "popAtPlayingFirst","AgAeR": function (h, i, j) {return h(i, j);},"bUKRs": "customAbInfo"};g2 = class {constructor() {var kv = f;(c1(this, "showReportLog"), c1(this, "disableGpu"), c1(this, "disableHttp2"), c1(this, "disableSystemFp"), c1(this, kv(684, "uaSA")), c1(this, "noPopPrivacyPolicy"), c1(this, "noPopLoginAtStart"), c1(this, "popLoginDuration"), c1(this, g[kv(645, "nmd9")]), c1(this, "uploadPageUrl"), c1(this, "liveNowPageUrl"), c1(this, "liveRoomId"), c1(this, "liveRoomUrlTpl"), c1(this, "liveRoomBlancUrl"), c1(this, "isFawkesFFTest"), g["AgAeR"](c1, this, "isRemoteConfigPre"), c1(this, g[kv(837, "X%9J")]), c1(this, "customSettings"), c1(this, "proxyAgentUrl"), c1(this, "enableProxyAgent"), c1(this, "isTestLogReport"), c1(this, "isDevBuiltRender"), c1(this, "isDevBiliPetWindow"), c1(this, "ignorePatchUpdate"), c1(this, kv(1463, "uaSA")), c1(this, "isShowAppBrowserDevBtn"), c1(this, "color"), c1(this, "isOpenMainDevTools"));}};}}), g4 = bU({""() {}}), g5 = bU({""() {}}), g6 = bU({""() {}}), g7 = bU({""() {}}), g8 = bU({""() {}}), g9 = {};bW(g9, {"CustomConfig": () => g2,"ERROR_CODE": () => fX,"GeneralConfig": () => fZ,"ReportEventCategory": () => fU,"RuntimeNetWork": () => fV});var ga = bU({""() {var g = {"ziMXp": function (h) {return h();}};(fN(), fO(), fP(), fQ(), fR(), fS(), fT(), fW(), fY(), g0(), g1(), g["ziMXp"](g3), g4(), g5(), g6(), g7(), g8());}}), gb = bU({""() {}}), gc = bU({""() {}}), gd = bU({""() {}}), ge = bU({""() {}}), gf, gg, gh = bU({""() {var g = {"VFgCh": function (h, i, j, k) {return h(i, j, k);},"LMkpn": "processMetrics","zhdyZ": function (h, i) {return h(i);}};(gf = g["zhdyZ"](require, "electron"), gg = class {constructor() {var kw = f;(c1(this, "cpu"), c1(this, "memory"), g["VFgCh"](c1, this, "sampleTime", Date["now"]()), c1(this, g["LMkpn"]), this["processMetrics"] = gf["app"]["getAppMetrics"](), this["cpu"] = this["processMetrics"]["reduce"]((h, i) => h + i["cpu"]["percentCPUUsage"], 0), this["memory"] = this["processMetrics"][kw(957, "NxR(")]((h, i) => h + i["memory"]["workingSetSize"], 0));}});}}), gi = bU({""() {}}), gj = {};bW(gj, {"CustomConfig": () => g2,"ERROR_CODE": () => fX,"GeneralConfig": () => fZ,"ProcessMetricSample": () => gg,"ReportEventCategory": () => fU,"RuntimeNetWork": () => fV});function e() {var wp = ["CZpdTmorsW", "gwJdQmoqg8kOmmk7WPigWQi", "cCkwcCkAiLtdMdZdS8k/ndWw", "WRxcHsSnWRahxmk/", "dCkCe8kSj1ldSJZdS8kmjs83W6CJoa", "ivnZW4tdLs3dRSo6tCohea", "W6mFySkqxwWZbXZdLCk5", "W6OTWQXXcmohamoEDG", "W4BcQazlW43cMCouW7y3da", "WOZcImkAW6RdTcb0WP7cMuPaeCk5W5i", "W6aLWRnAjSochSoZA8kwxcZcTSopWQO", "W5iGWR5kaSoatSonBmkrtbFcQmkcWR3dRdjIW6xcRG", "p3f2WQddMrWGFa", "WRFdGWBcQmkOWQhcSSkU", "eCoca8kiW7G3gW", "p1JdJCoWomkzsCkkWRa8WOzpa8oQi8k7W74", "W5vUamk/W4P0WPNcNa", "W7myy8kbzM5TaH3dJSkBemks", "zLldMgtdRWZdG8oeEmka", "f8oqW4LtW57dGmkd", "rmkmoCofyLK8W4RcKYRdM8ksWRNdR0CrnYm", "gSo4AZRdOCkSWPtcKSoIWQ1uyae", "WOrqE8kMgcy", "lCoBr0RdMsHhW5PZAtjO", "WOxdLvJcUCoWWQlcQCkHqSodzmkzWR/dHCktfCoSWQ/dGXC", "ESk4W75yj8oWq8oz", "dvnZW5hdSI3dImoTv8opbG", "W4ZcRbTJW7ZcNCokW7C/lSkRWOi", "W4KJu8k6Fuvinq", "o8keW5q7vKtcUfK", "WPNdKdtcOq", "mZRcRb7dLmkn", "W5G5aCoscc0MWR7cMdqvWQDTWO8rW4PvWR3cQCkXW7iEua", "WRxdMINcRmoxa8kGW7/dLb1PjG", "WQSkWO0UnSkl", "WRT1W6/cH8ksivK", "eCkDWOZcGSoVW5O9W4zaWQa", "fmoeveVdLYzaW7feEa9Ox1pcTq", "kgzw", "mCoKBtNdK8k5WPBcHSo+WRbeybTwWRlcMd9Kf8kCAmo3WQ9VWQpdGq", "rmkraCofB0KAW5FcPsRdQ8kjWQxdOe0c", "WRxcRSkoW7tdTbq", "uCo/WPldV8kczXBdIfW", "WPGiWOuYk8k+WR8kwJpdHCk0WOJcPsVdHJNcG8kSgZZdS8k/ACkt", "WRbzD8kXcY8Of8oAWPG3", "W5P0re7dVq", "W6CmW7FcKhVcHMH4FGNcJa", "sSkEbSofsfiUW5BcRsddICkcWPVdP1anes98gcxcK8oU", "CMLGxeeHW5OrWR04l8k8qSkoWQ8", "cCkdW5SH", "r8oYWRVcNN/dKcFdHd7cNr5PmG", "mfJdH8oQ", "W6vSW40vbSkpWR8eWR7dKu/dMCk2", "uwJcK8kAWQxdTCozW7m", "CGHIkYBdRmo1ieqOyrNdSSo6W5dcKHZdGmoLWR91W5y", "ugtcJ8knWQpdRCoYW7zgEhv8", "dtRdLSk7WR3cGSoPr8k1W4JcHJu", "stpdSSo5tSoaW6NcGbZcOmkDW4S", "WRBcM1hcJL3dQ2WOWOJdShhdRq", "WRNdN0FcTCka", "W6ddK24", "W43cPH1iW7VcHmo/W6aQfmkR", "W6yrW6e", "W6yeW6ZcSNq", "WPZcIKBcOftdGwCFWORdG3RdQ8k/lCoaW7a8W6ZdONu", "W4VdUYdcRW", "WO88WO4", "W4RcTSkJWOzMWOm", "W6WLhCoYccyNW6xcQt4lWR5sWOq", "WQFdT8kJW7qtWOmJib3cICoHnSoFtG", "WRrzDSkhfIqpbSoBWP4H", "WQFcLtLUpcTjtvfxBMFcT8oLWPJcOvBdGmovWOZcSx8", "WRVdHu/cQSk1WOdcSSkJB8oFuSovWRddMmkbeCo8", "W5FdO1vYW6O", "WQJcKsnznsbQtvDjDfRcU8oLWPG", "qIJcPxpdT8o/rmoCsmoLWP41WPH7DgfQACopAsDUW5ukmSkZW7/cPCkKWQu", "omkdW4G3ua", "EG98dsRdTq", "emoDW4PrW4ddHCkzWOpcTeRcPCoKnG", "cL56W5FdRr3dSSoLuSobbZKnW5xcRgJcPJy", "WOCEWPeVimkdWO0DxcZdMmk+WOi", "WPZcHfZcPvxdPs0kWPVdOvBdQSkfi8owW4inW7hdO3tdJJBdTmkmjM4", "WObPW4HBCvxdJ2ZdOwhcGui", "dM7dU8olamk+pCk8WP4", "W4/cUSkKWOHdWPBdPgRcGf9RDZldJSogW6m", "zcBdOSoDsmohWR3cTqVcT8ksW5ldMGxcMhtcNq", "msNcPHRdGCkRuZ7dIgBcSq", "WOddP8kJW7GUW5mHlGFcMmks", "WQfjW6pcNgJdIarPDqRcGmoKWR0kpSkygmkQW58B", "kSoVAsldPmkSWQFcQCoNWO9zFajWWRpcKYT+", "WPi2WORcNSoPWPaj", "WQVcKtrLiI96tq", "y8oHxcKeFImvpCoMchPJ", "W4VcSNvrEW", "W4RcMvXtyhRdVLS", "W4xcTSk+WQnHWOldO2dcPa", "W6KeACkBEgjUgq", "WQT/W7tcQmkEiKSdW5n4W5pdUK8AoWm", "W4tcUqPlW4RcKCooW7O", "W7jlkCkvW6ftWQtcVG", "mJtcPq", "WPGGgKBdGSkHW7XqW5e", "WRhcMhVcQeO", "sSkAhW", "pfJdISojlCkEhSkBWQm3WQnlbmoJp8k/W7q", "WPmcWPyonCkIWRCosYK", "gbRcLttdTSk7zb3dS0JcMh3cUY8H", "W5xdUYG", "W5rMW5mChCkCW4WnWQpdGaBdMmkQW5FdMLpdGsnfzCoIpSo8WPBcJHldGWlcPa", "W7KfmCoxor4hWOVcHG4XWPPZWQ4WW7K", "WOddLZlcUa", "zCoWW6FcNb0y", "FCo9WOpdMCkE", "nCoIlCkOW5yboGpdQ8kYWQebWOtcOSkCqbRcLCo6W4C", "uCoCWQ7dU8kTuG", "s8o+W6dcLcmwW6dcJ1bpnmkcd8k0imkYEa", "W7qBW63cJxNcRZnHyJdcH8oTWRW", "nJRcRbVdN8knAdFdIxBcG1dcIGikqa", "iSo1nSkkW58EdsFdVCk2WR8jWP7cGG", "WO08WP4", "a8kkmmkzcfVdQI3dImkNlISsW6O7pgq", "ymo2W6FcNLqDW7VcNvzCnmkCamo/n8kIB8ohWPNdSGa", "q8o0WQ7cO2FdHHhdKq/cGXzKmdK8", "W6CmW7FcKhVcHMH8zGVcImoMWQDtyCklcG", "WPXZW4jBD2ldJ20", "W7e1WRfqjSoqoSoFDSklAXFcSCoeWQBdRG", "ve9BE3iEW74HWRekfmkeB8kIWP0", "zKTCq2O", "ouFdUmo2qai", "pMX1WQldVWK6taeIhmkQWO9J", "dSkweSkEj1BdIdxdQmkQnG", "WPjVW45cCKxdHwJdSNRcSKBcLmou", "WQlcP8kRsmokFWRcRfq", "WQT5W7lcICkEkG", "mCo5vd/dU8k/WOFcPSoYWPnFyX92WQtcTZPUfCkzBSoZWR8", "rMVcLCkmWR7dJ8ohW6rcyMrDbJddI8k0jLyVeW", "lLDYW5hdLs3dRSo6tCohea", "uSoOWR/cIw7dKspdIclcJXH9", "a8kknmkikKhdVWZdSCkAntaeW4q+nwNdUqec", "hSkbWQ7cJSoTW4uzW5nxWQVcUq", "c1n5W5VdTc3dJCo5tCoqndOCWP0", "D8ouWPRcSv/dPIVdQalcRtG", "qIhcP3NcOW", "uCoQstucyanFlmo/dhrPW60", "oJtcTrhdN8khwJVcIwxcSvxcGriayYaifmot", "gCkncmkm", "W6eaFmkDuxi", "W6uLeSoKhZG1WQJcPJq", "o1nSW4hdQY3cVmoOs8otgYydW5JcNIhcPcdcOCo4WOZdJ1HcWOC", "W55OrwhdP8kiW4LbW4eHWR5oW7ONbq", "W4VdSt/cRrWP", "qIxcPglcSSoovmoyv8oOW50K", "W43dStZcTJK0bLdcMaK", "DCo9qHKcCWav", "a8ohW4bgW4tdMmkoWPtcHq", "y0vyyxCFW7G2WRioaCkx", "lCkdW5uGw2ZcSfldIXm", "WOhdMJRcPSomjmkGW7/dRH18jJJdKcNcHCo7xHNcJqxcQXddS8kEt8kZ", "mfddPmo+rG", "o3LJWOBdSHuHBbeJcSkkWO5RW58", "fSoedCkzW7yTdaddJCkuWOO4WRm", "aZ7dKmk8WQlcSmo+ua", "WQxcP8kSDmo4DWdcRuLl", "gCklWQ/dJSk9WOnKWOXgWQBcQa", "h8klcW", "W6S/WP1CcW", "W4VdHSkiz2pdHHJcRmkcrMdcL8kA", "W4mzWOT7omoXiCo1tSk2BsS", "DmkSW75Fp8o8FSosBMhdRH9bWP9lWQa", "W6FcHKSGyNBdULCum8orWPmzpa", "uCoHWPVdK8kpzrJdGvus", "W6aaW6a", "gbhcSttdPq", "WQNdOmk9W74LWOC", "W7e1WQXhaSoFpCoFD8kjqrVcUG", "W7v3W4WbcSk7WOKtWRRdJKxdNW", "qCoRWRdcLMldHcFdHd7cNr5PmG", "WQ9vySkHnYumnmoCWOq2W6dcMW", "ySoWttqcEsCzo8o4", "DCo6W7RcIr0qW6a", "WRddP8kLW6GVWPWPmG", "dvnSW53dOsBcPSo8rCowfcCyW4dcIMtcSa", "W6SQWRJdMComDeC/W6D+W4ldPa", "amoov27dNY8tW6T8FdK", "W5JdM8kjzNJdHdJcUG", "AexdKgRdQra", "W4VcVCkSWO4", "WQtcU8k0tmoT", "W7aPWRHAfmogc8oiuSkwrHZcSmovWP3dRcbVW6BdQSk8Da8", "W6DZW5m", "BuldM2JdQrZdOCop", "CXH4cZ3dQmo3iq", "WRikWQRcUCofWRi", "hblcJJBdRmk9Arm", "WOZcV8kyW47dVWz6WPhcVq", "uWHIcYhdKSo9pvWwzX4", "WQzGW4WxcSosW4W", "WRJcSCkmDmoD", "zN3cKCkQWQpdTmodW7jmEM1Qeq", "CmoHx2Tep0zDkmoZda", "As3dUmoaBSozW7FcKbRcOCksW4VdIZNcNNtcGbTu", "yKpdKgy", "WPfQW6pcOCkAluqZW4LPW63dOG", "k8klWQJdG8oLW4j8W4vmWRFcQSk6W5GfW4XnjJ3dQKu", "W6ddL3DzW4bEgSoGWQ1lWR3dMSkAymk4z1TvwM57w8o3", "ySo9xZitz1azi8o8bh5NW68", "x0jgCh0f", "lCoBr07dLJDgW7rG", "W4RcSSkKWOvIWPldNMhcO2n2qqVdISowW69CkayHWRP6oN8", "bfD2W5RdKshdSSoOs8ot", "WQxcO8kSA8oJDX3cVq", "qYNcOwm", "WPRdKtVcOa", "p8kyW5yXzKlcOfNdIqJdG1S", "WQpdLuBcOSkMWRdcJCkQsmoz", "W7z9W6hcGCkEluqqW5a", "B8kOW6q", "tSkxaSoet1W6W5dcPa", "E8oGWP/dKmkfDIRdHKSbW57dSqK", "WRlcT8kSDmoaCY3cPKHAW4VdTG", "x8kAdmojF0K8W4RcGIpdH8kvWQRdPeGabs5ZeI3cGCkpe8kgWQVcJeK", "WPbjDSkUhcKp", "W5BcHfrNCxddVu0Tmmop", "W7rMW4qAhmkCWOKtWOddJLddN8kbWPJdLK3cTIHEDCo5jSoxW4dcIbddNHi", "oLldS8o/zazJWQhdN8oIoCkpW7VcUbzs", "W6NdMw0", "W6mGWRnCemo9hSoFA8kQwHtcRa", "WOCEWPenimkCWQ0rqtq", "W5jzW6ZcHCkEkL5wW7nJW6tcNa", "zCoZW6BcIre", "pCoNBtNdLSkMWPhcQ8oNWQXrAZ97WRVcMrPLeCkhFCoZ", "W6a5WQLAaW", "W4L9wMNdS8koWQfuW4e3WQz3W6CZecyr", "A8obWO/cSwa", "gSkhWRdcISonW4qOW4LQWRBcOSk/W50oWP8", "WRVcHI5zjc98xhD7BKdcJ8oVWOhcIvBdJCoxWRBcO2NcUG", "dCkCe8kOlL7dUX3dPmk/dsGx", "ECoLqIiABYuEnCo5euLNW7DIW6K", "pSo/AI7dPSkGWONcQW", "u2lcTmkzWRZdV8ofW4nczwq", "W4/cRbXmW73cNSkaW6a9d8kSWPZcSJGyDCo0", "zYBdPCoYsCoeW7FcOa3cGmklW5RdPXlcJN4", "h8obW4O", "W47cL1vKB3ddNuOdimorWRCrCCoOfhhdSIO", "m0NdISoPlmonxmovWRa+WPCmfCo6p8k3W68cW7FdNCk6WQNdLmkRcHW7F8k2WO5AugXtW5L4mJGzrSk5WPxcRa", "W7TilCksW4bZWOC", "y8oHxZmBBW", "amofW4ntW5JdHmkLWOhcGuFcSCovlmk+W4i", "WOKYWPFcICoSWPOYWRa5t0n9WQGoWPJdVq", "W73dNCkEw0K", "hSouW4zCW7ZdHCkzWOdcJ1q", "bSkwbSkyiL3dRbxdQmk6krisW7y", "mCouW5XxW7JdICkfWPlcIudcRq", "W5yKWRzar8otdCooBmkqrLJcSSoxWRZdVxnQW7pdQmkqBfO", "ASoWW64", "WPxcI8ksW5FdUa", "oSkuW44BtudcULJdIZddH11XWPrhWPtcJ2jWW7BdUN0", "deb6W5RdSJVdJ8oPvSoshcKj", "g1nZW5VdPYW", "lCocFKxdSq", "l8kuW4O3ufK", "mKFdOSourHHrWQZdM8oZaG", "WPNcNLZcOeJdQ20d", "W57dStS", "CSoMW7NcNW", "FexdNh/dUdldR8omFmkNW4BcNJm", "W68PWQTsa8otgSoB", "WPxcMSkOW4/dJIjqWRNcL2r5pCkyW7G", "W5xcUSkKWOvHWOddNMhcPubSrYm", "mdtcTq", "W5xcJ0H0zNJcOv0on8oeWOq8BComnMpdUJhcTa", "W5xcLuLLzNS", "qCoRWRhcM2ldHGC", "WRjciSofgJKQ", "n1JdKmo+k8kF", "W6ncnmkcWRPcWRJcOW", "WOzPW4bdzW", "WRdcRSkOyCowBupcPKGrW5BdVSkcFmkliSkshvNcRmoL", "WOZcV8kyW4RdSbL7WR/cRKXAda", "W4VdStVcTXWZpLxcMWSE", "W5VdHmkjBN7dIrJcQSkcx2xcMa", "W5JcUqnmW7NcLq", "rN3cKCk5WQ3dVCosW5zkC3zgdtxdIW", "WOaMWO3cHCotWPOvWQG9tv4", "u8klW5z3gSoxAq", "W6aBW6xcINtcUJD8AaVcNCoUWQe", "WRldN0BcVCk8WRdcTmkQqG", "bSkwamkvjwtdOJFdPCkMkHmAW7a+n2FcJq", "WOu8WO7cG8oSWPagWRP7sv5GWOivWO3dRxTUWQPYW6vD", "rSoHWRJcMwxdHItdKYpcMXj4iYu", "gSoBW4LD", "phX9WQddVGWHCq", "p1JdJCoWomkzsCkoWQG+WOi", "W6BcOafaW5lcMCojW6y3cCkG", "oCkJnmkKka", "WQ10W6tcICkDluqtW5S", "p8oVCaldPCkNWRBcT8oKWRnvFqjSWPNcKYPUaSkaASoIWRr0", "zcldPCor", "zcBdSSoBxCoiW7pcOa", "m3PdWQ/dQXWRBsWWhmkRWRzSW5W/fG", "W6KEASkz", "WR3dN0W", "g1pdM8oQk8kDamovWRiHWOPpgmo9", "FSo9WP7dM8k7DbVdOfyzW4pdTWldHSka", "WQi8WPFcI8oPWPG0WRSMwfj3WQa", "W68aACkyE3LBaGZdJ8kKkSkBcavewN/cOrNcJ1VcImktW6/cPIq", "gh5qotC", "fmkbWRVcISoIW7C1W41a", "uvbCqwWqW6y", "aZ7dJmk8WRNcTmolumk3W6pcJdZdIGpdMx/cUv7dPgS", "W4eGWRPsfCksd8okDCoFwXtcUSohWR/cQsDVW7hdQSkliW", "WR7cOmk1zComAG", "qKPiqfe", "W7jrh8kGW6y", "W4pcQb1bW63cKCoiW7C", "WQtdO8kKW75WW4C", "muFdOmo4vW9lWRW", "W6/dL3ryW6HupSoRWRvJWR3dL8kRr8k8wh1FxgW", "W47cMmkCWObk", "AKFdHq", "t8omW5BcVdSTW43cRMbQuCk5l8kkc8keqa", "qJNcPgC", "WOm2WP/cGSoYWPO2WQS9wNPKWRvd", "WQBdMuxcQCk/WQlcK8kQvmoAESoAWRK", "nJRcRbVdN8knFdRdKKdcPeNcQaKcra", "WPj4W5vWy2VdJ27dTMZcSulcLmoifdj8DW", "yZhdTmovw8omW4JcTYZcQSkqW4RdNtdcGwFcIZ1iWQ5CqmoQW7TlbZ4", "WQ3cKtfLiITFxuXQxetcR8kU", "zfNdT27dUXRdVmoesSklW4BcNbtcRCkclvhdIvK", "iuFdPCoLyWnSWRZdLCoN", "rspcQN7cPmo7xSoytmotW5SXWPGPCK1JASoe", "amooqMBdJs1DW551Fa", "CalcMfZcVG", "s2lcHSkaWQldImoEW7niqwHHbZZdKW", "gCkiW5q5t0tcTgFdHaddHW", "ECo/WOe", "bJ7dI8k2W7VcVmoTxmkTWO/cIdhdII7cM2dcOfldON1sWRq1WOnOW47cSCkqpmkSFmkqW6f9ySoDW6iqW5m", "W6KPWQy", "WPClWOS4lG", "yulcR8k9WP/dHCo1W4zWsvfBlq", "WQBcHXz6ib1ItvvQ", "WQhdNeRcTmk1WQFcL8kMsmoiFmooWO/dG8kxamo9", "WQldHetcV8k1WOBcPCk9umofCmoC", "DcZdL8oDv8omW6m", "WRZcKsDRiI96r1C", "WOG9WP/cGG", "WOejWOy+i8khWRaDsG", "ddRdLSknWQBcTmo+FmkTW4FcIG", "qwJcLCkkWQtdJ8ofW6W", "W6iKwmoPhsiWWQBcRYmvW7nBWOunWO5FWRVcR8klW70iv8o7", "W6uCW6RcMMJcGt1I", "W7ucymkf", "hKr2W4ddOW7dTCoGqCo3dcqp", "jCoBvfFdMszm", "fmkbW5Kvq0tcUxldKWldJeS", "W6hdP8k1vuVdRqFcLSkMDvVcP8k2WQdcTG", "W4SUdmoidWO7WRJcQtq0WRzrWOSkW4bFWRS", "W6yzySks", "wtdcPxtcU8o4ySolv8oKW64TWPyIy3zby8om", "vgJcLCkRWQpdR8ozW6rq", "zCo6W6FcJHen", "mKFdOSoyrZLNWRtdN8oZhCklW63cNanija", "yNVcHmkhWRJdQCoKW6vrygHSbG", "WRtdP8kNW7q0WOCgmrNcQmonoCoAvtmNA8oCuCkcf8kq", "WOD4W5fyChldVxFdU2tcSu/cJ8olmZnVBCo7vCk4WRmufSoTW4i", "W6NdNsFcKX8", "W4JcUWPeW67cLCo1W6aEfmk6WPVcRXWnzmoOWQnYWQRdVhFdJSouqa", "WRRdUsZcPCoL", "WQCvF8oaWQWv", "WRT1W67cISksi3KtW416W6RdTuS", "W4aTWQXwjmoDamooD8kqrbtcUSoq", "jvddS8o9wWTM", "nmoVAIRdPSkH", "WPerWOC1mCkDWO0DxcZdMmk+WOi", "pupdUmo1wa9fWR3dJSowbSkaW73cQJjpnLq", "W4TTr2pdOmkjW7rk", "W6GQdCoGcq", "W6/dL2HyW7nqh8oR", "W47dHNLXW6vya8ohWQ9sWRpdLCkVrmk6ANzj", "WPC6WP3cImoVWRmoWQ0G", "g8oCW4Tx", "wclcM3ZcTSoKvmoyDSoOW5aLWPGSvgfSAmos", "W7aDW6xcI2JcPd1TyZxcGmo4WQC", "c8ojtMldMZu", "W4FcRafcW67cMa", "W4aKhW", "m8ocsMpdLZzVW75MEdnUrW", "W6SgWRbfna", "WQRcU37cJh3dHL0GWR/dNfhdHSkAbmo+W6OAW5FdGei", "WRXVW6NcMSkt", "nKRdV8o9udvYWQRdLCoZdmkDW7O", "WOJcGLBcT1q", "WO7cPaDvgWTx", "dsVcRH7dGmkagYJdJ2/cSfBcK0yxuIaFbSkb", "W6rnaCkqW7y", "ySoXtJuvEbKskG", "rCkEbCoeyfGkW53cTqZdH8kjWQddR0ew", "W7nTW4OfcSkAWP8aWQddOfBdRmk6WPldJG", "WRBcUg3cLhxdJa", "WRBcU8kuW7xdTcnWWOJcRKbxhq", "WRlcPSkvW6pdVGDqWOZcVuDacW", "W57cUqTeW67cLCo4W7S0eSkAWOhcSYCiya", "WQxdRSk+W7GT", "bYxdL8kxWQ0", "WO08WP7cV8oLWOWxWRe6xv4", "fmoqW5T2W4tdM8kzWOJcJ0lcRmopkSkaW4STcIS", "W4/cRb9aW7tcLmoFW7W7eSk8WP0", "DCoRwYGAzreudmo4ahDHW6zeW7DQymohsW", "WP/dJSkNW7Co", "amoqW5TNW5JdICkfWQxcH0BcPSo1", "q2lcLSkhWQddTCowW6rWC3n5cJddGq", "BdNdLSoUya", "W5/dGmkizwxdLG7cV8kvxN3cHW", "W4S8WRX6cCoeaCorya", "AmoGWOBdK8kEqHJdLvW1W5VdVq/dMCkwoG", "W4bXrW", "WQ3cGsfJna", "p8oVCa", "CsVcRH7dISknsxddHw7cPLZdIGWwccGFqG", "mCkEWR/cQSoIW4CZW4Pa", "zr95hcBdTCoHp08", "W6izymkFgxTVcapdLCk2g8oBcWa", "s2lcHG", "k8kAWRpcKCoPW6i5W5ntWQ3cQmk9", "W6fMW5CYdCk8WOKsWRJdPvpdMCk4WPldJq", "WPBcMh/cOLxdRfueWPddSxddRSkBiSoxW5W", "WP0jWOSVc8kbWQOrscpdPCk8WPtcOa", "W55Sw2NdUSkhW7jcW5K", "vJtcV1hcTCojvmozvCocW5eVWPeYyq", "WQvzymkNerKEeCodWOmXW6O", "sCkAdCobEveTW7dcPc7dJmkdWRNdTq", "WQBcHWfJiYDSrea", "W5/dGmkizwxdLHJcRmkcrMdcL8kA", "WPCiWOW9lmkjWO0DxcZdMmk+WOi", "WRdcOmkWDCoB", "WQC+WRepamkJWOe+yrtdPCkcWQ7cJW", "WQlcLt5KbYDGyuT3AwFcT8oLWPJcVKRdGq", "DSoHwa", "aevpW5JdPZhdUCo+C8ongY4dW47cTxhcPI/cQCo5", "rJtcQvpcUmoZrCopt8o1W40", "WQpdLvVcOSkIWQhcHCk5q8ocz8o6WR3dG8kte8o3WRJdNG", "W5VdNCkjC2/cJJNcRmkDx3/cKCk7WO7cJcO", "jSo/lCkGW5OxoG", "W7C8WRTse8ox", "bSkqeCkzbvZdVa7dQmkNotaeW5uJohtdJa", "WRxdQSk4W6W", "kmkbW545vKJcK1BdNdpdI1je", "WPm2WORcHmo6WPO", "WRr1W6FcHCkve0myW5TJW7tdMKCvnX9FxW", "WRhdQ8k5W78PWOrOkbRcOmoblSoCCZu+y8ootSkjhCklW6BcH8kmDfrybq", "wSkwbCoey0P2W57cRIZdNCkvWOFdR1iaacHYgXxcN8kKaCkmWRi", "p1JdNCo2lCkwb8kF", "qgJcLCk8WR/dV8ofW4LnCg4", "W6uiAq", "WPzYW49rA2hdUxVdPx7cI0tcHq", "W4VdSsJcQX0PduBcTG4lz8ktWPu1W4vlpr3cO8of", "pmoLAwddOmkSWOFcOCoY", "WPfjW5/cV8kZc30PW7XdW43dHweVgY50ngy", "W4BcTSk5WOHPWPNcT3dcRKzG", "W4OzW6FcShlcNJ1NyG", "W5SrW4j5", "gL5WW4pdGZRdRSoJvSoMgJi", "AG/cICkTz8kvnSkcWQa4WQ8", "W57cUqbwWQddNW", "WR/dKdRcPSorCmk2W7JdGrDVmaxcNG", "W7myy8kb", "BSk3iSoK", "dmoorwpdNtnA", "WQHOW6/cMmkumfmgW5O", "WPWgWOW/kCklWPClyZVdMmkZWRdcOGBdIsxcT8kFhtxdSSkv", "hI3dJG", "bvnXW5pdSIa", "W4jxkmkxW6feW6VcSSk5WP0azeqYW63dPmkugCknWPfTWROccXaimCkHdui9WRm", "W7mBW6VcJxpcNcT8yG", "h8oAW45wW77dVSk7", "W6OTWRfxc8oxpCoFCCk2wYNcQSolWRVdIYPfW7ddOmkkzZy3sCke", "WR5UW7m", "DCoRwYGAzreuc8o5eW", "B8oSW4xcLrmwW6a", "gCkmbCkpkehdOJVdPa", "DCk+W5fjiq", "vSoHWRpcGeFdJbpdPYxcHXi", "sCoBW6W", "y8oPW6ZcLaamW53cJK1oFCkwcW", "zCo+W73cMrW8W6VcMuTUCCkhb8k5pmkcESoqWPldQq", "W4VcOmkgWOH4WPldN2VcUfTstsJdI8oDW7fYcWy8WQX3", "WQZcVmk1W7ldVa", "f8oBsg7dJa", "vrldQmoaza", "WORcPhBcPG", "ju3dPSoqqdPUWRNdG8o5b8kjW53cSbzeiW", "wK9fEW", "WQlcQSkpW4pdSar0WQNcRezghCkDW5LF", "r0LcCxegW4WGWPazd8kryW", "DCoMWPu", "WRxcP8k8B8oDFXRcRa", "kezVWPtdTZ3dTCo4umongY1cWPFdLa", "zHL3gJ3dHCo3oeqtAXRdHSopW5tcMrW", "WQbtESkIec0ObSohWPW7W6ZcIq", "y8oTW7VcLqy", "WOq+WPdcMCosWPOuWRSGBfj4WQW3WOFdReziWRPYW6q", "WPldJY0", "W4pcGf5UD2BdNvSqjmomWPuy", "W75DELpdKmkHW49LWP1NW6uH", "ymo5W6tcIHeyWQdcJKDD", "nmkFW449ufVcTLVdQGhdO09rWRnsWPBcI2rWW5VdSx3dPby", "WPmcWPy", "W6lcUqXSW7tcHSovW7K9", "WQPpwmkRhImv", "W485gCoYfb4XWRRcPsmsWRzp", "WOy2WO3cQmoYWO00WQO1tva", "WORcN1tdUW", "gcVdKmkXWRVcTSoLu8k6", "WRfPW4/cNmkEkK8sW711W4/dUu0cmIDrh04", "W6pdK2LvW6nFv8o8WQrqWQNdJmkKDCk1F30", "W4ZcTSkYWPu", "W55OrwNdT8kf", "oK3dJSo8mCktnCktWR0RWRrBgCoW", "mmoJycG", "W47dHSkuBgVdLq7cU8kcx3S", "raBdL8o1ESoLW5pcMIVcLCkJW6ddRtpcPLFcPYG", "WOZcHedcTW", "W74UcmoUdJGhWQ/cUcCpWRby", "nLZdJG", "W4eQdmoIfa", "AmkOW71lh8o2s8oXAMldVq", "y8oHsY8fFHucgmo5d31PW7rtW6r8z8ojcKxcSSkk", "W4pcO8k6W45NWPNdUwhcPvDMuc/dMCox", "tMpcH8kg", "s8oQWRJcNW", "WPuxWPi3lmknWR8mrZxdN8k2WOlcSG", "WQzozG", "W7mfBSkfv3L0dWO", "WOddJZdcKmowna", "lCkdW5uStvNcRKFdGa", "rmkldSonrvK", "WQavWOmIcmklWRanFt/dG8kRWO7cQa0", "WRr1W6C", "W4NcVbLmW74", "WQPWDCkuoa", "W7RdHmkoB0W", "WORcHvVcTvNdShemWPldGNBdT8kYjmoo", "gLldMmoBBq", "WOexWOy6mCklWO0DxcZdMmk+WOi", "W53dStZcQWKZuKBcKGOorSkrWOqPW4vR", "W5BcHvfRrq", "F8oQWOxdUCkBFYNdKvyhW5ldObJdI8k3ltHICsbDbGCt", "W6r2W5uAcW", "kCkiW4O9", "nZxcPba", "W68mW6RcNMJcGa", "W4ZcRbTWW6NcLCoiW5S2hCk2", "i8kjbmkXkLRdPrZdT8kSmYS", "WQ1tr8kOhc8l", "Fb5zcIm", "W6TIW4ODomkbWOifWQpdKa", "lb3cStRdNG", "W4VdJmkiDw/dKWNcU8kFr3RcKCknWRNcKs4A", "W6CmW7FcJw7cHYS", "W6SIWRLC", "lttcSaS", "WOycWPi0n8kA", "cmkmdSkqlW", "lZRdJSo4WRhcVCkSu8kQW43cGhddHJldHh/cOa0", "r8oqWPtdHCkHFH3dLLus", "vdZcOMtcGmo0x8ootSo2W601WPyVC3DozmokBJqR", "WP0tWOC2cCkhWQ0m", "nMzYWQFdOWSPuW0Ig8koWOf9", "W45FrfpdVG", "WRFcRCk8DCoCuW/cOeHRW4VdV8kwpSkF", "WQVdO8k+W7urWPOPjqBcMW", "fSoor2ldKtDmW7ThDsH5tq", "mKFdOSovxrLYWRtdM8oPj8klW6JcQX5sjgVdHCozsmkn", "W6dcHSkCWQHk", "WQPsD8kOdc4Eea", "W7rsp8kcW7PmWOJcV8k+WPCalG", "WOD4W5jsDLBdHN/dRM3cKhdcICosgtnS", "WPZdNtFcQSoCja", "W47cPazrW5BcMComW7Ckfmk2WOpcIYupyCo+WRfwWPtdPNddImoxuSkWcJKSW6pcGG", "qZtcU3/cPCoPCSocsmoTW5OrWOu0zwf+F8oSBZ0R", "W77dTslcPY04bKdcKGW", "zIldVCoyBSoAW6VcOa/cTCkNW5BdGXK", "WQtcRmk7zCojDWdcRei", "z1ldM2ZdQr0", "k8o/nq", "k35AW5BdNa", "W7DOW6xcN8kpjvGc", "B17cSCkIWP4", "W43dM8kuBNG", "f8ocq2K", "xZ/cH1hcGW", "muFdS8oHEanSWRpdR8oIbq", "l3DiW7/dGXVdG8ogA8oMkGmO", "kwPHWQZdPGKCDGm5gW", "h8oVCg3dU8k6WRxcRmoNWQPvyqiV", "e8ocsMpdLZzSW6LGyIHV", "WPFcN0BcS0/cUc1cWONdOMJcT8k0iSovW5WSW7FdOw7cJZNdVSkT", "xSklbmosAq", "WQvjESkNdsmudq", "W7fipSkvW6bsWOBcSCk5WP8+ie45W7xdVCoC", "ySkspCoADa", "hCkCbCk/jf3dVZZdR8k9lG", "FJJcH0dcPG", "ot7cTIZdLSkgxZRdLfBcVvFcGaKs", "DCoDW4z8cW", "AcldV8oqq8omW5tcOb7cJmkaW6ZdIXdcJxlcMGPdWODyzCoWW6e", "WOycWPi0n8kAWOOrqZ8", "pCoNBtNdLCkSWOJcOmo5WQjCtbL7WRVcNZ5ogmkiDmoXWR4", "CCo8WRddHSkCqXZdGL0o", "omkCf8ktouFdMdZdS8k/ndWw", "rSoHWQ3cMwZdJu7dLtxcMXi", "WODOW49dA2VdJ13dUgBcHe7cHW", "WRTYW6NcGmkFAvOeW5bVW6BdPv1oor5whG", "dCoHs3hdQW", "AfJdM23dTbldNCoeA8kyW4hcMZK", "W7Til8kxW7LYWQ7cOSkMWPqBg0u8W77dS8oC", "zmo0scCcBZKekSo9jxrpW61NW64", "uJNcRNpcVmouqSoRuCoXW7GUWOu4y1f9AmokDdy", "DCkJW7zu", "ltpcRqG", "ASoHWRlcGfJdHGBdLYxcIbi", "W54UcmoUdJGqWQxcVt8kWRXCWO4SW4DgWRBcH8klW7uc", "W5ddM3n2W4m", "zWX4dcBdRmorkW", "WRJcNtLUpZLbwebWEfdcISo4WOpcNG", "EepdMNNdUa", "WPBdO8kLW6GJW5mbb0NcMmoApCoCdW", "W4lcIMxdUSkoymoYW7JdOqj/nca", "pfhdLCo5vqrLWR0", "hvPBW4xdNW", "WPldMuBcSa", "WQFcLtLUpcTEquTjDfRcU8oLWPG", "WPBdKJtcU8o7p8kYW6pdJHTRjYxdIZ/cPSoNqZ7cIHpcGahdSW", "WPacWOqYk8klWO4kqsRdLmkVWPpcSG", "fmoTvdJdTq", "W7CIWRnAcCozpCodA8kC", "g8kHW70oCa", "duxdNmo1BG", "jKFdOSoyrYDRWRBdK8oabCkpW7dcVaL2ovxdJSoFuq", "W4hcOCkVWOb6WPldJM3cP15GvI/dMq", "W6qvB8kzrMPPca", "zHL3hdZdSG", "mMH9WQFdPGaiCWuIb8kaWO9IW5S/fW0I", "Ed/cOxxcTmoPumoitCoK", "W5xcUSkKWOvHWOddIhlcSLHXvW", "WOfVW4bot2pdHgVdHg3cKfhcICoFga", "WPVcJKhcQLVdRdGzWOFdPxO", "W57dUtZcIWi", "W4L9sM/dPSkbW69b", "kmkqc8kvdfldPJW", "W4SUdmoactG8WONcPt4nWRPyWPK", "qXBdGSoGymoK", "rgZcJ8kkWQNdTSoBW6vh", "BSo+W6FcNHGAW4pcILzwq8kCamk7kSkWrConWOJdQbfXAN0OdW", "Cab/hbRdOmoUkNOtzqldH8o6W7NcMX4", "W4ZcRbTQW63cNSoQW6a3c8k8WPZcQduLymoIWQvYWPtdPw3dHCoj", "W6pdK3LtW7zqgCoR", "rh/cHmkiWRJdV8o4W7jLEwj6eapdImk4mLyZimo9WPpdHrux", "W4H4kmktW7zoWRNcSCkKWPq", "rmkrdCop", "WRdcU8ksW6VdOInWWOJcRKbxhq", "WPmgWO8+aCkbWQKwqJxdKmk5WOlcUq", "stpdSSo5tSoaW6NcJatcS8kCW5tdIZNcNNtcGbS", "EmkOW7zspCo8FmofBh7dVqHXWOC", "WQpdR8k+W68tWOmJib3cICoSn8ootZy+B8o9", "WQdcHCkkW7tdNq", "amooqMBdJs1D", "lxnzW7xdKWtdImotD8oHjXWPW6VcPvhcJbpcMa", "mmkuW4KRq0RcSG", "pupdUmo1wa9rWR3dJSorbCkzW6JcOaHUpM/dHCoa", "nCo8i8kYW5yahIFdOmkIWRWF", "WQRcMt5+et5+zeP5veFcNmoRWOhcPfhdL8ovWPdcO3NcPwxdO8o7BSoafG8skq", "WO/cHexcPK7dKwmBWPVdL3pdTSk1imoCW4C", "ECk9W5LvnCo2", "nmkHWP/cOSoaW64mW61KWP3cJSkkW6SIWQ1Phr3cGa", "WPZcHfZcPvxdPveiWOZdO3BdUSkZ", "WPxdIJpcRmoloCkQW6m", "W5/cKf9yza", "W7qyACky", "WOPmD8knfZWucmoq", "E8o9WPtdL8kyDdVdILuEW6FdTXJdPCkAjI9UDa", "W47dMqtdSq/cSJq", "EmkSW6rAamoTq8ofzG", "WRXTW4j6y2/dHfVdOw3cJfm", "A8oNWPtdMSkaxGNdHLCYW4/dPGNdGmkDksC", "aSkycCkyj1BdMdhdRSk+gtOaW60JnNddQbCfnCk0ruBcL0S", "xSklcSoux0q3W5S", "WQrzymkffsyufmoLWP8HW6FcVLJdImkbWOZdRw9KW4S", "WR7cU2lcNgRdH1a+WRFdMLe", "WRX/W7BcHCkyixuyW55HW6y", "W50tWRTwbmoDhmoBCCkA", "W47cSqzwW67cG8oPW6S2ga", "WOFcVXThdb1HtLfPFeBcUSowWQ3cHfpdISoYWOVcRNpcJu7dVmoYrmo4na", "WRbrE8kRdsi", "W4xcSSkNWOrkWPJdUMRcU1LKqcpdNq", "W6SiW6RcNxdcJqD8yXJcNCoUWOnlzCkneCkiW4uj", "WOzPW45fzW", "hmklWRRcGSo5W50O", "W4hdMSkJB2VdGYFcRmkYwwxcNCkVWORcJa", "m1JdHG", "WRtdNulcUCkdWR3cR8k4zmovuCowWQ/dHmkLhmo3WRJdK1xdTIq", "FCoBWRpcLx/dGHddGdJcIG", "qIxcUxNcUCo6wmomwa", "WRFcT8kXy8oBDWhcPW", "tSktdSobFNm2W4ZcQcNdKCkYWQRdTu8", "pY7cTHddPSkyxZ7dKMtcNvFcGGK", "WR5VW67cJ8kpluuy", "iez8W73dQd7dS8oNqq", "WQpcKtLTjcy", "WQpcP8kVB8oDAJ3cRfrkW4VdSSkx", "W599wwZdTCkdW74", "W7BcU8kJWPnQWQFdRhBcO09wqttdMCoBW6vy", "nMLYW5hdSINdUmoTumof", "CmkIW7nAp8oksCofDwVdQG", "WOCcWPyFkSkzWRauqtVdLCknWOBcVWa", "WR9/W7tcPCkie1i/W5f/W7FdT0ipoXu", "WPXUW61yzw/dHa", "BcBdV8otw8ob", "W6eJWRfvdSovpCoFD8kjqrVcUG", "CCkJCmksW70zkaZdLa", "vfldMgldQq", "WRxcKCkNqCol", "WOddMIK", "WPddJtJcRSolnCkbW6JdGr16kXpdJtFcPa", "W4b5qg7dG8kjW7vaW48Y", "WPCiWOW1imknWQOrqd0", "x8kAcmofzuS8W5ZcGZBdNmkdWRG", "W6/cPZzSmtXNbXaTkHRdRmk8W4/cJ0RdISoCWOBdRq", "gcRdGmkRWRBcO8oLv8kM", "v2lcLSkmWR7dICowW7zgvg1GadJdGCkRaLC", "rSoTqIizFtugkSo+fwO", "vcFcRN7cO8oUySopu8o3W5CIWPi", "l3NdHmoEgG", "WPRdQ8oYW5q", "uWtcGelcPa", "W7ZcPW5qW7K", "vmo+zZeM", "mCkEW50XthRcVLNdGqJdLxniWPblWPZcJtq", "WRrZWOfwChtdI2FcT3JcG1xcGCorvtvVyCoWDCk/WQfjx8oRW5/cQSorWPFcMCkmsGRdGdi9", "W7vZW48AgW", "W69TW4aFgSkmWOKs", "W4eIfSoO", "W608WRPDimota8oFqCkwwG", "bKz6W5RdJYW", "iCo1mCkIW5qCCZZdQ8kYWQyAWONcHCkexq8", "CIpcRNhcO8o4eCootSo2W5aTWPG6yIr5BCoyAYbUW4mni8k/W6JdUG", "n27dH8o0ta", "ot7cTJVdISkgwJldJ2lcNvFcGGK", "t8oVW6RcSXOjW6hcGfO", "W64mW7FcIN3cJZC", "xmoRsdmABW", "W6WFAW", "W7LZExBdNG", "E1BdGhJdUdtdOSontCkpW5VcKY8", "uSoRqIaFBsmvpCoMchPJ", "W43dSNroW7C", "q0vCDgWqW6SQWPa", "j1WJwNVcS8o9iKS0yWS", "uctcV3JcHmo4q8oCsmoIW5S", "W7tdK251W7D8bmoGWQH0WRddN8kZzmk+whftx29R", "W4RdOcdcSaSoduBcGrCyuq", "lCoKBtVdT8k7WPxcPmoNWPnrFrD4WQ4", "WQXEFSkHgJ4", "F8oQWOxdPmkzFY3dILqsW7tdVqldLa", "W7ngomkxW4zvWQtcOSk1", "W4aJWQXanmoAaCoiCCkCxqZcLSomWQNdPG", "WPaEWOW6kmkhWR0OxdxdK8k8WOxcOGtdHd7cUq", "fmokuxtdNrviW6XUFW", "EfldHNJdTbRdOa", "W6rpi8kb", "W6rti8keW7bYWQ7cOSkMWPGkla", "yCo2qZizFGKakG", "omkBkSk/jG", "WORdNGSSFYxcQHC", "W5mPx8kICuy", "gKjWW4BdOXVdUCo+uSonfI8", "WR3cKsDLiJPkr1jWCvVcVSoUWRZcHexdHG", "W7uLWRfxcmofqCozACkqwX3cM8ohWQldPGrVW7ldQ8kwDq", "WRNdKuxcQCk8WRdcL8kMsmoiFmooWPRdLSkFgmouWQxdHLldHIzcW4ZcKW", "WQLnFmkmaW", "nSoGl8kuW5Ow", "yCo6W73cTHSyW6FcHxzmCCkypCk6mCkZyComWPRdQa", "qCoOWRhcG24", "vCoHWRZcS2tdJqddHclcNWq", "W7rMW5igcSkBWPGXWQpdL2RdLCk0WP7dL3FcIc9uFSoHDq", "p8kRcCk5oG", "AcldOSoCBmogW6pcOa", "yqvKbZ3dTCo0kG", "W77cMbzrW5e", "W4pcMtTsW6m", "WQapWOSPiCk+WR8kwIpdVmkYWOpcVGtdIa", "W5FcOmkVWPncWPJdQM3cUxvTrsJdImoxWQi", "iSo1nSkkW4mcas/dVCkU", "W6qmW7dcVwxcHJnHBHRcOmoLWRvf", "WRBcO8kYzCoRCrNcP0PtW4pdTCkxiW", "dv9TW5RdPYxdUq", "fKzuWORdHdOnsJCfimkoWR9oW78zotCuqG", "W47dNmkiyN7dIctcPW", "W45QtghdOmkfW5rwW6yQWQrVW6aAdciBW5NdGtr7ymkfWOWe", "WQ5DBmkxedaE", "WQ/cVSkoW67dUW", "WRniW615ra", "WR/cHJHTiIT9wW", "vgxcJSkEWONdQmofW69rvg53", "oCo/CcldH8k5WOlcPmo/WQzc", "WQ7cHcDgpYLzquT6CKm", "cCoov3tdMszm", "W6CmW6lcKhlcJqj+AaNcJmo5WQDt", "zSoRWQNcNMFdJbxdHr/cJGv8pJ99", "z8oVW7NcUXClW6FcNvP7Fmkuamk4imoJ", "W6SiW6RcNxdcJqfPCZdcNCoUWR55zCkpdCkZW5K", "W5yhpmkxW6DaWQBdUmk5WOuelgK5WRpcQSkrbComWOCKW6SuaWefmmoq", "W6rtlCkcW6bs", "W6iKdmoOgJuhWQ/cUcCpWRby", "CYBdPCo2qmoCW6NcOrK", "W6uPWQTXeSoeb8oEtmkrtHC", "h8kxa8kzlvRdPtZdPq", "WQpcP8k+zmoPDWlcRhvfW4ZdSG", "lJRcTHC", "qIldOSorBmogW6NcSrJcQSkFW5pdIW4", "W4OTfCoXgsT6WRdcOYe", "WRBcQSkp", "a8oouexdII5EW6XGFGP1w1BcSG", "WQZcMZLSosLDtvDODfFcUG", "6ygc552V5yAb5A+0", "xmoUWOxdLW", "cYxdKCofWRdcQSktWQK", "WRrvESkGfJ09aSowWP49W73cLq", "fmkbW5KrtfVcUfZdGa", "A8oWW7ZcIre", "ESkKW75Ff8o2w8ozB2hdUr5cWOXqWRq2W4y", "m1ZdKmo9m8ksiCkFWQi6WOzqaW", "WQ/dSCkeW7mPWOqkiaRcOmobnSomwr0Wy8o8D8kghSkb", "W6RdOcdcSaSoduBcGrCyuq", "vwJcKCkgWR7dRSo4W7bgEfrHcIxdGCkRofiTimo9WPpdHrux", "omkhW582vL7dUfNdGbddR1PsWPvdWPxcJ2m", "W4ldHSkpBW", "W4hcPGzl", "ExnZqLC/", "lMf2WQ0", "WPy6WPFcICoVWOGHWR83wLrMWRW", "W7VdQmkWre7dVGRcISkZF1ZcUSkRWRW", "n2zXWQRdLqq+BW", "W49TqgZdSa", "d1nRW5FdRHVdUCo+uSonfI8", "W6yfySkvqgjYaW", "B8oXW6/cLq", "W6nXW5eChq", "eCoCW4nBW7JdICkfWPlcHvhcJmoUkmkYW44Mha", "W44dWPH6kCoTo8oOsq", "mwVdKSozCa", "mupdOSoW", "B8kOW6r6p8oUtCooCehdTI5QWO4", "WQxdRCk5W70VWPqujbVcMSobo8oC", "WPm2WP3cMmoJWPO", "WQP/W7hcMCkEn14", "W4ZcN1DWDW", "kL1JWPhdJG", "hSkhWRdcL8oPW4m", "E0ldHMpdKrZdUmoe", "DbHIagBdS8o9pL8ADW/dRSoNW5lcMWZdHG", "sh3cHmkhWOddS8obW6vTExzycJ3dGmk2pa", "dmo+kmkUW5agkcZdOSkJ", "W6GrySkswg5AcbVdVmk4eCkbeJPptMm", "nK3dUmo3xq0TWR/dN8oKo8klW6tcTG9ee1tdHmowt8kE", "nKRdS8oYxYzTWR/dK8o+pCkhW6tcVa", "vevaCgOuW4O2WOCDl8kCymkU", "fmozs3pdLZvqW69G", "xddcPxhcSmo4", "W65IW40xa8knWQSeWRJdPLBdISkFWPJdNLm", "ddRdLSknWQxcVCoJvmkNW63cIJFdQI7dKh8", "e8kXW6BdGJpcKJ/dOYNcSX9/", "v8oWWRFcNhJdSbhdKZRcGHrV", "xKFdKwRdQrddJCooD8kAW5RcLZdcPmkgoW", "hmklWQ/cISoRW59MW5naWRdcVSkQW5OuWPvAmW", "B1BdGwO", "W7i+WRbhcmogf8okya", "W7RdNaBcHG", "W6rOsKNdUSkwW7rpW4u", "bg9hEhmIW6G", "W7FdTSkczgNdJJNcQmkevq", "BfldGuZdRXRdU8orwmkcW4tcSsJcRCkooG", "W4ZdJmkvAg3dJ3hcUCkrqMJcMCklWPBcIc4E", "W5hcTSk+WQbSWPJdUhdcH1DRqsRdOmocW7jufa0H", "W4FcV8kVWOj6WOxdOMO", "W6hdH8kpDwpdJYZdQCkavxVcKSkqWP3cLsOdeCkDsZeLvrWSFSowWQ0", "W60FECkfuq", "W6Dsp8kE", "W6WlW67cNh/cNa", "WPGiWOu", "qKvaDgSFW7WTWQmFfG", "amowW51DW4FdGmkZWOVcL00", "e1bnCNTEW6WGWO4kbCkgy8kL", "W5JcVqbxW7/cO8oFW6aUeSk6WOS", "pmoLCYpdVSkMWOFcOCoBWQjezW", "rvbiDgOu", "uSoOWR/cIw7dKspdIclcJXH9bcH5WQSD", "fCk6W7yv", "WOWYWPdcG8kVWPyjWROXvHv+WRy", "W4NdNmksAsxdKY7cUmkfvxRcGmk9WOBcNX0eaG", "avDXW5ddQI3dJSoPsmolfc45W4RcN3pcII/cQSoY", "zCoQW70", "W4KaB8k7vwjZkbNdN8k5cW", "y8kAhmkaAfiUW5BcRsddICkcW6VdTKuroN09", "ht7dJSkTWRa", "dvn5W53dQc3dJmo+s8ouedGyW4a", "nCoIlCkSW4exoJ3dP8kOWRq", "CZFdSmoxra", "WPddHv/cPCkdWRdcSSk5t8opDG", "WPioWO4+fSkAWQWDtZC", "W6VcO8kPWQXVWP7dO0hcOvnRua", "WO3cJKBcTK7dRfqmWPldOhO", "WPyoWO4YbmkEWQ4XqdpdHCkjWO7cPG0", "zN3cKCkLWQpdVCkxW7DkEgvGfhpdH8kRlLi1eSoWW5W", "o8kbWRlcHCoLW5ypW4rxWRlcOSk7W5e", "WQdcV8kYW6NdTX8", "WOZcN0dcQLldPwSlWOC", "W4bqFNFdMq", "WRtcUSksW7m", "aSoEsMtdJcHgW7e", "W6iCW7dcLKNcMdzTCXZcMW", "WPXUW7fBy3/dJ2ZdGghcJepcJ8olmIX+ASo4wa", "vGvZcYldQmo2kaOzAWNcGSo9W4xcKbJdHSoLW784WP0", "W4yJWQHDc8oDd8oEjCkntqZcRCoBW7u", "WPddKdpcQCown8kwW6JdKajJibm", "cmkpdSky", "umkKW55maq", "WPq9WP3cImoMWPyjWRSW", "WOlcTSkWCSoktqVcU1bvW4hdTa", "W4q1sSk3yuDjmJ3dV8kqoSkXkcD+Ee3cLd0", "lmoJeCkIW58xjZO", "W43cVafgW67cMCovW7W", "g8kbWRlcHCoLW5ypW4rxWRlcOSk7W5e", "W4FcHKS", "t3NcLCkzW7BcTCkyWQOn", "W4VcK09Hz3tdUL8", "nmkcW7iXrKNcSLK", "W6LZW4yDp8keWO0yWQNdLxhdK8k9WPpdLLFdHq", "fJtcRXRdU8khtW", "WPf4W5jEzwJcKg7dTNRcG0RcLmofdtLO", "keNdKCoP", "DmoQxtmFEbuIkSoZdNrRW6zVW6u", "gCkEWQZcSCoPW5a4W5HXWQ3cPSk9", "bSoBW4jtW5pdHCkAWO3cMKy", "cMvYWRRcQGKHFau9", "WQpdTmkYW7uYWOaujbVcMSobo8oC", "ohXLWQRdRLy", "xSkAh8oZBuS8W5ZcGcZdI8kjWR7dQfaw", "WRZcKsm", "B8oSW5VcNWu2W6dcN1PkDCkwgSk2m8kI", "dCkydSkDgfBdUs/dQmkQoa", "dCkCe8k7kL7dRH3dRSk+mZmCW6CZcwhdNqW", "W43dHmkpDu7dJJZcP8kCx2JcKmkVWP3cLYWFf8klgaeSwqiNFG", "xt7cRa", "W4xcNLzVzZxcPuzc", "W53dStZcQWKZuKdcJG4E", "BmkSW6jApSoQ", "W7yJWPnCemoxhmo5zmkmtq", "WO3cJKhcTLhdP0ycWONdU3pdTSk3l8o4W5KIW5NdRgRdHcK", "bvL4W53dQb/dTCoIqmolaGyfW4/cK2/cPgu", "WQddT8k5W7GYWPOOlW", "WRVdKddcQSoZoCkZW6JdSHvTjG", "WQPsFCkWnYupcSotWPmvW67cNa", "hIZdH8kQWPNcVSoRxmkTW6lcJthdJsFdKZq", "W5NcRb9kW6JcHmoOW7C2h8k8WPZcJd4ozSo0WRvZWRRdUNFdJW", "WRSxWOC1zCkEWRizvZ/dG8o9WPFcQHRdJcFcS8oThsBdPmkdB8oa", "A8o0WR3cVwRdIHRdQclcNrHHmHLUWROwW5q", "btRdMSkS", "xXZdTmohySogW6pcSaBcOa", "zcxcONZcPmoovmoyv8oOW50K", "WP0uWQeZjmkaWRKD", "WRFcQSklW6JdOWrgWP/cQL9Dg8kZ", "WPfQW6pcPCkvmKuDW5O", "aSkycCkyj1BdMtZdRCkMpdSLW68Zpg/dPq0fka", "dmklWRhcK8oaW547W6DmWQJcRG", "nML6W4FdIYFdUmo5smob", "W4X+twRdUW", "W7tdG3HpW6DdbmoSWQq", "WP7cM0ldReRdP3aEWPFdUNe", "kN5wW7a", "WPacWPeYiSkaW6qksY7dHmkVWONcVXhdNs8", "W6VdTGlcGqm", "WQ9tCW", "W53dQSkGqgC", "pSkUWRNdIu1gWR7cNgPaD8kCja", "emkCWRNcHCo/", "e1PmWPddGIOzqdyup8kmWRjzW68AptK", "W6ZdKCkKrLW", "kfJdISoonSkzf8kvWQymWPjwa8o8pCkiW6qyW7ldLSo9WQBdKSkYxa", "W67dMhXt", "nmoLyW", "W5VdGmkczgJdGdNcLSkxuwtcKCkGWORcLJ8FcW", "Ds3dOSobtCoAW6tcTWpcP8kw", "WRpdKsJcU8ksjmk3W6JdH1TKnGlcKJtcOq", "k1ZdJmoQoG", "W6mGWRnGaSoggSowymkB", "WRJcRmk8BmoAEGVcUG", "Eqj3da/dQmo0kG", "W6/dHCkjy2VdJq", "zmo6W7VcSdG", "W5VcVbXn", "hCkldSkilNtdQJtdPmkamZKCW5i/k2/dNraAoq", "WONdMuX3DdVdRfCoo8ohWP8rDmksfM3dThBcP8kpWQxcOmkQW7ddOSk6W5OEcf1RFCo5Bu7cOa", "l1ZdJCoYla", "sSoLWRdcLgFdHJpdHdJcQHvEmI9SWPywW4y6", "WQdcVCkjW6JdOW", "ugtcJ8knWQpdRCoXW6fayM59gG", "WRZdKvS", "WOFdMI7cU8oOoCkRW6NdJqm", "WR3dRJ7cQmoX", "hwH6WQldMqa8Aq0YcG", "WQpcMZa", "WQNcGtLPjcDHrG", "qfjdyxefW6y1WOC", "atddI8k2", "sCk5jSoYtW", "uCoCWQ7dOCkLx07dRgTp", "fmkbWRVcISoIW6y1W49bWQVcVmkuW50wWOvemwW", "F8oQWOxdS8kEyYRdL1GuW5W", "DNP7WQZdVrmRBv4", "W6OPWQC", "lSkuW44zv1NcV3tdIGJdIvzeWPu", "W4/dJmksqMxdJIdcOmkvqW", "W5/cQbXoW5BcMCojW6y", "vttcUhNcSmoZc8oyrmo1W4SZWPKVF3rO", "WQlcQSkp", "oJ7cOrddL8kn", "aCozvMJdIG", "rCoHWQRcS37dKqFdJJ7cUbr4mJL2WO8xW4K7gW", "WQbjz8kWfIC4dmoBWOW7W6G", "WQlcLt5KbYDGtePPt1hcVSoUWPBdIq", "W4pcO8k6W49JWPBdPgRdUvv3rtxdH8kCW7veca", "n8o1nSk+W4eChY/dOSkZWRy", "WQlcP8kRr8ooDW/cJ1y", "W7RdUYhcPaC6o1hcHqGsv8kA", "rd/cR3xcSCo0x8oprq", "WPxdKc/cISoEm8kT", "A8o+W6dcLcmwW6dcJ1bp", "WOqvWOCTimkaWQO8sZZdKmkOWOVcVW", "WQPiCCkPnsmifW", "DZtcV3pcV8oovmoyv8oOW50K", "avDXW5ddQI3dJ8oPumoJecqjW4VcM23cGc7cOSo7W4NcIa", "zYBdPCo1q8ofW5dcRatcOCkCW4JdNq", "W4lcUIfqW7C", "ECoLqIiABYqvn8oKjhvQW6PXW7jMFq", "F8oQWOxdPSknzre", "W445f8oQgsi", "WO3cJLxcQK/dTMCFWQVdU3BdR8kZoCokW5qIW4NdPgNdHtxdPSkxlgSTngVdLCovkbhdOG", "ddRdLSkpWRdcKSoKvmk3W6JcIYpdLYhdMNZcM1NdP3C", "W6SiW6RcNxdcJqD/yJtcJmoVWRPlqSklcSk1W4mraG", "WQtcV8klW4VdVHDcWPpcTK1BdW", "q8obAXKLua", "WRxdP8k5W78dWOuIlX3cUmohd8oqtZ4+Eq", "W48KW5VcQ1NcRXDitI3cTSoBWPj+wCkXnSkkW64", "W407cmkUdIKNWR7cQYms", "mKFdOSoqqr5QWPVdLCo/aSkhW6ZcQG", "WONcGLBcPLpdJMSEWOO", "ECkGW7Lp", "W6zaFe/dPW", "dKrWW4hdTHZdTCo4smob", "WO1QW6tcJCkpiqOxW4LTW6RdUK8bmHqw", "W6GrySkswg5kbahdNSk4cmkZabPnzgpcOrhcNutcG8kzW7q", "W47dImkpBw/dHq", "W7HjhCkdW7XvWQlcVSk3WRazoqq", "WRv7W6NcGSkYkKmcW6TLW67dSW", "WQBcOmknW6ldOYb0WO7cSa", "WQPsCSkR", "WOFdKSkhW4qnWRyE", "DmoQWP/dKCkyEq", "rCoHWQRcPvNdRW", "iSoXW5PwW48", "A8oOW5RcSc4", "WPBcHuhcPK7dTKe+WQ0", "EepdMNNdUcBdQ8otB8khW4VcNq", "W5JdPd/cGW0PaulcKIOswCkA", "gCkncmkolMddRIVdT8kGpJO", "c8kEWRdcISoVW5q", "WPtdMINcHSomfmkSW77dGXzMjJhdJYS", "DH93gYhdPmo8", "W4/cSSk+WOjM", "DmoGWPBdN8kcrHddJv0yW4ddNGxdHmkAjIWL", "W5pcMf9LzxZdOfSg", "WQJdJJvmW6TDfmoJWQrwW7pdICkVy8oHA2ftwM11xCo8W7ZdPmkbWRfjCv3dKsddGxfJWOuHzW0", "kmo/n8k4W5y", "iSo1nSkkW4mcacddQmkP", "a8kyvmoo", "WQruW7TKsq", "qrHpdYy", "oh9fW6FdJq", "W5/cIWDmW5y", "W67dGN9rW4HyhSo6", "W5bMaCkZW4vGWO/cJ8kdWRq9hwKtW53dMq", "oSodCqJdNa", "W77cTmo/iG", "Emokwtuz", "q0vy", "W5BcMLP5zMFdMvCmnSokWOeUACoDawC", "tMpcKSkDWQ3dTSoBW4rkzgrSfZZdLSkG", "W4tcQWvaW7NcHa", "W6WLWPjBhq", "v8kcWRpcGmoTW51XW5DmWQdcRSk3WOSwWPXliIddRq", "Dmo6W67cKWClW6VcMx5izmk2bSk2kCkJwmoqWPldUbfhD04Ie8k8", "rSoRWQNcNMFdJbxdHrZcIGnIfdr5WReFW4vX", "fSk5WPVcISoN", "WRxdT8k1W6GLWOeUiWW", "W5pcOfDzuG", "WRbuE8kXfs4UemoqWQ4ZW73cH37dHmkcWO7dSNK", "W6CmW6lcMgNcHczFyGRcMSoIWRXe", "iCo1jmkIW50xgtZdOCk2WRyAWPpcIa", "pmoJygddS8k9WPlcPmoOWQSDEbn3WQVcNZX6", "WQhdP8kJ", "lCkaWQBcISo8WPeSW4brWQFcO8o4W4CvWO9jmZVcO0q", "yMtdK3JdTq", "bSo/lmkTW5OvgIVdVmkWWROlWOi", "W43cO8kVWO9mWP7dQLlcVKzstsJdI8oDW7e", "WQldP8k0W7qIWPy", "F8oQWOxdO8kFDaVdRLat", "xSkAbCoesuS8W5BcTrVdH8kNWQFdQNmmpcnYate", "W6ddImkwtg8", "W5tcK0TVCwhdJ1W2n8owWOi0C8oAgG", "z8o8WQ7cMxNdHGC", "bmoaeSkuW6u3gX3dH8kjWP0", "WPJcSSk8tCooDWdcJfbzW4ZdPq", "W64JWRG", "W6fMW5C", "WPisWOW4mCkhWRew", "aSkycCkyj1BdMdZdTCkalHSwW7aAnMtdJa", "W4BcQb8", "h8kja8kDp1BdJZJdUmkDndiw", "ySoQWRVcG3/dIqFcJI/cHbPNodi", "c8kjf8kxlKO", "WRr1W6FcHCkve0myW5TJW7q", "W43dHmkpDuVdKtVcHCkFv0dcH8k8WO7cLGidbSkDgsmNtau2FSoMW6rqumkQhG", "F8kHW7Lyoa", "W6m5WQTBsmohhCoFD8kZrX/cSmoxWRS", "WOS8WPdcGW", "wCkwh8omAq", "W69WW6ODg8knWOSeWR4", "WPNcMv3cRMVdP2aUWPhdU2VdVmk4p8ok", "A8o7WP7dHmkj", "W5JdQxDzW7bqcCoVWRvf", "W4f9r2FdOmki", "aCogtxpdRs9aW6LGFI99uNFcQcTrxmkHWPD1W6DmWPT6W5i", "xgXDC3K", "WPhcJKRcTW", "WOddJZhcPSol", "DCo6W6FcNJejW6VcHuTSE8k0aSkZeSkUzSogWPldRaC", "WOZcJKBcLLldQ3qiWOZdPN7dTCkgkSolW5qJW60", "uJ7cPxBcVSo6ySopu8o3W5CIWPi", "W5ddUINcRq", "W4hcSSkKWOjRWPVdOwhcSW", "CmkIW7DspCojtCofD2FdRbnQWPb8WQO1W7yqWPKPWQJcNSofWOW", "WOVcMvpcUNhdP2WyWQ3dSg3dR8k/kmoC", "WRbRW4rzDNxdUxVdPx7cI0tcHq", "xK9B", "DYXZarK", "WOD4W5fyChi", "WPhdKstcVSon", "hfldTCoCvqnSWPhdLmoMbSkfW6ZcNa1epK8", "k8kRWPdcPSopW6uzW6v6WOlcGSkkW6C0", "W6yrW6hcMMNcNdDgzG/cImoyWRbyEmkEdq", "W4PQrNxdPmkPW78", "dvnSW53dOsBcPSo4xCouea", "W79giSksW7LeWOZcTCkKWRGDle0UW5pdPmkEgq", "hgtdOSouqq", "D8oRxISxFJucpCo/eW", "W6rEiSkvW5XpWQhcTCkZWOuQjKq4W5NdPCkwemkfWPi0W6GahHOpoG", "W4JcOqPgW7hcTSovW6anc8k9WO/cQcK", "W6ldHgHtW7y", "qCkqda", "hhhdICoCDsK", "WRtdMINcU8owpSkIWQ3dIWCQjXpdMt/cP8o+rf3cJH3cJqFdUSoqs8kSrCk6W60A", "oCkEW402tKlcTLpdTqBdLLC", "fK3dUmo3xq1pWRFdNSoLbCkl", "dmkmcCkFp1RdPdC", "ASo6W6FcNqax", "WQddRCkLW7GZWOakiadcGSo/mCoxrtuMkG", "W4VcOmkzWPvVWOxdUvhcP2vTsZhdRCoBW6PukWyM", "WOD4W41wD2JdIxBdLNJcKG", "WOZcJL/cTvNdSa", "WOu8WO7cG8oSWPagWROar1zX", "DCoHtYKeAWqv", "g8ouW5X2W4tdM8kzWOJcJ0lcRmoOk8k0W7mPhdddLG", "m03dPmouvqLQ", "k8kVWORcPSoiW64DW6jMWOVcNSkwW6aZ", "iKVdUmo1wX0TWR7dLCoIcSklW4RcTrrsnq", "WRhdQ8k5W78PWOqcnWZcGSoCkW", "q2JcKSkaWQVdTmknW7bczgbIfYRdLmk8oa", "CSoLWQRcK2pcGXldIcdcJLDRoY59WR4CW5L1cGJdVSkMWRpdHq", "BSkOW7CBmSo9smkxiq", "WRf3W6FcVmkAmei", "A8k5jSoWsxOgW6JcGbVdOa", "rCoHWQRcOgFdGG3dHd7cQbHKmtv/", "WOZcNmkKW5ddMd4", "ru5pDgOsW7CsWOSbaSkDCCkcWPtdR8o2WRW", "uNNcH8or", "bJ7dI8k2WOlcUmoICmk1W5xcLGldHIhdKMNcGuldOW", "W7mtBCkAuu18dHVdLCkL", "aSk+g8oqyfq6W5NcTsBdH8kiWRJcQxmaes98aMZcL8k6fq", "W6Kdx8ktvxL+bt/dM8kWgSkNbbjfuq", "c8kgWRpcLa", "W6bvjCkcW7bMWQRcVCk1WRGhl08", "5Q+x5zoN5BY0556956+a", "e8kiW4WArW", "WPjZW4tcGmkH", "WR3cON7cIMm", "WQBcOmkvW6hdUbDgWP/cQL9Dg8kZ", "qt7cUgq", "vevFFhKFWQuXWPSFaW", "W6u7g8omhsu6WO/cVdqiWQC", "W7ncp8kFW7jpW7hcOmkXWOmijfqKW6RdR8kl", "w2ldPKpdGIFdI8oIvSkJW6xcVrlcJa", "W4ZdJmkvAg3dJ3hcU8kvrhZcHSkrWPVcGtSi", "cmkqc8kvd1ZdVdFdRCkMpdS", "W67dHuHzW7v4a8o6WQrwWR3dNCk+Amk6AG", "g8oPCYNdGq", "hSoAWQO", "W5W5f8o1eZGTWRRcRW", "oZxcPHBdKSkgvtRdLxi", "W7zXW4WhamkCWPurWQK", "eSofW59IW4RdI8ksWRlcIuBcV8oik8k1W4G", "CSoRqIaFBsmvpCoMchPJ", "mCkEW5S8s0pcShVdJbtdLNjaWPy", "W5iJWQ8tc8oDcCotA8oFsqZdV8osWQpdQcPVW7ldQmoy", "B8kLW79m", "WQDzEmkHds8", "DJtcVZdcS8oYrSoetCoUW58LWOr7DMv5zmklzJiNW4PE", "qNpdUa", "WQugWPqAhW", "W6D2W5CBqmkkWOugWPRdJLBdQSkYWO7dQLxcGIjvySoL", "W6S/WP5df8oJg8otCCkAta", "W77cN1JcQmkIWQpcQCkSq8kczmoCWRxdLCkzwSo7WQxdIHNdSdHgW5dcGID7gSkRyCk+W4VdRSo8WPe", "aSkhrmoqy1eGW5xcPd3cH8kwWQJcQ0ejnYrPbc3cMmoLcCkkWRpcNrFdQx08", "fmkFW5KQr0dcSLNdKuFdL09fWODwWPFdINjGW67dShZcPWPiWOJcN8kvd0pdNCo9hG", "WPy6WPC", "Df59WQGqkbipW5ZPG7dNNRFLSOdLIyxMIBy", "E8kOW6r0jmo3FmofBh7dVqHXWOD7WQq1W5ydWPmXWRNcOSod", "W79giSksW7LeWOZcTCkKWRmCieW5W4ZdR8kkbCkfWPOV", "cCo5nmkUWPmajIhdO8oMWQqbWONcLCkswKRcMSoTW5eCWP4Cs8oK", "DhtcKSkDWQNdT8oKW6vrygHSbG", "WP/dTctcOmoy", "nmkFW5mSy13cP3tdJq7dHG", "bSkCcCkBp1S", "WQFcO8kZDCok", "yGXKbG", "WRbuCCkOfq", "k0/dKCoTmmkdcSkkWRq", "mmo+Cd3dOCoZW4NdQSoVWQjeBHb5WRlcGxDVgCkfC8o3WQTVW6ldJmkZda", "W73cTSkNWOH6", "W67dHv5qW5fdaCoiWQbiWRddNmkRySkN", "WObtW5zdqW", "CmkIW7C", "W7JcVa1pW7/cK8oo", "mSoLW79TW73dQCkLWRFcQwZcHG", "W4pcQafbW7BcLCoZW6evgSk6", "gCkafmkilL7dMdZdS8k/ndWw", "qstcUhG", "cLLXW5ldRY/dJ8oPvSoshcKj", "W6S4WRPElSow", "W5SIfSoLeZShWQ/cUcCpWRby", "sSkAh8oKzu4PW5tcOdBdPSkdWQRdTeewjHDYhYZcGG", "W4T3w0xdTCkdW7m", "uSo2WRhcHgtdLW3dKsK", "WO/cIKdcOLhdSq", "W4ZdUIVcPWG0bLhcKW", "W4/cRaXkW6JcKCooW7C", "kmo4AYRdOmkSWPxcTSoeWQfA", "W58/f8oZgr8XWRJcVdGfWRy", "FSoMWP3dK8k8Ca3dIW", "cmk/W7ewBxRcMq", "xSkeW5XYdmokACoLvuVdIIK", "WQhcT8kSAa", "DYRdV8oqqmoEW4lcSW/cQ8khW4W", "W4C6WRPDe8obpCoFD8kjqrVcUG", "W7xdK2PtW7zf", "rcxcRsG", "W5ddUIZcRHS5duC", "WP7cM0lcQfNdUW", "W7pdN25qW6e", "uZJcP3NcH8o4rCo/u8oT", "DGj4dIddPSolkLGjBrJdHW", "DSoZW6JcGXenW5NcGLfCE8kc", "sConWO7cGM8", "W6pdK2LvW6nFv8o6WRHuWRK", "cSkyW5q8tvRcMLJdGrldJLO", "z1JdKG", "WRCiWOW9lmkjWO0DxcZdMmk+WOi", "W6JdHN9sW5rqgCoM", "WQBcPSkF", "vCo6W73dMGqtW6/cKLPknmkcb8kXiCkOF8kcWPZdQarrz31Td8k4bgddSa", "WOZcN13cSvNdKwCFWOJdVhZdVa", "W47cL1vKB3ddNLevn8oxWQuCA8ozn27dTJRcUSofWRq", "q2JcH8kaWQldV8oNW7jmzMr9fYO", "D8kLDYpdOCoNWPFcV8oKWQ1viqDKW7pcLtzGx8kkFCo/W7zKWQxdGCoZea4LW4eyBfRdOKJdKuVdMJNcPvhdNZtdMSoofvhdG2ddTmoFWPS", "me/dV8oLCav1WRBdLSo/cmkkW4dcRr5mhfldMCoey8kpb8otWO4", "kmoXk8kLW6qBjYRdOCkXWOenWOBcLCke", "EmkIW6Dvp8o2tCotlgNdVq5mWOPAWQWpW5SxWPu", "W51QrNtdU8kuW6juW4u", "WQdcOCkpW6ldO11ZWO/cTeuzc8k1W45drmkE", "lt7cTI3dLSkostRdLwNcGfBcJWml", "kZ3dI8k0WRZcS8oLwCkQWO7cH33dLJtdN3ZcOrRdONDtWQi", "W47dVshcPGeQr0FcKGORwmkEWOK1W4DyiHZcQmoEwXbjyW", "W7nio8kyW7LoWQRcTmktWPKij0C4W5/dVmkDgmkyW5e", "hCkqcCkyjetdJI/dPmkNksW", "W4/cHxnPz3ddJeCGpCowWOuUDCotb3BdUIZcPq", "FSkRjmoYswiCW7BcGH3dSCk2WP8", "ubtdLCoRzSo/", "W4pcHeLVCq", "l8kEW5u1", "WR8sWRGbeW", "WOz8W4XhBMpdUh/dO20", "W7VdRmk1uK7dOb/cImkVB2RcN8kYWOVdJxzpumod", "oJ7cSrBdLmkgas/dH3pcTvtcKb8vuJi", "qYhdI8o+wq", "WOz4W5jeA2NdHa", "vYtcPxpcO8o0xSoe", "lINcRrJdGCknscZdQwpcVG", "zmo+W7RcN0jl", "W5a8tCkVCvLcoIBdTmktmmkI", "kwX9WQFdJXmRCrafamkcWOXHW6C/hbO+zHC", "nmkcW7W5s0e", "W7VdQmkJzfG", "WQTUW6/cNSkEf08eW4LLW6ddSW", "nhTNWQ7dHG", "WQ7cQSkcW7q", "ECkWi8oIvG", "o8o0qxtdTs5nW6PPAq", "W5/dStVcOqyoduBcGrCyuq", "W7nckSkxW6bnWR8", "W6hdMCkfsgtdLYtcOSkv", "W5K5fa", "DttcP3xcO8o4eCootSo2W5aTWPG6yIrQFSoeDsnUW4mni8k/W6JdUG", "kJtcTH7dN8k7uIxdGW", "W4VcVCkPWO17WPpdQhC", "WRbzya", "A8o+W6dcLcmwW6dcJ1bprSkqd8k7pmktyCopWPG", "W7uaAmkxqg5ocb3dJmk+hmkq", "WR7dKKhcQmkZWQe", "WRZcO8k2BSo4DWdcRuLl", "W7bcomkHW7XpWQ/cV8kNWQiDkfq4", "jSkwbmkDj2pdPZJdUmkSlWWwW7qHmgpdJa", "hMXLW6pdPWOQEKqHdSkWWPn6W58KfL40yXBdUsX2", "WRRcMJnVnIDGtue", "ix1CW6e", "b1nNW4a", "WQRcJd55jd1DuuT9", "vdZcOMtcO8o4qW", "bComC3FdOa", "gCkEWQZcR8oJW5ylW4HlWQdcPmkV", "WPXUW6rzy2tdHNVdMwFcLK7cHSovhJ1VBCoYuG", "kfJdIG", "WQZcHJjRjcTzwKXQEgFcQ8o4WORcJfi", "vLvcDMOyW7aR", "WRrvESkGfJ1uemoDWOuL", "tCoMWRtcLwJdLW", "W4GUdSoOhYKDWQ4", "yszxcr0", "W4eQeCoVkYu6WQ7cPsy", "W4FcPGG", "W7arFSkfuvPU", "AtddLCoDxmoiW6xcQq/cHmkdW4/dRa7cH2BcNqPv", "AcldV8oqq8omW4dcOb7cHmkdW4/dPXlcJN4", "umoHWRpcN33dHIFdMclcIa", "rSoHWQJcVwtdHXhdStVcJW", "W4OzW6FcTh3cGtXjCrZcH8o/", "pmoVDYtdTCkNW5ZcT8oUWRDfFrHHWQtcHJW", "nCkqW5q8tKJcHfBdGWldOvniWOvj", "g8kpWQJcGmoK", "WQhcSmkWDmoaAHFcUum", "dCkCe8k5ouhdMc3dOmkQnG", "wmkuW556hSoqB8oOu1VdIZjAWQX6WOijW6C1", "nCoVCcZdTSkOWPlcPa", "pY7cTHddPSkyxZ7dKMtcPG", "W4vSW40vbSkpWR8eWR7dKu/dMCk2", "yKNcQCkqWOu", "WRlcRSkWC8ok", "hSoqW5TtW4/dJCkdWOu", "W67dUSkPvKG", "WRX/W7pcHCkCkHagW55+W6ldU1OAlHrl", "W5PXr2tdU8kxW4HbW5iZWQ55W7y", "WQldRCkGW7uQWPWMjtNcJCoCma", "W6qvASkxqwDP", "WRBcU8kuW7xdTa", "FCk9W6bOnSoRwSoEygS", "WOBcHdrhmsDGBvn7C0a", "wtdcPxtcU8o4EmozDSoOW5aLWPGSug1+zCojBdy", "qNxcImkAWRJdQCoKW7LnDq", "nmkFW5W3", "WP14W5K", "pvJdISo6n8kKfSkiWQCNWOrh", "W6tdNN9FW694hSopWRfuWPRdKCk4ySkPwMHzwNr5", "lCo+WQuojmoDs8oWqN4", "W5HSqgZdP8kZW75wW5ySWQr/", "ctddKCkRWOBcUCoJr8k3W4lcKcq", "W7HXfmkSW6u", "W4mLoSoKgImMWQ/cMdqxWQzyWPKl", "WRxdTSk4W6KJWQaImX/cHColpq", "jdBdRSkiWQq", "nSoKlCk5W5yHldZdUmkVWRan", "vCoTWRdcLgtdLcpdIdJcGX5KftnTWReCW5m", "gY3dJCkSWRRcPCo1rCkM", "WPTYW5nAy2O", "WQTQW6hcJ8kE", "oJ7cPbBdNCknAY3dIxhcSuVcKb8", "W6tdUvzuW70", "keNdKCoRoSkKfSkiWQCNWOrh", "W5OIhmoKeWa9WRNcVG", "qCkEhSooB1uEW5NcRcO", "WPddKZtcRmou", "peZdOSo0rHXJWRtdTCo2o8klW7NcTGLvf1RdG8orymkj", "EvldHwtdRWhdJ8orACkVW4VcJdxcVSkgdeldNKqE", "WRBcTSki", "W5GUfCoXmcmZWOZcOZ0d", "s2lcGmknWPNdImo7", "W5VdGCkdBwBdRJVcRmkEDxhcGmkAWP3cLIOb", "W4RdStVcGbWYh0FcKGWTxCkAWOC", "zLldGwRdUrtdUSoa", "W5VdOsBcRGO", "W75jjCkcW4vnWQRcQCk1WOm/lfiUW7pdPCkwbq", "W5ldMgLzW7bfbmoGWQyeWRJdM8kSymk5y2WDv29/x8k/WQRcPCocWQbfz0C", "W4tdHSkbrwxdLIxcPCkFuw3cPmknWOdcNZKiaCkl", "cmkbWQ/cL8oEW5q6W5naWRFcO8kmW5SlWOLe", "FSkggmouAvauW5FcPtRdHmkd", "yYVdO8oBqSom", "otRcRXRdOmknssNdJ2lcSq", "Ef/dKgFdStRdVSoeD8kRW5dcJdNcUSknkfG", "mmobtbVdGq", "jKFdOG", "WORcHvBcPLRdQ2WiWPO", "W55SrNldSCkZW75wW5ySWQr/", "lCoXlmkVW58xhcddO8kVWR0bWRFcNCkCva/cI8oiW50tWO4wwa", "qtdcUxhcUSoU", "cdpdH8k5WQFcLCoczSkaW4dcHJJdHG", "WPJcKCkav8oMufNcHNqe", "A8o2W63cIq", "W6qvASkFwM5nhWddISkYdCkbga", "AKldGwpdJHddVmoxCmknW40", "ofldKmo/nSkqimkFWQm4WO5beG", "cdddJmk+WRZcTSoFumkXW5FcJdpdHG", "lSk8iCk9hN/dNWBdKSkmdWK2W5qicu/dUZa", "BN3cGSkGWQldRmoyW6Tg", "W53dH8kczgZdIcxcRmku", "WQtdNK/cQmk2WRZcRSkQqG", "yYZdV8osrSooW5tcObJcS8kAW5ZdIW", "WRxcP8k5yCoACHO", "W7ncp8kFW7jpW7hcPmkPWOem", "bSkwamkBlKe", "s2JcJ8koWRJdSG", "hmofW4PCW6BdJCkEWORcT0RcPSoLkSkKW7CPcd7cGq", "W5RdUYhcPaC6o1hcHqGsv8kA", "W7tdNN9qW6H+hCoRWQ9HWQtdISkVC8kIBNq", "W4xdImkpB13dIcxcRCkFr1VcKCkEWOVcGr8eh8kD", "WOCcWPyun8kkWRSk", "DCoQW6VcIrCnW6FcIvO", "wKTjCxy", "qmoTWRlcMuRdKWq", "FmoQWPFdN8kcDcNdKvyhW5ldObJdIW", "g8kbWRJcHSo/", "B17dLgFdSHi", "WPiNWPJcMCoL", "u09cC3CwW4WGWPazd8kryW", "WRDuCCkQ", "W4dcG1vJD3ZdOva", "wajYhsxdPa", "o8oLAIVdU8kUWRxcOmo5WRvzBbm", "zSoLrYmJEJizi8o5igL2", "WPJdGeJcGmkXWRZcRSkkumojFCon", "cJtdMmoq", "a8kkmCkvofRdQtxdPa", "W7FdSaFcRIG", "nMz0", "A8o2W60", "W6boiSksW7PwWO7cPSk1WP8DoG", "c8oIxJFdUW", "W7tdGNvoW6fIcmo8WRDnWR/dMW", "WQhcQSkyW7xdQabH", "kSoVDcldOmk9", "g8ouW4fwW4FdICk+WPFcRuRcPSoOfCk/W4yXcINdQdBdQSkI", "WPioWOW/", "W5BcHfr4ELtdQvSmjSo6", "sCkAgmojA1nJW4RcPdVdNCkuWQxdSL0vnW", "WPf4W5jEzwJcKgZdSNZcL1xcJSoibcX+", "CCoHWPFdMq", "mJ7cRbJdH8ka", "iSo1nSkEW4axoWFdOmkGWRW", "W608WRPDi8oBhmoFzSklrWRcPG", "EmkOW6nsnmo3fSofzNRdRqHRWOPgWReJ", "W6KEAmktter7", "qKvCEMWfW4WGWPazd8kryW", "c8kqaW", "FfBdH2u", "leRdJmoAcq", "xttcPxFcO8o1", "gdRdLSkuWRtcPCoPrSk3W7pcKd7dTsxdHgpcU1JdRW", "v0vyvgSfW7CgWO0adCkBy8kY", "WQRdRCkW", "WPbZW5vfA2pdMq", "o3LJW6ZdPGq7CqC5lSkGWPrKW584", "W4i5W5tcPL/cPXXktJ7cTSoyWODLq8kR", "xb11jsJdQmo2bKqjAXddH8onW4pcKrFdHG", "s8o3WPRcNf7dKrJdPY3cHXTOnJ9Z", "EvldHwtdRWhdNSonEmkxW6tcLZ/cQCkph13dN08f", "lxnzW7xdKWtdImotCCo3mbGZW7JcVutcJru", "W6ZdHSkrB2BdJIRcRCkJvxVcGSkwWOZcNq", "Dmo6W7RcNWaSW7RcIKTDqmkAkSk6i8kMFCooWOK", "W6fMW5CYa8keWOmwWPZdKLxdKSkxWO7dL0hcJcHt", "W407cmoecIK6WR7cUq", "nLldImo8oW", "WOZcN1pcT0NdSq", "p03dV8o/", "hfH7W5hdOchdSSoPqa", "fSoovgJdIJv6W7P3EJv/wW", "WPJcJKBcH0xdRgmaWPFdTLBdT8kWja", "lLpdMSo8oCkEhCkFWRu", "WObZW4vszg/dHhVdSW", "hdBdJmk8WRRcPSokvmkGW5xcIIldMG", "WQpcMZbopZLGreP/EwtcRCoLWOJcN1RdKmod", "WPtdQSk4W7um", "W5tdTsBcRdK0bLdcMaK", "W7ivA8kFr394hW", "yr93bJRdP8o9pvGAya", "WRmgWO8+fSklWQWorZNdLmoNW4FcVHJdIsVcTmkOpZxdU8kjtSkvwCoVmSoL", "W6rQW48Ap8knWPG2WQxdIuldLCkK", "pmoVDYtdTCkNW5ZcSCoYWRnv", "FmoLrsGHyX4uimoN", "W44JWRXsc8oIaSoBFmkAwIVcUSoqWRNdOdbJ", "WPVdNJpcQ8otnCkcW6JdLIzVlHNdIZVcKCo9xHVcIXu", "WOVcMYbKpcfVtgHXEuhcS8oV", "W5e4WRbbaSoXaCouCCknrXtcS8ohWR0", "WQPsFCkWps8ncSowWO8BW6S", "W4tdHSkfygBdSsFcQmkjvxVcP8kAWP3cJIiofW", "W7vMW5CXgSkEWOufWOhdHLtdKq", "EftdH27dUbS", "eCkaWRRcJa", "nYJcGbBdN8kbFZddKw/cUfBcHqiSwsGpgSoe", "oSkuW44", "WQpcQSkpW6tdUsb5WPVcOuXgmSkL", "WPiNWOVcHmoUWPGoWRGT", "WRVdKrpcHmoC", "W6/dK3TyW6fdhG", "WRnoE8k8aaSCbSoBWP4", "CqHLas7dR8kIo1mpyq", "WQJcHJH/iaDQ", "yCo6W73cSWCVW6lcIKzDzSkWfSkVcmkMFmobWPxdVHa", "mmkqW5m2DutcUvpdIHa", "l2D3WQBdRaWGEGa", "dIVdG8k/", "WOv8W5vF", "wvnKFhOvW7OR", "W5/dOshcOrO0b1O", "WPeYWOVcJmoTWOW", "WPZcMvFcOKJdP00FWRJdUNZdRmkLg8ovW5q3W7VdV1ddIdtdTCkVpG", "eCofswBdLIboW7O", "jx9jW7hdMqBdK8oBE8oZpaqOW7BcRq", "WRbfESkNodOlmCoqWOC9W7VcIx7dHmkaWOFdQw1/W50+gSo4dIS", "qCkAbCohEfu", "iKVdUmo1wX1eWRNdMCoKbSkCW7a", "WOycWOv7nmkBWRSkv3RcKW", "gLnXW5ddGZ7dUCoIumoWgH0fW5FcNM7cTa", "g8ouW4fwW4FdICkWWOhcLgRcU8oanCkJW6G4cJxdPc3dGSkODKWC", "fSklWQtcLW", "W7tdK3ryW4fhcmoGWRvWWRpdV8kMBCkBzNzzvhDV", "WORcM1BcOKJdP1aiWORdP2BdLCk/omonW7GVW64", "WPldJY3cJmoqpSkJW6tdHq", "Eu/dN3G", "gdRdGCkTWQFcTmoFqCkSW5pcGa", "W6yvEmkvxfH4hXNdK8k0gG", "WQldP8kKW7iHWP19mWZcMmoDkSoxvsmHAW", "WPj4W5v+CvxdJ3ldSMVcLKlcHmo6fc5OCa", "WRBcQSkyW7ldOXvgWO7cT1Tr", "W6yQWQT3aSoElCovASkuqr3cRa", "dCkycSkzb1RdUc0", "tSkqbCogzvOkW53cSZNdGCkfWQ4", "W67dHvToW7y", "emkpWRlcH8oGW5qrW45tWQhcM8k9W4a3WOvemIFcPW", "FCoRsW", "m3PrWQZdPG", "F8kSW75ynSo1qmoszW", "ySoHwbmfBWiXkmo1d20", "W6XOW5ujpq", "zSk+WOlcSMldJX3dPI3cHHi", "WQTDESkGfs83dmosWQuIW6RcGNZdM8kEWRhdOw1V", "W7uEAmktuMjZcaS", "pwXN", "WRXZW6tdGCkDjumAWPjGW6ZdT0O", "W47cUX1kW6G", "hmkpWQJcGG", "ld7dJ8k9WOBcTmo+q8kQW4lcGgRcGZxdHNtcS0pdPf9aWQP+WR19W4BcQ8oipq", "WOZcJKBcGLddTwmuWO3dMNhdJCk5oW", "WRBcP8kRt8oyCd7cU0LmW4FdO8kgkmkSl8kaeeZcOmoXW5lcISoD", "W5nckmktW4bsWQ7cOSkzWRvuAWjM", "W7hcTSk+W4fNWOtcRxFcSLPGrZldISowWQzBeHeHWR0PDq", "W4pcM1j0r3RdUvaopCoeWPiPFmophK7dScRcPCoLWRdcQSk0W70", "W6jSW5qDa8khWO0fWP/dGLtdJmk6WPtdNa", "geZdRmoZmW", "W4pcQafbW7BcLCo9W7CSoCkWWOlcTq8oASo6WQ9LWO4", "CYpcPgFcPmo4q8o9smoVW5OUWOa", "mKFdOSoEqWrsWQRdLCoGdmkCW73cOd9ei1JdMmozvSkndCop", "WPFcILZcP1ddP0uiWORdNgZdNCkZpCo0W5OQW7S", "W6jjkmktW7niWQxcTCk0", "W4xcTSk+", "wtdcPxtcU8o4DSopvCogW4WUWOiRr2HHrCoFzt49", "B8k5W7fpjSoQ", "vd/cQNlcU8o4", "WQJcPSkvW67dGrX0WOpcVvTNdmk3W4Hd", "k8oeyttdLa", "v8oQWRRcLw3dIHRdHcG", "WPFcQSklW6JdOWrgWP/cQL9Dg8kZ", "k8oLBgZdRW", "WQ/dRmkXW7q", "WOvVW45dBxldK27dSG", "qmkAgCohAq", "WRVcMYnRpcnRrq", "WP18W49tBMpdQxldUhVcH3pcHCopcqTYASo5u8kS", "EatcPL/cSG", "W7zIW5yacSkm", "wclcJ3/cOmoZxCofqmoLW7KZWPGUDG", "e8k2W6NdHdpdGthdMt3cNt8", "WPJcJKBcGKZdSKSdWPJdUG", "W4/dMxDzW4Hyg8oR", "WOycWPi0n8kAWP8ixHxdG8kkWO7cPtRdIcVcPmk0", "W4ZdJmkvAg3dJ3hcVCkjqgW", "ld7dI8k5WOBcTmo+q8kQW4lcGa", "W6FcG09OuhddVeGlmCoa", "FSkScCosxq", "W5JcVa1wW7NcGSotW7a9", "hdBdJmk8WRRcPSkJxmkWW7hcIthdMIxdHeFcU1NdPxDwWPfYWP1GW4xcS8oy", "n8o1mSkKW4eggIVdVmkWWROlWOi", "W65IW40xa8knWRKpWRBdJLBdQSkYWOpdMKG", "WPRcH1FcOeJdSg0d", "WPRcKmkEW7tdNb9XWO/cTeW", "B8oGWRddNmkM", "W5ZcOafbW7xcH8o8W7m7d8k2WPZcPq", "W5NcRbXXW7xcTmoBW6y5", "W6JcQafgW7/cNmkAW7y3dmk3WOlcSY0fBmo/WQeGWONdTgRdGCoifG", "B1ldHMldUHVcTmorEmkCW4NcLsJcSCktleC", "WRhdRCkwW7em", "WOWYWPdcG8oxWPyjWRO7wxj6WQWtWRhdSgrqW7O", "hSkaf8kz", "W6nUW4OhoSkyWOGaWRJdGM/dLmk1WPG", "WP7dNJtcOCkrmCkWW7NdJtHLjb/dKq", "W54Uh8oOdZGXWRJcIYewWObrWO8AW555WQxcQ8klW6C", "xb11isFdT8o3je8", "ksNcQWVdLSkVwJldG0JcUL/cIW", "W6ldM3niW4zyaCoNWPfbWQJdQmkJCSkLBxryEgH9umk0W68", "zSonWO3cSuNdRZhdVGVcUYi", "W7TikW", "WOCtWPaYk8kjWRCEvW", "d8kpaSksp0ddMdZdS8k/ndWw", "s8o3WPlcN2ZdIHO", "WR3cRCk8yCodtqVcU1bzW5a", "WPacWOq6mmkcWQO", "n1ldMq", "F8oQWOxdSSknzrJdSe0yW4xdTYFdL8kk", "WRVcM1xcQfO", "W7mjF8kcuwzBhq", "WQFdLvNcVSk5WRRcRSk8", "WRldN0tcPSk5WRdcG8kUrCoeDG", "WRBcTSkiW7pdTb06WP3cVv11cmkMW7bjrSkd", "y8oYW6dcJIqnW6hcJe1Dz8kg", "zYBdPCoZtSoeW6lcTqVcOCkGW5RdMGJcGx/cIrW", "vCoTWRRcHgm", "WQRcMt5+fcf5rKLXFfdcLSoKWONcGNZdI8orWOZcPx8", "smoNWPBcTfm", "W5pdOhz/W4u", "WRjVW6tcI8kEduqvW41PW67dS0axcWfCgLv4", "WRFcP8kRy8ohtqVcU1bvW4hdTa", "k8oIAZRdNCk5WOpcQ8opWQPryXLY", "DCoMW7RcJHesW53cJK1oFCkwcW", "W58/iSoxeW", "W4Gcpmojoa", "WObZW4jwDMxdGKNdVMBcHKJcL8o/etnOyq", "W5WQcSoYgq", "nMX9WQtdVG0", "W5hcP8kLWPnRWQtdQhBcOv9Mqq", "WQlcRSk6zCoF", "pCo8yspdPSk6WRxcOmo5WRvzBbm", "W5hcN1vKBgldIf8bjSokWOqe", "W7mey8keuvH4hXNdK8k0gG", "W47cL1vKB3ddM1ayo8ovWRasC8oil2VdQq", "W4hcVmkKWODNWPddNMhcPubSrYm", "Fb5sdtRdTCoQifmAya", "WRfzzmkRcZ5ueCoqWPO9W73cMhddISkhWO/dGxP6W6mWcq", "pt7cTdFdPq", "o8kyW5q8", "WOCcWPz7jSkgWRCCfhRdLmkWWPFcVXe", "W4mPeSoKhZG", "W453r2BdVCkhWRraW48YWQL2W7WRbaOmW5RdNcb6B8kpWOqw", "imoBoSkjW4m", "WRldN0xcQ8k5WRlcK8kQvmoAESoAWRK", "W6FcTgrurKBdMMeHhCoRWRa0wG", "ECkvWO8sWOVcJmoxW4tdGapdQmk6BCo7WO5OuMxcHslcHmoNmqvstYJcOHTXW4tdRb0FumkWxxnZW7lcRmorW5VdVmopAHRdG2tdGtrmW6hdUtpdGe4EtSkKWPPJW7lcICo9WPtdRahdUdldOCoktSozlvHnWOz2df3dQ1dcUCk3hGTHW7pcMgRdICowjcLfWOBdM8oVW7ZdTmoKW4yMgmkTWQxdKIldU2nrCc7cS3xdK3lcHIbFW64NaSo5WRhdQuD+WPGnpmoiwSooWQZdO2y7iSkyr0Tcn2OdmYJcMMxcGSkaWQVdPmoch0RdNfxdH8k+", "W6Kdx8kEw3XraGZdM8k7l8kzaaPewL/cPqhcRfVcImkq", "W4DTtwFdSCk1W6LiW6K2WOz2W78LfYyg", "s8o6WPpdNmkjCG0", "dCkaWRhcISoIW7W9W4HlWPpcOSk2W5apWPS", "WRBcM1hcILldTg0gWPS", "B1ldHMldUHVcTmovymkEW40", "D8oXqIucyX8E", "ngXRWRC", "EqH4dZ3dQq", "rtxdTmoAw8oAW5tcObJcS8kAW5ZdIW", "WOJcGLZcP1pdTveiWOZdO3BdUSkZ", "AfBdGwJdTtBdQ8otBCk4W43cIJxcRSkAdeBdIuuy", "W5RdUYhcPaC6", "W7fipSkZW7rcWQm", "WRDcpSkeW7Pt", "krFcMM0", "WONdTq7cRmo0", "v0ffDfGbW5WKWOehaW", "WQZcOCkDW6G", "qCkwhCofxLi2W5xcLIBdHSkcWQtdSq", "hCoAW5G", "W60ElmojiW8BWOxcGrGJWOa", "WPNcGL7cT1NdSa", "nSo1nSkjW5WhjYRdVq", "W4ZdJmkfBNJdGd/cRa", "WPj4W5v0CxtdJa", "WOBcHdrdpJHHq0a", "W7rMW5mChCkC", "FSk4W6zsnW", "W6pdL25DW5DfaSo8WQq", "WO4XWPpcImoJWOS", "Dmo6W73cJWyrW5JcILnnCq", "W53dStZcQWKZuKtcLGWAwCklWOKGW5b9", "WPRdKttcU8oVpmkKW7tdHWzpoWBdJa", "WPFcILZcP1ddP0umWPpdSg/dUmkYcSoAW4eNW7hdOW", "qwlcK8kSWQ3dUCoF", "DSoZW6JcGX0rW6NcVfzwr8kbd8kRmmk0s8okWPZdTrnria", "W4jgW6uYoSkKWRG+WPNdTgpdQmkmWRBdVMxcRXu", "DhNcJSkBWQNdICosW7jvF2jQ", "WR7cNKBcQ2/dP3aBWPFdTNO", "qIxcQMlcO8ozxSoDt8oTW5eGWPmCz2LO", "WPzVW4rwDMpdQ27dP2tcI0tcGCoifdn1sCo4uSkU", "pSkDW5uRr0K", "cmoeqW", "W7ddPcZcIWaRb1/cKG", "WOpcGmk1W5pdGI9xWRZcI3zKlmky", "W58Of8oXgq", "tSoRWRNcO27dJrddOZNcJrfVjq", "B8o5WPpdV8k4", "c8klWR/cLSo+W5qpW5vkWRBcRG", "W55xl8k/W7TxWQtcU8k1", "WRNcO8kXzmodEZ3cRfjXW4VdV8kBhmkji8kDmuRcP8oYW7dcJmoCWRuuWQjV", "WQBcOxpcHxS", "W4vxW5jQDCoFW6LihM/cG8oRW5FdUvJcMNVdTSo/qa", "vuNcQSk6WQC", "WRtdGglcO8k2WRO", "W6RdM8kjDNNdHdNcNSkzxM3cM8ki", "W7tdOColWQNcOq", "W5xcHfG", "CH7cHKdcLSojEmoOBCoe", "W6m+WRXB", "WQ1tyW", "W4BcQSkKWQHQWOq", "WQ3cMYr5aYzHwLf9Aea", "WP0uWQmRnCk/WQSrwGJdLmkTWOJcUrZdIc4", "WQhcMZnV", "aCottxm", "W4m7hCoVptGyWQxcRtGi", "cmkCWRpcL8oJW4uLW5fa", "W4ScWPzNlSoZiSoLu8k6EIVcLSoTWOe", "WRpdKtJcVmoloSk2WQldGrTNlHNdKq", "W4CMA8k/zG", "W7fsiSkvW6fiWQtcVG", "fSonW4zbW5/dN8kKWP3cJKa", "zmkpcmoPyKS2W5pcPa", "5zYk55MW5PgZ56MN5y+O", "hZ7dICk9", "WOD4W5vfE0ldN2ZdTNZcI0JcJG", "jtddLSkXWRpcUmoVvmk3W4JcIJ7cGW/dMfBcS17dRx1fW70", "mu7dV8o/xW", "t03dP0NdVG", "w8ohWRJdSSkZuJJdOheY", "W75uh8kcW6C", "W68gW6m", "W48KfSoNfsShWQ/cUcCpWRby", "WRxdTSk2W6KYWOaqkb3cHa", "pwH+WQBcPqiRAYmWaSkMWQXKW4mI", "F8kKW7q", "k8o+AZ3dK8kLWORcKCoQWRbBFa", "WPXZW4HdrwFdH3VdM2hcKvm", "p1ldICo3m8kyeSkEWOiRWPvuhSoWnG", "kmkXWQfhymoLhmolmq", "WQZcVmk4W6BdVXnWWPBcVu12aCkdW49duW", "dCofqMG", "W7tdVSolWRhcO0KGW4NcJfnMp8kDW6y", "W5KLeCo3gt4NWQVcPGehWQfCWOCm", "A8o2WOldGSkjFfBdHfWdW7BdOHZdSCkskYnK", "W55WtgZdUmkVW6TbW44aWR9UW7y4dIio", "zevFyt4gW7yRWOyaeCoszCkZWP3dOCoXWRZcNWK", "AIZdUmoA", "WQ/dSSk0WRyRWPy0mGJcI8on", "W6uTWRjwi8oDgCouACkqsrZcUSoq", "W453r2BdVCkhW4HbW5iZWQ55W7y", "WPldN0xcUCkIWRRcRmkJq8oE", "W5KLc8o0hJ83WRJcOZmd", "zCo2rsS", "BLRdNh/dKXddUCo3FmkCW5VcKtpcPSk2ovddML4piG", "aCoqW5XgW4RdNSkdWRdcIu7cRCoZ", "gCknbSkilNddOZJdR8kUoaSAW6SYkW", "ld7cSHddGCkC", "jwddKSottq", "W6RdImkvzeNdJIxcVCkcx2xcMmkAWP0", "oSofW4X7W4xdMSkyWO/cHq", "iSo1nSkjW5WhjYRdVq", "qxJcJ8kkWRJdS8oyW64", "W6OTWRfxc8oxkCoFCCk+waJcK8onWQJdNtP2W4/dU8klAXuXuW", "W7tdMN9zW7q", "psNcPX7dH8knCZ7dLwK", "kvJdJSo1pSkufSkTWRGGWOnnamogiCkY", "W4xdUx1wW4G", "lSkbW5yXvG", "W7ldJ3fWW4y", "vwJcJmkgWRRdV8oKW7LnDq", "FCkqg8kayfi+W5hcR2/dICksW6VdQKScptjPvW", "kHSR", "W4f3tG", "WQBcHXvJpcDEtvfjDfRcU8oLWPJcVvBdJCovWOy", "pmkeW44WCuJcPuhdJatdHW", "WRlcO8kRy8ohuGFcP019W4ZdTCkLomkglSkCbhhcUCoKW4G", "WR7cH17cReVdJxiiWPddMM/dRCk/jmoxW4y", "mMH9WQFdPGabBWe/o8kMWPn5W6C/hbO+zIddSYGdamoQdmog", "W7hcN1vKBgldIf8bjSokWOqe", "qKvCEMWfW541WPiGfmkLB8kVWQRdPCoKWR3cGG", "WP7dNJtcOCoOoCkRW6NdJqm", "W7fXW4OhcSkVWO0mWQNdRKJdNmk8", "mCkEWR/cRSoTW5GYW6HlWRlcPmkZW5eLWPPpodW", "nSoemmkEW58", "gCkucmktp1S", "WOCtWOmVmmkl", "W6agW6RcN3xcJWfPDq/cGmoOWRy", "dZRdKCkXWRlcV8k2rCkIW5pcHd3dLZNdHNxcOq", "vcNcOMq", "W4tdVLn4", "wN3dOf/dLW", "W4BcTSk5WOHPWPNcT3tcTKrKstldLSocW6no", "o8kgWRNcGmoNWPe+W4rrWQxdQW", "f8oqW5XBW4ZdGSonWPBcHvFcVCoZk8kNW544cG", "kgzpW7hdHXO", "W7K/eCoTdX8XWRJcVdGfWRy", "mCkEW50", "WR7cTmoJ", "nmo5BvhdUqjWW4bvqXbvFxJcNHbXESkjWRD4W5bMWRbe", "dSkuW454rKJcOrFdIaJdHLOBW4y", "DCoHxY8rzeOalSoIahrYW7PXW6r8", "CGHI", "amoor2JdIIbDW7O", "WR3cRCk4", "umoWWOZcNhe", "rmoXWRdcK3/dIHVdJW", "w8kAgCotzvi3", "W5xcK09tD3tdUKSr", "WPZcHfZcPvxdPs0kWPVdOvldUmk/jCoUW5WGW7RdONddTtldTmkTla", "C8oXW63cNXiwW6dcJLS", "W6/cMSkeWQHrWRRdJe3cMwLsBqJdQ8o9W5e", "WQvtESkWnsmifW", "W4dcN1D0zMC", "xuffE0KyW7eHWO0y", "W53dH8khBg8", "W6n7W4Oag8kBWR8yWQldHa", "W77dStVdOHSUduBdLXCvuSkqW5e", "pmk4WOBcRCoF", "CbTZbJ3dQmo8", "pSkEW5q+s0RcHfldLXhdI1Xe", "W4pcQafbW7BcLCo1W6i9fCkuWO/cTsi2Bmo/WQjVWOO", "e8okt2ldRtfRW7zPzr1StG", "hu9VW5e", "yWX6hsW", "WRhdQ8k5W78PWOrOnqBcI8opnmoCCtm/xSo8u8kWemkkW7xcP8kl", "naddJ8k9WQhcSmoOvmk3W4a", "mK7dV8oPl8k2emkoWRG4WOi", "rCkEbCoeyfGEW53cTqldJCkcWQldP2ugmsjUbrhcGSkReCkwWRy", "W5JcVr1mW7tcL8otW7qH", "smodWRddR8kPqYBdP3WXW7BdHYddPSkSgaPvsW", "WRX1W7FcGSkxk0SsWPb/W7FdT1WxhX1ul0bUWQy7", "WQtcV8klW4VdVHDaWOJcTa", "CCoWWRhcGM7dSbhdKZRcGHrV", "WO7cNCk6C8oICqRcVePz", "W7riiSkqW7XgWPJcTCkIWOCakKu", "W6DHW7CwhmkCWQupWQRdIa", "WPacWPeYiSkaW6qmvYRdLa", "AKxdMa", "zmkSnmoKswS", "F8kIW75DoSo+F8osCxJdSrLG", "W4hdMSkLBMtdHYlcRSk0vx8", "mvFdO8oNEa", "W4L3xM7dUmkpW7PaW7aPWQzUW7uLeI4", "W7moWOTknW", "W57cPWTaW7ZcMCouW7C8", "vd/cUMxcVSoVvmoMsmo3W5SaWPK/qN1JBCogAta", "CGX/crRdPmoQoumCyq", "W6FcHvbnzNhdP182k8ovWPm", "W7NcQv9LyhRdVf8wnW", "fmouW4jxW6FdHCkeWPa", "WPDoDCk9nc8vfSoMWO8GW7NcHv7dJG", "W75ucmktW6zvWRNcV8kPWPqn", "WPXZW4vsEKNdJa", "fSoyW4zgW6/dG8kaWORcJeZcQCoLdmk9W4eNldpdHdFdQCkI", "WRxcO8kAW77dTajcWPpcTK1BdW", "WPVdNJpcQ8otnCkwW6JdLJ15eb7dKcNcKCo9xG7cJr7cIYRdUCkx", "W4e7ta", "WRlcRCkXzSogEt3cRfrkW4VdSSkx", "FCoIWPJdGSkRCbtdHNGuW4pdUWpdNmk2pI5VDW", "nSoPmCk/W5yFgIVdVmkWWROlWOi", "W7nTW4CwcCkbWOieWQG", "zmkpcmoTBvq3W73cTYRdHSks", "WR/cHJH+pZP3wea", "WQFdSSkN", "lt7cTJpdNmklwJpdTM3cTudcGrqNvIiqcSoq", "W7qaW6RcNxpcNWfPDq/cGmoOWRy", "n2XNWQldRGq6FG", "nCo8i8kYW5yagIVdVmkWWROlWOi", "W7yrymkduq", "W5JdM8kjDwxdLtlcUCkv", "W4hcL1zLughdR0Oxiq", "dCoYDKpdRq", "B8k4W7jimmoRrCovzG", "uCo/WPldU8knEbFdQLCbW5JdUqNdT8kflsv1", "lmoJaCkQW50rlcldQ8kIWPerWRlcGSkyxW", "kCk6W4NcHmouidldOvWVW5/dPW", "oCkuW5WXteJcH0xdIHFdH01vWP8", "WQhcPSkYW4ZdHW", "WQvsW7jJ", "f8odqwVdLa5zW7PRssrOw1pcRZLu", "WQldLvJcVSk5WRRcRG", "W7meFSkFwMX0cXy", "WOZcN1pcT1K", "r0LcCxegW5KKWOeBcCkaFW", "WOpdKc3cJSolamkPW6ZdMX1KjcldLJpcT8oH", "FmoQWPldMCkECa3dHG", "hZhcQWNdGq", "p3THWQZdUa", "ye9CwxewW7yRWRekfmkeB8kIWP0", "d0nXW5FdSIhdS8oI", "WOCPWOdcQ8oY", "WQWzWOpcQCo4", "W4VcOmkmWPrG", "W7FdHhviW6Tffmo+WQq", "kmkWW4KICa", "p8oVCb7dT8kNWOlcOmo5WPrzyrj6WQO", "WO5UW63cPCkE", "q0fbzxiuW6W", "W7tdGNvoW6e", "WQhcQSkDW6BdPbXH", "WR0aWPBcI8o0WOGgWQWXCNz9WQyvWO3dQ2rbWQPlW59hWOjWDv7dK8kNcq3cTKldVCoLWOb7d8kKWRGGWRRdM8oWW7BdVsybW4qIeSoqrmkPW5byWOddKhK4W7zBeW", "kfJdKmo9gSkbfSkuWQuAWOH1hSo9n8kXW7O", "W6FcG09OtNRdQKSonW", "WRJdNK3cOG", "FSoMrImvFG", "bZddHq", "s8o2WOldGSkjFcRdHKSbW57dSqK", "W7RcOmkoW7pdOqvHW4FcSLPBfSoWW5jhtmkvW6m", "WP0tWOC2dmkk", "W4/cRbXmW73cNSkaW6i5cCk4WOpcQdurymoI", "f8oqW5XBW4ZdGSonWPtcGvhcQCoSmCkQW5CTha", "WPJcSSk8sCobAahcOKm", "W55SshldOmkWW7ruW6WQWQbZW70lfbmoW53dIGP8ACk1WOOEW7Sq", "dSkCaCkDpL/dVW", "mMb3WQy", "hLDTW5O", "C8ktW5m0s0/cVLVdJeNdGvbm", "W5fOaSkIW4z+WPVcKCkeWRK", "WQDzCSkLdcyp", "b8ohW45lW6BdICkzWPhcS0BcUSo3lmkWW4i", "FmoLrsHyzXeziCk+dhHVW60SW7f9A8oqcNpcT8oqWPFdPSoncCoXWOlcOSkLstvqWRH5yq", "W4lcK0HPzhVcTeOBiSoa", "W4SUdmodctO9WQ7cGZ8aWRW", "WQX1wSkalq", "r8kqaSoo", "WQddQ8k7W68JWOe", "a8ooua", "b8oesMhdKsz6W7P3EJv/wW", "qKvCEMWfW5GKWOSoimkcuCkPWP3dRSogWRhcMKBcJKK", "W6qmW7dcTMVcHGj+AaNcJmo5WQDtvCklcSkLW5GxhcOQWOm", "wmoxCXe/ra", "gmoOBshdU8kRWO/cQCoIW6XszHP8W7dcKJz6hSkfDCo3WR8", "Fan1bdZdPCo9pa", "W6mFySkqxwXocb3dJmk+hmkq", "CCoHWPldMSkzDrZdKa", "WQDzz8kThIrbe8ouWPGZW6lcMetdM8klWPi", "k8o1oSk/", "W4WXW4/cLeG", "W5FcVCkUWOrOWP7dO2hcSW", "pwXNWOldQdeRBbatgSkGWOTOW4q", "gcVdJCkQWRdcGSoPr8k1W4JcHJu", "WO1QW6tcJCkpixKtW416W6RdTuS", "oKtdSa", "f8oAW5HCW4FdG8kwWOdcO0VcQCoViSk2W6i+cJxdKx0", "gN/dOCongSkKj8kLWPibWQLKpSoudmkBW4m9", "WPBdKJtcU8o4mCkOW6JdSqbRnWpdJb3cUSoZxHRcHW", "W7aCBCkpuxLkbahdNSk4ca", "WOldHetcV8k1WPJcR8kRu8oaDG", "W6uDzCkcC2PWcb/dM8kZm8kCfXzGs3JcQrRcTG", "pSkqW447sG", "W4hdKfTEW5buhSo6WPjbWQ7dImkJySkP", "WPLVW7tcHmkOivGaW5zVW6y", "WQ/cUxVcLx3dGvSYWQ7dMLpdKmkveSoMW70hW5RdIuldRWxdMSkfea", "f8oErNtdMZnaW71G", "gurWW4ddQtZdPCo8qq", "W4dcMuLfyNBdPG", "W57dStVcKq8RdvdcTH0yw8kkWP4KW4y", "BmoFg8obFLW0WPdcPJ3dH8ktWRVdJ0bmCI5UvJdcK8k7emkkWRFcNv7cVq", "fmkbWRS", "f8oqW4XDW5NdJCkdWOe", "lY7cQWVdSSkgxXBdIhlcOfJcIaO", "W64AW6m", "DCk+W5fli8oyt8odANJdVq", "nLZdL8o3cmkEhCkEWR45", "WOD5uSkflayVpmoGWRKxW53cS3ZdRmkRWQ/dLa", "wclcIMdcP8opvmolrCo4", "W4RdRtZcLaSVg13cMba", "kmo4AZNdVCk9WP/cTCoU", "W4/cMf1V", "W4/cTSk+WObQWPBdUwu", "W5lcOCkLWOz8WPldVNFcMfrV"];e = function () {return wp;};return e();}var gk = bU({""() {(ga(), gb(), gc(), gd(), ge(), gh(), gi());}}), gl = bV({""(g) {"use strict";var kx = f, h = {"agWpX": function (D, E) {return D === E;},"snKxj": "object","evSVs": "function","sjMfc": "ConfigService","YLALi": "runtimeConfig","lgKCS": "appConfig","JsGVk": "hashCode","ULfpr": function (D, E, F, G) {return D(E, F, G);},"rjRMZ": "_localPort","xoiEW": "errorPageUrl","xYARh": function (D, E, F, G) {return D(E, F, G);},"tlGkv": "appStartTime","VJCuK": function (D, E, F, G) {return D(E, F, G);},"RwytL": function (D, E, F, G) {return D(E, F, G);},"rymcC": "isAppActive","rtRlz": "isAppSlept","kgSPb": function (D, E, F, G) {return D(E, F, G);},"awGUn": function (D, E, F, G) {return D(E, F, G);},"Ajivr": function (D, E, F, G) {return D(E, F, G);},"VtmIe": function (D, E, F, G) {return D(E, F, G);},"wWZof": function (D, E, F, G) {return D(E, F, G);},"UAUyZ": kx(500, "qfnC"),"XFXgK": "authOriginsChange$","htQei": "openMainWindowPage$","jPlPp": function (D, E, F, G) {return D(E, F, G);},"zdpvS": function (D, E, F, G) {return D(E, F, G);},"PUONn": "appConfigUpdated$","sQrwZ": function (D, E, F, G) {return D(E, F, G);},"ZeGNO": function (D, E, F, G) {return D(E, F, G);},"hKHVS": function (D, E, F, G) {return D(E, F, G);},"UDWvp": "watchAppLogChange$","zPBSq": function (D, E, F, G) {return D(E, F, G);},"FydAq": "mainWinInitShowSub","puneW": "timeoutOfPopLogin","FulHV": "timeoutOfReqInteractive","snDah": "intervalOfTakeSamples","xbWVd": "_biliAuthOrigins","pFFWO": "pc_electron","WrpHC": "BiliGame","fMfmt": kx(599, "KdL&"),"NyvBe": function (D, E) {return D(E);},"iqMFy": function (D, E) {return D(E);},"JhaWj": function (D, E) {return D(E);},"SHBfS": function (D, E) {return D(E);},"stZVo": function (D, E) {return D(E);},"hKeCK": function (D, E) {return D(E);}};var i = g && g["__decorate"] || (function (D, E, F, G) {var ky = kx, H = arguments["length"], I = H < 3 ? E : G === null ? G = Object["getOwnPropertyDescriptor"](E, F) : G, J;if (h[ky(1450, "EcL6")](typeof Reflect, "object") && typeof Reflect["decorate"] === "function") I = Reflect["decorate"](D, E, F, G); else {for (var K = D[ky(1345, "TZU2")] - 1; K >= 0; K--) if (J = D[K]) I = (H < 3 ? J(I) : H > 3 ? J(E, F, I) : J(E, F)) || I;}return (H > 3 && I && Object["defineProperty"](E, F, I), I);}), j = g && g["__metadata"] || (function (D, E) {var kz = kx;if (h["agWpX"](typeof Reflect, h["snKxj"]) && typeof Reflect["metadata"] === h[kz(416, "(]yY")]) return Reflect["metadata"](D, E);}), k = g && g["__importDefault"] || (function (D) {return D && D["__esModule"] ? D : {"default": D};});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["ConfigService"] = void 0);var l = h["SHBfS"](require, "@nestjs/common"), m = (fM(), h[kx(1772, "gUtk")](c0, fI)), n = require("rxjs"), o = require("@bilibili/b-utils-core"), q = (dh(), c0(dg)), r = h["hKeCK"](require, "electron"), t = require(kx(2132, "Locc")), u = (gk(), c0(gj)), w = (fy(), c0(fx)), z = require("path"), A = k(require("os")), B = k(require(kx(1282, "Mqcd"))), C = class D extends m["BaseService"] {constructor() {var kA = kx, E = {"vnfol": "nZoLY"};(super(h[kA(497, "(]yY")]), c1(this, "isConfigDev", ![]), c1(this, h["YLALi"], global["runtimeConf"] || (0, q[kA(866, "8gI1")])()), c1(this, h["lgKCS"], w["DEFAULT_APP_CONFIG"]), c1(this, "injectCodeConfig", {"codes": []}), c1(this, "generalConfig", {}), c1(this, "generalConfigKeys", Object["keys"](new u["GeneralConfig"]())), c1(this, "customConfig", {}), c1(this, "customConfigKeys", Object[kA(1427, "JO9c")](new u["CustomConfig"]())), c1(this, h["JsGVk"], ""), h["ULfpr"](c1, this, h["rjRMZ"], w[kA(770, "KdL&")]), c1(this, "proxyAgent_", null), c1(this, h["xoiEW"], w["LOCAL_FILE_HOST"] + "/failed.html"), h["ULfpr"](c1, this, "_buvid", ""), h["xYARh"](c1, this, "deviceName", A["default"]["hostname"]()), c1(this, "systemFp", null), c1(this, "gaiaFp", null), c1(this, "sysVersion", ""), c1(this, "deviceId", ""), h["xYARh"](c1, this, kA(946, "h9c@"), w["BUILD"]), h["ULfpr"](c1, this, "chid", w["CHID"]), c1(this, "macAddress", ""), c1(this, "sessionId", (0, o["randomId"])(18)), c1(this, h["tlGkv"], global[kA(2129, "5Oa*")] || Date["now"]()), h["ULfpr"](c1, this, "appReadyTime", global[kA(1045, "1iAQ")] || Date["now"]()), c1(this, "appAwakeTime", Date["now"]()), h["ULfpr"](c1, this, "appQuitTime", Date["now"]()), c1(this, kA(1177, "!v[t"), Date["now"]()), c1(this, "appDeactiveTime", Date["now"]()), c1(this, "fontList", w["FONTS_LIST"]), c1(this, "abTestInfo", {}), c1(this, "isSystemDarkTheme", r["nativeTheme"]["shouldUseDarkColors"]), h["VJCuK"](c1, this, "appUserAgent", w[kA(1605, "KdL&")]), c1(this, "openPlayerParams", null), c1(this, kA(329, "5Oa*"), {}), c1(this, kA(2188, "CN4e"), null), c1(this, "catchCloseWinIds", []), c1(this, "isMainWindowMini", ![]), c1(this, "appHeartbeatCount", 0), c1(this, "windowOpenedUrls", {}), c1(this, kA(864, "nwHl"), {}), c1(this, "isGamepadEnabled", ![]), c1(this, "defaultGameDownloadPath", ""), c1(this, "powerSaveBlockerId", null), h["RwytL"](c1, this, "appWebviewIds", []), c1(this, h["rymcC"], ![]), c1(this, kA(1333, "5Oa*"), ![]), c1(this, "isAppReady", ![]), h["RwytL"](c1, this, h[kA(1952, "Qd![")], ![]), c1(this, "isAppSleeping", ![]), c1(this, "isSplashWindowReady", ![]), h["RwytL"](c1, this, "isMainWindowReady", ![]), c1(this, "isRenderRestricted", global["isRenderRestricted"]), h["kgSPb"](c1, this, "isMainWindowShowed", ![]), c1(this, "isSearchPageReady", ![]), c1(this, "isPlayerWindowReady", ![]), c1(this, "isPlayerWindowPined", ![]), c1(this, "isHideByBossShortcut", ![]), c1(this, "isAppSilentInstall", ![]), c1(this, "isPrivacyPolicyAccepted", ![]), h["awGUn"](c1, this, "isReportStatusInited", ![]), c1(this, "isForceCloseWindows", ![]), c1(this, "isIncrementPatchReady", ![]), c1(this, "isAppConfigReady", ![]), c1(this, "isInitPlayerWinFirst", ![]), c1(this, "isOpenedByLocalVido", ![]), h["awGUn"](c1, this, "isOnLoginFetch", ![]), c1(this, "isHitLoginRisk", ![]), c1(this, "isLiveRoomWindowOpened", ![]), c1(this, kA(1921, "BDj!"), !![]), c1(this, "mainWindow", null), c1(this, kA(2094, "YUg@"), null), c1(this, "loginWindow", null), h[kA(2034, "Ni8i")](c1, this, "loginRiskWindow", null), h["VtmIe"](c1, this, "uploadWindow", null), c1(this, "liveNowWindow", null), c1(this, kA(1814, "3BTs"), null), c1(this, "liveRoomGpView", null), c1(this, "appLogWindow", null), h["VJCuK"](c1, this, "testWindow", null), h["wWZof"](c1, this, kA(644, "Mqcd"), null), h["VtmIe"](c1, this, "universalView", null), h["RwytL"](c1, this, h["UAUyZ"], null), c1(this, "biliPetWindow", null), c1(this, "buvidReady$", new n["Subject"]()), h["ULfpr"](c1, this, "appReady$", new n["Subject"]()), h["VJCuK"](c1, this, kA(718, "(]yY"), new n["Subject"]()), c1(this, "appHeartbeat$", new n["Subject"]()), c1(this, "createDefaultWindows$", new n["Subject"]()), c1(this, "authCookiesChange$", new n["Subject"]()), c1(this, "userLoginChange$", new n[kA(1797, "8gI1")]()), c1(this, h["XFXgK"], new n["Subject"]()), c1(this, kA(390, "TZU2"), new n["Subject"]()), c1(this, "loginWinStatusChange$", new n["Subject"]()), c1(this, "forcusMainWindow$", new n["Subject"]()), c1(this, h["htQei"], new n["Subject"]()), c1(this, "openPlayerWindow$", new n["Subject"]()), c1(this, "reportFpInfo$", new n["Subject"]()), c1(this, "splashWindowReady$", new n["Subject"]()), c1(this, "mainWindowReady$", new n["Subject"]()), h["jPlPp"](c1, this, "mainWindowEventsReady$", new n["BehaviorSubject"](![])), c1(this, "splashWindowFirstReady$", new n["Subject"]()), c1(this, "mainWindowFirstReady$", new n["Subject"]()), c1(this, "mainWindowInitShow$", new n["Subject"]()), c1(this, "focusPlayerWindow$", new n["Subject"]()), c1(this, "searchPageReady$", new n["Subject"]()), c1(this, "playerWindowReady$", new n["Subject"]()), c1(this, "appActiveChange$", new n[kA(324, "jubI")]()), h["zdpvS"](c1, this, "biliDownloadReady$", new n["Subject"]()), h[kA(2044, "^M%9")](c1, this, "downloadPathChange$", new n["Subject"]()), c1(this, "gameDownloadPathChange$", new n["Subject"]()), c1(this, "wakeUpBiliApp$", new n["Subject"]()), c1(this, "requestPopLoginWindow$", new n["Subject"]()), c1(this, "playingWinStatusChange$", new n["Subject"]()), c1(this, h[kA(2192, "nNM[")], new n["Subject"]()), c1(this, "dlParallelNumChange$", new n["Subject"]()), c1(this, "onQuitingApp$", new n[kA(1355, "LCu@")]()), c1(this, "beforeQuitApp$", new n["Subject"]()), h["sQrwZ"](c1, this, "abTestInfoChange$", new n["Subject"]()), c1(this, kA(2241, "Qd!["), new n["Subject"]()), h["ZeGNO"](c1, this, "acceptPrivacyPolicy$", new n["Subject"]()), c1(this, "autoUpdateInfoReady$", new n["Subject"]()), c1(this, "onNewExpPlayerReady$", new n["Subject"]()), h["hKHVS"](c1, this, h["UDWvp"], new n["Subject"]()), c1(this, "onOpenInBrowser$", new n["Subject"]()), h[kA(1529, "nwHl")](c1, this, "openOrFocusUniversalWindow$", new n["Subject"]()), h["zPBSq"](c1, this, "downloadChangeEvent$", new n["Subject"]()), c1(this, "loginSub", null), c1(this, "popLoginSub", null), c1(this, "deepLinkSub", null), c1(this, h["FydAq"], null), c1(this, "timeoutOfAppSleepCheck", null), c1(this, "timeoutOfAppSleep", null), c1(this, h["puneW"], null), c1(this, "timeoutOfPopLoginCheck", null), c1(this, "timeoutOfPopLoginFirst", null), c1(this, "timeoutOfUrlSchemeOpen", null), c1(this, h["FulHV"], null), c1(this, "timeoutOfNotification", null), c1(this, "timeoutOfFirstPush", null), c1(this, "intervalOfAppHeartbeat", null), c1(this, "intervalOfAppUpdateCheck", null), h["hKHVS"](c1, this, "intervalOfAppRemoteConfig", null), h["VJCuK"](c1, this, "intervalOfPlayerConfig", null), c1(this, "intervalOfInjectCodeConfig", null), c1(this, "intervalOfMiniMainMouse", null), c1(this, "intervalOfMiniPlayerMouse", null), c1(this, "intervalOfAbFlagReport", null), h["Ajivr"](c1, this, h["snDah"], null), c1(this, "intervalOfEnquireNotify", null), c1(this, "intervalOfReportLog", null), c1(this, "intervalOfReportGaiaFp", null), c1(this, "intervalOfBiliPetHover", null), c1(this, "intervalOfBiliPetMove", null), c1(this, h["xbWVd"], [w["LOCAL_FILE_HOST"], ...w["IS_DEV"] ? [w["DEV_SERVER"]] : []]), c1(this, "proxyHandler", () => {var kB = kA;if ("jvbCb" === E["vnfol"]) (k[kB(2229, "w$r8")](), l["setAlwaysOnTop"](!![]), m(() => o["setAlwaysOnTop"](![])), this[kB(748, "D0T^")]["createApplicationTray"]()); else {const G = this;return {"get": function (H, I) {return H[I];},"set": function (H, I, J) {H[I] = J;if (I === "length") G["authOriginsChange$"]["next"]();return !![];}};}}), c1(this, "biliAuthOrigins", new Proxy(this["_biliAuthOrigins"], this["proxyHandler"]())), this["beforeQuitApp$"]["subscribe"](() => this["handleBeforeQuitApp"]()), this["onQuitingApp$"]["subscribe"](() => this["handleQuitingApp"]()), this["intervalOfAppHeartbeat"] = setInterval(() => {this["appHeartbeat$"]["next"](++this["appHeartbeatCount"]);}, 1000));}get ["isDevMode"]() {return w["IDM"] || this["isConfigDev"];}set ["localPort"](E) {var kC = kx;(global[kC(1753, "(3!I")] = "http://localhost:" + E, this["_localPort"] = E);}get ["localPort"]() {return this["_localPort"];}get ["localServer"]() {return "http://localhost:" + this["localPort"];}get ["proxyAgent"]() {const {enableProxyAgent: E} = this["customConfig"];return E ? this["proxyAgent_"] : null;}set ["proxyAgent"](E) {var kD = kx;this[kD(1582, "mnQ[")] = E;}get ["buvid"]() {return this["_buvid"];}set [kx(641, "LCu@")](E) {this["_buvid"] = E;if (E && E !== "failed") this["buvidReady$"]["next"]();}get ["isCanReportPrivate"]() {var kE = kx;return this[kE(2253, "nwHl")] || w[kE(2078, "ry$4")] && !this["isAppSilentInstall"] || w["IS_LINUX"];}get ["ffmpegPath"]() {return (0, t["existsSync"])(w["FFMPEG_EXE"]) ? w["FFMPEG_EXE"] : "";}get ["biliServerDomains"]() {var kF = kx;if ("tMDYt" !== "qnkpG") return [...w["BILI_SERVERS"], ...this["appConfig"]["appServers"] || []]; else {const [F, G, H, I, J, K] = this["getGamepadWindowAndViews"](), {width: width = 200, height: height = 300} = j["params"] || ({});if (k["id"] === H?.["id"]) this[kF(763, "JO9c")]["centerBrowserView"](H, J, {"width": width,"height": height}); else l["id"] === I?.["id"] && this["utilsService"]["centerBrowserView"](I, K, {"width": width,"height": height});return;}}["getAppInfo"]() {var kG = kx;return {"app_id": 112,"version": w[kG(791, "Mqcd")],"install_version": w[kG(458, "FoL8")],"build": this[kG(665, "TZU2")],"fawkes_id": w[kG(695, "KdL&")],"chid": this["chid"],"mobi_app": h["pFFWO"],"platform": w["IS_WIN"] ? 4 : w["IS_MAC"] ? 8 : w["IS_LINUX"] ? 9 : 4,"device_id": this["deviceId"],"device": w["IS_WIN"] ? "win" : w["IS_MAC"] ? "mac" : w[kG(2147, "YUg@")] ? "linux" : "unknown","platform_": "web","buvid": this["buvid"],"electron": process["versions"]["electron"],"chromium": process["versions"]["chrome"],"nodejs": process["versions"][kG(1860, "BDj!")],"sys_version": this[kG(330, "43KF")],"is_win7or8": w["IS_WIN7OR8"],"is_win10": w["IS_WIN10"],"is_win11": w["IS_WIN11"]};}["checkIsAppForceUpdate"](E = !![]) {var kH = kx;if (w[kH(1986, "3BTs")]) return ![];if (!this["autoUpdateInfo"] && E) return !![];const {forceUpdate: F} = this["autoUpdateInfo"] || ({});if (F && B["default"][kH(345, "UmJ6")](w["APP_VERSION"], F)) return !![];return ![];}["getDefaultGameDownloadPath"](E = ![]) {var kI = kx;if (this["defaultGameDownloadPath"]) return this["defaultGameDownloadPath"];let F = "";if (w["IS_WIN"]) try {if ((0, t["existsSync"])("D:\\")) F = kI(1683, "Qd!["); else (0, t["existsSync"])("C:\\") && (F = "C:\\BiliGame");E && (0, t["ensureDirSync"])(F);} catch (G) {F = (0, z["join"])(w["OS_HOME_DIR"], kI(752, "TZU2"));} else F = (0, z["join"])(w["OS_HOME_DIR"], h["WrpHC"]);return (this["defaultGameDownloadPath"] = F, F);}["handleBeforeQuitApp"]() {var kJ = kx;(this[kJ(1354, "Li1q")]["info"]("Clearing..."), r["BrowserWindow"]["getAllWindows"]()["forEach"](E => E["hide"]()));try {(0, t["removeSync"])(w["TEMPFILES_PATH"]);} catch (E) {this["log"]["error"]("Failed to remove temp files:", E);}}["handleQuitingApp"]() {var kK = kx;(this["log"]["info"](h["fMfmt"]), this["isForceCloseWindows"] = !![], (0, q["setRunTimeConf"])({"localServer": "","reportSuccess": ![]}), this["powerSaveBlockerId"] && (r["powerSaveBlocker"]["stop"](this["powerSaveBlockerId"]), this["powerSaveBlockerId"] = null), this["loginSub"]?.["unsubscribe"](), this["popLoginSub"]?.[kK(1095, "uaSA")](), this["deepLinkSub"]?.["unsubscribe"](), this["mainWinInitShowSub"]?.["unsubscribe"](), clearTimeout(this["timeoutOfAppSleepCheck"]), clearTimeout(this["timeoutOfAppSleep"]), clearTimeout(this["timeoutOfPopLogin"]), h["NyvBe"](clearTimeout, this["timeoutOfPopLoginCheck"]), clearTimeout(this["timeoutOfPopLoginFirst"]), clearTimeout(this["timeoutOfUrlSchemeOpen"]), clearTimeout(this["timeoutOfReqInteractive"]), h["NyvBe"](clearTimeout, this["timeoutOfNotification"]), h[kK(1306, "kdon")](clearTimeout, this["timeoutOfFirstPush"]), clearInterval(this["intervalOfAppHeartbeat"]), h["iqMFy"](clearInterval, this["intervalOfAppUpdateCheck"]), clearInterval(this["intervalOfAppRemoteConfig"]), clearInterval(this["intervalOfPlayerConfig"]), clearInterval(this["intervalOfInjectCodeConfig"]), clearInterval(this["intervalOfMiniMainMouse"]), clearInterval(this["intervalOfMiniPlayerMouse"]), clearInterval(this["intervalOfAbFlagReport"]), clearInterval(this["intervalOfTakeSamples"]), clearInterval(this["intervalOfEnquireNotify"]), clearInterval(this["intervalOfReportLog"]), h["JhaWj"](clearInterval, this["intervalOfReportGaiaFp"]), clearInterval(this["intervalOfBiliPetHover"]), clearInterval(this["intervalOfBiliPetMove"]), this["catchCloseWinIds"] = []);}["assignConsts"](E) {var kL = kx;(E["APP_VERSION"] = w["APP_VERSION"], E["BUILD"] = w["BUILD"], E["BUILD_CODE"] = w["BUILD_CODE"], E["CHID"] = w["CHID"], E["IS_PRE_INSTALL"] = w["IS_PRE_INSTALL"], E[kL(1330, "9Bou")] = w["IDM"], E[kL(2225, "Ni8i")] = w["FAWKES_BUILD_ID"], E["FAWKES_JOB_ID"] = w["FAWKES_JOB_ID"], E["PLATFORM"] = w["PLATFORM"], E["FALL_ASLEEP_TIME"] = w["FALL_ASLEEP_TIME"], E["IS_FREEZE_VERSION"] = w["IS_FREEZE_VERSION"], E["POP_LOGIN_DURATION"] = w["POP_LOGIN_DURATION"], E["NO_POP_LOGIN_AT_START"] = w["NO_POP_LOGIN_AT_START"], E[kL(1089, "1x5q")] = w["IS_SHOW_REPORT_LOG"], E["IS_DEV"] = w["IS_DEV"], E["IS_MAC"] = w["IS_MAC"], E["IS_WIN"] = w["IS_WIN"], E["IS_LINUX"] = w["IS_LINUX"], E["FONTS_LIST"] = w["FONTS_LIST"], E["DEFAULT_APP_CONFIG"] = w["DEFAULT_APP_CONFIG"], E["DEFAULT_SERVER_PORT"] = w[kL(1542, "TZU2")], E["DEFAULT_USER_AGENT"] = w["DEFAULT_USER_AGENT"], E["LOCAL_FILE_HOST"] = w["LOCAL_FILE_HOST"], E["FFMPEG_EXE"] = w["FFMPEG_EXE"], E["INSTALL_VERSION"] = w["INSTALL_VERSION"], E["DEV_SERVER"] = w["DEV_SERVER"], E["BILI_SERVERS"] = w[kL(1373, "Li1q")]);}};(C = i([(0, l[kx(2289, "8gI1")])(), j("design:paramtypes", [])], C), g["ConfigService"] = C);}}), gm = {};bW(gm, {"EventsBase": () => go});var gn, go, gp = bU({""() {(fM(), gn = require("electron"), go = class extends cd {constructor(g, h) {var kM = f;(super(g), this[kM(1383, "!L3p")] = h);}["sendEventToAllWindows"](g, ...h) {if (this["configService"]["isAppReady"]) {if ("xSMiP" === "xSMiP") {gn["BrowserWindow"]["getAllWindows"]()["forEach"](l => l["webContents"]["send"](g, ...h));const {universalView: i, universalGpView: j, liveRoomGpView: k} = this["configService"];([i, j, k]["forEach"](l => l?.["webContents"]?.["send"](g, ...h)), this["configService"]["appWebviewIds"]["length"] && this["configService"]["appWebviewIds"]["forEach"]((l, m) => {var kN = f;const n = gn[kN(886, "Qd![")]["fromId"](l);n ? n["send"](g, ...h) : this["configService"]["appWebviewIds"]["splice"](m, 1);}));} else (this["sendEventToWindow"](this["configService"]["mainWindow"], "window/playerWindowMiniChange", {"data": i}), this["sendEventToWindow"](this["configService"]["playerWindow"], "window/playerWindowMiniChange", {"data": j}));}}["sendEventToWindow"](g, h, i = {"data": null}) {var kO = f;g?.["webContents"]?.["send"](h, i);const j = g?.[kO(925, "EcL6")]?.() || [];j["length"] && j[kO(1830, "hGVL")](k => k["webContents"]["send"](h, i));}});}}), gq = bV({""(g) {"use strict";var kR = f, h = {"pZcKR": function (q, r) {return q < r;},"kleMM": "function","frrzM": "哔哩哔哩","ryknS": "click","JrDpg": "events/followUsers","UvmMW": "events/windowClosed","mOXcq": function (q) {return q();},"eMdnP": function (q, r) {return q !== r;},"AjIgW": "KiWuK","XiyLN": "WKQnL","RAOFG": "config/dlParallelNumChange","fROLc": "window/mainWindowMouseLeave","QMRXm": "system/gamepadLiveInfo","lnxUm": "design:paramtypes"};var i = g && g["__decorate"] || (function (q, t, u, w) {var kP = f, z = arguments["length"], A = h["pZcKR"](z, 3) ? t : w === null ? w = Object["getOwnPropertyDescriptor"](t, u) : w, B;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") A = Reflect[kP(743, "YUg@")](q, t, u, w); else {for (var C = q["length"] - 1; C >= 0; C--) if (B = q[C]) A = (z < 3 ? B(A) : z > 3 ? B(t, u, A) : B(t, u)) || A;}return (z > 3 && A && Object["defineProperty"](t, u, A), A);}), j = g && g["__metadata"] || (function (q, r) {var kQ = f;if ("TQFZO" === "hZcyD") this["sendEventToAllWindows"]("config/generalConfigChange", {"data": h}); else {if (typeof Reflect === "object" && typeof Reflect[kQ(369, "5Oa*")] === h["kleMM"]) return Reflect["metadata"](q, r);}}), k;(Object[kR(1559, "8gI1")](g, "__esModule", {"value": !![]}), g["EventsService"] = void 0);var l = require("@nestjs/common"), m = (gp(), c0(gm)), n = gl(), o = class q extends m["EventsBase"] {constructor(r) {var kS = kR;(super(kS(1376, "5Oa*"), r), c1(this, "configService"), this["configService"] = r, this["configService"][kS(2259, "KdL&")]["subscribe"](() => {this["emitBeforeAppQuit"]();}), this[kS(1934, "%AQh")]["abTestInfoChange$"]["subscribe"](t => {this["emitAbTestInfoChange"](t);}), this["configService"]["appConfigUpdated$"]["subscribe"](() => {this["emitRemoteConfigChange"](this["configService"]["appConfig"]);}), this["configService"]["acceptPrivacyPolicy$"]["subscribe"](() => {if ("tCaAX" === "tCaAX") this["emitAcceptPrivacyPolicy"](); else return this["configService"]["generalConfigKeys"];}));}["emitUserLogin"]() {var kT = kR;(this["log"]["info"]("Login successful!"), this["configService"]["userLoginChange$"]["next"](!![]), this["sendEventToAllWindows"]("auth/userLogin"), this[kT(1422, "1x5q")]("auth/userLoginChange", {"data": !![]}));}["emitUserLogout"]() {var kU = kR;(this[kU(1085, "jubI")][kU(1092, "nNM[")]("Logout successful!"), this["configService"][kU(1066, "V[Zi")]["next"](![]), this["sendEventToAllWindows"](kU(1237, "5Oa*")), this["sendEventToAllWindows"]("auth/userLoginChange", {"data": ![]}));}["emitMainWindowThemeChange"]() {this["sendEventToAllWindows"]("window/mainWindowThemeChange", {"data": null});}["emitFollowUsersChange"](r, t) {var kV = kR;(r ? "XOhSV" === "dsMsB" ? (this["appTray"] = new m["Tray"](n["APP_TRAY_ICON_PATH"]), this["appTray"]["setToolTip"](h["frrzM"]), !o["IS_MAC"] && (this["log"]["info"]("Creating app tray."), this["appTray"]["setContextMenu"](u["Menu"]["buildFromTemplate"]([{"label": "设置","click": () => this["configService"]["openMainWindowPage$"]["next"]({"page": "SettingsPage"})}, {"label": "意见反馈","click": () => this["utilsService"][kV(1528, "9Bou")](A["FEEDBACK_URL"], "main.TrayMenu")}, {"label": "官网","click": () => this["utilsService"][kV(1892, "h9c@")]("https://www.bilibili.com", "main.TrayMenu")}, {"label": "退出应用","click": () => A["app"]["quit"]()}]))), this["appTray"]["on"](h["ryknS"], () => this["toggleMainWindow"]())) : this["sendEventToAllWindows"](h["JrDpg"], {"data": {"uids": t}}) : this[kV(1220, "3BTs")]("events/unfollowUsers", {"data": {"uids": t}}), this["sendEventToAllWindows"]("events/followUsersChange", {"data": {"follow": r,"uids": t}}));}["emitBeforeAppQuit"]() {this["sendEventToAllWindows"]("events/beforeAppQuit", {"data": null});}["emitAddWatchLater"](r) {this["sendEventToAllWindows"]("events/addWatchLater", {"data": r});}["emitAcceptPrivacyPolicy"]() {this["sendEventToAllWindows"]("auth/acceptPrivacyPolicy", {"data": null});}["emitAppInfoChange"]() {this["sendEventToAllWindows"]("auth/appInfoChange", {"data": null});}["emitUserInfoChange"]() {this["sendEventToAllWindows"]("auth/userInfoChange", {"data": null});}["emitBigVipPaySuccess"]() {var kW = kR;this["sendEventToAllWindows"](kW(1332, "qfnC"), {"data": null});}["emitFontsInfoChange"]() {this["sendEventToAllWindows"]("system/fontsInfoChange", {"data": null});}["emitSystemFontChange"](r) {this["sendEventToAllWindows"]("config/systemFontChange", {"data": r});}["emitHideByBossShortcut"]() {this["sendEventToAllWindows"]("events/hideByBossShortcut", {"data": null});}[kR(803, "Locc")]() {"GkNou" === "GkNou" ? this["sendEventToAllWindows"]("events/showByBossShortcut", {"data": null}) : this["report"]({"type": "click","spm_id": "main.main.main-page.force-relaunch"}, {"msg": h["stringify"]({})});}["emitAbTestInfoChange"](r) {this["sendEventToAllWindows"]("system/abTestInfoChange", {"data": r});}["emitRemoteConfigChange"](r) {this["sendEventToAllWindows"]("config/remoteConfigChange", {"data": r});}["emitCustomConfigChange"](r) {this["sendEventToAllWindows"]("config/customConfigChange", {"data": r});}[kR(710, "nwHl")](r) {this["sendEventToAllWindows"]("config/generalConfigChange", {"data": r});}["emitPlayerWindowVisibleChange"](r) {this["sendEventToAllWindows"]("window/playerWindowVisibleChange", {"data": r});}["emitGamepadSettingsChange"](r) {this["sendEventToAllWindows"]("system/gamepadSettingsChange", {"data": r});}["emitWindowClosed"]() {this["sendEventToAllWindows"](h["UvmMW"], {"data": null});}["emitWindowStatusChange"]() {var kX = kR;this[kX(1664, "nNM[")]("events/windowStatusChange", {"data": null});}["emitResetWindowState"]() {this["sendEventToAllWindows"]("window/resetWindowState", {"data": null});}["emitGameStatusChange"](r) {var kY = kR, t = {"ELIjo": function (u) {return h["mOXcq"](u);}};if (h["eMdnP"](h["AjIgW"], "KiWuK")) {this["log"]["error"]("decryptData error: ", j["message"]);if (k[kY(2040, "B4nF")]) t["ELIjo"](l);return null;} else this["sendEventToAllWindows"]("game/statusChange", {"data": r});}["emitGameProgressChange"](r) {"FxQiD" !== h["XiyLN"] ? this["sendEventToAllWindows"]("game/progressChange", {"data": r}) : (this["playerConfig"] = h, this["initPlayerVersions"]());}["emitGameActionEvent"](r) {this["sendEventToAllWindows"]("game/actionEvent", {"data": r});}["emitChangeMainWindowTheme"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "window/updateMainWindowTheme", {"data": r});}["emitDownloadParallelNumChange"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], h["RAOFG"], {"data": r});}[kR(2001, "UmJ6")]() {var kZ = kR;this["sendEventToWindow"](this["configService"]["mainWindow"], kZ(1790, "h9c@"), {"data": null});}["emitQuitByCloseMainChange"](r) {var l0 = kR;"xFeFn" === "xEXHF" ? j && this["onGetVersion"](m, this["MAC_LOWEST_SUPPORT_OPENSDK_WECHAT_VERSION"], n) : this["sendEventToWindow"](this["configService"][l0(1441, "(3!I")], "config/quitByCloseMainChange", {"data": r});}["emitOpenMainWindowPage"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "events/goToPage", {"data": r});}["emitUpdateDownload"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "update/downloadProgress", {"data": r});}["emitUpdateInfo"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "update/updateInfo", {"data": r});}["emitPlayerParamsChange"](r) {this["sendEventToWindow"](this["configService"]["playerWindow"], "events/playerParamsChange", {"data": r});}["emitPlayerWindowPinChange"](r) {this["sendEventToWindow"](this["configService"]["playerWindow"], "window/playerWindowPinChange", {"data": r});}["emitPlayerWindowRecover"]() {this["sendEventToWindow"](this["configService"]["playerWindow"], "window/playerWindowRecover", {"data": null});}["emitPlayerWindowMiniChange"](r) {(this["sendEventToWindow"](this["configService"]["mainWindow"], "window/playerWindowMiniChange", {"data": r}), this["sendEventToWindow"](this["configService"]["playerWindow"], "window/playerWindowMiniChange", {"data": r}));}["emitPlayerWindowMouseLeave"]() {this["sendEventToWindow"](this["configService"]["playerWindow"], "window/playerWindowMouseLeave", {"data": null});}["emitMainWindowMiniChange"](r) {(this["sendEventToWindow"](this["configService"]["mainWindow"], "window/mainWindowMiniChange", {"data": r}), this["sendEventToWindow"](this["configService"]["playerWindow"], "window/mainWindowMiniChange", {"data": r}));}["emitMainWindowMouseLeave"]() {this["sendEventToWindow"](this["configService"]["mainWindow"], h["fROLc"], {"data": null});}[kR(681, "LCu@")](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "window/liveRoomWindowVisibleChange", {"data": r});}["emitDownloadTaskListEvent"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "download/taskListEvent", {"data": r});}[kR(1397, "nmd9")](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "download/itemListEvent", {"data": r});}["emitDownloadStatusChange"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "download/statusChange", {"data": r});}[kR(1055, "FoL8")](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "download/progressChange", {"data": r});}["emitDownloadItemDone"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "download/downloadItemDone", {"data": r});}["emitReceiveNewMessages"](r) {var l1 = kR;this["sendEventToWindow"](this["configService"]["mainWindow"], l1(938, "kdon"), {"data": r});}["emitQuitDialogPopedChange"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "config/quitDialogPopedChange", {"data": r});}["emitIncrementPatchReady"]() {var l2 = kR;this["sendEventToWindow"](this[l2(472, "^M%9")]["mainWindow"], "update/incrementPatchReady", {"data": null});}["emitNewVersionUpdated"]() {this["sendEventToWindow"](this["configService"]["mainWindow"], "update/newVersionUpdated", {"data": null});}["emitReportDownloadSize"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "download/reportDownloadSize", {"data": r});}["emitSavePlayerLog"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "events/savePlayerLog", {"data": r});}["emitAppLogChange"](r) {this["sendEventToWindow"](this["configService"]["appLogWindow"], "system/appLogChange", {"data": r});}["emitUniversalParamsChange"](r) {this["sendEventToWindow"](this["configService"]["universalWindow"], "window/universalParamsChange", {"data": r});}["emitUniversalVisibleChange"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "window/universalVisibleChange", {"data": r});}["emitBiliPetVisibleChange"](r) {this["sendEventToWindow"](this["configService"]["mainWindow"], "window/biliPetVisibleChange", {"data": r});}[kR(774, "BDj!")](r) {this["sendEventToWindow"](this["configService"]["appLogWindow"], "system/isCanInteractiveChange", {"data": r});}["emitMousePositionChange"](r) {this["sendEventToWindow"](this["configService"]["biliPetWindow"], "window/mousePosition", {"data": r});}["emitResetBiliPetModel"]() {var l3 = kR;if ("IOIHZ" !== "IOIHZ") {k(this["configService"]["intervalOfReportLog"]);try {if (!(0, o["existsSync"])(this["tempLogFile"])) return;new q["UploadLog"](this["configService"])["upLoad"]({"preload": {"r": "upos","name": "bili.log","profile": r["IS_MAC"] ? "feedback/bili-mac" : "feedback/bili-win"},"file": this["tempLogFile"],"user": {"mid": this["authService"]["getUserMid"](),"buvid": this["configService"]["buvid"]}});} catch (u) {this["log"][l3(2035, "1x5q")]("Upload log error:" + u["message"]);}} else this[l3(1661, "KdL&")](this["configService"]["biliPetWindow"], "window/biliPetResetModel", {"data": null});}["emitGamepadLiveAction"](r) {this["sendEventToWindow"](this["configService"]["liveRoomWindow"], "system/gamepadAction", {"data": r});}["emitGamepadLiveInfo"](r) {this["sendEventToWindow"](this["configService"]["liveRoomGpView"], h["QMRXm"], {"data": r});}};(o = i([(0, l["Injectable"])(), j(h["lnxUm"], [typeof (k = typeof n["ConfigService"] !== "undefined" && n["ConfigService"]) === h["kleMM"] ? k : Object])], o), g["EventsService"] = o);}}), gr = {};bW(gr, {"AB_TEST_CONFIG": () => h8,"AB_TEST_CONFIG_ENV": () => h9,"APP_CONFIG_STORE": () => h3,"APP_STARTUP_THEME": () => gM,"AUTH_COOKIES": () => gv,"AUTH_COOKIES_CACHE": () => gw,"AUTO_START_DOWNLOAD": () => gW,"BOSS_SHORTCUT_INFO": () => gO,"BUVID": () => gD,"BUVID_CACHE": () => gE,"BUVID_MARK": () => gY,"CHID": () => gF,"CHID_CACHE": () => gG,"CUSTOM_CONFIG_STORE": () => h1,"DISABLE_GPU": () => gQ,"DL_PARALLEL_NUM": () => h7,"DOWNLOAD_NO_SLEEP": () => gX,"DOWNLOAD_PATH": () => gU,"FFMPEG_EXE_INFO": () => hc,"GAIA_FP": () => gB,"GAIA_FP_CACHE": () => gC,"GAMEPAD_SETTINGS": () => hi,"GAME_DOWNLOAD_PATH": () => gV,"GENERAL_CONFIG_STORE": () => hh,"INITIAL_VERSION": () => h5,"IS_CONFIG_DEV": () => gJ,"IS_FORCE_RELAUNCH": () => hk,"IS_SHOW_CONSOLE_LOG": () => he,"IS_THEME_CHANGED": () => ha,"IS_WX_INSTALLED": () => hl,"LATEST_VERSION": () => h6,"LOCAL_PLAYER_BACKUP": () => hg,"MAIN_WINDOW_THEME": () => gN,"PLAYER_EXP_DATA": () => hb,"PLAYER_WINDOW_MODE": () => gP,"QUIT_BY_CLOSE_MAIN": () => gT,"QUIT_DIALOG_POPED": () => h4,"REFRESH_TOKEN": () => gH,"REFRESH_TOKEN_CACHE": () => gI,"SAVED_ACCOUNTS": () => hj,"SELECTED_EXIT": () => gS,"SELECTED_FIRST": () => gR,"STORE_ENCRYPT": () => gu,"STORE_TAG": () => gt,"STORE_VAL": () => gs,"SYSTEM_FONT_ID": () => h0,"SYSTEM_FP": () => gz,"SYSTEM_FP_CACHE": () => gA,"SYSTEM_FP_TIME": () => gZ,"TEMP_DEV_PWD": () => gK,"UPLOAD_LOG_INFO": () => hf,"UPLOAD_MAIN_LOG_TIME": () => h2,"USER_INFO": () => gx,"USER_INFO_CACHE": () => gy,"USE_MEDIA_SESSION": () => hd,"WINDOW_STATES": () => gL});var gs, gt, gu, gv, gw, gx, gy, gz, gA, gB, gC, gD, gE, gF, gG, gH, gI, gJ, gK, gL, gM, gN, gO, gP, gQ, gR, gS, gT, gU, gV, gW, gX, gY, gZ, h0, h1, h2, h3, h4, h5, h6, h7, h8, h9, ha, hb, hc, hd, he, hf, hg, hh, hi, hj, hk, hl, hm = bU({""() {var l4 = f, g = {"PLwdJ": "TEMP_DEV_PWD","IrPlS": "UPLOAD_MAIN_LOG_TIME","ESjeY": "DOWNLOAD_PATH","aLAdo": function (j, k) {return j(k);},"VjtUP": function (j, k) {return j(k);},"riKMG": "IS_SHOW_CONSOLE_LOG","xuRfI": "GENERAL_CONFIG_STORE","jomFb": function (j, k, l) {return j(k, l);},"ghCQl": "BUVID_CACHE","SJqpp": l4(1793, "mnQ[")}, h = ("34|47|48|25|0|5|4|35|11|9|28|27|52|50|22|32|7|8|17|2|42|23|39|12|55|24|26|16|37|19|1|46|31|3|14|56|6|18|41|15|29|44|51|53|13|30|45|43|49|36|10|21|38|40|33|54|20")["split"]("|"), i = 0;while (!![]) {switch (h[i++]) {case "0":gv = cF("AUTH_COOKIES");continue;case "1":gV = "GAME_DOWNLOAD_PATH";continue;case "2":gK = g["PLwdJ"];continue;case "3":gY = "BUVID_MARK";continue;case "4":gx = cF("USER_INFO");continue;case "5":gw = cF("AUTH_COOKIES_CACHE");continue;case "6":h1 = "CUSTOM_CONFIG_STORE";continue;case "7":gH = cF("REFRESH_TOKEN");continue;case "8":gI = cF("REFRESH_TOKEN_CACHE");continue;case "9":gA = cF("SYSTEM_FP_CACHE");continue;case "10":hf = "UPLOAD_LOG_INFO";continue;case "11":gz = cF("SYSTEM_FP");continue;case "12":gO = "BOSS_SHORTCUT_INFO";continue;case "13":h9 = "AB_TEST_CONFIG_ENV";continue;case "14":gZ = "SYSTEM_FP_TIME";continue;case "15":h4 = "QUIT_DIALOG_POPED";continue;case "16":gS = "SELECTED_EXIT";continue;case "17":gJ = "IS_CONFIG_DEV";continue;case "18":h2 = g["IrPlS"];continue;case "19":gU = g["ESjeY"];continue;case "20":hl = "IS_WX_INSTALLED";continue;case "21":hg = l4(777, "1iAQ");continue;case "22":gF = cF(l4(1082, "KdL&"));continue;case "23":gM = "APP_STARTUP_THEME";continue;case "24":gQ = l4(1748, "Qd![");continue;case "25":gu = cF("biliPc");continue;case "26":gR = "SELECTED_FIRST";continue;case "27":gC = cF("GAIA_FP_CACHE");continue;case "28":gB = g["aLAdo"](cF, "GAIA_FP");continue;case "29":h5 = "INITIAL_VERSION";continue;case "30":ha = "IS_THEME_CHANGED";continue;case "31":gX = "DOWNLOAD_NO_SLEEP";continue;case "32":gG = cF("CHID_CACHE");continue;case "33":hj = l4(1287, "1iAQ");continue;case "34":dh();continue;case "35":gy = g["VjtUP"](cF, "USER_INFO_CACHE");continue;case "36":he = g["riKMG"];continue;case "37":gT = "QUIT_BY_CLOSE_MAIN";continue;case "38":hh = g["xuRfI"];continue;case "39":gN = "MAIN_WINDOW_THEME";continue;case "40":hi = "GAMEPAD_SETTINGS";continue;case "41":h3 = "APP_CONFIG_STORE";continue;case "42":gL = "WINDOW_STATES";continue;case "43":hc = "FFMPEG_EXE_INFO";continue;case "44":h6 = "LATEST_VERSION";continue;case "45":hb = "PLAYER_EXP_DATA";continue;case "46":gW = "AUTO_START_DOWNLOAD";continue;case "47":gs = cF("干杯", 20);continue;case "48":gt = g["jomFb"](cF, "cheers", 20);continue;case "49":hd = "USE_MEDIA_SESSION";continue;case "50":gE = cF(g["ghCQl"]);continue;case "51":h7 = "DL_PARALLEL_NUM";continue;case "52":gD = cF("BUVID");continue;case "53":h8 = g["SJqpp"];continue;case "54":hk = l4(423, "qbG4");continue;case "55":gP = "PLAYER_WINDOW_MODE";continue;case "56":h0 = l4(538, "43KF");continue;}break;}}}), hn = {};bW(hn, {"StoreBase": () => hs});var ho, hp, hq, hr, hs, ht = bU({""() {var l5 = f, g = {"LJkSF": "[*]"};(ho = require("@bilibili/b-utils-core"), fM(), hp = require("@bilibili/b-utils-core"), hm(), dh(), hq = cF("哔哩哔哩"), hr = cF("bilibili"), hs = class extends cd {constructor(h) {super(h);}[l5(595, "JO9c")](h) {var l6 = l5;return l6(1308, "Mqcd") + String(h);}["getDataStoreOriginKey"](h) {var i = {"Cembo": "Request quit-app error!"};return "JidaH" !== "JidaH" ? (this["log"]["info"](i["Cembo"]), h["status"](401)["send"]({"code": 1,"message": "err"})) : h && h["replace"](/^BILI_/, "");}["initCacheKey"](h, i) {var l7 = l5;const j = (0, ho[l7(726, "!L3p")])(g["LJkSF"]);return (i["set"](h, j), j);}["getStoreKey"](h, i) {let j = i["get"](h);if (!j) j = this["initCacheKey"](h, i);return j;}["encryptData"](h) {var l8 = l5;try {const i = JSON[l8(1750, "43KF")]({"data": h}), {encrypted: j, authTag: k} = cG(i, hq, hr);return JSON["stringify"]({[gs]: j,[gt]: k});} catch (l) {this["log"]["error"]("encryptData error: ", l[l8(852, "%AQh")]);}}["decryptData"](h, i) {var l9 = l5;try {const {[gs]: j, [gt]: k} = JSON[l9(1775, "gUtk")](h), l = cH(j, k, hq, hr);return JSON["parse"](l)["data"];} catch (m) {this[l9(525, "hGVL")]["error"]("decryptData error: ", m["message"]);if (hp["isFun"]) i();return null;}}});}}), hu, hv, hw, hx, hy, hz, hA, hB, hC, hD, hE, hF, hG, hH = bU({""() {(hu = "PRIVACY_POLICY_DIALOG_HIDDEN", hv = "SCROLL_TRIGGER_INLINE_PLAY_ACTIVE", hw = "ALLOW_PUSH_RECOMMEND", hx = "ALLOW_PUSH_DYNAMIC", hy = "ALLOW_PUSH_LIVE", hz = "RECOMMEND_PUSH_RECORD", hA = "DYNAMIC_PUSH_RECORD", hB = "LIVE_PUSH_RECORD", hC = "UPDATE_BASE_LINE", hD = "PUSH_RECOMMEND", hE = "PUSH_LIVE", hF = "PUSH_DYNAMIC", hG = "OGV_CACHE_VALIDATE_PLAY");}}), hI, hJ = bU({""() {var la = f, g = {"cTaxM": "show_local_video_setting_r"};hI = [la(1094, "FoL8"), "sidebar_upload_hide_r", "sidebar_upload_toweb", "sidebar_upload_toappbrowser", "sidebar_selected_hide2_r", "enable_system_notification", "is_ugc_season_tab", g["cTaxM"], "show_search_ad"];}}), hK, hL = bU({""() {var lb = f, g = {"ugJJr": "BangumiMore","CuMyZ": "PgcMore","BTgYa": "DynamicAll"};hK = [lb(1722, "nNM["), "HomeRecommends", lb(1041, "Ni8i"), "HomeBangumi", "HomePgc", g["ugJJr"], g["CuMyZ"], "OgvIndex", "SearchResult", lb(396, "LCu@"), "MineDownload", "MineFavorite", "MineWatchLater", "SpaceDynamic", "SpaceVideo", g["BTgYa"], "DynamicVideo", "SearchPage", "Selected", "Settings", "UgcSeason", lb(683, "!v[t"), "MyGame"];}}), hM, hN, hO = bU({""() {(hM = "-----BEGIN CERTIFICATE-----\nMIIEPzCCAyegAwIBAgIUJVg1qdKcUuryV+2IxAn9teS5qu0wDQYJKoZIhvcNAQEL\nBQAwga0xCzAJBgNVBAYTAkNOMREwDwYDVQQIDAhTaGFuZ0hhaTERMA8GA1UEBwwI\nU2hhbmdIYWkxLzAtBgNVBAoMJlNoYW5naGFpIEJpbGliaWxpIFRlY2hub2xvZ3kg\nQ28uLCBMdGQuMREwDwYDVQQLDAhiaWxpYmlsaTEPMA0GA1UEAwwGYmlsaXBjMSMw\nIQYJKoZIhvcNAQkBFhRzaGVudGFvQGJpbGliaWxpLmNvbTAgFw0yMzEwMjQwNTIy\nMTNaGA8yMTIzMDkzMDA1MjIxM1owga0xCzAJBgNVBAYTAkNOMREwDwYDVQQIDAhT\naGFuZ0hhaTERMA8GA1UEBwwIU2hhbmdIYWkxLzAtBgNVBAoMJlNoYW5naGFpIEJp\nbGliaWxpIFRlY2hub2xvZ3kgQ28uLCBMdGQuMREwDwYDVQQLDAhiaWxpYmlsaTEP\nMA0GA1UEAwwGYmlsaXBjMSMwIQYJKoZIhvcNAQkBFhRzaGVudGFvQGJpbGliaWxp\nLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALX2g7x/HZjGQ60a\nh6p9+GxdF8W+r+aGQD71yn419X5NoqzwCnuffDYj3snBhRu0pgh8v7P/UYc5Ll+n\nyQlpVwUzHHyKjBbn9uK1F54cLVP4wKo7Ketd+FTngM0lWQaFexYDHACgfMNVSH1r\nHbjwRYlHfCtNW4Igrc0zWIWzYoi1A1r0JzIu3Newd8qJ8a7RJ7toMk0hVHdHgHhC\n28XNsR8uveS+rRAYCcF5nTRuU8TX2UHh0geLho95DPkfRvJKm+YJbusNqgKygnTC\n/8y1lqdmM5F6mGVjcTuXOJSkvW2gXiqjAHk6BvbT6vxXCRzc42CMyk6YffN7qSL5\nZc8QU1MCAwEAAaNTMFEwHQYDVR0OBBYEFNCVw8dStnHz5VY1MEIDI8dPR9t2MB8G\nA1UdIwQYMBaAFNCVw8dStnHz5VY1MEIDI8dPR9t2MA8GA1UdEwEB/wQFMAMBAf8w\nDQYJKoZIhvcNAQELBQADggEBAAiisyz9WJNmyYthp7hRHxt8ptV8UefFOVt1oJfE\nuicHBoXBCWKOb2sYbJUOnpPQrCGTLxa0sDUXu1OvwJP2YrKhbiW4ZLefWlVM/Rx0\nJpcbbVvrR5puMfwxKrW5HT+Uafq/bFe/fJPTdHmLU9vAqkAcqZxrPhNjz1O88wp4\ntuyLcVxHcwr4ZvHFcCMo+Gkph76QY8clcOtyTF3p3U2HCFGu3I8WvJcEexjjanx6\nztZgsc9zCVdDWS5RFsEMXPj9+vTvLuo1S6z0UhMnKo4yYBCb/6gmJRJMrZ7beifP\niVFRvhO43BAkKW04hRC/nsliqcedqetuZbpTjq98g9eEDow=\n-----END CERTIFICATE-----\n", hN = "-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC19oO8fx2YxkOt\nGoeqffhsXRfFvq/mhkA+9cp+NfV+TaKs8Ap7n3w2I97JwYUbtKYIfL+z/1GHOS5f\np8kJaVcFMxx8iowW5/bitReeHC1T+MCqOynrXfhU54DNJVkGhXsWAxwAoHzDVUh9\nax248EWJR3wrTVuCIK3NM1iFs2KItQNa9CcyLtzXsHfKifGu0Se7aDJNIVR3R4B4\nQtvFzbEfLr3kvq0QGAnBeZ00blPE19lB4dIHi4aPeQz5H0bySpvmCW7rDaoCsoJ0\nwv/MtZanZjORephlY3E7lziUpL1toF4qowB5Ogb20+r8Vwkc3ONgjMpOmH3ze6ki\n+WXPEFNTAgMBAAECggEBAJjgXPvAPIh/gppr4LFwFohMik18EOL3xgBfltoE0ZVk\n+pibL+N/Med2qZYOfZuyYZBd5t3+U2vtsbVyDShYFWFr+LH14Q7ZooYEKayP9dFH\n++7JuEVj9OC4g3FXwH0HJktvH1azfz7JZxbgKN+ZFoLoyTzESG6CsCLn0aa6+Lzr\nFRPqLM8TRZKjfl5dYy6z8nEVWWA+ow1MTsaEq0aNpeBsYePjz/181jpQV5OrQe/+\nl/LqzUU53iSOU1ZAoruhzeJ0/aGfYjG/QdphNWuK6a2590kETxWoDiz7Z1m82Vx6\n1FrOY5Dr8/+dzgFLdrQkKz+DGpUlnnA+6wGw6K7MlUECgYEA2QfmC8AoHf5Du4K/\nS6JpnczvqxwTEXPMKwMNDRAxXmXyvi2PszkpLGwvP2pZYlK6D20FtOW1uVtp5jiN\nyQ0J42P83KlYQeBNvV7flgSZW7ImO8u5JO8UybbNelu+B/OKqSR9ZoHXZRzG4bYU\nlaKQxIoXG6l7IieDN0TLPgv6EfMCgYEA1qKsuh+M61EFSosIPb5fhvg/2/TeizDm\nZRvG8Zju/e6tikewGW0XLRVb1trSBFu6Ijf41QsTZRxh37FjYRPN/XF6sRHpr3Ni\nRmaQch+0BcQaU4v+WSbCnGR9nyi3O8hCPC713UrusNfokXRf6z5ARtLvDwfBU2tQ\nDCLtMmypsSECgYEAqm/chj/agWtrr7cHGZOrU8RcN0kt5FfG78ROnIKp8pMnZZiM\nMFhkcEFpfWi8V03WVkTs5Vo8MxuJ98VT+57ktBGSw4uuBtXq1xvJhJuKAAvQoMbl\nWA71iU+o4D1p5/6nVxuT60tuZzaJLTp7weNPwzka2ptnWrQjBOVeoxRux2cCgYAD\n7u09Z/CcK1rud8fJ4eA8R/ZboIwnftjqB21I5iWTD7msbA3lGWOwVtDdChuJKukp\nUV9FADP1yWRdxhFtKQDAYUD/V7Wxmmq1oZGKFdylsmdNGqapmZU9anYG4ach+FSG\nZ9HnoUTohrxjVf+f/v8MjTcGTn0Te0b3QfiY0Pb3IQKBgFhRUMasW/MnIFg1IfYU\nkVtMEJpajml9tEEQ91bBr29bCxl+nM2bM9yjb6LQU0vYTyWNn3zS/LOa3gSbOC/i\nc+3fmiI6TpouNE1eBva6kKyvmqC4dwD6aTEHokfhuMFYZQbVC8IGuhEQuN9OIM9x\nTQg6mubcOzaGBUeTmeZTkCpb\n-----END PRIVATE KEY-----\n");}}), hP, hQ = bU({""() {var lc = f, g = {"iauoO": "537e","bIuEN": "70e1","zDtyY": "db78","jJrgM": "03ba","XYgOQ": "fdc8"};hP = {"ip": "7ace","platform": "6dba","buvid": "e07a","chid": g["iauoO"],"app_chid": lc(836, "B4nF"),"brand": "d3c9","model": "3859","osver": "08a2","fts": "f152","event_category": "4407","network": g[lc(1195, "nwHl")],"oid": "2e6b","oidname": "b3c2","longitude": "796f","latitude": g["zDtyY"],"version": g["jJrgM"],"version_code": lc(592, "!v[t"),"event_id": "30e4","mid": "a11f","ctime": "ca89","machineGUID": "fa2c","hostname": "dfb6","username": "a574","isvirtual": "8fa9","cpu_manufacturer": "4798","cpu_brand": "13bf","cpu_core": "26e9","cpu_processors": "a19e","macs": "f861","business_id": "d4ec","ctime_format": "dc71","session_id": g["XYgOQ"],"webgl_version": "544e","webgl_shading_language_version": "910e","webgl_vendor": "f623","webgl_renderer": "5fba"};}}), hR = {};bW(hR, {"AB_TEST_LIST": () => hI,"ALLOW_PUSH_DYNAMIC": () => hx,"ALLOW_PUSH_LIVE": () => hy,"ALLOW_PUSH_RECOMMEND": () => hw,"APP_PAGES": () => hK,"DYNAMIC_PUSH_RECORD": () => hA,"GAIA_KEY_MAP": () => hP,"LIVE_PUSH_RECORD": () => hB,"OGV_CACHE_VALIDATE_PLAY": () => hG,"PRIVACY_POLICY_HIDDEN_KEY": () => hu,"PUSH_DYNAMIC": () => hF,"PUSH_LIVE": () => hE,"PUSH_RECOMMEND": () => hD,"RECOMMEND_PUSH_RECORD": () => hz,"SCROLL_TRIGGER_INLINE_PLAY_ACTIVE": () => hv,"UPDATE_BASE_LINE": () => hC,"cert": () => hM,"key": () => hN});var hS = bU({""() {var g = {"ROcrh": function (h) {return h();}};(hH(), hJ(), hL(), g["ROcrh"](hO), hQ());}}), hT = bV({""(g) {"use strict";var ld = f, h = {"FaIyB": "function","yNZkN": function (E, F) {return E > F;},"lzGZO": "authCookiesCache","pnGyY": function (E, F, G, H) {return E(F, G, H);},"wlmNi": function (E, F, G, H) {return E(F, G, H);},"XJbkp": "refreshToken","SuUDt": function (E, F) {return E !== F;},"EDHyI": "IGwlZ","qjdSU": "KLmJm","ulHMB": "OTHER","kMXAF": "CLICK","ISSmI": "PAGEVIEW","tGIYK": "SYSTEM","hjfGO": "TRACKER","jwZtL": "CUSTOM","Ntief": "current","JQlVm": function (E, F) {return E === F;},"drHCy": "__esModule","zNoLD": function (E, F) {return E(F);}};var i = g && g["__decorate"] || (function (E, F, G, H) {if ("EDukl" !== "EDukl") {const {biliPetWindow: N} = this["configService"];(h || N && !N["isDestroyed"]()) && this["windowFactory"]["createBiliPetWindow"]();} else {var I = arguments["length"], J = I < 3 ? F : H === null ? H = Object["getOwnPropertyDescriptor"](F, G) : H, K;if (typeof Reflect === "object" && typeof Reflect["decorate"] === h["FaIyB"]) J = Reflect["decorate"](E, F, G, H); else {for (var L = E["length"] - 1; L >= 0; L--) if (K = E[L]) J = (I < 3 ? K(J) : I > 3 ? K(F, G, J) : K(F, G)) || J;}return (h["yNZkN"](I, 3) && J && Object["defineProperty"](F, G, J), J);}}), j = g && g[ld(815, "KdL&")] || (function (E, F) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](E, F);}), k = g && g["__importDefault"] || (function (E) {var le = ld;return le(1307, "^M%9") !== "fNNzw" ? E && E["__esModule"] ? E : {"default": E} : (i["webContents"]["loadURL"](j), {"action": "deny"});}), l, m;(Object["defineProperty"](g, h["drHCy"], {"value": !![]}), g["StoreService"] = void 0);var n = require("@nestjs/common"), o = gl(), q = gq(), r = (ht(), c0(hn)), t = require("fs"), u = require("@bilibili/b-utils-core"), w = k(require("electron-store")), z = k(h["zNoLD"](require, "mkdirp")), A = (fy(), c0(fx)), B = (hS(), c0(hR)), C = (hm(), c0(gr)), D = class E extends r["StoreBase"] {constructor(F, G) {var lf = ld;(super("StoreService"), c1(this, "configService"), c1(this, "eventsService"), c1(this, "dataStore", new w["default"]({"name": "store","encryptionKey": C[lf(1408, "3BTs")]})), c1(this, "secureStore", new w["default"]({"name": "config","encryptionKey": C[lf(2279, "JypK")]})), c1(this, "store", new w["default"]({"name": "settings","encryptionKey": C["STORE_ENCRYPT"]})), c1(this, h[lf(514, "uaSA")], ""), h["pnGyY"](c1, this, "authCookies", []), c1(this, "userInfoCache", ""), h["pnGyY"](c1, this, "userInfo", {}), c1(this, "systemFpCache", ""), c1(this, "systemFp", {}), h[lf(2164, "h9c@")](c1, this, lf(1812, "VFZK"), ""), c1(this, "gaiaFp", {}), c1(this, lf(1823, "Li1q"), ""), c1(this, "buvidCache", ""), c1(this, "chid", ""), c1(this, "chidCache", ""), c1(this, h["XJbkp"], ""), h["wlmNi"](c1, this, "refreshTokenCache", ""), this["configService"] = F, this["eventsService"] = G, this["configService"][lf(1988, "FoL8")] = this["getIsDev"]());}["getAuthCookies"]() {var lg = ld;const F = this["getStoreKey"](C["AUTH_COOKIES_CACHE"], this["secureStore"]);if (!this["authCookiesCache"] || this["authCookiesCache"] !== F) {this["authCookiesCache"] = F;const G = this["secureStore"]["get"](C[lg(2286, "5Oa*")]), H = G && this["decryptData"](G, () => this["secureStore"]["delete"](C["AUTH_COOKIES"])) || [];this["authCookies"] = H;}return this["authCookies"];}[ld(1124, "kdon")](F) {var lh = ld;(this["secureStore"][lh(1437, "jubI")](C["AUTH_COOKIES"], this["encryptData"](F || [])), this["initCacheKey"](C["AUTH_COOKIES_CACHE"], this["secureStore"]), this["configService"]["authCookiesChange$"]["next"]());}["deleteAuthCookies"]() {(this["secureStore"]["delete"](C["AUTH_COOKIES"]), this["initCacheKey"](C["AUTH_COOKIES_CACHE"], this["secureStore"]));}[ld(654, "LCu@")]() {var li = ld;const F = this["getStoreKey"](C["USER_INFO_CACHE"], this["secureStore"]);if (!this["userInfoCache"] || this["userInfoCache"] !== F) {this["userInfoCache"] = F;const G = this["secureStore"]["get"](C[li(2202, "y^Oh")]), H = G && this["decryptData"](G, () => this["secureStore"]["delete"](C["USER_INFO"])) || ({});this["userInfo"] = H || ({});}return this["userInfo"];}["setUserInfo"](F) {(this["secureStore"]["set"](C["USER_INFO"], this["encryptData"](F || ({}))), this["initCacheKey"](C["USER_INFO_CACHE"], this["secureStore"]));}[ld(969, "VFZK")]() {(this["secureStore"]["delete"](C["USER_INFO"]), this["initCacheKey"](C["USER_INFO_CACHE"], this["secureStore"]));}["getSystemFp"]() {var lj = ld;if ("JTkjb" !== "hqENk") {const F = this["getStoreKey"](C["SYSTEM_FP_CACHE"], this["secureStore"]);if (!this["systemFpCache"] || h["SuUDt"](this["systemFpCache"], F)) {this["systemFpCache"] = F;const G = this["secureStore"]["get"](C["SYSTEM_FP"]), H = G && this["decryptData"](G, () => this["secureStore"][lj(1328, "jubI")](C["SYSTEM_FP"])) || ({});this["systemFp"] = H;}return this["systemFp"];} else h["downloadPlatform"] = "android";}["setSystemFp"](F) {(this["secureStore"]["set"](C["SYSTEM_FP"], this["encryptData"](F || ({}))), this["initCacheKey"](C["SYSTEM_FP_CACHE"], this["secureStore"]));}["getGaiaFp"]() {var lk = ld;const F = this["getStoreKey"](C["GAIA_FP_CACHE"], this[lk(2163, "jubI")]);if (!this["gaiaFpCache"] || this["gaiaFpCache"] !== F) {this["gaiaFpCache"] = F;const G = this["secureStore"]["get"](C["GAIA_FP"]), H = G && this["decryptData"](G, () => this["secureStore"]["delete"](C["GAIA_FP"])) || ({});this["gaiaFp"] = H;}return this["gaiaFp"];}["setGaiaFp"](F) {var ll = ld;(this["secureStore"]["set"](C["GAIA_FP"], this["encryptData"](F || ({}))), this["initCacheKey"](C["GAIA_FP_CACHE"], this[ll(1844, "1iAQ")]));}["getAppBuvid"]() {var lm = ld;const F = this["getStoreKey"](C[lm(2120, "y^Oh")], this["secureStore"]);if (!this["buvidCache"] || this["buvidCache"] !== F) {this["buvidCache"] = F;const G = this[lm(1668, "V[Zi")]["get"](C[lm(676, "B4nF")]), H = G && this["decryptData"](G, () => this["secureStore"]["delete"](C["BUVID"])) || "";this[lm(650, "qfnC")] = H;}return this["buvid"];}["setAppBuvid"](F = "failed") {(this["secureStore"]["set"](C["BUVID"], this["encryptData"](F || "")), this["initCacheKey"](C["BUVID_CACHE"], this["secureStore"]));}["getAppChid"]() {var ln = ld;const F = this["getStoreKey"](C[ln(1876, "8gI1")], this["secureStore"]);if (!this[ln(320, "3BTs")] || this["chidCache"] !== F) {this["chidCache"] = F;const G = this["secureStore"][ln(609, "43KF")](C["CHID"]), H = G && this["decryptData"](G, () => this["secureStore"]["delete"](C["CHID"])) || "";this["chid"] = H;}return this["chid"];}["setAppChid"](F = "failed") {var lo = ld;(this["secureStore"][lo(319, "Li1q")](C["CHID"], this["encryptData"](F || "")), this["initCacheKey"](C["CHID_CACHE"], this["secureStore"]));}["getRefreshToken"]() {var lp = ld;const F = this["getStoreKey"](C["REFRESH_TOKEN_CACHE"], this["secureStore"]);if (!this["refreshTokenCache"] || this["refreshTokenCache"] !== F) {if ("sUJuc" === "Ffmbs") return (i["returnValue"] = this["configService"]["isDevMode"], j["returnValue"]); else {this["refreshTokenCache"] = F;const H = this["secureStore"]["get"](C["REFRESH_TOKEN"]), I = H && this["decryptData"](H, () => this[lp(1672, "JO9c")]["delete"](C["REFRESH_TOKEN"])) || "";this["refreshToken"] = I;}}return this["refreshToken"];}["setRefreshToken"](F) {(this["secureStore"]["set"](C["REFRESH_TOKEN"], this["encryptData"](F || "")), this["initCacheKey"](C["REFRESH_TOKEN_CACHE"], this["secureStore"]));}["getIsDev"]() {return !!this["store"]["get"](C["IS_CONFIG_DEV"]);}["setIsDev"](F = ![]) {this["store"]["set"](C["IS_CONFIG_DEV"], F);}["getTempDevPwd"]() {return this["store"]["get"](C["TEMP_DEV_PWD"]);}["setTempDevPwd"](F) {var lq = ld;this["store"][lq(1051, "BDj!")](C["TEMP_DEV_PWD"], F);}["getAppConfig"]() {var lr = ld;const F = this["store"]["get"](C[lr(1601, "%AQh")]) || ({});if (!F["popLogin"]) F["popLogin"] = A["DEFAULT_APP_CONFIG"]["popLogin"];return F;}["setAppConfig"](F) {(Object["assign"](this["configService"]["appConfig"], F), this["store"]["set"](C["APP_CONFIG_STORE"], F));}["getSystemFpInitTime"]() {var ls = ld;return this["store"][ls(1638, "kdon")](C["SYSTEM_FP_TIME"]) || 0;}["setSystemFpInitTime"](F) {var lt = ld;h[lt(1477, "hGVL")] === "IGwlZ" ? this["store"]["set"](C["SYSTEM_FP_TIME"], F) : i["log"] = j;}["getBuvidMark"]() {var lu = ld;if (h["qjdSU"] !== lu(642, "jubI")) return this["store"]["get"](C["BUVID_MARK"]); else {if (typeof l === lu(2052, "ry$4") && typeof m["metadata"] === lu(1867, "(]yY")) return n["metadata"](o, q);}}["setBuvidMark"]() {this["store"]["set"](C["BUVID_MARK"], "1");}[ld(1442, "(]yY")](F) {const G = this["store"]["get"](C["WINDOW_STATES"]) || ({});try {return JSON["parse"](G[F] || "{}");} catch (H) {return {};}}["setWindowState"](F, G) {const H = this["store"]["get"](C["WINDOW_STATES"]) || ({});(H[F] = JSON["stringify"](G || ({})), this["store"]["set"](C["WINDOW_STATES"], H));}["getIsDisableGpu"]() {var lv = ld;return !!this["store"][lv(366, "!v[t")](C["DISABLE_GPU"]);}["setIsDisableGpu"](F) {var lw = ld;if ("tvNCJ" === "tvNCJ") this["store"][lw(1530, "nmd9")](C["DISABLE_GPU"], F); else return (I[J[h["ulHMB"]] = 0] = "OTHER", K[L["PV"] = 1] = "PV", M[N[h["kMXAF"]] = 2] = "CLICK", O[P["APPEAR"] = 3] = "APPEAR", Q[R[h["ISSmI"]] = 1] = "PAGEVIEW", S[T["EXPOSURE"] = 3] = "EXPOSURE", U[V[h["tGIYK"]] = 4] = h["tGIYK"], W[X[h["hjfGO"]] = 5] = "TRACKER", Y[Z["CUSTOM"] = 7] = h["jwZtL"], a0[a1["COMPATIBLE"] = 8] = "COMPATIBLE", a2[a3["PLAYER"] = 9] = "PLAYER", a4);}[ld(1671, "D0T^")]() {return !!this["store"]["get"](C["SELECTED_FIRST"]);}["setIsSelectedFirst"](F) {var lx = ld;this[lx(1485, "JO9c")]["set"](C["SELECTED_FIRST"], F);}[ld(464, "nmd9")]() {return !!this["store"]["get"](C["SELECTED_EXIT"]);}["setIsSelectedExit"](F) {this["store"]["set"](C["SELECTED_EXIT"], F);}["getIsQuitByCloseMain"]() {return !!this["store"]["get"](C["QUIT_BY_CLOSE_MAIN"]);}["setIsQuitByCloseMain"](F) {this["store"]["set"](C["QUIT_BY_CLOSE_MAIN"], F);}["getAppStartUpTheme"]() {return this["store"]["get"](C["APP_STARTUP_THEME"]) || h["Ntief"];}["setAppStartUpTheme"](F) {const G = this["getAppStartUpTheme"]();G !== F && this["store"]["set"](C["APP_STARTUP_THEME"], F);}["getMainWindowTheme"]() {return this["store"]["get"](C["MAIN_WINDOW_THEME"]) || "system";}["setMainWindowTheme"](F) {const G = this["getMainWindowTheme"]();if (G !== F) {this["store"]["set"](C["MAIN_WINDOW_THEME"], F);if (F) this["eventsService"]["emitMainWindowThemeChange"]();}}["getIsThemeChanged"]() {var ly = ld;return !!this[ly(728, "9Bou")][ly(1128, "JO9c")](C["IS_THEME_CHANGED"]);}["setIsThemeChanged"](F) {this["store"]["set"](C["IS_THEME_CHANGED"], F);}["getBossShortcutInfo"]() {return this["store"]["get"](C["BOSS_SHORTCUT_INFO"]) || ({"isEnable": !![],"shortcut": "Ctrl + Shift + C"});}["setBossShortcutInfo"](F) {this["store"]["set"](C["BOSS_SHORTCUT_INFO"], F);}["getIsMiniPlayerWindow"]() {return h["JQlVm"](this["store"]["get"](C["PLAYER_WINDOW_MODE"]), "mini");}["setIsMiniPlayerWindow"](F) {var lz = ld;this["store"]["set"](C["PLAYER_WINDOW_MODE"], F ? lz(844, "gUtk") : "");}["getDownloadPath"]() {var lA = ld;if (lA(703, "3BTs") === "OmVzx") {let F = this["store"][lA(1949, "!L3p")](C["DOWNLOAD_PATH"]);return ((!F || !(0, t["existsSync"])(F)) && (F = this["setToDefaultDownloadPath"](), this["eventsService"][lA(1765, "BDj!")]()), F);} else {if (typeof l === "object" && typeof m["metadata"] === "function") return n["metadata"](o, q);}}[ld(817, "43KF")](F) {var G = {"GUNfi": function (H, I, J, K) {return H(I, J, K);}};"sjHtV" === "AgEyT" ? (q = r("electron"), t = class {constructor() {var lB = f;(J(this, "cpu"), K(this, "memory"), G["GUNfi"](L, this, "sampleTime", M["now"]()), N(this, "processMetrics"), this["processMetrics"] = O[lB(292, "qfnC")]["getAppMetrics"](), this["cpu"] = this["processMetrics"]["reduce"]((R, S) => R + S["cpu"]["percentCPUUsage"], 0), this["memory"] = this["processMetrics"]["reduce"]((R, S) => R + S["memory"]["workingSetSize"], 0));}}) : (0, t["existsSync"])(F) && this["store"]["set"](C["DOWNLOAD_PATH"], F);}["setToDefaultDownloadPath"]() {if (h["SuUDt"]("IzvuL", "cpgYM")) {const F = A["DEFAULT_DOWNLOAD_PATH"];try {if (!(0, t["existsSync"])(F)) z["default"]["sync"](F);} catch (G) {this["log"]["error"]("Make download dir err:", this["formatError"](G));}return (this["setDownloadPath"](F), F);} else {const {enableProxyAgent: I} = this["customConfig"];return I ? this["proxyAgent_"] : null;}}["getGameDownloadPath"]() {let F = this["store"]["get"](C["GAME_DOWNLOAD_PATH"]);return (!F && (F = this["configService"]["getDefaultGameDownloadPath"]()), F);}["setGameDownloadPath"](F) {(0, t["existsSync"])(F) && this["store"]["set"](C["GAME_DOWNLOAD_PATH"], F);}["setToDefaultGameDownloadPath"]() {const F = this["configService"]["getDefaultGameDownloadPath"](!![]);try {if (!(0, t["existsSync"])(F)) z["default"]["sync"](F);} catch (G) {this["log"]["error"]("Make download dir err:", this["formatError"](G));}return (this["setGameDownloadPath"](F), F);}["ensureGameDownloadPath"]() {var lC = ld;let F = this["getGameDownloadPath"]();if (!F || !(0, t[lC(794, "LCu@")])(F)) try {z[lC(1484, "YUg@")]["sync"](F);} catch (G) {(F = this["setToDefaultGameDownloadPath"](), this["eventsService"]["emitDownloadInfoChange"]());}return F;}["getAutoStartDownload"]() {var lD = ld;let F = this["store"]["get"](C["AUTO_START_DOWNLOAD"]);return (typeof F !== "boolean" && (F = !![], this[lD(700, "3BTs")]["set"](C["AUTO_START_DOWNLOAD"], F)), F);}["setAutoStartDownload"](F) {var lE = ld;"dPuGz" === "dPuGz" ? this["store"]["set"](C["AUTO_START_DOWNLOAD"], F) : (this["log"][lE(662, "5Oa*")]("Notification OnFailed:", i), this["reportService"]["reportFailedNotification"]({"type": j}));}["getDownloadNoSleep"]() {let F = this["store"]["get"](C["DOWNLOAD_NO_SLEEP"]);return (typeof F !== "boolean" && (F = !![], this["store"]["set"](C["DOWNLOAD_NO_SLEEP"], F)), F);}["setDownloadNoSleep"](F) {var lF = ld;const G = this[lF(508, "UmJ6")]();if (F !== G) {if (lF(1412, "43KF") !== "ILmbu") (this["store"]["set"](C["DOWNLOAD_NO_SLEEP"], F), this["configService"][lF(510, "ry$4")]["next"]()); else try {this["log"]["info"]("Prepare app log.");const I = new N(80)["fill"]("=")["join"]("");((0, O["appendFileSync"])(this[lF(1077, "1iAQ")], I + "\nPlayer Log\n" + I + "\n"), (0, P["appendFileSync"])(this["tempLogFile"], Q), (0, R["appendFileSync"])(this["tempLogFile"], "\n\n" + I + "\nDownload Log\n" + I + "\n"));const J = this["storeService"]["getDownloadPath"](), K = (0, S["join"])(J, "load_log");((0, T["existsSync"])(K) && (0, a1[lF(620, "y^Oh")])(this["tempLogFile"], (0, a2["readFileSync"])(K)), (0, W["appendFileSync"])(this[lF(1515, "gUtk")], "\n\n" + I + "\nClient Log\n" + I + "\n"), (0, X["appendFileSync"])(this["tempLogFile"], (0, Y["readFileSync"])((0, Z["join"])(a0["app"]["getPath"]("logs"), "main.log"))), this["log"]["info"]("App logs prepared:", this["tempLogFile"]), this["isReportLogPrepared"] = !![]);} catch (L) {this["log"]["error"]("Prepare app log error!", this["formatError"](L));}}}["getDownloadParallelNum"]() {const F = this["store"]["get"](C["DL_PARALLEL_NUM"]);return F && F > 0 ? F : 1;}["setDownloadParallelNum"](F) {this["store"]["set"](C["DL_PARALLEL_NUM"], F);}["getSystemFontId"]() {const F = this["store"]["get"](C["SYSTEM_FONT_ID"]);if (F) return F;return A["FONTS_LIST"]["find"](G => G["isDefaultFont"])["id"];}["setSystemFontId"](F) {this["store"]["set"](C["SYSTEM_FONT_ID"], F);}["getGeneralConfigKeys"]() {var lG = ld;return this[lG(717, "9Bou")]["generalConfigKeys"];}["getGeneralConfig"]() {var lH = ld;const F = this["store"]["get"](C["GENERAL_CONFIG_STORE"]) || ({});return (F["isStartUpShowBiliPet"] === void 0 && (F[lH(1280, "B4nF")] = !![]), F);}["setGeneralConfig"](F) {const G = {...this["getGeneralConfig"](),...F};(this["store"]["set"](C["GENERAL_CONFIG_STORE"], G), Object["assign"](this["configService"]["generalConfig"], G), this["eventsService"]["emitGeneralConfigChange"](G));}["deleteGeneralConfig"]() {return (this["configService"]["generalConfig"] = {}, this["store"]["delete"](C["GENERAL_CONFIG_STORE"]));}["getCustomConfigKeys"]() {return this["configService"]["customConfigKeys"];}["getCustomConfig"]() {const F = this["store"]["get"](C["CUSTOM_CONFIG_STORE"]) || ({});return (Object["assign"](F, F["customSettings"]), F);}["setCustomConfig"](F) {var lI = ld;if ("bSjhz" === "bSjhz") {const G = {...this["getCustomConfig"](),...F};(this["store"]["set"](C["CUSTOM_CONFIG_STORE"], G), Object["assign"](this["configService"][lI(322, "(3!I")], G), this["eventsService"]["emitCustomConfigChange"](G));} else this["configService"]["intervalOfEnquireNotify"] = h(() => {(this["enquireRecommend"](), this["enquireLiveAndDynamic"]());}, this["pushGap"]);}["deleteCustomConfig"]() {return this["store"]["delete"](C["CUSTOM_CONFIG_STORE"]);}["getUploadLogTime"]() {var lJ = ld;return this[lJ(2046, "nNM[")]["get"](C[lJ(491, "Mqcd")]) || 0;}["setUploadLogTime"](F) {this["store"]["set"](C["UPLOAD_MAIN_LOG_TIME"], F);}[ld(973, "V[Zi")]() {return this["store"]["get"](C["UPLOAD_LOG_INFO"]) || ({});}["setUploadLogInfo"](F) {this["store"]["set"](C["UPLOAD_LOG_INFO"], F);}["getIsPrivacyPolicyAccepted"]() {var lK = ld;const F = this["getDataStoreKey"](B[lK(2100, "Mqcd")]);return !!this["dataStore"]["get"](F);}["setIsPrivacyPolicyAccepted"]() {var lL = ld;const F = this["getDataStoreKey"](B[lL(1946, "EcL6")]);this["dataStore"]["set"](F, !![]);}["getAllowPushRecommend"]() {const F = this["getDataStoreKey"](B["ALLOW_PUSH_RECOMMEND"]);let G = this["dataStore"]["get"](F);if (typeof G !== "boolean") G = !![];return !!G;}["getAllowPushLive"]() {var lM = ld;const F = this["getDataStoreKey"](B["ALLOW_PUSH_LIVE"]);let G = this["dataStore"][lM(540, "ry$4")](F);if (typeof G !== "boolean") G = !![];return !!G;}["getAllowPushDynamic"]() {const F = this["getDataStoreKey"](B["ALLOW_PUSH_DYNAMIC"]);let G = this["dataStore"]["get"](F);if (typeof G !== "boolean") G = !![];return !!G;}["getUpdateBaseLine"]() {const F = this["getDataStoreKey"](B["UPDATE_BASE_LINE"]);return this["dataStore"]["get"](F);}["getRecommendPushRecord"]() {const F = this["getDataStoreKey"](B["RECOMMEND_PUSH_RECORD"]);return this["dataStore"]["get"](F);}["setRecommendPushRecord"](F) {const G = this["getDataStoreKey"](B["RECOMMEND_PUSH_RECORD"]);this["dataStore"]["set"](G, F);}["getDynamicPushRecord"]() {var lN = ld;const F = this["getDataStoreKey"](B["DYNAMIC_PUSH_RECORD"]);return this["dataStore"][lN(1638, "kdon")](F);}["setDynamicPushRecord"](F) {var lO = ld;const G = this["getDataStoreKey"](B[lO(1473, "Li1q")]);this["dataStore"]["set"](G, F);}["getLivePushRecord"]() {const F = this["getDataStoreKey"](B["LIVE_PUSH_RECORD"]);return this["dataStore"]["get"](F);}["setLivePushRecord"](F) {const G = this["getDataStoreKey"](B["LIVE_PUSH_RECORD"]);this["dataStore"]["set"](G, F);}["getIsQuitDialogPoped"]() {return !!this["store"]["get"](C["QUIT_DIALOG_POPED"]);}["setIsQuitDialogPoped"](F) {(this["store"]["set"](C["QUIT_DIALOG_POPED"], F), this["eventsService"]["emitQuitDialogPopedChange"](F));}["getInitialVersion"]() {return this["store"]["get"](C["INITIAL_VERSION"]) || "";}["setInitialVersion"](F) {var lP = ld;this["store"]["set"](C[lP(1864, "5Oa*")], F);}["getLatestRunVersion"]() {return this["store"]["get"](C["LATEST_VERSION"]) || "";}["setLatestRunVersion"](F) {this["store"]["set"](C["LATEST_VERSION"], F);}[ld(531, "X%9J")]() {return this["store"]["get"](C["AB_TEST_CONFIG"]) || ({});}["setAbTestConfig"](F) {this["store"]["set"](C["AB_TEST_CONFIG"], F);}["getAbTestConfigEnv"]() {return this["store"]["get"](C["AB_TEST_CONFIG_ENV"]);}["setAbTestConfigEnv"](F) {var lQ = ld;this["store"][lQ(825, "w$r8")](C[lQ(2092, "y^Oh")], F);}["getPlayerExpData"]() {return this["store"]["get"](C["PLAYER_EXP_DATA"]) || ({});}["setPlayerExpData"](F) {this["store"]["set"](C["PLAYER_EXP_DATA"], F);}["getFfmpegExeInfo"]() {if ("MbRgg" === "MbRgg") return this["store"]["get"](C["FFMPEG_EXE_INFO"]) || ({}); else {const G = this["storeService"]["getUserInfo"]();if (G["isLogin"]) this["handleUserLogout"]();}}["setFfmpegExeInfo"](F) {var lR = ld;this["store"][lR(1198, "VFZK")](C["FFMPEG_EXE_INFO"], F);}["getUseMediaSession"]() {var lS = ld;const F = this["store"]["get"](C["USE_MEDIA_SESSION"]);if ((0, u[lS(1679, "1x5q")])(F)) return F;return !A["BAN_MEDIA_SESSION_CHIDS"]["includes"](this["configService"]["chid"]);}["setUseMediaSession"](F) {this["store"]["set"](C["USE_MEDIA_SESSION"], F);}["getIsShowConsoleLog"]() {return this["store"]["get"](C["IS_SHOW_CONSOLE_LOG"]);}["setIsShowConsoleLog"](F) {var lT = ld;this["store"]["set"](C[lT(560, "^M%9")], F);}["getLocalPlayerBackup"]() {return this["store"]["get"](C["LOCAL_PLAYER_BACKUP"]) || ({});}["setLocalPlayerBackup"](F) {this["store"]["set"](C["LOCAL_PLAYER_BACKUP"], F);}["getGamepadSettings"]() {var lU = ld;return this["store"]["get"](C[lU(1194, "(]yY")]) || ({});}["setGamepadSettings"](F) {var lV = ld;const G = this[lV(428, "D0T^")]();(F?.["id"] && ("lsabi" !== "iBIVh" ? G[F["id"]] = F : (h["preventDefault"](), this[lV(2285, "FoL8")]["requestPopLoginWindow$"]["next"](), this["reportService"]["reportLoginFrom"]("universal"))), this["store"]["set"](C["GAMEPAD_SETTINGS"], G), this["eventsService"]["emitGamepadSettingsChange"](G));}["delGamepadSettings"]() {var lW = ld;if (h["JQlVm"]("xmnXx", "WDvli")) return this["localPlayerService"][lW(2216, "^M%9")](); else this[lW(799, "D0T^")]["delete"](C["GAMEPAD_SETTINGS"]);}[ld(2104, "!v[t")]() {var lX = ld;return this["store"][lX(2074, "EcL6")](C["SAVED_ACCOUNTS"]) || [];}["setSavedAccounts"](F) {var lY = ld;this["store"]["set"](C[lY(944, "FoL8")], F);}[ld(459, "gUtk")]() {return !!this["store"]["get"](C["IS_FORCE_RELAUNCH"]);}["setIsForceRelaunch"](F) {this["store"]["set"](C["IS_FORCE_RELAUNCH"], F);}["getIsWxInstalled"]() {return !!this["store"]["get"](C["IS_WX_INSTALLED"]);}["setIsWxInstalled"](F) {this["store"]["set"](C["IS_WX_INSTALLED"], F);}};(D = i([(0, n["Injectable"])(), j("design:paramtypes", [typeof (l = typeof o["ConfigService"] !== "undefined" && o["ConfigService"]) === "function" ? l : Object, typeof (m = typeof q["EventsService"] !== "undefined" && q["EventsService"]) === "function" ? m : Object])], D), g[ld(1980, "Qd![")] = D);}}), hU = {};bW(hU, {"FetchBase": () => hX});var hV, hW, hX, hY = bU({""() {var m2 = f, g = {"noxNy": "error","cxcBQ": function (h, i) {return h === i;},"iNuso": "csrf","sfBxP": function (h, i) {return h(i);},"lHYEb": function (h) {return h();}};(hV = g["sfBxP"](bZ, require("node-fetch")), g["lHYEb"](fM), hW = require("@bilibili/b-utils-core"), fy(), hX = class extends cd {constructor(h, i, j) {var lZ = f;if ("lJlsC" !== "sNsCT") (super(h), this["configService"] = i, this["storeServie"] = j, c1(this, "servers", {"API": "https://api.bilibili.com","API_PRE": "https://pre-api.bilibili.com","WWW": "https://www.bilibili.com","PASSOPRT": "https://passport.bilibili.com","DATA": "https://data.bilibili.com","DATAFLOW": lZ(1350, "nwHl"),"MOCK": "http://127.0.0.1:3033"})); else {const l = this["configService"]["isHideByBossShortcut"];return (h["returnValue"] = l, l);}}["getCsrf"]() {var m0 = f;const h = this["storeServie"]["getAuthCookies"](), i = h["find"](j => j["name"] === "bili_jct");return i?.[m0(1971, "!L3p")] || "";}["getCookies"]() {const h = this["storeServie"]["getAuthCookies"]();return h["map"](({name: i, value: j}) => i + "=" + j)["join"]("; ");}["getHeaders"](h = ![]) {var m1 = f;const i = this["storeServie"][m1(1158, "nmd9")]();return {"origin": m1(699, "Mqcd"),"Referer": "https://www.bilibili.com/client","cookie": i["map"](({name: j, value: k}) => j + "=" + k)["join"]("; "),"user-agent": eT,...h ? {"Content-Type": "application/x-www-form-urlencoded"} : {}};}async [m2(1703, "B4nF")](h, i) {var m3 = m2;if (!i) i = {};const j = i[m3(533, "3BTs")] !== ![], k = this["configService"][m3(1643, "jubI")], l = await (0, hV["default"])(h, {"headers": {...j ? this["getHeaders"]() : {},...i["headers"]},...k && ({"agent": k})});let m = {};try {i["resText"] ? (m["data"] = await l["text"](), m["code"] = 0) : m = await l["json"]();} catch {m = {"code": 1,"message": g["noxNy"],"data": null};}return (m["status"] = l["status"], g["cxcBQ"](i["resHeaders"], !![]) && (m["headers"] = l["headers"]["raw"]()), m);}async ["post"](h, i, j) {var m4 = m2;if (!j) j = {};const k = new URLSearchParams(), l = j["defaultHeaders"] !== ![];if ((g[m4(1197, "ry$4")] in j)) {if (j["csrf"]) k["append"]("csrf", j["csrf"]);} else k["append"]("csrf", this[m4(1820, "D0T^")]());const m = this["configService"]["proxyAgent"];Object["entries"](i || ({}))[m4(1364, "h9c@")](([q, r]) => k["append"](q, r));const n = await (0, hV["default"])(h, {"method": "POST","body": k,"headers": {...l ? this["getHeaders"](!![]) : {},...j["headers"]},...m && ({"agent": m})});let o = {};try {j["resText"] ? (o["data"] = await n["text"](), o["code"] = 0) : g["cxcBQ"]("CeVha", "JDaaU") ? this["createDefaultWindows"]() : o = await n["json"]();} catch {o = {"code": 1,"message": "error","data": null};}return (o["status"] = n["status"], j["resHeaders"] === !![] && (o["headers"] = n["headers"]["raw"]()), o);}async ["downloadFile"](h) {var m5 = m2;if ("pLUcW" !== "pLUcW") {const j = this["storeService"]["getInitialVersion"]();!j && (this["storeService"]["setInitialVersion"](k["APP_VERSION"]), this["log"]["info"]("Set initial version:", l["APP_VERSION"]));} else {const j = this["configService"][m5(2275, "kdon")], k = await (0, hV["default"])(h, {"method": "GET","headers": {...this["getHeaders"](),"Content-Type": "application/octet-stream"},...j && ({"agent": j})});if (g["cxcBQ"](k["status"], 200)) return await k["buffer"](); else throw new Error("Not found!");}}async [m2(451, "hGVL")](h) {var m6 = m2;const i = this[m6(1897, "h9c@")]["proxyAgent"];return await (0, hV["default"])(h, {"headers": this["getHeaders"](),...i && ({"agent": i})});}[m2(507, "NxR(")](h, i = "Request res:") {return (console["log"](i, h), h);}[m2(1736, "LCu@")](h) {return h && h["data"] || null;}["resToStr"](h) {return h && h["data"] || "";}["resToObj"](h) {var m7 = m2;return h && (0, hW["isObj"])(h["data"]) && h[m7(1689, "1iAQ")] || ({});}["resToArr"](h) {return h && (0, hW["isArr"])(h["data"]) && h["data"] || ({});}["resToPage"](h) {const i = h && (0, hW["isObj"])(h["data"]) && h["data"] || ({});return (i["total"] = i["total"] || 0, i["list"] = (0, hW["isArr"])(i["list"]) && i["list"] || [], i);}});}}), hZ = bV({""(g) {"use strict";var mb = f, h = {"VPlTN": function (B, C) {return B < C;},"SaIDV": function (B, C) {return B > C;},"MQNdf": function (B, C, D) {return B(C, D);},"WYzZl": function (B, C) {return B === C;},"WCNQu": "seDqh","aAWXk": "POST","hiohm": "__esModule"};var i = g && g["__decorate"] || (function (B, C, D, E) {var F = arguments["length"], G = F < 3 ? C : E === null ? E = Object["getOwnPropertyDescriptor"](C, D) : E, H;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") G = Reflect["decorate"](B, C, D, E); else {for (var I = B["length"] - 1; I >= 0; I--) if (H = B[I]) G = (h["VPlTN"](F, 3) ? H(G) : F > 3 ? H(C, D, G) : H(C, D)) || G;}return (h["SaIDV"](F, 3) && G && Object["defineProperty"](C, D, G), G);}), j = g && g["__metadata"] || (function (B, C) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](B, C);}), k = g && g["__importDefault"] || (function (B) {return B && B["__esModule"] ? B : {"default": B};}), l, m, n;(Object["defineProperty"](g, h["hiohm"], {"value": !![]}), g["FetchService"] = void 0);var o = require("@nestjs/common"), q = gl(), r = hT(), t = gq(), u = (hY(), c0(hU)), w = (fy(), c0(fx)), z = k(require("node-fetch")), A = class B extends u["FetchBase"] {constructor(C, D, E) {var m8 = f;(super(m8(298, "!L3p"), C, D), c1(this, m8(472, "^M%9")), h["MQNdf"](c1, this, "storeService"), c1(this, "eventsService"), this["configService"] = C, this["storeService"] = D, this["eventsService"] = E);}async ["getRestartApp"]() {var m9 = f;const C = "http://127.0.0.1:" + w["MAIN_PORT"] + m9(689, "^M%9");return await (0, z["default"])(C);}async ["postLogReport"](C) {if (h["WYzZl"]("ZuUnJ", "ZuUnJ")) {const D = this["servers"]["DATAFLOW"] + "/log/pbrequest", E = this["configService"]["proxyAgent"];return await (0, z["default"])(D, {"method": "POST","body": C,"headers": {"User-Agent": w["DEFAULT_USER_AGENT"]},...E && ({"agent": E})});} else {const G = this["getSenderWindow"](j);return (k["returnValue"] = G["isMinimized"](), l["returnValue"]);}}async ["getAppConfig"]() {var ma = f;const {isRemoteConfigPre: C} = this[ma(1540, "y^Oh")]["customConfig"], D = C ? this["servers"]["API_PRE"] : this["servers"]["API"], E = D + "/x/elec-frontend/config/appconfig";return this["get"](E);}async [mb(1295, "Qd![")]() {const {isRemoteConfigPre: C} = this["configService"]["customConfig"], D = C ? this["servers"]["API_PRE"] : this["servers"]["API"], E = D + "/x/elec-frontend/config/playerconfig";return this["get"](E);}async ["getInjectCode"]() {var mc = mb;if (h["WYzZl"]("blyXU", "WLopK")) return this["store"]["get"](h["LOCAL_PLAYER_BACKUP"]) || ({}); else {const {isRemoteConfigPre: D} = this["configService"][mc(678, "(]yY")], E = D ? this["servers"]["API_PRE"] : this["servers"]["API"], F = E + "/x/elec-frontend/config/injectcode";return this[mc(2179, "nNM[")](F);}}async ["getUserInfo"]() {var md = mb;const C = this["servers"]["API"] + "/x/web-interface/nav";return this["get"](C)[md(942, "1x5q")](this["resToObj"]);}async ["postUserLogout"]() {const C = this["servers"]["PASSOPRT"] + "/login/exit/v2";return this["post"](C, {"biliCSRF": this["getCsrf"]()}, {"resHeaders": !![]});}async [mb(918, "5Oa*")]() {var me = mb;const C = this["servers"][me(2157, "KdL&")] + "/x/frontend/finger/spi?platform=pcelec";return this["get"](C)["then"](this["resToObj"]);}async ["getIsRefreshToken"]() {const C = this["getCsrf"](), D = this["servers"]["PASSOPRT"] + "/x/passport-login/web/cookie/info?csrf=" + C;return this["get"](D)["then"](this["resToObj"]);}async ["getRefreshCsrf"](C) {if ("PZwRn" === "PZwRn") {const D = this["servers"]["WWW"] + "/correspond/2/" + C;return this["get"](D, {"resText": !![]})["then"](this["resToStr"]);} else {if (m) n["bvid"] = o; else {if (q) r["aid"] = t; else return;}}}async [mb(1524, "1iAQ")](C, D) {const E = this["servers"]["PASSOPRT"] + "/x/passport-login/web/cookie/refresh";return this["post"](E, {"refresh_csrf": C,"refresh_token": D}, {"resHeaders": !![]});}async ["postConfirmRefreshToken"](C) {var mf = mb;const D = this["servers"]["PASSOPRT"] + "/x/passport-login/web/confirm/refresh";return this[mf(1310, "X%9J")](D, {"refresh_token": C})["then"](this["resToObj"]);}async ["getFawkesFfVersion"]() {var mg = mb;const C = this["servers"]["API"] + "/x/polymer/pc-electron/ff-version";return this[mg(1227, "qfnC")](C)[mg(781, "YUg@")](this["resToObj"]);}["reportDownloadSize"](C) {var mh = mb;if ("rlaWY" !== h["WCNQu"]) {const D = [C["ctime"], C["fid"], C["fver"], C["eventid"], C["eventparam"], C["displayid"], C["seasonid"], C["epid"], C["avid"], C["cid"], C["pname"], C["progress"], C["readystate"], C[mh(1933, "43KF")], C["playmethod"], C["videotype"], C["quality"], C["realtime"], C["url"], C["exparam"], C["abver"], C["labels"] || ""]["join"]("|"), E = this["servers"]["DATA"] + "/log/web?001111" + Date["now"]() + D;this["eventsService"]["emitReportDownloadSize"](E);} else return i["toString"]()["search"]("(((.+)+)+)+$")["toString"]()["constructor"](j)["search"]("(((.+)+)+)+$");}async ["getRecommendSeries"]() {const C = this["servers"]["API"] + "/x/web-interface/popular/series/list";return this["get"](C)["then"](this["resToObj"]);}async ["getDynamicUpdate"](C) {var mi = mb;const D = this["servers"]["API"] + "/x/web-interface/dynamic/entrance?alltype_offset=" + C;return this[mi(2222, "3BTs")](D)["then"](this["resToObj"]);}async [mb(896, "%AQh")](C) {var mj = mb;const D = this["servers"]["API"] + mj(1185, "nNM[") + C + "&platform=pcclient";return this["get"](D)["then"](this["resToObj"]);}async [mb(2224, "43KF")]() {var mk = mb;const C = this["servers"]["API"] + mk(1335, "3BTs");return this["get"](C)["then"](this["resToObj"]);}async ["postGaiaFp"](C) {var ml = mb;const D = this[ml(2295, "Qd![")]["proxyAgent"], E = this["servers"]["API"] + "/x/internal/gaia-gateway/ExClimbZhuMu";return (0, z["default"])(E, {"method": h["aAWXk"],"body": JSON["stringify"](C),"headers": {...this["getHeaders"](),"Content-Type": "application/json"},...D && ({"agent": D})});}};(A = i([(0, o["Injectable"])(), j("design:paramtypes", [typeof (l = typeof q["ConfigService"] !== "undefined" && q["ConfigService"]) === mb(2148, "kdon") ? l : Object, typeof (m = typeof r["StoreService"] !== "undefined" && r[mb(1980, "Qd![")]) === "function" ? m : Object, typeof (n = typeof t["EventsService"] !== "undefined" && t["EventsService"]) === "function" ? n : Object])], A), g["FetchService"] = A);}}), i0 = bV({""(g) {"use strict";var mo = f, h = {"CaXZD": function (G, H, I) {return G(H, I);},"bAeiP": "object","QJUTJ": "OTHERNET","BxnjA": function (G, H, I) {return G(H, I);},"BOgjL": function (G) {return G();},"ZDFBx": function (G) {return G();},"UjVtc": function (G, H) {return G(H);},"dFMRC": "electron"};var i = g && g["__decorate"] || (function (G, H, I, J) {var mm = f, K = arguments["length"], L = K < 3 ? H : J === null ? J = Object["getOwnPropertyDescriptor"](H, I) : J, M;if (typeof Reflect === mm(680, "w$r8") && typeof Reflect["decorate"] === mm(701, "jubI")) L = Reflect["decorate"](G, H, I, J); else {for (var N = G["length"] - 1; N >= 0; N--) if (M = G[N]) L = (K < 3 ? M(L) : K > 3 ? M(H, I, L) : h["CaXZD"](M, H, I)) || L;}return (K > 3 && L && Object["defineProperty"](H, I, L), L);}), j = g && g["__metadata"] || (function (G, H) {var mn = f;if (typeof Reflect === h[mn(1258, "!L3p")] && typeof Reflect["metadata"] === "function") return Reflect["metadata"](G, H);}), k = g && g["__importDefault"] || (function (G) {return G && G["__esModule"] ? G : {"default": G};}), l, m, n;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["GaiaService"] = void 0);var o = require("@bilibili/b-utils-core"), q = (h[mo(1914, "nNM[")](hS), c0(hR)), r = (ga(), c0(g9)), t = (h["ZDFBx"](fy), c0(fx)), u = gl(), w = hZ(), z = hT(), A = (fM(), h["UjVtc"](c0, fI)), B = require("@nestjs/common"), C = require(h[mo(1118, "3BTs")]), D = k(require("ip")), E = k(require("os")), F = class G extends A["BaseService"] {constructor(H, I, J) {var K = ("8|6|5|1|0|2|7|3|4")["split"]("|"), L = 0;while (!![]) {switch (K[L++]) {case "0":this["fetchService"] = H;continue;case "1":c1(this, "storeService");continue;case "2":this["configService"] = I;continue;case "3":this["configService"]["reportFpInfo$"]["subscribe"](() => {this["reportGaiaFpWhenChange"]("systemInfo");});continue;case "4":this["configService"]["userLoginChange$"]["subscribe"](() => {this["reportGaiaFpWhenChange"]("userInfo");});continue;case "5":c1(this, "configService");continue;case "6":c1(this, "fetchService");continue;case "7":this["storeService"] = J;continue;case "8":super("GaiaService");continue;}break;}}["buildGaiaFp"]() {return {"main": this["buildGaiaFpMain"](),"webgl": this["buildGaiaFpWebgl"](),"systemInfo": this["buildGaiaSystemInfo"](),"userInfo": this["buildGaiaUserInfo"](),"reportInfo": this["buildGaiaFpReportInfo"]()};}["buildGaiaFpReportInfo"]() {return {"ctime": 0,"ctime_format": ""};}["buildGaiaFpWebgl"]() {return {"webgl_version": "","webgl_shading_language_version": "","webgl_vendor": "","webgl_renderer": ""};}["buildGaiaSystemInfo"]() {var mp = mo;if ("JwMUh" === "JwMUh") {const H = this["storeService"]["getSystemFp"]();return {"machineGUID": H?.["sys"]?.["machineGUID"] || "","hostname": H?.[mp(1514, "JO9c")]?.["hostname"] || "","username": H?.["sys"]?.["username"] || "","isvirtual": H?.["sys"]?.["isvirtual"] || ![],"cpu_manufacturer": H?.["hardware"]?.["cpu"]?.["manufacturer"] || "","cpu_brand": H?.["hardware"]?.["cpu"]?.["brand"] || "","cpu_core": H?.["hardware"]?.["cpu"]?.["cores"]["toString"]() || "","cpu_processors": H?.[mp(417, "LCu@")]?.["cpu"]?.["processors"]["toString"]() || "","macs": H?.["macs"] || ""};} else (j["setAlwaysOnTop"](!![], "normal", 9999), k(() => m[mp(1691, "Mqcd")](![])));}["buildGaiaUserInfo"]() {const H = this["storeService"]["getUserInfo"]();return {"mid": H?.["mid"]?.["toString"]() || ""};}["buildGaiaFpMain"]() {var mq = mo;const {chid: H, sessionId: I, buvid: J, build: K, appStartTime: L} = this["configService"];return {"ip": D["default"]["address"](),"platform": t["IS_WIN"] ? 4 : t["IS_MAC"] ? 8 : t["IS_LINUX"] ? 9 : 4,"buvid": J,"chid": H,"app_chid": H,"osver": E["default"]["version"](),"fts": L,"network": r["RuntimeNetWork"][C["net"]["isOnline"] ? h[mq(1938, "9Bou")] : "OFFLINE"],"version": t["APP_VERSION"],"version_code": K,"session_id": I};}["isChange"](H, I) {return Object["keys"](H)["some"](J => H[J] !== I[J]);}["getInitialGaiaFp"]() {var mr = mo;const H = this[mr(1425, "^M%9")]["getGaiaFp"]();let I;if (H?.["main"]) {const J = this["buildGaiaFpMain"]();I = Object["assign"]({}, H, {"main": J});} else I = this["buildGaiaFp"]();return I;}["transformGaiaFp"](H) {var ms = mo;if ("JDxjs" === "PRkEp") {const {x: J, y: K, width: L} = o["getBounds"]();q > J && r < J + L && t > K && u < K + 70 && B["setPosition"](J + C, K + D);} else {const J = Object[ms(2170, "y^Oh")](H)["reduce"]((L, M) => ({...L,...H[M]}), {}), K = Object["keys"](J)["reduce"]((L, M) => ({...L,[q["GAIA_KEY_MAP"][M]]: J[M]}), {});return {"payload": JSON["stringify"](K)};}}["report"](H) {var mt = mo;(H["reportInfo"]["ctime"] = Date["now"](), H["reportInfo"]["ctime_format"] = (0, o["formatDateTime"])("YYYY-MM-DD hh:mm:ss", H["reportInfo"]["ctime"]), this["storeService"][mt(1136, "(3!I")](H), this["configService"]["gaiaFp"] = H, this["fetchService"]["postGaiaFp"](this["transformGaiaFp"](H)));}["reportGaiaFpWhenChange"](H, I) {var mu = mo;const J = this["buildGaiaFp"](), K = this["storeService"]["getGaiaFp"](), L = I || J[H];if (!this["isChange"](K["main"], J["main"]) && !this[mu(731, "nmd9")](K[H], L)) return;const M = Object["assign"]({}, K, {"main": J["main"]}, {[H]: L});this["report"](M);}["reportGaiaFpWhenStart"]() {var mv = mo;if (mv(693, "X%9J") !== "nnLAT") return (h["returnValue"] = this["configService"]["isMainWindowReady"], this["configService"]["isMainWindowReady"]); else {const I = this["getInitialGaiaFp"]();this["report"](I);}}["scheduleReportGaiaFp"]() {var mw = mo;(clearInterval(this["configService"][mw(1512, "nmd9")]), this["configService"]["intervalOfReportGaiaFp"] = h["BxnjA"](setInterval, () => {var H = this["buildGaiaFp"](), I = this["storeService"]["getGaiaFp"](), J = {"main": H["main"],"webgl": I["webgl"],"systemInfo": I["systemInfo"],"userInfo": I["userInfo"],"reportInfo": H["reportInfo"]};this["report"](J);}, t["GAIA_FP_REPORT_TIME"]));}};(F = i([(0, B["Injectable"])(), j("design:paramtypes", [typeof (l = typeof w["FetchService"] !== "undefined" && w["FetchService"]) === "function" ? l : Object, typeof (m = typeof u["ConfigService"] !== "undefined" && u["ConfigService"]) === "function" ? m : Object, typeof (n = typeof z["StoreService"] !== "undefined" && z["StoreService"]) === "function" ? n : Object])], F), g[mo(1113, "1x5q")] = F);}}), i1 = bV({""(g) {"use strict";var my = f, h = {"XbkZf": function (P, Q) {return P === Q;},"uMjKr": "bili_jct__ckMd5=\"\";","MRCRs": "loginCookies","uaovc": "sync buvid to regedit","rwWgU": "buvid","lesDR": "check regedit old error:","loDqK": "find chid in store: ","VvDFs": "check old regedit error:","ACEyy": "PwiCV","PFPah": "device","HlfqE": function (P, Q) {return P !== Q;},"mHWwM": "cookies","slbTL": "BiliConf valid!","luhyz": "Checking refresh BiliConf.","ZSFha": function (P, Q) {return P(Q);},"tudbX": function (P) {return P();},"ikoKY": function (P, Q) {return P !== Q;}};var i = g && g["__decorate"] || (function (P, Q, R, S) {var mx = f, T = arguments["length"], U = T < 3 ? Q : S === null ? S = Object["getOwnPropertyDescriptor"](Q, R) : S, V;if (typeof Reflect === mx(414, "(3!I") && typeof Reflect[mx(1284, "ry$4")] === "function") U = Reflect["decorate"](P, Q, R, S); else {for (var W = P["length"] - 1; W >= 0; W--) if (V = P[W]) U = (T < 3 ? V(U) : T > 3 ? V(Q, R, U) : V(Q, R)) || U;}return (T > 3 && U && Object["defineProperty"](Q, R, U), U);}), j = g && g["__metadata"] || (function (P, Q) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](P, Q);}), k = g && g["__importDefault"] || (function (P) {return P && P["__esModule"] ? P : {"default": P};}), l, m, n, o, q;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["AuthService"] = void 0);var r = require("@nestjs/common"), t = (fM(), c0(fI)), u = gl(), w = hT(), z = hZ(), A = gq(), B = require("systeminformation"), C = require("electron"), D = require("rxjs"), E = require("fs"), F = require("path"), G = h["ZSFha"](require, "child_process"), H = k(require("os")), I = k(require("md5")), J = k(require("uuid-by-string")), K = require(my(1403, "V[Zi")), L = (dh(), c0(dg)), M = (fy(), c0(fx)), N = h["tudbX"](i0), O = class P extends t["BaseService"] {constructor(Q, R, S, T, U) {var mz = my, V = {"PIhQq": function (W, X) {return W + X;},"muctf": function (W, X) {return W % X;}};if ("EnclN" === "EnclN") {(super(mz(1726, "mnQ[")), c1(this, "configService"), c1(this, "storeService"), c1(this, "fetchService"), c1(this, "eventsService"), c1(this, "gaiaService"), c1(this, "dftDelCookies", [mz(606, "h9c@"), mz(1414, "FoL8"), mz(1693, "(]yY"), "DedeUserID__ckMd5=\"\";", "bili_jct=\"\";", h["uMjKr"]]), c1(this, h["MRCRs"], this["dftDelCookies"]["map"](a1 => a1["split"]("=")[0])), c1(this, "checkLoginTime", Date["now"]()), c1(this, "cookieCache", {}), c1(this, "loginPartitionCksCache", {}), c1(this, "loginPartitionCksCacheStr", {}), this["configService"] = Q, this["storeService"] = R, this["fetchService"] = S, this["eventsService"] = T, this["gaiaService"] = U);const {mainWindowReady$: W, authCookiesChange$: X, authOriginsChange$: Y, appSleepChange$: Z, appHeartbeat$: a0} = this["configService"];(W[mz(2101, "EcL6")](() => {(this["checkIsRefreshToken"](), this["judgeUserLoginStatus"]());}), Z["subscribe"](a1 => {if (!a1) this["refreshUserInfo"]();}), (0, D["merge"])(X, Y)["subscribe"](() => {var mA = mz;this["configService"]["isAppReady"] && (this[mA(1951, "(3!I")]["info"]("Updating cookies!"), this["updateBiliCookie"]());}), a0[mz(2020, "Li1q")](a1 => {var mB = mz;if (V["muctf"](a1, 300) === 0) {if ("XggTQ" === "rKjfk") {if (j["isVisible"]()) {const {x: a3, y: a4, width: a5, height: a6} = m["getBounds"](), a7 = V[mB(468, "!v[t")](a3, a5), a8 = a4 + a6, {x: a9, y: aa} = n[mB(2252, "^M%9")]["getCursorScreenPoint"]();(a9 < a3 || a9 > a7 || aa < a4 || aa > a8) && this["removeMiniMainMouseListener"]();} else this["removeMiniMainMouseListener"]();} else Object["entries"](this["cookieCache"])["forEach"](([a3, {time: a4}]) => {if (Date["now"]() - a4 > M["COOKIE_CACHE_TIME"]) delete this["cookieCache"][a3];});}}));} else h["XbkZf"](k["id"], "HarmonyOS") && o[mz(1088, "1iAQ")]["forEach"]((a2, a3) => {var mC = mz;t["hrefs"][a3] = a2["replace"](u[mC(442, "hGVL")], "local://fonts/HarmonyOS/");});}["initAppAuthInfo"]() {(this["initAppBuvid"]()["then"](() => {var mD = f;(this[mD(1053, "TZU2")]["reportGaiaFpWhenStart"](), this["gaiaService"]["scheduleReportGaiaFp"]());}), this["initAppChid"](), this["initDeviceId"](), this["initMacAddress"](), this["initSystemFp"]());}async ["initAppBuvid"]() {var mE = my;const Q = this["storeService"]["getAppBuvid"]();(this["setAppBuvid"](Q, !![]), this["log"]["info"]("init buivd " + Q));if (Q && Q !== mE(1165, "FoL8")) {const R = this["storeService"]["getBuvidMark"]();this["log"]["info"]("buvidmark " + R);if (!R) {this["log"][mE(2051, "Locc")](h["uaovc"]);try {(await (0, L["addRegValue"])({"key": M[mE(1032, "YUg@")],"name": h["rwWgU"],"data": Q}), this["log"]["info"](mE(2194, "X%9J")), this["storeService"]["setBuvidMark"]());} catch (S) {this[mE(1093, "nwHl")]["error"]("sync buvid to regedit failed!", this["getErrStack"](S));}}return;}this["log"][mE(631, "hGVL")]("no buvid");if (M["IS_WIN"]) {this["log"]["info"]("check buvid in regedit");let T;try {T = await (0, L["listRegValues"])(M["DEFAULT_REGEDIT_PATH_OLD"]);if (typeof T == "object" && T["buvid"]) {(this["log"]["info"]("find buvid in old regedit"), this["setAppBuvid"](T["buvid"]["data"]));return;}} catch (U) {this["log"]["error"](h["lesDR"], this["getErrStack"](U));}try {T = await (0, L["listRegValues"])(M["DEFAULT_REGEDIT_PATH"]);if (typeof T == "object" && T["buvid"]) {(this[mE(640, "^M%9")]["info"](mE(2240, "qbG4")), this["setAppBuvid"](T["buvid"]["data"]));return;}} catch (V) {this[mE(2226, "!v[t")]["error"]("check regedit error:", this["getErrStack"](V));}}this["log"]["info"]("notfound buvid");try {const {b_4: W} = await this["fetchService"][mE(2070, "gUtk")]();this["setAppBuvid"](W);} catch (X) {this["log"]["info"]("getBuvidInfo error");}}["setAppBuvid"](Q, R = ![]) {var mF = my;this["configService"]["buvid"] = Q;if (!Q) return;!R && (this["storeService"]["setAppBuvid"](Q), this["log"]["info"]("set buvid in regedit"), (0, L["addRegValue"])({"key": M["DEFAULT_REGEDIT_PATH"],"name": "buvid","data": Q})[mF(781, "YUg@")](U => {var mG = mF;(this["storeService"][mG(1634, "qfnC")](), this["log"]["info"]("set buvid in regedit succeed" + U[mG(2109, "%AQh")]));})["catch"](U => {var mH = mF;this["log"][mH(602, "qbG4")]("set buvid in regedit failed " + U["msg"]);}));const S = this[mF(2088, "V[Zi")]["getAuthCookies"](), T = S["findIndex"](U => U["name"] === "buvid3");T > -1 ? S[T]["value"] = Q : S["push"]({"name": "buvid3","value": Q});this[mF(1577, "nNM[")]["setAuthCookies"](S);if (this[mF(1360, "KdL&")]["isAppReady"]) this[mF(2169, "Qd![")]["emitAppInfoChange"]();}async [my(1344, "kdon")]() {var mI = my;if (!M["IS_WIN"]) {(0, L["setRunTimeConf"])({"chid": M["CHID"]});return;}let Q = this["storeService"]["getAppChid"]();if (Q) {(this["log"]["info"](h["loDqK"] + Q), this["configService"]["chid"] = Q, (0, L["setRunTimeConf"])({"chid": Q}));return;}let R;try {R = await (0, L["listRegValues"])(M[mI(1156, "%AQh")]);if (typeof R == "object" && R["chid"]) {(this[mI(1114, "BDj!")]["info"]("find chid in old regedit"), Q = R["chid"]["data"], this["setAppChid"](Q));return;}} catch (S) {this["log"]["error"](h["VvDFs"], this["getErrStack"](S));}try {R = await (0, L["listRegValues"])(M["LM_REGEDIT_PATH"]);if (typeof R == "object" && R["chid"]) {(this["log"]["info"]("find chid in regedit"), Q = R["chid"]["data"], this["setAppChid"](Q));return;}} catch (T) {this["log"]["error"]("check regedit error:", this["getErrStack"](T));}this["log"]["info"]("find chid in appRoot");try {const U = (0, E["readFileSync"])((0, F["join"])(M["APP_EXE_PATH"], "bili-config.json"), {"encoding": "utf-8"}), V = JSON["parse"](U);Q = V[mI(980, "!v[t")] || V["chid"];} catch (W) {this["log"]["error"]("readFile appRoot fail:", this["getErrStack"](W));}this["setAppChid"](Q);}["setAppChid"](Q) {var mJ = my;if (!Q) {this[mJ(1272, "3BTs")]["info"](mJ(1788, "43KF"));return;}(this["log"][mJ(2116, "mnQ[")]("set chid succ"), this["storeService"]["setAppChid"](Q), (0, L["setRunTimeConf"])({"chid": M[mJ(1937, "nNM[")]}), this["configService"]["chid"] = Q, C["crashReporter"]["addExtraParameter"]("chid", Q), this["configService"]["isAppReady"] && this["eventsService"]["emitAppInfoChange"]());}[my(1632, "jubI")]() {var mK = my;h["ACEyy"] === "PwiCV" ? (0, B["uuid"])()[mK(1564, "jubI")](Q => {var mL = mK;if (Q["hardware"]) {if (Q["hardware"]["length"] === Q["os"]?.[mL(1171, "8gI1")]) {if ("LVlPz" !== "LVlPz") return (this["judgeUrlIsAllowed"](l, m, n) && (this["configService"]["customConfig"]["isDisableAppBrowser"] ? this["utilsService"][mL(2027, "EcL6")](u) : this["configService"]["openOrFocusUniversalWindow$"]["next"]({"url": w})), {"action": "deny"}); else this["configService"]["deviceId"] = Q["hardware"];} else this["configService"][mL(419, "nmd9")] = (0, J["default"])(Q["hardware"]);} else this["configService"]["deviceId"] = Q["os"];(this["initAuthCookies"](), this["configService"]["isAppReady"] && this["eventsService"]["emitAppInfoChange"]());}) : (A = "1.17.5", B = "1001017005", C = mK(1848, "43KF"), D = "official", E = ![], F = ![], G = "1262306", H = mK(2122, "nNM["), I = "win", J = 900000, K = ![], L = M, N = ![], O = ![]);}["initMacAddress"]() {var mM = my;const Q = H["default"]["networkInterfaces"](), R = Q["WLAN"] || Q["en0"] || [], S = [...new Set(R["map"](T => T["mac"]))];this[mM(1675, "3BTs")]["macAddress"] = S[0];}["initSystemFp"]() {var mN = my, Q = {"bgRoS": "Init system-fp success!"};"WFknj" !== "IghHJ" ? (this["configService"]["systemFp"] = this[mN(2294, "qfnC")]["getSystemFp"](), this["configService"][mN(1133, "BDj!")]["pipe"]((0, D["take"])(1))["subscribe"](() => {var mO = mN;const {customConfig: R} = this["configService"];if (R["disableSystemFp"]) this["log"][mO(1593, "9Bou")]("Force disable systemFp!"); else {const S = this["storeService"]["getSystemFpInitTime"]();if (this["configService"]["systemFp"] && Date["now"]() - S < M["SYSTEM_FP_KEEP_TIME"]) "MJYGC" === "MJYGC" ? (this["log"]["info"]("System-fp ready!"), this["configService"]["reportFpInfo$"]["next"]()) : this[mO(1657, "jubI")](); else {this["log"]["info"]("Init system-fp!");const U = (0, G["fork"])((0, F["join"])(__dirname, "assets/bili-helper.js"));U["on"]("message", V => {var mP = mO;if (V?.[mP(1611, "Mqcd")] === 0 && V["data"]) {const W = V["data"];(this["log"]["info"](Q["bgRoS"]), W["macs"] = this["configService"]["macAddress"], W["sys"]["machineGUID"] = this["configService"]["deviceId"], this["storeService"]["setSystemFp"](W), this["storeService"]["setSystemFpInitTime"](Date["now"]()), this[mP(926, "BDj!")][mP(1758, "YUg@")] = W, this["configService"]["reportFpInfo$"]["next"]());} else this["log"]["error"]("Init system-fp error!");});}}})) : this["exitBossShortcutHide"]();}["getCustomCookies"]() {const Q = this["storeService"]["getAppBuvid"](), {mobi_app: R, platform_: S, device: T, device_id: U, build: V} = this["configService"]["getAppInfo"]();return [{"name": "buvid3","value": Q}, {"name": "mobi_app","value": R}, {"name": "platform","value": S}, {"name": h["PFPah"],"value": T}, {"name": "device_id","value": U}, {"name": "build","value": V}];}["initAuthCookies"]() {var mQ = my;const Q = C["session"][mQ(1210, "%AQh")], R = this["storeService"]["getAuthCookies"]();Q["cookies"]["get"]({"url": M["BILI_URL"],"domain": ".bilibili.com"})["then"](S => {S["forEach"](({name: U, value: V, expirationDate: W}) => {var mR = f;const X = R["find"](Y => Y["name"] === U);!X && !M["CUSTOM_COOKIES"][mR(1099, "(3!I")](U) && R["push"]({"name": U,"value": V,"expirationDate": W});});const T = this["getCustomCookies"]();(T["forEach"](({name: U, value: V}) => {const W = R["findIndex"](({name: X}) => U === X);W > -1 ? R[W] = {"name": U,"value": V} : R["push"]({"name": U,"value": V});}), this["storeService"]["setAuthCookies"](R));});}["getRequestHeaderCookie"](Q) {var mS = my, R = {"OtGpV": function (T, U) {return T === U;}};const S = (0, I["default"])(Q) + "-" + this["storeService"]["authCookiesCache"];if (!this["cookieCache"][S]) {const T = this["storeService"]["getAuthCookies"](), U = T["filter"](({name: V, expirationDate: W, isExpiredRemove: X}) => {if (W && Math["round"](Date["now"]() / 1000) > W) {if (X) this["removeCookie"](V);return ![];}return R["OtGpV"](V, "buvid3") || !new RegExp("(^|;\\s*)" + V + "\\s?=")["test"](Q);})["map"](({name: V, value: W}) => V + "=" + W)["join"]("; ")["trim"]();this["cookieCache"][S] = {"time": Date[mS(687, "JypK")](),"cookie": U + (U && Q ? "; " : "") + Q};} else this["cookieCache"][S]["time"] = Date["now"]();return this["cookieCache"][S]["cookie"];}async ["handleLoginWindowXhr"]() {var mT = my;if (this["configService"]["isOnLoginFetch"] || this["storeService"]["getUserInfo"]()["isLogin"]) return;Date["now"]() - this["checkLoginTime"] > 10000 && this["log"]["info"]("Checking login status!");this[mT(968, "nmd9")] = Date["now"]();const Q = C["session"]["fromPartition"]("minilogin"), R = await Q["cookies"][mT(1686, "1x5q")]({"url": M["BILI_URL"],"domain": ".bilibili.com"});if (R["some"](S => S["name"] === "bili_jct" && S["value"])) {(this["log"]["info"]("Login status true, updating cookies!"), this["configService"]["isOnLoginFetch"] = !![]);if (this["configService"]["loginWindow"]) this["configService"]["loginWindow"]["close"]();if (this["configService"]["loginRiskWindow"]) this["configService"]["loginRiskWindow"][mT(885, "Qd![")]();const S = this["storeService"]["getAuthCookies"]();(R[mT(2103, "mnQ[")](({name: T, value: U, expirationDate: V}) => {var mU = mT;if (![...M["CUSTOM_COOKIES"], ...M[mU(899, "1x5q")]][mU(843, "qfnC")](T)) {const W = S["findIndex"](X => X["name"] === T);if (!~W) S["push"]({"name": T,"value": U,"expirationDate": V}); else {if (this["loginCookies"]["includes"](T)) {if ("wkZTL" !== "wkZTL") return this["state"]["height"]; else S[W] = {"name": T,"value": U,"expirationDate": V};}}}}), this[mT(1499, "CN4e")]["setAuthCookies"](S));try {this["log"]["info"](mT(1964, "!v[t"));const T = await this["fetchService"]["getUserInfo"]();(T["isLogin"] ? (this["log"]["info"](mT(567, "w$r8")), this["storeService"]["setUserInfo"](T), this["eventsService"]["emitUserLogin"](), this["eventsService"]["emitUserInfoChange"]()) : this["log"]["info"]("Get user failed!"), this["configService"]["isOnLoginFetch"] = ![], this["configService"]["loginWinStatusChange$"]["next"](T["isLogin"]));} catch (U) {(this["log"]["info"]("Get user error: ", U["stack"] || U["message"]), this["configService"]["isOnLoginFetch"] = ![], this["configService"]["loginWinStatusChange$"]["next"](![]));}Q["clearStorageData"]({"storages": ["cookies"]});}}async ["refreshUserInfo"]() {var mV = my, Q = {"IwxBp": function (R, S) {return R instanceof S;}};if (h["HlfqE"](mV(1221, "FoL8"), "pqhmN")) try {const R = this["storeService"]["getUserInfo"](), S = await this["fetchService"]["getUserInfo"]();if (!S["isLogin"]) {if ("apadh" !== mV(1090, "FoL8")) {if (R["isLogin"]) return (this["handleUserLogout"](), {});} else n = Q["IwxBp"](o, q) ? r["stack"] || t["message"] : u(w);}return (this["storeService"]["setUserInfo"](S), !(0, K["isDeepEqual"])(R, S) && this["eventsService"]["emitUserInfoChange"](), S);} catch (U) {this[mV(1461, "LCu@")]["error"]("Refresh userInfo error:", this[mV(364, "nmd9")](U));} else (this["storeService"]["setIsPrivacyPolicyAccepted"](), this["configService"]["isPrivacyPolicyAccepted"] = !![]);}["getLoginPartitionCookies"](Q = ![]) {var mW = my;if (!this["loginPartitionCksCache"][this["configService"]["buvid"]]) {const R = [...this["getCustomCookies"](), {"name": mW(1233, "TZU2"),"value": M["APP_KEY"]}, {"name": "device_name","value": encodeURIComponent(this[mW(1546, "uaSA")]["deviceName"])}];(this["loginPartitionCksCache"][this["configService"][mW(519, "BDj!")]] = R, this["loginPartitionCksCacheStr"][this["configService"]["buvid"]] = R["map"](({name: S, value: T}) => S + "=" + T)["join"]("; "));}return (Q ? this[mW(1254, "Li1q")] : this["loginPartitionCksCache"])[this[mW(2295, "Qd![")]["buvid"]];}["setMiniLoginBuvid"]() {const Q = C["session"]["fromPartition"]("minilogin"), R = this["getLoginPartitionCookies"]();R["forEach"](({name: S, value: T}) => {var mX = f;Q["cookies"]["set"]({"url": M[mX(2135, "(]yY")],"domain": ".bilibili.com","name": S,"value": T});});}["handleUserLogout"]() {const Q = this["storeService"]["getUserInfo"]();if (!Q["isLogin"]) return;this["fetchService"]["postUserLogout"]()["then"](R => {var mY = f;R?.["code"] === 0 ? this["logoutAccount"](R["headers"]?.["set-cookie"] || R[mY(570, "EcL6")]?.["Set-Cookie"] || []) : this["logoutAccount"](this["dftDelCookies"]);})["catch"](() => this["logoutAccount"](this["dftDelCookies"]));}["logoutAccount"](Q) {var n0 = my;const R = [];let S = this["storeService"]["getAuthCookies"]();(Q["forEach"](T => {var mZ = f;const [U, V] = T["split"](";")[0][mZ(2261, "X%9J")]("=");(R["push"]({"name": U,"value": V,"expirationDate": -1}), S = S["filter"](W => W["name"] !== U));}), this[n0(873, "(]yY")]["setAuthCookies"](S), this["storeService"]["deleteUserInfo"](), this["storeService"]["setRefreshToken"](""), this["deleteBiliCookie"](R)["then"](() => {(this["eventsService"]["emitUserLogout"](), this["eventsService"]["emitUserInfoChange"]());}));}async ["deleteBiliCookie"](Q) {return new Promise(R => {var n1 = f;const S = C[n1(2028, "Locc")]["defaultSession"], T = [M["BILI_URL"], ...this["configService"]["biliAuthOrigins"]];(Q["forEach"](({name: U, value: V, expirationDate: W}) => {var n2 = n1;(S[n2(545, "JypK")][n2(1453, "y^Oh")]({"url": M["BILI_URL"],"domain": ".bilibili.com","name": U,"value": V,"expirationDate": W}), S["cookies"]["set"]({"url": M["BILI_GAME_URL"],"domain": ".biligame.com","name": U,"value": V,"expirationDate": W}), T["forEach"](X => S["cookies"]["set"]({"url": X,"name": U,"value": V,"expirationDate": W})));}), setTimeout(() => {var n3 = n1;Promise["all"](T["map"](U => S[n3(2154, "^M%9")]["get"]({"url": U,"name": "SESSDATA"})))["then"](U => {if ("PfFZf" !== "PfFZf") return; else {const W = U["some"](X => !!X["length"]);this["log"]["debug"]("Session remaind: ", W);if (W) this["clearAppCookies"]();R(!![]);}});}, 800));});}async [my(504, "LCu@")]() {var n4 = my;const Q = C["session"]["defaultSession"], R = this["storeService"]["getAuthCookies"]();await Promise[n4(1098, "5Oa*")](R["map"](({name: S, value: T}) => {return new Promise(async U => {var n5 = f;try {(await Q["cookies"]["set"]({"url": M["BILI_URL"],"domain": n5(2064, "kdon"),"name": S,"value": T}), await Q["cookies"]["set"]({"url": M["BILI_GAME_URL"],"domain": ".biligame.com","name": S,"value": T}));const V = this["configService"]["biliAuthOrigins"]["filter"](W => !W["includes"](".bilibili.com"));await Promise["allSettled"](V["map"](W => Q["cookies"][n5(924, "JO9c")]({"url": W,"name": S,"value": T})));} finally {U(!![]);}});}));}async ["clearAppCookies"]() {var n6 = my;(await C["session"]["fromPartition"]("minilogin")["clearStorageData"]({"storages": [h[n6(1020, "h9c@")]]}), await C["session"][n6(2248, "1x5q")]["clearStorageData"]({"storages": [n6(375, "Qd![")]}), this["storeService"]["deleteAuthCookies"]());const Q = this["getCustomCookies"]();this["storeService"]["setAuthCookies"](Q);}async ["setCookies"](Q) {const R = this["storeService"]["getAuthCookies"]();(Q["forEach"](({name: S, value: T, expirationDate: U, isExpiredRemove: V}) => {var n7 = f;T = String(T);const W = R["findIndex"](X => X["name"] === S);W > -1 ? R[W] = {"name": S,"value": T,"expirationDate": U,"isExpiredRemove": V} : R[n7(1103, "LCu@")]({"name": S,"value": T,"expirationDate": U,"isExpiredRemove": V});}), this["storeService"]["setAuthCookies"](R));}async ["removeCookie"](Q) {var n8 = my;const R = this["storeService"][n8(753, "gUtk")](), S = R["findIndex"](T => T["name"] === Q);if (S > -1) {if ("rvZdJ" === "rvZdJ") R["splice"](S, 1); else {(this["log"][n8(315, "w$r8")]("Main window closed!"), this["configService"]["mainWindow"]["hide"](), this["configService"]["mainWindow"]["isHidden"] = !![], this["eventsService"]["emitWindowClosed"]());if (this["configService"]["isGamepadEnabled"]) {const [U, V, W, X] = this["systemService"]["getGamepadWindowAndViews"]();(this["utilsService"]["isWindowHide"](W) || !W["isFocused"]()) && (this["utilsService"]["isWindowHide"](X) || !X["isFocused"]()) && (!this["utilsService"]["isWindowHide"](V) && this["configService"]["playerWindow"]["focus"]());}}}this["storeService"]["setAuthCookies"](R);try {const U = C["session"]["defaultSession"];(U["cookies"]["remove"](M[n8(296, "Ni8i")], Q), U["cookies"]["remove"](M["BILI_GAME_URL"], Q), this["configService"][n8(337, "1iAQ")]["forEach"](V => U["cookies"]["remove"](V, Q)));} catch {}}["checkIsRefreshToken"]() {const Q = this["storeService"]["getUserInfo"]();if (!Q["isLogin"]) return;const R = this["storeService"]["getRefreshToken"]();if (!R) return;(this["log"]["info"](h["luhyz"]), this["fetchService"]["getIsRefreshToken"]()["then"](({refresh: S}) => {var n9 = f;S ? this["refreshCookeAndToken"]() : this[n9(404, "Locc")]["info"](h["slbTL"]);})["catch"](() => {this["log"]["error"]("Checking refresh BiliConf error!");}));}async ["refreshCookeAndToken"]() {var na = my;if ("gheqO" === "gheqO") {const Q = this["storeService"]["getRefreshToken"](), R = this["storeService"]["getUserInfo"]();if (!Q || !R["isLogin"]) return;try {this["log"]["info"]("Refresh BiliConf.");const S = "" + R[na(597, "8gI1")] + (0, K["randomId"])(5), T = (0, L["md5Hash"])(String(Math["random"]())), U = (0, L["md5Hash"])(String(Math["random"]())), {encrypted: V, authTag: W} = (0, L["encrypt"])(S, T, U), X = "" + (0, K["randomId"])(10, "0-9abcdef") + T + U + W + V, Y = await this["fetchService"]["getRefreshCsrf"](X), Z = Y["match"](/<div\sid="2-value">(\w*)<\/div>/) && RegExp["$1"];if (Z) {const a0 = Z["split"](""), a1 = a0["splice"](0, 32)["join"]("");a0[na(1179, "1iAQ")](0, 5);const a2 = a0["splice"](0, 32)["join"]("");a0["splice"](0, 5);const a3 = a0["length"], a4 = a0["splice"](a3 - 32, a3)[na(2149, "w$r8")](""), a5 = a0["length"];a0["splice"](a5 - 5, a5);const a6 = a0["join"](""), a7 = (0, L[na(1578, "JO9c")])(a6, a4, a1, a2), a8 = await this[na(1492, "y^Oh")]["postRefreshToken"](a7, Q), {headers: a9, data: {refresh_token: aa} = {}} = a8;aa && this[na(996, "LCu@")]["setRefreshToken"](aa);const ab = this["getHeaderSetCookies"](a9 || ({}));if (ab["length"]) {const ac = this["storeService"][na(1597, "VFZK")]();(ab["forEach"](({name: ad, value: ae, expirationDate: af}) => {const ag = ac["findIndex"](ah => ah["name"] === ad);if (!~ag) ac["push"]({"name": ad,"value": ae,"expirationDate": af}); else this["loginCookies"]["includes"](ad) && (ac[ag] = {"name": ad,"value": ae,"expirationDate": af});}), this["storeService"]["setAuthCookies"](ac), this[na(1598, "CN4e")]["info"]("Confirm refesh bili."), this["fetchService"]["postConfirmRefreshToken"](Q));}} else {if (h["XbkZf"]("sUjsz", "rJHRP")) {const ae = (0, l["readFileSync"])(m, {"encoding": "utf-8"}), af = ae["replace"](n[na(1840, "JO9c")], "./");(0, o["writeFileSync"])(q, af);} else this["log"][na(691, "FoL8")]("Refresh BiliConf error, c!");}} catch (ae) {this["log"]["error"]("Refresh BiliConf error!", this[na(613, "NxR(")](ae));}} else {var ag = arguments[na(1586, "Ni8i")], ah = ag < 3 ? I : J === null ? K = L["getOwnPropertyDescriptor"](M, N) : O, ai;if (typeof P === "object" && typeof Q["decorate"] === "function") ah = R["decorate"](S, T, U, V); else {for (var aj = W["length"] - 1; aj >= 0; aj--) if (ai = X[aj]) ah = (ag < 3 ? ai(ah) : ag > 3 ? ai(Y, Z, ah) : ai(a0, a1)) || ah;}return (ag > 3 && ah && a2["defineProperty"](a3, a4, ah), ah);}}["getHeaderSetCookies"](Q) {const R = [];let S = Q["set-cookie"] || Q["Set-Cookie"] || [];if (typeof S === "string") S = [S];return (S["forEach"](T => {const [U, V] = T["split"](";")[0]["split"]("=");let W = NaN;const X = T["match"](/Expires=\s?([\w,\s:]*);?/) && RegExp["$1"];if (X) {const Y = new Date(X)["getTime"]();if (Y) W = Math["round"](Y / 1000);}R["push"]({"name": U,"value": V,...W ? {"expirationDate": W} : {}});}), R);}["judgeUserLoginStatus"]() {var Q = {"DNQJq": "Login status: "};(this["log"]["info"]("Judge login status!"), this["fetchService"]["getUserInfo"]()["then"](R => {this["log"]["info"](Q["DNQJq"], R["isLogin"]);if (R["isLogin"]) this["storeService"]["setUserInfo"](R); else {const S = this["storeService"]["getUserInfo"]();if (S["isLogin"]) this["handleUserLogout"]();}})["catch"](R => {this["log"]["error"]("Judge login error!", this["getErrStack"](R));}));}["askForMediaAccess"](Q) {return C["systemPreferences"]["askForMediaAccess"](Q);}["getMediaAccessStatus"](Q) {return C["systemPreferences"]["getMediaAccessStatus"](Q);}["getUserMid"]() {const Q = this["storeService"]["getUserInfo"]();return Q["mid"]?.["toString"]();}["signQueryParams"](Q, R = ![]) {var nb = my;const S = "54e6a9a31b911cd5fc0daa66ebf94bc4";(Q["appkey"] = M["APP_KEY"], Q["build"] = this["configService"]["build"], Q["ts"] = Date["now"]());const T = (0, K["stringifyQueryString"])(Q)[nb(1915, "kdon")]("&")["sort"]()["join"]("&")["replace"](/('|!|\(|\))/g, U => escape(U))["replace"](/\*/g, "%2A");return (Q[nb(692, "EcL6")] = (0, I["default"])(T + S)["toLocaleLowerCase"](), R ? Q : (0, K["stringifyQueryString"])(Q));}};(O = i([(0, r["Injectable"])(), j("design:paramtypes", [typeof (l = typeof u[my(1216, "JypK")] !== "undefined" && u[my(1017, "1iAQ")]) === "function" ? l : Object, typeof (m = typeof w["StoreService"] !== my(398, "^M%9") && w["StoreService"]) === "function" ? m : Object, typeof (n = h["HlfqE"](typeof z[my(2152, "w$r8")], "undefined") && z["FetchService"]) === my(1063, "CN4e") ? n : Object, typeof (o = h["ikoKY"](typeof A["EventsService"], "undefined") && A["EventsService"]) === "function" ? o : Object, typeof (q = typeof N["GaiaService"] !== "undefined" && N["GaiaService"]) === "function" ? q : Object])], O), g["AuthService"] = O);}}), i2 = {};bW(i2, {"ReportBase": () => i6});var i3, i4, i5, i6, i7 = bU({""() {var g = {"hoklE": function (h, i, j, k) {return h(i, j, k);},"UfwrG": "retryDuration","YSUPU": function (h, i) {return h !== i;},"GWZHa": function (h) {return h();},"OIKGu": function (h, i) {return h(i);}};(g["GWZHa"](fM), dh(), gk(), fy(), i3 = require("electron"), i4 = bZ(require("os")), i5 = bZ(g["OIKGu"](require, "protobufjs")), i6 = class extends cd {constructor(h, i, j, k, l) {var nc = f, m = ("6|14|15|7|1|5|4|0|3|2|12|9|8|10|11|13")["split"]("|"), n = 0;while (!![]) {switch (m[n++]) {case "0":c1(this, "logSN", 0);continue;case "1":this["storeService"] = l;continue;case "2":c1(this, "retryLimit", 5);continue;case "3":c1(this, "retryCount", 0);continue;case "4":c1(this, "isLogReportError", ![]);continue;case "5":c1(this, "logSendBuffer", []);continue;case "6":super(h);continue;case "7":this["fetchService"] = k;continue;case "8":c1(this, "network", i3["net"]["isOnline"] ? "OTHERNET" : "OFFLINE");continue;case "9":g["hoklE"](c1, this, nc(579, "^M%9"), Date[nc(1815, "UmJ6")]());continue;case "10":c1(this, "logReportRoot", null);continue;case "11":g["hoklE"](c1, this, "isLogReportReady", ![]);continue;case "12":c1(this, g["UfwrG"], 1000);continue;case "13":c1(this, "processMetricSamples", []);continue;case "14":this["authService"] = i;continue;case "15":this["configService"] = j;continue;}break;}}["initLogReport"](h = !![]) {var nd = f;if (h) this["log"][nd(1712, "CN4e")]("Initing log-report!");i5["default"]["load"](e3, (i, j) => {var ne = nd;if (i) {if ("TxicX" !== "TxicX") this["sendEventToWindow"](this[ne(1383, "!L3p")]["playerWindow"], "window/playerWindowMouseLeave", {"data": null}); else {this["log"]["error"]("Init log-report error:", i["stack"] || i["message"]);this["retryCount"] < this["retryLimit"] ? (this["retryCount"]++, setTimeout(() => {(this["log"]["info"]("Retry init log-report!"), this["initLogReport"](![]));}, this[ne(1872, "D0T^")])) : (this["log"]["error"]("Retry init log-report error!"), this["isLogReportError"] = !![]);return;}}(this["logReportRoot"] = j, this["isLogReportReady"] = !![], this["sendLogReport"](), this["log"]["info"]("Init log-report success!"));});}["sendLogReport"]() {var nf = f;this["isLogReportReady"] && (this[nf(1842, "Qd![")]["forEach"](h => h["uploadTime"] = Date[nf(372, "Ni8i")]()), this["handleReportInfo"](this["logSendBuffer"]), this["logSendBuffer"] = []);}["handleReportInfo"](h = []) {var nh = f, i = {"qruZw": function (r, t) {return r === t;}};const j = this["logReportRoot"]["lookupType"]("AppEvent"), k = this["logReportRoot"]["lookupType"]("EventList"), l = [];h["forEach"](r => {var ng = f;const t = j[ng(288, "9Bou")](r), u = j["encode"](t)["finish"](), {logId: w, eventId: z} = r;l["push"]({"logId": w,"eventId": z,"body": u});});const m = k["create"]({"events": l}), n = k["encode"](m)["finish"](), o = this["getIsShowReportLog"]();let q = [];if (o) {if ("ONHkW" !== nh(1711, "EcL6")) {const t = k["isMaximized"]();g["YSUPU"](t, l) && (o = t, this[nh(1779, "nwHl")][nh(1155, "CN4e")](q, "window/maximizeChange", {"data": t}));} else (h["forEach"](({eventId: t, logId: u, mid: w, ctime: z, sn: A, eventCategory: B, retrySendCount: C, pageType: D, extendedFields: E}) => {this["log"]["debug"](" ----------- " + t + " -----------");const F = {"logId": u,"mid": w,"ctime": z,"sn": A,"eventCategory": B,"retrySendCount": C,"pageType": D,...E};(delete F["isPreInstall"], this["log"]["debug"]("Msg:", JSON["stringify"](F)));}), q = l["map"](t => t["logId"] + ":" + t["eventId"]));}this["fetchService"]["postLogReport"](n)["then"](t => {var ni = nh;if (t["status"] === 429) {this["log"][ni(2231, "8gI1")]("Report 429!");if (o) this["log"]["info"]("Report error 429:", q);} else {if (!this["configService"]["isReportStatusInited"] && i["qruZw"](t["status"], 200)) {if ("MVVXx" !== "MVVXx") return; else (this["configService"]["isReportStatusInited"] = !![], db({"reportSuccess": !![]}));}}})["catch"](t => {var nj = nh;if ("AWHvr" !== nj(1343, "w$r8")) o && this["log"]["error"]("Report error:", t["stack"] || t["message"], q); else {(this["log"][nj(762, "3BTs")]("Update available."), this["updateInfo"] = o, this["configService"]["autoUpdateInfo"] = q, this["configService"]["autoUpdateInfoReady$"]["next"](), r["isAvailable"] = !![]);const w = t?.["isShowUpdate"];if (w && u["default"]["gte"](w["APP_VERSION"], w) && this["autocheck"]) {this["log"]["info"]("update no auto check tips,appver:" + B["APP_VERSION"] + ",showver:" + w);return;}if (this["isDownloading"] && !this["isCanceledByUser"]) {this[nj(1369, "nwHl")] && this["eventsService"]["emitUpdateDownload"]({...this["progressObj"],"isShowModal": !![]});return;}this["eventsService"][nj(1742, "qfnC")](A);}});}["getIsShowReportLog"]() {var nk = f;return ct || this["configService"]["customConfig"][nk(2136, "YUg@")];}["getAppRuntimeInfo"]() {var nl = f;const h = {"network": fV[this["network"]],"version": cg,"versionCode": this["configService"]["build"],"logver": nl(1852, "JO9c")};return h;}["getAppInfo"]() {var nm = f;const {isCanReportPrivate: h, systemFp: i} = this[nm(1879, "gUtk")], j = h ? JSON["stringify"](i) : "{}";return {"appId": 112,"platform": dn ? 4 : dp ? 8 : dq ? 9 : 4,"buvid": this["configService"]["buvid"],"chid": this["configService"]["chid"],"deviceId": this["configService"]["deviceId"],"model": i4["default"]["platform"](),"osver": i4["default"]["version"](),"fts": this["fts"],"bilifp": j,"brand": this["configService"]["chid"],"sessionId": this["configService"]["sessionId"]};}["initPerformanceSamps"]() {var nn = f;(this["log"]["info"](nn(988, "FoL8")), this["processMetricSamples"] = [], i3["app"]["getAppMetrics"](), this["takeProcessMatricSample"](), clearInterval(this["configService"]["intervalOfTakeSamples"]), this["configService"]["intervalOfTakeSamples"] = setInterval(() => {(this["takeProcessMatricSample"](), this["processMetricSamples"]["length"] * dK >= dL && this["reportPerformanceInfo"]());}, dK));}["takeProcessMatricSample"]() {var no = f;const h = new gg();this[no(2232, "JypK")]["push"](h);}["reportPerformanceInfo"]() {var np = f;const h = {};(h["isAppSlept"] = this["configService"]["isAppSleeping"], h[np(2045, "VFZK")] = this["processMetricSamples"][np(820, "uaSA")], h["systemMemoryTotal"] = process["getSystemMemoryInfo"]()["total"]);const i = this["processMetricSamples"]["map"](k => k["cpu"]), j = this["processMetricSamples"]["map"](k => k["memory"]);(h["cpuMin"] = Math["min"](...i), h["cpuMax"] = Math["max"](...i), h["cpuMean"] = i["reduce"]((k, l) => k + l, 0) / i["length"], h["memoryMin"] = Math[np(518, "h9c@")](...j), h["memoryMax"] = Math["max"](...j), h[np(2137, "9Bou")] = j["reduce"]((k, l) => k + l, 0) / j["length"], this["report"]({"type": "click","spm_id": "main.main.performance.0"}, {"msg": JSON["stringify"](h)}), this["initPerformanceSamps"]());}});}}), i8 = {};bW(i8, {"UploadLog": () => ic});var i9, ia, ib, ic, ie = bU({""() {var g = {"sgxzO": "upload main log combine file error","RZHmT": "node-fetch","IoYfL": function (h, i) {return h(i);}};(i9 = bZ(require(g["RZHmT"])), ia = bZ(g["IoYfL"](require, "fs/promises")), ib = require("url"), fM(), fy(), ic = class extends cd {constructor(h) {var nq = f;(super("UpLoadLog"), c1(this, "configService"), this[nq(2285, "FoL8")] = h);}async ["upLoad"](h) {var nr = f;const i = await this["preload"](h["preload"]), j = await this["getUploadID"](i);await this["putSplitFile"]({"uploadId": j,...i}, h["file"]);const k = await this["combineFile"]({"uploadId": j,"profile": h[nr(474, "nmd9")]["profile"],"name": h["preload"]["name"],"preloadRes": i});if (k?.["OK"] !== 1) {(this["log"]["error"](g["sgxzO"]), this["log"]["error"](k));return;}(this["log"][nr(632, "Qd![")](k), await this["sendToLaser"]({"preloadRes": i,"options": h}));}async ["preload"](h = {"r": "upos","profile": "","name": ""}) {var ns = f;if (!h["name"]) throw new Error("need upload file name");const i = new ib["URLSearchParams"](h), j = this["configService"]["proxyAgent"], k = await (0, i9["default"])("https://member.bilibili.com/preupload?" + i["toString"](), {...j && ({"agent": j})})["then"](l => l["json"]());return {"uploadUrl": "http:" + k["endpoint"] + k["upos_uri"]["replace"](ns(566, "LCu@"), ""),"auth": k["auth"],"bizId": k["biz_id"],"uposUri": k["upos_uri"]};}async ["getUploadID"](h) {const i = h["uploadUrl"] + "?uploads&output=json", j = this["configService"]["proxyAgent"], k = await (0, i9["default"])(i, {"method": "POST","headers": {"X-Upos-Auth": h["auth"]},...j && ({"agent": j})})["then"](l => l["json"]());return k["upload_id"];}async ["putSplitFile"](h, i) {var nt = f;if ("OJtNs" === "ryOnn") return (j["returnValue"] = this["utilsService"]["checkIsGrayHit"](k), l[nt(382, "!v[t")]); else {const k = await ia[nt(2047, "JO9c")]["readFile"](i), l = k["length"], m = h["uploadUrl"] + "?partNumber=1&uploadId=" + h["uploadId"] + "&chunk=0&chunks=1&size=" + l + "&start=0&end=" + l + "&total=" + l, n = this["configService"]["proxyAgent"];await (0, i9["default"])(m, {"method": "PUT","headers": {"X-Upos-Auth": h["auth"],"Content-Type": "application/octet-stream"},"body": k,...n && ({"agent": n})});}}async ["combineFile"](h) {var nu = f;const i = h["preloadRes"]["uploadUrl"] + nu(2055, "JO9c") + h["name"] + "&profile=" + h["profile"] + "&uploadId=" + h["uploadId"] + "&biz_id=" + h["preloadRes"]["bizId"], j = this["configService"]["proxyAgent"], k = await (0, i9["default"])(i, {"method": nu(2026, "D0T^"),"headers": {"X-Upos-Auth": h["preloadRes"]["auth"],"Content-Type": "application/json; charset=UTF-8"},...j && ({"agent": j})})["then"](l => l["json"]());return k;}async ["sendToLaser"](h) {var nv = f;const i = new ib["URLSearchParams"]({"mid": h["options"]["user"]["mid"],"buvid": h["options"]["user"]["buvid"],"app_key": dp ? "pc_electron_mac" : "bili_win","url": h["preloadRes"]["uposUri"]}), j = nv(347, "y^Oh") + i["toString"](), k = this["configService"]["proxyAgent"], l = await (0, i9["default"])(j, {"method": "POST","headers": {"Content-Type": "application/json"},...k && ({"agent": k})})["then"](m => m["json"]());this["log"]["info"](l);}});}}), ig = bV({""(g) {"use strict";var nw = f, h = {"APfts": function (L, M) {return L === M;},"bNveo": "main.main.main-precess.splash-ready.click","hEpQI": "SYSTEM","diIKV": "show","wvbIT": function (L, M) {return L === M;},"jnbgz": "exe","PUkly": function (L, M) {return L - M;},"QDUoQ": nw(1380, "Mqcd"),"qCoQm": "bili.log","tmJjT": "main.main.crash.elevate-restart","fxduh": function (L, M) {return L && M;},"lzPUX": "main.main.main-precess.notification-failed.click","UcSnI": "click","htmhO": function (L, M) {return L(M);},"uonBR": function (L) {return L();},"LNsjj": function (L, M) {return L(M);},"WdAtp": "function","MvirW": function (L, M) {return L === M;},"INbrJ": function (L, M) {return L !== M;}};var i = g && g["__decorate"] || (function (L, M, N, O) {var P = arguments["length"], Q = P < 3 ? M : h["APfts"](O, null) ? O = Object["getOwnPropertyDescriptor"](M, N) : O, R;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") Q = Reflect["decorate"](L, M, N, O); else {for (var S = L["length"] - 1; S >= 0; S--) if (R = L[S]) Q = (P < 3 ? R(Q) : P > 3 ? R(M, N, Q) : R(M, N)) || Q;}return (P > 3 && Q && Object["defineProperty"](M, N, Q), Q);}), j = g && g["__metadata"] || (function (L, M) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](L, M);}), k, l, m, n, o;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["ReportService"] = void 0);var q = h["htmhO"](require, "@nestjs/common"), r = i1(), t = gl(), u = h["uonBR"](hZ), w = hT(), z = gq(), A = (i7(), c0(i2)), B = require("@bilibili/b-utils-core"), C = require("electron"), D = (ie(), c0(i8)), E = (dh(), c0(dg)), F = (hS(), c0(hR)), G = (fy(), c0(fx)), H = require("path"), I = (gk(), c0(gj)), J = h["LNsjj"](require, "fs-extra"), K = class L extends A["ReportBase"] {constructor(M, N, O, P, Q) {var nx = nw;(super("ReportService", M, N, O, P), c1(this, nx(1922, "kdon")), c1(this, "configService"), c1(this, nx(2175, "V[Zi")), c1(this, "storeService"), c1(this, "eventsService"), c1(this, "reportEventCategory", I["ReportEventCategory"]), c1(this, "tempLogPath", (0, H["join"])(C["app"]["getPath"]("temp") || C["app"]["getPath"]("userData"))), c1(this, "tempLogFile", (0, H["join"])(this["tempLogPath"], "bili.log")), c1(this, "isReportLogPrepared", ![]), c1(this, "initReportLogTime", Date["now"]()), this["authService"] = M, this["configService"] = N, this["fetchService"] = O, this["storeService"] = P, this["eventsService"] = Q);const {beforeQuitApp$: R, reportFpInfo$: S, appReady$: T, splashWindowReady$: U, mainWindowReady$: V, onOpenInBrowser$: W, appConfigUpdated$: X} = this[nx(1675, "3BTs")];(R["subscribe"](() => this["reportAppQuitEvents"]()), S["subscribe"](() => this["reportFpReady"]()), T["subscribe"](() => {var ny = nx;this["reportAppOrWinReady"]("click", "main.main.main-precess.app-ready.click");const {restrict: Y} = this["configService"][ny(714, "D0T^")];Y && ("QZPEW" === "QZPEW" ? (this["reportElevateRestart"](), (0, E["setRunTimeConf"])({"restrict": ![]})) : (this["log"]["info"]("Handle quit app!"), h[ny(604, "w$r8")]["quit"]()));}), U["subscribe"](() => {!this["configService"]["isAppSlept"] ? this["reportAppOrWinReady"]("SYSTEM", "app.main.splashWindowReady.sys") : this["reportAppOrWinReady"]("click", h["bNveo"]);}), V["subscribe"](() => {var nz = nx;(!this["configService"]["isAppSlept"] ? this[nz(1927, "VFZK")](h["hEpQI"], "app.main.mainWindowReady.sys") : this["reportAppOrWinReady"]("click", "main.main.main-precess.main-ready.click"), this["storeService"]["getIsForceRelaunch"]() && (this[nz(996, "LCu@")]["setIsForceRelaunch"](![]), this["reportForceRelaunch"]()));}), W["subscribe"](Y => this["reportOpenInBrowser"](Y)), X["subscribe"](() => this["reportMainAppLog"](!![])));}["report"](M, N) {var nA = nw;if (this["isLogReportError"]) return;if (!M || !M["type"]) {console["error"]("Option and options.type field are required!");return;}if (!M[nA(883, "JypK")] && (!M["a"] || !M["b"])) {console["error"]("spm_id or a.b field is required!");return;}const {type: O, spm_id: P, a: Q, b: R, c: c = 0, d: d = 0, e: S} = M, T = P || Q + "." + R + "." + c + "." + d + (S ? "." + S : ""), U = O["toLowerCase"]() === h[nA(2025, "JO9c")] ? nA(1942, "KdL&") : O[nA(342, "hGVL")](), V = {"eventId": this["transformEventId"](T, O),"logId": this["configService"]["customConfig"]["isTestLogReport"] ? "023694" : "001538","mid": this[nA(861, "X%9J")]["getUserMid"](),"ctime": Date["now"](),"sn": this["logSN"]++,"snGenTime": Date["now"](),"retrySendCount": this["retryCount"],"pageType": N["pageType"] || 1,"eventCategory": this[nA(543, "Locc")][U],"appInfo": this[nA(1187, "JypK")](),"runtimeInfo": this["getAppRuntimeInfo"](),"extendedFields": this["transformReportInfo"](N["msg"]),"appPageViewInfo": N["appPageViewInfo"],"appExposureInfo": N["appExposureInfo"],"appPlayerInfo": N["appPlayerInfo"]};(this["logSendBuffer"]["push"](V), this["sendLogReport"]());}["reportCustomData"](M, N) {var nB = nw;if (this["isLogReportError"]) return;if (!M || !N?.[nB(636, "w$r8")]) {console["error"]("type and info.spm_id fields are required!");return;}const O = M["toLowerCase"]() === "show" ? "APPEAR" : M["toUpperCase"](), P = {"eventId": this["transformEventId"](N["spm_id"], M),"logId": this["configService"]["customConfig"]["isTestLogReport"] ? "023694" : "001538","mid": this["authService"][nB(1219, "8gI1")](),"ctime": Date["now"](),"sn": this["logSN"]++,"snGenTime": Date["now"](),"retrySendCount": this["retryCount"],"pageType": N["pageType"] || 1,"eventCategory": this["reportEventCategory"][O],"appInfo": this["getAppInfo"](),"runtimeInfo": this["getAppRuntimeInfo"](),"extendedFields": this["transformReportInfo"](N["msg"]),"appPageViewInfo": N[nB(385, "hGVL")] || ({}),"appExposureInfo": N[nB(2278, "1x5q")] || ({}),"appPlayerInfo": N["appPlayerInfo"] || ({})};(this["logSendBuffer"]["push"](P), this["sendLogReport"]());}["transformReportInfo"](M) {var nC = nw;let N = {};try {if ((0, B[nC(1877, "(]yY")])(M)) N = JSON["parse"](M);} catch (P) {return (this["log"][nC(1347, "!L3p")]("log report msg json parse [", M, "] error: ", P), M);}N["isPreInstall"] = G["IS_PRE_INSTALL"];const O = {};return (Object[nC(1599, "D0T^")](N)["forEach"](([Q, R]) => {var nD = nC;O[Q] = (0, B[nD(300, "(3!I")])(R) ? R : JSON[nD(615, "V[Zi")](R);}), O);}["transformEventId"](M, N) {var nE = nw;M = M["replace"](/_/g, "-");const O = M["split"]("."), P = N[nE(1060, "5Oa*")]();if (N["toUpperCase"]() === "SYSTEM") return M;if (O["length"] >= 4) {const Q = O[O["length"] - 1];if (Q === "show" && h["wvbIT"](P, "appear") || Q === "show" && P === "show" || Q === "click" && P === "click") return M;}return M + "." + P;}["reportAppStartUpEvents"](M) {var nF = nw;(this[nF(664, "43KF")]({"type": "SYSTEM","spm_id": "app.active.startup.sys"}, {"msg": JSON["stringify"]({"equipment_id": this["configService"]["deviceId"],"mac": this["configService"]["macAddress"],"version": G["APP_VERSION"],"install_version": G["INSTALL_VERSION"],"electron_version": process["versions"]["electron"]})}), this["report"]({"type": "show","spm_id": "app.main.main-precess.start-info"}, {"msg": JSON["stringify"]({"app_hash": (0, E[nF(895, "JypK")])(G["APP_CODE_PATH"]),"version": G["APP_VERSION"] + "(" + (G["FAWKES_JOB_ID"] || "--") + ")","os_type": G["IS_WIN7"] ? "win7" : G["IS_WIN8"] ? "win8" : G["IS_WIN10"] ? "win10" : G["IS_WIN11"] ? "win11" : G["IS_MAC"] ? "mac" : G["IS_LINUX"] ? "linux" : "other","is_arm": process["arch"]["startsWith"](nF(1985, "9Bou")) ? 1 : 0})}));const N = {...M,"font_select": this["storeService"]["getSystemFontId"](),"auto_startup": C["app"][nF(884, "qbG4")]()["openAtLogin"],"disable_gpu": this["storeService"][nF(1180, "w$r8")](),"quit_by_close": this["storeService"]["getIsQuitByCloseMain"](),"dynamic_auto_player": this["storeService"][nF(785, "Li1q")]["get"](F["SCROLL_TRIGGER_INLINE_PLAY_ACTIVE"]),"boss_shortcut": this["storeService"]["getBossShortcutInfo"]()["isEnable"],"auto_update": ![],"install_directory": (0, H["dirname"])(C["app"]["getPath"](h["jnbgz"])),"push_recommend": this["storeService"]["getAllowPushRecommend"](),"push_live": this["storeService"]["getAllowPushLive"](),"push_dynamic": this["storeService"][nF(1608, "qfnC")](),"selected_first": this["storeService"]["getIsSelectedFirst"]()};this["report"]({"type": "SYSTEM","spm_id": "main.system.set.sys"}, {"msg": JSON["stringify"](N)});}["reportAppQuitEvents"]() {const {appStartTime: M, appQuitTime: N} = this["configService"];(this["report"]({"type": "SYSTEM","spm_id": "app.active.duration.sys"}, {"msg": JSON["stringify"]({"duration": N - M,"startup_time": M,"end_time": N,"equipment_id": this["configService"]["deviceId"],"mac": this["configService"]["macAddress"]})}), this["reportPerformanceInfo"]());}[nw(1513, "9Bou")]() {this["report"]({"type": "SYSTEM","spm_id": "app.active.startup-copy.sys"}, {"msg": JSON["stringify"]({"equipment_id": this["configService"]["deviceId"],"mac": this["configService"]["macAddress"]})});}["reportAppDeactiveEvent"]() {const {appActiveTime: M, appDeactiveTime: N} = this["configService"];this["report"]({"type": "SYSTEM","spm_id": "app.active.duration-copy.sys"}, {"msg": JSON["stringify"]({"duration": N - M,"startup_time": M,"end_time": N,"equipment_id": this["configService"]["deviceId"],"mac": this["configService"]["macAddress"]})});}["reportMainAppLog"](M = ![], N = ![]) {var nG = nw;if (h[nG(1843, "8gI1")]("vSMiT", "UYEJM")) {if (m["match"](new n("(^|,)" + o + "(,|$)"))) return !![];if (q["match"](new r(t + ",(0,|0$)"))) return !![];} else {const {uploadLog: P} = this["configService"]["appConfig"];if (!P) return;if (P["csUp"] && !M && !N || P["crashUp"] && !M && N || P["wlUp"] && !N && M) {if ("xUVuJ" !== "VMSOF") {const Q = Date["now"](), R = this["storeService"]["getUploadLogTime"](), S = N ? G["UPLOAD_CRASH_LOG_TIME"] : G["UPLOAD_MAIN_LOG_TIME"];if (h["PUkly"](Q, R) > S) {if (M) {const {mids: T, buvids: U, v: V} = P;if (!T?.["length"] && !U?.[nG(1278, "qbG4")]) return;const W = this["storeService"]["getUploadLogInfo"]();if (V === W["v"]) return;const X = this["storeService"]["getUserInfo"](), Y = this["configService"]["getAppInfo"]();if (!T?.["includes"](X["mid"]) && !U?.["includes"](Y["build"])) return;(this[nG(2219, "Ni8i")]["info"]("Report log by wl config"), this["storeService"]["setUploadLogInfo"](P));}(N ? this["log"]["info"]("Report log by process-crash") : this["log"]["info"](nG(2227, "qfnC")), this["storeService"]["setUploadLogTime"](Q), this["uploadClientLog"](M));}} else k[nG(669, "43KF")]["forEach"](a0 => {this["isDownloadGroup"](a0) ? t = [...u, ...a0["itemList"]] : w["push"](a0);});}}}["savePlayerLog"](M) {var nH = nw;try {if ("zprpq" === "zprpq") {this["log"][nH(1490, "kdon")]("Prepare app log.");const N = new Array(80)["fill"]("=")[nH(939, "FoL8")]("");((0, J["appendFileSync"])(this["tempLogFile"], N + "\nPlayer Log\n" + N + "\n"), (0, J["appendFileSync"])(this["tempLogFile"], M), (0, J["appendFileSync"])(this["tempLogFile"], "\n\n" + N + "\nDownload Log\n" + N + "\n"));const O = this["storeService"]["getDownloadPath"](), P = (0, H["join"])(O, "load_log");((0, J["existsSync"])(P) && (0, J["appendFileSync"])(this["tempLogFile"], (0, J["readFileSync"])(P)), (0, J["appendFileSync"])(this["tempLogFile"], "\n\n" + N + nH(331, "^M%9") + N + "\n"), (0, J["appendFileSync"])(this[nH(584, "Qd![")], (0, J["readFileSync"])((0, H[nH(1117, "V[Zi")])(C["app"]["getPath"]("logs"), "main.log"))), this["log"]["info"]("App logs prepared:", this["tempLogFile"]), this["isReportLogPrepared"] = !![]);} else {const R = [...this["getCustomCookies"](), {"name": h["QDUoQ"],"value": i[nH(495, "BDj!")]}, {"name": "device_name","value": j(this["configService"]["deviceName"])}];(this["loginPartitionCksCache"][this["configService"]["buvid"]] = R, this[nH(2162, "43KF")][this["configService"]["buvid"]] = R["map"](({name: S, value: T}) => S + "=" + T)["join"]("; "));}} catch (R) {this["log"]["error"]("Prepare app log error!", this["formatError"](R));}}["uploadClientLog"](M) {var nI = nw;(this["log"]["info"]("Start upload log..."), this["isReportLogPrepared"] = ![]);if ((0, J["existsSync"])(this["tempLogFile"])) (0, J["rmSync"])(this["tempLogFile"]);(this["eventsService"][nI(757, "!L3p")](M), this["initReportLogTime"] = Date[nI(1856, "jubI")](), clearInterval(this["configService"]["intervalOfReportLog"]), this["configService"]["intervalOfReportLog"] = setInterval(() => {var nJ = nI;if (this["isReportLogPrepared"] || Date["now"]() - this["initReportLogTime"] > 10000) {clearInterval(this["configService"]["intervalOfReportLog"]);try {if (!(0, J["existsSync"])(this[nJ(628, "Li1q")])) return;new D["UploadLog"](this[nJ(1967, "kdon")])["upLoad"]({"preload": {"r": "upos","name": h["qCoQm"],"profile": G["IS_MAC"] ? "feedback/bili-mac" : "feedback/bili-win"},"file": this["tempLogFile"],"user": {"mid": this["authService"]["getUserMid"](),"buvid": this["configService"]["buvid"]}});} catch (N) {this["log"]["error"]("Upload log error:" + N["message"]);}}}, 200));}["reportThemeChange"](M) {var nK = nw;this["report"]({"type": nK(877, "YUg@"),"spm_id": "app.active.themeChange.sys"}, {"msg": JSON["stringify"]({"theme": M})});}["reportThemeSettingChange"](M) {var nL = nw;this[nL(1579, "nwHl")]({"type": "SYSTEM","spm_id": "app.active.themeSettingChange.sys"}, {"msg": JSON["stringify"]({"theme": M})});}[nw(682, "X%9J")](M) {var nM = nw;"gSLIE" === "sTHEG" ? this["configService"]["loginWindowLiving$"]["next"](![]) : this["report"]({"type": "click","spm_id": nM(1134, "B4nF")}, {"msg": JSON["stringify"](M)});}[nw(1067, "LCu@")](M) {(this["report"]({"type": "click","spm_id": "app.render.crash.sys"}, {"msg": JSON["stringify"](M)}), this["reportMainAppLog"](![], !![]));}["reportCrashDialogShow"](M) {var nN = nw;this["report"]({"type": nN(568, "YUg@"),"spm_id": "main.main.crash.dialog.show"}, {"msg": JSON["stringify"](M)});}["reportUpdateError"](M) {var nO = nw;this[nO(1377, "nNM[")]({"type": "click","spm_id": "main.main.update-error.0"}, {"msg": JSON["stringify"](M)});}["reportElevateRestart"]() {this["report"]({"type": "click","spm_id": h["tmJjT"]}, {"msg": JSON["stringify"]({})});}["reportForceRelaunch"]() {var nP = nw;this["report"]({"type": nP(505, "CN4e"),"spm_id": "main.main.main-page.force-relaunch"}, {"msg": JSON["stringify"]({})});}["reportAppOrWinReady"](M, N) {var nQ = nw;const {isAppSlept: O, appStartTime: P, appAwakeTime: Q} = this["configService"], R = O ? Q : P;let S = Date["now"]();if (N["includes"]("app-ready") && global["appReadyTime"]) S = global["appReadyTime"]; else {if (N["includes"]("splashWindowReady") && global["splashReadyTime"]) S = global[nQ(2268, "h9c@")]; else N["includes"]("mainWindowReady") && global[nQ(1438, "qbG4")] && (S = global["mainWindowReadyTime"]);}this[nQ(1904, "Ni8i")]({"type": M,"spm_id": N}, {"msg": JSON["stringify"]({"duration": S - R})});}["reportAppLaunchTiming"](M) {var nR = nw;this["report"]({"type": nR(441, "43KF"),"spm_id": "main.main.main-page.launch.click"}, {"msg": JSON[nR(530, "h9c@")](M)});}["reportFpReady"]() {var nS = nw;const {isCanReportPrivate: M, systemFp: N} = this["configService"];h["fxduh"](M, N) && this[nS(1259, "D0T^")]({"type": "SYSTEM","spm_id": "app.active.fpready.sys"}, {"msg": JSON["stringify"](N)});}["reportAgreementAction"](M) {this["report"]({"type": "click","spm_id": "main.main.agreement.dialog"}, {"msg": JSON["stringify"]({"isAgree": M})});}["reportBossShortcut"](M) {this["report"]({"type": "click","spm_id": "main.settings.boss-key.0.click"}, {"msg": JSON["stringify"]({"isHide": M})});}["reportLoginFrom"](M) {var nT = nw;nT(768, "JO9c") === "bJTsO" ? (this["configService"]["loginSub"]["unsubscribe"](), i && this["openBigVipWindow"](k)) : this["report"]({"type": nT(1236, "Li1q"),"spm_id": "main.main.login.from.click"}, {"msg": JSON["stringify"]({"from": M})});}["reportAbTestInfo"](M) {this["report"]({"type": "click","spm_id": "app.main.ab-test.flag.click"}, {"msg": JSON["stringify"](M)});}["reportSchemeUrlOpen"](M) {var nU = nw;const N = {...M,"buvid": this[nU(1251, "X%9J")]["buvid"],"mid": this["storeService"][nU(450, "V[Zi")]()["mid"]};this["report"]({"type": "click","spm_id": "main.play-detail.player.open.click"}, {"msg": JSON["stringify"](N)});}[nw(1604, "9Bou")](M) {this["report"]({"type": "click","spm_id": "main.play-detail.player.local.click"}, {"msg": JSON["stringify"](M)});}["reportPatchUpgrade"](M) {this["report"]({"type": "click","spm_id": "main.main.main-page.patch.click"}, {"msg": JSON["stringify"](M)});}["reportPlayerPatch"](M) {this["report"]({"type": "click","spm_id": "main.main.main-page.player-patch.click"}, {"msg": JSON["stringify"](M)});}["reportRenderRestricted"]() {this["report"]({"type": "click","spm_id": "main.main.crash.restrict.click"}, {"msg": JSON["stringify"]({})});}["reportRenderRestrictedStart"]() {this["report"]({"type": "click","spm_id": "main.main.crash.reset-start.click"}, {"msg": JSON["stringify"]({})});}["reportOpenInBrowser"](M) {var nV = nw;this["report"]({"type": nV(505, "CN4e"),"spm_id": "main.main.main-page.open-browser.click"}, {"msg": JSON["stringify"](M)});}[nw(467, "D0T^")](M) {this["report"]({"type": "click","spm_id": "main.main.main-precess.notification-ready.click"}, {"msg": JSON["stringify"](M)});}["reportShowNotification"](M) {var nW = nw;this[nW(1822, "qfnC")]({"type": "click","spm_id": "main.main.main-precess.notification-show.click"}, {"msg": JSON["stringify"](M)});}["reportFailedNotification"](M) {this["report"]({"type": "click","spm_id": h["lzPUX"]}, {"msg": JSON["stringify"](M)});}["reportClickNotification"](M) {var nX = nw;this["report"]({"type": "click","spm_id": "main.main.main-precess.notification-click.click"}, {"msg": JSON[nX(2029, "YUg@")](M)});}[nw(937, "hGVL")](M) {var nY = nw;this[nY(363, "kdon")]({"type": "click","spm_id": "main.universal-window.browser.open.click"}, {"msg": JSON["stringify"](M)});}["reportCloseUniversalWindow"](M) {this["report"]({"type": h["UcSnI"],"spm_id": "main.universal-window.browser.close.click"}, {"msg": JSON["stringify"](M)});}["reportOpenLiveRoomWindow"](M) {var nZ = nw;this["report"]({"type": "click","spm_id": "main.live-room.room.open"}, {"msg": JSON[nZ(1019, "Mqcd")]({"roomid": M})});}["reportWeChatInstallStatus"](M) {var o0 = nw;this[o0(1822, "qfnC")]({"type": "click","spm_id": "main.main.main-precess.weixin-install"}, {"msg": JSON["stringify"]({"version": M})});}};(K = i([(0, q[nw(2266, "gUtk")])(), j("design:paramtypes", [typeof (k = typeof r[nw(1834, "Mqcd")] !== "undefined" && r["AuthService"]) === h["WdAtp"] ? k : Object, typeof (l = typeof t["ConfigService"] !== "undefined" && t["ConfigService"]) === "function" ? l : Object, h["MvirW"](typeof (m = typeof u["FetchService"] !== "undefined" && u["FetchService"]), "function") ? m : Object, h["MvirW"](typeof (n = h["INbrJ"](typeof w["StoreService"], "undefined") && w["StoreService"]), "function") ? n : Object, typeof (o = typeof z["EventsService"] !== "undefined" && z["EventsService"]) === "function" ? o : Object])], K), g["ReportService"] = K);}}), ih = bV({""(g) {"use strict";var o7 = f, h = {"nVhuK": function (C, D) {return C === D;},"eQPqy": function (C, D) {return C / D;},"duivh": "FWnLZ","QoyoZ": function (C, D) {return C + D;},"GiiyN": function (C, D) {return C(D);},"lPkOH": function (C) {return C();},"IMdkt": function (C, D) {return C(D);},"sMVJi": "semver"};var i = g && g["__decorate"] || (function (C, D, E, F) {var o1 = f;if ("VHxjK" !== "VHxjK") this["windowFactory"][o1(901, "h9c@")](); else {var G = arguments["length"], H = G < 3 ? D : F === null ? F = Object["getOwnPropertyDescriptor"](D, E) : F, I;if (h["nVhuK"](typeof Reflect, "object") && typeof Reflect[o1(401, "uaSA")] === "function") H = Reflect[o1(598, "(3!I")](C, D, E, F); else {for (var J = C["length"] - 1; J >= 0; J--) if (I = C[J]) H = (G < 3 ? I(H) : G > 3 ? I(D, E, H) : I(D, E)) || H;}return (G > 3 && H && Object["defineProperty"](D, E, H), H);}}), j = g && g["__metadata"] || (function (C, D) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](C, D);}), k = g && g["__importDefault"] || (function (C) {return C && C["__esModule"] ? C : {"default": C};}), l, m;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["UtilsService"] = void 0);var n = h["GiiyN"](require, "@nestjs/common"), o = (fM(), c0(fI)), q = gl(), r = hT(), t = require("electron"), u = (dh(), c0(dg)), w = (h["lPkOH"](fy), c0(fx)), z = require("@bilibili/b-utils-core"), A = h["IMdkt"](k, require(h["sMVJi"])), B = class C extends o["BaseService"] {constructor(D, E) {(super("UtilsService"), c1(this, "configService"), c1(this, "storeService"), this["configService"] = D, this["storeService"] = E);}["relaunchApp"](D = ![]) {var o2 = f;(this["log"]["info"]("Relaunching!"), this["configService"]["isAppQuited"] = !![], this["configService"]["appQuitTime"] = Date["now"](), D ? (this["storeService"]["setIsForceRelaunch"](!![]), t[o2(1036, "mnQ[")]["relaunch"](), t[o2(292, "qfnC")]["exit"]()) : (this["configService"]["beforeQuitApp$"][o2(1447, "KdL&")](), setTimeout(() => {var o3 = o2;(this[o3(321, "8gI1")]["onQuitingApp$"]["next"](), t["app"]["relaunch"](), t["app"]["exit"]());}, w["QUIT_STAY_TIME"])));}["shellOpenExternal"](D, E) {(t["shell"]["openExternal"](D), this["configService"]["onOpenInBrowser$"]["next"]({"url": D,"from": E}));}["setAppOpenAtLogin"](D) {(D = !!D, w["IS_DEV"] ? t["app"]["setLoginItemSettings"]({"openAtLogin": D,"path": process["execPath"],"name": "BiliBiliPC"}) : t["app"]["setLoginItemSettings"]({"openAtLogin": D,"name": "BiliBiliPC"}));}["isWindowHide"](D) {var o4 = f;return o4(1991, "5Oa*") !== "CZmNE" ? !D || D["isDestroyed"]() || !D["isVisible"]() && D["isHidden"] : this["systemService"]["getAppLogTipStrings"]();}["getDisplayScaleFactor"](D) {var o5 = f;const E = D["getBounds"](), F = t["screen"]["getDisplayMatching"](E);return F[o5(1300, "YUg@")];}["centerBrowserView"](D, E, F) {var o6 = f;const {width: G, height: H} = D["getBounds"](), {width: I, height: J} = F || E["getBounds"](), K = Math["floor"](h["eQPqy"](G - I, 2)), L = Math["floor"]((H - J) / 2);E[o6(462, "hGVL")]({"x": K,"y": L,"width": I,"height": J});}["getBuvidWlCode"](D) {return String(parseInt((0, u["md5Hash"])(D, 8), 16));}[o7(527, "qfnC")](D, E, F = 1000) {return parseInt((0, u["md5Hash"])("" + D + (E || ""), 8), 16) % F;}["getAbTestCursor"](D) {var o8 = o7;if ("FWnLZ" === h[o8(492, "^M%9")]) {const E = (D || "")[o8(842, "qfnC")]("~");let F = +E[0], G = +E[1];if (!(0, z["isNum"])(F)) F = -1;if (!(0, z["isNum"])(G)) G = F;return [F, G];} else this["configService"][o8(711, "8gI1")] && (this[o8(1598, "CN4e")]["info"]("Updating cookies!"), this["updateBiliCookie"]());}["getPatchVersionInfo"](D, E) {const F = E["match"](/\d*$/)[0];return D ? E["replace"](/(?<=\.)\d*$/, "" + String(h["QoyoZ"](90, D)) + F) : E;}["checkIsGrayHit"]({on: D, s: E, b: F, bc: G, wl: H, bl: I, st: J, et: K, sv: L, ev: M, exOS: N, exWin7Win8: O} = {}) {var o9 = o7;const {device: P} = this["configService"][o9(1721, "Mqcd")](), {mid: Q} = this["storeService"]["getUserInfo"](), {buvid: R} = this["configService"], S = this["getBuvidWlCode"](R);if (!D) return ![];if (N && N["includes"](P)) return ![];if (O && w["IS_WIN7OR8"]) return ![];if (J && Date["now"]() < J || K && Date["now"]() > K) return ![];if (L && A["default"]["lt"](w["APP_VERSION"], L) || M && A["default"]["gt"](w["APP_VERSION"], M)) return ![];if (I) {if (I["match"](new RegExp("(^|,)" + Q + "(,|$)"))) return ![];if (I["match"](new RegExp(S + ",(0,|0$)"))) return ![];}if (H) {if (H["match"](new RegExp("(^|,)" + Q + "(,|$)"))) return !![];if (H["match"](new RegExp(S + o9(929, "hGVL")))) return !![];}const [T, U] = this["getAbTestCursor"](F), V = this["getAbTestBucket"](R, E, G || 1000);return V >= T && V <= U;}};(B = i([(0, n["Injectable"])(), j("design:paramtypes", [typeof (l = typeof q["ConfigService"] !== "undefined" && q["ConfigService"]) === "function" ? l : Object, h["nVhuK"](typeof (m = typeof r["StoreService"] !== "undefined" && r["StoreService"]), "function") ? m : Object])], B), g["UtilsService"] = B);}}), ii = {};bW(ii, {"DownloadBase": () => io});var ij, ik, il, im, io, ip = bU({""() {var oa = f, g = {"BMoLw": oa(1619, "BDj!"),"UMJxH": "loadError","CIfgN": "loadProgress","wOosr": "itemList","tseZf": function (h, i) {return h !== i;},"yMKnr": "groupOrder","ftvox": "@bilibili/b-utils-core"};(fM(), ij = require("fs"), ik = require(g["ftvox"]), fy(), gk(), dh(), il = require("rxjs"), im = bZ(require(oa(2079, "nwHl"))), io = class extends cd {constructor(h, i, j, k, l) {var oc = oa;(super(h), this["configService"] = i, this["fetchService"] = j, this["storeService"] = k, this["eventsService"] = l, c1(this, "videoList", []), c1(this, "itemList", []), c1(this, "taskList", []), c1(this, "groupList", []), c1(this, "biliDownload", null), c1(this, "downloadPath", ""), c1(this, "isBiliDownloadReady", ![]), c1(this, "retryTimer"), c1(this, "restartTimer"), c1(this, "retryTimeout", 20000), c1(this, "reportTimeout", 120000), c1(this, "retryDelay", 5000), c1(this, "restartDelay", 1000), c1(this, "loadingListMap", {}), c1(this, "isBiliDownloadFree", !![]), c1(this, g["BMoLw"], (0, ik["throttle"])(q => {var ob = f;"AaRQt" === "AaRQt" ? this["log"]["info"]("Download video progress:", JSON["stringify"](q)) : this[ob(1242, "8gI1")]["set"](i["FFMPEG_EXE_INFO"], j);}, 1500)));const {userLoginChange$: m, downloadPathChange$: n, dlParallelNumChange$: o} = this["configService"];((0, il["merge"])(m, n)["subscribe"](() => {this["updatdBiliDownloadInfo"]();}), o["subscribe"](async () => {(await this["updatdBiliDownloadInfo"](), this["handleDownloadParallelChange"]());}), this["configService"][oc(425, "NxR(")][oc(1080, "nNM[")](() => {(this["log"]["info"]("Cancel downloading tasks!"), this["clearDownloadTimer"](), this["biliDownload"]?.["destoryDownloads"]());}));}["initBiliDownload"]() {var od = oa;this["log"]["info"]("Init bili-download!");const h = this["fetchService"][od(1125, "FoL8")]();(this["downloadPath"] = this["storeService"]["getDownloadPath"](), this[od(1354, "Li1q")]["info"]("Download path:", this["downloadPath"]));const i = this["getDlParallelNum"](), j = this["configService"]["proxyAgent"];(this["biliDownload"] = new im["default"]({"cookie": h,"ua": eT,"cachePath": this["downloadPath"],"parallel": i,"proxyAgent": j}), !this["isBiliDownloadReady"] && (this["isBiliDownloadReady"] = !![], this["configService"]["biliDownloadReady$"]["next"]()), im["default"]["emitter"]["on"]("loadStart", async k => {(this["log"]["info"]("Download start event, itemId:", k["itemId"]), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadStatusChange"](k));}), im["default"]["emitter"]["on"]("loadEnd", async k => {var oe = od;(this["log"]["info"]("Download end event, itemId:", k[oe(638, "3BTs")]), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadStatusChange"](k), this["tryStartRestPendingTask"]());}), im["default"]["emitter"]["on"](g["UMJxH"], async k => {var of = od;(this["log"]["info"]("Download loadError event, itemId:" + k["data"]?.["itemId"] + of(299, "qfnC") + k["code"] + " errMsg: " + k["message"]), await this["updateDownloadVideoList"](), k["data"][of(2056, "43KF")] && (this["eventsService"]["emitDownloadStatusChange"](k["data"]), k["code"] === 4003 && this["eventsService"][of(735, "w$r8")]({...k["data"],"errorMsg": k["message"]})), this["tryStartRestPendingTask"]());}), im["default"]["emitter"]["on"]("error", async k => {var og = od;this["log"]["info"]("Download Error, itemId: " + k["data"]?.["itemId"] + " code: " + k["code"] + " errMsg: " + k[og(771, "kdon")]);}), im[od(769, "EcL6")][od(1449, "X%9J")]["on"](g["CIfgN"], async k => {var oh = od;const {itemId: l, speed: m, progress: n, title: o, status: q} = k, r = this[oh(482, "NxR(")][oh(1787, "kdon")](u => u["itemId"] === l), t = this["loadingListMap"][r["cid"]];if (t) {const u = Date["now"]();t["updateTime"] = u;}(r && r["status"] !== q && (await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadStatusChange"](r)), this[oh(1523, "FoL8")]({"title": o,"taskId": l,"speed": m,"progress": n}), this["eventsService"]["emitDownloadProgressChange"](k));}));}async ["updatdBiliDownloadInfo"]() {var oi = oa;const h = this["fetchService"]["getCookies"]();this["downloadPath"] = this["storeService"]["getDownloadPath"]();const i = this["getDlParallelNum"](), j = this["configService"]["proxyAgent"];this["log"]["info"](oi(575, "(]yY"), this[oi(1275, "kdon")]);try {await this["biliDownload"]["updataConfig"]({"cookie": h,"ua": eT,"cachePath": this["downloadPath"],"parallel": i,"proxyAgent": j});} catch (k) {this["log"]["error"]("Update bili-download error:", this["getErrStack"](k));}}["getDlParallelNum"]() {var oj = oa;if ("hzBVh" === "pBZyE") {const k = this[oj(1756, "8gI1")](h["ALLOW_PUSH_RECOMMEND"]);let l = this["dataStore"]["get"](k);if (typeof l !== "boolean") l = !![];return !!l;} else {const i = this["storeService"]["getUserInfo"]();if (!i["isLogin"] || !i["vipStatus"]) return 1;return this["storeService"]["getDownloadParallelNum"]();}}async ["handleDownloadParallelChange"]() {var ok = oa;if ("Rdmti" === "Rdmti") {const h = Object["keys"](this["loadingListMap"]), i = this["getDlParallelNum"]();try {if (h[ok(1550, "hGVL")] < i) (await this["tryStartRestPendingTask"](), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadTaskListEvent"]("startTasks")); else {if (h["length"] > i) {(h["sort"]((k, l) => {var ol = ok;return this["loadingListMap"][k]["item"]["createTime"] - this[ol(1325, "kdon")][l]["item"]["createTime"];}), h["sort"]((k, l) => {return (this["loadingListMap"][l]["item"]["taskOrder"] || 0) - (this["loadingListMap"][k]["item"]["taskOrder"] || 0);}));const j = h[ok(1817, "Mqcd")]((k, l) => l + 1 > i);(await Promise["allSettled"](j["map"](k => {return this["biliDownload"]["setStatus"]({"cid": +k,"status": "pending"});})), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadTaskListEvent"]("pauseTasks"));}}} catch {}} else {if (!l) return "";if (m["indexOf"]("HKCU") === 0) return n["replace"](/HKCU/g, "HKEY_CURRENT_USER");if (o["indexOf"]("HKLM") === 0) return q["replace"](/HKLM/g, "HKEY_LOCAL_MACHINE");}}["isDownloadGroup"](h) {return h && (g["wOosr"] in h);}["findDownloadGroups"](h) {var om = oa;const i = [], j = this["groupList"]["slice"]();while (j["length"]) {const k = j["shift"]();h["includes"](k["groupId"]) ? i["push"](k) : k[om(2215, "YUg@")]["forEach"](l => {var oo = om;if ("IUmOe" === oo(1717, "X%9J")) this["isDownloadGroup"](l) && j[oo(1374, "(3!I")](l); else {const {x: n, y: o, width: q, height: r} = this["appLogWindowState"], {minWidth: t, minHeight: w} = m["APPLOG_WINDOW"], z = new n["BrowserWindow"]({"x": n,"y": o,"width": q,"height": r,"minWidth": t,"minHeight": w,"show": ![],"autoHideMenuBar": !![],"alwaysOnTop": !![],"fullscreenable": ![],...o["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(z["isHidden"] = !![], this[oo(1792, "Locc")]["appLogWindow"] = z, z["webContents"]["setUserAgent"](q["DEFAULT_USER_AGENT"]), z["loadURL"](this["appLogUrl"]), z["removeMenu"](), this["appLogWindowState"]["manage"](z), this["windowEvents"][oo(587, "qbG4")](z), this["windowEvents"]["registerAppSleepEvent"](z), this["windowEvents"]["registerWindowResizeEvt"](z, r["APPLOG_WINDOW"]), this["windowEvents"]["registerWindowFocusBlur"](z, "appLogWindow"), this["windowEvents"]["registerWindowEvents"](z, "appLogWindow"), this["windowEvents"]["catchLinkAndWindowOpen"](z), this[oo(1289, "CN4e")]["registerClosableWindowEvents"]("appLogWindow"), z["webContents"]["on"]("dom-ready", () => {z(() => {z && !z["isDestroyed"]() && (z["show"](), z["setAlwaysOnTop"](![]), this["log"]["info"]("AppLog window ready!"));}, 600);}), this["log"]["info"](oo(1016, "hGVL")));}});}return i;}async ["updateDownloadVideoList"]() {var op = oa;try {g["tseZf"](this["downloadPath"], this[op(1178, "TZU2")]["getDownloadPath"]()) && await this["updatdBiliDownloadInfo"]();(this["videoList"] = await this["biliDownload"]["getVideoList"](), this["videoList"]["sort"]((i, j) => (i["completionTime"] || i["createTime"]) - (j["completionTime"] || j["createTime"])), this["taskList"] = [], this["itemList"] = [], this["groupList"] = [], this["videoList"]["forEach"](i => {var oq = op;i["coverImg"] = this["getLocalImgUrl"](i["coverPath"]);const j = ["completed", "damaged"]["includes"](i["status"]);j ? this[oq(2215, "YUg@")]["push"](i) : this["taskList"]["push"](i);if (j) {const k = this["groupList"]["find"](l => l["groupId"] === i["groupId"]);if (k) {if (i["epInfo"]) {k["epInfo"] = i["epInfo"];const l = this["groupList"]["find"](m => m["groupId"] === i["epInfo"]["groupId"]);l && (l["title"] = i["epInfo"]["groupTitle"]);}(k["title"] = i["groupTitle"], k["itemList"]["push"](i), k[oq(1435, "Ni8i")] = k["itemList"]["reduce"]((m, n) => m + n["totalSize"], 0));} else {const m = (0, ik["pick"])(i, ["groupId", "groupOrder", "uid", "uname"], !![]);(m["title"] = i["title"], m["coverUrl"] = i["groupCoverUrl"], m["coverPath"] = i["groupCoverPath"], m["coverImg"] = this["getLocalImgUrl"](m[oq(1168, "JO9c")]), m[oq(1142, "jubI")] = [i], m["type"] = i["type"], m["totalSize"] = i["totalSize"]);if (i["epInfo"]) {(m["epInfo"] = i["epInfo"], i["epInfo"]["groupOrder"] = i["groupOrder"]);const n = this["groupList"]["find"](o => o["groupId"] === i["epInfo"]["groupId"]);if (!n) {if (g["tseZf"]("DojRE", "DojRE")) (this["log"]["info"]("Set is selected exit: ", i), this["storeService"]["setIsSelectedExit"](j)); else {const q = (0, ik["pick"])(i["epInfo"], ["groupId", g["yMKnr"], "uid", "uname"], !![]);(q[oq(1381, "nNM[")] = i["epInfo"]["groupTitle"], q["coverUrl"] = i["epInfo"]["groupCoverUrl"], q["coverPath"] = i[oq(776, "Li1q")][oq(2250, "D0T^")], q["coverImg"] = this["getLocalImgUrl"](q["coverPath"]), q["itemList"] = [], q["type"] = i["epInfo"]["type"], q["totalSize"] = 0, this["groupList"]["push"](q));}}}this["groupList"]["push"](m);}}}));const h = [];(this["groupList"]["forEach"](i => {var or = op;if (i[or(1018, "JO9c")]) {const j = this["groupList"]["find"](k => k["groupId"] === i["epInfo"]["groupId"]);j ? (j["itemList"][or(1359, "X%9J")](i), j["totalSize"] += i["totalSize"]) : h["push"](i);} else h["push"](i);}), this["groupList"] = h, this["taskList"]["sort"]((i, j) => (j["taskOrder"] || 0) - (i["taskOrder"] || 0)), this["groupList"]["sort"]((i, j) => (j["groupOrder"] || 0) - (i["groupOrder"] || 0)), this["groupList"]["forEach"](i => {(i["itemList"]["sort"]((j, k) => {const l = j["epInfo"]?.["p"] || j["p"], m = k["epInfo"]?.["p"] || k["p"];return l - m;}), i["itemList"]["forEach"](j => {var os = f;this[os(1719, "X%9J")](j) && j["itemList"]["sort"]((k, l) => {return k["p"] - l["p"];});}));}), this["updateRetryListMap"](), this["configService"][op(1405, "(]yY")]["next"]());} catch (i) {if ("YubBZ" !== "PqTEL") this["log"]["error"]("Get download list error:", this["getErrStack"](i)); else return "";}}[oa(1665, "Mqcd")]() {var ot = oa;const h = this["taskList"][ot(2073, "CN4e")](i => i["status"] === "downloading");(Object["keys"](this["loadingListMap"])["forEach"](i => {var ou = ot;if ("cVaDc" === ou(824, "(3!I")) return i(j); else h["every"](k => String(k["cid"]) !== String(i)) && (this["reportDownloadSizeInfo"](this["loadingListMap"][i]["item"]), delete this["loadingListMap"][i]);}), h[ot(1808, "(]yY")](i => {var ov = ot;!this["loadingListMap"][i["cid"]] && (this[ov(354, "TZU2")][i["cid"]] = {"item": i,"updateTime": Date["now"](),"reportTime": Date["now"]()});}));if (Object["keys"](this["loadingListMap"])["length"]) {if (!this["retryTimer"]) this["startDownloadTimer"]();} else this["clearDownloadTimer"]();}["startDownloadTimer"]() {var h = {"WPtIL": function (i, j) {return i - j;}};(this["log"]["info"]("Start check download timer."), this["retryTimer"] = setInterval(() => {var ow = f;const i = Object["keys"](this["loadingListMap"]), j = Date["now"](), k = i[ow(626, "y^Oh")](l => {const {item: m, updateTime: n} = this["loadingListMap"][l];return "[" + m["title"] + "] " + (h["WPtIL"](j, n) > this["retryTimeout"]);});(this["log"]["info"]("Download list:", k["join"](";")), i["forEach"](l => {var ox = ow;const {item: m, updateTime: n, reportTime: o} = this["loadingListMap"][l];(j - n > this["retryTimeout"] && (this["log"]["info"](ox(1026, "5Oa*"), m[ox(1239, "3BTs")]), this["biliDownload"]["stopLoadList"]([m])["catch"](() => {}), this["restartTimer"] = setTimeout(() => {this["biliDownload"]["startLoadList"]([m])["catch"](() => {});}, this["restartDelay"])), j - o > this["reportTimeout"] && (this["log"]["info"]("Download report:", m["title"]), this["reportDownloadSizeInfo"](m), this[ox(670, "1x5q")][l][ox(709, "43KF")] = Date["now"]()));}));}, this["retryDelay"]));}["clearDownloadTimer"]() {var oy = oa;(this["log"]["info"]("Clear check download timer."), clearInterval(this["retryTimer"]), clearTimeout(this["restartTimer"]), this["retryTimer"] = null, this[oy(1902, "UmJ6")] = null);}async [oa(724, "gUtk")](h) {var oz = oa;const {cid: i, createTime: j, seasonId: k, aid: l, epid: m, p: n} = h;try {const {loadedSize: q, reportedSize: reportedSize = 0} = await this["biliDownload"]["getVideoItem"](i);if (q && q > reportedSize) {const r = q - reportedSize, t = {};(t["ctime"] = j, t["eventid"] = "cdn_bandwidth_info", t["fid"] = "pc_cache", t["eventparam"] = JSON["stringify"]({"cdn": r})["replace"](/"/g, "%22"), t["displayid"] = cF("" + i + j + this["configService"]["buvid"]), t["seasonid"] = k, t["epid"] = m, t["avid"] = l, t["cid"] = i, t["pname"] = n);const u = await this["biliDownload"]["getLocalPlayurl"](i);(t["url"] = encodeURIComponent(u?.["data"]?.[oz(978, "9Bou")]?.["dash"]?.["video"]?.[0]?.["baseUrl"] || ""), this[oz(1492, "y^Oh")][oz(879, "BDj!")](t));const {reportedSize: w} = await this["biliDownload"]["setReportedSize"]({"cid": i,"size": r});Object["assign"](h, {"reportedSize": w});}} catch {}}async ["tryStartRestPendingTask"]() {var oA = oa;const h = this["taskList"]["filter"](i => ["downloading", "pending"]["includes"](i["status"]));if (h["length"]) {this["log"]["info"]("Start download rest items.");try {await this["biliDownload"][oA(485, "%AQh")](h);} catch (i) {this["log"]["error"]("Start download rest task error!", this["getErrStack"](i));}}}[oa(1285, "UmJ6")]() {var oB = oa;return this["taskList"]["some"](h => [oB(828, "43KF"), "downloading", "pending"]["includes"](h["status"]));}["getLocalImgUrl"](h) {if (!h || !(0, ij["existsSync"])(h)) return "";return this["configService"]["localServer"] + "/local-img?imgPath=" + h;}});}}), iq = bV({""(g) {"use strict";var oC = f, h = {"YaxhY": function (I, J) {return I < J;},"SuQOK": function (I, J) {return I > J;},"wIPcO": "configService","mFaHR": oC(1769, "(3!I"),"yLlOu": "deleteAllItems","jNzsp": function (I, J) {return I || J;},"pbPUu": "WouUi","Cyaxd": oC(1108, "JO9c"),"beAuO": "berJL","NaTlI": "下载路径不能设置在软件安装目录下！","UOPrz": "Init DownloadURL Events","HtNtg": function (I) {return I();},"UFMaZ": function (I, J) {return I(J);},"hoEIJ": function (I, J) {return I(J);},"OrMWT": function (I, J) {return I !== J;},"QcxbO": function (I, J) {return I === J;},"zlNFb": "undefined"};var i = g && g["__decorate"] || (function (I, J, K, L) {var oD = oC, M = arguments["length"], N = h["YaxhY"](M, 3) ? J : L === null ? L = Object["getOwnPropertyDescriptor"](J, K) : L, O;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") N = Reflect["decorate"](I, J, K, L); else {for (var P = I[oD(1345, "TZU2")] - 1; P >= 0; P--) if (O = I[P]) N = (M < 3 ? O(N) : M > 3 ? O(J, K, N) : O(J, K)) || N;}return (h["SuQOK"](M, 3) && N && Object["defineProperty"](J, K, N), N);}), j = g && g["__metadata"] || (function (I, J) {var oE = oC;if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect[oE(2014, "1x5q")](I, J);}), k = g && g["__importDefault"] || (function (I) {return I && I["__esModule"] ? I : {"default": I};}), l, m, n, o;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["DownloadService"] = void 0);var q = require("@nestjs/common"), r = (h["HtNtg"](ip), c0(ii)), t = gl(), u = hT(), w = gq(), z = hZ(), A = (dh(), h["UFMaZ"](c0, dg)), B = h["hoEIJ"](require, oC(1732, "Mqcd")), C = require("rxjs"), D = (fy(), c0(fx)), E = require("path"), F = require("fs-extra"), G = k(h["UFMaZ"](require, "mkdirp")), H = class I extends r["DownloadBase"] {constructor(J, K, L, M) {var oF = oC;(super("DownloadService", J, L, K, M), c1(this, h["wIPcO"]), c1(this, oF(1577, "nNM[")), c1(this, h["mFaHR"]), c1(this, "eventsService"), c1(this, "isBiliDownloadInited", ![]), this["configService"] = J, this["storeService"] = K, this[oF(532, "jubI")] = L, this["eventsService"] = M);const {mainWindowReady$: N, biliDownloadReady$: O, userLoginChange$: P} = this["configService"];(N["subscribe"](() => {!this["configService"]["isAppSlept"] && this["initDownloadURLEvents"]();}), P["subscribe"](() => {const Q = this["storeService"]["getUserInfo"]();!Q["isLogin"] && this["pauseAllDownloadTasks"]();}), (0, C["combineLatest"])([N, O])["subscribe"](async () => {var oG = oF;if (this["isBiliDownloadInited"]) return;this[oG(1637, "Ni8i")] = !![];try {await this["updateDownloadVideoList"]();const Q = this["storeService"]["getAutoStartDownload"]();this["log"]["info"]("Check auto start download: ", Q);const R = this["storeService"]["getUserInfo"]();Q && R["isLogin"] ? this[oG(2151, "gUtk")]() : this["pauseAllDownloadTasks"]();} catch (S) {this["log"]["error"]("Bili download error:", this["getErrStack"](S));}}));}async ["getAllDownloadVideos"](J) {if (!J) return this["videoList"];return this["videoList"]["filter"](K => {var oH = f;return K[oH(1162, "KdL&")]?.["includes"](J) || K["title"]?.["includes"](J) || K[oH(1962, "FoL8")]?.["includes"](J) || [K["aid"], K["cid"], K["bvid"]][oH(1379, "!v[t")](J);});}async ["getGroupItems"]({groupId: J}) {var oI = oC;if ("isuMp" !== "eoPim") {const K = this["findDownloadGroups"]([J]);return K?.[0]?.[oI(1193, "nNM[")] || [];} else {const {str: M, key: N, iv: O} = i["params"] || ({});return (0, j["decipher"])(M, N, O);}}async ["sortGroupList"](J) {(this["videoList"]["forEach"](async K => {var oJ = f;const L = J["find"](M => M[oJ(1264, "h9c@")] === K["groupId"] || M["groupId"] === K?.[oJ(1850, "Locc")]?.["groupId"]);if (L?.["groupOrder"]) {K["groupOrder"] = L["groupOrder"];try {oJ(1084, "!v[t") !== oJ(875, "TZU2") ? i["webContents"]["executeJavaScript"](j["js"]) : await this["biliDownload"][oJ(1555, "43KF")]({"cid": K[oJ(1882, "Li1q")],"groupOrder": L["groupOrder"]});} catch {}}}), this["groupList"]["forEach"](K => {const L = J["find"](M => M["groupId"] === K["groupId"]);L?.["groupOrder"] && (K["groupOrder"] = L["groupOrder"]);}), this["groupList"]["sort"]((K, L) => (L["groupOrder"] || 0) - (K["groupOrder"] || 0)), this["eventsService"]["emitDownloadItemListEvent"]("orderChange"));}async ["sortDownloadTasks"](J) {var oL = oC;const K = [];this["videoList"]["forEach"](L => {var oK = f;const {taskOrder: M} = J["find"](N => N["itemId"] === L["itemId"]) || ({});if (M) {L["taskOrder"] = M;const N = this["taskList"]["find"](O => O["itemId"] === L["itemId"]);if (N) N["taskOrder"] = M;(this["loadingListMap"][L[oK(1391, "JO9c")]] && (this["loadingListMap"][L["cid"]][oK(304, "9Bou")]["taskOrder"] = M), K["push"](this["biliDownload"]["setOrder"]({"cid": L["cid"],"taskOrder": M})));}});try {(await Promise["allSettled"](K), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadTaskListEvent"](oL(2205, "Ni8i")));} catch {}}async ["deleteGroups"]({groupIds: J}) {var oM = oC;let K = [];const L = this[oM(933, "Li1q")](J);L[oM(1286, "nmd9")](M => {M["itemList"]["forEach"](N => {var oN = f;"BYTjQ" !== "UaERl" ? this["isDownloadGroup"](N) ? K = [...K, ...N["itemList"]] : K["push"](N) : this[oN(854, "YUg@")]["error"]("Update bili-download error:", this["getErrStack"](h));});});try {(await this["biliDownload"]["deleteLoadList"](K), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadItemListEvent"]("deleteItems"));} catch (M) {this["log"]["error"](oM(1434, "X%9J"), this["getErrStack"](M));throw this["formatError"](M);}}async ["deleteAllGroups"]() {var oO = oC;try {(await this["biliDownload"]["deleteLoadList"](this["itemList"]), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadItemListEvent"](h["yLlOu"]));} catch (J) {if (oO(1260, "w$r8") === "VQsSp") {i["mainWin"] === "0" && (this["configService"]["isInitPlayerWinFirst"] = !![]);(this["configService"]["isOpenedByLocalVido"] = ![], this["windowService"]["focusPlayerWindow"](), this[oO(1967, "kdon")]["openPlayerWindow$"]["next"](j));return;} else {this["log"]["error"]("Delete all download groups error:", this["getErrStack"](J));throw this[oO(2180, "LCu@")](J);}}}async [oC(984, "9Bou")]({groupId: J}) {var oP = oC;const K = [], L = [], M = [];return (this[oP(1509, "gUtk")]["forEach"](N => {if (N["groupId"] === J) K["push"](N); else N["epInfo"]?.["groupId"] === J ? L["push"](N) : M["push"](N);}), M["forEach"](N => {const O = L["find"](P => P["bvid"] === N["bvid"]);if (O) {const P = this["fillSeasonInfo"](N, O);L["push"](P);}}), K["concat"](L));}["fillSeasonInfo"](J, K) {return h["pbPUu"] === "XUmIB" ? l((0, m["md5Hash"])("" + n + h["jNzsp"](o, ""), 8), 16) % q : {...J,"epInfo": K["epInfo"]};}async ["deleteGroupItems"]({itemIds: J}) {if ("ikGCA" !== "XvuOO") try {const K = this["videoList"]["filter"](L => J["includes"](L["itemId"]));(await this["biliDownload"]["deleteLoadList"](K), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadItemListEvent"]("deleteItems"));} catch (L) {this["log"]["error"]("Delete download items error:", this["getErrStack"](L));throw this["formatError"](L);} else return this["state"]["displayBounds"];}async ["getItemInfo"]({itemId: J}) {return this["videoList"]["find"](K => K["itemId"] === J);}async ["getItemsInfo"]({itemIds: J}) {var oQ = oC;return this[oQ(1159, "Mqcd")]["filter"](K => J["includes"](K["itemId"])) || [];}async ["setItemStatus"](J) {var oR = oC;try {const K = this["videoList"]["find"](L => L["cid"] === J["cid"]);K && (await this["biliDownload"][oR(1955, "mnQ[")](J), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadStatusChange"](K));} catch (L) {this["log"]["error"]("Set item status error:", this["getErrStack"](L));throw this["formatError"](L);}}async ["createTasks"]({tasks: J}) {var oS = oC;this["isBiliDownloadFree"] = ![];try {(await this["updatdBiliDownloadInfo"](), J["forEach"](K => {const L = this["findDownloadGroups"]([K["groupId"]])[0];L?.["groupOrder"] && (K["groupOrder"] = L["groupOrder"]);}), await this["biliDownload"]["appendLoadList"](J), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadTaskListEvent"]("newTasks"), this["tryStartRestPendingTask"](), this["isBiliDownloadFree"] = !![]);} catch (K) {if ("hgmmw" !== "hgmmw") (this[oS(1920, "h9c@")]["info"]("Clear app sleep timer!"), i(j), this["configService"]["timeoutOfAppSleep"] = null); else {(this["isBiliDownloadFree"] = !![], this["log"]["error"](oS(848, "X%9J"), this["getErrStack"](K)));throw this["formatError"](K);}}}async [oC(870, "EcL6")]({taskIds: J}) {var oT = oC;if (!this["isBiliDownloadFree"]) await (0, A[oT(1911, "nNM[")])(1000);try {const K = this["taskList"]["filter"](L => J["includes"](L["itemId"]));(await this[oT(316, "kdon")]["stopLoadList"](K), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadTaskListEvent"]("pauseTasks"), this["tryStartRestPendingTask"]());} catch (L) {this["log"]["error"]("Pause download tasks error:", this["getErrStack"](L));throw this["formatError"](L);}}async ["restartTasks"]({taskIds: J}) {var oU = oC;try {let M = this["taskList"]["filter"](N => J["includes"](N[oU(1361, "5Oa*")]));if (M["length"]) {var K = ("0|1|2|3|4")["split"]("|"), L = 0;while (!![]) {switch (K[L++]) {case "0":J[oU(653, "%AQh")] === 1 && [h["Cyaxd"], "notAllowed"]["includes"](M[0]["status"]) ? (await this["biliDownload"]["deleteLoadList"](M), M[0]["status"] = "pending") : M = M["filter"](N => !["error", "notAllowed"]["includes"](N["status"]));continue;case "1":await this[oU(1316, "TZU2")]["startLoadList"](M);continue;case "2":await this["updateDownloadVideoList"]();continue;case "3":this["eventsService"]["emitDownloadTaskListEvent"]("startTasks");continue;case "4":this["tryStartRestPendingTask"]();continue;}break;}}} catch (N) {this["log"]["error"]("Restart download tasks error:", this["getErrStack"](N));throw this["formatError"](N);}}async ["deleteTasks"]({taskIds: J}) {var oV = oC;const K = this[oV(1126, "LCu@")]["filter"](L => J["includes"](L["itemId"]));try {(await this["biliDownload"]["deleteLoadList"](K), await this["updateDownloadVideoList"](), this["eventsService"][oV(1695, "mnQ[")]("deleteTasks"), this["tryStartRestPendingTask"]());} catch (L) {this["log"]["error"]("Delete download tasks error:", this["getErrStack"](L));throw this[oV(2258, "1iAQ")](L);}}async ["startAllTasks"]() {var oW = oC;try {const J = this[oW(313, "(3!I")]["filter"](K => !["error", "notAllowed"]["includes"](K["status"]));(await this["biliDownload"]["startLoadList"](J), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadTaskListEvent"](oW(2145, "KdL&")), this["tryStartRestPendingTask"]());} catch (K) {if (oW(1102, "qbG4") !== h["beAuO"]) {if (this["isLogReportError"]) return;if (!z || !A?.["spm_id"]) {N["error"]("type and info.spm_id fields are required!");return;}const M = C["toLowerCase"]() === "show" ? "APPEAR" : D["toUpperCase"](), N = {"eventId": this["transformEventId"](E["spm_id"], F),"logId": this["configService"]["customConfig"]["isTestLogReport"] ? "023694" : "001538","mid": this["authService"]["getUserMid"](),"ctime": G["now"](),"sn": this["logSN"]++,"snGenTime": H["now"](),"retrySendCount": this["retryCount"],"pageType": I["pageType"] || 1,"eventCategory": this["reportEventCategory"][M],"appInfo": this["getAppInfo"](),"runtimeInfo": this["getAppRuntimeInfo"](),"extendedFields": this[oW(433, "X%9J")](J["msg"]),"appPageViewInfo": K[oW(1323, "UmJ6")] || ({}),"appExposureInfo": L["appExposureInfo"] || ({}),"appPlayerInfo": M["appPlayerInfo"] || ({})};(this["logSendBuffer"]["push"](N), this["sendLogReport"]());} else {this["log"]["error"]("Start all download tasks error:", this["getErrStack"](K));throw this["formatError"](K);}}}async ["pauseAllDownloadTasks"]() {var oX = oC;try {(await this["biliDownload"]["stopLoadList"](this["taskList"]), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadTaskListEvent"](oX(856, "9Bou")));} catch (J) {this[oX(525, "hGVL")]["error"]("Pause all download tasks error:", this["getErrStack"](J));throw this["formatError"](J);}}async ["deleteAllTasks"]() {var oY = oC;if ("LqhOt" === "LqhOt") try {(await this["biliDownload"]["deleteLoadList"](this["taskList"]), await this["updateDownloadVideoList"](), this["eventsService"]["emitDownloadTaskListEvent"]("deleteAllTasks"));} catch (J) {this["log"]["error"]("Delete all download tasks error:", this["getErrStack"](J));throw this[oY(622, "FoL8")](J);} else this[oY(1723, "43KF")]("click", oY(439, "V[Zi"));}[oC(719, "ry$4")]({itemId: J}) {var oZ = oC;const K = this["videoList"][oZ(961, "1iAQ")](L => L["itemId"] === J);return this["biliDownload"]["updateDm"](K[0]);}async ["selectDownloadPath"]() {var p0 = oC;const {canceled: J, filePaths: K} = await B["dialog"][p0(1770, "nwHl")](this["configService"]["mainWindow"], {"properties": ["openDirectory"],"defaultPath": this["storeService"]["getDownloadPath"]()});if (!J && K[0]) {let L = K[0];const M = this["storeService"]["getDownloadPath"]();if (L !== M) {if (L[p0(281, "ry$4")](D["APP_EXE_PATH"])) {(this["log"]["error"]("Set download path in app-exe path!"), B["dialog"]["showErrorBox"]("错误", h["NaTlI"]));return;}if ((/:\\?$/)["test"](L)) try {const N = (0, E["join"])(L, "BiliDownload");if (!(0, F["existsSync"])(N)) G["default"]["sync"](N);L = N;} catch (O) {(this["log"]["error"]("Create download root path error!"), B["dialog"]["showErrorBox"]("错误", "视频不能下载到磁盘的根目录下，请选择或创建一个文件夹作为下载路径"));return;}try {await this["pauseAllDownloadTasks"]();} catch {}(this[p0(404, "Locc")]["info"](p0(1006, "3BTs"), L), this["storeService"]["setDownloadPath"](L), this["configService"]["downloadPathChange$"]["next"](), this["eventsService"]["emitDownloadInfoChange"]());}}}["getDownloadInfo"]() {var p1 = oC;const J = this["storeService"]["getDownloadPath"](), K = this["storeService"]["getGameDownloadPath"](), L = this["configService"]["getDefaultGameDownloadPath"]();return {"downloadPath": J,"isDefault": J === D["DEFAULT_DOWNLOAD_PATH"],"gameDownloadPath": K,"isGameDefault": K === L,"isAutoStart": this[p1(2088, "V[Zi")]["getAutoStartDownload"](),"isDlNoSleep": this["storeService"]["getDownloadNoSleep"]()};}async ["initDownloadURLEvents"]() {var p2 = oC;if ("vArxb" === "Cjtep") (i = this["gameList"]["filter"](K => ["completed", p2(1149, "gUtk")][p2(677, "jubI")](K["gameStatus"])), j["sort"]((K, L) => L["downloadEndTime"] - K["downloadEndTime"])); else {this["log"]["info"](h["UOPrz"]);const K = this["configService"][p2(1621, "!v[t")];let L;try {L = B["app"][p2(1148, "8gI1")]("downloads");} catch (M) {try {L = B["app"]["getPath"]("pictures");} catch (N) {this["log"]["warn"]("Get downloads path fail!", this["getErrStack"](N));}}K["webContents"][p2(871, "9Bou")]["on"]("will-download", (O, P, Q) => {const R = P["getURL"]();this["log"]["info"]("DownloadURL [will-download]: " + R);let S = (0, A["md5Hash"])(R, 18);const T = R["match"](/\.[^.]+$/);(T?.[0] && (S += T[0]), P["setSaveDialogOptions"]({"showsTagField": !![],...L ? {"defaultPath": L + "/" + S} : {}}), P["once"]("done", (U, V) => {var p3 = f;"IitWw" === "GhhRW" ? this["report"]({"type": "click","spm_id": p3(2068, "ry$4")}, {"msg": i["stringify"]({"version": j})}) : this["eventsService"]["emitDownloadItemDone"]({"type": "done","url": R,"state": V,"downloadPath": P["getSavePath"]()});}));});}}};(H = i([(0, q["Injectable"])(), j("design:paramtypes", [typeof (l = h["OrMWT"](typeof t["ConfigService"], "undefined") && t["ConfigService"]) === "function" ? l : Object, typeof (m = typeof u["StoreService"] !== "undefined" && u["StoreService"]) === oC(453, "%AQh") ? m : Object, typeof (n = typeof z["FetchService"] !== oC(449, "43KF") && z["FetchService"]) === "function" ? n : Object, h["QcxbO"](typeof (o = typeof w[oC(1256, "D0T^")] !== h["zlNFb"] && w["EventsService"]), "function") ? o : Object])], H), g["DownloadService"] = H);}}), ir = {};bW(ir, {"GameDownloadManager": () => iA});var is, it, iu, iw, ix, iy, iz, iA, iB = bU({""() {var p4 = f, g = {"rzKpO": "dlUrlMap","EYfpZ": "android_download_link2","RXyHC": function (h) {return h();},"gmsIl": function (h) {return h();},"EPfzV": function (h, i) {return h(i);},"QMJmA": "downloads","kMdoO": "Do pause dl game:","sCHKX": function (h, i) {return h + i;},"kDvvn": "uKBPl","CVPXR": function (h, i) {return h > i;},"GlgQt": p4(1737, "LCu@"),"uVlYQ": function (h, i) {return h(i);}};(is = bZ(g[p4(1208, "mnQ[")](require, "fs")), it = require("path"), iu = require("events"), iw = require("follow-redirects"), ix = require("crypto"), iy = require("fs-extra"), fy(), iz = require("@bilibili/b-utils-core"), iA = class extends iu["EventEmitter"] {constructor(h) {(super(), c1(this, "tasks", new Map()), c1(this, "log"), c1(this, "isStoped", ![]), c1(this, g["rzKpO"], {"pc_download_link": "pc_download_link2","pc_download_link2": "pc_download_link","android_download_link": g["EYfpZ"],"android_download_link2": "android_download_link"}), this["log"] = h);}["getFilePath"](h, i = ![]) {var p5 = p4;const j = (0, it["join"])(h[p5(580, "ry$4")], g["EPfzV"](String, h["id"]), "downloads");if (i) try {(0, iy["ensureDirSync"])(j);} catch (q) {if ("PfjJe" !== "mgjQq") this["log"]["error"]("Ensure dl file error:", h["id"], q); else {var t = {"oanzy": function (G, H) {return G(H);}};"use strict";var u = D && E[p5(761, "(]yY")] || (function (ac, ad, ae, af) {var p6 = p5, ag = arguments["length"], ah = ag < 3 ? ad : af === null ? af = u["getOwnPropertyDescriptor"](ad, ae) : af, ai;if (typeof w === "object" && typeof z["decorate"] === "function") ah = A[p6(759, "nNM[")](ac, ad, ae, af); else {for (var aj = ac["length"] - 1; aj >= 0; aj--) if (ai = ac[aj]) ah = (ag < 3 ? t["oanzy"](ai, ah) : ag > 3 ? ai(ad, ae, ah) : ai(ad, ae)) || ah;}return (ag > 3 && ah && B["defineProperty"](ad, ae, ah), ah);});(K["defineProperty"](L, "__esModule", {"value": !![]}), M["SystemModule"] = void 0);var w = N("@nestjs/common"), z = O(), A = g["RXyHC"](P), B = Q(), C = g[p5(750, "!v[t")](R), D = S(), E = T(), F = class G {};(F = u([(0, w["Global"])(), (0, w["Module"])({"controllers": [z["SystemController"]],"providers": [A[p5(2054, "8gI1")], C["PlayerService"], B["FfAbTestService"], D[p5(916, "gUtk")], E["LocalPlayerService"]],"exports": [A["SystemService"], C["PlayerService"], B["FfAbTestService"], D["NotifyService"], E["LocalPlayerService"]]})], F), U["SystemModule"] = F);}}const {appName: k} = (0, iz[p5(1462, "YUg@")])(h["downloadUrl"]), l = k ? "_" + k : "", {name: m, ext: n} = (0, it["parse"])(h["downloadUrl"]["replace"](/\?.*$/, "")), o = "" + m + l + n;return (0, it["join"])(h["downloadDir"], String(h["id"]), g["QMJmA"], o);}["getTaskId"](h) {var p7 = p4;const i = this["getFilePath"](h);return (0, ix["createHash"])("md5")["update"](i)["digest"](p7(1491, "D0T^"));}["getBackupDownloadUrl"](h) {let i = "";for (const j in this["dlUrlMap"]) {if (h["downloadUrl"] === h[j] && h[this["dlUrlMap"][j]]) {i = h[this["dlUrlMap"][j]];break;}}return i;}["hasDownloadTask"](h) {const i = this["getTaskId"](h);return this["tasks"]["has"](i);}["stopAllTasks"]() {(this["log"]["info"]("Stop all game download jobs"), this["isStoped"] = !![], this["tasks"]["forEach"](h => {!h["cancelled"] && !h["paused"] && (h["cancelled"] = !![], h["response"]?.["destroy"](), h["request"]?.["destroy"](), h["fileStream"]?.["close"](), h["request"] = void 0, h["response"] = void 0, h["fileStream"] = void 0);}));}["startDownload"](h) {var p8 = p4;this["log"]["info"]("Start dl game:", h["id"]);const i = this["getFilePath"](h, !![]), j = this["getTaskId"](h);let k = this["tasks"]["get"](j);if (k) {if ("nZTGQ" === "QEpFL") this["updatdBiliDownloadInfo"](); else return (this["resumeDownload"](h), j);}let l = 0;try {is[p8(1431, "(]yY")]["existsSync"](i) && (l = is["default"][p8(789, "3BTs")](i)["size"]);} catch (o) {if ("ssdqv" === "ssdqv") this["log"]["error"]("Stat dl file error:", o); else {const {defaultWidth: r, defaultHeight: t, isTopRight: u} = this["config"];if (u) {const w = k["screen"]["getPrimaryDisplay"]()["bounds"];this["state"] = {"x": w["x"] + (w[p8(494, "Mqcd")] - r) - 20,"y": w["y"],"width": r,"height": t,"displayBounds": w};} else this["state"] = l({"width": r,"height": t});}}const m = Date["now"]();return (k = {"id": j,"url": h["downloadUrl"],"game": h,"filePath": i,"totalBytes": 0,"receivedBytesPrev": l,"receivedBytes": l,"lastUpdateTimePrev": m,"lastUpdateTime": m,"speed": 0,"emitProgressTime": 0,"paused": ![],"cancelled": ![],"isResumable": !![],"isDlUrlFallback": h[p8(1603, "Qd![")]}, this["tasks"]["set"](j, k), this["_download"](h), this[p8(1351, "B4nF")]("started", h["id"], i), j);}["pauseDownload"](h) {var p9 = p4;this["log"]["info"](g["kMdoO"], h["id"]);const i = this["tasks"][p9(520, "nwHl")](this["getTaskId"](h));i && !i["paused"] && !i["cancelled"] && (i["paused"] = !![], i["response"]?.["pause"](), i["fileStream"]?.["end"](), i["request"]?.[p9(661, "%AQh")](), i["request"] = void 0, i["response"] && (i["isResumable"] = i["response"]["statusCode"] === 206), this["_emit"]("paused", h["id"]));}["resumeDownload"](h) {var pa = p4;this["log"]["info"]("Do resume dl game:", h["id"]);const i = this["tasks"]["get"](this["getTaskId"](h));if (i && i[pa(1718, "qfnC")] && !i[pa(1253, "B4nF")]) {if (!i["isResumable"]) {(i["receivedBytesPrev"] = 0, i["receivedBytes"] = 0);try {is["default"]["existsSync"](i["filePath"]) && is["default"]["unlinkSync"](i["filePath"]);} catch (j) {this["log"]["error"](pa(666, "V[Zi"), j);}} else try {if (is["default"]["existsSync"](i["filePath"])) {const k = is["default"]["statSync"](i["filePath"])["size"];if (k !== i["receivedBytes"]) {if ("JyYuU" === "KjlLo") {const {x: m, y: n, width: o, height: q} = r["getBounds"](), r = t["screen"]["getDisplayNearestPoint"]({"x": m,"y": n}), t = u["screen"]["getDisplayNearestPoint"]({"x": m,"y": n + q}), u = o["screen"]["getDisplayNearestPoint"]({"x": m + o,"y": n}), w = z["screen"]["getDisplayNearestPoint"]({"x": g["sCHKX"](m, o),"y": n + q});(r["id"] !== A["id"] || t["id"] !== B["id"] || u["id"] !== C["id"] || w["id"] !== D["id"]) && F["setResizable"](![]);} else (i["receivedBytesPrev"] = i[pa(829, "3BTs")], i["receivedBytes"] = k);}}} catch (m) {this["log"]["error"]("Stat dl file error:", m);}(i["paused"] = ![], this["_download"](h), this["_emit"]("resumed", h["id"]));}}["cancelDownload"](h) {var pb = p4;this["log"]["info"]("Do cancel dl game:", h["id"]);const i = this["getTaskId"](h), j = this["tasks"]["get"](i);if (j && !j["cancelled"]) {if ("Slutv" !== "Slutv") (this[pb(1388, "9Bou")]["info"]("Wake up sleeping app!"), this[pb(812, "(3!I")]["reportPerformanceInfo"](), this["configService"]["appAwakeTime"] = h["now"](), this["configService"]["openPlayerParams"] = null, this[pb(536, "43KF")]["isAppSleeping"] = ![], this["configService"]["appSleepChange$"]["next"](![]), this["configService"]["createDefaultWindows$"]["next"]()); else {(j["cancelled"] = !![], j["response"]?.["destroy"](), j["request"]?.[pb(661, "%AQh")](), j["fileStream"]?.["close"](), j[pb(958, "^M%9")] = void 0, j["response"] = void 0, j["fileStream"] = void 0);try {is["default"]["existsSync"](j[pb(1371, "8gI1")]) && is["default"]["unlinkSync"](j["filePath"]);} catch (l) {if ("uKBPl" !== g["kDvvn"]) {(this["log"]["debug"]("Splash window ready!"), this["configService"]["isSplashWindowReady"] = !![], this["configService"]["splashWindowReady$"]["next"]());!this["configService"]["isAppSlept"] && this["configService"]["splashWindowFirstReady$"]["next"]();h["MAIN_WINDOW"]["onInit$"]["next"]();const {mainWindow: n} = this["configService"];(!this["windowFactory"]["isInitPlayerWindowFirst"] && !n["isShowed"] && n["show"](), n["setAlwaysOnTop"](![]));} else this["log"]["error"]("Del dl file error:", l);}(this["tasks"]["delete"](i), this[pb(823, "9Bou")](pb(755, "hGVL"), h["id"]));}}}["getProgress"](h) {var pc = p4;const i = this[pc(1106, "y^Oh")]["get"](this["getTaskId"](h));if (!i) return null;return {"taskId": i["id"],"gameId": h["id"],"received": i["receivedBytes"],"total": i["totalBytes"],"progress": i["totalBytes"] > 0 ? i["receivedBytes"] / i["totalBytes"] * 100 : 0,"speed": this["_getSpeed"](i)};}["emitProgress"](h, i = ![]) {var pd = p4;const j = Date[pd(2185, "NxR(")]();if (i && j - h["emitProgressTime"] < 500) {if ("gpCTY" === "gpCTY") return; else this["log"]["error"]("Get download list error:", this["getErrStack"](h));}h["emitProgressTime"] = j;const k = this["getProgress"](h["game"]);k && (this["_emit"]("progress", h["game"]["id"], k), this["log"]["info"]("Game dl progress (id: " + h["game"]["id"] + "): " + k[pd(287, "FoL8")]["toFixed"](2) + "%"));}["_getSpeed"](h) {var pe = p4;const i = Date["now"]() - h["lastUpdateTimePrev"];if (g["CVPXR"](i, 0)) {const j = (h["receivedBytes"] - h["receivedBytesPrev"]) / (i / 1000);(h[pe(2119, "uaSA")] = g["sCHKX"]((h["speedPrev"] || 0) * 0.7, j * 0.3), h["speedPrev"] = h["speed"]);}return h["speed"];}["_download"](h) {var pf = p4, i = {"WFWTn": g["GlgQt"]};const j = this["tasks"]["get"](this["getTaskId"](h));if (!j) return null;const k = j["url"]["startsWith"]("https") ? iw["https"] : iw["http"], l = {"headers": {"Range": "bytes=" + j["receivedBytes"] + "-","User-Agent": eT,"Referer": e6,"Accept": "*/*"}};(j["request"] = k["get"](j[pf(1433, "gUtk")], l, m => {var pg = pf;if (m["statusCode"] === 206) {const n = m[pg(1642, "nNM[")]["content-range"];(n && (j["totalBytes"] = parseInt(n["split"]("/")[1], 10)), j["isResumable"] = !![], this["log"]["info"]("Support resumable dl:", h["id"], j["totalBytes"]));} else {if (m["statusCode"] === 200) {(j["totalBytes"] = parseInt(m["headers"]["content-length"] || "0", 10), j["isResumable"] = ![]);if (j["receivedBytes"] > 0) {(j["receivedBytesPrev"] = 0, j[pg(674, "EcL6")] = 0);try {is["default"]["existsSync"](j["filePath"]) && is["default"]["unlinkSync"](j["filePath"]);} catch (o) {if (pg(1161, "h9c@") === "KXUOs") this["log"]["error"]("Remove dl file error:", o); else return;}}this["log"]["info"]("Unsupport resumable dl:", h["id"], j["totalBytes"]);} else {if (!j[pg(1352, "nNM[")] && !h["isDlUrlFallback"]) {if ("nPUIc" === "nPUIc") {j["isDlUrlFallback"] = !![];const r = this["getBackupDownloadUrl"](h);if (r) {(this["log"]["info"]("Use backup dl url:", h["id"]), j["url"] = r, h["downloadUrl"] = r, h["isDlUrlFallback"] = !![], this["_emit"]("fallback", h["id"], r), this["_download"](h));return;}} else (this["log"]["info"](i["WFWTn"]), this["clearDownloadTimer"](), this["biliDownload"]?.["destoryDownloads"]());}this["_emitError"](j, new Error("下载失败，状态码: " + m["statusCode"]));return;}}(j["response"] = m, j["fileStream"] = is["default"][pg(1454, "BDj!")](j["filePath"], {"flags": j["receivedBytes"] ? "a" : "w","start": j["receivedBytes"]}), m["pipe"](j[pg(1012, "43KF")]), m["on"]("data", u => {var ph = pg;if (j["paused"]) {m["pause"]();return;}if (j[ph(1680, "Li1q")]) {m["destroy"]();return;}(j["receivedBytesPrev"] = j["receivedBytes"], j["receivedBytes"] += u[ph(2247, "nmd9")], j["lastUpdateTimePrev"] = j["lastUpdateTime"], j["lastUpdateTime"] = Date["now"](), this["emitProgress"](j, !![]));}), m["on"]("end", () => {var pi = pg;!j["cancelled"] && (this["log"]["info"]("Game dl completed (id: " + h["id"] + "): " + j["filePath"]), j["fileStream"]?.["end"](), this[pi(1762, "qbG4")](j, ![]), this["tasks"]["delete"](j["id"]), this["_emit"]("completed", h["id"], j["filePath"]));}), m["on"]("error", u => {this["_emitError"](j, u);}), j["fileStream"]["on"]("error", u => {this["_emitError"](j, new Error("文件写入错误: " + u["message"]));}));}), j["request"]["on"]("error", m => {this["_emitError"](j, m);}));}["_emitError"](h, i) {!this["isStoped"] && !h["paused"] && (this["_emit"]("error", h["game"]["id"], i), this["log"]["error"]("Game dl error (id: " + h["game"]["id"] + "):", i));}["_emit"](...h) {!this["isStoped"] && this["emit"](h[0], ...h["slice"](1));}});}}), iC = bV({""(g) {"use strict";var pj = f, h = {"QIZSK": function (K, L) {return K !== L;},"jykOU": function (K, L) {return K === L;},"zMNAU": function (K, L) {return K >= L;},"yMrdL": "configService","KrFPf": function (K, L, M) {return K(L, M);},"MJzDx": "FYCaY","msmwn": "paused","tQCiW": "pc_download_link","RwcXQ": function (K, L) {return K === L;},"GVgIR": function (K, L) {return K(L);},"ahirp": "downloadUrl is required","CxGoS": "Pause download all games","FULNF": "Open game dir, id:","liiPh": "Install game, id:","OamoG": "wLPuD","CruoH": "bEtMd","sQYWX": "EYLHj","EEwRK": pj(1588, "5Oa*"),"HxwIG": function (K, L) {return K !== L;}};var i = g && g["__decorate"] || (function (K, L, M, N) {var pk = pj;if (h[pk(1189, "D0T^")]("BmwrI", "BmwrI")) this[pk(338, "BDj!")](); else {var O = arguments[pk(820, "uaSA")], P = O < 3 ? L : N === null ? N = Object["getOwnPropertyDescriptor"](L, M) : N, Q;if (h["jykOU"](typeof Reflect, "object") && typeof Reflect["decorate"] === "function") P = Reflect["decorate"](K, L, M, N); else {for (var R = K["length"] - 1; h["zMNAU"](R, 0); R--) if (Q = K[R]) P = (O < 3 ? Q(P) : O > 3 ? Q(L, M, P) : Q(L, M)) || P;}return (O > 3 && P && Object["defineProperty"](L, M, P), P);}}), j = g && g["__metadata"] || (function (K, L) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](K, L);}), k = g && g["__importDefault"] || (function (K) {return K && K["__esModule"] ? K : {"default": K};}), l, m, n, o;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["GameService"] = void 0);var q = require("@nestjs/common"), r = (fM(), c0(fI)), t = gl(), u = hT(), w = hZ(), z = gq(), A = require("electron"), B = h["GVgIR"](require, "path"), C = h["GVgIR"](require, pj(493, "nmd9")), D = (fy(), h["GVgIR"](c0, fx)), E = require("fs-extra"), F = require("@bilibili/b-utils-core"), G = (iB(), c0(ir)), H = k(require("glob")), I = k(require("mkdirp")), J = class K extends r["BaseService"] {constructor(L, M, N, O) {var pl = pj, P = {"WGIwq": function (Q, R) {return Q === R;}};(super("GameService"), c1(this, h["yMrdL"]), h["KrFPf"](c1, this, pl(1176, "9Bou")), c1(this, "fetchService"), c1(this, pl(605, "mnQ[")), c1(this, "downloadPath", ""), c1(this, "gameList", []), c1(this, "gameDownloader"), c1(this, pl(1104, "TZU2"), (0, F[pl(890, "!L3p")])(Q => this["writeGameInfo"](Q), 1000, !![], ![])), this["configService"] = L, this["storeService"] = M, this["fetchService"] = N, this["eventsService"] = O, this[pl(1934, "%AQh")][pl(307, "nNM[")]["subscribe"](() => {var pm = pl;(this["downloadPath"] = this["storeService"][pm(1054, "TZU2")](), this[pm(797, "B4nF")]?.[pm(1883, "nwHl")](), this["initGameDownloader"](), this["eventsService"]["emitGameActionEvent"]({"type": "pathChange","data": this["downloadPath"]}));}), this["configService"]["appHeartbeat$"]["subscribe"](Q => {var pn = pl;P["WGIwq"]("tpfSE", "tpfSE") ? Q % 2 && this["flashDownloadingGameList"]() : l["hardware"]["length"] === m["os"]?.["length"] ? this["configService"][pn(1458, "gUtk")] = r[pn(480, "nNM[")] : this["configService"]["deviceId"] = (0, t["default"])(u[pn(2280, "V[Zi")]);}));}["initGameDownloader"]() {var po = pj, L = {"SzFyh": "riYFn"};(this["downloadPath"] = this[po(1501, "JypK")]["getGameDownloadPath"](), this["gameDownloader"] = new G["GameDownloadManager"](this["log"]), this["gameDownloader"]["on"]("started", (N, O) => {const P = this["gameList"]["find"](Q => Q["id"] === N);P && (P["gameStatus"] = "downloading", P["downloadPath"] = O, !P["downloadStartTime"] && (P["downloadStartTime"] = Date["now"]()), this["writeGameInfo"](P));}), this["gameDownloader"]["on"]("fallback", (N, O) => {const P = this["gameList"]["find"](Q => Q["id"] === N);P && (P["downloadUrl"] = O, P["isDlUrlFallback"] = !![], this["writeGameInfo"](P));}), this["gameDownloader"]["on"]("resumed", N => {}), this["gameDownloader"]["on"](h["msmwn"], N => {}), this[po(1896, "5Oa*")]["on"]("completed", N => {var pp = po;if ("FYCaY" !== h[pp(2039, "NxR(")]) i["mainWindowReadyTime"] = j["now"](); else {const P = this["gameList"]["find"](Q => Q["id"] === N);P && (P["gameStatus"] = "completed", P["downloadEndTime"] = Date["now"](), this[pp(1746, "Ni8i")](P), this["eventsService"]["emitGameStatusChange"](P), this["eventsService"]["emitGameActionEvent"]({"type": pp(389, "Locc"),"data": P}), this["configService"]["downloadChangeEvent$"]["next"]());}}), this[po(764, "43KF")]["on"]("error", (N, O = {}) => {var pq = po;const P = this["gameList"]["find"](Q => Q["id"] === N);P && (P["downloadError"] = (0, F["pick"])(O, ["message", "name", "stack"]), this["updateGameStatus"](P, pq(950, "qfnC")));}), this["gameDownloader"]["on"]("progress", (N, O) => {const P = this["gameList"]["find"](Q => Q["id"] === N);if (P) {P["progress"] = O;if (O["progress"] === 100) {if ("riYFn" === L["SzFyh"]) this["writeGameInfo"](P); else {const R = i["app"]["getLoginItemSettings"]()["openAtLogin"];return (j["returnValue"] = R, R);}} else this["writeGameInfoThrottle"](P);this["eventsService"]["emitGameProgressChange"](O);}}), this[po(1884, "D0T^")]());const M = this["storeService"]["getAutoStartDownload"]();(!M && this["pauseDownloadAllGames"](), this["log"]["info"]("Local game list:", JSON["stringify"](this["gameList"][po(1110, "Locc")](N => N["id"]))));}async ["initGameList"]() {const L = [];(H["default"]["sync"]((0, B["join"])(this["downloadPath"], "*"))["forEach"](M => {const N = (0, B["basename"])(M);if (N["match"](/^\d+-(01|02|03|pc|android|ios)?$/)) {const O = this["readGameInfo"](N);O && L["push"](O);}}), this["gameList"] = L);}["getGameId"](L) {if (!L["downloadPlatform"]) {const N = P => P["replace"](/\?.*$|#.*$/, ""), O = N(L["downloadUrl"] || "");if ([h["tQCiW"], "pc_download_link2"]["some"](P => N(L[P]) === O)) L["downloadPlatform"] = "pc"; else ["android_download_link", "android_download_link2"]["some"](P => N(L[P]) === O) && (L["downloadPlatform"] = "android");}let M = "";if (L["downloadPlatform"] === "pc") M = "01"; else h["RwcXQ"](L["downloadPlatform"], "android") && (M = "02");if (!M) return "";return L["game_base_id"] + "-" + M;}["flashDownloadingGameList"]() {var pr = pj;if (!this[pr(897, "(3!I")] || !this["configService"]["isMainWindowReady"]) return;const L = this["gameList"]["filter"](M => ["downloading"]["includes"](M["gameStatus"]));if (!L["length"]) {const M = this["gameList"]["filter"](O => ["pending"]["includes"](O[pr(2018, "mnQ[")]))[pr(663, "Ni8i")]((O, P) => O[pr(1283, "NxR(")] - P["downloadTime"]), N = M[0];N && (this["updateGameStatus"](N, "downloading"), this[pr(600, "!L3p")](N));} else L["forEach"](O => {!this["gameDownloader"]["hasDownloadTask"](O) && this["startDownloadGame"](O);});}["startDownloadGame"](L) {var ps = pj;const M = this["storeService"]["ensureGameDownloadPath"]();(L["downloadDir"] !== M && (L["downloadDir"] = M, this[ps(1304, "(]yY")](L)), this["gameDownloader"]["startDownload"](L));}["hasDownloadingGames"]() {return this["gameList"]["some"](L => ["pending", "downloading"]["includes"](L["gameStatus"]));}["getGameList"]({status: L, ids: M}) {var pt = pj;if ("MPLhl" !== "MPLhl") {const O = [I["ctime"], J["fid"], K["fver"], L[pt(1966, "!L3p")], M["eventparam"], N["displayid"], O["seasonid"], P["epid"], Q["avid"], R["cid"], S["pname"], T["progress"], U["readystate"], V["statue"], W["playmethod"], X["videotype"], Y["quality"], Z["realtime"], a0["url"], a1["exparam"], a2["abver"], a3["labels"] || ""]["join"]("|"), P = this["servers"]["DATA"] + "/log/web?001111" + a4["now"]() + O;this["eventsService"]["emitReportDownloadSize"](P);} else {let O = [];if (h["jykOU"](L, 0)) O = [...this["gameList"]]; else {if (h["RwcXQ"](L, 1)) (O = this["gameList"]["filter"](P => ["pending", "downloading", "paused", "error"]["includes"](P["gameStatus"])), O["sort"]((P, Q) => Q["downloadTime"] - P["downloadTime"])); else {if (L === 2) (O = this["gameList"]["filter"](P => ["completed", "broken"][pt(677, "jubI")](P["gameStatus"])), O[pt(624, "Mqcd")]((P, Q) => Q["downloadEndTime"] - P["downloadEndTime"])); else L === 11 && (O = this["gameList"]["filter"](P => ["pending", "downloading", "paused"]["includes"](P["gameStatus"])), O["sort"]((P, Q) => Q["downloadTime"] - P["downloadTime"]));}}return ((0, F[pt(583, "Li1q")])(M) && (O = O["filter"](P => M[pt(1436, "B4nF")](P["id"]))), O);}}["downloadNewGame"](L) {var pu = pj;if ("iazYl" !== "iazYl") this["_keyboard"] = h[pu(1866, "YUg@")](h, pu(1096, "w$r8"))["keyboard"]; else {this["log"]["info"]("Download new game:", L["game_name"], L["game_base_id"], L["downloadUrl"]);if (!L["downloadUrl"]) throw new Error(h["ahirp"]);L["id"] = this["getGameId"](L);if (!L["id"]) throw new Error("downloadUrl error");if (this[pu(1997, "UmJ6")]["some"](O => O["id"] === L["id"])) throw new Error("duplicate download");(L["gameStatus"] = "pending", L["isInstalled"] = ![], L["downloadTime"] = Date["now"]());const N = this[pu(2235, "%AQh")](L);if (!N) throw new Error("write game info error");(this["gameList"]["push"](L), this["eventsService"]["emitGameActionEvent"]({"type": "download","data": L}), this["configService"][pu(2091, "UmJ6")]["next"]());}}["pauseDownloadGame"](L) {this["log"]["info"]("Pause download game, id:", L);const M = this["gameList"]["find"](N => N["id"] === L);if (!M || !["pending", "downloading"]["includes"](M["gameStatus"])) return ![];(this["gameDownloader"]["pauseDownload"](M), this["updateGameStatus"](M, "paused"));}["pauseDownloadAllGames"]() {this["log"]["info"](h["CxGoS"]);const L = this["gameList"]["filter"](M => ["pending", "downloading"]["includes"](M["gameStatus"]));L["forEach"](M => {var pv = f;pv(1424, "FoL8") === "SAEeR" ? (this["gameDownloader"]["pauseDownload"](M), this["updateGameStatus"](M, "paused")) : this["reportService"]["reportAgreementAction"](![]);});}["resumeDownloadGame"](L) {var pw = pj;this["log"]["info"](pw(2267, "KdL&"), L);const M = this["gameList"]["find"](O => O["id"] === L);if (!M) return ![];if (M["gameStatus"] !== pw(2160, "JO9c")) return ![];const N = this["gameList"]["filter"](O => ["downloading"]["includes"](O["gameStatus"]));N["length"] ? this["updateGameStatus"](M, "pending") : (this["updateGameStatus"](M, "downloading"), this["startDownloadGame"](M));}["resumeDownloadAllGames"]() {this["log"]["info"]("Resume download all games");const L = this["gameList"]["filter"](M => M["gameStatus"] === "paused");L["forEach"](M => {this["updateGameStatus"](M, "pending");});}["deleteGame"](L) {var px = pj;this["log"]["info"]("Delete game, id:", L);const M = this["gameList"]["findIndex"](O => O["id"] === L);if (!~M) return ![];const N = this[px(1674, "TZU2")][M];(N["gameStatus"] = "deleted", this["gameDownloader"]["cancelDownload"](N), this["deleteGameFiles"](N), this["gameList"][px(384, "LCu@")](M, 1), this[px(1048, "CN4e")]["emitGameStatusChange"](N), this["eventsService"]["emitGameActionEvent"]({"type": "delete","data": N}), this[px(1324, "ry$4")]["downloadChangeEvent$"]["next"]());}["updateGameStatus"](L, M) {var py = pj;if (typeof L === "string") {const N = L;L = this["gameList"]["find"](O => O["id"] === N);}L && L["gameStatus"] !== M && (L["gameStatus"] = M, console[py(1878, "%AQh")](py(1624, "43KF"), L["id"], JSON["stringify"](L[py(905, "BDj!")])), this["writeGameInfo"](L), this["eventsService"]["emitGameStatusChange"](L), this["configService"]["downloadChangeEvent$"]["next"]());}["openGameDir"](L) {var pz = pj;this[pz(1226, "5Oa*")]["info"]("Open game dir, id:", L);const M = this["gameList"]["find"](O => O["id"] === L);if (!M) return ![];const N = (0, B["join"])(this["downloadPath"], "" + M["id"]);if ((0, E["existsSync"])(N)) return (A["shell"][pz(2217, "LCu@")](N), !![]);return ![];}["openGamePath"](L) {var pA = pj;this["log"]["info"](h[pA(904, "D0T^")], L);const M = this["gameList"][pA(1581, "43KF")](P => P["id"] === L);if (!M) return ![];if (M["downloadPath"] && (0, E["existsSync"])(M["downloadPath"])) return (A["shell"]["showItemInFolder"](M["downloadPath"]), !![]);const N = (0, B["join"])(this["downloadPath"], "" + M["id"]), O = (0, B["join"])(N, "downloads");if ((0, E["existsSync"])(O)) return (A["shell"]["openPath"](O), !![]);if ((0, E["existsSync"])(N)) return (A["shell"]["openPath"](N), !![]);return ![];}["installGame"](L) {var pB = pj;this["log"]["info"](h["liiPh"], L);const M = this["gameList"]["find"](O => O["id"] === L);if (!M) {if ("ifijA" === h["OamoG"]) this["systemService"]["wakeUpBiliApp"](); else {const P = "Game not found, id: " + L;this["log"]["error"](P);throw new Error(P);}}if (M["gameStatus"] !== "completed") {const Q = "Game is not completed, cannot install, id: " + L;this["log"]["error"](Q);throw new Error(Q);}if (!M["downloadPath"] || !(0, E["existsSync"])(M["downloadPath"])) {const R = "Game download path not found, id: " + L;this["log"]["error"](R);throw new Error(R);}if (!D["IS_WIN"] || !M[pB(997, "nwHl")]["endsWith"](".exe")) {if ("dNdbr" === "dNdbr") {const S = "Game is not a valid executable file, id: " + L;this["log"]["error"](S);throw new Error(S);} else return (k["returnValue"] = l["app"]["getPath"](m), n["returnValue"]);}const N = (0, C["exec"])("start \"\" \"" + M["downloadPath"] + "\"");(N["unref"](), M["isInstalled"] = !![], this[pB(368, "9Bou")](M), this["eventsService"]["emitGameActionEvent"]({"type": "install","data": M}));}["launchGame"](L) {var pC = pj;this["log"]["info"]("Launch game, id:", L);const M = this["gameList"]["find"](O => O["id"] === L);if (!M) {const O = "Game not found, id: " + L;this["log"]["error"](O);throw new Error(O);}if (!M["launcherPath"]) {if ("ISoFu" !== pC(740, "nmd9")) {if (!M["launcherRegPath"]) {const P = "Game launcher path is not provided, id: " + M["id"];this["log"][pC(1271, "nNM[")](P);throw new Error(P);}try {const Q = (0, C["execSync"])("reg query \"" + M["launcherRegPath"] + "\"")["toString"]("utf-8"), R = Q["match"](/[a-zA-Z]:.+\.exe/)?.[0];R && (M["launcherPath"] = R, this["writeGameInfo"](M));} catch (S) {this["log"]["error"]("Get game launcher path error:", this["formatError"](S));}} else {(this["log"]["error"]("Create download root path error!"), h["dialog"]["showErrorBox"]("错误", "视频不能下载到磁盘的根目录下，请选择或创建一个文件夹作为下载路径"));return;}}if (!M["launcherPath"]) {if (h["CruoH"] !== h["sQYWX"]) {const U = "Game launcher path not found";this["log"]["error"](U);throw new Error(U);} else j[k["id"]] = l;}const N = (0, C["exec"])("start \"\" \"" + M["launcherPath"] + "\"");N["unref"]();}["readGameInfo"](L) {let M = null;const N = (0, B["join"])(this["downloadPath"], "" + L, ".gameinfo");if ((0, E["existsSync"])(N)) try {M = JSON["parse"]((0, E["readFileSync"])(N, "utf-8"));} catch (O) {this["log"]["error"]("Parse game info from " + N + " error: ", this["formatError"](O));}return M;}[pj(1929, "qfnC")](L) {var pD = pj;if (!L) return ![];!L["id"] && L["game_base_id"] && (L["id"] = this["getGameId"](L));if (L["id"]) {const M = (0, B["join"])(this["downloadPath"], "" + L["id"]);try {(0, E["ensureDirSync"])(M);const N = (0, B["join"])(M, ".gameinfo");return ((0, E[pD(455, "KdL&")])(N, JSON["stringify"](L, null, 2), "utf-8"), !![]);} catch (O) {this["log"][pD(1410, "mnQ[")]("Write game info (game id: " + L["id"] + ") error: ", this[pD(622, "FoL8")](O));}}return ![];}["deleteGameFiles"](L) {var pE = pj;const M = (0, B["join"])(this["downloadPath"], "" + L["id"]);try {if ((0, E["existsSync"])(M)) (0, E["removeSync"])(M);} catch (N) {this["log"]["error"]("Delete game files (game id: " + L["id"] + ") error: ", this[pE(1268, "ry$4")](N));}}async ["selectGameDownloadPath"]() {var pF = pj;const L = this["storeService"]["getGameDownloadPath"](), {canceled: M, filePaths: N} = await A[pF(1561, "9Bou")]["showOpenDialog"](this["configService"]["mainWindow"], {"properties": [h["EEwRK"]],"defaultPath": L});if (!M && N[0]) {let O = N[0];if (h["QIZSK"](O, L)) {if (O["startsWith"](D["APP_EXE_PATH"])) {(this["log"]["error"]("Set download path in app-exe path!"), A["dialog"]["showErrorBox"]("错误", "下载路径不能设置在软件安装目录下！"));return;}if ((/:\\?$/)["test"](O)) try {const P = (0, B["join"])(O, "BiliGame");if (!(0, E["existsSync"])(P)) I["default"]["sync"](P);O = P;} catch (Q) {(this["log"]["error"]("Create game download root path error!"), A["dialog"][pF(564, "KdL&")]("错误", "游戏不能下载到磁盘的根目录下，请选择或创建一个文件夹作为下载路径"));return;}(this["log"]["info"]("New game download path: ", O), this["storeService"]["setGameDownloadPath"](O), this["configService"][pF(2166, "3BTs")]["next"](), this["eventsService"]["emitDownloadInfoChange"]());}}}};(J = i([(0, q["Injectable"])(), j("design:paramtypes", [typeof (l = typeof t["ConfigService"] !== "undefined" && t["ConfigService"]) === "function" ? l : Object, typeof (m = h["HxwIG"](typeof u["StoreService"], "undefined") && u["StoreService"]) === "function" ? m : Object, typeof (n = h[pj(1191, "KdL&")](typeof w["FetchService"], "undefined") && w["FetchService"]) === "function" ? n : Object, typeof (o = typeof z["EventsService"] !== "undefined" && z["EventsService"]) === "function" ? o : Object])], J), g["GameService"] = J);}}), iD = bV({""(g) {"use strict";var pK = f, h = {"Nyhwn": function (I, J) {return I < J;},"BrMQu": "PqFYQ","ZICMy": "fetchService","ZvXwt": function (I, J) {return I || J;},"AeCaZ": "function","FFhTF": function (I, J) {return I !== J;}};var i = g && g["__decorate"] || (function (I, J, K, L) {var pG = f, M = arguments[pG(1658, "3BTs")], N = M < 3 ? J : L === null ? L = Object[pG(758, "LCu@")](J, K) : L, O;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") N = Reflect["decorate"](I, J, K, L); else {for (var P = I[pG(1776, "1x5q")] - 1; P >= 0; P--) if (O = I[P]) N = (h["Nyhwn"](M, 3) ? O(N) : M > 3 ? O(J, K, N) : O(J, K)) || N;}return (M > 3 && N && Object["defineProperty"](J, K, N), N);}), j = g && g["__metadata"] || (function (I, J) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](I, J);}), k = g && g["__importDefault"] || (function (I) {return I && I["__esModule"] ? I : {"default": I};}), l, m, n, o, q;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["PlayerService"] = void 0);var r = require("@nestjs/common"), t = (fM(), c0(fI)), u = gl(), w = hZ(), z = ih(), A = hT(), B = ig(), C = require("fs-extra"), D = (dh(), c0(dg)), E = (fy(), c0(fx)), F = k(require("semver")), G = k(require("node-fetch")), H = class I extends t["BaseService"] {constructor(J, K, L, M, N) {var O = {"MUjeh": "events"};"Lxubt" !== h["BrMQu"] ? (super("PlayerService"), c1(this, "configService"), c1(this, h["ZICMy"]), c1(this, "utilsService"), c1(this, "storeService"), c1(this, "reportService"), c1(this, "playerConfig", null), this["configService"] = J, this["fetchService"] = K, this["utilsService"] = L, this["storeService"] = M, this["reportService"] = N, this["configService"]["buvidReady$"]["subscribe"](() => {this["initPlayerVersions"]();}), this["configService"]["intervalOfPlayerConfig"] = setInterval(() => {this["syncPlayerConfig"]();}, E["POLLING_PLAYER_CONFIG_TIME"])) : (n = o(O["MUjeh"]), q = class extends r["EventEmitter"] {["emit"](Q, R, ...S) {const [T] = this["listeners"]("ipc-message");if (T) return B["apply"](T, this, [Q, R, ...S]);}}, u = new w());}["initPlayerExps"]() {var pH = f;this["log"]["info"]("Initing player exp.");if ((0, C["existsSync"])(E["PLAYER_JS_PATH"])) {if ("YxgAR" === "KjJGf") j?.["code"] === 0 ? this["logoutAccount"](m["headers"]?.["set-cookie"] || n["headers"]?.["Set-Cookie"] || []) : this["logoutAccount"](this[pH(1673, "5Oa*")]); else {const {exp: K, hash: L} = this["storeService"]["getPlayerExpData"]();if (h["ZvXwt"](!K, !L) || (0, D["fileHash"])(E["PLAYER_JS_PATH"]) !== L || !this["getIsPlayerExpMatched"](K)) {this["log"]["info"]("Remove expired player");try {(0, C["removeSync"])(E["PLAYER_JS_PATH"]);} catch {}} else this["log"]["info"]("Player exp valid!");}}this["syncPlayerConfig"]();}async ["syncPlayerConfig"]() {var pI = f;this[pI(2226, "!v[t")]["info"]("Load player config.");try {const J = await this["fetchService"]["getPlayerConfig"]();J && (this["playerConfig"] = J, this[pI(1521, "(]yY")]());} catch (K) {this[pI(1573, "1x5q")][pI(2277, "nmd9")]("Load player config error:", this["getErrStack"](K));}}["initPlayerVersions"]() {var pJ = f;const {buvid: J} = this["configService"];if (!J || !this["playerConfig"]) return;this["log"][pJ(721, "Li1q")]("Init player versions.");const {versions: versions = []} = this["playerConfig"];if (!versions["length"]) return;let K = null;const L = versions["filter"](N => this["getIsPlayerExpMatched"](N));L["forEach"](N => {(!K || +(N["wt"] || 0) > +(K["wt"] || 0)) && (K = N);});const M = (0, C["existsSync"])(E["PLAYER_JS_PATH"]);if (!K || !K[pJ(1853, "mnQ[")]) {if (M) {this["log"]["warn"]("Remove exp player!");try {(0, C["removeSync"])(E["PLAYER_JS_PATH"]);} catch {}(this["storeService"]["setPlayerExpData"]({}), this["configService"]["onNewExpPlayerReady$"]["next"]());}return;}if (K) {const N = this["storeService"]["getPlayerExpData"]()["exp"]?.["id"];(!M || K["id"] !== N || !this["isPlayerHashValid"]()) && this["fetchPlayerJs"](K);}}[pK(1646, "qbG4")]({id: J, on: K, type: type = pK(334, "5Oa*"), salt: salt = "", bc: bc = 1000, b: L, sv: M, ev: N, wl: O, bl: P}) {var pL = pK;if (!J || !K || M && F["default"]["lt"](E["APP_VERSION"], M) || N && F["default"]["gt"](E[pL(1224, "JypK")], N)) return ![];const {mid: Q} = this["storeService"]["getUserInfo"](), {buvid: R} = this["configService"], S = this["utilsService"]["getBuvidWlCode"](R);if (O) {if (O["match"](new RegExp("(^|,)" + Q + "(,|$)"))) return !![];if (O["match"](new RegExp(S + ",(0,|0$)"))) return !![];}if (P) {if (P["match"](new RegExp("(^|,)" + Q + "(,|$)"))) return ![];if (P["match"](new RegExp(S + pL(876, "mnQ[")))) return ![];}const [T, U] = this["utilsService"]["getAbTestCursor"](L);if (type === "buvid") {if (!R) return ![];const V = this["utilsService"][pL(2087, "1x5q")](R, salt, bc);if (V >= T && V <= U) return !![];return ![];} else {if (type === "mid") {const {mid: W} = this["storeService"]["getUserInfo"]();if (!W) return ![];const X = this["utilsService"]["getAbTestBucket"](W, salt, bc);if (X >= T && X <= U) return !![];return ![];}}}async [pK(1639, "JO9c")](J) {var pM = pK;const {id: K, src: L} = J;this["log"]["info"]("Fetch exp player, ID:", K);try {if (!(0, C["existsSync"])(E["PLAYER_PATH"])) (0, C["mkdirSync"])(E["PLAYER_PATH"]);const M = (0, C["createWriteStream"])(E["PLAYER_DL_PATH"]), N = await (0, G[pM(1754, "43KF")])(L);await new Promise((O, P) => {(N["body"]["pipe"](M), N["body"]["on"]("error", P), M["on"]("finish", O));});if ((0, C["existsSync"])(E["PLAYER_JS_PATH"])) (0, C["removeSync"])(E["PLAYER_JS_PATH"]);((0, C["renameSync"])(E["PLAYER_DL_PATH"], E["PLAYER_JS_PATH"]), this["storeService"]["setPlayerExpData"]({"exp": J,"hash": (0, D["fileHash"])(E["PLAYER_JS_PATH"])}), this["configService"]["onNewExpPlayerReady$"]["next"](), this["reportService"]["reportPlayerPatch"]({"app_version": E["APP_VERSION"],"patch_id": K}));} catch (O) {this["log"]["error"]("Fetch player error:", this["getErrStack"](O));}}[pK(402, "1x5q")]() {return (0, D["fileHash"])(E["PLAYER_JS_PATH"]) === this["storeService"]["getPlayerExpData"]()["hash"];}["handleGetPlayerInfo"]() {var pN = pK;if (!(0, C["existsSync"])(E["PLAYER_JS_PATH"]) || !this["isPlayerHashValid"]()) return {"playerSrc": E[pN(1977, "8gI1")] + pN(1919, "!L3p") + E["BUILD_CODE"],"playerExpInfo": {}}; else {const {exp: J} = this["storeService"]["getPlayerExpData"]();return {"playerSrc": this["configService"]["localServer"] + pN(521, "Ni8i") + J?.["id"],"playerExpInfo": J || ({})};}}};(H = i([(0, r["Injectable"])(), j("design:paramtypes", [typeof (l = typeof u["ConfigService"] !== "undefined" && u["ConfigService"]) === h["AeCaZ"] ? l : Object, typeof (m = typeof w["FetchService"] !== "undefined" && w["FetchService"]) === pK(478, "h9c@") ? m : Object, typeof (n = typeof z["UtilsService"] !== "undefined" && z["UtilsService"]) === "function" ? n : Object, typeof (o = typeof A["StoreService"] !== "undefined" && A["StoreService"]) === h["AeCaZ"] ? o : Object, typeof (q = h["FFhTF"](typeof B["ReportService"], "undefined") && B["ReportService"]) === "function" ? q : Object])], H), g["PlayerService"] = H);}}), iE = bV({""(g, h) {"use strict";var pO = f, i = {"CQhXH": function (a0, a1) {return a0 === a1;},"YWYDK": "function","PDiPi": "object","lqZdz": "fetchService","VYJxh": function (a0, a1, a2, a3) {return a0(a1, a2, a3);},"bsQQn": "@nut-tree/nut-js","rnZHX": "win32","xCbEh": "sw_vers","jYUPG": function (a0, a1) {return a0 || a1;},"yfdXg": pO(1947, "kdon"),"IshRw": "utf-8","brwQz": "ia32","TwyQj": "Wake up sleeping app!","EWEiZ": "[watchAppLogChange] Finished. code:","REJgj": "pipe","RTmDi": function (a0, a1) {return a0 + a1;},"qexfA": function (a0, a1) {return a0 !== a1;},"grxmQ": function (a0, a1) {return a0 < a1;},"vFOPY": function (a0, a1) {return a0 * a1;},"rFsEm": "centerWindow","hiqVh": function (a0, a1) {return a0 - a1;},"VOCzB": "switchWindow","iYRDU": function (a0) {return a0();},"lLTjJ": "child_process","fiszZ": "mkdirp","bJzVV": function (a0, a1) {return a0(a1);},"XkfJh": function (a0, a1, a2) {return a0(a1, a2);},"DCxYl": function (a0, a1) {return a0 === a1;},"uuYYK": function (a0, a1) {return a0 !== a1;},"KNQcN": "undefined"};var j = g && g["__decorate"] || (function (a0, a1, a2, a3) {var a4 = arguments["length"], a5 = a4 < 3 ? a1 : a3 === null ? a3 = Object["getOwnPropertyDescriptor"](a1, a2) : a3, a6;if (typeof Reflect === "object" && i["CQhXH"](typeof Reflect["decorate"], i["YWYDK"])) a5 = Reflect["decorate"](a0, a1, a2, a3); else {for (var a7 = a0["length"] - 1; a7 >= 0; a7--) if (a6 = a0[a7]) a5 = (a4 < 3 ? a6(a5) : a4 > 3 ? a6(a1, a2, a5) : a6(a1, a2)) || a5;}return (a4 > 3 && a5 && Object["defineProperty"](a1, a2, a5), a5);}), k = g && g["__metadata"] || (function (a0, a1) {var pP = pO;if ("TXbek" === "TXbek") {if (typeof Reflect === i[pP(358, "JO9c")] && typeof Reflect["metadata"] === "function") return Reflect["metadata"](a0, a1);} else this[pP(1176, "9Bou")]["setUserInfo"](h);}), l = g && g["__importDefault"] || (function (a0) {return a0 && a0["__esModule"] ? a0 : {"default": a0};}), m, n, o, q, r, t, u, w, z;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["SystemService"] = void 0);var A = require("@nestjs/common"), B = (fM(), c0(fI)), C = gl(), D = hZ(), E = gq(), F = hT(), G = ig(), H = iq(), I = ih(), J = i[pO(2019, "EcL6")](iC), K = iD(), L = require("electron"), M = require("fs-extra"), N = (i["iYRDU"](dh), c0(dg)), O = require("@bilibili/b-utils-core"), P = require(i["lLTjJ"]), Q = require("https-proxy-agent"), R = (dh(), c0(dg)), S = l(require("os")), T = l(require("path")), U = l(require(i["fiszZ"])), V = l(require("glob")), W = l(require("semver")), X = i["bJzVV"](l, require("extract-zip")), Y = (fy(), c0(fx)), Z = class a0 extends B[pO(355, "UmJ6")] {constructor(a1, a2, a3, a4, a5, a6, a7, a8, a9) {var pQ = pO, aa = {"MSkPg": "dark"};(super("SystemService"), c1(this, "configService"), c1(this, i["lqZdz"]), c1(this, "storeService"), c1(this, "eventsService"), c1(this, "reportService"), c1(this, "downloadService"), c1(this, "gameService"), c1(this, pQ(2201, "D0T^")), c1(this, "playerService"), c1(this, "appLogs", []), c1(this, "appLogLimit", 5000), i["VYJxh"](c1, this, "isAppLogWatching", ![]), c1(this, "isOnSwitchingWin", ![]), c1(this, "_mouse"), c1(this, "_keyboard"), this["configService"] = a1, this["fetchService"] = a2, this[pQ(1781, "YUg@")] = a3, this["eventsService"] = a4, this["reportService"] = a5, this["downloadService"] = a6, this["gameService"] = a7, this["utilsService"] = a8, this[pQ(2015, "JypK")] = a9, this["configService"]["wakeUpBiliApp$"]["subscribe"](() => this["wakeUpBiliApp"]()), this["configService"]["beforeQuitApp$"]["subscribe"](() => {var pR = pQ;this["storeService"][pR(1596, "V[Zi")](Y["APP_VERSION"]);}), this["configService"]["autoUpdateInfoReady$"]["subscribe"](() => {this["judgeToastUpdateVersion"]();}), this["configService"]["mainWindowFirstReady$"]["subscribe"](() => {(this["judgeToastUpdateVersion"](), (0, M["ensureDirSync"])(Y["UTILITIES_PATH"]), Y["IS_WIN"] && !(0, M["existsSync"])(Y["SETFTA_EXE"]) && (0, M["copyFileSync"])(Y["SETFTA_EXE_SRC"], Y["SETFTA_EXE"]));}), this["configService"]["intervalOfInjectCodeConfig"] = setInterval(() => {this["syncInjectCodeConfiguration"]();}, Y["POLLING_INJECT_CODE_TIME"]), this["configService"]["watchAppLogChange$"]["subscribe"](() => this["watchAppLogChange"]()), L["nativeTheme"]["on"]("updated", () => {var pS = pQ;if ("jLUsL" === "jLUsL") {const ab = L["nativeTheme"][pS(1209, "jubI")];(this["log"]["info"]("NativeTheme updated, shouldUseDarkColors:", ab), this["configService"]["isSystemDarkTheme"] !== ab && (this["configService"]["isSystemDarkTheme"] = ab, this["storeService"]["getAppStartUpTheme"]() === "system" && this["eventsService"]["emitChangeMainWindowTheme"](ab ? aa["MSkPg"] : "light")));} else (this["judgeToastUpdateVersion"](), (0, o["ensureDirSync"])(q["UTILITIES_PATH"]), r["IS_WIN"] && !(0, t["existsSync"])(u["SETFTA_EXE"]) && (0, B["copyFileSync"])(C["SETFTA_EXE_SRC"], D["SETFTA_EXE"]));}), this["configService"]["buvidReady$"]["subscribe"](() => {var pT = pQ;L[pT(388, "%AQh")]["addExtraParameter"]("buvid", this["configService"]["buvid"]);}), this["configService"]["downloadChangeEvent$"]["subscribe"](() => this["handlePowerSaveBlocker"]()));}get ["mouse"]() {var pU = pO;return (!this[pU(2153, "43KF")] && (this["_mouse"] = require("@nut-tree/nut-js")["mouse"]), this["_mouse"]);}get ["keyboard"]() {return (!this["_keyboard"] && (this["_keyboard"] = require(i["bsQQn"])["keyboard"]), this["_keyboard"]);}["initAppConfigs"]() {var pV = pO;(this["initSysVersionInfo"](), this["printSystemInfo"](), this["log"]["info"]("Initing app configs!"), this["initIsAppSilentInstall"](), this["initAppInitialVersion"](), this["initAppRuntimeConfigs"](), this["initAppRumimeDeciveName"](), this[pV(2158, "nwHl")](), this["initAppGeneralConfiguration"](), this["syncAppRemoteConfiguration"](), this["pollingRemoteConfiguartion"](), this["syncInjectCodeConfiguration"](), this["playerService"][pV(1828, "w$r8")]());}["initSysVersionInfo"]() {var pW = pO;try {this["configService"]["sysVersion"] = (0, P["execSync"])(process["platform"] === i["rnZHX"] ? "ver" : i["xCbEh"])["toString"]()["match"](/\d+\.\d+(\.\d+)*/)?.[0] || "";} catch (a1) {this["log"]["error"]("Init osVersion error:", this[pW(1472, "TZU2")](a1));}}["printSystemInfo"]() {var pX = pO;(this["log"]["info"]("[App info]:\n", {"version": Y["APP_VERSION"],"installVersion": Y["INSTALL_VERSION"],"electron": process[pX(2172, "hGVL")]["electron"],"node": process["versions"]["node"],"chromium": process[pX(1759, "Locc")][pX(1526, "uaSA")],"buildCode": Y["BUILD_CODE"],"buildId": Y["FAWKES_BUILD_ID"],"buildJobId": Y["FAWKES_JOB_ID"],"chid": Y["CHID"]}), this["log"]["info"]("[System info]:\n", {"osArch": S[pX(1547, "(3!I")][pX(1855, "5Oa*")](),"processArch": process["arch"],"platform": S[pX(2061, "TZU2")]["platform"](),"osType": S["default"][pX(651, "kdon")](),"osRelease": S["default"]["release"](),"osVersoin": S["default"]["version"](),"endianness": S["default"][pX(1321, "Ni8i")](),"hostName": S["default"]["hostname"](),"totalMemory": S[pX(1431, "(]yY")][pX(1715, "BDj!")](),"sysVersion": this["configService"][pX(2114, "!v[t")]}));const {isLogin: a1, mid: a2, uname: a3} = this["storeService"][pX(555, "hGVL")]();(L["crashReporter"]["addExtraParameter"]("isLogin", a1 ? "1" : "0"), L[pX(612, "gUtk")]["addExtraParameter"]("mid", String(i["jYUPG"](a2, ""))), this["log"]["info"]("[User info]", {"isLogin": a1,"mid": a2,"uname": a3}));}async ["initIsAppSilentInstall"]() {var pY = pO;try {const a1 = await (0, N["listRegValues"])(Y["DEFAULT_REGEDIT_PATH"]);(0, O["isObj"])(a1) && a1[pY(1033, "JypK")]?.["data"] && (this["configService"]["isAppSilentInstall"] = a1["isSilent"]["data"] === "true", this["log"]["info"](pY(697, "nwHl"), a1["isSilent"]["data"]));} catch (a2) {this["log"]["error"]("Init isSilient error:", this["getErrStack"](a2));}}["initAppInitialVersion"]() {const a1 = this["storeService"]["getInitialVersion"]();!a1 && (this["storeService"]["setInitialVersion"](Y["APP_VERSION"]), this["log"]["info"]("Set initial version:", Y["APP_VERSION"]));}["initAppRuntimeConfigs"]() {const a1 = (0, N["md5Hash"])(String(Math["random"]()));((0, N["setRunTimeConf"])({"hashCode": a1,"pkgChid": Y["CHID"],"reportSuccess": ![]}), this["configService"]["hashCode"] = a1);}["initAppRumimeDeciveName"]() {let a1 = "";try {switch (process["platform"]) {case "win32":a1 = "CN210105828";break;case "darwin":a1 = (0, P["execSync"])("scutil --get ComputerName")["toString"]()["trim"]();break;}} catch {}this["configService"]["deviceName"] = a1 || S["default"]["hostname"]();}["syncAppRemoteConfiguration"]() {var a1 = {"apKcc": function (a3, a4) {return a3 !== a4;}};const a2 = this["storeService"]["getAppConfig"]();(Object["assign"](this["configService"]["appConfig"], a2), this["fetchService"]["getAppConfig"]()["then"](a3 => {var pZ = f;if (a1["apKcc"]("UROPh", "UROPh")) this["log"]["error"](this["getErrStack"](h)); else {if (JSON["stringify"](a3) !== JSON["stringify"](a2)) {(this["storeService"]["setAppConfig"](a3), this["configService"]["isAppConfigReady"] = !![], this["configService"]["appConfigUpdated$"]["next"]({"cur": a3,"pre": a2}));a3["syncTime"] !== a2["syncTime"] && this["pollingRemoteConfiguartion"]();const a5 = this[pZ(1532, "h9c@")][pZ(339, "TZU2")]();a5 && a5 !== a3["tempDevPwd"] && (this[pZ(502, "JO9c")]["setTempDevPwd"](""), this["storeService"]["setIsDev"](![]), setTimeout(() => this["utilsService"][pZ(1281, "D0T^")]()));} else this["configService"]["isAppConfigReady"] = !![];this["log"]["info"]("Fetch appConfig success!");}})["catch"](a3 => {this["log"]["error"]("Fetch appConfig error!", this["getErrStack"](a3));}));}["pollingRemoteConfiguartion"]() {let a1 = Y["POLLING_REMOTE_CONFIG_TIME"];const {syncTime: a2} = this["configService"]["appConfig"];((0, O["isNum"])(a2) && a2 > 0 && a2 <= 120 && (a1 = a2 * 60 * 1000), clearInterval(this["configService"]["intervalOfAppRemoteConfig"]), this["configService"]["intervalOfAppRemoteConfig"] = setInterval(() => {this["syncAppRemoteConfiguration"]();}, a1));}["initAppGeneralConfiguration"]() {this["configService"]["generalConfig"] = this["storeService"]["getGeneralConfig"]();}["initAppCustomConfiguration"]() {var q0 = pO;Object["assign"](this["configService"]["customConfig"], this["storeService"]["getCustomConfig"]());if ((0, M["existsSync"])(Y["CUSTOM_CONF_FILE"])) {const a3 = (0, M["readFileSync"])(Y["CUSTOM_CONF_FILE"], {"encoding": "utf-8"});if (a3) try {let a4;(a4 = {}, eval("configObj = " + a3), Object["assign"](this["configService"]["customConfig"], a4));} catch {}}const {proxyAgentUrl: a1, noPopPrivacyPolicy: a2} = this[q0(1541, "V[Zi")]["customConfig"];(a1 && (this["configService"]["proxyAgent"] = new Q["HttpsProxyAgent"](a1), this["log"]["warn"]("proxyAgentUrl:", a1)), a2 && (this[q0(1370, "gUtk")]["setIsPrivacyPolicyAccepted"](), this["configService"]["isPrivacyPolicyAccepted"] = !![]));}async [pO(1269, "(]yY")]() {var q1 = pO;this["log"]["info"]("Load inject code config.");try {const a1 = await this["fetchService"]["getInjectCode"]();a1 && (this["configService"]["injectCodeConfig"] = a1);} catch (a2) {this[q1(488, "gUtk")]["error"]("Load inject code error:", this["getErrStack"](a2));}}["judgeToastUpdateVersion"]() {var q2 = pO;if (!this["configService"]["isMainWindowReady"]) return;if (!this["storeService"]["getIsPrivacyPolicyAccepted"]()) return;if (this["configService"]["checkIsAppForceUpdate"]()) return;const a1 = this["storeService"]["getLatestRunVersion"]();a1 && W["default"]["lt"](a1, Y["APP_VERSION"]) && (this["eventsService"][q2(1901, "9Bou")](), this["storeService"]["setLatestRunVersion"](Y["APP_VERSION"]));}["getIsSystemDarkMode"]() {return L["nativeTheme"]["shouldUseDarkColors"];}["getIsHightPerformanceCPU"]() {if (!Y["IS_WIN"]) return !![];const a1 = S["default"]["cpus"]();return a1["length"] > 8 && a1[0]["speed"] > 3000;}["setIsDevMode"](a1, a2) {var q3 = pO;if (a1) {if (!a2) {this["log"]["error"]("Dev mode password empty!");return;}try {const {appConfig: a3, runtimeConfig: a4} = this["configService"], a5 = a3["tempDevPwd"] && a2 === a3["tempDevPwd"] || a4["devModePwd"] && a2 === (0, R["decipher"])(a4[q3(1466, "Qd![")], Y["PWD_KEY"], Y[q3(1409, "uaSA")]);if (!a5) {if ("nqWjn" !== "TLGWO") {this["log"]["warn"](q3(1444, "1x5q"));return;} else k[l] = {"name": m,"value": n};}} catch {this["log"]["warn"]("Dev mode password error!");return;}}(this["log"]["info"](i[q3(780, "mnQ[")], a1), this["storeService"]["setIsDev"](a1), a1 && this["storeService"]["setTempDevPwd"](a2), setTimeout(() => this[q3(975, "Qd![")]["relaunchApp"]()));}["initAppFonts"]() {var q4 = pO;if (!Y["IS_WIN"]) return;this["log"]["info"]("Initing fonts!");try {(!(0, M[q4(1489, "hGVL")])(Y["FONTS_PATH"]) && (this["log"]["info"]("Creating fonts dir:", Y["FONTS_PATH"]), U["default"]["sync"](Y["FONTS_PATH"])), this[q4(2075, "EcL6")][q4(1959, "jubI")]["forEach"](a1 => {a1["id"] !== "Default" && ((0, M["existsSync"])(a1["cssFile"]) ? a1["isReady"] = !![] : (0, M["existsSync"])(a1["zipPath"]) ? this["handleUnzipFontZip"](a1) : this["handleFetchFontZip"](a1));}));} catch (a1) {this["log"]["error"]("Init fonts error:", this["getErrStack"](a1));}}async [pO(1782, "mnQ[")](a1) {var q5 = pO;this["log"]["info"]("Unzip font:", a1["name"]);try {(U["default"]["sync"](a1["path"]), await (0, X["default"])(a1["zipPath"], {"dir": a1["path"]}), a1["isReady"] = !![]);const a2 = V["default"]["sync"](T["default"]["join"](a1[q5(921, "Ni8i")], "*.css"));(a2["forEach"](a3 => {var q6 = q5;const a4 = (0, M[q6(920, "(3!I")])(a3, {"encoding": i["IshRw"]}), a5 = a4["replace"](Y["FONTS_BFS_PTN"], "./");(0, M["writeFileSync"])(a3, a5);}), a1["id"] === this["storeService"]["getSystemFontId"]() && (this["configService"]["isAppReady"] && this["eventsService"]["emitFontsInfoChange"]()), (0, M[q5(1917, "hGVL")])(a1["zipPath"]));} catch (a3) {this["log"]["error"]("Unzip font error:", this["getErrStack"](a3));}}async ["handleFetchFontZip"](a1) {var q7 = pO;this["log"]["info"](q7(2206, "CN4e"), a1["name"]);try {const a2 = await this[q7(1669, "YUg@")]["downloadFile"](a1["url"]);(this["log"]["info"]("Fetch font success!"), (0, M["writeFileSync"])(a1["zipPath"], a2, "binary"), this["handleUnzipFontZip"](a1));} catch (a3) {this["log"]["error"]("Fetch font(" + a1["name"] + ") error:", this["getErrStack"](a3));}}["handleGetFontsInfo"]() {var q8 = pO;const {fontList: a1, localServer: a2} = this["configService"], a3 = a1[q8(460, "YUg@")](a4 => a4["id"] === this["storeService"]["getSystemFontId"]());return (a3 && a3["isReady"] && (a3["id"] === "HarmonyOS" && a3["hrefs"]["forEach"]((a4, a5) => {a3["hrefs"][a5] = a4["replace"](Y["FONTS_BFS_PTN"], "local://fonts/HarmonyOS/");})), a1);}async ["initFfmpegPlugin"]() {var q9 = pO;this["log"]["info"]("Initing ffmpeg!");try {!(0, M["existsSync"])(Y["FFMPEG_PATH"]) && (this["log"]["info"]("Creating ffmpeg dir:", Y["FFMPEG_PATH"]), U["default"]["sync"](Y["FFMPEG_PATH"]));const a1 = (0, M[q9(1448, "BDj!")])(Y["FFMPEG_EXE"]), a2 = () => {(a1 && (this["log"]["warn"]("Remove expired ffmpeg"), (0, M["removeSync"])(Y["FFMPEG_EXE"])), this["handleFetchFfmpeg"]());};if (a1) {const {url: a3, hash: a4} = this["storeService"][q9(344, "uaSA")]();if (a3 !== this["getFfmpegUrl"]()) a2(); else {const a5 = await (0, N["bigFileHash"])(Y["FFMPEG_EXE"]);if (a5 !== a4) a2();}} else a2();} catch (a6) {this[q9(1461, "LCu@")]["error"]("Init ffmpeg error:", this["getErrStack"](a6));}}["getFfmpegUrl"]() {var qa = pO;let a1 = S[qa(2066, "jubI")]["arch"](), a2 = S["default"]["platform"]();if (a2 == "darwin") a2 = "mac"; else a2 == "win32" && (a2 = "win");if (a2 === qa(1337, "NxR(") && ![i["brwQz"], qa(1945, "CN4e")][qa(2243, "D0T^")](a1)) a1 = qa(1188, "TZU2"); else {if (a2 === "mac" && !["arm64", "x64"]["includes"](a1)) a1 = "x64"; else {if (a2 === "linux" && !["ia32", "x64"]["includes"](a1)) {if ("WvGxM" === "GDdxt") {this["reportService"]["reportWeChatInstallStatus"](m);let a4 = ![];try {a4 = (0, u["compareVersion"])(w, z) >= 0;} catch (a5) {this["log"]["error"]("Compare " + B + " version error");return;}if (!a4) {this["log"]["error"]("The " + C + " version is not support openSDK");return;}this["isWeChatInstalled"] = !![];} else a1 = "ia32";}}}return Y["FFMPEG_URLS"][a2]?.[a1];}async ["handleFetchFfmpeg"]() {var qb = pO;const a1 = this[qb(2146, "LCu@")]();if (!a1) return;this["log"]["info"]("Fetch ffmpeg");try {const a2 = await this["fetchService"]["downloadFile"](a1);(this["log"]["info"]("Fetch ffmpeg success!"), (0, M["writeFileSync"])(Y["FFMPEG_ZIP"], a2, "binary"), this["handleUnzipFfmpeg"](a1));} catch (a3) {this["log"]["error"]("Fetch ffmpeg error:", this["getErrStack"](a3));}}async ["handleUnzipFfmpeg"](a1) {var qc = pO;this["log"]["info"]("Unzip ffmpeg");try {await (0, X["default"])(Y["FFMPEG_ZIP"], {"dir": Y[qc(1294, "3BTs")]});if (!Y[qc(501, "Mqcd")]) try {(0, P["execSync"])(qc(1057, "mnQ[") + Y["FFMPEG_EXE_"]);} catch (a3) {this["log"]["error"]("Chmod ffmpeg error", this["getErrStack"](a3));}const a2 = await (0, N["bigFileHash"])(Y["FFMPEG_EXE"]);(this["storeService"]["setFfmpegExeInfo"]({"url": a1,"hash": a2}), this["log"]["info"]("Unzip ffmpeg success!"), (0, M["removeSync"])(Y["FFMPEG_ZIP"]));} catch (a4) {this["log"]["error"]("Unzip ffmpeg error:", this["getErrStack"](a4));}}["initAppSleepTask"]() {const {runtimeConfig: a1, customConfig: a2, isAppQuited: a3, isHideByBossShortcut: a4, isAppSleeping: a5} = this["configService"];if (a3 || a4 || a5) return;if (a1["disableSleep"]) {if ("WVsXA" === "mecPF") {if (m) n["epid"] = o; else {if (q) r["seasonId"] = t; else return;}} else return;}const a6 = (0, O["isNum"])(a2["fallAsleepTime"]) ? a2["fallAsleepTime"] : Y["FALL_ASLEEP_TIME"];if (a6 < 0) return;const a7 = this["downloadService"]["hasDownloadingTasks"]();if (a7) return;const a8 = this["gameService"]["hasDownloadingGames"]();if (a8) return;if (this["configService"]["checkIsAppForceUpdate"]()) return;(clearTimeout(this["configService"]["timeoutOfAppSleepCheck"]), this["configService"]["timeoutOfAppSleepCheck"] = setTimeout(() => {var qd = f;const aa = L["BrowserWindow"][qd(1145, "uaSA")]();aa["every"](ab => this["utilsService"]["isWindowHide"](ab)) && (clearTimeout(this["configService"]["timeoutOfAppSleep"]), this["log"]["info"]("Start app sleep timer! (" + a6 + "ms)"), this[qd(601, "jubI")]["timeoutOfAppSleep"] = setTimeout(() => this["makeBiliAppSleep"](), a6));}, 200));}["wakeUpBiliApp"]() {var qe = pO;const {timeoutOfAppSleep: a1, isAppSleeping: a2} = this["configService"];a1 && (this["log"]["info"](qe(413, "5Oa*")), clearTimeout(a1), this["configService"]["timeoutOfAppSleep"] = null);if (a2) {var a3 = ("3|6|2|1|4|0|5")["split"]("|"), a4 = 0;while (!![]) {switch (a3[a4++]) {case "0":this["configService"]["appSleepChange$"]["next"](![]);continue;case "1":this["configService"]["openPlayerParams"] = null;continue;case "2":this["configService"]["appAwakeTime"] = Date["now"]();continue;case "3":this["log"]["info"](i["TwyQj"]);continue;case "4":this["configService"]["isAppSleeping"] = ![];continue;case "5":this["configService"]["createDefaultWindows$"]["next"]();continue;case "6":this[qe(1614, "EcL6")]["reportPerformanceInfo"]();continue;}break;}}}["makeBiliAppSleep"]() {var qf = pO;const {isAppSleeping: a1, mainWindow: a2, playerWindow: a3} = this["configService"];!a1 && (this["log"][qf(1092, "nNM[")]("App sleeping!"), this["reportService"]["reportPerformanceInfo"](), a2?.["removeAllListeners"](), a2?.["close"](), a3?.["removeAllListeners"](), a3?.["close"](), global["mainWindow"] = null, this["configService"][qf(1928, "w$r8")] = null, this["configService"][qf(1384, "qbG4")] = null, this["configService"]["isSplashWindowReady"] = ![], this["configService"]["isMainWindowReady"] = ![], this["configService"]["isPlayerWindowReady"] = ![], this["configService"]["isMainWindowShowed"] = ![], this["configService"]["mainWinInitShowSub"]?.[qf(1899, "gUtk")](), this["configService"]["isAppSlept"] = !![], this["configService"]["isAppSleeping"] = !![], this["configService"]["appSleepChange$"]["next"](!![]), this["configService"]["playingWinStatusChange$"]["next"]());}async ["getAppCache"]() {var qg = pO;try {const a1 = L["session"]["defaultSession"], a2 = await a1["getCacheSize"](), a3 = (a2 / 1024 ** 2)[qg(446, "uaSA")](2);return (this["log"]["info"]("Get cache size: " + a3 + " MB"), a3);} catch (a4) {this[qg(992, "43KF")]["error"]("Get cache size error:", this["formatError"](a4));}}async ["clearAppCache"]() {var qh = pO;try {const a1 = L["session"]["defaultSession"];(await a1["clearCache"](), this["log"]["info"]("Clear cache success."));} catch (a2) {this[qh(1093, "nwHl")]["error"]("Clear cache error:", this["formatError"](a2));}}async [pO(1535, "V[Zi")]() {var qi = pO;try {let a1;if (Y["IS_WIN"]) a1 = (0, P["execSync"])("ipconfig /flushdns"); else Y["IS_MAC"] ? a1 = (0, P["execSync"])("dscacheutil -flushcache") : a1 = (0, P[qi(2131, "1x5q")])("systemd-resolve --flush-caches");this["log"]["info"]("Clear DNS cache done:\n", a1["toString"]());} catch (a2) {qi(1572, "!v[t") !== "hsugr" ? this["log"][qi(2195, "kdon")]("Clear DNS cache error:", this["formatError"](a2)) : this["sendEventToAllWindows"]("system/fontsInfoChange", {"data": null});}}["watchAppLogChange"]() {var qj = pO;if (this["isAppLogWatching"]) return;this["isAppLogWatching"] = !![];let a1;this["log"]["info"]("Watching app log");if (Y["IS_WIN"] && !Y[qj(1119, "8gI1")]) {const a2 = ["Get-Content", Y["APP_LOG_FILE"], "-Wait", "-Tail", qj(585, "1iAQ")];a1 = (0, P["spawn"])("powershell.exe", a2, {"cwd": "./","stdio": i["REJgj"]});} else qj(1989, "nmd9") !== "RKdli" ? a1 = (0, P["spawn"])("tail", ["-f", "-n", "150", Y["APP_LOG_FILE"]], {"cwd": "./","stdio": "pipe"}) : i["default"][qj(738, "5Oa*")](j["filePath"]);(a1["stdout"]["on"]("data", a4 => {var qk = qj;const a5 = a4["toString"]();(this["appLogs"]["push"](a5), this["appLogs"]["length"] > this["appLogLimit"] && this["appLogs"]["shift"](), this[qk(834, "X%9J")]["emitAppLogChange"](a5));}), a1["on"]("exit", a4 => {(this["isAppLogWatching"] = ![], this["log"]["info"](i["EWEiZ"], a4));}));}["convertKeys"](a1, a2) {const a3 = [], a4 = new WeakMap(), a5 = [[a1, a2]];while (a5["length"] > 0) {const [a6, a7] = a5["shift"](), a8 = Object["getPrototypeOf"](a6);let a9 = Object["entries"](a6);a8 !== null && Object["getPrototypeOf"](a8) !== null && (a9 = a9["concat"](Reflect["ownKeys"](a8)["filter"](aa => {var ql = f;const ab = Object["getOwnPropertyDescriptor"](a8, aa);return typeof aa === "string" && aa !== "constructor" && typeof ab?.[ql(1213, "CN4e")] !== "function" && typeof a8[aa] === "function";})["map"](aa => [aa, a8[aa]])));for (const [aa, ab] of a9) {const ac = a7 ? a7 + "." + aa : aa;if (typeof ab === "object" && ab !== null) {if (a4["get"](ab) > 1) continue;(a4["set"](ab, a4["get"](ab) + 1 || 1), a5["push"]([ab, ac]));} else a3["push"](ac);}}return a3;}["getAppLogTipStrings"]() {const a1 = this["convertKeys"](global["biliApp"], "this"), a2 = this["convertKeys"](global["biliApp"], "biliApp");return a1["concat"](a2);}[pO(1394, "mnQ[")]() {var qm = pO;const a1 = this["storeService"]["getDownloadNoSleep"]();if (a1) {if (this["downloadService"]["hasDownloadingTasks"]() || this["gameService"]["hasDownloadingGames"]()) {!this["configService"]["powerSaveBlockerId"] && (this["configService"]["powerSaveBlockerId"] = L[qm(517, "8gI1")]["start"]("prevent-app-suspension"), this["log"]["info"]("Start power save blocker!", this["configService"]["powerSaveBlockerId"]));if (Y["IS_WIN"]) try {(require("@bilibili/keep-pc-alive")["preventSleep"](), this["log"]["info"]("SetThreadExecutionState called to prevent sleep."));} catch (a2) {this["log"][qm(2231, "8gI1")]("SetThreadExecutionState error:", this["getErrStack"](a2));}} else this["stopPowerSaveBlocker"]();} else this["stopPowerSaveBlocker"]();}["stopPowerSaveBlocker"]() {var qn = pO;this["configService"]["powerSaveBlockerId"] && (this[qn(357, "qbG4")][qn(949, "qbG4")]("Clear power save blocker!", this["configService"]["powerSaveBlockerId"]), L["powerSaveBlocker"][qn(2264, "TZU2")](this["configService"]["powerSaveBlockerId"]), this["configService"][qn(832, "hGVL")] = null);if (Y["IS_WIN"]) try {(require("@bilibili/keep-pc-alive")["allowSleep"](), this["log"]["info"]("SetThreadExecutionState called to allow sleep."));} catch (a1) {this["log"]["error"]("SetThreadExecutionState error:", this["getErrStack"](a1));}}async ["smoothScroll"](a1, a2) {var qo = pO;const a3 = Math["floor"](a1 / 3);for (let a4 = 0; a4 < 3; a4++) {if (a2 === "l") await this["mouse"]["scrollLeft"](a3); else {if (a2 === "r") await this["mouse"]["scrollRight"](a3); else {if (a2 === "u") await this[qo(989, "YUg@")]["scrollUp"](a3); else a2 === "d" && await this["mouse"]["scrollDown"](a3);}}await (0, N["sleep"])();}}["getGamepadWindowAndViews"]() {const {mainWindow: a1, playerWindow: a2, liveRoomWindow: a3, universalWindow: a4, liveRoomGpView: a5, universalGpView: a6} = this["configService"];return [a1, a2, a3, a4, a5, a6];}["checkIsMouseOnApp"]() {var qp = pO;const {x: a1, y: a2} = L["screen"][qp(1131, "Qd![")](), a3 = L[qp(374, "mnQ[")]["getDisplayNearestPoint"]({"x": a1,"y": a2}), {x: a4, y: a5, width: a6, height: a7} = a3["workArea"], a8 = L["BrowserWindow"]["getAllWindows"]();for (const a9 of a8) {if (this["utilsService"]["isWindowHide"](a9)) continue;const {x: aa, y: ab, width: ac, height: ad} = a9["getBounds"]();if (a1 >= aa && a1 <= i["RTmDi"](aa, ac) && a2 >= ab && a2 <= ab + ad && a1 >= a4 && a1 <= a4 + a6 && a2 >= a5 && a2 <= a5 + a7) return !![];}return ![];}async [pO(1829, "Mqcd")](a1, a2) {var qq = pO, a3 = {"nCFnN": "APPEAR","vJKfd": function (a4, a5) {return a4 === a5;}};if (i["qexfA"]("iZUhJ", "jPPQz")) {if (!a2) return;switch (a1["action"]) {case "getGpEnabled":return this["configService"]["isGamepadEnabled"];case "setGpEnabled":this["configService"]["isGamepadEnabled"] = a1["params"];return;case "getSettings":return this["storeService"][qq(1763, "uaSA")]();case "setSettings":this["storeService"]["setGamepadSettings"](a1["params"]);return;case "getMousePos":{const {x: a4, y: a5} = await this["mouse"]["getPosition"]();return {"x": a4,"y": a5};}case "moveMouseTo":{const {x: a6, y: a7, dx: a8, dy: a9, pressed: aa} = a1["params"] || ({});await this["mouse"]["move"]([{"x": a6,"y": a7}]);if (aa) {const {x: ab, y: ac, width: ad} = a2["getBounds"]();a6 > ab && a6 < ab + ad && a7 > ac && i["grxmQ"](a7, ac + 70) && a2["setPosition"](ab + a8, ac + a9);}return;}case "setMouseTo":{let {x: ae, y: af} = a1["params"] || ({});if (Y["IS_WIN"]) {const ag = this["utilsService"]["getDisplayScaleFactor"](a2);(ae = i["vFOPY"](ae, ag), af = af * ag);}(await this["mouse"]["setPosition"]({"x": ae,"y": af}), await (0, N["sleep"])(), await this["mouse"]["move"]([{"x": ++ae,"y": ++af}]));return;}case "mouseClick":await this[qq(1186, "JypK")]["click"](0);return;case "doubleClick":await this["mouse"][qq(2249, "TZU2")](0);return;case "scrollLeft":a1[qq(1366, "Mqcd")]?.[qq(1932, "TZU2")] ? (await this["smoothScroll"](a1["params"][qq(1007, "V[Zi")] || 100, "l"), await (0, N["sleep"])(100)) : await this["mouse"]["scrollLeft"](a1["params"]["value"] || 100);return;case "scrollRight":a1["params"]?.["smooth"] ? (await this["smoothScroll"](a1["params"]["value"] || 100, "r"), await (0, N["sleep"])(100)) : await this["mouse"][qq(696, "1x5q")](a1["params"]["value"] || 100);return;case "scrollUp":a1["params"]?.["smooth"] ? (await this["smoothScroll"](a1["params"]["value"] || 100, "u"), await (0, N[qq(1778, "(3!I")])(100)) : await this["mouse"]["scrollUp"](a1[qq(1653, "NxR(")]["value"] || 100);return;case "scrollDown":a1[qq(1059, "Li1q")]?.[qq(796, "jubI")] ? qq(1739, "CN4e") === qq(1734, "8gI1") ? (await this[qq(383, "FoL8")](a1["params"]["value"] || 100, "d"), await (0, N["sleep"])(100)) : this["configService"]["deepLinkSub"] = this["configService"]["mainWindowReady$"]["pipe"]((0, j["take"])(1))["subscribe"](() => {this["configService"]["openMainWindowPage$"]["next"]({"page": m,"meta": {...n}});}) : await this[qq(932, "qbG4")][qq(994, "UmJ6")](a1["params"]["value"] || 100);return;case "pressButton":if (this["checkIsMouseOnApp"]()) {if ("xTZgU" !== "xTZgU") {if (this["isLogReportError"]) return;if (!A || !B[qq(367, "qbG4")]) {P["error"]("Option and options.type field are required!");return;}if (!D["spm_id"] && (!E["a"] || !F["b"])) {Q["error"]("spm_id or a.b field is required!");return;}const {type: aj, spm_id: ak, a: al, b: am, c: c = 0, d: d = 0, e: an} = H, ao = ak || al + "." + am + "." + c + "." + d + (an ? "." + an : ""), ap = aj["toLowerCase"]() === "show" ? a3["nCFnN"] : aj["toUpperCase"](), aq = {"eventId": this["transformEventId"](ao, aj),"logId": this["configService"]["customConfig"]["isTestLogReport"] ? qq(471, "(]yY") : "001538","mid": this["authService"]["getUserMid"](),"ctime": I["now"](),"sn": this["logSN"]++,"snGenTime": J["now"](),"retrySendCount": this["retryCount"],"pageType": K["pageType"] || 1,"eventCategory": this["reportEventCategory"][ap],"appInfo": this["getAppInfo"](),"runtimeInfo": this["getAppRuntimeInfo"](),"extendedFields": this["transformReportInfo"](L["msg"]),"appPageViewInfo": M["appPageViewInfo"],"appExposureInfo": N["appExposureInfo"],"appPlayerInfo": O["appPlayerInfo"]};(this["logSendBuffer"]["push"](aq), this["sendLogReport"]());} else await this["mouse"]["pressButton"](0);}return;case "releaseButton":await this["mouse"]["releaseButton"](0);return;case "typeKey":a1["params"]?.[qq(440, "5Oa*")] && await this["keyboard"]["type"](a1["params"]["key"]);return;case "getWindowPos":{const {x: aj, y: ak} = a2[qq(2214, "B4nF")](), [al, am, an, ao, ap, aq] = this["getGamepadWindowAndViews"]();if (a2["id"] === an?.["id"]) {const {x: ar, y: as} = ap["getBounds"]();return {"x": i["RTmDi"](aj, ar),"y": ak + as};} else {if (a2["id"] === ao?.["id"]) {const {x: at, y: au} = aq["getBounds"]();return {"x": aj + at,"y": ak + au};} else return {"x": aj,"y": ak};}}case i[qq(659, "Ni8i")]:{const av = a2["getBounds"](), aw = L["screen"]["getDisplayMatching"](av), {width: ax, height: ay} = av, {x: az, y: aA} = aw["bounds"], {width: aB, height: aC} = aw["workAreaSize"], aD = Math["round"]((aB - ax) / 2 + az), aE = Math["round"](i["hiqVh"](aC, ay) / 2 + aA);a2["setBounds"]({"x": aD,"y": aE});return;}case i["VOCzB"]:{if ("mgfeQ" !== "mgfeQ") (j["setBounds"](k), l["center"]()); else {if (!a2["isFocused"]()) return;if (this["isOnSwitchingWin"]) return;(this["isOnSwitchingWin"] = !![], setTimeout(() => this["isOnSwitchingWin"] = ![], 200));const [aG, aH, aI, aJ] = this["getGamepadWindowAndViews"](), aK = [aG, aH, aI, aJ]["filter"](aM => !this["utilsService"]["isWindowHide"](aM));let aL = aK["findIndex"](aM => aM["id"] === a2["id"]) + 1;if (aL >= aK["length"]) aL = 0;aK[aL]["focus"]();return;}}case "getIsGpActive":{const [aM, aN, aO, aP] = this["getGamepadWindowAndViews"](), aQ = L[qq(1699, "X%9J")]["getFocusedWindow"]();if (a2["id"] === aQ?.["id"]) return !![];if (![aM?.["id"], aN?.["id"], aO?.["id"], aP?.["id"]]["includes"](aQ?.["id"])) {if ("DlStH" === "ACAha") {if (a3["vJKfd"](typeof l, "object") && typeof m["metadata"] === "function") return n["metadata"](o, q);} else for (const aS of [aM, aN, aO, aP]) {if (a2["id"] === aS?.["id"]) return !this["utilsService"]["isWindowHide"](aS);}}return ![];}case "showGpView":{const [aT, aU, aV, aW, aX, aY] = this["getGamepadWindowAndViews"](), {width: width = 200, height: height = 300} = a1["params"] || ({});if (a2["id"] === aV?.["id"]) this["utilsService"]["centerBrowserView"](aV, aX, {"width": width,"height": height}); else a2["id"] === aW?.["id"] && this["utilsService"]["centerBrowserView"](aW, aY, {"width": width,"height": height});return;}case "hideGpView":{const [aZ, b0, b1, b2, b3, b4] = this["getGamepadWindowAndViews"]();if (a2["id"] === b1?.["id"]) this["utilsService"][qq(660, "FoL8")](b1, b3, {"width": 1,"height": 1}); else a2["id"] === b2?.["id"] && this["utilsService"]["centerBrowserView"](b2, b4, {"width": 1,"height": 1});return;}case "livePlayerAction":{this["eventsService"][qq(2096, "YUg@")](a1["params"]);return;}case "livePlayerInfo":{this["eventsService"]["emitGamepadLiveInfo"](a1["params"]);return;}}} else (this["log"]["info"]("Cancel update."), this[qq(646, "43KF")]["cancelDownLoadUpdate"]());}};(Z = i["XkfJh"](j, [(0, A["Injectable"])(), k(pO(1948, "ry$4"), [typeof (m = typeof C["ConfigService"] !== pO(2086, "B4nF") && C["ConfigService"]) === "function" ? m : Object, typeof (n = typeof D["FetchService"] !== "undefined" && D["FetchService"]) === "function" ? n : Object, typeof (o = typeof F["StoreService"] !== "undefined" && F["StoreService"]) === "function" ? o : Object, typeof (q = typeof E[pO(1804, "uaSA")] !== "undefined" && E["EventsService"]) === "function" ? q : Object, i["DCxYl"](typeof (r = i["uuYYK"](typeof G["ReportService"], "undefined") && G["ReportService"]), "function") ? r : Object, typeof (t = typeof H["DownloadService"] !== "undefined" && H["DownloadService"]) === "function" ? t : Object, typeof (u = typeof J[pO(2255, "KdL&")] !== "undefined" && J["GameService"]) === i["YWYDK"] ? u : Object, typeof (w = typeof I["UtilsService"] !== "undefined" && I["UtilsService"]) === "function" ? w : Object, typeof (z = typeof K["PlayerService"] !== i["KNQcN"] && K["PlayerService"]) === "function" ? z : Object])], Z), g[pO(1342, "hGVL")] = Z);}}), iF = bV({""(g) {"use strict";var qr = f, h = {"LBEVE": function (w, z, A) {return w(z, A);},"gdCdc": "appTray","Crccc": "哔哩哔哩","onBFq": "退出应用","zpiGw": "Creating app menu.","jssNN": "close","jSQcB": "separator","zELEE": "强制刷新","IVHWT": "resetZoom","WiisQ": "togglefullscreen","BkIXI": "minimize","WvcNU": function (w, z) {return w(z);},"Dauau": function (w, z) {return w === z;}};var i = g && g[qr(983, "FoL8")] || (function (w, z, A, B) {var C = arguments["length"], D = C < 3 ? z : B === null ? B = Object["getOwnPropertyDescriptor"](z, A) : B, E;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") D = Reflect["decorate"](w, z, A, B); else {for (var F = w["length"] - 1; F >= 0; F--) if (E = w[F]) D = (C < 3 ? E(D) : C > 3 ? E(z, A, D) : h["LBEVE"](E, z, A)) || D;}return (C > 3 && D && Object["defineProperty"](z, A, D), D);}), j = g && g["__metadata"] || (function (w, z) {var qs = qr;if (typeof Reflect === "object" && typeof Reflect[qs(1038, "mnQ[")] === "function") return Reflect["metadata"](w, z);}), k, l;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["TrayMenuService"] = void 0);var m = (fM(), c0(fI)), n = require("@nestjs/common"), o = gl(), q = ih(), r = require("electron"), t = (fy(), h["WvcNU"](c0, fx)), u = class w extends m["BaseService"] {constructor(z, A) {var qt = qr;(super("TrayMenuService"), c1(this, "configService"), c1(this, "utilsService"), c1(this, h["gdCdc"], null), this["configService"] = z, this["utilsService"] = A, this["configService"][qt(430, "BDj!")]["subscribe"](() => {this["destoryApplicationTray"]();}));}["initAppTrayAndMenu"]() {var qu = qr;(this["createApplicationTray"](), this["createApplicationMenu"](), t["IS_MAC"] && r["app"][qu(986, "B4nF")]({"applicationName": h["Crccc"],"applicationVersion": "版本 v" + t["APP_VERSION"],"version": t["FAWKES_JOB_ID"],"copyright": "© " + new Date()["getFullYear"]() + " 版权所有","website": "https://www.bilibili.com"}));}["destoryApplicationTray"]() {var qv = qr;this[qv(411, "VFZK")] && (this["log"]["info"]("Destoring app tray"), this["appTray"]["destroy"](), this["appTray"] = null);}["toggleMainWindow"](z) {var qw = qr;const {isAppSleeping: A, wakeUpBiliApp$: B, mainWindow: C} = this[qw(1383, "!L3p")];if (A) {B["next"]();return;}if (C && !C["isDestroyed"]()) {if (!C["isFocused"]()) C["show"](); else !z && C[qw(621, "nwHl")]();}}["createApplicationTray"]() {var qx = qr;!this["appTray"] && (this["appTray"] = new r[qx(2168, "kdon")](t["APP_TRAY_ICON_PATH"]), this["appTray"]["setToolTip"](h["Crccc"]), !t["IS_MAC"] && (this["log"]["info"]("Creating app tray."), this["appTray"]["setContextMenu"](r["Menu"]["buildFromTemplate"]([{"label": "设置","click": () => this[qx(821, "5Oa*")]["openMainWindowPage$"][qx(1070, "V[Zi")]({"page": "SettingsPage"})}, {"label": "意见反馈","click": () => this["utilsService"][qx(787, "8gI1")](t["FEEDBACK_URL"], "main.TrayMenu")}, {"label": "官网","click": () => this["utilsService"]["shellOpenExternal"]("https://www.bilibili.com", "main.TrayMenu")}, {"label": h["onBFq"],"click": () => r["app"][qx(1021, "JO9c")]()}]))), this["appTray"]["on"]("click", () => this["toggleMainWindow"]()));}[qr(1836, "D0T^")]() {var qy = qr;this["log"]["info"](h["zpiGw"]);const z = r["Menu"]["buildFromTemplate"]([{"label": "哔哩哔哩","submenu": [{"label": "关于","role": qy(537, "(3!I")}, {"type": "separator"}, {"label": "设置","click": () => this["configService"]["openMainWindowPage$"]["next"]({"page": "SettingsPage"})}, {"type": qy(859, "VFZK")}, {"label": "隐藏其它","role": "hideOthers"}, {"label": "显示","role": "unhide"}, {"type": "separator"}, {"label": "退出应用","role": "quit"}]}, {"label": "文件","submenu": [{"label": "关闭","role": h["jssNN"]}]}, {"label": "编辑","submenu": [{"label": "撤销","role": "undo"}, {"label": "重做","role": "redo"}, {"type": qy(447, "BDj!")}, {"label": "剪切","role": qy(1004, "qbG4")}, {"label": "复制","role": "copy"}, {"label": "粘贴","role": "paste"}, {"label": "带格式粘贴","role": "pasteAndMatchStyle"}, {"label": "删除","role": "delete"}, {"label": "全选","role": "selectAll"}]}, ...this["configService"]["isDevMode"] ? [{"label": "视图","submenu": [{"label": "服务","role": "services"}, {"type": h["jSQcB"]}, {"label": "刷新","role": "reload"}, {"label": h["zELEE"],"role": "forceReload"}, {"label": "开发者工具","role": "toggleDevTools"}, {"type": "separator"}, {"label": "重置缩放","role": h["IVHWT"]}, {"label": "放大","role": "zoomIn"}, {"label": "缩小","role": "zoomOut"}, {"type": "separator"}, {"label": "全屏","role": h["WiisQ"]}]}] : [], {"label": "窗口","submenu": [{"label": "显示主窗口","click": () => this["toggleMainWindow"](!![])}, {"type": "separator"}, {"label": "最小化","role": h["BkIXI"]}, {"label": "最大化或恢复","role": "zoom"}, {"type": "separator"}, {"label": "窗口前置","role": "front"}, {"type": "separator"}, {"label": "窗口","role": "window"}]}, {"label": "帮助","submenu": [{"label": "意见反馈","click": () => this["utilsService"][qy(1553, "nNM[")](t["FEEDBACK_URL"], "main.TrayMenu")}]}]);r["Menu"]["setApplicationMenu"](z);}};(u = i([(0, n["Injectable"])(), j("design:paramtypes", [typeof (k = typeof o["ConfigService"] !== qr(1617, "D0T^") && o[qr(1476, "qfnC")]) === "function" ? k : Object, h[qr(479, "gUtk")](typeof (l = typeof q["UtilsService"] !== "undefined" && q["UtilsService"]), qr(1565, "mnQ[")) ? l : Object])], u), g["TrayMenuService"] = u);}}), iG = {};bW(iG, {"INTERCEPT_LOGIN_URLS": () => iH,"WEB_REQUEST_FILTER": () => iI,"WEB_REQUEST_LOGOUT": () => iJ});var iH, iI, iJ, iK = bU({""() {(iH = [/:\/\/passport\.bilibili\.com\/login/, /:\/\/passport\.bilibili\.com\/h5-app\/passport\/login/], iI = ["*://*.bilibili.com/*"], iJ = "login/exit/v2");}}), iL = bV({""(g) {"use strict";var qz = f, h = {"cEPJT": function (Q, R) {return Q === R;},"SPsSv": function (Q, R) {return Q === R;},"yRKPc": "function","HRaZw": function (Q, R) {return Q < R;},"RMJqX": function (Q, R, S) {return Q(R, S);},"rCEft": qz(1496, "V[Zi"),"vzFNp": function (Q, R, S, T) {return Q(R, S, T);},"sxDcb": function (Q, R) {return Q(R);},"VngTt": "closed","wfJgm": function (Q, R) {return Q instanceof R;},"BXrdf": "current","ASSLi": "OAOZh","Hqvkn": function (Q, R) {return Q === R;},"wqmbM": function (Q, R) {return Q !== R;},"dfgax": "hQYHM","ZLmRY": function (Q, R) {return Q < R;},"lLqfg": "did-fail-load","bRxrf": qz(1401, "JO9c"),"rSosu": "will-download","OKwIA": "universal","YbdeE": "close","NYVgl": "did-finish-load","niMhz": "resize","gpRTH": function (Q) {return Q();}};var i = g && g["__decorate"] || (function (Q, R, S, T) {var U = arguments["length"], V = U < 3 ? R : h["cEPJT"](T, null) ? T = Object["getOwnPropertyDescriptor"](R, S) : T, W;if (typeof Reflect === "object" && h["SPsSv"](typeof Reflect["decorate"], h["yRKPc"])) V = Reflect["decorate"](Q, R, S, T); else {for (var X = Q["length"] - 1; X >= 0; X--) if (W = Q[X]) V = (h["HRaZw"](U, 3) ? W(V) : U > 3 ? W(R, S, V) : W(R, S)) || V;}return (U > 3 && V && Object["defineProperty"](R, S, V), V);}), j = g && g[qz(1973, "V[Zi")] || (function (Q, R) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](Q, R);}), k, l, m, n, o, q, r, t;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g[qz(833, "ry$4")] = void 0);var u = require("@nestjs/common"), w = (fM(), c0(fI)), z = gl(), A = i1(), B = iE(), C = gq(), D = h["gpRTH"](ig), E = hT(), F = iF(), G = ih(), H = require("@bilibili/b-utils-core"), I = require("electron"), J = (hS(), c0(hR)), K = require("path"), L = require("fs-extra"), M = (fy(), c0(fx)), N = (iK(), c0(iG)), O = (dh(), c0(dg)), P = class Q extends w["BaseService"] {constructor(R, S, T, U, V, W, X, Y) {var qA = qz;(super("WindowEvents"), c1(this, "configService"), c1(this, "authService"), c1(this, "systemService"), h["RMJqX"](c1, this, "eventsService"), c1(this, "reportService"), c1(this, "storeService"), c1(this, "trayMenuService"), c1(this, "utilsService"), c1(this, h["rCEft"], ""), c1(this, "isMainWindowOpened", ![]), c1(this, qA(541, "KdL&"), ![]), h["vzFNp"](c1, this, qA(588, "B4nF"), ![]), c1(this, "refreshUserInfoTime", Date[qA(1257, "VFZK")]()), c1(this, "handleUniversalDownload", (Z, a0, a1) => {var qB = qA, a2 = {"cnkuP": function (a5, a6) {return a5 === a6;}};const a3 = a0["getFilename"]();this["log"]["info"]("Universal view download file:", a3);const a4 = I["dialog"]["showSaveDialogSync"](this["configService"]["uploadWindow"], {"defaultPath": (0, K["join"])(I[qB(292, "qfnC")]["getPath"]("downloads"), a3)});a4 ? (a0["setSavePath"](a4), a0["on"]("updated", (a5, a6) => {var qC = qB;a6 === qC(1009, "JypK") && (a0["isPaused"]() ? this[qC(1944, "kdon")]["info"]("View download paused：", a3) : this["log"]["info"]("View download Progress(" + a3 + ")：", (a0["getReceivedBytes"]() / a0["getTotalBytes"]() * 100)["toFixed"](2) + "%"));}), a0["once"]("done", (a5, a6) => {var qD = qB;a2["cnkuP"](a6, "completed") ? this["log"][qD(289, "B4nF")]("View download completed：", a4) : this[qD(488, "gUtk")]["info"]("View download error(" + a4 + ")：", a6);})) : a0["cancel"]();}), this[qA(1563, "VFZK")] = R, this["authService"] = S, this["systemService"] = T, this["eventsService"] = U, this["reportService"] = V, this["storeService"] = W, this[qA(2067, "UmJ6")] = X, this["utilsService"] = Y, this["configService"]["mainWindowFirstReady$"]["subscribe"](() => this["registerGlobalShortcut"]()));}["registerWindowEvents"](R, S, T = ![], U) {var qF = qz;(0, H["isFun"])(T) && (U = T, T = ![]);const V = R["id"];let W = ![], X = R["isMaximized"](), Y = ![];(R["on"]("restore", () => this["eventsService"]["sendEventToWindow"](R, "window/restore")), R["on"]("minimize", () => this["eventsService"]["sendEventToWindow"](R, "window/minimize")), R["on"]("hide", () => {var qE = f;W && !R["isVisible"]() && (W = ![], this["eventsService"][qE(668, "X%9J")](), this["eventsService"]["sendEventToWindow"](R, "window/visibleChange", {"data": ![]}));}), R["on"]("show", () => {(this["eventsService"]["sendEventToWindow"](R, "window/show"), R["isHidden"] = ![], !W && (W = !![], this["eventsService"]["emitWindowStatusChange"](), this["eventsService"]["sendEventToWindow"](R, "window/visibleChange", {"data": !![]})));}), R["on"]("blur", () => {Y && (Y = ![], this["eventsService"]["emitWindowStatusChange"](), this["eventsService"]["sendEventToWindow"](R, "window/blur"), this["eventsService"]["sendEventToWindow"](R, "window/focusChange", {"data": ![]}));}), R["on"]("focus", () => {!Y && (Y = !![], this["eventsService"]["emitWindowStatusChange"](), this["eventsService"]["sendEventToWindow"](R, "window/focus"), this["eventsService"]["sendEventToWindow"](R, "window/focusChange", {"data": !![]}));}), R["on"]("maximize", () => {(this["eventsService"]["sendEventToWindow"](R, "window/maximize"), this["eventsService"]["sendEventToWindow"](R, "window/maximizeChange", {"data": !![]}));}), R["on"](qF(1046, "UmJ6"), () => {var qG = qF;(this[qG(586, "qbG4")]["sendEventToWindow"](R, "window/unmaximize"), this["eventsService"]["sendEventToWindow"](R, "window/maximizeChange", {"data": ![]}));}), R["on"]("resized", () => {const Z = R["isMaximized"]();Z !== X && (X = Z, this["eventsService"]["sendEventToWindow"](R, "window/maximizeChange", {"data": Z}));}), R["on"]("close", Z => {this["log"]["info"]("Start close window: ", S);const {isForceCloseWindows: a0, catchCloseWinIds: a1, isAppQuited: a2} = this["configService"];if (a0) return;if (a1["includes"](V)) {(Z["preventDefault"](), this["eventsService"]["sendEventToWindow"](R, "window/willClose", {"data": a2}));return;}this["eventsService"]["sendEventToWindow"](R, "window/close");if ((0, H["isFun"])(U)) h["sxDcb"](U, Z);}), R["on"](h["VngTt"], () => {var qH = qF;(this["log"]["info"]("Window closed: ", S), this[qH(360, "KdL&")]["emitWindowStatusChange"](), this["eventsService"]["emitWindowClosed"]());const {catchCloseWinIds: Z} = this["configService"];for (let a0 = 0; a0 < Z["length"]; a0++) {(Z[a0] === V || !I["BrowserWindow"]["fromId"](Z[a0])) && (Z["splice"](a0, 1), a0--);};R["isHidden"] = !![];}), R["on"](qF(380, "(3!I"), (Z, a0) => {this["eventsService"]["sendEventToWindow"](R, "window/pinChange", {"data": a0});}), R["on"]("leave-full-screen", () => {if (!T) R["setFullScreenable"](![]);(this["eventsService"]["sendEventToWindow"](R, "window/leaveFullScreen"), this["eventsService"]["sendEventToWindow"](R, "window/fullScreenChange", {"data": ![]}));}), R["on"]("enter-full-screen", () => {(this["eventsService"]["sendEventToWindow"](R, "window/enterFullScreen"), this["eventsService"]["sendEventToWindow"](R, "window/fullScreenChange", {"data": !![]}));}));}["registerAppSleepEvent"](R) {var qI = qz;(R["on"]("show", () => this["systemService"]["wakeUpBiliApp"]()), R["on"](qI(483, "UmJ6"), () => this["systemService"]["initAppSleepTask"]()), R["on"]("closed", () => this[qI(2293, "5Oa*")]["initAppSleepTask"]()));}["registerClosableWindowEvents"](R, S) {const T = this["configService"][R];h["wfJgm"](T, I["BrowserWindow"]) && T["on"]("closed", () => {var qJ = f;if ("YiXqq" === "lhenb") (!this["configService"]["isAppSlept"] && (this["checkForUpdate"](!![]), this[qJ(1768, "^M%9")]()), this["judgeIncrementPatchReady"]()); else {(T?.["destroy"](), this["configService"][R] = null);if ((0, H["isFun"])(S)) S();}});}["catchCertVerifyError"](R) {var S = {"VKUvd": function (T, U) {return T(U);}};R["webContents"]["session"]["setCertificateVerifyProc"]((T, U) => {if (T["certificate"]["data"] === J["cert"]) return S["VKUvd"](U, 0);U(-3);});}[qz(1796, "h9c@")](R, S, T) {var qK = qz;if ("cxhTr" === h[qK(435, "X%9J")]) (this["log"]["info"]("Increment update bucket hit."), this["handleIncrementPatchGrayHit"](i, j)); else {if (!S || (0, O["isResourceUrl"])(S)) return ![];if (h["cEPJT"](T, "mainWindow") || T === "playerWindow") {if ("dVbBw" === "XQfNy") {const Y = this[qK(1777, "B4nF")]["getAppStartUpTheme"]();Y !== h["BXrdf"] && this["storeService"]["setMainWindowTheme"](Y);} else {const Y = h["Hqvkn"](T, "mainWindow") ? M["MAIN_WINDOW_ALLOW_OPEN_URLS"] : M["PLAYER_WINDOW_ALLOW_OPEN_URLS"], Z = Y["some"](a0 => a0 instanceof RegExp ? a0["test"](S) : S["includes"](a0));if (Z) return !![];}}const {urls: V, regExps: W} = this["configService"]["allowOpenUrls"][R["id"]] || ({});if ((0, H["isArr"])(V) && V["some"](a0 => a0 == S)) {if (h["wqmbM"]("WojQh", h["dfgax"])) return !![]; else j["entries"](this["cookieCache"])["forEach"](([a1, {time: a2}]) => {if (m["now"]() - a2 > n["COOKIE_CACHE_TIME"]) delete this["cookieCache"][a1];});}try {if ((0, H["isArr"])(W) && W["some"](a1 => new RegExp(a1)["test"](S))) return !![];} catch (a1) {}return ![];}}["catchLinkAndWindowOpen"](R, S) {(R["webContents"]["on"]("will-navigate", (T, U) => {var qL = f;(T["preventDefault"](), this[qL(2191, "Locc")](R, U, S) && (this["configService"]["customConfig"]["isDisableAppBrowser"] ? this["utilsService"]["shellOpenExternal"](U) : this["configService"][qL(408, "YUg@")]["next"]({"url": U})));}), R["webContents"]["setWindowOpenHandler"](({url: T}) => {return (this["judgeUrlIsAllowed"](R, T, S) && (this["configService"]["customConfig"]["isDisableAppBrowser"] ? this["utilsService"]["shellOpenExternal"](T) : this["configService"]["openOrFocusUniversalWindow$"]["next"]({"url": T})), {"action": "deny"});}));}["catchWebviewLinkAndWindowOpen"](R, S, T = ![]) {var qM = qz;R["webContents"]["on"](qM(1212, "nwHl"), (U, V) => {var W = {"FLDJd": "EFeoh"};(this["log"]["info"]((0, H["capitalize"])(S) + " page ready!"), T && (!this["configService"]["appWebviewIds"]["includes"](V["id"]) && this["configService"]["appWebviewIds"]["push"](V["id"])), V["on"]("will-navigate", (X, Y) => {var qN = f;(X["preventDefault"](), this["judgeUrlIsAllowed"](R, Y, S) && ("FqboJ" !== "KqqFM" ? this["configService"]["customConfig"]["isDisableAppBrowser"] ? this["utilsService"]["shellOpenExternal"](Y) : this["configService"]["openOrFocusUniversalWindow$"]["next"]({"url": Y}) : this[qN(1835, "X%9J")](h)));}), V["setWindowOpenHandler"](({url: X}) => {var qO = f;if ("EFeoh" !== W["FLDJd"]) (h = this["setToDefaultGameDownloadPath"](), this["eventsService"]["emitDownloadInfoChange"]()); else return (this["judgeUrlIsAllowed"](R, X, S) && (this["configService"]["customConfig"]["isDisableAppBrowser"] ? this["utilsService"][qO(1517, "FoL8")](X) : this["configService"]["openOrFocusUniversalWindow$"]["next"]({"url": X})), {"action": "deny"});}));});}["registerWindowFocusBlur"](R, S, T = !![]) {var U = {"ORKFF": "HDOHC"};let V = !![];(R["on"]("blur", () => {if (V) V = ![];if (T) this["judgeIsAppActive"]();}), R["on"]("focus", () => {if (!V) {if (U["ORKFF"] !== "yMXqQ") (V = !![], this["log"]["info"]("Focus on " + S + "!")); else return;}if (T) this["judgeIsAppActive"]();}));}["judgeIsAppActive"]() {var R = {"bnQuZ": "App deactivated!"};setTimeout(() => {var qP = f, S = {"PdRXx": "SetThreadExecutionState error:"};if (I["BrowserWindow"]["getAllWindows"]()["some"](T => T["isFocused"]())) {if ("NQcgN" === qP(1112, "w$r8")) !this["configService"]["isAppActive"] && (this["configService"][qP(2110, "Li1q")] = !![], this["configService"]["appActiveTime"] = Date["now"](), this["configService"][qP(912, "qbG4")]["next"](!![]), this["reportService"]["reportAppActiveEvent"](), this["log"][qP(1252, "!v[t")](qP(2288, "mnQ["))); else try {(i("@bilibili/keep-pc-alive")["preventSleep"](), this["log"]["info"]("SetThreadExecutionState called to prevent sleep."));} catch (U) {this["log"]["error"](S["PdRXx"], this["getErrStack"](U));}} else this[qP(821, "5Oa*")][qP(1974, "y^Oh")] && (this["configService"]["isAppActive"] = ![], this["configService"]["appDeactiveTime"] = Date["now"](), this["configService"]["appActiveChange$"]["next"](![]), this["reportService"][qP(466, "CN4e")](), this["log"]["info"](R["bnQuZ"]));}, 200);}[qz(291, "5Oa*")](R, S) {var qR = qz;let T, U, V, W, X, Y = Date["now"]();M["IS_WIN"] && R["on"]("will-move", () => {var qQ = f;if (!T) {T = R["getBounds"]();const {x: Z, y: a0, width: a1, height: a2} = T;(U = I["screen"][qQ(1363, "3BTs")]({"x": Z,"y": a0}), V = I["screen"]["getDisplayNearestPoint"]({"x": Z,"y": a0 + a2}), W = I["screen"]["getDisplayNearestPoint"]({"x": Z + a1,"y": a0}), X = I["screen"]["getDisplayNearestPoint"]({"x": Z + a1,"y": a0 + a2}));} else {const {x: a3, y: a4, width: a5, height: a6} = R["getBounds"](), a7 = I[qQ(1635, "9Bou")]["getDisplayNearestPoint"]({"x": a3,"y": a4}), a8 = I["screen"]["getDisplayNearestPoint"]({"x": a3,"y": a4 + a6}), a9 = I["screen"][qQ(675, "nmd9")]({"x": a3 + a5,"y": a4}), aa = I["screen"]["getDisplayNearestPoint"]({"x": a3 + a5,"y": a4 + a6});(a7["id"] !== U["id"] || a8["id"] !== V["id"] || a9["id"] !== W["id"] || aa["id"] !== X["id"]) && R["setResizable"](![]);}});if (M["IS_MAC"]) {if ("GPYqq" !== "ZtJgG") R["on"]("will-resize", Z => {h["ZLmRY"](Date["now"]() - Y, 200) && Z["preventDefault"]();}); else return (this["log"]["info"]("Request quit-app"), k?.["query"]?.["hashCode"] === this["configService"][qR(889, "uaSA")] && !this["configService"]["isAppQuited"] ? (o["app"]["quit"](), q["status"](200)["send"]({"code": 0,"message": "ok"})) : (this["log"]["info"]("Request quit-app error!"), r[qR(1705, "Li1q")](401)["send"]({"code": 1,"message": "err"})));}(R["on"](qR(1610, "y^Oh"), () => {(T = null, this["setWindowResizable"](R, S), Y = Date["now"]());}), R["on"]("show", () => {this["setWindowResizable"](R, S);}));}["setWindowResizable"](R, {minWidth: S, minHeight: T} = {}) {var qS = qz, U = {"nWWVL": function (V, W) {return V(W);}};if ("XCNRx" === "ryiDP") (U["nWWVL"](k, this[qS(2121, "TZU2")]["timeoutOfAppSleep"]), this["log"]["info"]("Start app sleep timer! (" + l + "ms)"), this["configService"]["timeoutOfAppSleep"] = m(() => this["makeBiliAppSleep"](), n)); else {R["setResizable"](!![]);if (M["IS_WIN"]) {if ("caZdG" !== "caZdG") {if (!this["configService"]["isPrivacyPolicyAccepted"]) return ![];if (this["configService"]["checkIsAppForceUpdate"]()) return ![];return !![];} else {if (S && T) {const {mainWindow: X, isMainWindowMini: Y} = this["configService"];(R["id"] === X?.["id"] && Y && (S = M["MINI_MAIN_WINDOW"]["minWidth"], T = M["MINI_MAIN_WINDOW"]["minHeight"]), R["setMinimumSize"](S, T));}}}}}[qz(1164, "YUg@")](R) {var S = {"HhyVN": function (T, U) {return T > U;}};if ("eFkfr" === "eFkfr") {let T = 0;R["webContents"]["on"](h["lLqfg"], async (U, V, W, X, Y) => {(this["log"]["error"]("Window failed to load: " + W + " (Error code: " + V + ", url: " + X + "))"), Y && V === -401 && S["HhyVN"](Date["now"]() - T, 10000) && (T = Date["now"](), R["webContents"]["session"]["clearCache"]()["then"](() => R["webContents"]["reload"]())));});} else this["eventsService"]["emitReceiveNewMessages"](h);}["registerMainWindowEvent"]() {const R = this["configService"]["mainWindow"];(R["on"]("show", () => {if (M["IS_WIN"] && R["isMaximized"]()) {const {x: S, y: T, width: U} = R["getBounds"](), V = I["screen"]["getDisplayNearestPoint"]({"x": S,"y": T});V["size"]["width"] - U > 50 && (R["unmaximize"](), setTimeout(() => R["maximize"]()));}(this["configService"]["isHideByBossShortcut"] && this["exitBossShortcutHide"](), this["handleMainWindowShow"]());}), R["on"]("focus", () => {if (this["configService"]["isAppQuited"]) return;const S = Date["now"](), T = this["storeService"]["getUserInfo"]();T["isLogin"] && S - this["refreshUserInfoTime"] >= 300000 && (this["refreshUserInfoTime"] = S, this["authService"]["refreshUserInfo"]());}), !this["utilsService"]["isWindowHide"](R) && this["handleMainWindowShow"](), this["handleWindowFailLoadEvent"](R));}["handleMainWindowShow"]() {var qT = qz;!this["configService"]["isMainWindowShowed"] && (this["configService"]["isMainWindowShowed"] = !![], this["configService"]["isOpenedByLocalVido"] = ![], this["configService"][qT(1740, "NxR(")]["next"]());}["handleMainWindowClose"]() {var qU = qz;(this[qU(2053, "V[Zi")][qU(949, "qbG4")]("Main window closed!"), this["configService"]["mainWindow"]["hide"](), this["configService"]["mainWindow"]["isHidden"] = !![], this["eventsService"]["emitWindowClosed"]());if (this["configService"]["isGamepadEnabled"]) {const [R, S, T, U] = this["systemService"]["getGamepadWindowAndViews"]();(this["utilsService"]["isWindowHide"](T) || !T["isFocused"]()) && (this["utilsService"]["isWindowHide"](U) || !U["isFocused"]()) && ("FPGVR" === qU(739, "kdon") ? !this["utilsService"]["isWindowHide"](S) && this["configService"]["playerWindow"]["focus"]() : !this["loadingListMap"][l["cid"]] && (this["loadingListMap"][r["cid"]] = {"item": t,"updateTime": u["now"](),"reportTime": w["now"]()}));}}["handleStartupTimeline"]() {var qV = qz;if (!this["configService"]["isAppSlept"]) {const R = {"appReadyTime": global["appReadyTime"] - global["biliAppInitTime"],"splashReadyTime": global["splashReadyTime"] - global["biliAppInitTime"],"decryptedTime": global["decriptedTime"] - global["biliAppInitTime"],"bootstrapTime": global["bootstrapTime"] - global["biliAppInitTime"],"runCodeTime": global[qV(1167, "^M%9")] - global[qV(1015, "43KF")],"runCodeEndTime": global["runCodeTime"] - global["biliAppInitTime"],"mainWindowReady": global[qV(1554, "FoL8")] - global["biliAppInitTime"]};(this["log"]["info"]("Startup timeline: ", JSON["stringify"](R)), this["reportService"]["reportAppLaunchTiming"](R));if (process["env"]["PERFORMANCE_TEST"]) {const S = (0, K["resolve"])(process["cwd"](), "data.json");let T = [];if ((0, L["existsSync"])(S)) try {T = JSON["parse"]((0, L["readFileSync"])(S, "utf-8"));} catch (U) {this["log"]["error"]("读取现有数据失败:", U);}(T["push"]({"timestamp": Date["now"](),"metrics": R}), (0, L["writeFileSync"])(S, JSON["stringify"](T, null, 2)));}}}["registerPlayerWindowEvent"]() {const R = this["configService"]["playerWindow"];(R["on"]("show", () => {(R["setSkipTaskbar"](![]), this["configService"]["isHideByBossShortcut"] && this["exitBossShortcutHide"](), this["eventsService"]["emitPlayerWindowVisibleChange"](!![]), this["configService"]["playingWinStatusChange$"]["next"]());}), R["on"]("hide", () => {R["setSkipTaskbar"](!![]);}), R["on"]("focus", () => {this["configService"]["isPlayerWindowPined"] && R["setAlwaysOnTop"](!![], "normal", 9999);}), R["on"]("will-resize", (S, {width: T, height: U}) => {const {minWidth: V, minHeight: W} = M["MINI_PLAYER_WINDOW"];if (h["HRaZw"](T, V) || U < W) S["preventDefault"]();}), this["handleWindowFailLoadEvent"](R));}["handlePlayerWindowClose"]() {var qW = qz;(this["log"][qW(2116, "mnQ[")]("Player window closed!"), this["configService"]["playerWindow"][qW(2062, "1x5q")](), this["configService"]["playerWindow"]["isHidden"] = !![], this["configService"][qW(1831, "qbG4")]["next"](), this["eventsService"]["emitPlayerWindowVisibleChange"](![]));M["IS_WIN"] && this[qW(1563, "VFZK")]["playerWindow"]["isMaximized"]() && (!this["utilsService"]["isWindowHide"](this["configService"]["mainWindow"]) && this["configService"]["mainWindow"]["focus"]());if (this["configService"]["isGamepadEnabled"]) {const [R, S, T, U] = this["systemService"]["getGamepadWindowAndViews"]();(this["utilsService"]["isWindowHide"](T) || !T["isFocused"]()) && (this["utilsService"]["isWindowHide"](U) || !U["isFocused"]()) && this["configService"]["mainWindow"]["focus"]();}this["eventsService"]["emitWindowClosed"]();}["registerUniversalWindowEvents"]() {var qX = qz, R = {"aVzVV": function (S, T) {return S !== T;}};if (qX(1215, "9Bou") !== "KyMKF") {const {universalWindow: S, universalView: T, universalGpView: U} = this["configService"];(this["handelUniversalWindowResize"](S, T, U), S["on"]("resize", () => this["handelUniversalWindowResize"](S, T, U)), S["on"](qX(1837, "kdon"), () => {(this["reportService"]["reportCloseUniversalWindow"]({"url": T["webContents"]["getURL"]()}), T["webContents"]["executeJavaScript"](";[].forEach.call(document.querySelectorAll('video'), video => video.pause());location.href = 'about:blank';"));try {;T["webContents"]["close"]();} catch (V) {}try {;T["webContents"]["destroy"]();} catch (W) {}try {;U["webContents"]["close"]();} catch (X) {}try {;U["webContents"]["destroy"]();} catch (Y) {}(this["configService"]["universalView"] = null, this["configService"]["universalGpView"] = null, this["eventsService"]["emitUniversalVisibleChange"](![]));}), S["on"](h["bRxrf"], () => {this["handelUniversalWindowResize"](S, T, U);}), S["on"]("leave-full-screen", () => {this["handelUniversalWindowResize"](S, T, U);}), S["webContents"]["on"]("dom-ready", () => {var qY = qX;(S["show"](), this["eventsService"][qY(1245, "EcL6")](!![]));}), this[qX(881, "Locc")](S), T["webContents"]["on"]("will-navigate", (V, W) => {this["handleUniversalViewNavigate"](V, W);}), T["webContents"]["on"]("will-redirect", (V, W) => {this["handleUniversalViewNavigate"](V, W);}), T["webContents"]["setWindowOpenHandler"](({url: V}) => {return (T["webContents"]["loadURL"](V), {"action": "deny"});}), T["webContents"]["on"]("did-finish-load", () => {(this["setUniversalParams"](), this["handleUniversalViewPageLoad"](), this["insertCodeToUniversalWindow"]());}), T[qX(2189, "jubI")]["on"]("did-navigate", () => {(this["setUniversalParams"](), this["insertCodeToUniversalWindow"](), this["handleUniversalViewPageLoad"]());}), T["webContents"]["on"]("did-navigate-in-page", () => {(this["setUniversalParams"](), this["insertCodeToUniversalWindow"](), this["handleUniversalViewPageLoad"]());}), T["webContents"]["on"]("page-title-updated", () => this["setUniversalParams"]()), T["webContents"]["on"](qX(1687, "^M%9"), (V, W, ...X) => {this["log"]["info"]("Universal view load failed", W, X);if (W === -3) return;(this["setUniversalParams"]({"isFail": !![]}), S["removeBrowserView"](T));}), T["webContents"]["session"]["setPermissionRequestHandler"]((V, W, X) => {X(R["aVzVV"](W, "media"));}), T["webContents"]["session"][qX(2090, "nmd9")](h["rSosu"], this["handleUniversalDownload"]), T["webContents"][qX(282, "qbG4")]["on"]("will-download", this["handleUniversalDownload"]));} else (h[qX(775, "Mqcd")][qX(1043, "y^Oh")](this["powerSaveBlockerId"]), this["powerSaveBlockerId"] = null);}["checkUniversalView"]() {var qZ = qz;const {universalWindow: R, universalView: S, universalGpView: T} = this["configService"], U = R["getBrowserViews"]();if (U["every"](V => V["webContents"]["id"] !== S?.["webContents"]?.["id"])) {if ("veFZt" !== "eyDbz") (this["setUniversalParams"]({"isFail": ![]}), R[qZ(1518, "!v[t")](S), this["handelUniversalWindowResize"](R, S, T)); else {const {x: W, y: X} = this["biliPetWinState"], {isDevBiliPetWindow: Y} = this["configService"]["customConfig"], Z = new m["BrowserWindow"]({"x": W,"y": X,"width": n,"height": o,"minimizable": ![],"maximizable": ![],"skipTaskbar": !![],"hasShadow": ![],"fullscreenable": ![],"roundedCorners": ![],"frame": ![],"alwaysOnTop": !![],...Y ? {"resizable": !![],"transparent": ![]} : {"resizable": ![],"transparent": !![]},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"](!![])}});(this["configService"]["biliPetWindow"] = Z, this["configService"]["isBiliPetWindowPined"] = !![], this["eventsService"]["emitBiliPetVisibleChange"](!![]));if (q["IS_MAC"]) {const a0 = u("@bilibili/mission-control");a0["setTransientBehavior"](Z["getNativeWindowHandle"]());}(Z["setIgnoreMouseEvents"](!![], {"forward": !![]}), Z["setAlwaysOnTop"](!![], "normal", 999999), Z["setVisibleOnAllWorkspaces"](!![]), Z[qZ(542, "X%9J")]["setUserAgent"](t[qZ(1832, "qfnC")]), Z["loadURL"](this[qZ(1382, "X%9J")]), Z["removeMenu"](), this["biliPetWinState"]["manage"](Z), this["windowEvents"]["catchCertVerifyError"](Z), this["windowEvents"]["registerBiliPetWindowEvent"](), this["windowEvents"]["registerWindowEvents"](Z, "biliPetWindow"), this["windowEvents"]["catchLinkAndWindowOpen"](Z));}}}["handleUniversalViewNavigate"](R, S) {var r0 = qz;if (S["match"](/\.(xsl|xslt|svg|xml)(\?.*)?$/i)) {(R["preventDefault"](), this["setUniversalParams"]({"isFail": !![],"url": "error","title": "error"}), this[r0(1324, "ry$4")]["universalWindow"]["removeBrowserView"](this[r0(2121, "TZU2")]["universalView"]));return;} else this["setUniversalParams"]({"isFail": ![]});if (N["INTERCEPT_LOGIN_URLS"]["some"](T => T["test"](S))) {const T = this["storeService"]["getUserInfo"]();!T[r0(581, "qbG4")] && (R["preventDefault"](), this["configService"]["requestPopLoginWindow$"]["next"](), this["reportService"]["reportLoginFrom"](h["OKwIA"]));}}[qz(1150, "Mqcd")]() {var r1 = qz;const {universalView: R} = this["configService"];(R["webContents"]["session"]["webRequest"][r1(1498, "gUtk")]((S, T) => {if (!S["url"]["includes"]("bilipc") && S["webContentsId"] === R["webContents"]?.["id"] && (S["url"]["startsWith"]("file") || S["url"]["match"](/\.xslt?/i))) {T({"cancel": !![]});return;}T({"cancel": ![]});}), R["webContents"]["session"]["webRequest"]["onCompleted"]({"urls": N["WEB_REQUEST_FILTER"]}, S => {var r2 = r1;"BQDaA" === r2(1641, "w$r8") ? !this["configService"]["isReportStatusInited"] && i["status"] === 200 && (this["configService"]["isReportStatusInited"] = !![], k({"reportSuccess": !![]})) : S["url"][r2(2082, "8gI1")](N["WEB_REQUEST_LOGOUT"]) && this[r2(386, "NxR(")]["handleUserLogout"]();}));}["handelUniversalWindowResize"](R, S, T) {const {width: U, height: V} = R["getBounds"]();(R["isFullScreen"]() ? S["setBounds"]({"x": 0,"y": 0,"width": U,"height": V}) : S["setBounds"]({"x": 0,"y": 48,"width": U,"height": V - 48}), this["utilsService"]["centerBrowserView"](R, T));}["setUniversalParams"](R) {var r3 = qz;R?.["url"] && (this[r3(1675, "3BTs")]["universalParams"]["url"] = R["url"], this["configService"]["universalParams"]["title"] = R["title"]);typeof R?.["isFail"] === "boolean" && (this["configService"]["universalParams"][r3(1423, "kdon")] = R["isFail"]);const {universalView: S} = this["configService"];S && (this["configService"]["universalParams"]["pageUrl"] = S["webContents"]?.["getURL"](), this["configService"]["universalParams"]["pageTitle"] = S["webContents"]?.["getTitle"](), this["configService"]["universalParams"]["canGoBack"] = S["webContents"]?.["canGoBack"](), this["configService"]["universalParams"]["canGoForward"] = S["webContents"]?.["canGoForward"](), this["eventsService"]["emitUniversalParamsChange"](this["configService"][r3(1890, "gUtk")]));}["insertCodeToUniversalWindow"]() {var r4 = qz;const {universalView: R} = this["configService"];if (!R) return;(R["webContents"]["executeJavaScript"]("\n      if (!window.isPcShortcutAdded) {\n        window.isPcShortcutAdded = true\n        document.addEventListener('keydown', (e) => {\n          if (['INPUT', 'TEXTAREA'].includes(e.target?.tagName)) return\n          if (e.target?.getAttribute('contenteditable') === 'true') return\n          if (/^a$/i.test(e.key)) {\n            window.biliBridgePc?.callNative('window/openMainWindow')\n            return\n          }\n        })\n      }\n    "), R["webContents"]["insertCSS"]("\n      #biliMainHeader,\n      #bili-header-container,\n      .bili-header:not(.large-header),\n      .bili-header:not(.large-header) .bili-header__bar,\n      #internationalHeader,\n      .z-top-container,\n      .bili-footer,\n      .international-footer {\n        display: none !important;\n      }\n    "));const S = this["configService"]["injectCodeConfig"]?.["codes"] || [];S[r4(686, "9Bou")] && S["forEach"](T => {var r5 = r4;T[r5(1706, "X%9J")] && this["configService"]["universalParams"]["pageUrl"][r5(627, "gUtk")](new RegExp(T["url"] || "")) && (T["css"] && R["webContents"]["insertCSS"](T["css"]), T["js"] && R["webContents"]["executeJavaScript"](T["js"]));});}["handleUniversalViewPageLoad"]() {var r6 = qz;const {universalView: R} = this["configService"];if (!R) return;const S = R["webContents"]?.["getURL"]();if (S) {const T = S["match"](/bilibili.com\/video\/av(\d+)/i)?.[1], U = S["match"](/bilibili.com\/video\/(BV\w+)/i)?.[1], V = S["match"](/bilibili.com\/bangumi\/(?:play|media)\/ep(\d+)/i)?.[1], W = S["match"](/bilibili.com\/bangumi\/(?:play|media)\/ss(\d+)/i)?.[1], X = S["match"](/live.bilibili.com\/(\d+)/i)?.[1];if (!T && !U && !V && !W && !X) {R["webContents"]["executeJavaScript"](r6(1794, "UmJ6"));return;}R["webContents"]["executeJavaScript"](";(() => {\n            let toast = document.getElementById('bilipc-toast')\n            let text, link, close, isInited\n            if (toast) {\n              text = toast.querySelector('.toast-text')\n              link = toast.querySelector('.toast-link')\n              close = toast.querySelector('.toast-close')\n              isInited = true\n            } else {\n              text = document.createElement('span')\n              link = document.createElement('a')\n              close = document.createElement('span')\n              text.className = 'toast-text'\n              text.innerText = '" + (X ? r6(1870, "Qd![") : "在播放窗口") + "'\n              link.className = 'toast-link'\n              link.innerText = '打开'\n              close.className = 'toast-close'\n              toast = document.createElement('div')\n              toast.id = 'bilipc-toast'\n              toast.appendChild(text)\n              toast.appendChild(link)\n              toast.appendChild(close)\n              document.body.appendChild(toast)\n              link.addEventListener('click', () => {\n                // 暂停视频或直播播放\n                ;[].forEach.call(document.querySelectorAll('video'), video => video.pause())\n                ;[].forEach.call(document.querySelectorAll('iframe'), iframe => {\n                  try {\n                    const videos = iframe.contentDocument?.querySelectorAll('video')\n                    if (videos?.length) [].forEach.call(videos, video => video.pause())\n                  } finally {}\n                })\n                const { ptype, vtype, id } = link.dataset\n                if (ptype === 'ugc' || ptype === 'ogv') {\n                  // 打开播放窗口\n                  window.biliBridgePc?.callNative('window/openPlayerWindow', {\n                    type: ptype,\n                    [vtype]: id,\n                    fromSpmid: 'main.browser.0.0.pv',\n                  })\n                } else if (vtype === 'roomId') {\n                  // 打开直播窗口\n                  window.biliBridgePc?.callNative('window/openLiveRoomWindow', id)\n                }\n                toast.style.display = 'none'\n              })\n              close.addEventListener('click', () => {\n                toast.style.display = 'none'\n              })\n            }\n            link.dataset.id = '" + (T || U || V || W || X) + "'\n            const vtype = '" + (T ? "aid" : U ? "bvid" : V ? "epid" : W ? "seasonId" : X ? "roomId" : "") + "'\n            link.dataset.vtype = vtype\n            const ptype = '" + (T || U ? "ugc" : V || W ? "ogv" : "") + "'\n            if (link.dataset.ptype !== ptype) {\n              link.dataset.ptype = ptype\n              toast.style.display = 'flex'\n            }\n            return isInited\n          })()")["then"](Y => {!Y && R["webContents"]["insertCSS"]("\n              #bilipc-toast {\n                width: 164px;\n                height: 40px;\n                line-height: 40px;\n                position: fixed;\n                z-index: 99999;\n                top: 20px;\n                left: 50%;\n                transform: translateX(-50%);\n                font-size: 14px;\n                color: #fff;\n                text-align: center;\n                background: #1f1f1f;\n                border-radius: 4px;\n                box-shadow: 0 6px 16px 0 rgba(0, 0, 0, 0.08), 0 3px 6px -4px rgba(0, 0, 0, 0.12), 0 9px 28px 8px rgba(0, 0, 0, 0.05);\n                display: none;\n                align-items: center;\n                justify-content: center;\n              }\n              #bilipc-toast .toast-link {\n                margin-left: 4px;\n                color: #D44E7D;\n                cursor: pointer;\n              }\n              #bilipc-toast .toast-close {\n                position: relative;\n                width: 24px;\n                height: 24px;\n                cursor: pointer;\n                transform: scale(0.6);\n                margin-left: 10px;\n                margin-right: -6px;\n              }\n              #bilipc-toast .toast-close::before, #bilipc-toast .toast-close::after {\n                content: '';\n                position: absolute;\n                width: 2px;\n                height: 24px;\n                border-radius: 1px;\n                background: #fff;\n              }\n              #bilipc-toast .toast-close::before {\n                transform: rotate(-45deg);\n              }\n              #bilipc-toast .toast-close::after {\n                transform: rotate(45deg);\n              }\n            ");});}}["registerUploadWindowEvents"]() {var r7 = qz;const {uploadWindow: R, errorPageUrl: S} = this["configService"];(R["webContents"]["on"]("dom-ready", () => R["show"]()), R["webContents"]["on"](h[r7(1246, "VFZK")], () => R[r7(704, "TZU2")][r7(1516, "hGVL")](S)));}["registerBiliPetWindowEvent"]() {var r8 = qz;const R = this[r8(717, "9Bou")]["biliPetWindow"];R["on"](h["YbdeE"], () => this[r8(476, "43KF")][r8(1747, "nNM[")](![]));const S = () => {if (!R || R["isDestroyed"]()) {clearInterval(this["configService"]["intervalOfBiliPetHover"]);return;}const {x: T, y: U, width: V, height: W} = R["getBounds"](), X = I["screen"]["getCursorScreenPoint"]();this["eventsService"]["emitMousePositionChange"]({...X,"winX": T,"winY": U,"winW": V,"winH": W});};(clearInterval(this["configService"]["intervalOfBiliPetHover"]), this["configService"]["intervalOfBiliPetHover"] = setInterval(S, 250));}["registerLiveNowWindowEvents"]() {var r9 = qz;const {liveNowWindow: R, errorPageUrl: S} = this[r9(1792, "Locc")];(R["webContents"]["on"](r9(559, "nwHl"), () => {(R["webContents"]["insertCSS"]("\n        #app { overflow: hidden; }\n        .n-config-provider > main { margin-top: 10px; }\n      "), R["show"]());}), R["webContents"]["on"]("did-fail-load", () => R["webContents"][r9(348, "(]yY")](S)), R["webContents"]["session"]["setDevicePermissionHandler"](() => !![]), R["webContents"][r9(1417, "D0T^")]["setPermissionCheckHandler"](() => !![]), R["webContents"]["session"]["setPermissionRequestHandler"]((T, U, V) => V(!![])));}["registerLiveRoomWindowEvents"]() {var rc = qz;const {liveRoomWindow: R, errorPageUrl: S, liveRoomGpView: T} = this["configService"];let U = 0;(R["webContents"]["on"]("dom-ready", () => R["show"]()), R["webContents"]["on"]("did-fail-load", (V, W, X, Y, Z) => {((Z || Y["includes"]("live.bilibili.com/blanc/")) && R["webContents"]["loadURL"](S), Z && W === -401 && U < 3 && (U++, R["webContents"]["session"]["clearCache"]()["then"](() => R["webContents"]["reload"]())));}), R["webContents"]["on"](h["NYVgl"], () => {var ra = f;if ("adaBB" !== "IkUqT") {const V = this[ra(2285, "FoL8")][ra(2159, "3BTs")]?.[ra(1560, "1iAQ")] || [], W = V["find"](X => X["enable"] && X["url"] === "LiveRoom");if (W) {if (W["css"]) R["webContents"]["insertCSS"](W["css"]);if (W["js"]) R["webContents"][ra(1263, "%AQh")](W["js"]);}} else this["handleUnzipFontZip"](h);}), R["on"]("show", () => {(this["configService"]["isHideByBossShortcut"] && this["exitBossShortcutHide"](), this["eventsService"]["emitLiveRoomWindowVisibleChange"](!![]), this["configService"]["playingWinStatusChange$"]["next"]());}), R["on"]("close", () => this["eventsService"]["emitLiveRoomWindowVisibleChange"](![])), R["on"]("closed", () => {var rb = f;this["configService"]["playingWinStatusChange$"]["next"]();try {;T["webContents"][rb(332, "qbG4")]();} catch (V) {}try {;T["webContents"]["destroy"]();} catch (W) {}this["configService"]["liveRoomGpView"] = null;}), this["utilsService"]["centerBrowserView"](R, T), R["on"](h[rc(1202, "5Oa*")], () => this["utilsService"]["centerBrowserView"](R, T)), R["on"]("enter-full-screen", () => this["utilsService"]["centerBrowserView"](R, T)), R["on"]("leave-full-screen", () => this["utilsService"]["centerBrowserView"](R, T)));}["registerGlobalShortcut"]() {var rd = qz;const R = this[rd(1508, "y^Oh")]["getBossShortcutInfo"]();this["toggleBossShortcut"](R);}["toggleBossShortcut"]({isEnable: R, shortcut: S}) {var re = qz;S = S?.["replace"](/\s/g, "") || "";if (M["IS_WIN"]) S = S[re(813, "h9c@")]("Ctrl", "CommandOrControl");this["bossShortcut"] && I["globalShortcut"]["isRegistered"](this["bossShortcut"]) && ("qxAoW" !== "qxAoW" ? (this["secureStore"]["delete"](i[re(1816, "gUtk")]), this["initCacheKey"](j["AUTH_COOKIES_CACHE"], this["secureStore"])) : (this["log"]["info"]("Unregister old boss shortcut:", this[re(1858, "BDj!")]), I["globalShortcut"]["unregister"](this["bossShortcut"])));if (!S) return;if (R) {(this["bossShortcut"] = S, this["log"]["info"]("Register boss shortcut:", S));const U = I["globalShortcut"][re(1622, "YUg@")](S, () => this["handBossShortcutEvent"]());this["log"]["info"]("Is boss shortcut registered:", U);} else {if (I["globalShortcut"]["isRegistered"](S)) I["globalShortcut"]["unregister"](S);}}["handBossShortcutEvent"]() {var rf = qz;const {isAppSleeping: R, wakeUpBiliApp$: S, mainWindow: T, playerWindow: U, liveRoomWindow: V} = this["configService"];if (R) {S["next"]();return;}const W = T["isVisible"](), X = U["isVisible"](), Y = V && !V["isDestroyed"]() && V["isVisible"]();W || Y || X ? (this[rf(1552, "!v[t")]["isHideByBossShortcut"] = !![], W && (T["hide"](), T["emit"]("hide"), this["isMainWindowOpened"] = !![]), Y && (V["hide"](), V["emit"]("hide"), this["isLiveRoomWindowOpened"] = !![]), X && ("ZfBAN" === "ZfBAN" ? (U["hide"](), U["emit"]("hide"), this["isPlayerWindowOpened"] = !![]) : this["report"]({"type": "SYSTEM","spm_id": "app.active.themeChange.sys"}, {"msg": i["stringify"]({"theme": j})})), M["IS_WIN"] && this["trayMenuService"]["destoryApplicationTray"](), this["eventsService"]["emitHideByBossShortcut"](), this["reportService"]["reportBossShortcut"](!![])) : this["exitBossShortcutHide"]();}["exitBossShortcutHide"]() {var rg = qz;this["configService"]["isHideByBossShortcut"] = ![];const {mainWindow: R, liveRoomWindow: S, playerWindow: T} = this["configService"];if (this["isMainWindowOpened"] || this["isPlayerWindowOpened"] || this["isLiveRoomWindowOpened"]) {if (this["isMainWindowOpened"]) {if ("WpdtL" !== "WpdtL") {if (this["configService"]["isAppQuited"]) return;(this["log"]["info"]("Restart app!"), k["IS_DEV"] && ((0, o["removeLocalServer"])(), q["app"]["quit"](), r(() => this["fetchService"]["getRestartApp"](), 1000)));} else (this["isMainWindowOpened"] = ![], R[rg(1327, "Li1q")]());}(this["isLiveRoomWindowOpened"] && (this["isLiveRoomWindowOpened"] = ![], S?.["show"]()), this["isPlayerWindowOpened"] && (this[rg(1024, "D0T^")] = ![], T["show"](), this["eventsService"]["emitPlayerWindowRecover"]()));} else this["configService"]["forcusMainWindow$"]["next"]();(this["trayMenuService"]["createApplicationTray"](), this["eventsService"]["emitShowByBossShortcut"](), this["reportService"]["reportBossShortcut"](![]));}};(P = i([(0, u["Injectable"])(), j("design:paramtypes", [typeof (k = typeof z["ConfigService"] !== "undefined" && z["ConfigService"]) === qz(948, "YUg@") ? k : Object, typeof (l = typeof A["AuthService"] !== "undefined" && A["AuthService"]) === "function" ? l : Object, typeof (m = typeof B["SystemService"] !== qz(2008, "qfnC") && B["SystemService"]) === qz(1652, "!v[t") ? m : Object, typeof (n = typeof C["EventsService"] !== qz(1957, "qbG4") && C["EventsService"]) === "function" ? n : Object, h["SPsSv"](typeof (o = typeof D["ReportService"] !== "undefined" && D["ReportService"]), "function") ? o : Object, typeof (q = typeof E[qz(526, "1iAQ")] !== "undefined" && E["StoreService"]) === "function" ? q : Object, typeof (r = typeof F["TrayMenuService"] !== "undefined" && F["TrayMenuService"]) === "function" ? r : Object, typeof (t = typeof G["UtilsService"] !== "undefined" && G["UtilsService"]) === "function" ? t : Object])], P), g["WindowEvents"] = P);}}), iM = bV({""(g) {"use strict";var rh = f, h = {"eBEKS": function (M, N) {return M < N;},"aITCh": function (M, N, O) {return M(N, O);},"otrDy": rh(524, "YUg@"),"oHDHy": "bili-inject.js","KpZfX": function (M, N, O) {return M(N, O);},"XFhla": "configService","jCYRu": "windowEvents","YVfZo": function (M, N, O) {return M(N, O);},"QbdHL": "miniMainWinState","NLGAn": "appLogWindowState","hPTwy": function (M, N, O, P) {return M(N, O, P);},"bCAec": rh(410, "1iAQ"),"SNnan": "hidden","sHZeO": rh(1341, "JypK"),"vglhb": "universalWindow","zfxVl": function (M, N) {return M(N);},"QDudd": "@bilibili/mission-control","FSOWB": "Upload window created!","AGIWe": function (M, N) {return M(N);},"fTKbo": "undefined","tBENE": function (M, N) {return M !== N;},"lQRfr": "function"};var i = g && g[rh(1996, "mnQ[")] || (function (M, N, O, P) {var ri = rh, Q = arguments[ri(1171, "8gI1")], R = h["eBEKS"](Q, 3) ? N : P === null ? P = Object[ri(1692, "(3!I")](N, O) : P, S;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") R = Reflect["decorate"](M, N, O, P); else {for (var T = M["length"] - 1; T >= 0; T--) if (S = M[T]) R = (Q < 3 ? S(R) : Q > 3 ? S(N, O, R) : h["aITCh"](S, N, O)) || R;}return (Q > 3 && R && Object["defineProperty"](N, O, R), R);}), j = g && g["__metadata"] || (function (M, N) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](M, N);}), k = g && g["__importDefault"] || (function (M) {return M && M["__esModule"] ? M : {"default": M};}), l, m, n, o, q, r;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["WindowFactory"] = void 0);var t = require("@nestjs/common"), u = (fM(), c0(fI)), w = gl(), z = hT(), A = gq(), B = ig(), C = iL(), D = ih(), E = require("@bilibili/b-utils-core"), F = (dh(), c0(dg)), G = (cE(), c0(cv)), H = require("electron"), I = require("path"), J = k(h["AGIWe"](require, "url-parse")), K = (fy(), c0(fx)), L = class M extends u["BaseService"] {constructor(N, O, P, Q, R, S) {var rj = rh;(super("WindowFactory"), h["KpZfX"](c1, this, h["XFhla"]), h["KpZfX"](c1, this, "storeService"), c1(this, h["jCYRu"]), c1(this, "eventsService"), h["YVfZo"](c1, this, "reportService"), c1(this, "utilsService"), c1(this, "mainWindowState"), c1(this, h["QbdHL"]), c1(this, "playerWindowState"), c1(this, "miniPlayerState"), c1(this, "loginWindowState"), c1(this, "uploadWindowState"), c1(this, "liveNowWindowState"), c1(this, "liveRoomWindowState"), c1(this, "universalWindowState"), c1(this, "biliPetWinState"), c1(this, h["NLGAn"]), c1(this, "demoWindowState"), c1(this, "isOnCreatingMain", ![]), c1(this, "isInitPlayerWindowFirst", ![]), h["hPTwy"](c1, this, "mainUrl", K["LOCAL_FILE_HOST"] + "/index.html"), c1(this, "playerUrl", K["LOCAL_FILE_HOST"] + "/player.html"), h["hPTwy"](c1, this, rj(1979, "JO9c"), K["LOCAL_FILE_HOST"] + "/applog.html"), h[rj(892, "LCu@")](c1, this, h["bCAec"], K["RENDER_FILE_BASE"] + "/login.html"), c1(this, "universalWindowUrl", K["LOCAL_FILE_HOST"] + "/universal.html"), c1(this, "gamepadViewUrl", K["LOCAL_FILE_HOST"] + "/tracker.html"), c1(this, "biliPetUrl", K["LOCAL_FILE_HOST"] + "/bilipet.html"), c1(this, rj(359, "kdon"), (T = ![]) => {return {"nodeIntegration": !![],"devTools": this["configService"]["isDevMode"],"preload": (0, I["join"])(__dirname, "assets/" + (T ? h["otrDy"] : h["oHDHy"])),...global["runtimeConf"]["exWebPreferences"]};}), this["configService"] = N, this["storeService"] = O, this["windowEvents"] = P, this["eventsService"] = Q, this[rj(1074, "JO9c")] = R, this["utilsService"] = S, this["configService"]["appReady$"]["subscribe"](() => {this["initWindowsState"]();}), this["configService"]["createDefaultWindows$"]["subscribe"](() => {this["createDefaultWindows"]();}), this["configService"]["requestPopLoginWindow$"]["subscribe"](() => {var rk = rj;(this["reportService"]["reportLoginFrom"](rk(1743, "w$r8")), this["createOrFocusLoginWindow"]());}), this[rj(1967, "kdon")]["userLoginChange$"]["subscribe"](() => {this["configService"]["universalView"] && this["configService"]["universalView"]["webContents"]["reload"]();}));}["initWindowsState"]() {var rl = rh;(this["mainWindowState"] = new F["WinStateKeeper"](this["storeService"], K["MAIN_WINDOW"]), this[rl(2203, "B4nF")] = new F["WinStateKeeper"](this["storeService"], K["MINI_MAIN_WINDOW"]), this["playerWindowState"] = new F["WinStateKeeper"](this["storeService"], K[rl(1421, "YUg@")]), this["miniPlayerState"] = new F["WinStateKeeper"](this["storeService"], K["MINI_PLAYER_WINDOW"]), this["loginWindowState"] = new F["WinStateKeeper"](this[rl(2294, "qfnC")], K["LOGIN_WINDOW"]), this["uploadWindowState"] = new F["WinStateKeeper"](this["storeService"], K["UPLOAD_WINDOW"]), this["liveNowWindowState"] = new F["WinStateKeeper"](this["storeService"], K[rl(1656, "KdL&")]), this["liveRoomWindowState"] = new F["WinStateKeeper"](this["storeService"], K["LIVE_ROOM_WINDOW"]), this["universalWindowState"] = new F["WinStateKeeper"](this["storeService"], K["UNIVERSAL_WINDOW"]), this["appLogWindowState"] = new F["WinStateKeeper"](this["storeService"], K["APPLOG_WINDOW"]), this["biliPetWinState"] = new F["WinStateKeeper"](this["storeService"], K[rl(2167, "VFZK")]), this["demoWindowState"] = new F["WinStateKeeper"](this["storeService"], K["DEMO_WINDOW"]));}["createDefaultWindows"]() {var rm = rh;const {isInitPlayerWinFirst: N} = this["configService"];(this["configService"]["isInitPlayerWinFirst"] = ![], N && (this[rm(1056, "X%9J")]["info"]("Init player first."), this[rm(1654, "Mqcd")](N)), this["createOrFocusMainWindow"](N));}["createOrFocusMainWindow"](N = ![]) {var rn = rh;if (this["isOnCreatingMain"]) return;const {mainWindow: O} = this["configService"];if (O && !O[rn(1784, "!L3p")]()) O["show"](); else {(this["isInitPlayerWindowFirst"] = N, this["isOnCreatingMain"] = !![], this["configService"]["isMainWindowReady"] = ![], this["configService"]["isMainWindowShowed"] = ![], this["configService"]["isSplashWindowReady"] = ![]);let P = global[rn(2111, "y^Oh")];if (!P || P["isDestroyed"]()) {const {x: Q, y: R, width: S, height: T} = this["mainWindowState"], {minWidth: U, minHeight: V} = K["MAIN_WINDOW"];(P = new H["BrowserWindow"]({"x": Q,"y": R,"width": S,"height": T,"minWidth": U,"minHeight": V,"show": ![],"titleBarStyle": "hidden","autoHideMenuBar": !![],"alwaysOnTop": !![],"fullscreenable": ![],"trafficLightPosition": {"x": 5,"y": 5},...K["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webviewTag": !![],"webSecurity": ![],...this[rn(2173, "!L3p")](!![])}}), global["mainWindow"] = P, P["removeMenu"](), P["isHidden"] = !![]);const W = this["storeService"]["getIsSelectedFirst"](), X = this["storeService"]["getIsSelectedExit"]();(P["loadURL"]("" + this["mainUrl"] + (W || X ? rn(995, "VFZK") : "")), this["windowEvents"]["catchCertVerifyError"](P));}(this["configService"]["mainWindow"] = P, P["webContents"]["setUserAgent"](K["DEFAULT_USER_AGENT"]));!N && P["webContents"]["once"]("dom-ready", () => P["show"]());(this["mainWindowState"]["manage"](P, N), this["windowEvents"]["registerMainWindowEvent"](), this["windowEvents"]["registerAppSleepEvent"](P), this[rn(698, "EcL6")]["registerWindowResizeEvt"](P, K["MAIN_WINDOW"]), this["windowEvents"]["registerWindowFocusBlur"](P, rn(1647, "kdon")), this["windowEvents"]["registerWindowEvents"](P, "mainWindow", Y => {var ro = rn;(Y[ro(1141, "43KF")](), this["windowEvents"]["handleMainWindowClose"]());}), this["windowEvents"]["catchLinkAndWindowOpen"](P, "mainWindow"), this["windowEvents"]["catchWebviewLinkAndWindowOpen"](P, "mainWindow", !![]), this["log"]["info"]("Main window created!"));if (!global["runCodeTime"]) global["runCodeTime"] = Date["now"]();this["configService"]["mainWindowEventsReady$"]["next"](!![]);}}["createOrFocusPlayerWindow"](N = ![]) {var rp = rh;const {playerWindow: O, openPlayerParams: P} = this["configService"], Q = this["storeService"]["getIsMiniPlayerWindow"](), R = Q ? this["miniPlayerState"] : this[rp(1199, "mnQ[")];let S = ![];if (O && !O[rp(1999, "(]yY")]()) (S = this["utilsService"]["isWindowHide"](O), P && (O["show"](), !O["isAlwaysOnTop"]() && (O["setAlwaysOnTop"](!![], "normal", 9999), setTimeout(() => O["setAlwaysOnTop"](![]))), R["checkWindowStatus"]())); else {S = !![];const {minWidth: T, minHeight: U} = Q ? K["MINI_PLAYER_WINDOW"] : K["PLAYER_WINDOW"], {x: V, y: W, width: X, height: Y} = R, Z = new H["BrowserWindow"]({"x": V,"y": W,"width": X,"height": Y,"minWidth": T,"minHeight": U,"show": ![],"darkTheme": !![],"autoHideMenuBar": !![],"titleBarStyle": "hidden","fullscreenable": ![],"trafficLightPosition": {"x": 12,"y": 16},"backgroundColor": "#000000",...K[rp(1296, "JO9c")] ? {"resizable": ![]} : {},"webPreferences": {"webviewTag": !![],"webSecurity": ![],...this["getCommonWebPreference"](!![])}});(Z["isHidden"] = !![], this["configService"]["playerWindow"] = Z, Z["webContents"]["setUserAgent"](K[rp(2112, "jubI")]), Z["loadURL"](this["playerUrl"] + "?" + (0, E["stringifyQueryString"])(P)), Z["removeMenu"](), N && ("SQDqx" !== "SQDqx" ? this["log"]["error"]("Chmod ffmpeg error", this["getErrStack"](h)) : Z["once"]("ready-to-show", () => Z["show"]())), R["manage"](Z), this["windowEvents"][rp(2183, "Mqcd")](Z), this["windowEvents"]["registerPlayerWindowEvent"](), this["windowEvents"]["registerAppSleepEvent"](Z), this["windowEvents"]["registerWindowResizeEvt"](Z, K["PLAYER_WINDOW"]), this["windowEvents"]["registerWindowFocusBlur"](Z, "playerWindow"), this["windowEvents"]["registerWindowEvents"](Z, "playerWindow", a1 => {(a1["preventDefault"](), this["windowEvents"]["handlePlayerWindowClose"]());}), this["windowEvents"]["catchLinkAndWindowOpen"](Z, "playerWindow"), this["log"]["info"]("Player window created!"));}this["eventsService"]["emitPlayerParamsChange"]({...P,"isWindowNewOpen": S});}["createOrFocusLiveRoomWindow"](N, O) {var rq = rh;const {liveRoomWindow: P, customConfig: Q} = this["configService"], {liveRoomUrlTpl: R, liveRoomBlancUrl: S} = Q;let T = N, U = R;R && R["match"](/^\d+$/) && (T = R, U = K["LIVE_ROOM_URL_TPL"]);if (S && (!T || +T === -1)) {if ("RULvy" === "RULvy") T = S["match"](/bilibili.com(\/blanc)?\/(\d+)/i)?.[2]; else {const {exp: Z} = this["storeService"][rq(2123, "TZU2")]();return {"playerSrc": this["configService"]["localServer"] + "/player/core.js?id=" + Z?.["id"],"playerExpInfo": Z || ({})};}}const V = U || K["LIVE_ROOM_URL_TPL"], W = V["replace"](/desktop\/xxx/, "desktop/" + (T || N)), X = this["storeService"]["getDataStoreKey"]("LIVE_ROOM_PARAMS");this["storeService"]["dataStore"]["set"](X, O || null);if (P && !P["isDestroyed"]()) (P["show"](), P["loadURL"](W), this["configService"]["windowOpenedUrls"]["liveRoomWindow"] = W); else {const {x: Z, y: a0, width: a1, height: a2} = this["liveRoomWindowState"], {minWidth: a3, minHeight: a4} = K["LIVE_ROOM_WINDOW"], a5 = new H["BrowserWindow"]({"x": Z,"y": a0,"width": a1,"height": a2,"minWidth": a3,"minHeight": a4,"show": ![],"darkTheme": !![],"autoHideMenuBar": !![],"titleBarStyle": h["SNnan"],"trafficLightPosition": {"x": 12,"y": 16},...K["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});a5["isHidden"] = !![];const a6 = new H["BrowserView"]({"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(a5["addBrowserView"](a6), this["configService"]["liveRoomGpView"] = a6, this["configService"]["liveRoomWindow"] = a5, a5["webContents"][rq(512, "UmJ6")](K["DEFAULT_USER_AGENT"]), a5["loadURL"](W), this["configService"]["windowOpenedUrls"]["liveRoomWindow"] = W, a5[rq(317, "Locc")](), a6["setBounds"]({"x": 0,"y": 0,"width": 1,"height": 1}), a6["webContents"]["setUserAgent"](K["DEFAULT_USER_AGENT"]), a6["webContents"]["loadURL"](this["gamepadViewUrl"] + "?win=liveRoom"), this["liveRoomWindowState"]["manage"](a5), this["windowEvents"][rq(326, "qfnC")](), this["windowEvents"]["registerAppSleepEvent"](a5), this["windowEvents"]["registerWindowResizeEvt"](a5, K["LIVE_ROOM_WINDOW"]), this["windowEvents"]["registerWindowFocusBlur"](a5, "liveRoomWindow"), this["windowEvents"]["registerWindowEvents"](a5, "liveRoomWindow", !![]), this["windowEvents"]["catchLinkAndWindowOpen"](a5), this["windowEvents"]["registerClosableWindowEvents"]("liveRoomWindow"), this["log"]["info"](h["sHZeO"]));}this["reportService"]["reportOpenLiveRoomWindow"](N);}["createOrFocusUniversalWindow"](N) {var rr = rh;(this[rr(2211, "ry$4")]["reportOpenUniversalWindow"]({"url": N["url"]}), this["windowEvents"][rr(1250, "Mqcd")](N));const {universalWindow: O, universalView: P} = this[rr(2081, "YUg@")];if (O && !O["isDestroyed"]()) (O["show"](), P["webContents"]["loadURL"](N["url"]), this["windowEvents"]["checkUniversalView"]()); else {let {x: Q, y: R, width: S, height: T} = this["universalWindowState"];const U = H["screen"]["getDisplayNearestPoint"]({"x": Q,"y": R});if (U) {const {width: a1, height: a2} = U["workAreaSize"];if (S > a1) S = a1;if (T > a2) T = a2;}const {minWidth: V, minHeight: W} = K[rr(2228, "gUtk")], X = new H["BrowserWindow"]({"x": Q,"y": R,"width": S,"height": T,"minWidth": V,"minHeight": W,"show": ![],"darkTheme": !![],"titleBarStyle": h["SNnan"],"autoHideMenuBar": !![],"trafficLightPosition": {"x": 12,"y": 16},...K["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webSecurity": ![],"webviewTag": !![],...this["getCommonWebPreference"](!![])}});X["isHidden"] = !![];const Y = new H["BrowserView"]({"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(X["setBrowserView"](Y), this["configService"]["universalView"] = Y);const Z = new H["BrowserView"]({"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(X["addBrowserView"](Z), this["configService"]["universalGpView"] = Z, this["configService"]["universalWindow"] = X);const a0 = (0, K["getUserAgent"])(!![]);(X["webContents"]["setUserAgent"](a0), X["loadURL"](this["universalWindowUrl"]), X["removeMenu"](), Y["webContents"]["setUserAgent"](a0), Y["webContents"]["loadURL"](N["url"]), Z["setBounds"]({"x": 0,"y": 0,"width": 1,"height": 1}), Z["webContents"]["setUserAgent"](a0), Z["webContents"]["loadURL"](this["gamepadViewUrl"] + "?win=universal"), this["universalWindowState"]["manage"](X), this["windowEvents"]["registerUniversalWindowEvents"](), this["windowEvents"]["registerUniversalWindowWebRequests"](), this["windowEvents"]["registerAppSleepEvent"](X), this["windowEvents"]["registerWindowResizeEvt"](X, K["UNIVERSAL_WINDOW"]), this[rr(2174, "hGVL")]["registerWindowFocusBlur"](X, "universalWindow"), this["windowEvents"]["registerWindowEvents"](X, "universalWindow", !![]), this["windowEvents"][rr(323, "3BTs")](h["vglhb"]), this["log"]["info"]("Universal window created!"));}}["createBiliPetWindow"]() {var rs = rh;if (!this["storeService"]["getIsPrivacyPolicyAccepted"]()) return;if (this["configService"]["checkIsAppForceUpdate"](![])) return;if (global["isGpuDisabled"]) return;if (!this["storeService"]["getGeneralConfig"]()["isEnableBiliPet"]) return;const {biliPetWindow: N, isBiliPetWindowPined: O} = this[rs(1567, "nwHl")], {defaultWidth: P, defaultHeight: Q} = K["BILI_PET_WINDOW"];if (N && !N["isDestroyed"]()) (N["show"](), this["eventsService"]["emitResetBiliPetModel"](), this["biliPetWinState"]["checkWindowStatus"](!![]), O && N["setAlwaysOnTop"](!![], "normal", 999999)); else {const {x: R, y: S} = this["biliPetWinState"], {isDevBiliPetWindow: T} = this["configService"]["customConfig"], U = new H["BrowserWindow"]({"x": R,"y": S,"width": P,"height": Q,"minimizable": ![],"maximizable": ![],"skipTaskbar": !![],"hasShadow": ![],"fullscreenable": ![],"roundedCorners": ![],"frame": ![],"alwaysOnTop": !![],...T ? {"resizable": !![],"transparent": ![]} : {"resizable": ![],"transparent": !![]},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"](!![])}});(this["configService"]["biliPetWindow"] = U, this["configService"]["isBiliPetWindowPined"] = !![], this["eventsService"]["emitBiliPetVisibleChange"](!![]));if (K["IS_MAC"]) {if ("xRQBq" !== "WZHgX") {const V = h["zfxVl"](require, h[rs(1173, "UmJ6")]);V["setTransientBehavior"](U["getNativeWindowHandle"]());} else h();}(U["setIgnoreMouseEvents"](!![], {"forward": !![]}), U["setAlwaysOnTop"](!![], "normal", 999999), U["setVisibleOnAllWorkspaces"](!![]), U["webContents"]["setUserAgent"](K["DEFAULT_USER_AGENT"]), U["loadURL"](this["biliPetUrl"]), U["removeMenu"](), this["biliPetWinState"][rs(971, "X%9J")](U), this["windowEvents"][rs(1806, "9Bou")](U), this["windowEvents"]["registerBiliPetWindowEvent"](), this["windowEvents"]["registerWindowEvents"](U, "biliPetWindow"), this["windowEvents"]["catchLinkAndWindowOpen"](U));}}["createOrFocusLoginWindow"]() {var rt = rh;(this["configService"][rt(840, "kdon")]["next"](!![]), this["configService"]["loginWinStatusChange$"]["next"](![]));const {loginWindow: N} = this["configService"], {x: O, y: P} = this["loginWindowState"], {defaultWidth: Q, defaultHeight: R} = K["LOGIN_WINDOW"];if (N && !N["isDestroyed"]()) (N[rt(722, "Ni8i")](), N["setAlwaysOnTop"](!![], "normal", 99999)); else {const S = new H["BrowserWindow"]({"x": O,"y": P,"width": Q,"height": R,"show": ![],"titleBarStyle": "hidden","trafficLightPosition": {"x": 32,"y": 32},"transparent": !![],"darkTheme": ![],"resizable": ![],"maximizable": ![],"fullscreenable": ![],"alwaysOnTop": !![],"hasShadow": ![],"autoHideMenuBar": !![],"webPreferences": {"webviewTag": !![],"webSecurity": ![],...this["getCommonWebPreference"]()}});(S[rt(1651, "VFZK")] = !![], this["configService"]["loginWindow"] = S, S["webContents"]["setUserAgent"](K["DEFAULT_USER_AGENT"]), S["loadFile"](this["loginFile"]), S["removeMenu"](), S["setAlwaysOnTop"](!![], "normal", 99999), this["loginWindowState"]["resetStateToDefault"](), this["loginWindowState"]["manage"](S), this["windowEvents"][rt(1744, "gUtk")](S), this["windowEvents"]["registerClosableWindowEvents"]("loginWindow"), this["windowEvents"]["registerWindowFocusBlur"](S, "loginWindow"), this["windowEvents"]["catchLinkAndWindowOpen"](S), this["windowEvents"]["catchWebviewLinkAndWindowOpen"](S, "loginWindow"), S["webContents"]["on"]("dom-ready", () => {(S["show"](), this["log"]["info"]("Initialize login page!"), S["webContents"]["executeJavaScript"]("initLoginPage('login', '" + K["LOGIN_URL"] + "')"));}), S["on"]("close", () => {const {isOnLoginFetch: T, isHitLoginRisk: U, loginWinStatusChange$: V} = this["configService"];if (!T && !U) V["next"](![]);}), S["on"]("closed", () => {var ru = rt;"oRmaA" !== "oRmaA" ? this["configService"]["appWebviewIds"]["splice"](h, 1) : this[ru(1552, "!v[t")][ru(1120, "1iAQ")]["next"](![]);}), this["log"][rt(762, "3BTs")]("Login window created!"));}}["openLoginRiskWindow"](N) {var rv = rh;if (N && N["width"] && N[rv(2186, "B4nF")] && N["url"]) {this["configService"][rv(1183, "8gI1")][rv(618, "B4nF")](!![]);const {loginWindow: O, loginRiskWindow: P} = this["configService"];this["configService"]["isHitLoginRisk"] = !![];if (O) O["close"]();const {width: Q, height: R, url: S, js: T, css: U} = N, {x: V, y: W} = (0, G["getWindowDefaultState"])({"width": Q,"height": R});if (P && !P["isDestroyed"]()) P["show"](); else {const X = new H["BrowserWindow"]({"x": V,"y": W,"width": Q,"height": R,"show": ![],"titleBarStyle": h["SNnan"],"trafficLightPosition": {"x": 32,"y": 32},"transparent": !![],"darkTheme": ![],"resizable": ![],"maximizable": ![],"fullscreenable": ![],"alwaysOnTop": !![],"hasShadow": ![],"autoHideMenuBar": !![],"webPreferences": {"webviewTag": !![],"webSecurity": ![],...this["getCommonWebPreference"]()}});(X["isHidden"] = !![], this["configService"]["loginRiskWindow"] = X, X["webContents"][rv(1681, "ry$4")](K["DEFAULT_USER_AGENT"]), X[rv(1100, "!L3p")](this["loginFile"]), X["removeMenu"](), this["loginWindowState"]["resetStateToDefault"](), this["windowEvents"]["registerAppSleepEvent"](X), this["windowEvents"]["registerClosableWindowEvents"]("loginRiskWindow"), this["windowEvents"]["registerWindowFocusBlur"](X, rv(436, "hGVL")), this["windowEvents"]["catchLinkAndWindowOpen"](X), this["windowEvents"]["catchWebviewLinkAndWindowOpen"](X, "loginRiskWindow"), X["webContents"]["on"]("dom-ready", () => {(X["show"](), this["log"]["info"]("Initialize login risk page!"), X["webContents"]["executeJavaScript"]("initLoginPage('risk', '" + S + "', `" + T + "`, `" + U + "`)"));}), X["on"]("close", () => {const {isOnLoginFetch: Y, loginWinStatusChange$: Z} = this["configService"];if (!Y) Z["next"](![]);}), X["on"]("closed", () => {var rw = rv;this["configService"][rw(551, "^M%9")]["next"](![]);}), this["log"]["info"]("Risk window created!"));}}}["createOrFocusUploadWindow"]() {var rx = rh;const {uploadWindow: N, customConfig: O} = this["configService"], P = O["uploadPageUrl"] || K["UPLOAD_PAGE_URL"];if (N && !N["isDestroyed"]()) N["show"](); else {const {x: Q, y: R, width: S, height: T} = this["uploadWindowState"], {minWidth: U, minHeight: V} = K["UPLOAD_WINDOW"], W = new H["BrowserWindow"]({"x": Q,"y": R,"width": S,"height": T,"minWidth": U,"minHeight": V,"show": ![],"darkTheme": !![],"fullscreenable": ![],"autoHideMenuBar": !![],"titleBarStyle": "hidden","trafficLightPosition": {"x": 12,"y": 16},...K["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(W["isHidden"] = !![], this["configService"]["uploadWindow"] = W, W["webContents"]["setUserAgent"](K["DEFAULT_USER_AGENT"]), W["loadURL"](P), this["configService"][rx(727, "BDj!")]["uploadWindow"] = P, W["removeMenu"](), this["uploadWindowState"]["manage"](W), this["windowEvents"]["registerUploadWindowEvents"](), this["windowEvents"]["registerAppSleepEvent"](W), this["windowEvents"][rx(629, "ry$4")](W, K["UPLOAD_WINDOW"]), this["windowEvents"]["registerWindowFocusBlur"](W, "uploadWindow"), this["windowEvents"]["registerWindowEvents"](W, "uploadWindow", !![]), this["windowEvents"]["catchLinkAndWindowOpen"](W), this["windowEvents"]["registerClosableWindowEvents"]("uploadWindow"), this["log"]["info"](h[rx(1480, "FoL8")]));}}["createOrFocusLiveNowWindow"]() {var ry = rh;const {liveNowWindow: N, customConfig: O} = this["configService"], P = O["liveNowPageUrl"] || K["LIVE_NOW_PAGE_URL"];if (N && !N["isDestroyed"]()) N["show"](); else {const {x: Q, y: R, width: S, height: T} = this["liveNowWindowState"], {minWidth: U, minHeight: V} = K["LIVE_NOW_WINDOW"], W = new H["BrowserWindow"]({"x": Q,"y": R,"width": S,"height": T,"minWidth": U,"minHeight": V,"show": ![],"darkTheme": !![],"autoHideMenuBar": !![],"titleBarStyle": "hidden","trafficLightPosition": {"x": 12,"y": 16},...K["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(W["isHidden"] = !![], this["configService"]["liveNowWindow"] = W, W["webContents"]["setUserAgent"](K["DEFAULT_USER_AGENT"]), W["loadURL"](P), this["configService"]["windowOpenedUrls"]["liveNowWindow"] = P, W["removeMenu"](), this[ry(547, "TZU2")][ry(2150, "Ni8i")](W), this[ry(1375, "uaSA")][ry(2276, "w$r8")](), this["windowEvents"][ry(558, "!v[t")](W), this["windowEvents"]["registerWindowResizeEvt"](W, K["LIVE_NOW_WINDOW"]), this["windowEvents"]["registerWindowFocusBlur"](W, "liveNowWindow"), this["windowEvents"]["registerWindowEvents"](W, "liveNowWindow", !![]), this["windowEvents"]["catchLinkAndWindowOpen"](W), this["windowEvents"]["registerClosableWindowEvents"]("liveNowWindow"), this["log"]["info"]("Live now window created!"));}}["createOrFocusAppLogWindow"]() {var rz = rh;const {appLogWindow: N} = this["configService"];if (N && !N["isDestroyed"]()) N["show"](); else {const {x: O, y: P, width: Q, height: R} = this["appLogWindowState"], {minWidth: S, minHeight: T} = K["APPLOG_WINDOW"], U = new H["BrowserWindow"]({"x": O,"y": P,"width": Q,"height": R,"minWidth": S,"minHeight": T,"show": ![],"autoHideMenuBar": !![],"alwaysOnTop": !![],"fullscreenable": ![],...K["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(U[rz(1039, "kdon")] = !![], this[rz(1383, "!L3p")][rz(1153, "JO9c")] = U, U["webContents"]["setUserAgent"](K["DEFAULT_USER_AGENT"]), U["loadURL"](this["appLogUrl"]), U["removeMenu"](), this["appLogWindowState"]["manage"](U), this["windowEvents"]["catchCertVerifyError"](U), this[rz(1575, "(]yY")]["registerAppSleepEvent"](U), this["windowEvents"]["registerWindowResizeEvt"](U, K["APPLOG_WINDOW"]), this[rz(747, "B4nF")]["registerWindowFocusBlur"](U, "appLogWindow"), this["windowEvents"]["registerWindowEvents"](U, "appLogWindow"), this["windowEvents"][rz(1923, "(3!I")](U), this["windowEvents"]["registerClosableWindowEvents"]("appLogWindow"), U["webContents"]["on"]("dom-ready", () => {setTimeout(() => {var rA = f;U && !U["isDestroyed"]() && (U[rA(1303, "1iAQ")](), U["setAlwaysOnTop"](![]), this["log"][rA(403, "YUg@")]("AppLog window ready!"));}, 600);}), this["log"]["info"]("AppLog window created!"));}}["createOrFocusTestWindow"]({url: N, minWidth: O, minHeight: P, titleBar: titleBar = ![], innerPage: innerPage = ![]}) {var rB = rh;const {x: Q, y: R} = this["demoWindowState"];let {width: S, height: T} = this["demoWindowState"];const U = (0, E["isNum"])(O) && O >= 300 && O <= 3000, V = (0, E[rB(589, "JO9c")])(P) && P >= 300 && P <= 3000;if (U && S < O) S = O;if (V && T < P) T = P;const {testWindow: W} = this["configService"];if (W) W["show"](); else {const X = new H["BrowserWindow"]({"x": Q,"y": R,"width": S,"height": T,...U ? {"minWidth": O} : {},...V ? {"minHeight": P} : {},"autoHideMenuBar": !![],"titleBarStyle": titleBar ? "default" : "hidden","trafficLightPosition": {"x": 12,"y": 16},...K["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(this["configService"][rB(1111, "w$r8")] = X, X["webContents"]["setUserAgent"](K["DEFAULT_USER_AGENT"]));if (N["match"](/^https?:\/\//)) {const Y = (0, J["default"])(N)?.["origin"];(Y && this["configService"]["biliAuthOrigins"]["push"](Y), X["loadURL"](N));}(this["windowEvents"]["catchCertVerifyError"](X), X["removeMenu"](), this["demoWindowState"]["manage"](X), X["on"]("closed", () => {var rC = rB;"pmiwV" !== "pmiwV" ? this[rC(2269, "!v[t")]({"type": "click","spm_id": "main.universal-window.browser.open.click"}, {"msg": i[rC(1976, "LCu@")](j)}) : (X["destroy"](), this["configService"]["testWindow"] = null);}), this["windowEvents"]["registerAppSleepEvent"](X), this["windowEvents"]["registerWindowResizeEvt"](X), this["windowEvents"]["registerWindowFocusBlur"](X, "testWindow"), this["windowEvents"]["registerWindowEvents"](X, "testWindow", !![]), this["windowEvents"]["catchLinkAndWindowOpen"](X), this["windowEvents"]["registerClosableWindowEvents"]("testWindow"), this["log"]["info"](rB(2143, "Locc")));}}};(L = i([(0, t[rh(965, "JypK")])(), j("design:paramtypes", [typeof (l = typeof w["ConfigService"] !== "undefined" && w["ConfigService"]) === "function" ? l : Object, typeof (m = typeof z["StoreService"] !== h["fTKbo"] && z["StoreService"]) === "function" ? m : Object, typeof (n = typeof C["WindowEvents"] !== "undefined" && C["WindowEvents"]) === "function" ? n : Object, typeof (o = typeof A["EventsService"] !== rh(1685, "YUg@") && A["EventsService"]) === "function" ? o : Object, typeof (q = typeof B["ReportService"] !== rh(1992, "LCu@") && B["ReportService"]) === "function" ? q : Object, typeof (r = h["tBENE"](typeof D["UtilsService"], "undefined") && D["UtilsService"]) === h["lQRfr"] ? r : Object])], L), g["WindowFactory"] = L);}}), iN = bV({""(g) {"use strict";var rD = f, h = {"uvUrl": "windowFactory","wTTMe": "systemService","ZFOIu": function (S, T, U) {return S(T, U);},"wArjw": "LlExF","MOsXs": function (S, T) {return S === T;},"heOdA": "dark","YraSy": rD(318, "^M%9"),"cbwsu": "GUrai","GHKkU": "25.0.0","URpTu": function (S, T, U) {return S(T, U);},"bXymN": "log","ykviz": "KdaKr","OAlfZ": function (S, T) {return S / T;},"CqRjl": function (S, T) {return S < T;},"lCzXH": function (S, T) {return S * T;},"vcClG": function (S, T) {return S(T);},"lGOVz": "XFREc","SMXUZ": function (S, T, U) {return S(T, U);},"mDNQx": function (S) {return S();},"Htedu": function (S, T) {return S(T);},"JCSlO": function (S, T) {return S(T);},"FiXnw": "undefined","uQJKE": function (S, T) {return S === T;},"pZuop": function (S, T) {return S !== T;}};var i = g && g["__decorate"] || (function (S, T, U, V) {var rE = rD, W = arguments["length"], X = W < 3 ? T : V === null ? V = Object[rE(1339, "Li1q")](T, U) : V, Y;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") X = Reflect[rE(554, "y^Oh")](S, T, U, V); else {for (var Z = S["length"] - 1; Z >= 0; Z--) if (Y = S[Z]) X = (W < 3 ? Y(X) : W > 3 ? Y(T, U, X) : Y(T, U)) || X;}return (W > 3 && X && Object[rE(910, "%AQh")](T, U, X), X);}), j = g && g["__metadata"] || (function (S, T) {var rF = rD;if (typeof Reflect === rF(1825, "NxR(") && typeof Reflect["metadata"] === "function") return Reflect["metadata"](S, T);}), k = g && g["__importDefault"] || (function (S) {return S && S["__esModule"] ? S : {"default": S};}), l, m, n, o, q, r, t, u, w;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["WindowService"] = void 0);var z = require(rD(2187, "gUtk")), A = (fM(), c0(fI)), B = iM(), C = gq(), D = ig(), E = iE(), F = hT(), G = h[rD(2212, "mnQ[")](gl), H = ih(), I = iF(), J = iL(), K = (dh(), h["Htedu"](c0, dg)), L = h["JCSlO"](require, "@bilibili/b-utils-core"), M = k(require("url-parse")), N = require(rD(1667, "9Bou")), O = require("electron"), P = (fy(), c0(fx)), Q = k(require("semver")), R = class S extends A["BaseService"] {constructor(T, U, V, W, X, Y, Z, a0, a1) {var rG = rD;(super("WindowService"), c1(this, rG(2075, "EcL6")), c1(this, "windowEvents"), c1(this, h["uvUrl"]), c1(this, "reportService"), c1(this, h["wTTMe"]), h["ZFOIu"](c1, this, rG(1425, "^M%9")), c1(this, "eventsService"), c1(this, "utilsService"), c1(this, rG(1255, "Mqcd")), c1(this, "mainWinEvtsReadySub"), c1(this, "openPlayerSub"), c1(this, "openLiveRoomWindow", (0, L["debounce"])((a2, a3) => {var rH = rG;a2 && this[rH(943, "NxR(")]["createOrFocusLiveRoomWindow"](a2, a3);}, 1000, !![], ![])), this["configService"] = T, this["windowEvents"] = U, this[rG(1618, "V[Zi")] = V, this["reportService"] = W, this["systemService"] = X, this["storeService"] = Y, this["eventsService"] = Z, this["utilsService"] = a0, this["trayMenuService"] = a1, this["configService"][rG(1279, "CN4e")]["subscribe"](() => this[rG(672, "(3!I")]()), this["configService"]["focusPlayerWindow$"]["subscribe"](() => this["focusPlayerWindow"]()), this["configService"]["openMainWindowPage$"]["subscribe"](a2 => {(this["log"]["info"]("Open main window Page", a2), this["openMainWindowPage"](a2));}), this["configService"]["openPlayerWindow$"]["subscribe"](a2 => {var rI = rG;(this["openPlayerSub"]?.["unsubscribe"](), this[rI(1987, "Li1q")]["isPlayerWindowReady"] ? "YphPJ" !== "YphPJ" ? ((r || t["includes"]("live.bilibili.com/blanc/")) && F["webContents"]["loadURL"](G), z && A === -401 && B < 3 && (H++, I["webContents"]["session"]["clearCache"]()["then"](() => K["webContents"][rI(361, "KdL&")]()))) : this["openPlayerWindow"](a2) : this["openPlayerSub"] = this["configService"]["playerWindowReady$"]["pipe"]((0, N["take"])(1))["subscribe"](() => {this["openPlayerWindow"](a2);}));}), this[rG(821, "5Oa*")]["openOrFocusUniversalWindow$"]["subscribe"](a2 => {var rJ = rG;this[rJ(1659, "nmd9")]["createOrFocusUniversalWindow"](a2);}), this["configService"]["onNewExpPlayerReady$"]["subscribe"](() => {(this["log"]["info"]("Reload player window to new."), this["reloadPlayerWindow"]());}));}["handleSplashWindowReady"]() {var rK = rD;(this["log"]["debug"](rK(496, "Ni8i")), this["configService"]["isSplashWindowReady"] = !![], this["configService"]["splashWindowReady$"]["next"]());!this["configService"]["isAppSlept"] && (h["wArjw"] === "LlExF" ? this["configService"]["splashWindowFirstReady$"]["next"]() : h["returnValue"] = {"isWeChatInstalled": this["thirdPartyService"]["getIsWeChatInstalled"]()});P["MAIN_WINDOW"]["onInit$"]["next"]();const {mainWindow: T} = this[rK(536, "43KF")];(!this["windowFactory"]["isInitPlayerWindowFirst"] && !T["isShowed"] && T["show"](), T["setAlwaysOnTop"](![]));}["handleMainWindowReady"]() {var rL = rD;(!global["mainWindowReadyTime"] && (global["mainWindowReadyTime"] = Date["now"]()), !this["configService"]["isMainWindowReady"] && (this[rL(1299, "V[Zi")] = this["configService"]["mainWindowEventsReady$"]["subscribe"](T => {var rM = rL;if (T) {(this["mainWinEvtsReadySub"]?.["unsubscribe"](), this["mainWinEvtsReadySub"] = null, this["log"]["info"]("Main window ready!"), this["windowFactory"]["isOnCreatingMain"] = ![], this[rM(1540, "y^Oh")]["isMainWindowReady"] = !![], this["configService"]["mainWindowReady$"]["next"]());!this[rM(1309, "JO9c")]["isAppSlept"] && ("kdAbo" === "kdAbo" ? this["configService"]["mainWindowFirstReady$"]["next"]() : k["push"]({"name": l,"value": m,"expirationDate": n}));!this["windowFactory"]["isInitPlayerWindowFirst"] && this["windowFactory"][rM(469, "LCu@")]();!this["configService"]["isAppSlept"] && this["configService"][rM(2139, "3BTs")] && this["reportService"]["reportRenderRestrictedStart"]();const {isEnableBiliPet: U, isStartUpShowBiliPet: V} = this["storeService"]["getGeneralConfig"]();if (U && V) {if ("ekgNr" !== "ekgNr") {const Y = (0, k["execSync"])("reg query \"" + l["launcherRegPath"] + "\"")["toString"]("utf-8"), Z = Y["match"](/[a-zA-Z]:.+\.exe/)?.[0];Z && (o["launcherPath"] = Z, this["writeGameInfo"](q));} else this["windowFactory"][rM(783, "8gI1")]();}this["windowEvents"]["handleStartupTimeline"]();}})));}["initMainWindowTheme"]() {const T = this["storeService"]["getAppStartUpTheme"]();T !== "current" && this["storeService"]["setMainWindowTheme"](T);}["focusMainWindow"]() {var rN = rD, T = {"gLbNZ": rN(1329, "X%9J")};const {isAppSleeping: U, mainWindow: V} = this["configService"];if (U) "qdsPb" === "qdsPb" ? this["systemService"]["wakeUpBiliApp"]() : this["log"][rN(2063, "KdL&")](T["gLbNZ"], this["getErrStack"](h)); else V && !V["isDestroyed"]() && ("bLiXK" === "YsBhM" ? (this["isAppOnQuitting"] = ![], h["app"]["quit"]()) : (V["show"](), V["setAlwaysOnTop"](!![]), setTimeout(() => V["setAlwaysOnTop"](![])), this["trayMenuService"]["createApplicationTray"]()));}["openMainWindowPage"](T) {this["configService"]["mainWindow"]["show"]();if (!this["storeService"]["getIsPrivacyPolicyAccepted"]()) return;if (this["configService"]["checkIsAppForceUpdate"](![])) return;this["eventsService"]["emitOpenMainWindowPage"](T);}["getMainWindowTheme"]() {const T = this["systemService"]["getIsSystemDarkMode"](), U = this["storeService"]["getMainWindowTheme"](), V = h["MOsXs"](U, h["heOdA"]) || U === "system" && T;return V ? "dark" : "light";}["openPlayerWindow"](T) {var rO = rD;if (T && (T["type"] === "ugc" && (T["bvid"] || T["aid"]) || T[rO(1741, "TZU2")] === "ogv" && (T["epid"] || T["seasonId"]) || T["mediaList"])) (this["configService"][rO(327, "nmd9")] = T, this["windowFactory"][rO(760, "hGVL")]()); else {if ("jSdZe" === "YprPD") return; else this["log"]["error"](rO(1068, "43KF"));}}["reloadPlayerWindow"]() {var rP = rD;const {playerWindow: T} = this["configService"];if (T && !T["isDestroyed"]()) {if (this["utilsService"]["isWindowHide"](T)) (T["webContents"]["reload"](), this["configService"][rP(484, "X%9J")] = ![]); else {const U = () => {this["utilsService"]["isWindowHide"](T) && (T["off"]("hide", U), T["webContents"]["reload"](), this["configService"]["isPlayerWindowReady"] = ![]);};T["on"]("hide", U);}}}["focusPlayerWindow"]() {var rQ = rD;const {isAppSleeping: T, openPlayerParams: U, playerWindow: V} = this["configService"];if (T) this["systemService"][rQ(1568, "ry$4")](); else U && V && !V["isDestroyed"]() && (V["show"](), this[rQ(1541, "V[Zi")]["isInitPlayerWinFirst"] = ![]);}["catchWindowClose"](T) {const U = O["BrowserWindow"]["fromWebContents"](T["sender"])["id"];if (U === this["configService"]["universalWindow"]?.["id"]) return;!this["configService"]["catchCloseWinIds"]["includes"](U) && this["configService"]["catchCloseWinIds"]["push"](U);}[rD(1774, "D0T^")](T) {var rR = rD;const U = O["BrowserWindow"][rR(1241, "Mqcd")](T["sender"])["id"], V = this["configService"]["catchCloseWinIds"]["indexOf"](U);V > -1 && this["configService"]["catchCloseWinIds"][rR(619, "h9c@")](V, 1);}["forceCloseWindow"](T) {var rS = rD;this[rS(1297, "VFZK")](T);const U = O[rS(1851, "FoL8")][rS(406, "8gI1")](T["sender"]);U["close"]();}["toggleDevTools"](T) {if (this["configService"]["isDevMode"]) {if ("LRFwT" === "HYHZL") {let V = null;const W = (0, l["join"])(this["downloadPath"], "" + m, h["YraSy"]);if ((0, n["existsSync"])(W)) try {V = u["parse"]((0, w["readFileSync"])(W, "utf-8"));} catch (X) {this["log"]["error"]("Parse game info from " + W + " error: ", this["formatError"](X));}return V;} else T["webContents"]["isDevToolsOpened"]() ? T["webContents"]["closeDevTools"]() : T["webContents"]["openDevTools"]();}}["handleResetWindowStatus"]() {(this["eventsService"]["emitResetWindowState"](), setTimeout(() => {const {mainWindow: T, playerWindow: U} = this["configService"];(this["windowFactory"]["mainWindowState"]["resetAndUpdateWindowState"](), T["webContents"]["reload"](), setTimeout(() => {var rT = f;if (this["utilsService"]["isWindowHide"](U)) {if ("AwpRq" === "wPBNC") return j["parse"](k[l] || "{}"); else {var V = ("7|5|8|1|4|2|0|3|6")[rT(1248, "w$r8")]("|"), W = 0;while (!![]) {switch (V[W++]) {case "0":this["configService"]["openPlayerParams"] = null;continue;case "1":U["removeAllListeners"]();continue;case "2":this["configService"]["playerWindow"] = null;continue;case "3":this["configService"]["isPlayerWindowReady"] = ![];continue;case "4":U["close"]();continue;case "5":this["storeService"]["setWindowState"]("playerWindow", null);continue;case "6":this["windowFactory"]["createOrFocusPlayerWindow"]();continue;case "7":this["windowFactory"]["playerWindowState"]["resetStateToDefault"]();continue;case "8":this["storeService"][rT(741, "nmd9")](![]);continue;}break;}}} else (this["windowFactory"]["playerWindowState"]["resetAndUpdateWindowState"](), U["show"](), U["webContents"]["reload"]());}, 100));}, 250));}[rD(1913, "y^Oh")](T, U) {if ("nfDnY" !== "nfDnY") this["log"]["error"]("Unzip ffmpeg error:", this["getErrStack"](h)); else {if (T && (0, L["isStr"])(U)) {const W = (0, M["default"])(T["webContents"]["getURL"]()), X = (0, M["default"])(U);W["origin"] === X["origin"] && (T["loadURL"](U), T === this["configService"]["liveRoomWindow"] && (this["configService"]["windowOpenedUrls"]["liveRoomWindow"] = U));}}}["setAllowOpenUrls"](T, U) {var rU = rD;let {urls: V, regExps: W} = U || ({});if ((0, L["isArr"])(V) || (0, L[rU(1676, "nNM[")])(W)) {const X = this["configService"]["allowOpenUrls"][T["id"]] || ({});if ((0, L["isArr"])(V) && V["length"]) {const Y = X[rU(454, "YUg@")] || [];(V = V[rU(1960, "mnQ[")](Z => !Y["includes"](Z)), X["urls"] = [...Y, ...V]);}if ((0, L["isArr"])(W) && W["length"]) {const Z = X["regExps"] || [];(W = W["filter"](a0 => !Z["includes"](a0)), X["regExps"] = [...Z, ...W]);}this["configService"]["allowOpenUrls"][T["id"]] = X;}}async ["captureWindowPage"](T) {const U = await T["capturePage"](), V = U["getSize"]();return {"buffer": U["getBitmap"](),"width": V["width"],"height": V["height"]};}async ["getDesktopCapturerSources"]() {const T = await O["desktopCapturer"]["getSources"]({"types": ["window", "screen"],"fetchWindowIcons": !![]});return T["map"](({name: U, id: V, thumbnail: W, appIcon: X}) => ({"name": U,"id": V,"thumbnail": W["toDataURL"](),"appIcon": X?.["toDataURL"]() || null}));}["getVisibleWinNum"]() {var rV = rD;const T = O["BrowserWindow"]["getAllWindows"]();if (this["configService"]["isAppQuited"]) return 0;let U = 0;return (T[rV(1139, "w$r8")](V => V["isVisible"]() && U++), U);}["miniMainWindow"]() {this["eventsService"]["emitMainWindowMiniChange"](!![]);const T = this["configService"]["mainWindow"];if (T["isMaximized"]) T["unmaximize"]();T["setMaximizable"](![]);if (P["IS_MAC"]) {if (h["cbwsu"] !== "ndYkx") {if (Q["default"]["gte"](process["versions"]["electron"], h["GHKkU"])) {;T["setWindowButtonPosition"]({"x": 12,"y": 16});} else {;T["setTrafficLightPosition"]({"x": 12,"y": 16});}} else return;}this["windowFactory"]["mainWindowState"]["unmanage"]();const {x: U, y: V, width: W, height: X} = this["windowFactory"]["miniMainWinState"], {minWidth: Y, minHeight: Z} = P["MINI_MAIN_WINDOW"];(this["resetMainWindow"]({"x": U,"y": V,"width": W,"height": X}, Y, Z), this["windowFactory"]["miniMainWinState"]["manage"](T), this["configService"]["isMainWindowMini"] = !![]);}["unminMainWindow"]() {var rW = rD;this["eventsService"]["emitMainWindowMiniChange"](![]);const {mainWindow: T} = this["configService"];(T["setAspectRatio"](0), T["setMaximizable"](!![]), T["setAlwaysOnTop"](![]));if (P["IS_MAC"]) {if (rW(959, "mnQ[") !== "jilpt") (h["URpTu"](j, this, h["bXymN"]), this["log"] = k["default"]["scope"](l)); else {if (Q["default"]["gte"](process["versions"]["electron"], h["GHKkU"])) {;T["setWindowButtonPosition"]({"x": 5,"y": 5});} else {;T["setTrafficLightPosition"]({"x": 5,"y": 5});}T["setWindowButtonVisibility"](!![]);}}this["windowFactory"]["miniMainWinState"]["unmanage"]();const {x: U, y: V, width: W, height: X} = this["windowFactory"]["mainWindowState"], {minWidth: Y, minHeight: Z} = P["MAIN_WINDOW"];(this["resetMainWindow"]({"x": U,"y": V,"width": W,"height": X}, Y, Z), this["windowFactory"]["mainWindowState"]["manage"](T), this[rW(2081, "YUg@")][rW(528, "Mqcd")] = ![], this["removeMiniMainMouseListener"]());}["resetMainWindow"](T, U, V) {var rX = rD;const {mainWindow: W} = this["configService"];(T = (0, K["formatRectangle"])(T), W["setMinimumSize"](U, V));if ((0, L["isUdf"])(T["x"])) delete T["x"];if ((0, L["isUdf"])(T["y"])) delete T["y"];(0, L["isUdf"])(T["x"]) || (0, L["isUdf"])(T["y"]) ? (W[rX(917, "uaSA")](T), W["center"]()) : W["setBounds"](T, !![]);}["setMainVideoSize"](T) {if (!this["configService"]["isMainWindowMini"]) return;const {mainWindow: U} = this["configService"];if (T) {const {width: V, height: W} = T;if ((0, L["isNum"])(V) && (0, L["isNum"])(W) && V && W) {const {width: X, height: Y} = U["getBounds"](), Z = V / W, a0 = X / Y;if (Math["abs"](Z - a0) > 0.01) {if ("KdaKr" !== h["ykviz"]) {const a2 = o["stringify"]({"data": q}), {encrypted: a3, authTag: a4} = r(a2, t, u);return w["stringify"]({[z]: a3,[A]: a4});} else {const {width: a2, height: a3} = P["MINI_MAIN_RESET"];let a4, a5;if (V > W) {;(a4 = a2, a5 = parseInt(String(h["OAlfZ"](a2 * W, V))));} else {;(a4 = a3, a5 = parseInt(String(a3 * W / V)));}U["setBounds"]((0, K["formatRectangle"])({"width": a4,"height": a5}), !![]);}}U["setAspectRatio"](Z);}} else U["setAspectRatio"](0);}["handleMainWindowMouseEnter"]() {const {mainWindow: T} = this["configService"];(clearInterval(this["configService"]["intervalOfMiniMainMouse"]), this["configService"]["intervalOfMiniMainMouse"] = setInterval(() => {var rY = f;if (T["isVisible"]()) {const {x: U, y: V, width: W, height: X} = T["getBounds"](), Y = U + W, Z = V + X, {x: a0, y: a1} = O["screen"]["getCursorScreenPoint"]();(a0 < U || a0 > Y || h[rY(1697, "y^Oh")](a1, V) || a1 > Z) && this["removeMiniMainMouseListener"]();} else this["removeMiniMainMouseListener"]();}, 250));}["removeMiniMainMouseListener"]() {(clearInterval(this["configService"]["intervalOfMiniMainMouse"]), this["configService"]["intervalOfMiniMainMouse"] = null);const T = this["configService"]["isMainWindowMini"];if (T) this["setMiniMainBtnsVisible"](![]);this["eventsService"]["emitMainWindowMouseLeave"]();}["setMiniMainBtnsVisible"](T) {var rZ = rD;P["IS_MAC"] && this["configService"]["mainWindow"][rZ(1091, "y^Oh")](T);}["miniPlayerWindow"]() {var s0 = rD;this["eventsService"]["emitPlayerWindowMiniChange"](!![]);const T = this["configService"]["playerWindow"];if (T["isMaximized"]) T["unmaximize"]();(T["setMaximizable"](![]), this["windowFactory"]["playerWindowState"]["unmanage"]());const {x: U, y: V, width: W, height: X} = this["windowFactory"]["miniPlayerState"], {minWidth: Y, minHeight: Z} = P["MINI_PLAYER_WINDOW"];(this[s0(679, "D0T^")]({"x": U,"y": V,"width": W,"height": X}, Y, Z), this["windowFactory"]["miniPlayerState"]["manage"](T), this["storeService"][s0(862, "nNM[")](!![]));}["unminPlayerWindow"]() {var s1 = rD;this["eventsService"]["emitPlayerWindowMiniChange"](![]);const {playerWindow: T} = this["configService"];(T["setAspectRatio"](0), T["setMaximizable"](!![]));if (P["IS_MAC"]) T["setWindowButtonVisibility"](!![]);this["windowFactory"][s1(1707, "JO9c")]["unmanage"]();const {x: U, y: V, width: W, height: X} = this["windowFactory"]["playerWindowState"], {minWidth: Y, minHeight: Z} = P["PLAYER_WINDOW"];(this["resetPlayerWindow"]({"x": U,"y": V,"width": W,"height": X}, Y, Z), this[s1(1780, "mnQ[")][s1(444, "Locc")]["manage"](T), this["storeService"]["setIsMiniPlayerWindow"](![]), this["removeMiniPlayerMouseListener"]());}["resetPlayerWindow"](T, U, V) {var s2 = rD;if ("YfJnc" !== "qfZCl") {const {playerWindow: W} = this["configService"];(T = (0, K["formatRectangle"])(T), W["setMinimumSize"](U, V));if ((0, L["isUdf"])(T["x"])) delete T["x"];if ((0, L["isUdf"])(T["y"])) delete T["y"];(0, L["isUdf"])(T["x"]) || (0, L["isUdf"])(T["y"]) ? (W["setBounds"](T), W[s2(463, "qbG4")]()) : W[s2(462, "hGVL")](T, !![]);} else {if (typeof l === "object" && typeof m["metadata"] === "function") return n["metadata"](o, q);}}["setPlayerVideoSize"](T) {var s3 = rD;const {playerWindow: U} = this["configService"];if (T) {const {width: V, height: W} = T;if ((0, L["isNum"])(V) && (0, L["isNum"])(W) && V && W) {if (s3(858, "nNM[") === "JDnrs") {const {width: X, height: Y} = U["getBounds"](), Z = V / W, a0 = X / Y;if (Math["abs"](Z - a0) > 0.01) {const {width: a1, height: a2} = P["MINI_PLAYER_RESET"];let a3, a4;if (V > W) {;(a3 = a1, a4 = parseInt(String(h["lCzXH"](a1, W) / V)));} else {if ("PkxqZ" === "PkxqZ") {;(a3 = a2, a4 = parseInt(String(a2 * W / V)));} else {const a6 = this["storeServie"]["getAuthCookies"]();return a6["map"](({name: a7, value: a8}) => a7 + "=" + a8)["join"]("; ");}}U["setBounds"]((0, K["formatRectangle"])({"width": a3,"height": a4}), !![]);}U["setAspectRatio"](Z);} else this["eventsService"]["emitAppInfoChange"]();}} else U["setAspectRatio"](0);}["handlePlayerWindowMouseEnter"]() {var T = {"fbiNa": function (V, W) {return V > W;}};const {playerWindow: U} = this["configService"];(clearInterval(this["configService"]["intervalOfMiniPlayerMouse"]), this["configService"]["intervalOfMiniPlayerMouse"] = h["URpTu"](setInterval, () => {if (U["isVisible"]()) {var {x: V, y: W, width: X, height: Y} = U["getBounds"](), Z = V + X, a0 = W + Y, {x: a1, y: a2} = O["screen"]["getCursorScreenPoint"]();(a1 < V || a1 > Z || a2 < W || T["fbiNa"](a2, a0)) && this["removeMiniPlayerMouseListener"]();} else this["removeMiniPlayerMouseListener"]();}, 250));}["removeMiniPlayerMouseListener"]() {var s4 = rD;(clearInterval(this[s4(2075, "EcL6")]["intervalOfMiniPlayerMouse"]), this[s4(1541, "V[Zi")]["intervalOfMiniPlayerMouse"] = null);const T = this["storeService"]["getIsMiniPlayerWindow"]();if (T) this["setMiniPlayerBtnsVisible"](![]);this["eventsService"]["emitPlayerWindowMouseLeave"]();}["setMiniPlayerBtnsVisible"](T) {P["IS_MAC"] && this["configService"]["playerWindow"]["setWindowButtonVisibility"](T);}["handleMovePetWindow"](T, U) {var s5 = rD;if (U) {const {x: V, y: W} = T[s5(1908, "JypK")](), {x: X, y: Y} = O["screen"]["getCursorScreenPoint"]();(clearInterval(this["configService"]["intervalOfBiliPetMove"]), this["configService"]["intervalOfBiliPetMove"] = setInterval(() => {if ("qBzVq" === "qBzVq") {const {x: Z, y: a0} = O["screen"]["getCursorScreenPoint"](), a1 = Z - X, a2 = a0 - Y, a3 = V + a1, a4 = W + a2;T["setPosition"](a3, a4);} else {const a6 = this["convertKeys"](i["biliApp"], "this"), a7 = this["convertKeys"](j["biliApp"], "biliApp");return a6["concat"](a7);}}, 30));} else h["vcClG"](clearInterval, this["configService"]["intervalOfBiliPetMove"]);}["openUploadWindow"]() {var s6 = rD;const T = this["storeService"]["getUserInfo"]();!T["isLogin"] ? (this[s6(1735, "LCu@")]["createOrFocusLoginWindow"](), this["configService"]["loginSub"]?.["unsubscribe"](), this["configService"]["loginSub"] = this[s6(1792, "Locc")]["loginWinStatusChange$"]["subscribe"](U => {this["configService"]["loginSub"]["unsubscribe"]();if (U) this["windowFactory"]["createOrFocusUploadWindow"]();})) : this["windowFactory"]["createOrFocusUploadWindow"]();}[rD(964, "hGVL")]() {var s7 = rD;const T = this["storeService"]["getUserInfo"]();!T["isLogin"] ? (this[s7(1109, "hGVL")]["createOrFocusLoginWindow"](), this["configService"]["loginSub"]?.["unsubscribe"](), this["configService"]["loginSub"] = this[s7(1027, "w$r8")]["loginWinStatusChange$"]["subscribe"](U => {this["configService"]["loginSub"]["unsubscribe"]();if (U) this["windowFactory"]["createOrFocusLiveNowWindow"]();})) : this["windowFactory"]["createOrFocusLiveNowWindow"]();}["handleOpenBigVipWindow"](T) {var s8 = rD;const U = this["storeService"]["getUserInfo"]();if (U["isLogin"]) this[s8(1217, "B4nF")](T); else {if (h["lGOVz"] === "XFREc") (this[s8(930, "jubI")]["createOrFocusLoginWindow"](), this["configService"]["loginSub"]?.["unsubscribe"](), this["configService"]["loginSub"] = this["configService"]["loginWinStatusChange$"]["subscribe"](V => {(this["configService"]["loginSub"]["unsubscribe"](), V && ("JtEKx" === "JtEKx" ? this["openBigVipWindow"](T) : (0, j["execSync"])("assoc ." + k + "=" + l)));})); else return !!this["store"][s8(2074, "EcL6")](h[s8(1262, "1iAQ")]);}}["openBigVipWindow"]({appSubId: T, currentIndex: U, sourceFrom: V}) {let W = "";T && String(T) !== "undefined" && (W = "?appSubId=" + T);U && String(U) !== "undefined" && (W += (W ? "&" : "?") + "currentIndex=" + U);V && String(V) !== "undefined" && (W += (W ? "&" : "?") + "sourceFrom=" + V);const X = "" + P["BUY_BIG_VIP_URL"] + W;this["windowFactory"]["createOrFocusUniversalWindow"]({"url": X});}["launchUniversalAction"]({action: T}) {var s9 = rD;const {universalView: U, universalWindow: V, universalParams: W} = this["configService"];switch (T) {case "goBack":{if ("SMKxe" === "SMKxe") {(this["windowEvents"][s9(2198, "KdL&")](), U?.["webContents"]["goBack"]());break;} else return k && (0, l["isObj"])(m["data"]) && n[s9(954, "nmd9")] || ({});}case "goForward":{(this["windowEvents"]["checkUniversalView"](), U?.["webContents"]["goForward"]());break;}case "reload":{if ("GfVvK" === "GfVvK") {if (h["MOsXs"](this["configService"]["universalParams"]?.["url"], "error")) return;(this["windowEvents"]["checkUniversalView"](), U?.["webContents"]["reload"]());break;} else {var Z = {"vCesL": function (a5, a6, a7) {return a5(a6, a7);},"aOzgy": function (a5, a6) {return a5 > a6;}};"use strict";var a0 = z && A["__decorate"] || (function (a5, a6, a7, a8) {var sa = s9, a9 = arguments["length"], aa = a9 < 3 ? a6 : a8 === null ? a8 = a0["getOwnPropertyDescriptor"](a6, a7) : a8, ab;if (typeof a1 === "object" && typeof a2["decorate"] === sa(1034, "LCu@")) aa = a3["decorate"](a5, a6, a7, a8); else {for (var ac = a5[sa(487, "LCu@")] - 1; ac >= 0; ac--) if (ab = a5[ac]) aa = (a9 < 3 ? ab(aa) : a9 > 3 ? ab(a6, a7, aa) : Z["vCesL"](ab, a6, a7)) || aa;}return (Z["aOzgy"](a9, 3) && aa && a4["defineProperty"](a6, a7, aa), aa);});(G[s9(1211, "JypK")](H, "__esModule", {"value": !![]}), I["UpdateModule"] = void 0);var a1 = J("@nestjs/common"), a2 = K(), a3 = L(), a4 = class a5 {};(a4 = h["SMXUZ"](a0, [(0, a1["Global"])(), (0, a1["Module"])({"controllers": [a2["UpdateController"]],"providers": [a3["UpdateService"]],"exports": [a3[s9(2089, "^M%9")]]})], a4), M["UpdateModule"] = a4);}}case "devTools":this["toggleDevTools"](U);break;case "openInBrowser":this["utilsService"]["shellOpenExternal"](W["pageUrl"] || W["url"], "universal.openInBrowser");break;case "focus":V && !V["isDestroyed"]() && V["show"]();break;}}};(R = i([(0, z["Injectable"])(), j("design:paramtypes", [typeof (l = typeof G[rD(1389, "43KF")] !== "undefined" && G["ConfigService"]) === "function" ? l : Object, typeof (m = typeof J["WindowEvents"] !== h["FiXnw"] && J["WindowEvents"]) === "function" ? m : Object, typeof (n = typeof B[rD(1926, "mnQ[")] !== "undefined" && B["WindowFactory"]) === "function" ? n : Object, typeof (o = typeof D["ReportService"] !== "undefined" && D["ReportService"]) === "function" ? o : Object, typeof (q = typeof E["SystemService"] !== "undefined" && E["SystemService"]) === "function" ? q : Object, h["uQJKE"](typeof (r = h["pZuop"](typeof F["StoreService"], "undefined") && F["StoreService"]), "function") ? r : Object, typeof (t = typeof C["EventsService"] !== "undefined" && C["EventsService"]) === "function" ? t : Object, typeof (u = typeof H["UtilsService"] !== "undefined" && H["UtilsService"]) === "function" ? u : Object, typeof (w = typeof I["TrayMenuService"] !== "undefined" && I["TrayMenuService"]) === "function" ? w : Object])], R), g["WindowService"] = R);}}), iO = bV({""(g) {"use strict";var sc = f, h = {"NJBBp": "function","YQpea": function (J, K) {return J - K;},"IhWou": function (J, K, L, M) {return J(K, L, M);},"WAECe": "storeService","PSMpm": function (J, K, L) {return J(K, L);},"ZGkAN": "window-all-closed","xiFDV": "bilipc","fFHWE": function (J, K) {return J(K);},"JAvqS": function (J, K) {return J !== K;},"YEhhd": function (J, K) {return J !== K;},"yOXxo": function (J) {return J();},"hEKku": function (J) {return J();},"gvUHP": function (J) {return J();}};var i = g && g["__decorate"] || (function (J, K, L, M) {var N = arguments["length"], O = N < 3 ? K : M === null ? M = Object["getOwnPropertyDescriptor"](K, L) : M, P;if (typeof Reflect === "object" && typeof Reflect["decorate"] === h["NJBBp"]) O = Reflect["decorate"](J, K, L, M); else {for (var Q = h["YQpea"](J["length"], 1); Q >= 0; Q--) if (P = J[Q]) O = (N < 3 ? P(O) : N > 3 ? P(K, L, O) : P(K, L)) || O;}return (N > 3 && O && Object["defineProperty"](K, L, O), O);}), j = g && g["__metadata"] || (function (J, K) {var sb = f;if (typeof Reflect === sb(1457, "Qd![") && typeof Reflect["metadata"] === "function") return Reflect[sb(1519, "9Bou")](J, K);}), k = g && g["__importDefault"] || (function (J) {return J && J["__esModule"] ? J : {"default": J};}), l, m, n, o, q;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["AppEvents"] = void 0);var r = require("@nestjs/common"), t = (h["yOXxo"](fM), c0(fI)), u = gl(), w = h["yOXxo"](hT), z = ig(), A = ih(), B = require("@bilibili/b-utils-core"), C = h["hEKku"](iN), D = require("electron"), E = require("child_process"), F = (h["gvUHP"](fy), c0(fx)), G = k(require(sc(1650, "D0T^"))), H = require("rxjs"), I = class J extends t["BaseService"] {constructor(K, L, M, N, O) {var sd = sc, P = ("7|12|11|1|3|8|10|13|9|6|2|14|0|5|4")["split"]("|"), Q = 0;while (!![]) {switch (P[Q++]) {case "0":this["reportService"] = M;continue;case "1":c1(this, "reportService");continue;case "2":this["configService"] = K;continue;case "3":c1(this, "utilsService");continue;case "4":this[sd(535, "FoL8")] = O;continue;case "5":this["utilsService"] = N;continue;case "6":h["IhWou"](c1, this, "_urlSchemeOpenId", "");continue;case "7":super("AppEvents");continue;case "8":c1(this, "windowService");continue;case "9":c1(this, "isRenderGoneDialogOpen", ![]);continue;case "10":c1(this, "isAppOnQuitting", ![]);continue;case "11":c1(this, h["WAECe"]);continue;case "12":h["PSMpm"](c1, this, "configService");continue;case "13":c1(this, sd(1859, "43KF"), ![]);continue;case "14":this["storeService"] = L;continue;}break;}}get ["urlSchemeOpenId"]() {return this["_urlSchemeOpenId"];}set ["urlSchemeOpenId"](K) {(this["_urlSchemeOpenId"] = K, clearTimeout(this["configService"]["timeoutOfUrlSchemeOpen"]), this["configService"]["timeoutOfUrlSchemeOpen"] = setTimeout(() => this["_urlSchemeOpenId"] = "", F["SCHEME_OPENID_KEEP_TIME"]));}["initAppEvents"]() {var sf = sc, K = {"jBbDF": function (L, M) {return L !== M;}};(F["IS_DEV"] && (F["IS_WIN"] ? process["on"]("message", L => {if (L === "graceful-exit") D["app"]["quit"]();}) : process["on"]("SIGTERM", () => D["app"]["quit"]())), D["app"]["on"]("second-instance", () => {var se = f;(this[se(1226, "5Oa*")]["warn"]("Second instance!"), this["configService"][se(702, "(]yY")]["next"]());}), D[sf(422, "9Bou")]["on"](h["ZGkAN"], () => {if (!F["IS_MAC"] && !this["configService"]["isAppSleeping"]) D["app"]["quit"]();}), D["app"]["on"]("activate", () => {var sg = sf;(this["log"]["log"]("Activate app!"), !this[sg(1552, "!v[t")][sg(2256, "Qd![")]?.["isDestroyed"]() && (this["configService"]["playerWindow"]?.["isVisible"]() || this["configService"]["playerWindow"]?.["isMinimized"]()) ? this["configService"]["focusPlayerWindow$"]["next"]() : K["jBbDF"]("OICle", "OICle") ? this["log"]["info"]("View download error(" + i + ")：", j) : this[sg(2121, "TZU2")]["forcusMainWindow$"]["next"]());}), global[sf(694, "nmd9")] && this["handleDeepLinkingUrl"](global["deepLinkUrl"]), global["openFilePath"] && this["handlePlayLocalVideo"](global["openFilePath"]), global["bootstrapEvents"]["on"]("deepLink", L => this["handleDeepLinkingUrl"](L)), global["bootstrapEvents"]["on"]("openFile", L => this["handlePlayLocalVideo"](L)), process[sf(434, "EcL6")] ? process["argv"]["length"] >= 2 && D["app"]["setAsDefaultProtocolClient"]("bilipc", process["execPath"], [G["default"]["resolve"](process["argv"][1])]) : D["app"]["setAsDefaultProtocolClient"](h["xiFDV"]), this["registerAppBeforeQuitEvent"](), this[sf(1204, "qbG4")](), this["registerAppRenderProcessGone"]());}["registerAppBeforeQuitEvent"]() {D["app"]["on"]("before-quit", K => {var sh = f;if (this["isAppOnQuitting"]) {if ("KBRcU" !== "KBRcU") (this["configService"]["openMainWindowPage$"]["next"]({"page": sh(1064, "w$r8"),"meta": {"roomId": j}}), k && this["windowFactory"]["createOrFocusLiveRoomWindow"](m)); else {K["preventDefault"]();return;}}this["isAppOnQuitting"] = !![];if (!this["isAppQuitReported"]) (this["isAppQuitReported"] = !![], this[sh(717, "9Bou")]["isAppQuited"] = !![], this["configService"]["appQuitTime"] = Date[sh(328, "nNM[")](), this["configService"]["beforeQuitApp$"]["next"](), setTimeout(() => {(this["isAppOnQuitting"] = ![], D["app"]["quit"]());}, F["QUIT_STAY_TIME"])); else {var L = ("3|1|0|4|2")["split"]("|"), M = 0;while (!![]) {switch (L[M++]) {case "0":D["globalShortcut"]["unregisterAll"]();continue;case "1":D[sh(438, "8gI1")][sh(2208, "nwHl")]();continue;case "2":this["log"]["info"]("Good-bye!");continue;case "3":this["configService"][sh(1166, "(]yY")]["next"]();continue;case "4":D["BrowserWindow"]["getAllWindows"]()["forEach"](O => O["removeAllListeners"]());continue;}break;}}});}["handleDeepLinkingUrl"](K) {var si = sc;const L = decodeURIComponent(K);this["log"]["info"]("Handle deep-link:", L);const M = (/bilipc:\/\/page\/(\w*?)(?=$|\?.*$)/)["exec"](K);if (M && M[1]) {const N = (0, B["parseQueryString"])(K) || ({});(this["urlSchemeOpenId"] = N[si(846, "KdL&")], this["reportService"]["reportSchemeUrlOpen"]({"url": K,"openFlag": N["openFlag"]}), this["configService"]["deepLinkSub"]?.["unsubscribe"]());if (M[1] === "player" && N) {N["mainWin"] === "0" && (this["configService"]["isInitPlayerWinFirst"] = !![]);(this["configService"]["isOpenedByLocalVido"] = ![], this["windowService"]["focusPlayerWindow"](), this["configService"]["openPlayerWindow$"]["next"](N));return;}this[si(426, "Locc")]["focusMainWindow"]();if (M[1] === "search" && N["keyword"]) {this["configService"]["isSearchPageReady"] ? this[si(778, "Mqcd")]["openMainWindowPage$"]["next"]({"page": "SearchPage","meta": {...N}}) : this["configService"]["deepLinkSub"] = this["configService"]["searchPageReady$"]["pipe"]((0, H["take"])(1))[si(831, "V[Zi")](() => {this["configService"]["openMainWindowPage$"]["next"]({"page": "SearchPage","meta": {...N}});});return;}let O;switch (M[1]) {case "recommend":O = "RecommendPage";break;case "dynamic":O = "DynamicPage";break;case si(1505, "^M%9"):O = "SpacePage";break;case "settings":O = si(2274, "VFZK");break;}O && (this["configService"]["isMainWindowReady"] ? this["configService"][si(1551, "UmJ6")]["next"]({"page": O,"meta": {...N}}) : this["configService"]["deepLinkSub"] = this["configService"]["mainWindowReady$"]["pipe"]((0, H["take"])(1))["subscribe"](() => {var sj = si;this["configService"]["openMainWindowPage$"][sj(1070, "V[Zi")]({"page": O,"meta": {...N}});}));} else this["windowService"]["focusMainWindow"]();}["handlePlayLocalVideo"](K) {var sk = sc;const L = h["fFHWE"](decodeURIComponent, K);this["log"][sk(1092, "nNM[")]("Handle play local video:", L);const {ext: M, base: N} = G["default"][sk(1097, "y^Oh")](L), {ffmpegPath: O} = this["configService"];let P = void 0, Q = void 0;if (O) {let S = "";try {S = (0, E["execSync"])(F["FFMPEG_EXE_"] + " -i " + L["replace"](/\s/g, "\\ "))["toString"]() || "";} catch (T) {S = T instanceof Error ? T["stack"] || T["message"] : String(T);}(P = S["match"](/Stream\s.*?Video:.*$/m)?.[0], Q = S["match"](/Stream\s.*?Audio:.*$/m)?.[0]);}(this["reportService"]["reportPlayLocalVideo"]({"name": N,"ext": M,"vinfo": P,"ainfo": Q}), this["configService"]["isOpenedByLocalVido"] = !![], this["configService"]["isInitPlayerWinFirst"] = !![], this["windowService"]["focusPlayerWindow"]());let R = "";if (M && F["SUPPORT_EXTS"][sk(2080, "!L3p")](M["toLowerCase"]()["replace"](/^\./, ""))) R = "file://" + L; else {if ("OAStw" !== "OAStw") return; else R = this["configService"]["localServer"] + sk(1203, "1iAQ") + K;}this["configService"]["openPlayerWindow$"]["next"]({"type": "ugc","aid": -999,"cid": -999,"bvid": sk(1570, "hGVL"),"localUrl": R,"videoName": N});}["registerAppChildProcessGone"]() {var sl = sc;D[sl(2011, "CN4e")]["on"](sl(715, "^M%9"), (K, {type: L, reason: M, name: N, serviceName: O, exitCode: P}) => {var sm = sl;(this["log"]["error"]("App child-process-gone, reason:", {"type": L,"reason": M,"name": N,"serviceName": O,"exitCode": P}), this["reportService"]["reportChildProcessGone"]({"type": L,"reason": M,"name": N,"serviceName": O,"exitCode": P}));let Q = "";switch (L) {case "GPU":switch (M) {case sm(1181, "!L3p"):(this["log"]["error"]("GPU creashed!"), Q = "GPU进程崩溃，是否禁用GPU后重启程序？");break;case "killed":(this["log"]["error"]("GPU killed!"), Q = "GPU进程意外终止，是否禁用GPU后重启程序？");break;}}if (Q) {const {isSplashWindowReady: R, mainWindow: S} = this["configService"];if (R || this["storeService"]["getIsDisableGpu"]()) return;(this["storeService"]["setIsDisableGpu"](!![]), S ? D["dialog"]["showMessageBox"](S, {"type": "warning","title": "警告0","buttons": ["刷新", "重启"],"message": Q,"noLink": !![]})["then"](T => {T["response"] === 1 ? this["utilsService"]["relaunchApp"]() : S["reload"]();}) : this["utilsService"]["relaunchApp"]());}});}["registerAppRenderProcessGone"]() {var K = {"eKixX": function (L, M) {return h["JAvqS"](L, M);}};h["YEhhd"]("iTjqV", "WFZGM") ? D["app"]["on"]("render-process-gone", (L, M, {reason: N}) => {var so = f;(this[so(404, "Locc")]["error"]("Render process gone, reason:", N), this["reportService"]["reportRenderProcessGone"]({"reason": N}));if (this["isRenderGoneDialogOpen"]) return;this["isRenderGoneDialogOpen"] = !![];let O = "";switch (N) {case "crashed":O = "图形化进程崩溃，是否重启程序？";break;case "killed":O = "由于未知原因导致图形化进程被终止，是否重启程序？";break;case "oom":O = "内存不足，是否重启程序释放内存？";break;default:O = "由于未知原因，导致程序崩溃！需要重启吗？";break;}this["reportService"]["reportCrashDialogShow"]({"reason": N});const {playerWindow: P, openPlayerWindow$: Q, openPlayerParams: R} = this["configService"], S = D["BrowserWindow"]["fromWebContents"](M), T = S["id"] === P["id"];D["dialog"]["showMessageBox"](S, {"type": "warning","title": "警告1","buttons": ["刷新", "重启"],"message": O,"noLink": !![]})["then"](U => {var sp = so, V = {"XDclk": function (W, X, Y) {return W(X, Y);}};if (K["eKixX"]("apzLe", "JgFQz")) (this["isRenderGoneDialogOpen"] = ![], U["response"] === 1 ? this["utilsService"]["relaunchApp"]() : (T && S["webContents"]["once"]("dom-ready", () => {V["XDclk"](setTimeout, () => Q["next"](R), 200);}), S["reload"]())); else {if (k["now"]() - l > m["COOKIE_CACHE_TIME"]) delete this[sp(1760, "Locc")][n];}});}) : !this["gameDownloader"]["hasDownloadTask"](i) && this["startDownloadGame"](k);}};(I = i([(0, r["Injectable"])(), j("design:paramtypes", [typeof (l = typeof u["ConfigService"] !== "undefined" && u["ConfigService"]) === "function" ? l : Object, typeof (m = typeof w["StoreService"] !== "undefined" && w["StoreService"]) === h["NJBBp"] ? m : Object, typeof (n = typeof z["ReportService"] !== "undefined" && z["ReportService"]) === "function" ? n : Object, typeof (o = typeof A["UtilsService"] !== "undefined" && A["UtilsService"]) === "function" ? o : Object, typeof (q = typeof C["WindowService"] !== "undefined" && C["WindowService"]) === "function" ? q : Object])], I), g["AppEvents"] = I);}}), iP = bV({""(g) {"use strict";var sq = f, h = {"gCDGk": "default","ZVVQP": function (M, N) {return M >= N;},"ddGQz": function (M, N, O, P) {return M(N, O, P);},"cXKBS": "cipher","cGmSj": function (M, N) {return M !== N;},"Sosdi": "switchAccount","KjavX": function (M, N) {return M > N;},"DlQTM": function (M, N) {return M !== N;},"QcUVG": function (M, N, O) {return M(N, O);},"nGHBe": sq(1232, "Qd!["),"kmGrE": "stream-transcoder","NNneg": sq(1616, "y^Oh"),"IEQAk": "function"};var i = g && g["__createBinding"] || (Object["create"] ? function (M, N, O, P) {if (P === void 0) P = O;var Q = Object["getOwnPropertyDescriptor"](N, O);((!Q || (("get" in Q) ? !N["__esModule"] : Q["writable"] || Q["configurable"])) && (Q = {"enumerable": !![],"get": function () {return N[O];}}), Object["defineProperty"](M, P, Q));} : function (M, N, O, P) {if (P === void 0) P = O;M[P] = N[O];}), j = g && g["__setModuleDefault"] || (Object["create"] ? function (M, N) {Object["defineProperty"](M, h["gCDGk"], {"enumerable": !![],"value": N});} : function (M, N) {M["default"] = N;}), k = g && g["__decorate"] || (function (M, N, O, P) {var sr = sq, Q = arguments["length"], R = Q < 3 ? N : P === null ? P = Object[sr(1700, "nmd9")](N, O) : P, S;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") R = Reflect[sr(743, "YUg@")](M, N, O, P); else {for (var T = M["length"] - 1; h["ZVVQP"](T, 0); T--) if (S = M[T]) R = (Q < 3 ? S(R) : Q > 3 ? S(N, O, R) : S(N, O)) || R;}return (Q > 3 && R && Object["defineProperty"](N, O, R), R);}), l = g && g["__importStar"] || (function (M) {var ss = sq;if (M && M[ss(1078, "KdL&")]) return M;var N = {};if (M != null) {for (var O in M) if (O !== "default" && Object["prototype"]["hasOwnProperty"]["call"](M, O)) h["ddGQz"](i, N, M, O);}return (j(N, M), N);}), m = g && g["__metadata"] || (function (M, N) {var su = sq;if (typeof Reflect === "object" && typeof Reflect[su(369, "5Oa*")] === "function") return Reflect["metadata"](M, N);}), n = g && g["__importDefault"] || (function (M) {var sw = sq;return M && M[sw(667, "8gI1")] ? M : {"default": M};}), o, q, r, t, u;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["HelpService"] = void 0);var w = require(h["nGHBe"]), z = (fM(), c0(fI)), A = gl(), B = hT(), C = gq(), D = iE(), E = ih(), F = (dh(), c0(dg)), G = (fy(), c0(fx)), H = require("fs-extra"), I = l(require("path")), J = n(require("express")), K = n(require(h["kmGrE"])), L = class M extends z["BaseService"] {constructor(N, O, P, Q, R) {(super("HelpService"), c1(this, "configService"), c1(this, "storeService"), c1(this, "eventService"), c1(this, "systemService"), c1(this, "utilsService"), h["ddGQz"](c1, this, "enterPwdCount", 0), c1(this, "isReqInteractive", ![]), c1(this, "isCanInteractive", ![]), this["configService"] = N, this["storeService"] = O, this["eventService"] = P, this["systemService"] = Q, this["utilsService"] = R);}["launchAction"](N) {var sx = sq;switch (N?.["action"]) {case "md5Hash":{const {str: O, len: P} = N["params"] || ({});return (0, F["md5Hash"])(O, P);}case h["cXKBS"]:{const {str: Q, key: R, iv: S} = N["params"] || ({});return (0, F["cipher"])(Q, R, S);}case "decipher":{if (h[sx(671, "h9c@")]("czrUL", "qBRNn")) {const {str: T, key: U, iv: V} = N["params"] || ({});return (0, F["decipher"])(T, U, V);} else return j(k["decode"](l));}case "getIsHightCpu":{return this[sx(2199, "43KF")]["getIsHightPerformanceCPU"]();}case "getIsShowFeatures":{if (!this["storeService"]["getIsPrivacyPolicyAccepted"]()) return ![];if (this["configService"][sx(720, "X%9J")](![])) return ![];return this["utilsService"]["checkIsGrayHit"](N[sx(1534, "X%9J")] || ({}));}case "getAccounts":{return this["storeService"]["getSavedAccounts"]();}case h["Sosdi"]:{const X = this["storeService"]["getSavedAccounts"](), Y = this[sx(1393, "Mqcd")]["getUserInfo"]();(0, H["ensureDirSync"])(G["ACCOUNTS_DIR"]);const Z = (0, I["join"])(G["USER_DATA_PATH"], sx(2125, "YUg@"));if (Y[sx(1574, "qbG4")]) {const a3 = (0, I["join"])(G["ACCOUNTS_DIR"], Y["mid"] + ".json");if ((0, H["existsSync"])(a3)) (0, H["removeSync"])(a3);((0, H["moveSync"])(Z, a3), X["every"](a4 => a4["mid"] !== Y["mid"]) && X["push"]({"label": Y["uname"] + " (" + Y["mid"] + ")","mid": Y["mid"]}));}const {mid: a0} = N["params"] || ({}), a1 = (0, I["join"])(G["ACCOUNTS_DIR"], a0 + ".json");(0, H["existsSync"])(a1) && ((0, H["removeSync"])(Z), (0, H["moveSync"])(a1, Z));const a2 = X["findIndex"](a4 => a4["mid"] === a0);if (h["KjavX"](a2, -1)) {if ("hoziB" !== "SznLF") X["splice"](a2, 1); else {const a5 = "54e6a9a31b911cd5fc0daa66ebf94bc4";(z["appkey"] = A[sx(1170, "CN4e")], B["build"] = this["configService"][sx(1520, "!v[t")], C["ts"] = D["now"]());const a6 = (0, E["stringifyQueryString"])(F)["split"]("&")["sort"]()["join"]("&")["replace"](/('|!|\(|\))/g, a7 => a5(a7))["replace"](/\*/g, "%2A");return (H["sign"] = (0, I["default"])(a6 + a5)["toLocaleLowerCase"](), J ? K : (0, L["stringifyQueryString"])(M));}}this["storeService"][sx(1050, "3BTs")](X);}}}["disableLocalCache"](N) {var sy = sq;(N["use"](J["default"]["static"](I["default"]["resolve"](__dirname, "../render"), {"cacheControl": ![],"etag": ![],"maxAge": "0","setHeaders": O => {this["setLocalServerResHeader"](null, O);}})), N["set"](sy(1649, "V[Zi"), ![]), N["use"](this["setLocalServerResHeader"]));}["setLocalServerResHeader"](N, O, P) {var sz = sq;(O[sz(2251, "(3!I")]("Surrogate-Control", "no-store"), O["setHeader"]("Cache-Control", "no-store, no-cache, must-revalidate, proxy-revalidate"), O["setHeader"]("Pragma", "no-cache"), O["setHeader"](sz(1223, "Qd!["), "0"));if (P) P();}["transCodeLocalVideo"](N, O) {var sA = sq, P = {"qOfCo": "Play local finish"};const Q = decodeURIComponent(O);if ((0, H["existsSync"])(Q)) {if (h["DlQTM"]("rjjqY", "XmvSE")) {N["writeHead"](200, {"Content-Type": "video/mp4"});const R = (0, H["createReadStream"])(Q);new K["default"](R, this["configService"]["ffmpegPath"])[sA(902, "jubI")](1280, 720)["videoCodec"]("libx264")["videoBitrate"](800 * 1000)["fps"](25)[sA(1413, "D0T^")](44100)["channels"](2)["audioBitrate"](128 * 1000)["format"]("mp4")["stream"]()["pipe"](N)["on"]("close", () => {this["log"]["error"]("Play local close");})["on"]("finish", () => {this["log"]["error"](P["qOfCo"]);})["on"]("error", S => {var sB = sA;this["log"]["error"](sB(1047, "1x5q"), S);});} else this["flashDownloadingGameList"]();} else return N["status"](401)["send"]({"code": 1,"message": "err"});}async ["handleCmdInteractive"](N, O) {var sC = sq;if (!this[sC(1317, "nNM[")] && N === "clear") {if ("JeOYu" !== sC(1727, "3BTs")) {this["log"]["info"](N);return;} else {const Q = this["getSenderWindow"](h), R = ["liveRoomWindow", sC(280, "jubI"), "uploadWindow"], S = R["find"](T => this["configService"][T]?.["id"] === Q["id"]);S && this["configService"]["windowOpenedUrls"][S] && this["configService"][S]["webContents"]["loadURL"](this["configService"]["windowOpenedUrls"][S]);}}if (!this["isCanInteractive"]) {if (!this[sC(1052, "qbG4")]) {if (N === "cmd") {(this["log"]["info"]("进入交互模式~"), this["enterPwdCount"] = 0, this["isReqInteractive"] = ![], clearTimeout(this["configService"]["timeoutOfReqInteractive"]), this["isCanInteractive"] = !![], this["eventService"]["emitAppLogIsCanInteractiveChange"](this["isCanInteractive"]));return;}if (N === "pwd") return (this["isReqInteractive"] = !![], this["log"]["info"]("请输入密码："), !![]);return (this["log"]["info"](N), ![]);} else {(clearTimeout(this["configService"]["timeoutOfReqInteractive"]), this["configService"]["timeoutOfReqInteractive"] = h["QcUVG"](setTimeout, () => {(this["enterPwdCount"] = 0, this["isReqInteractive"] = ![]);}, 60000), this["enterPwdCount"]++);if (N === G["INTERACTIVE_PWD"]) return (this["log"]["info"]("密码正确，进入交互模式~"), this["enterPwdCount"] = 0, this["isReqInteractive"] = ![], clearTimeout(this["configService"]["timeoutOfReqInteractive"]), this["isCanInteractive"] = !![], this["eventService"]["emitAppLogIsCanInteractiveChange"](this["isCanInteractive"]), ![]); else {this["log"]["info"]("密码错误！");if (this["enterPwdCount"] >= 3) return (this["log"]["info"]("需要调试PC客户端？请联系@cntower获取帮助。"), this["enterPwdCount"] = 0, this["isReqInteractive"] = ![], clearTimeout(this["configService"]["timeoutOfReqInteractive"]), ![]);return !![];}}} else {if (N === "exit") return (this["isCanInteractive"] = ![], this["eventService"][sC(1235, "FoL8")](this["isCanInteractive"]), this["log"]["info"]("已退出交互模式~"), ![]);const Q = console["log"];try {return (console["log"] = this["log"]["info"], this["log"]["info"](N, "// =>"), await O(), ![]);} catch (R) {this["log"]["error"](this["getErrStack"](R));} finally {console["log"] = Q;}}}};(L = k([(0, w[sq(2289, "8gI1")])(), m("design:paramtypes", [typeof (o = typeof A["ConfigService"] !== "undefined" && A["ConfigService"]) === "function" ? o : Object, typeof (q = typeof B["StoreService"] !== h["NNneg"] && B["StoreService"]) === "function" ? q : Object, typeof (r = typeof C["EventsService"] !== "undefined" && C["EventsService"]) === "function" ? r : Object, typeof (t = typeof D["SystemService"] !== "undefined" && D["SystemService"]) === "function" ? t : Object, typeof (u = typeof E["UtilsService"] !== "undefined" && E["UtilsService"]) === h[sq(336, "Qd![")] ? u : Object])], L), g["HelpService"] = L);}}), iQ = bV({""(g) {"use strict";var sD = f, h = {"RQSYq": function (O, P) {return O === P;},"XLGhS": function (O, P) {return O(P);},"TDaep": function (O, P) {return O === P;},"gnwHi": function (O, P) {return O !== P;},"jpZbS": "nICGz","JtpEd": function (O, P, Q) {return O(P, Q);},"Vidup": function (O, P, Q, R) {return O(P, Q, R);},"InsKd": "isOnUpdating","fjEKI": sD(556, "YUg@"),"sKtbo": sD(1336, "kdon"),"nJKVx": "utf-8","emhKh": function (O) {return O();},"VHbcn": function (O) {return O();},"AiRcl": function (O, P) {return O(P);},"ssFhh": function (O, P) {return O !== P;},"tNinh": sD(1545, "Locc"),"tzfvF": "function"};var i = g && g["__decorate"] || (function (O, P, Q, R) {var S = arguments["length"], T = S < 3 ? P : R === null ? R = Object["getOwnPropertyDescriptor"](P, Q) : R, U;if (h["RQSYq"](typeof Reflect, "object") && typeof Reflect["decorate"] === "function") T = Reflect["decorate"](O, P, Q, R); else {for (var V = O["length"] - 1; V >= 0; V--) if (U = O[V]) T = (S < 3 ? h["XLGhS"](U, T) : S > 3 ? U(P, Q, T) : U(P, Q)) || T;}return (S > 3 && T && Object["defineProperty"](P, Q, T), T);}), j = g && g["__metadata"] || (function (O, P) {var sE = sD;if ("rvSUY" === "rvSUY") {if (typeof Reflect === "object" && h["TDaep"](typeof Reflect["metadata"], "function")) return Reflect["metadata"](O, P);} else {const R = new B["BrowserWindow"]({"x": C,"y": D,"width": E,"height": F,...G ? {"minWidth": H} : {},...I ? {"minHeight": J} : {},"autoHideMenuBar": !![],"titleBarStyle": K ? "default" : "hidden","trafficLightPosition": {"x": 12,"y": 16},...L["IS_WIN"] ? {"resizable": ![]} : {},"webPreferences": {"webSecurity": ![],...this["getCommonWebPreference"]()}});(this["configService"][sE(2281, "(3!I")] = R, R["webContents"]["setUserAgent"](M["DEFAULT_USER_AGENT"]));if (N[sE(1182, "B4nF")](/^https?:\/\//)) {const S = (0, R["default"])(S)?.["origin"];(S && this["configService"]["biliAuthOrigins"][sE(990, "(]yY")](S), R["loadURL"](T));}(this[sE(503, "JO9c")]["catchCertVerifyError"](R), R["removeMenu"](), this["demoWindowState"]["manage"](R), R["on"]("closed", () => {(R["destroy"](), this["configService"]["testWindow"] = null);}), this["windowEvents"]["registerAppSleepEvent"](R), this["windowEvents"]["registerWindowResizeEvt"](R), this["windowEvents"]["registerWindowFocusBlur"](R, "testWindow"), this["windowEvents"]["registerWindowEvents"](R, "testWindow", !![]), this["windowEvents"]["catchLinkAndWindowOpen"](R), this[sE(1406, "TZU2")]["registerClosableWindowEvents"]("testWindow"), this["log"]["info"](sE(1893, "VFZK")));}}), k = g && g["__importDefault"] || (function (O) {var sF = sD;return O && O[sF(1733, "JO9c")] ? O : {"default": O};}), l, m, n, o, q, r;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["UpdateService"] = void 0);var t = require("@nestjs/common"), u = (h[sD(2182, "%AQh")](fM), c0(fI)), w = h["VHbcn"](gq), z = gl(), A = hT(), B = ig(), C = ih(), D = hZ(), E = require("electron-updater"), F = require("@bilibili/b-utils-core"), G = require("electron"), H = require("path"), I = require("rxjs"), J = require("fs-extra"), K = (fy(), c0(fx)), L = k(require("semver")), M = k(h["AiRcl"](require, "extract-zip")), N = class O extends u["BaseService"] {constructor(P, Q, R, S, T, U) {var sG = sD;(super("UpdateService"), c1(this, "configService"), c1(this, "eventsService"), h["JtpEd"](c1, this, "storeService"), c1(this, "reportService"), c1(this, "utilsService"), c1(this, "fetchService"), c1(this, "checkingTimes", 0), c1(this, "autocheck", !![]), c1(this, "cancellationToken", null), c1(this, sG(2022, "JypK"), ![]), c1(this, "isDownloading", ![]), c1(this, "updateInfo", null), c1(this, "updateStep", "check"), h["Vidup"](c1, this, sG(2118, "B4nF"), null), c1(this, h["InsKd"], ![]), c1(this, "isPatchReadyEmited", ![]), c1(this, "isPatchUpdateHited", ![]), c1(this, "isPatchSameVersion", ![]), h["Vidup"](c1, this, "patchInfo", null), this["configService"] = P, this["eventsService"] = Q, this["storeService"] = R, this["reportService"] = S, this["utilsService"] = T, this["fetchService"] = U, E["autoUpdater"]["logger"] = this["log"], E["autoUpdater"]["autoInstallOnAppQuit"] = !![], E["autoUpdater"]["autoDownload"] = ![]);K["IS_WIN"] && (E["autoUpdater"][sG(1200, "hGVL")] = (0, H["dirname"])(G["app"]["getPath"](h["fjEKI"])));(this["configService"]["buvidReady$"]["subscribe"](() => {this["judgeIncrementUpdate"]();}), this["configService"]["appConfigUpdated$"]["subscribe"](() => {var sH = sG;h["gnwHi"]("HvpEx", h["jpZbS"]) ? (this["isPatchUpdateHited"] = ![], this["isPatchSameVersion"] = ![], this["judgeIncrementUpdate"]()) : h[sH(1990, "h9c@")] = "pc";}));const {autoUpdateInfoReady$: V, acceptPrivacyPolicy$: W} = this["configService"];((0, I["merge"])(V, W)["subscribe"](() => {this["judgeIncrementPatchReady"]();}), this["configService"]["mainWindowReady$"]["subscribe"](() => {var sI = sG;(!this["configService"][sI(443, "BDj!")] && (this["checkForUpdate"](!![]), this["judgeIncrementUpdate"]()), this["judgeIncrementPatchReady"]());}), this["configService"][sG(608, "kdon")] = setInterval(() => this[sG(1270, "LCu@")](!![]), 86400000));}["judgeIncrementUpdate"]() {var sJ = sD;const {runtimeConfig: P, customConfig: Q, isAppConfigReady: R, buvid: S, isMainWindowReady: T} = this["configService"];if (P["disableAppPatch"]) return;if (K["IS_FREEZE_VERSION"] || Q["ignorePatchUpdate"]) {if ("rekCS" === "rekCS") return; else {var X = arguments["length"], Y = X < 3 ? I : J === null ? K = L["getOwnPropertyDescriptor"](M, N) : O, Z;if (typeof P === "object" && typeof Q["decorate"] === sJ(1455, "VFZK")) Y = R["decorate"](S, T, U, V); else {for (var a0 = W["length"] - 1; a0 >= 0; a0--) if (Z = X[a0]) Y = (X < 3 ? Z(Y) : X > 3 ? Z(Y, Z, Y) : Z(a0, a1)) || Y;}return (X > 3 && Y && a2[sJ(1395, "hGVL")](a3, a4, Y), Y);}}if (this["isOnUpdating"] || !R || !S || !T) return;this["configService"]["isIncrementPatchReady"] = ![];const {patchInfo: U} = this["configService"]["appConfig"];if (!U) {this["log"]["info"]("Patch info null.");return;}const V = void 0;(this["log"]["info"]("Patch info:", JSON["stringify"](U["map"](X => ({...X,"wl": V,"bl": V,"uw": V,"um": V})))), (0, F["toArray"])(U)["forEach"]((X, Y) => {var sK = sJ;if (this["isPatchUpdateHited"]) return;const {on: Z, s: a0, b: a1, bc: a2, v: a3, sv: a4, ev: a5, uw: a6, um: a7, wl: a8, bl: a9, fix: aa} = X, ab = K["IS_WIN"] ? a6 : a7, ac = ab["match"](/\/(\d+)\/public/)?.[1];if (!Z || !a3 || !ab) return;if ((K["APP_VERSION"] !== a3 || aa && !ab["includes"](K["FAWKES_JOB_ID"])) && (!a4 || L["default"]["gte"](K["APP_VERSION"], a4)) && (!a5 || L["default"]["lte"](K["APP_VERSION"], a5))) {const {mid: ad} = this["storeService"]["getUserInfo"](), {buvid: ae} = this["configService"], af = this["utilsService"]["getBuvidWlCode"](ae);if (a9) {if (a9["match"](new RegExp("(^|,)" + ad + "(,|$)"))) {this["log"]["info"]("Increment update mid black hit.");return;}if (a9["match"](new RegExp(af + ",(0,|0$)"))) {this["log"]["info"]("Increment update buvid black hit.");return;}}if (a8) {if (a8["match"](new RegExp("(^|,)" + ad + sK(707, "kdon")))) {(this["log"]["info"]("Increment update mid white hit."), this["handleIncrementPatchGrayHit"](X, ac));return;}if (a8["match"](new RegExp(af + ",(0,|0$)"))) {(this[sK(1114, "BDj!")]["info"](h["sKtbo"]), this["handleIncrementPatchGrayHit"](X, ac));return;}}const [ag, ah] = this["utilsService"]["getAbTestCursor"](a1), ai = this["utilsService"]["getAbTestBucket"](ae, a0, a2 || 1000);(this[sK(2238, "NxR(")]["info"]("Patch bucket:", ai), ai >= ag && ai <= ah && (this["log"]["info"]("Increment update bucket hit."), this["handleIncrementPatchGrayHit"](X, ac)));}}));}["handleIncrementPatchGrayHit"](P, Q) {var sL = sD;(this["patchInfo"] = P, this["isPatchUpdateHited"] = !![], this["isPatchSameVersion"] = h["RQSYq"](K["APP_VERSION"], P["v"]));const {versionInfoPath: R} = K[sL(2260, "Qd![")];if (!(0, J["existsSync"])(R)) "hFpbw" === "KLFxr" ? this[sL(1249, "qbG4")]("events/hideByBossShortcut", {"data": null}) : this["handleFetchPatch"](Q); else {const {v: T, fix: U} = P, V = (0, J["readFileSync"])(R, {"encoding": h["nJKVx"]}), W = this["utilsService"]["getPatchVersionInfo"](U, T);V === W ? (this["log"]["info"](sL(1291, "Qd![")), this["configService"]["isIncrementPatchReady"] = !![], this["judgeIncrementPatchReady"]()) : this["handleFetchPatch"](Q);}}async ["handleFetchPatch"](P) {var sM = sD;this["isOnUpdating"] = !![];const {v: Q, uw: R, um: S} = this["patchInfo"];this["log"]["info"]("Fetch patch:", Q, P);const {updateZipPath: T, updateAsarPath: U} = K["UPDATE_INFO"];if ((0, J["existsSync"])(T)) (0, J["removeSync"])(T);if ((0, J["existsSync"])(U)) (0, J["removeSync"])(U);const V = K["IS_WIN"] ? R : S;try {const W = await this["fetchService"]["downloadFile"](V);(this["log"]["info"]("Fetch patch success!"), (0, J["writeFileSync"])(T, new Uint8Array(W), "binary"), this[sM(340, "ry$4")](P));} catch (X) {(this["isOnUpdating"] = ![], this["log"][sM(1271, "nNM[")]("download petch(" + Q + "," + P + ") error:", this["getErrStack"](X)));}}async [sD(1731, "qfnC")](P) {var sN = sD;const {v: Q, fix: R} = this["patchInfo"];this["log"]["info"]("Unzip patch:", Q, P);const {updateZipPath: S, updateAsarPath: T, versionInfoPath: U, getResourceAsarPath: V} = K["UPDATE_INFO"];try {(process["noAsar"] = !![], await (0, M["default"])(S, {"dir": K["RESOURCE_PATH"]}));const W = this["utilsService"]["getPatchVersionInfo"](R, Q), X = V(W);((0, J["renameSync"])(T, X), process["noAsar"] = ![], (0, J[sN(1465, "Qd![")])(S), (0, J["writeFileSync"])(U, W), this["log"]["info"](sN(1214, "1iAQ")), this["isOnUpdating"] = ![], this["configService"]["isIncrementPatchReady"] = !![], this["judgeIncrementPatchReady"](), this["reportService"]["reportPatchUpgrade"]({"new_version": Q,"new_fawkes_id": P,"from_version": K["APP_VERSION"],"from_fawkes_id": K["FAWKES_JOB_ID"],"install_version": K["INSTALL_VERSION"]}));} catch (Y) {(this["isOnUpdating"] = ![], this["log"]["error"]("Unzip petch error:", this["getErrStack"](Y)));}}["judgeIncrementPatchReady"]() {var sO = sD;const {isIncrementPatchReady: P, isMainWindowReady: Q} = this["configService"];if (!P || !Q) return;if (this["isPatchReadyEmited"] || this["isPatchSameVersion"]) return;if (!this["storeService"]["getIsPrivacyPolicyAccepted"]()) return;if (this[sO(778, "Mqcd")]["checkIsAppForceUpdate"]()) return;(this["log"]["info"]("Emit increment patch ready!"), this["eventsService"]["emitIncrementPatchReady"](), this["isPatchReadyEmited"] = !![]);}["checkForUpdate"](P = ![]) {if (!P && K["IS_DEV"]) {this["eventsService"]["emitUpdateInfo"]({"isAvailable": ![]});return;}(this["updateStep"] = "check", this["checkingTimes"]++, P ? delete E["autoUpdater"]["requestHeaders"]["manualcheck"] : E["autoUpdater"]["requestHeaders"]["manualcheck"] = "1", this["autocheck"] = P, E["autoUpdater"]["checkForUpdates"]());}["downloadUpdate"]() {this["isCanceledByUser"] = ![];if (this["isDownloading"]) return;(this["isDownloading"] = !![], this["updateStep"] = "download", this["cancellationToken"] = new E["CancellationToken"](), E["autoUpdater"]["downloadUpdate"](this["cancellationToken"]));}[sD(2108, "Ni8i")]() {var sP = sD;(this["updateStep"] = "quitandinstall", this["configService"]["isForceCloseWindows"] = !![], E[sP(1475, "Ni8i")]["quitAndInstall"]());}["cancelDownLoadUpdate"]() {this["isCanceledByUser"] = !![];}["initAppUpdateEvents"]() {var sQ = sD, P = {"VqOQt": "Download speed: ","BcmqV": function (Q, R) {return Q + R;},"fOtoc": function (Q, R) {return Q + R;},"xTwxK": function (Q, R) {return Q + R;},"Lbhis": function (Q, R) {return Q + R;}};(E[sQ(907, "nwHl")]["requestHeaders"] = {"platform": K["IS_MAC"] ? "mac" : "win","chid": K[sQ(569, "3BTs")],"appversion": K["APP_VERSION"],"eleversion": process["versions"]["electron"],"osversion": this["configService"]["sysVersion"]["match"](/\d+\.\d+\.\d+/)?.[0] || "","arch": process["arch"],"buvid": this["configService"]["buvid"],"fawkesjobid": K["FAWKES_JOB_ID"],"fawkesbuildid": K["FAWKES_BUILD_ID"]}, E["autoUpdater"]["on"]("checking-for-update", () => {var sR = sQ;this["log"]["info"](sR(1025, "!L3p"));}), E["autoUpdater"]["on"]("update-available", Q => {var sS = sQ;(this["log"]["info"](sS(1163, "^M%9")), this["updateInfo"] = Q, this["configService"]["autoUpdateInfo"] = Q, this["configService"]["autoUpdateInfoReady$"]["next"](), Q["isAvailable"] = !![]);const R = Q?.["isShowUpdate"];if (R && L[sS(800, "1iAQ")]["gte"](K["APP_VERSION"], R) && this["autocheck"]) {this["log"]["info"]("update no auto check tips,appver:" + K[sS(1356, "UmJ6")] + sS(1122, "1x5q") + R);return;}if (this["isDownloading"] && !this["isCanceledByUser"]) {if ("FKTsg" !== "FKTsg") {const T = {...this["getGeneralConfig"](),...j};(this["store"]["set"](k["GENERAL_CONFIG_STORE"], T), l["assign"](this["configService"]["generalConfig"], T), this[sS(1751, "TZU2")]["emitGeneralConfigChange"](T));} else {this["progressObj"] && this["eventsService"][sS(767, "CN4e")]({...this[sS(1419, "Ni8i")],"isShowModal": !![]});return;}}this["eventsService"]["emitUpdateInfo"](Q);}), E["autoUpdater"]["on"]("update-not-available", Q => {var sT = sQ, R = sT(1886, "Li1q")["split"]("|"), S = 0;while (!![]) {switch (R[S++]) {case "0":this["configService"]["autoUpdateInfoReady$"]["next"]();continue;case "1":this["updateInfo"] = Q;continue;case "2":!this["autocheck"] && (Q["isAvailable"] = ![], this["eventsService"]["emitUpdateInfo"](Q));continue;case "3":this["configService"]["autoUpdateInfo"] = {};continue;case "4":this["log"]["info"]("Update not available.");continue;}break;}}), E["autoUpdater"]["on"]("download-progress", Q => {var sU = sQ;this["isDownloading"] = !![];if (this["isCanceledByUser"]) return;let R = P["VqOQt"] + Q["bytesPerSecond"];(R = P["BcmqV"](P["fOtoc"](R, " - Downloaded "), Q["percent"]) + "%", R = P["xTwxK"](R + " (" + Q[sU(1623, "!L3p")] + "/" + Q["total"], ")"), this["log"]["info"](R), this[sU(325, "mnQ[")] = Q, this["eventsService"]["emitUpdateDownload"](Q));}), E["autoUpdater"]["on"]("update-downloaded", Q => {(this["progressObj"] = null, this["isDownloading"] = ![]);if (this["isCanceledByUser"]) return;(this["log"]["info"]("Update downloaded"), Q["isDownloaded"] = !![], this["eventsService"]["emitUpdateInfo"](this["updateInfo"]), this["eventsService"]["emitUpdateDownload"](Q));}), E[sQ(1023, "%AQh")]["on"]("error", Q => {var sV = sQ;(this["progressObj"] = null, this["isDownloading"] = ![], this["configService"][sV(808, "Ni8i")] = {}, this["configService"]["autoUpdateInfoReady$"]["next"]());if (this[sV(1887, "JO9c")]) return;(this["log"]["error"](P["BcmqV"]("Error in auto-updater.", Q)), this["log"]["info"](P["Lbhis"]("Step:" + this["updateStep"] + ", Times:", this[sV(2197, "UmJ6")])), (!this["autocheck"] || this["updateStep"] != "check") && this["eventsService"]["emitUpdateInfo"]({"iserror": !![]}), this[sV(1591, "VFZK")]["reportUpdateError"]({"autocheck": this["autocheck"],"updateStep": this["updateStep"],"message": Q?.["message"] || "","error": this["getErrStack"](Q)["substring"](0, 300)}));}));}};(N = i([(0, t["Injectable"])(), j(sD(1827, "!v[t"), [typeof (l = h["ssFhh"](typeof z["ConfigService"], h["tNinh"]) && z["ConfigService"]) === h["tzfvF"] ? l : Object, typeof (m = typeof w["EventsService"] !== "undefined" && w["EventsService"]) === "function" ? m : Object, typeof (n = typeof A["StoreService"] !== "undefined" && A["StoreService"]) === "function" ? n : Object, typeof (o = typeof B["ReportService"] !== "undefined" && B["ReportService"]) === "function" ? o : Object, typeof (q = typeof C["UtilsService"] !== "undefined" && C["UtilsService"]) === "function" ? q : Object, typeof (r = typeof D["FetchService"] !== h["tNinh"] && D["FetchService"]) === "function" ? r : Object])], N), g["UpdateService"] = N);}}), iR = bV({""(g) {"use strict";var t3 = f, h = {"BXsmN": function (I, J) {return I < J;},"TVlCA": function (I, J) {return I(J);},"sNeyF": function (I, J, K) {return I(J, K);},"oINDT": "Fetch FF info.","ZpZYy": function (I, J) {return I === J;},"UjJoM": "akemb","sIHNA": "Hit customAbInfo,","CxnZo": "undefined","DCFiA": function (I, J) {return I !== J;},"zeomn": "function"};var i = g && g["__decorate"] || (function (I, J, K, L) {var sW = f, M = arguments["length"], N = h["BXsmN"](M, 3) ? J : L === null ? L = Object["getOwnPropertyDescriptor"](J, K) : L, O;if (typeof Reflect === sW(486, "EcL6") && typeof Reflect["decorate"] === sW(341, "nwHl")) N = Reflect["decorate"](I, J, K, L); else {for (var P = I["length"] - 1; P >= 0; P--) if (O = I[P]) N = (M < 3 ? h[sW(1767, "nNM[")](O, N) : M > 3 ? O(J, K, N) : h["sNeyF"](O, J, K)) || N;}return (M > 3 && N && Object["defineProperty"](J, K, N), N);}), j = g && g["__metadata"] || (function (I, J) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](I, J);}), k = g && g["__importDefault"] || (function (I) {return I && I["__esModule"] ? I : {"default": I};}), l, m, n, o, q;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["FfAbTestService"] = void 0);var r = require("@nestjs/common"), t = (fM(), c0(fI)), u = gl(), w = hZ(), z = hT(), A = ih(), B = ig(), C = require("@bilibili/b-utils-core"), D = (hS(), c0(hR)), E = (fy(), c0(fx)), F = require("rxjs"), G = k(require("jszip")), H = class I extends t["BaseService"] {constructor(J, K, L, M, N) {var sX = f, O = {"PztcJ": function (R, S) {return R === S;},"Kcvet": "Fgujv"};(super("FfAbTestService"), c1(this, "configService"), c1(this, "fetchService"), c1(this, "storeService"), h[sX(1708, "nwHl")](c1, this, "reportService"), c1(this, "utilsService"), this["configService"] = J, this[sX(947, "KdL&")] = K, this["storeService"] = L, this["reportService"] = M, this["utilsService"] = N);const {buvidReady$: P, userLoginChange$: Q} = this["configService"];((0, F[sX(1714, "3BTs")])(P, Q)["subscribe"](() => {this["initAppAbTestInfo"]();}), this[sX(1982, "(]yY")]["appSleepChange$"]["subscribe"](R => {var sY = sX;if (O["PztcJ"]("NfWyW", O["Kcvet"])) this["pushDynamic"](h); else {if (!R) this[sY(2244, "5Oa*")]();}}), this["configService"]["beforeQuitApp$"]["subscribe"](() => {this["initReportAbTestTimer"](!![]);}), this["initReportAbTestTimer"](![]));}["initFfAbTest"]() {(this["syncAbTestConfig"](), this["initAppAbTestInfo"]());}async ["syncAbTestConfig"]() {var sZ = f;try {this["log"]["info"](h[sZ(2071, "jubI")]);const J = await this["fetchService"]["getFawkesFfVersion"](), {isFawkesFFTest: K} = this["configService"][sZ(1132, "jubI")], L = K ? "test" : "prod", M = this["storeService"]["getAbTestConfigEnv"]();this["log"]["info"]("FF env, s-c", h["ZpZYy"](M, L) ? M : M + "-" + L);const N = Number(J[L]?.["ff"]), O = Number(this["storeService"]["getAbTestConfig"]()["v"]);this["log"]["info"]("FF versions, l-r:", O === N ? O : O + "-" + N);if (M !== L || !O || N > O) {this["log"]["info"]("Fetch FF details, env:", L);const P = "http://i0.hdslb.com/bfs/fawkes/ff/" + L + "/bili_win_" + N + ".zip", Q = await this["fetchService"]["fetchUrl"](P), R = new G["default"]();await R["loadAsync"](Q["arrayBuffer"]());const S = await R["file"]("bili_win_" + N)["async"]("text"), T = JSON["parse"](S), U = await this["fetchService"]["fetchUrl"](T[sZ(1954, "3BTs")]["default"]["u"]), V = new G["default"]();await V["loadAsync"](U["arrayBuffer"]());const W = await V["file"]("bili_win_default_" + N)["async"]("text");(this["storeService"]["setAbTestConfigEnv"](L), this["storeService"]["setAbTestConfig"](JSON["parse"](W)), this["initAppAbTestInfo"]());}} catch (X) {this["log"]["error"]("Fetch FF error:", this["getErrStack"](X));}}["initAppAbTestInfo"]() {var t0 = f;this["log"]["info"](t0(729, "CN4e"));const {customAbInfo: customAbInfo = {}} = this["configService"]["customConfig"], J = this["storeService"]["getAbTestConfig"](), {mid: K} = this["storeService"]["getUserInfo"](), {buvid: L} = this["configService"], M = this["utilsService"]["getBuvidWlCode"](L), N = {};D["AB_TEST_LIST"]["forEach"](P => {var Q = {"wFcwU": h["UjJoM"]};if ((P in customAbInfo)) {(N[P] = customAbInfo[P], this["log"]["info"](h["sIHNA"], P, customAbInfo[P]));return;}N[P] = ![];if (!J["v"]) return;let R = ![];const S = J["ab_list"] || [];(S["forEach"](T => {var t1 = f;if ("fJCJd" === "kLIXZ") this["configService"][t1(539, "BDj!")] = this["configService"]["mainWindowInitShow$"]["pipe"]((0, i["take"])(1))["subscribe"](() => k ? this[t1(2156, "EcL6")]() : this["popLoginAtWakeUp"]()); else {if (T["n"] === P) {R = !![];if (T["wl"]) {if (T["wl"]["match"](new RegExp("(^|,)" + K + "(,|$)"))) {N[P] = !![];return;}if (T["wl"]["match"](new RegExp(M + ",(0,|0$)"))) {if ("akemb" === Q["wFcwU"]) {N[P] = !![];return;} else {this["log"]["info"]("Request login!");const Z = this["storeService"][t1(1587, "JypK")]();!Z["isLogin"] && (this[t1(2031, "VFZK")]["createOrFocusLoginWindow"](), this["reportService"]["reportLoginFrom"](i));}}}if (T["bl"]) {if (T["bl"]["match"](new RegExp(t1(409, "VFZK") + K + "(,|$)"))) return;if (T["bl"]["match"](new RegExp(M + ",(0,|0$)"))) return;}if (!T["tree"]?.["l"]) return;const V = +T["tree"]["bc"] || 1000, [W, X] = this["utilsService"]["getAbTestCursor"](T["tree"]["b"]);if (T["tree"]["l"] === "dm") {if (!L) return;const Z = this["utilsService"]["getAbTestBucket"](L, T["tree"]["s"], V);if (Z >= W && Z <= X) {N[P] = !![];return;}} else {if (!K) return;if (T["tree"]["l"] === "um") {const a0 = this["utilsService"]["getAbTestBucket"](K, T["tree"]["s"], V);a0 >= W && a0 <= X && (N[P] = !![]);} else {if (T["tree"]["l"] === "u") {const a1 = this["utilsService"]["getAbTestBucket"](K, "", V);a1 >= W && a1 <= X && (N[P] = !![]);}}}}}}), !R && (N[P] = !P["endsWith"]("_r")));});!E["IS_WIN"] && (!this["configService"]["appConfig"][t0(935, "CN4e")] && !(("sidebar_game_entry" in customAbInfo)) && ("kdHUr" !== "kdHUr" ? this["configService"]["isMainWindowReady"] ? this["configService"]["openMainWindowPage$"]["next"]({"page": r,"meta": {...t}}) : this["configService"]["deepLinkSub"] = this[t0(1383, "!L3p")]["mainWindowReady$"]["pipe"]((0, u["take"])(1))["subscribe"](() => {this["configService"]["openMainWindowPage$"]["next"]({"page": A,"meta": {...B}});}) : N["sidebar_game_entry"] = ![]));let O = ![];if (!(0, C["isDeepEqual"])(this[t0(2075, "EcL6")]["abTestInfo"], N)) {this["configService"]["abTestInfo"] = N;if (L && J["v"]) O = !![];}L && J["v"] && (!this["storeService"]["getIsThemeChanged"]() && this["storeService"]["setMainWindowTheme"](null), N["sidebar_selected_hide2_r"] && (this["storeService"]["setIsSelectedExit"](![]), this["storeService"]["setIsSelectedFirst"](![])), O && this["configService"]["abTestInfoChange$"]["next"](N), this["log"]["info"]("FF:", JSON["stringify"](N)), this["reportAbTestInfo"]());}["reportAbTestInfo"]() {var t2 = f;const {v: J} = this[t2(996, "LCu@")]["getAbTestConfig"](), {mid: K} = this["storeService"]["getUserInfo"](), {buvid: L, abTestInfo: M} = this["configService"];L && J && this["reportService"][t2(1222, "mnQ[")]({"config": M,"buvid": L,"mid": K});}["initReportAbTestTimer"](J) {(J && this["reportAbTestInfo"](), clearInterval(this["configService"]["intervalOfAbFlagReport"]), this["configService"]["intervalOfAbFlagReport"] = setInterval(() => {this["reportAbTestInfo"]();}, E["AB_FLAG_REPORT_TIME"]));}};(H = i([(0, r["Injectable"])(), j("design:paramtypes", [typeof (l = typeof u["ConfigService"] !== "undefined" && u["ConfigService"]) === "function" ? l : Object, typeof (m = typeof w["FetchService"] !== h["CxnZo"] && w["FetchService"]) === "function" ? m : Object, typeof (n = h["DCFiA"](typeof z["StoreService"], "undefined") && z["StoreService"]) === h["zeomn"] ? n : Object, typeof (o = typeof B[t3(712, "TZU2")] !== "undefined" && B["ReportService"]) === "function" ? o : Object, typeof (q = typeof A[t3(1072, "X%9J")] !== "undefined" && A["UtilsService"]) === "function" ? q : Object])], H), g["FfAbTestService"] = H);}}), iS = bV({""(g) {"use strict";var tf = f, h = {"AFVHV": function (B, C, D, E) {return B(C, D, E);},"pTpRD": function (B, C) {return B === C;},"tekrK": "function","NXFev": "isWeChatChecked","VkpVt": function (B, C, D, E) {return B(C, D, E);},"jNdfG": function (B, C) {return B(C);}};var i = g && g["__decorate"] || (function (B, C, D, E) {var t4 = f, F = arguments["length"], G = F < 3 ? C : E === null ? E = Object["getOwnPropertyDescriptor"](C, D) : E, H;if (typeof Reflect === "object" && typeof Reflect["decorate"] === t4(1909, "hGVL")) G = Reflect["decorate"](B, C, D, E); else {for (var I = B["length"] - 1; I >= 0; I--) if (H = B[I]) G = (F < 3 ? H(G) : F > 3 ? h["AFVHV"](H, C, D, G) : H(C, D)) || G;}return (F > 3 && G && Object["defineProperty"](C, D, G), G);}), j = g && g["__metadata"] || (function (B, C) {var t5 = f;if (h[t5(960, "1x5q")](typeof Reflect, "object") && typeof Reflect["metadata"] === h["tekrK"]) return Reflect["metadata"](B, C);}), k = g && g["__importDefault"] || (function (B) {return B && B["__esModule"] ? B : {"default": B};}), l, m;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["ThirdPartyService"] = void 0);var n = (fM(), h["jNdfG"](c0, fI)), o = require("@nestjs/common"), q = ig(), r = hT(), t = (fy(), c0(fx)), u = k(require("winreg")), w = h["jNdfG"](require, "child_process"), z = require("@bilibili/b-utils-core"), A = class B extends n["BaseService"] {constructor(C, D) {var t6 = f;(super("ThirdPartyService"), c1(this, "reportService"), c1(this, "storeService"), c1(this, h["NXFev"], ![]), h[t6(2246, "VFZK")](c1, this, "isWeChatInstalled", ![]), c1(this, "WIN_LOWEST_SUPPORT_OPENSDK_WECHAT_VERSION", "3.9.12"), c1(this, "MAC_LOWEST_SUPPORT_OPENSDK_WECHAT_VERSION", "4.0.0"), this["reportService"] = C, this["storeService"] = D);}async ["initThirdParties"]() {(await this["checkWeChatInstalled"](), this["isWeChatChecked"] = !![], this["storeService"]["setIsWxInstalled"](this["isWeChatChecked"]));}["getIsWeChatInstalled"]() {var t7 = f;return this["isWeChatChecked"] ? this["isWeChatInstalled"] : this["storeService"][t7(818, "^M%9")]();}["getWeChatVersionOfWin"](C, D) {return new Promise(E => {var t8 = f;this["isWeChatInstalled"] && E(null);const F = D ? t["BETA_WE_CHAT_REGEDIT_PATH"] : t["WE_CHAT_REGEDIT_PATH"], G = new u["default"]({"hive": u[t8(2138, "UmJ6")]["HKCR"],"key": F});G["get"]("", (H, I) => {var t9 = t8;if (H) {(this["log"][t9(1130, "EcL6")]("Check " + C + " regedit error"), E(null));return;}const J = (/([^"]+\.exe)/)["exec"](I["value"]);if (!J || !J[1]) {(this["log"]["error"]("Check " + C + " exe path error：", I["value"]), E(null));return;}const K = "wmic datafile where name=\"" + J[1]["replace"](/\\/g, "\\\\") + t9(2207, "%AQh");(0, w["exec"])(K, (L, M) => {if (L) {(this["log"]["error"]("Wmic " + C + " version error"), E(null));return;}const N = (/Version=(.+)/)["exec"](M);if (!N || !N[1]) {(this["log"]["error"]("Match " + C + " version error：", M), E(null));return;}const O = N[1];E(O);});});});}["getWeChatVersionOfMac"](C, D) {return new Promise(E => {var ta = f;this[ta(2239, "TZU2")] && E(null);const F = D ? t["BETA_WE_CHAT_PATH"] : t["WE_CHAT_PATH"], G = "defaults read \"" + F + "/Contents/Info\" CFBundleShortVersionString";(0, w["exec"])(G, (H, I) => {var tb = ta;if (H) {(this["log"]["error"]("defaults read " + C + " error"), E(null));return;}const J = I[tb(1900, "ry$4")]();(this["log"]["info"](C + " version：", J), E(J));});});}["onGetVersion"](C, D, E) {this["reportService"]["reportWeChatInstallStatus"](C);let F = ![];try {F = (0, z["compareVersion"])(C, D) >= 0;} catch (G) {this["log"]["error"]("Compare " + E + " version error");return;}if (!F) {this["log"]["error"]("The " + E + " version is not support openSDK");return;}this["isWeChatInstalled"] = !![];}async ["checkWeChatInstalled"]() {var tc = f;if (t["IS_WIN"] && !t[tc(1536, "(3!I")]) {const C = "wx";this["getWeChatVersionOfWin"](C, ![])["then"](D => {D && this["onGetVersion"](D, this["WIN_LOWEST_SUPPORT_OPENSDK_WECHAT_VERSION"], C);})[tc(1470, "1iAQ")](D => {if ("oxVUC" === "oxVUC") this["log"]["error"]("Check " + C + " error"); else return !!this["store"]["get"](h["IS_FORCE_RELAUNCH"]);});} else {if (t["IS_MAC"]) {const D = "wx";this["getWeChatVersionOfMac"](D, ![])["then"](E => {E && this["onGetVersion"](E, this["MAC_LOWEST_SUPPORT_OPENSDK_WECHAT_VERSION"], D);})["catch"](E => {var td = tc;this[td(2106, "1iAQ")]["error"]("Check " + D + " error");})["finally"](() => {const E = "wx(beta)";this["getWeChatVersionOfMac"](E, !![])["then"](F => {F && this["onGetVersion"](F, this["MAC_LOWEST_SUPPORT_OPENSDK_WECHAT_VERSION"], E);})["catch"](F => {var te = f;this["log"]["error"](te(1940, "1iAQ") + E + te(1809, "(]yY"));});});}}}};(A = i([(0, o["Injectable"])(), j("design:paramtypes", [typeof (l = typeof q["ReportService"] !== "undefined" && q["ReportService"]) === "function" ? l : Object, typeof (m = typeof r[tf(936, "!v[t")] !== "undefined" && r["StoreService"]) === "function" ? m : Object])], A), g["ThirdPartyService"] = A);}}), iT = bV({""(g, h) {"use strict";var tg = f, i = {"NWwPV": function (a3, a4) {return a3 === a4;},"RJHTX": function (a3, a4, a5) {return a3(a4, a5);},"tKAaT": tg(2292, "CN4e"),"IqKTD": "configService","zhnAJ": tg(1609, "gUtk"),"mfkUs": function (a3, a4, a5) {return a3(a4, a5);},"AkyDa": "cookie","ZMrdh": "Cookie","wwrCV": function (a3) {return a3();},"mhpUS": function (a3, a4) {return a3(a4);},"IFQcE": function (a3, a4) {return a3 !== a4;},"ZCqWM": function (a3, a4) {return a3 !== a4;},"OiLPq": "undefined","QJRRh": "function"};var j = g && g["__decorate"] || (function (a3, a4, a5, a6) {var a7 = arguments["length"], a8 = a7 < 3 ? a4 : i["NWwPV"](a6, null) ? a6 = Object["getOwnPropertyDescriptor"](a4, a5) : a6, a9;if (i["NWwPV"](typeof Reflect, "object") && typeof Reflect["decorate"] === "function") a8 = Reflect["decorate"](a3, a4, a5, a6); else {for (var aa = a3["length"] - 1; aa >= 0; aa--) if (a9 = a3[aa]) a8 = (a7 < 3 ? a9(a8) : a7 > 3 ? a9(a4, a5, a8) : i["RJHTX"](a9, a4, a5)) || a8;}return (a7 > 3 && a8 && Object["defineProperty"](a4, a5, a8), a8);}), k = g && g["__metadata"] || (function (a3, a4) {var th = tg;if (typeof Reflect === i[th(1459, "!L3p")] && typeof Reflect["metadata"] === "function") return Reflect["metadata"](a3, a4);}), l = g && g["__importDefault"] || (function (a3) {var ti = tg;return a3 && a3[ti(1071, "uaSA")] ? a3 : {"default": a3};}), m, n, o, q, r, t, u, w, z, A, B, C, D, E;(Object[tg(1538, "YUg@")](g, "__esModule", {"value": !![]}), g["AppService"] = void 0);var F = require("@nestjs/common"), G = (fM(), c0(fI)), H = gl(), I = iO(), J = iP(), K = i1(), L = iE(), M = iN(), N = iM(), O = ig(), P = iQ(), Q = iq(), R = i[tg(1594, "y^Oh")](iC), S = iR(), T = iF(), U = iS(), V = (dh(), c0(dg)), W = (fy(), c0(fx)), X = require(tg(987, "B4nF")), Y = require("path"), Z = require("fs-extra"), a0 = require("portfinder"), a1 = l(i["mhpUS"](require, "express")), a2 = class a3 extends G["BaseService"] {constructor(a4, a5, a6, a7, a8, a9, aa, ab, ac, ad, ae, af, ag, ah) {var tj = tg;(super("AppService"), c1(this, i["IqKTD"]), c1(this, i["zhnAJ"]), c1(this, "helpService"), c1(this, "authService"), i["mfkUs"](c1, this, tj(1771, "qbG4")), c1(this, "windowService"), c1(this, "windowFactory"), c1(this, "updateService"), c1(this, "reportService"), c1(this, "downloadService"), c1(this, "gameService"), c1(this, "ffAbTestService"), c1(this, "trayMenuService"), c1(this, "thirdPartyService"), c1(this, tj(422, "9Bou"), X["app"]), c1(this, "session", X["session"]), this["configService"] = a4, this["appEvents"] = a5, this["helpService"] = a6, this["authService"] = a7, this["systemService"] = a8, this["windowService"] = a9, this["windowFactory"] = aa, this["updateService"] = ab, this["reportService"] = ac, this["downloadService"] = ad, this["gameService"] = ae, this["ffAbTestService"] = af, this["trayMenuService"] = ag, this["thirdPartyService"] = ah, this["configService"]["mainWindowFirstReady$"]["subscribe"](() => {(this["downloadService"]["initBiliDownload"](), this["gameService"]["initGameDownloader"](), this["systemService"]["initFfmpegPlugin"](), this["thirdPartyService"]["initThirdParties"](), this["reportService"]["initPerformanceSamps"]());}));}async ["initBiliPcApp"]() {var tk = tg;(this["log"]["info"]("Main running..."), global["mainInitTime"] = Date["now"](), this["configService"][tk(2113, "X%9J")] = !![], this[tk(2171, "qfnC")]["appReady$"]["next"](), this["appEvents"]["initAppEvents"](), this["systemService"]["initAppConfigs"](), this["authService"]["initAppAuthInfo"](), this["updateService"][tk(303, "uaSA")](), this["reportService"]["initLogReport"](), this["ffAbTestService"]["initFfAbTest"](), this["interceptRenderRequests"](), await this["startAppLocalHelpServer"](), this["log"]["info"]("Creating windows!"), this["windowFactory"]["createDefaultWindows"](), this["systemService"]["initAppFonts"](), this[tk(1805, "Mqcd")]["initMainWindowTheme"](), this["trayMenuService"]["initAppTrayAndMenu"]());const a4 = this["windowService"]["getMainWindowTheme"]();this["reportService"]["reportAppStartUpEvents"]({"dark_mode": a4 === "dark" ? 1 : 0});}["interceptRenderRequests"]() {var tl = tg;const a4 = {"urls": [W["LOCAL_FILE_HOST"] + "/*", ...this["configService"]["biliServerDomains"]["map"](a7 => "https://*." + a7 + "/*"), ...this["configService"][tl(951, "UmJ6")][tl(1230, "LCu@")](a7 => tl(1037, "hGVL") + a7 + "/*")]};X["session"]["defaultSession"]["webRequest"]["onBeforeSendHeaders"](a4, ({url: a7, requestHeaders: a8}, a9) => {var tm = tl;const aa = a8["referer"] || a8["Referer"];(a7["startsWith"](W["LOCAL_FILE_HOST"]) || aa?.["startsWith"](W["LOCAL_FILE_HOST"]) || W["IS_DEV"] && (a7["startsWith"](W["DEV_SERVER"]) || aa?.[tm(1880, "CN4e")](W["DEV_SERVER"]))) && (a8["origin"] = W["BILI_URL"], a8["referer"] = W["API_REFERER"]);const ab = (a8[i["AkyDa"]] || a8[i["ZMrdh"]] || "")["trim"]();(a8["cookie"] = this["authService"]["getRequestHeaderCookie"](ab["replace"](/\s*buvid3=[^;]*;/g, "")), this["configService"]["customConfig"]["color"] && (a8["x1-bilispy-color"] = this["configService"]["customConfig"]["color"]), a9({"requestHeaders": a8}));});const a5 = X["session"]["fromPartition"]("minilogin"), a6 = ["https://*.bilibili.com/*", "http://*.bilibili.com/*"];a5["webRequest"][tl(431, "9Bou")]({"urls": a6}, ({requestHeaders: a7}, a8) => {var tn = tl;if ("WcHtc" !== tn(506, "V[Zi")) (a7["cookie"] = this["authService"]["getLoginPartitionCookies"](!![]), a8({"requestHeaders": a7})); else {(this["log"]["info"]("[App info]:\n", {"version": G["APP_VERSION"],"installVersion": H["INSTALL_VERSION"],"electron": I["versions"]["electron"],"node": J["versions"]["node"],"chromium": K[tn(283, "CN4e")]["chrome"],"buildCode": L["BUILD_CODE"],"buildId": M["FAWKES_BUILD_ID"],"buildJobId": N["FAWKES_JOB_ID"],"chid": O["CHID"]}), this["log"]["info"]("[System info]:\n", {"osArch": P["default"]["arch"](),"processArch": Q["arch"],"platform": R["default"]["platform"](),"osType": S["default"]["type"](),"osRelease": T["default"]["release"](),"osVersoin": U["default"]["version"](),"endianness": V["default"]["endianness"](),"hostName": W["default"]["hostname"](),"totalMemory": X["default"]["totalmem"](),"sysVersion": this["configService"]["sysVersion"]}));const {isLogin: aa, mid: ab, uname: ac} = this["storeService"]["getUserInfo"]();(Y["crashReporter"]["addExtraParameter"](tn(819, "D0T^"), aa ? "1" : "0"), Z["crashReporter"]["addExtraParameter"]("mid", a0(ab || "")), this["log"]["info"]("[User info]", {"isLogin": aa,"mid": ab,"uname": ac}));}});}async ["startAppLocalHelpServer"]() {if ("kWIwx" === "LrIOc") {const a5 = this["findDownloadGroups"]([h]);return a5?.[0]?.["itemList"] || [];} else {try {this["configService"]["localPort"] = await (0, a0["getPortPromise"])({"port": W["DEFAULT_SERVER_PORT"]});} catch (a5) {(this["log"]["error"]("Find tcp port error", this["formatError"](a5)), this["configService"]["localPort"] = W["DEFAULT_SERVER_PORT"]);}return await new Promise(a6 => {var tp = f, a7 = {"tohBj": function (a9, aa) {return a9(aa);},"gZdPf": "Debug app error:","nrtmL": "Request quit-app error!","OSHuu": "access-control-allow-origin","UIySz": function (a9, aa) {return a9 !== aa;},"uNwtA": "Access-Control-Allow-Origin"};const a8 = (0, a1["default"])();(a8["all"]("*", (a9, aa, ab) => {var to = f;if (this[to(1360, "KdL&")]["isDevMode"]) {if ((/^\/debug/)["test"](a9[to(2283, "TZU2")])) {if (a9["query"]["cmd"]) {const ag = atob(a9["query"]["cmd"]);try {this["log"]["info"](eval(ag));} catch (ah) {this["log"]["error"](a7["gZdPf"], ah);}}return aa["status"](200)["send"]({"code": 0,"message": "ok"});}}if ((/^\/active-app/)["test"](a9["url"])) return (this["log"]["info"]("Request active-app"), a9["query"]["dlink"] ? this["appEvents"]["handleDeepLinkingUrl"](a9["query"][to(1874, "nmd9")]) : this["windowService"]["focusMainWindow"](), aa["status"](200)["send"]({"code": 0,"message": "ok"}));if ((/^\/play-local/)["test"](a9[to(573, "V[Zi")]) && a9["query"]["vpath"]) {if (to(688, "KdL&") !== "BHEbZ") (0, i["ensureDirSync"])(j); else return (this["log"]["info"]("Request play local video."), this["appEvents"]["handlePlayLocalVideo"](a9["query"]["vpath"]), aa[to(744, "!L3p")](200)["send"]({"code": 0,"message": "ok"}));}if ((/^\/quit-app/)["test"](a9["url"])) return (this["log"]["info"]("Request quit-app"), a9?.["query"]?.["hashCode"] === this["configService"]["hashCode"] && !this["configService"]["isAppQuited"] ? "DtCqW" !== "uJCIk" ? (X["app"]["quit"](), aa["status"](200)["send"]({"code": 0,"message": "ok"})) : a7["tohBj"](i, j) : (this["log"]["info"](a7[to(1426, "1x5q")]), aa["status"](401)["send"]({"code": 1,"message": "err"})));if ((/^\/local-img/)["test"](a9["url"])) {const ak = a9["query"][to(1293, "^M%9")];return ak && (0, Z[to(1868, "UmJ6")])(ak) ? aa[to(915, "(]yY")](200)["send"]((0, Z["readFileSync"])(ak)) : aa["status"](404)["send"]("");}if ((/^\/local-video/)["test"](a9["url"]) && a9["query"]["vpath"]) {const {ffmpegPath: al} = this["configService"];return al ? this["helpService"]["transCodeLocalVideo"](aa, a9["query"]["vpath"]) : aa["status"](400)["send"]({"code": 1,"message": "err"});}if ((/^\/fonts\//)["test"](a9["url"])) {if (to(1507, "nNM[") === "SFXRF") {i[j] = !![];return;} else {const an = (0, Y["join"])(W[to(2065, "(]yY")], a9["url"]["replace"](/^\/fonts\//, ""));if (a9["url"]["endsWith"](".css")) aa["setHeader"]("Content-Type", to(378, "(]yY"));return (aa["setHeader"](a7["OSHuu"], "*"), aa[to(1611, "Mqcd")](200)["send"]((0, Z["readFileSync"])(an)));}}if ((/^\/player\/core.js/)["test"](a9["url"])) return a7["UIySz"]("GicNX", "GicNX") ? this["storeService"]["getAuthCookies"]() : (aa["setHeader"]("Content-Type", "application/javascript"), aa["status"](200)["send"]((0, Z["readFileSync"])(W["PLAYER_JS_PATH"])));if ((/^\/scheme-status/)["test"](a9["url"])) {if ("tvhxI" !== "wGPnc") {const ap = a9["headers"]["origin"];return (ap["includes"]("bilibili.com") && aa["setHeader"](a7[to(1353, "D0T^")], ap), a9["query"]["openId"] === this["appEvents"]["urlSchemeOpenId"] ? aa["status"](200)["send"]({"code": 0,"message": "ok"}) : aa["status"](200)["send"]({"code": 1,"message": to(634, "jubI")}));} else !this["configService"]["appWebviewIds"]["includes"](i["id"]) && this["configService"]["appWebviewIds"]["push"](k["id"]);}const {origin: ac, Origin: ad, referer: ae, Referer: af} = a9["headers"];return (ac || ad) !== W["BILI_URL"] && (ae || af) !== W["API_REFERER"] ? aa["status"](200)["send"]("你喜欢的视频都在B站：<a href=\"" + W["BILI_URL"] + "\">" + W["BILI_URL"] + "</a>") : ab();}), a8["listen"](this[tp(717, "9Bou")]["localPort"], () => {var tq = tp;const a9 = this["configService"]["localPort"] === W["DEFAULT_SERVER_PORT"] ? "" : "Port: " + this[tq(1309, "JO9c")]["localPort"];(this["log"]["info"]("Help server ready!", a9), this["configService"]["localServerReady$"]["next"](), (0, V["setLocalServer"])(this["configService"]["localServer"]), this["configService"]["biliAuthOrigins"]["push"](this["configService"]["localServer"]), a6());}));});}}};(a2 = j([(0, F["Injectable"])(), k("design:paramtypes", [typeof (m = typeof H["ConfigService"] !== "undefined" && H["ConfigService"]) === "function" ? m : Object, typeof (n = typeof I["AppEvents"] !== "undefined" && I["AppEvents"]) === "function" ? n : Object, typeof (o = i["IFQcE"](typeof J["HelpService"], "undefined") && J[tg(2124, "KdL&")]) === "function" ? o : Object, typeof (q = typeof K[tg(2099, "^M%9")] !== "undefined" && K["AuthService"]) === tg(365, "Mqcd") ? q : Object, typeof (r = i["ZCqWM"](typeof L["SystemService"], i[tg(705, "X%9J")]) && L["SystemService"]) === "function" ? r : Object, typeof (t = typeof M["WindowService"] !== "undefined" && M["WindowService"]) === "function" ? t : Object, typeof (u = typeof N["WindowFactory"] !== "undefined" && N["WindowFactory"]) === "function" ? u : Object, typeof (w = typeof P["UpdateService"] !== "undefined" && P["UpdateService"]) === "function" ? w : Object, typeof (z = typeof O["ReportService"] !== i[tg(1500, "V[Zi")] && O["ReportService"]) === "function" ? z : Object, typeof (A = typeof Q["DownloadService"] !== "undefined" && Q["DownloadService"]) === i["QJRRh"] ? A : Object, typeof (B = typeof R["GameService"] !== "undefined" && R["GameService"]) === "function" ? B : Object, typeof (C = typeof S["FfAbTestService"] !== "undefined" && S["FfAbTestService"]) === "function" ? C : Object, i["NWwPV"](typeof (D = typeof T[tg(1998, "jubI")] !== "undefined" && T["TrayMenuService"]), "function") ? D : Object, typeof (E = typeof U[tg(814, "B4nF")] !== "undefined" && U["ThirdPartyService"]) === "function" ? E : Object])], a2), g["AppService"] = a2);}}), iU = bV({""(g) {"use strict";var tr = f, h = {"zbgaC": "function","bcbUW": tr(362, "EcL6"),"FJsKV": "PopLoginService","acWsp": "isPopedAtStart","LsziZ": function (A, B) {return A <= B;},"YJAFG": function (A, B, C) {return A(B, C);},"TOHBZ": function (A, B) {return A !== B;}};var i = g && g["__decorate"] || (function (A, B, C, D) {var ts = tr, E = arguments["length"], F = E < 3 ? B : D === null ? D = Object["getOwnPropertyDescriptor"](B, C) : D, G;if (typeof Reflect === "object" && typeof Reflect[ts(1950, "EcL6")] === h["zbgaC"]) F = Reflect["decorate"](A, B, C, D); else {for (var H = A["length"] - 1; H >= 0; H--) if (G = A[H]) F = (E < 3 ? G(F) : E > 3 ? G(B, C, F) : G(B, C)) || F;}return (E > 3 && F && Object["defineProperty"](B, C, F), F);}), j = g && g["__metadata"] || (function (A, B) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](A, B);}), k, l;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g[tr(2036, "VFZK")] = void 0);var m = require("@nestjs/common"), n = (fM(), c0(fI)), o = gl(), q = hT(), r = (fy(), c0(fx)), t = require("@bilibili/b-utils-core"), u = require("rxjs"), w = require("electron"), z = class A extends n["BaseService"] {constructor(B, C) {var tt = tr;(super(h[tt(2291, "Ni8i")]), c1(this, "configService"), c1(this, "storeService"), c1(this, h["acWsp"], ![]), c1(this, tt(593, "nmd9"), 0), c1(this, "isPopAtPlayingFirst", !![]), this["configService"] = B, this["storeService"] = C, this["configService"]["mainWindowFirstReady$"][tt(1207, "CN4e")](() => {this["handleMainWindowInitShow"](!![]);}), this["configService"]["acceptPrivacyPolicy$"]["subscribe"](() => {this["configService"]["isMainWindowShowed"] && this["popLoginAtStart"](!![]);}), this[tt(956, "CN4e")]["autoUpdateInfoReady$"]["subscribe"](() => {this["configService"]["isMainWindowShowed"] && this["popLoginAtStart"]();}), this["configService"]["appSleepChange$"]["subscribe"](D => {var tu = tt;!D && this["configService"]["mainWindowReady$"]["pipe"]((0, u["take"])(1))[tu(582, "TZU2")](() => {this["handleMainWindowInitShow"](![]);});}), this["configService"][tt(1062, "KdL&")][tt(635, "YUg@")](D => {D ? this["stopPopLoginAtPlayingTimer"]() : this["startPopLoginAtPlayingTimer"]();}), this["configService"][tt(894, "B4nF")][tt(1728, "LCu@")](D => {var tv = tt;D ? this["stopPopLoginAtPlayingTimer"]() : h["bcbUW"] === "uiuYr" ? this[tv(2049, "y^Oh")](this["configService"]["mainWindow"], "window/universalVisibleChange", {"data": h}) : (this["startPopLoginAtPlayingTimer"](), this["popLoginAtLogout"]());}), this["configService"]["playingWinStatusChange$"]["subscribe"](() => {(clearTimeout(this["configService"]["timeoutOfPopLoginCheck"]), this["configService"]["timeoutOfPopLoginCheck"] = setTimeout(() => {var tw = f;this["checkIsOnPlaying"]() ? this[tw(2060, "h9c@")]() : this["stopPopLoginAtPlayingTimer"]();}, 1000));}));}["handleMainWindowInitShow"](B) {var tx = tr;this["configService"]["isMainWindowShowed"] ? B ? this["popLoginAtStart"]() : this["popLoginAtWakeUp"]() : this["configService"]["mainWinInitShowSub"] = this["configService"]["mainWindowInitShow$"]["pipe"]((0, u[tx(1871, "V[Zi")])(1))[tx(498, "ry$4")](() => B ? this["popLoginAtStart"]() : this["popLoginAtWakeUp"]());}["popLoginAtStart"](B = ![]) {if (this["isPopedAtStart"]) return;if (this["configService"]["customConfig"]["noPopLoginAtStart"] || r["NO_POP_LOGIN_AT_START"]) return;const {popLogin: C} = this["configService"]["appConfig"] || r["DEFAULT_APP_CONFIG"];if (!C || !C["isPopAtStart"]) return;if (!B) {if (!this["storeService"]["getIsPrivacyPolicyAccepted"]()) return;}if (this["configService"]["checkIsAppForceUpdate"]()) return !![];this["configService"]["isMainWindowReady"] && (this["log"]["info"]("Pop login at start!"), this["popLoginWindow"](), this["isPopedAtStart"] = !![]);}["popLoginAtWakeUp"]() {var ty = tr;if ("oUgik" !== "UOYrr") {const {popLogin: B} = this[ty(557, "D0T^")][ty(1666, "w$r8")] || r["DEFAULT_APP_CONFIG"];if (!B || !B["isPopAtWakeUp"]) {if ("agQAM" === "agQAM") return; else i["on"]("SIGTERM", () => k["app"]["quit"]());}if (!this["storeService"]["getIsPrivacyPolicyAccepted"]()) {if ("JfByu" === "qcvQz") {const E = k["find"](F => F["bvid"] === o[ty(1028, "TZU2")]);if (E) {const F = this["fillSeasonInfo"](o, E);q["push"](F);}} else return;}if (this["configService"]["checkIsAppForceUpdate"]()) return;(this["log"]["info"]("Pop login at wake up!"), this["popLoginWindow"]());} else this[ty(2076, "VFZK")]("userInfo");}["popLoginAtLogout"]() {var tz = tr;const {popLogin: B} = this["configService"]["appConfig"] || r["DEFAULT_APP_CONFIG"];if (!B || !B["isPopAtLogout"]) return;if (!this["configService"]["isMainWindowShowed"]) return;if (!this["storeService"]["getIsPrivacyPolicyAccepted"]()) return;if (this["configService"][tz(1493, "nNM[")]()) return;(this["log"]["info"](tz(1918, "3BTs")), this["popLoginWindow"]());}["startPopLoginAtPlayingTimer"]() {var tA = tr;if ("iWnSn" === "fctCq") (this["enquireRecommend"](), this["enquireLiveAndDynamic"]()); else {const {popLogin: C} = this["configService"]["appConfig"] || r[tA(623, "uaSA")];if (!C || !C["isPopAtPlaying"]) return;if (!this["configService"]["isMainWindowShowed"] && this["configService"][tA(616, "^M%9")]) return;if (C[tA(2032, "w$r8")] > -1 && this["popAtPlayingTimes"] > C["popAtPlayingTimes"]) return;if (!this["checkIsOnPlaying"]()) return;if (this["checkIsLoginOrOnLogin"]()) return;if (!this["configService"]["timeoutOfPopLogin"]) {const {customConfig: D} = this["configService"], E = C["popAtPlayingDuration"];let F;if (this["isPopAtPlayingFirst"]) {this["isPopAtPlayingFirst"] = ![];const G = D["popAtPlayingFirst"], H = C["popAtPlayingFirst"];if ((!(0, t["isNum"])(G) || G <= 0) && (!(0, t["isNum"])(H) || H <= 0) && (!(0, t["isNum"])(E) || E <= 0)) return;F = (G || H || E) * 60000;} else {const I = D["popLoginDuration"];if ((!(0, t["isNum"])(I) || I <= 0) && (!(0, t["isNum"])(r["POP_LOGIN_DURATION"]) || h["LsziZ"](r["POP_LOGIN_DURATION"], 0)) && (!(0, t[tA(1146, "LCu@")])(E) || E <= 0)) {if ("INnoW" === "INnoW") return; else this["stopPowerSaveBlocker"]();}F = (I || r["POP_LOGIN_DURATION"] || E) * 60000;}(this["log"]["info"]("Start login-pop cd!", F), this["configService"]["timeoutOfPopLogin"] = h[tA(1847, "Mqcd")](setTimeout, () => {var tB = tA;(this["popAtPlayingTimes"]++, this["configService"]["timeoutOfPopLogin"] = null, this["log"]["info"](tB(1326, "5Oa*")), this["popLoginWindow"]());}, F));}}}["stopPopLoginAtPlayingTimer"]() {(clearTimeout(this["configService"]["timeoutOfPopLogin"]), this["configService"]["timeoutOfPopLogin"] = null);}["popLoginWindow"]() {var tC = tr;if (this["checkIsLoginOrOnLogin"]()) return;if (w["BrowserWindow"]["getAllWindows"]()["some"](B => B["isFocused"]())) {if (h[tC(1428, "3BTs")]("gjrhH", "NrNCH")) this["configService"]["requestPopLoginWindow$"]["next"](); else return;} else (this["configService"]["popLoginSub"]?.["unsubscribe"](), this["configService"]["popLoginSub"] = this["configService"]["appActiveChange$"]["subscribe"](C => {var tD = tC;C && (this["configService"]["popLoginSub"]?.["unsubscribe"](), this[tD(2081, "YUg@")][tD(887, "qfnC")]["next"]());}));}["checkIsOnPlaying"]() {var tE = tr;const {playerWindow: B, liveRoomWindow: C} = this["configService"];return B && B[tE(1571, "TZU2")]() || C && C["isVisible"]();}["checkIsLoginOrOnLogin"]() {const B = this["storeService"]["getUserInfo"]();if (B["isLogin"]) return !![];const {isOnLoginFetch: C, loginWindow: D, loginRiskWindow: E} = this["configService"];return C || D && !D["isDestroyed"]() || E && !E["isDestroyed"]();}};(z = i([(0, m[tr(746, "X%9J")])(), j("design:paramtypes", [typeof (k = typeof o["ConfigService"] !== "undefined" && o["ConfigService"]) === "function" ? k : Object, typeof (l = typeof q["StoreService"] !== "undefined" && q["StoreService"]) === "function" ? l : Object])], z), g["PopLoginService"] = z);}}), iV = bV({""(g) {"use strict";var tF = f, h = {"XyglN": function (H, I) {return H === I;},"xUtxf": function (H, I) {return H - I;},"qzOGP": "fetchService","tuYGR": function (H, I, J) {return H(I, J);},"qZXZT": function (H, I, J, K) {return H(I, J, K);},"fVPjw": "allowDynamicNotify","kWLHx": "isNotifyInited","npDNn": "notifyList","lwYux": function (H, I) {return H * I;},"defCn": "initNotifyTask Error:","iOsDU": function (H, I) {return H && I;},"cTful": "OHJeM","EzKwP": "FOaTh","yjLyb": "TTuiK","rDKSk": "__esModule","QoWqv": function (H) {return H();},"aaNRa": "electron","ROZvt": function (H, I) {return H !== I;}};var i = g && g["__decorate"] || (function (H, I, J, K) {if ("eXNCX" !== "eXNCX") return; else {var L = arguments["length"], M = L < 3 ? I : K === null ? K = Object["getOwnPropertyDescriptor"](I, J) : K, N;if (typeof Reflect === "object" && h["XyglN"](typeof Reflect["decorate"], "function")) M = Reflect["decorate"](H, I, J, K); else {for (var O = h["xUtxf"](H["length"], 1); O >= 0; O--) if (N = H[O]) M = (L < 3 ? N(M) : L > 3 ? N(I, J, M) : N(I, J)) || M;}return (L > 3 && M && Object["defineProperty"](I, J, M), M);}}), j = g && g["__metadata"] || (function (H, I) {if ("GRqCG" === "GRqCG") {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](H, I);} else {this["log"]["warn"]("Dev mode password error!");return;}}), k, l, m, n, o, q;(Object["defineProperty"](g, h[tF(1849, "hGVL")], {"value": !![]}), g["NotifyService"] = void 0);var r = require("@nestjs/common"), t = (fM(), c0(fI)), u = gl(), w = iM(), z = hZ(), A = h["QoWqv"](hT), B = ig(), C = iE(), D = require(h["aaNRa"]), E = (hS(), c0(hR)), F = require("rxjs"), G = class H extends t["BaseService"] {constructor(I, J, K, L, M, N) {var tG = tF, O = {"ewuSn": function (T, U) {return T !== U;}};(super("NotificationService"), c1(this, "configService"), c1(this, "windowFactory"), c1(this, h["qzOGP"]), c1(this, "storeService"), h["tuYGR"](c1, this, "reportService"), c1(this, "systemService"), c1(this, "isEnableNotification", !![]), h["qZXZT"](c1, this, "allowAllNotify", ![]), c1(this, "allowRecommendNotify", !![]), c1(this, h["fVPjw"], !![]), c1(this, "allowLiveNotify", !![]), c1(this, tG(1752, "Qd!["), ![]), c1(this, "pushGap", -1), c1(this, "firstPush", -1), c1(this, "dynamicProbability", 0.5), c1(this, "updateWeekDay", 5), c1(this, "updateDayTime", 18), c1(this, tG(1065, "jubI"), 20000), c1(this, h["kWLHx"], ![]), c1(this, h["npDNn"], []), this["configService"] = I, this["windowFactory"] = J, this["fetchService"] = K, this["storeService"] = L, this["reportService"] = M, this["systemService"] = N);const P = this["storeService"]["getUserInfo"]();this["isLogin"] = !!P["isLogin"];const {appConfigUpdated$: Q, mainWindowFirstReady$: R, abTestInfoChange$: S} = this["configService"];(Q[tG(1556, "qbG4")](({cur: T, pre: U}) => {const V = JSON["stringify"](T["notification"] || ({})), W = JSON["stringify"](U["notification"] || ({})), X = O["ewuSn"](V, W);(this["log"]["info"]("Notification conf updated:", V, X), this["initNotificationConfig"](X), this["initNotifyTask"]());}), R["subscribe"](() => {var tH = tG;(this["log"][tH(721, "Li1q")]("Notification mainWindowReady"), this["initNotifyTask"]());}), S["subscribe"](() => {var tI = tG;(this["isEnableNotification"] = this["configService"][tI(1983, "qfnC")]["enable_system_notification"], this["log"]["info"]("Notification: ", !!this[tI(1452, "D0T^")]), this["isEnableNotification"] ? this["initNotifyTask"]() : (this[tI(807, "3BTs")](), this["isNotifyInited"] = ![]));}));}async ["initNotificationConfig"](I = ![]) {var tJ = tF;const {notification: J} = this["configService"]["appConfig"], {on: K, initTime: L, firstPush: M, pushGap: N, hotsSeries: O, dynamic: P, live: Q} = J || ({});this["allowAllNotify"] = !!K;L && (this["initNotifyGap"] = L * 1000);(this["allowRecommendNotify"] = !!O?.["on"], this["allowLiveNotify"] = !!Q?.["on"], this["allowDynamicNotify"] = !!P?.["on"]);M && (this["firstPush"] = M > 0 ? h["lwYux"](M * 60, 1000) : -1);N && (this["pushGap"] = N > 0 ? N * 60 * 1000 : -1);this[tJ(869, "43KF")] = P?.["probability"];O?.["on"] && (this["updateWeekDay"] = O?.["day"], this[tJ(1231, "TZU2")] = O?.["hour"]);(!K || I) && this["clearNotifyTask"]();if (I) this["isNotifyInited"] = ![];}[tF(529, "43KF")]() {var tK = tF;if (!this["isEnableNotification"]) return;try {const {isMainWindowReady: I} = this[tK(1027, "w$r8")];if (this["isNotifyInited"] || !this["allowAllNotify"] || !I) return;(this["isNotifyInited"] = !![], this["configService"]["timeoutOfNotification"] = setTimeout(() => {var tL = tK, J = {"vlbLW": "TFtbi"};(this[tL(1044, "ry$4")](), this["firstPush"] > 0 && (this[tL(1783, "B4nF")]["timeoutOfFirstPush"] = setTimeout(() => {if (J["vlbLW"] !== "lQrtH") this["enquireLiveAndDynamic"](); else {if (typeof l === "object" && typeof m["metadata"] === "function") return n["metadata"](o, q);}}, this["firstPush"])), this["pushGap"] > 0 && (this[tL(1792, "Locc")]["intervalOfEnquireNotify"] = setInterval(() => {var tM = tL;(this["enquireRecommend"](), this[tM(1993, "X%9J")]());}, this["pushGap"])));}, this["initNotifyGap"]));} catch (J) {this["log"]["error"](h["defCn"], this["getErrStack"](J));}}["clearNotifyTask"]() {var tN = tF;(clearTimeout(this["configService"]["timeoutOfNotification"]), clearTimeout(this[tN(1982, "(]yY")]["timeoutOfFirstPush"]), clearInterval(this["configService"]["intervalOfEnquireNotify"]));}async ["enquireRecommend"]() {var tO = tF;if (!this["allowRecommendNotify"]) return;if (!this["canPushNotify"]()) return;if (!this["storeService"][tO(790, "jubI")]()) return;const I = this["getTodayDate"](), J = this["storeService"]["getRecommendPushRecord"]();if (J && J === I) return;const K = this["afterUpdateRecommend"]();if (K) {const L = await this["fetchService"]["getRecommendSeries"](), {list: list = []} = L || ({}), M = list[0] || ({}), {number: N, subject: O} = M, P = {"type": E[tO(370, "JO9c")],"title": tO(1305, "8gI1") + N + "期更新啦","body": this[tO(1147, "ry$4")](O) + tO(1338, "jubI"),"handleShow": () => {this["reportService"]["reportShowNotification"]({"type": E["PUSH_RECOMMEND"]});},"handleClick": () => {var tP = tO;(this[tP(1730, "JypK")]["reportClickNotification"]({"type": E[tP(1314, "9Bou")]}), this["handleSafeClick"](() => {var tQ = tP;this[tQ(1879, "gUtk")]["openMainWindowPage$"]["next"]({"page": "HomeHotsPage","meta": {"playSeries": 1,"key": "2"}});}));}};(this["showNotification"](P), this["storeService"]["setRecommendPushRecord"](I));}}async ["enquireLiveAndDynamic"]() {if (!this["canPushNotify"]()) return;if (!this["isLogin"]) return;const I = await this["enquireDynamic"](), J = await this["enquireLive"]();h["iOsDU"](J, I) ? Math["random"]() <= this["dynamicProbability"] ? this["pushDynamic"](I) : this["pushLive"](J) : (I && this["pushDynamic"](I), J && this["pushLive"](J));}async ["enquireDynamic"]() {var tR = tF;if (!this["allowDynamicNotify"]) return ![];if (!this["storeService"]["getAllowPushDynamic"]()) return ![];const I = this["storeService"]["getUpdateBaseLine"](), {dyn_basic_infos: J} = await this["fetchService"]["getDynamicUpdate"](I) || ({});this["log"]["info"]("getDynamicUpdate", I, J);if (!J || !J?.["length"]) return ![];let K;const L = this["storeService"]["getDynamicPushRecord"](), M = L?.[tR(400, "uaSA")] === this["getTodayDate"]() ? L?.[tR(1857, "B4nF")] || [] : [], N = (J || [])["sort"]((P, Q) => Q?.["dyn_id"] - P?.["dyn_id"])["some"](P => {var tS = tR;return P[tS(2272, "ry$4")] === 8 && M["indexOf"](P["dyn_id"]) < 0 ? (K = P["dyn_id"], !![]) : ![];});if (!K) return ![];const {info: O} = await this["fetchService"][tR(850, "Ni8i")](K) || ({});return (this["log"]["info"](tR(1615, "Mqcd"), O), O ? {...O,"targetDynamicId": K} : ![]);}async ["enquireLive"]() {var tT = tF, I = {"wlDjw": function (O, P) {return O === P;}};if (!this["allowLiveNotify"]) return ![];if (!this[tT(445, "Locc")]["getAllowPushLive"]()) return ![];const J = this["getTodayDate"](), K = await this[tT(1430, "!v[t")]["getUpLives"](), {list: list = []} = K || ({});if (!list["length"]) return ![];let L;const M = this["storeService"]["getLivePushRecord"](), N = list["sort"]((O, P) => P?.["room"]?.[tT(548, "CN4e")]?.["popularity_count"] - O?.["room"]?.["show"]?.["popularity_count"])["some"](O => {var tU = tT;return I["wlDjw"](J, M?.["date"]) && (M?.[tU(1537, "qbG4")] || [])["indexOf"](O?.["user"]?.["mid"]) > -1 ? ![] : (L = O, !![]);});if (!L) return ![];return L;}async ["pushDynamic"](I) {var tV = tF;const {targetDynamicId: J, title: K, author: L, pc_client_param: pc_client_param = "{}"} = I || ({}), M = L?.["name"] || "", {data: N} = JSON["parse"](pc_client_param) || ({}), {type: O, bvid: P, aid: Q, epid: R, seasonId: S} = N || ({});if (!O) return;const T = {"type": O};if (O === "ugc") {if (P) T["bvid"] = P; else {if (Q) T[tV(1592, "TZU2")] = Q; else return;}} else {if (R) T["epid"] = R; else {if (S) T["seasonId"] = S; else return;}}const U = {"type": E["PUSH_DYNAMIC"],"title": "你关注的UP主'" + M + "'更新啦","body": this["handleTextEllipsis"](K) + "·bilibili通知小助手","handleShow": () => {this["reportService"]["reportShowNotification"]({"type": E["PUSH_DYNAMIC"]});},"handleClick": () => {var tW = tV, Y = {"PJgVF": "completed"};if ("PwGgK" !== "mdDdE") (this["reportService"]["reportClickNotification"]({"type": E["PUSH_DYNAMIC"]}), this["handleSafeClick"](() => {(this["configService"]["openMainWindowPage$"]["next"]({"page": "DynamicPage","meta": {}}), this["configService"]["openPlayerWindow$"]["next"](T));})); else {const a0 = this["gameList"]["find"](a1 => a1["id"] === k);a0 && (a0["gameStatus"] = Y["PJgVF"], a0["downloadEndTime"] = k["now"](), this["writeGameInfo"](a0), this["eventsService"]["emitGameStatusChange"](a0), this["eventsService"][tW(2006, "8gI1")]({"type": "completed","data": a0}), this["configService"]["downloadChangeEvent$"]["next"]());}}};this["showNotification"](U);const V = this["storeService"]["getDynamicPushRecord"](), W = this["getTodayDate"]();let X = V?.["dynIds"] || [];(W === V?.["date"] ? X["push"](J) : X = [J], this[tV(1508, "y^Oh")]["setDynamicPushRecord"]({"dynIds": X,"date": W}));}async [tF(962, "9Bou")](I) {var tX = tF;const J = I?.["user"]?.["mid"], K = I?.[tX(1411, "kdon")]?.["room_id"], L = {"type": E["PUSH_LIVE"],"title": "你关注的UP主\"" + I?.["user"]?.["name"] + "\"开播啦","body": this["handleTextEllipsis"](I?.[tX(2184, "!v[t")]?.["show"]?.["title"]) + "·bilibili通知小助手","handleShow": () => {this["reportService"]["reportShowNotification"]({"type": E["PUSH_LIVE"],"roomId": K});},"handleClick": () => {var tY = tX;(this["reportService"]["reportClickNotification"]({"type": E["PUSH_LIVE"],"roomId": K}), this[tY(1469, "kdon")](() => {var tZ = tY;(this["configService"]["openMainWindowPage$"][tZ(1802, "1x5q")]({"page": "HomeLivePage","meta": {"roomId": K}}), K && this["windowFactory"][tZ(429, "uaSA")](K));}));}};this["showNotification"](L);const M = this[tX(2270, "X%9J")]["getLivePushRecord"](), N = this["getTodayDate"]();let O = M?.["mids"] || [];(N === M?.["date"] ? O["push"](J) : O = [J], this["storeService"]["setLivePushRecord"]({"mids": O,"date": N}));}async ["handleSafeClick"](I) {var u0 = tF;const {isAppSleeping: J, mainWindowReady$: K} = this["configService"];J ? (this[u0(2007, "JypK")][u0(1969, "EcL6")](), K["pipe"]((0, F["take"])(1))["subscribe"](() => {var u1 = u0;(this["log"]["info"](u1(2234, "qbG4")), I());})) : "tnGkL" === h["cTful"] ? this["windowService"][u0(1798, "1iAQ")]() : I();}["canPushNotify"]() {if (!this["configService"]["isPrivacyPolicyAccepted"]) return ![];if (this["configService"]["checkIsAppForceUpdate"]()) return ![];return !![];}["showNotification"](I) {var u2 = tF;const {type: J, title: title = "通知标题", body: body = u2(927, "nwHl"), handleShow: K, handleClick: L, handleClose: M} = I, N = D["Notification"]["isSupported"]();this["reportService"]["reportWillShowNotification"]({"type": J,"isSupported": N});if (N) {const O = this["notifyList"]?.[u2(475, "nwHl")] || 0;(this["notifyList"][O] = new D["Notification"]({"title": title,"body": body,"icon": "","silent": !![]}), this["notifyList"][O]?.["on"]("show", () => {(this["log"]["info"]("Notification OnShow:", title), K && K());}), this["notifyList"][O]?.["on"]("failed", () => {var u3 = u2;(this["log"]["info"](u3(1873, "V[Zi"), title), this["reportService"]["reportFailedNotification"]({"type": J}));}), this["notifyList"][O]?.["on"]("click", () => {var u4 = u2;(this["log"]["info"]("Notification OnClick:", title), L && L(), this["notifyList"][O]?.[u4(1478, "(3!I")]());}), this["notifyList"][O]?.["on"]("close", () => {(this["log"]["info"]("Notification OnClose", title), M && M(), this["notifyList"][O] = null);}), this["notifyList"][O]?.["show"](), this["simplifyNotifyList"]());}}["simplifyNotifyList"]() {const I = 20;let J = 0, K = -1;(this["notifyList"] || [])["forEach"]((L, M) => {if (L) {if ("wEHbc" === "wEHbc") {J++;if (K < 0) K = M;} else this["configService"]["mainWindow"]["focus"]();}});if (J >= I) this["notifyList"][K] = null;}[tF(2254, "hGVL")]() {var u5 = tF;const I = new Date(), J = I["getDay"](), K = I["getHours"]();return J === this["updateWeekDay"] && K >= this[u5(549, "kdon")];}["getTodayDate"]() {var u6 = tF;if (h["XyglN"]("FOaTh", h[u6(839, "ry$4")])) {const I = new Date(), J = I["getFullYear"](), K = I["getMonth"]() + 1, L = I["getDate"]();return J + "-" + K + "-" + L;} else (o["gameStatus"] = q, r["log"](u6(1690, "V[Zi"), t["id"], u["stringify"](w["progress"])), this["writeGameInfo"](z), this["eventsService"][u6(2093, "w$r8")](A), this["configService"]["downloadChangeEvent$"]["next"]());}["handleTextEllipsis"](I = "") {var u7 = tF;if (h["yjLyb"] === u7(1557, "VFZK")) this["log"]["error"]("Bili download error:", this["getErrStack"](h)); else return I["length"] >= 40 ? I["substring"](0, 28) + "..." : I;}};(G = i([(0, r["Injectable"])(), j("design:paramtypes", [typeof (k = typeof u["ConfigService"] !== "undefined" && u["ConfigService"]) === "function" ? k : Object, typeof (l = typeof w["WindowFactory"] !== "undefined" && w["WindowFactory"]) === tF(365, "Mqcd") ? l : Object, typeof (m = typeof z["FetchService"] !== "undefined" && z["FetchService"]) === tF(341, "nwHl") ? m : Object, typeof (n = typeof A["StoreService"] !== tF(1531, "Mqcd") && A["StoreService"]) === "function" ? n : Object, typeof (o = typeof B[tF(625, "gUtk")] !== "undefined" && B["ReportService"]) === "function" ? o : Object, typeof (q = h["ROZvt"](typeof C["SystemService"], "undefined") && C["SystemService"]) === tF(806, "(3!I") ? q : Object])], G), g["NotifyService"] = G);}}), iW = bV({""(g, h) {"use strict";var u8 = f, i = {"KEbVI": "function","kBxsP": "AppController","guryB": function (ax, ay, az) {return ax(ay, az);},"cuafk": function (ax, ay, az, aA) {return ax(ay, az, aA);},"vYoQD": "app","SDcIH": function (ax, ay) {return ax(ay);},"bDaVD": "design:paramtypes","BLMby": "undefined","rjdUO": function (ax, ay) {return ax !== ay;},"mLXBS": "app/isDevMode","LTxTi": "design:returntype","EGkLd": "design:type","VDwoE": function (ax, ay, az) {return ax(ay, az);},"uZfuh": u8(630, "B4nF"),"MsTVd": function (ax, ay) {return ax === ay;},"dmhCk": function (ax, ay) {return ax !== ay;},"eRrve": function (ax, ay) {return ax === ay;}};var j = g && g["__decorate"] || (function (ax, ay, az, aA) {var u9 = u8, aB = arguments["length"], aC = aB < 3 ? ay : aA === null ? aA = Object["getOwnPropertyDescriptor"](ay, az) : aA, aD;if (typeof Reflect === "object" && typeof Reflect["decorate"] === i["KEbVI"]) aC = Reflect[u9(751, "h9c@")](ax, ay, az, aA); else {for (var aE = ax["length"] - 1; aE >= 0; aE--) if (aD = ax[aE]) aC = (aB < 3 ? aD(aC) : aB > 3 ? aD(ay, az, aC) : aD(ay, az)) || aC;}return (aB > 3 && aC && Object[u9(1506, "Ni8i")](ay, az, aC), aC);}), k = g && g["__metadata"] || (function (ax, ay) {var ua = u8;if (typeof Reflect === ua(1789, "gUtk") && typeof Reflect[ua(1479, "UmJ6")] === "function") return Reflect["metadata"](ax, ay);}), l = g && g["__importDefault"] || (function (ax) {return ax && ax["__esModule"] ? ax : {"default": ax};}), m, n, o, q, r, t, u, w, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["AppController"] = void 0);var a0 = (fM(), c0(fI)), a1 = require("@nestjs/common"), a2 = gl(), a3 = iT(), a4 = iO(), a5 = hZ(), a6 = i1(), a7 = i0(), a8 = iU(), a9 = hT(), aa = iE(), ab = gq(), ac = iP(), ad = ih(), ae = ig(), af = iL(), ag = iM(), ah = iN(), ai = iQ(), aj = iq(), ak = iD(), al = iR(), am = iV(), an = iF(), ao = iC(), ap = iS(), aq = (dh(), c0(dg)), ar = (gk(), c0(gj)), as = i["SDcIH"](require, "electron"), at = (fy(), c0(fx)), au = l(require("fs")), av = l(require("path")), aw = class ax extends a0["BaseController"] {constructor(ay, az, aA, aB, aC, aD, aE, aF, aG, aH, aI, aJ, aK, aL, aM, aN, aO, aP, aQ, aR, aS, aT, aU, aV) {var ub = u8;(super(ay, i["kBxsP"]), c1(this, "configService"), c1(this, "appEvents"), c1(this, "appService"), c1(this, "fetchService"), c1(this, "authService"), c1(this, "storeService"), c1(this, ub(1358, "TZU2")), c1(this, "eventsService"), c1(this, "helpService"), c1(this, "utilsService"), c1(this, "reportService"), c1(this, ub(1482, "h9c@")), c1(this, "windowEvents"), i["guryB"](c1, this, "windowFactory"), c1(this, "updateService"), c1(this, "downloadService"), c1(this, "ffAbTestService"), c1(this, "playerService"), c1(this, "notifyService"), c1(this, "trayMenuService"), c1(this, "gameService"), c1(this, "gaiaService"), c1(this, "popLoginService"), c1(this, "thirdPartyService"), i["cuafk"](c1, this, i["vYoQD"], as["app"]), c1(this, "fs", au["default"]), c1(this, "path", av["default"]), c1(this, ub(2209, "NxR("), as["session"]), c1(this, "logRenderMsg", a0["Log"]["scope"]("RenderProcess")), this["configService"] = ay, this["appEvents"] = az, this[ub(1486, "Li1q")] = aA, this["fetchService"] = aB, this["authService"] = aC, this["storeService"] = aD, this["systemService"] = aE, this["eventsService"] = aF, this["helpService"] = aG, this["utilsService"] = aH, this["reportService"] = aI, this["windowService"] = aJ, this["windowEvents"] = aK, this["windowFactory"] = aL, this["updateService"] = aM, this["downloadService"] = aN, this["ffAbTestService"] = aO, this["playerService"] = aP, this["notifyService"] = aQ, this["trayMenuService"] = aR, this["gameService"] = aS, this["gaiaService"] = aT, this["popLoginService"] = aU, this["thirdPartyService"] = aV, global[ub(1558, "Qd![")] = this, this["appService"]["initBiliPcApp"](), this["configService"]["assignConsts"](this));}async ["handleRestart"]() {var uc = u8;if ("ByjuJ" !== "ByjuJ") {if (n === void 0) o = q;r[t] = u[w];} else {if (this["configService"]["isAppQuited"]) return;(this["log"][uc(1712, "CN4e")]("Restart app!"), at["IS_DEV"] && ((0, aq["removeLocalServer"])(), as["app"]["quit"](), setTimeout(() => this["fetchService"]["getRestartApp"](), 1000)));}}async ["handleRelaunch"](ay, az) {var ud = u8;(this["log"]["info"]("Relaunch app!"), this["utilsService"][ud(993, "VFZK")](az));}async ["handleQuitApp"]() {(this["log"]["info"]("Handle quit app!"), as["app"]["quit"]());}async [u8(1464, "uaSA")](ay) {var ue = u8;return (ay[ue(1014, "Mqcd")] = this["configService"]["getAppInfo"](), ay["returnValue"]);}async ["handleGetIsDev"](ay) {return (ay["returnValue"] = at["IS_DEV"], ay["returnValue"]);}async ["handleGetIsRelease"](ay) {return (ay["returnValue"] = !at["IDM"], ay["returnValue"]);}async [u8(1701, "Mqcd")](ay) {return (ay["returnValue"] = this["configService"]["isDevMode"], ay["returnValue"]);}async ["handleGetAppVersion"](ay) {return (ay["returnValue"] = at["APP_VERSION"], ay["returnValue"]);}async ["handleGetAppInstallVersion"](ay) {return (ay["returnValue"] = at["INSTALL_VERSION"], ay["returnValue"]);}async ["handleGetBuildVersion"](ay) {return (ay["returnValue"] = at["BUILD_CODE"], ay["returnValue"]);}async ["handleLogRenderMessage"](ay, az, ...aA) {at["LOG_TYPES"]["includes"](az?.["type"]) ? this["logRenderMsg"][az["type"]](az["msg"]) : this["logRenderMsg"]["debug"](az, ...aA);}async ["handleLogOpenAppPage"](ay, az) {this["logRenderMsg"]["info"]("Activate page: " + az);}async ["handleExecuteScript"](ay, az) {eval(az);}async ["handleInteractive"](ay, az) {return await this["helpService"]["handleCmdInteractive"](az, async () => {return this["log"]["info"](eval(az));});}async ["handleLaunchAction"](ay, az) {const aA = this["helpService"]["launchAction"](az);return (ay["returnValue"] = aA, aA);}};(j([(0, a0["IpcInvoke"])(u8(1157, "gUtk")), k(u8(1626, "nwHl"), Function), k("design:paramtypes", []), k("design:returntype", Promise)], aw["prototype"], u8(934, "y^Oh"), null), j([(0, a0["IpcInvoke"])("app/relaunch"), k("design:type", Function), k("design:paramtypes", [typeof (P = typeof as["IpcMainEvent"] !== "undefined" && as["IpcMainEvent"]) === "function" ? P : Object, Boolean]), k(u8(1083, "43KF"), Promise)], aw["prototype"], "handleRelaunch", null), j([(0, a0["IpcInvoke"])("app/quitApp", {"scope": "mainWindow"}), k("design:type", Function), k("design:paramtypes", []), k("design:returntype", Promise)], aw["prototype"], "handleQuitApp", null), j([(0, a0["IpcInvoke"])("app/getAppInfo", {"withSync": !![]}), k("design:type", Function), k(i["bDaVD"], [typeof (Q = typeof as["IpcMainEvent"] !== "undefined" && as["IpcMainEvent"]) === "function" ? Q : Object]), k("design:returntype", Promise)], aw["prototype"], "handleGetAppInfo", null), j([(0, a0["IpcInvoke"])("app/isDev", {"withSync": !![]}), k("design:type", Function), i["guryB"](k, u8(2242, "%AQh"), [typeof (R = typeof as["IpcMainEvent"] !== i["BLMby"] && as["IpcMainEvent"]) === "function" ? R : Object]), k("design:returntype", Promise)], aw["prototype"], "handleGetIsDev", null), j([(0, a0["IpcInvoke"])("app/isRelease", {"withSync": !![]}), k("design:type", Function), k("design:paramtypes", [typeof (S = i[u8(415, "VFZK")](typeof as[u8(1225, "(3!I")], "undefined") && as["IpcMainEvent"]) === "function" ? S : Object]), k("design:returntype", Promise)], aw["prototype"], "handleGetIsRelease", null), j([(0, a0["IpcInvoke"])(i["mLXBS"], {"withSync": !![]}), k(u8(1386, "nNM["), Function), k("design:paramtypes", [typeof (T = i["rjdUO"](typeof as["IpcMainEvent"], "undefined") && as["IpcMainEvent"]) === "function" ? T : Object]), k("design:returntype", Promise)], aw[u8(1365, "Qd![")], "handleGetIsDevMode", null), j([(0, a0["IpcInvoke"])(u8(1081, "Mqcd"), {"withSync": !![]}), k("design:type", Function), k(i["bDaVD"], [typeof (U = typeof as["IpcMainEvent"] !== "undefined" && as["IpcMainEvent"]) === "function" ? U : Object]), k("design:returntype", Promise)], aw["prototype"], "handleGetAppVersion", null), j([(0, a0["IpcInvoke"])("app/installVersion", {"withSync": !![]}), i["guryB"](k, "design:type", Function), k(i["bDaVD"], [typeof (V = typeof as[u8(1467, "%AQh")] !== "undefined" && as["IpcMainEvent"]) === u8(1801, "ry$4") ? V : Object]), k("design:returntype", Promise)], aw["prototype"], "handleGetAppInstallVersion", null), j([(0, a0["IpcInvoke"])("app/buildCode", {"withSync": !![]}), k(u8(561, "B4nF"), Function), k("design:paramtypes", [typeof (W = typeof as["IpcMainEvent"] !== "undefined" && as["IpcMainEvent"]) === i["KEbVI"] ? W : Object]), k(i["LTxTi"], Promise)], aw["prototype"], u8(1340, "(]yY"), null), j([(0, a0["IpcInvoke"])("app/logRenderMsg"), i["guryB"](k, i["EGkLd"], Function), k("design:paramtypes", [Object, Object, Object]), k("design:returntype", Promise)], aw["prototype"], "handleLogRenderMessage", null), j([(0, a0["IpcInvoke"])("app/logOpenAppPage"), i["VDwoE"](k, "design:type", Function), k("design:paramtypes", [Object, typeof (X = typeof ar[u8(456, "EcL6")] !== "undefined" && ar["AppPage"]) === "function" ? X : Object]), k("design:returntype", Promise)], aw["prototype"], u8(1684, "jubI"), null), j([(0, a0["IpcInvoke"])("app/execScript", {"devOnly": !![]}), k("design:type", Function), k("design:paramtypes", [Object, String]), k("design:returntype", Promise)], aw["prototype"], "handleExecuteScript", null), j([(0, a0["IpcInvoke"])(i["uZfuh"], {"devOnly": !![]}), k("design:type", Function), k("design:paramtypes", [Object, String]), k("design:returntype", Promise)], aw["prototype"], "handleInteractive", null), j([(0, a0["IpcInvoke"])(u8(1600, "1x5q"), {"withSync": !![]}), i["guryB"](k, "design:type", Function), k("design:paramtypes", [typeof (Y = typeof as["IpcMainEvent"] !== "undefined" && as["IpcMainEvent"]) === "function" ? Y : Object, i["MsTVd"](typeof (Z = typeof ar["IAppAction"] !== "undefined" && ar["IAppAction"]), u8(1115, "BDj!")) ? Z : Object]), k("design:returntype", Promise)], aw["prototype"], "handleLaunchAction", null), aw = j([(0, a1["Controller"])(), k("design:paramtypes", [typeof (m = typeof a2["ConfigService"] !== "undefined" && a2["ConfigService"]) === "function" ? m : Object, typeof (n = typeof a4["AppEvents"] !== "undefined" && a4["AppEvents"]) === "function" ? n : Object, typeof (o = typeof a3["AppService"] !== "undefined" && a3["AppService"]) === "function" ? o : Object, typeof (q = typeof a5["FetchService"] !== "undefined" && a5["FetchService"]) === u8(1565, "mnQ[") ? q : Object, typeof (r = typeof a6["AuthService"] !== "undefined" && a6[u8(1011, "Locc")]) === "function" ? r : Object, typeof (t = i["dmhCk"](typeof a9["StoreService"], "undefined") && a9["StoreService"]) === i["KEbVI"] ? t : Object, typeof (u = typeof aa["SystemService"] !== "undefined" && aa["SystemService"]) === "function" ? u : Object, typeof (w = typeof ab[u8(465, "hGVL")] !== "undefined" && ab["EventsService"]) === "function" ? w : Object, typeof (z = typeof ac["HelpService"] !== "undefined" && ac["HelpService"]) === u8(809, "^M%9") ? z : Object, typeof (A = typeof ad["UtilsService"] !== u8(1648, "1x5q") && ad[u8(1943, "gUtk")]) === "function" ? A : Object, typeof (B = typeof ae["ReportService"] !== "undefined" && ae["ReportService"]) === i["KEbVI"] ? B : Object, typeof (C = typeof ah["WindowService"] !== u8(685, "(3!I") && ah["WindowService"]) === "function" ? C : Object, typeof (D = typeof af["WindowEvents"] !== "undefined" && af["WindowEvents"]) === "function" ? D : Object, typeof (E = i["rjdUO"](typeof ag["WindowFactory"], "undefined") && ag["WindowFactory"]) === "function" ? E : Object, typeof (F = typeof ai["UpdateService"] !== "undefined" && ai["UpdateService"]) === "function" ? F : Object, typeof (G = typeof aj["DownloadService"] !== "undefined" && aj["DownloadService"]) === u8(1418, "X%9J") ? G : Object, typeof (H = typeof al["FfAbTestService"] !== i["BLMby"] && al["FfAbTestService"]) === "function" ? H : Object, typeof (I = typeof ak["PlayerService"] !== "undefined" && ak["PlayerService"]) === "function" ? I : Object, typeof (J = typeof am["NotifyService"] !== "undefined" && am["NotifyService"]) === "function" ? J : Object, typeof (K = typeof an["TrayMenuService"] !== "undefined" && an["TrayMenuService"]) === "function" ? K : Object, typeof (L = typeof ao["GameService"] !== "undefined" && ao["GameService"]) === "function" ? L : Object, i["eRrve"](typeof (M = typeof a7[u8(1725, "V[Zi")] !== "undefined" && a7["GaiaService"]), "function") ? M : Object, typeof (N = typeof a8["PopLoginService"] !== "undefined" && a8["PopLoginService"]) === "function" ? N : Object, typeof (O = typeof ap["ThirdPartyService"] !== u8(1613, "KdL&") && ap["ThirdPartyService"]) === "function" ? O : Object])], aw), g[u8(301, "hGVL")] = aw);}}), iX = bV({""(g) {"use strict";var uf = f, h = {"XAXDq": function (ao, ap) {return ao > ap;},"pBDBy": "configService","mWUDA": function (ao, ap, aq) {return ao(ap, aq);},"rKgJv": "storeService","NsIkv": function (ao, ap, aq) {return ao(ap, aq);},"gVsnY": "UlQcf","SyPCI": "current","HSPKR": "Set boss shortcurt: ","Evswm": function (ao, ap) {return ao === ap;},"FggIp": "BOtEp","safhl": function (ao) {return ao();},"UQytK": "design:returntype","OXaiq": function (ao, ap) {return ao !== ap;},"IOMVk": function (ao, ap, aq, ar, as) {return ao(ap, aq, ar, as);},"OGYKU": "design:paramtypes","deMle": function (ao, ap) {return ao === ap;},"mRDSI": function (ao, ap, aq) {return ao(ap, aq);},"Dayna": "handleGetIsSelectedExit","RxJwZ": "undefined","Uwagv": "function","cvOjk": "design:type","JXUfW": "mainWindow","RXtUf": "handleSetBossShortcut","PIMSQ": function (ao, ap, aq) {return ao(ap, aq);},"PRNLh": function (ao, ap, aq) {return ao(ap, aq);},"uEkDw": "handleGetBossShortcut","LgPug": function (ao, ap, aq) {return ao(ap, aq);},"hjQim": "handleSetIsAppOpenAtLogin","dIDHD": function (ao, ap, aq, ar, as) {return ao(ap, aq, ar, as);},"ksXgI": function (ao, ap) {return ao === ap;},"OyhOe": uf(1629, "w$r8"),"RKRRt": function (ao, ap, aq) {return ao(ap, aq);},"uiqDm": function (ao, ap) {return ao !== ap;},"EmvZZ": function (ao, ap, aq) {return ao(ap, aq);},"VUHBX": function (ao, ap, aq) {return ao(ap, aq);},"hrGRi": function (ao, ap, aq) {return ao(ap, aq);},"vdtyX": function (ao, ap) {return ao === ap;}};var i = g && g["__decorate"] || (function (ao, ap, aq, ar) {var ug = uf, as = arguments["length"], at = as < 3 ? ap : ar === null ? ar = Object[ug(649, "8gI1")](ap, aq) : ar, au;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") at = Reflect["decorate"](ao, ap, aq, ar); else {for (var av = ao["length"] - 1; av >= 0; av--) if (au = ao[av]) at = (as < 3 ? au(at) : h["XAXDq"](as, 3) ? au(ap, aq, at) : au(ap, aq)) || at;}return (as > 3 && at && Object["defineProperty"](ap, aq, at), at);}), j = g && g["__metadata"] || (function (ao, ap) {var uh = uf;if ("kIPrd" !== uh(1385, "Qd![")) h["returnValue"] = this["systemService"]["handleGetFontsInfo"](); else {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](ao, ap);}}), k, l, m, n, o, q, r, t, u, w, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, a0, a1, a2, a3, a4, a5, a6;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["ConfigController"] = void 0);var a7 = require("@nestjs/common"), a8 = gl(), a9 = hT(), aa = ih(), ab = iN(), ac = iL(), ad = gq(), ae = ig(), af = iq(), ag = iE(), ah = iC(), ai = (fM(), c0(fI)), aj = require("electron"), ak = (fy(), c0(fx)), al = (h["safhl"](gk), c0(gj)), am = require("@bilibili/b-utils-core"), an = class ao extends ai["BaseController"] {constructor(ap, aq, ar, as, at, au, av, aw, ax, ay) {var ui = uf;(super(ap, "ConfigController"), c1(this, h[ui(1905, "nmd9")]), h["mWUDA"](c1, this, h["rKgJv"]), c1(this, "utilsService"), c1(this, "windowService"), h[ui(2221, "Mqcd")](c1, this, "windowEvents"), c1(this, "eventsService"), c1(this, "reportService"), c1(this, "downloadService"), c1(this, "systemService"), c1(this, "gameService"), this["configService"] = ap, this["storeService"] = aq, this["utilsService"] = ar, this["windowService"] = as, this["windowEvents"] = at, this["eventsService"] = au, this["reportService"] = av, this["downloadService"] = aw, this["systemService"] = ax, this["gameService"] = ay, this["configService"]["isPrivacyPolicyAccepted"] = this["storeService"]["getIsPrivacyPolicyAccepted"]());}async [uf(572, "43KF")](ap) {return (ap["returnValue"] = this["configService"]["isMainWindowReady"], this["configService"]["isMainWindowReady"]);}async ["handleSetIsDevMode"](ap, aq, ar) {this["systemService"]["setIsDevMode"](aq, ar);}async ["handleSetSystemFont"](ap, aq) {var uj = uf;(this["log"][uj(1585, "8gI1")]("Set system font:", aq["name"]), this["storeService"]["setSystemFontId"](aq["id"]), this["eventsService"]["emitSystemFontChange"](aq));}async ["handleGetSystemFont"](ap) {const aq = this["storeService"]["getSystemFontId"]();ap["returnValue"] = this["configService"]["fontList"]["find"](ar => ar["id"] === aq);}async ["handleSetIsDisableGpu"](ap, aq) {var uk = uf;(this["log"]["info"](uk(306, "1iAQ"), aq), this["storeService"]["setIsDisableGpu"](aq));}async ["handleGetIsDisableGpu"](ap) {const aq = this["storeService"]["getIsDisableGpu"]();return (ap["returnValue"] = aq, aq);}async [uf(708, "uaSA")](ap, aq) {var ul = uf;if ("zeQQI" !== "NnvwK") (this["log"][ul(652, "Ni8i")]("Set is selected first: ", aq), this[ul(863, "!v[t")]["setIsSelectedFirst"](aq)); else {this["chidCache"] = j;const as = this["secureStore"]["get"](k["CHID"]), at = as && this["decryptData"](as, () => this["secureStore"]["delete"](as["CHID"])) || "";this["chid"] = at;}}async ["handleGetIsSelectedFirst"](ap) {const aq = this["storeService"]["getIsSelectedFirst"]();return (ap["returnValue"] = aq, aq);}async ["handleSetIsSelectedExit"](ap, aq) {(this["log"]["info"]("Set is selected exit: ", aq), this["storeService"]["setIsSelectedExit"](aq));}async ["handleGetIsSelectedExit"](ap) {const aq = this["storeService"]["getIsSelectedExit"]();return (ap["returnValue"] = aq, aq);}async [uf(578, "5Oa*")](ap, aq) {var un = uf, ar = {"zJScK": function (as, at, au, av) {return as(at, au, av);}};if ("jUKzg" !== "jUKzg") {var at = arguments["length"], au = at < 3 ? I : J === null ? K = L["getOwnPropertyDescriptor"](M, N) : O, av;if (typeof P === "object" && typeof Q["decorate"] === "function") au = R["decorate"](S, T, U, V); else {for (var aw = W["length"] - 1; aw >= 0; aw--) if (av = X[aw]) au = (at < 3 ? av(au) : at > 3 ? ar[un(1811, "w$r8")](av, Y, Z, au) : av(a0, a1)) || au;}return (at > 3 && au && a2[un(766, "Li1q")](a3, a4, au), au);} else (this["log"]["info"]("SetIsQuitByCloseMain: ", aq), this["storeService"]["setIsQuitByCloseMain"](aq), this["eventsService"]["emitQuitByCloseMainChange"](aq));}async ["handleGetIsQuitByCloseMain"](ap) {if (h["gVsnY"] === h["gVsnY"]) {const aq = this["storeService"]["getIsQuitByCloseMain"]();return (ap["returnValue"] = aq, aq);} else (this["configService"]["isReportStatusInited"] = !![], h({"reportSuccess": !![]}));}async ["handleSetAppStartUpTheme"](ap, aq) {var uo = uf;(this["log"]["info"]("Set start up theme: ", aq), this[uo(863, "!v[t")]["setAppStartUpTheme"](aq), this["reportService"]["reportThemeSettingChange"](aq));}async ["handleGetAppStartUpTheme"](ap) {const aq = this["storeService"]["getAppStartUpTheme"]();return (ap["returnValue"] = aq, aq);}async ["handleSetMainWindowTheme"](ap, aq) {(this["log"]["info"]("Set main window theme: ", aq), this["storeService"]["setMainWindowTheme"](aq), this["reportService"]["reportThemeChange"](aq), this["storeService"]["getAppStartUpTheme"]() === h["SyPCI"] && this["storeService"]["setIsThemeChanged"](!![]));}async ["handleGetMainWindowTheme"](ap) {const aq = this["windowService"]["getMainWindowTheme"]();return (ap["returnValue"] = aq, aq);}async ["handleSetBossShortcut"](ap, aq) {var up = uf;(this["log"]["info"](h[up(690, "hGVL")], aq), this["storeService"]["setBossShortcutInfo"](aq), this["windowEvents"]["toggleBossShortcut"](aq));}async ["handleGetBossShortcut"](ap) {const aq = this["storeService"]["getBossShortcutInfo"]();return (ap["returnValue"] = aq, aq);}async ["handlegetBossShortcutHide"](ap) {var uq = uf;const aq = this["configService"][uq(1407, "mnQ[")];return (ap["returnValue"] = aq, aq);}async ["handleSetIsAppOpenAtLogin"](ap, aq) {(this["log"]["info"]("Set app auto start: ", aq), this["utilsService"]["setAppOpenAtLogin"](aq));}async [uf(1662, "UmJ6")](ap) {var ur = uf;const aq = aj["app"]["getLoginItemSettings"]()[ur(1862, "gUtk")];return (ap["returnValue"] = aq, aq);}async ["handleSetDownloadPath"](ap, aq) {var us = uf;if (aq["toDefault"]) (this["log"]["info"]("Set to default download path!"), aq?.["type"] === "game" ? (this["storeService"]["setToDefaultGameDownloadPath"](), this["configService"]["gameDownloadPathChange$"]["next"]()) : (this["storeService"]["setToDefaultDownloadPath"](), this["configService"][us(1205, "Qd![")]["next"]()), this["eventsService"]["emitDownloadInfoChange"]()); else {if ("rFqhh" !== "rFqhh") {const as = this["buildGaiaFp"](), at = this["storeService"]["getGaiaFp"](), au = l || as[m];if (!this["isChange"](at["main"], as["main"]) && !this[us(1073, "43KF")](at[n], au)) return;const av = o["assign"]({}, at, {"main": as["main"]}, {[q]: au});this["report"](av);} else (this["log"]["info"]("Open select download path dialog, type:" + aq[us(1970, "KdL&")]), aq?.["type"] === "game" ? await this["gameService"]["selectGameDownloadPath"]() : await this["downloadService"]["selectDownloadPath"]());}}async ["handleGetDownloadPath"](ap) {return this["downloadService"]["getDownloadInfo"]();}async ["handleGetDlParallelNum"]() {var ut = uf;return this[ut(1696, "qfnC")]["getDlParallelNum"]();}async ["handleSetDownloadConfig"](ap, {type: aq, value: ar}) {var uu = uf;this["log"]["info"]("Set download config " + aq + ": " + ar);if (aq === uu(656, "jubI")) (this["storeService"]["setDownloadNoSleep"](ar), this["eventsService"]["emitDownloadInfoChange"]()); else {if (aq === "autoStart") (this["storeService"]["setAutoStartDownload"](ar), this["eventsService"][uu(333, "nwHl")]()); else {if (h["Evswm"](aq, "parallel")) {const as = this["storeService"]["getDownloadParallelNum"]();ar !== as && ("DTVYy" !== "KHhlI" ? (this["storeService"]["setDownloadParallelNum"](ar), this["configService"]["dlParallelNumChange$"]["next"](), this["eventsService"]["emitDownloadParallelNumChange"](ar)) : this["report"]({"type": uu(1511, "w$r8"),"spm_id": "main.main.main-precess.notification-ready.click"}, {"msg": i["stringify"](j)}));}}}}async [uf(2190, "BDj!")](ap) {ap["returnValue"] = ak["SHOW_LICENSE_CHIDS"]["includes"](this["configService"]["chid"]);}async ["handleSetIsQuitDialogPoped"](ap, aq) {this["storeService"]["setIsQuitDialogPoped"](aq);}async ["handleGetIsQuitDialogPoped"](ap) {ap["returnValue"] = this["storeService"]["getIsQuitDialogPoped"]();}async [uf(311, "B4nF")](ap, aq) {this["storeService"]["setUseMediaSession"](aq);}async [uf(1152, "%AQh")](ap) {ap["returnValue"] = this["storeService"]["getUseMediaSession"]();}async ["handleGetRemoteConfig"](ap) {const aq = (0, am["pick"])(this["configService"]["appConfig"], ["isAdOpenModeByApi", "activity"]);return (ap["returnValue"] = aq, aq);}async ["handleSetCustomConfig"](ap, aq) {h["Evswm"]("hUsNM", h["FggIp"]) ? this["log"]["error"]("SetThreadExecutionState error:", this["getErrStack"](h)) : this["storeService"]["setCustomConfig"](aq);}async ["handleGetCustomConfig"](ap) {const aq = this["storeService"]["getCustomConfig"]();return (ap["returnValue"] = aq, aq);}async ["handleSetGeneralConfig"](ap, aq) {this["storeService"]["setGeneralConfig"](aq);}async ["handleGetGeneralConfig"](ap) {const aq = this["storeService"]["getGeneralConfig"]();return (ap["returnValue"] = aq, aq);}async ["handleSetIsShowConsoleLog"](ap, aq) {return this["storeService"]["setIsShowConsoleLog"](aq);}async ["handleGetIsShowConsoleLog"](ap) {var uv = uf;const aq = this["storeService"]["getIsShowConsoleLog"]();if ((0, am[uv(2284, "5Oa*")])(aq)) return (ap["returnValue"] = aq, aq);return (ap["returnValue"] = ak["IS_DEV"], ak["IS_DEV"]);}async ["handleSetConfig"](ap, {key: aq, value: ar}) {if ("bwXLL" === "bwXLL") switch (aq) {} else i += j[0];}async ["handleGetConfig"](ap, aq) {let ar;return (ap["returnValue"] = ar, ar);}};(i([(0, ai["IpcInvoke"])("config/isMainWindowReady", {"withSync": !![],"withAsync": ![],"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [typeof (z = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? z : Object]), j(h[uf(891, "LCu@")], Promise)], an[uf(2017, "FoL8")], "handleIsMainWindowReady", null), i([(0, ai["IpcInvoke"])("config/setIsDevMode", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Boolean, String]), h["mWUDA"](j, "design:returntype", Promise)], an["prototype"], uf(1229, "TZU2"), null), i([(0, ai["IpcInvoke"])("config/setSystemFont", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, typeof (A = h["OXaiq"](typeof al["AppFont"], "undefined") && al["AppFont"]) === "function" ? A : Object]), j("design:returntype", Promise)], an["prototype"], "handleSetSystemFont", null), i([(0, ai["IpcInvoke"])("config/getSystemFont", {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (B = typeof aj["IpcMainEvent"] !== "undefined" && aj[uf(655, "TZU2")]) === "function" ? B : Object]), j("design:returntype", Promise)], an["prototype"], "handleGetSystemFont", null), i([(0, ai["IpcInvoke"])("config/setIsDisableGpu", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Boolean]), j("design:returntype", Promise)], an["prototype"], "handleSetIsDisableGpu", null), i([(0, ai["IpcInvoke"])("config/getIsDisableGpu", {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (C = typeof aj["IpcMainEvent"] !== uf(1709, "Qd![") && aj["IpcMainEvent"]) === uf(293, "9Bou") ? C : Object]), j(h["UQytK"], Promise)], an["prototype"], "handleGetIsDisableGpu", null), i([(0, ai["IpcInvoke"])("config/setIsSelectedFirst", {"scope": "mainWindow"}), h["mWUDA"](j, "design:type", Function), j(uf(1738, "9Bou"), [Object, Boolean]), j("design:returntype", Promise)], an["prototype"], "handleSetIsSelectedFirst", null), i([(0, ai["IpcInvoke"])("config/getIsSelectedFirst", {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (D = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? D : Object]), j(h["UQytK"], Promise)], an["prototype"], "handleGetIsSelectedFirst", null), i([(0, ai["IpcInvoke"])("config/setIsSelectedExit", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Boolean]), j("design:returntype", Promise)], an[uf(571, "^M%9")], "handleSetIsSelectedExit", null), h["IOMVk"](i, [(0, ai["IpcInvoke"])("config/getIsSelectedExit", {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j(h["OGYKU"], [h["deMle"](typeof (E = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]), "function") ? E : Object]), h["mRDSI"](j, "design:returntype", Promise)], an["prototype"], h["Dayna"], null), i([(0, ai["IpcInvoke"])("config/setIsQuitByCloseMain", {"scope": "mainWindow"}), h["mWUDA"](j, "design:type", Function), j("design:paramtypes", [Object, Boolean]), j("design:returntype", Promise)], an[uf(970, "EcL6")], "handleSetIsQuitByCloseMain", null), i([(0, ai["IpcInvoke"])("config/getIsQuitByCloseMain", {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (F = typeof aj["IpcMainEvent"] !== h["RxJwZ"] && aj[uf(1005, "YUg@")]) === "function" ? F : Object]), j("design:returntype", Promise)], an["prototype"], "handleGetIsQuitByCloseMain", null), i([(0, ai["IpcInvoke"])("config/setAppStartUpTheme", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, typeof (G = typeof al["AppTheme"] !== "undefined" && al["AppTheme"]) === h["Uwagv"] ? G : Object]), j("design:returntype", Promise)], an["prototype"], "handleSetAppStartUpTheme", null), i([(0, ai["IpcInvoke"])("config/getAppStartUpTheme", {"withSync": !![],"withAsync": ![]}), j(h["cvOjk"], Function), j("design:paramtypes", [typeof (H = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? H : Object]), j(uf(617, "nNM["), Promise)], an["prototype"], "handleGetAppStartUpTheme", null), i([(0, ai["IpcInvoke"])("config/setMainWindowTheme", {"scope": "mainWindow"}), j(uf(1058, "!v[t"), Function), j(h["OGYKU"], [Object, typeof (I = typeof al["AppTheme"] !== "undefined" && al["AppTheme"]) === "function" ? I : Object]), j(h["UQytK"], Promise)], an["prototype"], "handleSetMainWindowTheme", null), i([(0, ai["IpcInvoke"])(uf(1956, "Mqcd"), {"withSync": !![]}), j(h["cvOjk"], Function), j("design:paramtypes", [typeof (J = typeof aj["IpcMainEvent"] !== "undefined" && aj[uf(2176, "uaSA")]) === "function" ? J : Object]), j("design:returntype", Promise)], an["prototype"], "handleGetMainWindowTheme", null), i([(0, ai["IpcInvoke"])("config/setBossShortcutInfo", {"scope": h["JXUfW"]}), j("design:type", Function), j("design:paramtypes", [Object, typeof (K = typeof al["BossShortcutInfo"] !== uf(919, "TZU2") && al[uf(868, "5Oa*")]) === "function" ? K : Object]), j("design:returntype", Promise)], an["prototype"], h["RXtUf"], null), i([(0, ai["IpcInvoke"])("config/getBossShortcutInfo", {"withSync": !![],"withAsync": ![]}), h["PIMSQ"](j, "design:type", Function), h["PRNLh"](j, "design:paramtypes", [typeof (L = typeof aj[uf(1005, "YUg@")] !== "undefined" && aj["IpcMainEvent"]) === "function" ? L : Object]), j("design:returntype", Promise)], an["prototype"], h["uEkDw"], null), i([(0, ai["IpcInvoke"])("config/getBossShortcutHide", {"withSync": !![],"withAsync": ![]}), h["LgPug"](j, "design:type", Function), j("design:paramtypes", [typeof (M = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? M : Object]), j("design:returntype", Promise)], an["prototype"], "handlegetBossShortcutHide", null), i([(0, ai[uf(310, "EcL6")])("config/setIsAppOpenAtLogin", {"scope": uf(1460, "gUtk")}), j("design:type", Function), j("design:paramtypes", [Object, Boolean]), j("design:returntype", Promise)], an["prototype"], h["hjQim"], null), i([(0, ai["IpcInvoke"])("config/getIsAppOpenAtLogin", {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (N = typeof aj["IpcMainEvent"] !== h["RxJwZ"] && aj["IpcMainEvent"]) === "function" ? N : Object]), h["PRNLh"](j, "design:returntype", Promise)], an[uf(2010, "BDj!")], "handleGetIsAppOpenAtLogin", null), i([(0, ai["IpcInvoke"])("config/setDownloadPath", {"scope": "mainWindow"}), j("design:type", Function), j(h["OGYKU"], [Object, Object]), j(h[uf(591, "uaSA")], Promise)], an["prototype"], "handleSetDownloadPath", null), h[uf(953, "nmd9")](i, [(0, ai["IpcInvoke"])("config/getDownloadInfo"), j("design:type", Function), j("design:paramtypes", [typeof (O = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? O : Object]), h["PRNLh"](j, "design:returntype", Promise)], an["prototype"], "handleGetDownloadPath", null), i([(0, ai[uf(522, "1iAQ")])("config/getDlParallelNum", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], an["prototype"], "handleGetDlParallelNum", null), i([(0, ai[uf(610, "LCu@")])("config/setDownloadConfig", {"scope": "mainWindow"}), j("design:type", Function), j(uf(1415, "Ni8i"), [Object, Object]), j(uf(1941, "UmJ6"), Promise)], an["prototype"], "handleSetDownloadConfig", null), i([(0, ai["IpcInvoke"])("config/getIsShowLicense", {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j(h["OGYKU"], [h["Evswm"](typeof (P = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]), "function") ? P : Object]), j(uf(1127, "X%9J"), Promise)], an["prototype"], "handleGetIsShowLicense", null), i([(0, ai["IpcInvoke"])("config/setIsQuitDialogPoped", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [typeof (Q = typeof aj["IpcMainEvent"] !== uf(1685, "YUg@") && aj["IpcMainEvent"]) === "function" ? Q : Object, Boolean]), j(h["UQytK"], Promise)], an["prototype"], "handleSetIsQuitDialogPoped", null), i([(0, ai["IpcInvoke"])("config/getIsQuitDialogPoped", {"withSync": !![],"withAsync": ![],"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [typeof (R = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? R : Object]), j("design:returntype", Promise)], an["prototype"], "handleGetIsQuitDialogPoped", null), i([(0, ai["IpcInvoke"])("config/setUseMediaSession", {"scope": h["JXUfW"]}), j(uf(1311, "VFZK"), Function), j("design:paramtypes", [h["ksXgI"](typeof (S = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]), "function") ? S : Object, Boolean]), j("design:returntype", Promise)], an["prototype"], "handleSetUseMediaSession", null), i([(0, ai["IpcInvoke"])("config/getUseMediaSession", {"withSync": !![],"withAsync": ![],"scope": uf(353, "UmJ6")}), j("design:type", Function), j("design:paramtypes", [typeof (T = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? T : Object]), j("design:returntype", Promise)], an["prototype"], "handleUseMediaSession", null), i([(0, ai["IpcInvoke"])(uf(967, "nmd9"), {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (U = typeof aj["IpcMainEvent"] !== h["RxJwZ"] && aj["IpcMainEvent"]) === "function" ? U : Object]), j("design:returntype", Promise)], an["prototype"], h["OyhOe"], null), i([(0, ai["IpcInvoke"])("config/setCustomConfig", {"scope": uf(1961, "VFZK")}), j("design:type", Function), h["RKRRt"](j, uf(1939, "B4nF"), [typeof (V = h["uiqDm"](typeof aj["IpcMainEvent"], "undefined") && aj["IpcMainEvent"]) === "function" ? V : Object, typeof (W = typeof al["CustomConfig"] !== "undefined" && al["CustomConfig"]) === "function" ? W : Object]), j("design:returntype", Promise)], an[uf(1471, "(3!I")], "handleSetCustomConfig", null), i([(0, ai["IpcInvoke"])("config/getCustomConfig", {"withSync": !![]}), h["EmvZZ"](j, "design:type", Function), h["NsIkv"](j, h["OGYKU"], [typeof (X = typeof aj["IpcMainEvent"] !== "undefined" && aj[uf(1013, "B4nF")]) === "function" ? X : Object]), j("design:returntype", Promise)], an["prototype"], "handleGetCustomConfig", null), i([(0, ai["IpcInvoke"])("config/setGeneralConfig"), j("design:type", Function), h["VUHBX"](j, "design:paramtypes", [typeof (Y = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === h["Uwagv"] ? Y : Object, typeof (Z = typeof al["GeneralConfig"] !== "undefined" && al["GeneralConfig"]) === "function" ? Z : Object]), j("design:returntype", Promise)], an[uf(1116, "VFZK")], uf(1144, "KdL&"), null), i([(0, ai["IpcInvoke"])("config/getGeneralConfig", {"withSync": !![]}), j("design:type", Function), h["hrGRi"](j, h["OGYKU"], [typeof (a0 = typeof aj[uf(2177, "Mqcd")] !== "undefined" && aj["IpcMainEvent"]) === "function" ? a0 : Object]), j("design:returntype", Promise)], an["prototype"], "handleGetGeneralConfig", null), h[uf(1773, "gUtk")](i, [(0, ai[uf(810, "KdL&")])("config/setIsShowConsoleLog", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [typeof (a1 = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? a1 : Object, Boolean]), j("design:returntype", Promise)], an["prototype"], uf(2003, "w$r8"), null), i([(0, ai["IpcInvoke"])(uf(2200, "Mqcd"), {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (a2 = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === h["Uwagv"] ? a2 : Object]), j("design:returntype", Promise)], an["prototype"], "handleGetIsShowConsoleLog", null), i([(0, ai["IpcInvoke"])("config/setConfig", {"scope": "mainWindow"}), j(uf(1265, "KdL&"), Function), j(h["OGYKU"], [typeof (a3 = typeof aj["IpcMainEvent"] !== uf(1184, "mnQ[") && aj["IpcMainEvent"]) === h["Uwagv"] ? a3 : Object, typeof (a4 = typeof al["IAppConfig"] !== "undefined" && al["IAppConfig"]) === h["Uwagv"] ? a4 : Object]), j("design:returntype", Promise)], an["prototype"], "handleSetConfig", null), i([(0, ai["IpcInvoke"])("config/getConfig", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (a5 = typeof aj["IpcMainEvent"] !== "undefined" && aj["IpcMainEvent"]) === "function" ? a5 : Object, typeof (a6 = typeof al["IGetConfigType"] !== "undefined" && al["IGetConfigType"]) === "function" ? a6 : Object]), j("design:returntype", Promise)], an["prototype"], "handleGetConfig", null), an = i([(0, a7["Controller"])(), h[uf(737, "nwHl")](j, uf(2134, "y^Oh"), [typeof (k = typeof a8["ConfigService"] !== "undefined" && a8["ConfigService"]) === "function" ? k : Object, h["ksXgI"](typeof (l = typeof a9["StoreService"] !== "undefined" && a9["StoreService"]), "function") ? l : Object, typeof (m = typeof aa["UtilsService"] !== "undefined" && aa["UtilsService"]) === "function" ? m : Object, typeof (n = typeof ab["WindowService"] !== "undefined" && ab["WindowService"]) === "function" ? n : Object, typeof (o = typeof ac["WindowEvents"] !== "undefined" && ac["WindowEvents"]) === "function" ? o : Object, typeof (q = typeof ad["EventsService"] !== "undefined" && ad["EventsService"]) === "function" ? q : Object, typeof (r = typeof ae["ReportService"] !== "undefined" && ae[uf(1710, "JO9c")]) === "function" ? r : Object, typeof (t = typeof af["DownloadService"] !== "undefined" && af[uf(911, "Qd![")]) === "function" ? t : Object, typeof (u = typeof ag["SystemService"] !== "undefined" && ag["SystemService"]) === "function" ? u : Object, h["vdtyX"](typeof (w = typeof ah["GameService"] !== "undefined" && ah["GameService"]), "function") ? w : Object])], an), g["ConfigController"] = an);}}), iY = bV({""(g) {"use strict";var uy = f, h = {"UtxZC": function (o, q) {return o === q;},"ARpcS": function (o, q) {return o - q;},"fzyFr": function (o, q) {return o > q;},"LyWBk": function (o) {return o();}};var i = g && g["__decorate"] || (function (o, q, t, u) {var ux = f, w = arguments["length"], z = w < 3 ? q : h[ux(352, "FoL8")](u, null) ? u = Object["getOwnPropertyDescriptor"](q, t) : u, A;if (typeof Reflect === ux(309, "VFZK") && typeof Reflect["decorate"] === "function") z = Reflect["decorate"](o, q, t, u); else {for (var B = h["ARpcS"](o["length"], 1); B >= 0; B--) if (A = o[B]) z = (w < 3 ? A(z) : h[ux(2038, "NxR(")](w, 3) ? A(q, t, z) : A(q, t)) || z;}return (w > 3 && z && Object["defineProperty"](q, t, z), z);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g[uy(1276, "nmd9")] = void 0);var j = require("@nestjs/common"), k = iX(), l = gl(), m = h["LyWBk"](iF), n = class o {};(n = i([(0, j["Global"])(), (0, j["Module"])({"controllers": [k["ConfigController"]],"providers": [l["ConfigService"], m[uy(639, "43KF")]],"exports": [l["ConfigService"], m[uy(1998, "jubI")]]})], n), g["ConfigModule"] = n);}}), iZ = bV({""(g) {"use strict";var uz = f, h = {"oMJaS": "object","Rqdid": function (au, av) {return au - av;},"vhqlI": function (au, av) {return au >= av;},"IFtEu": function (au, av) {return au(av);},"VCjQa": function (au, av) {return au > av;},"veqjo": "function","uTQcy": "normal","DArOa": "Search page ready!","uCFAm": function (au, av) {return au === av;},"qLyuV": "Set main window aspect ratio","WfuBJ": "Pin player window!","SuIIz": "Unpin player window!","mIzex": function (au, av) {return au !== av;},"VOOmK": "jaKdw","iUEXd": "TnVcD","kNOpx": "Close demo window!","RIrhs": function (au) {return au();},"psjkF": function (au) {return au();},"UUBsE": "window/toggleDevTools","eKxBp": "undefined","WdVes": "design:returntype","iJovS": "design:paramtypes","seecr": function (au, av, aw) {return au(av, aw);},"LlcJd": "window/uncatchClose","eYASw": function (au, av, aw) {return au(av, aw);},"zJAHU": uz(1288, "nmd9"),"StMQS": function (au, av, aw) {return au(av, aw);},"qbXNO": function (au, av, aw) {return au(av, aw);},"uykLB": function (au, av, aw) {return au(av, aw);},"Wsadg": "handleShowWindow","FIBFO": function (au, av) {return au === av;},"jrDDs": function (au, av) {return au === av;},"lPOoV": function (au, av) {return au === av;},"DpKpq": function (au, av, aw) {return au(av, aw);},"DYTtd": function (au, av, aw) {return au(av, aw);},"Mucos": function (au, av, aw) {return au(av, aw);},"dBwEE": "window/oneTimeFullScreen","NCHCg": function (au, av, aw) {return au(av, aw);},"YLplH": "design:type","inQJN": function (au, av, aw, ax, ay) {return au(av, aw, ax, ay);},"TelLf": "handleOpenInBrowser","WmAzg": "window/getVisibleWinNum","CreMk": function (au, av, aw) {return au(av, aw);},"rWqJb": "window/mainWindowReady","rSxhq": "mainWindow","YrFxo": "window/mainWindowMouseEnter","xzbKJ": "handleSetMainVideoSize","QbVwI": "handleSetMiniMainBtnsVisible","dYUWx": "window/openPlayerWindow","afdjo": "window/focusPlayerWindow","tDzGE": function (au, av, aw) {return au(av, aw);},"bByWn": "window/unminiPlayerWindow","wEHSB": "handleSetPlayerVideoSize","lHggq": function (au, av, aw) {return au(av, aw);},"FkODA": function (au, av) {return au !== av;},"LhLVb": function (au, av, aw) {return au(av, aw);},"NDLaR": "handleLaunchUniversalAction","XswVX": function (au, av, aw) {return au(av, aw);},"Dpgkf": "handleOpenDemoWindow","Dhqyo": "handleOpenTestWindowDevTools"};var i = g && g["__decorate"] || (function (au, av, aw, ax) {var uA = uz, ay = arguments[uA(1803, "!L3p")], az = ay < 3 ? av : ax === null ? ax = Object["getOwnPropertyDescriptor"](av, aw) : ax, aA;if (typeof Reflect === h["oMJaS"] && typeof Reflect["decorate"] === uA(1565, "mnQ[")) az = Reflect["decorate"](au, av, aw, ax); else {for (var aB = h["Rqdid"](au["length"], 1); h["vhqlI"](aB, 0); aB--) if (aA = au[aB]) az = (ay < 3 ? h[uA(1267, "nmd9")](aA, az) : ay > 3 ? aA(av, aw, az) : aA(av, aw)) || az;}return (h["VCjQa"](ay, 3) && az && Object["defineProperty"](av, aw, az), az);}), j = g && g["__metadata"] || (function (au, av) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === h["veqjo"]) return Reflect["metadata"](au, av);}), k, l, m, n, o, q, r, t, u, w, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9, aa, ab, ac, ad, ae, af, ag, ah;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["WindowController"] = void 0);var ai = require("@nestjs/common"), aj = (fM(), h["IFtEu"](c0, fI)), ak = h["RIrhs"](gl), al = iM(), am = iN(), an = h[uz(648, "mnQ[")](hT), ao = gq(), ap = ih(), aq = (fy(), c0(fx)), ar = require(uz(2218, "(]yY")), as = (gk(), h["IFtEu"](c0, gj)), at = class au extends aj[uz(922, "uaSA")] {constructor(av, aw, ax, ay, az, aA) {(super(av, "WindowController"), c1(this, "configService"), c1(this, "windowFactory"), c1(this, "windowService"), c1(this, "storeService"), c1(this, "eventsService"), c1(this, "utilsService"), this["configService"] = av, this["windowFactory"] = aw, this["windowService"] = ax, this["storeService"] = ay, this["eventsService"] = az, this["utilsService"] = aA);}async ["handleDevTools"](av) {this["windowService"]["toggleDevTools"](this["getSenderWindow"](av));}async ["handleCloseWindow"](av) {var uB = uz;this[uB(706, "Ni8i")](av)["close"]();}async ["handleCatchClose"](av) {this["windowService"]["catchWindowClose"](av);}async ["handleUncatchClose"](av) {this["windowService"]["uncatchWindowClose"](av);}async ["handleForceClose"](av) {var uC = uz;this[uC(1362, "gUtk")]["forceCloseWindow"](av);}async ["handleFocusWindow"](av) {this["getSenderWindow"](av)["focus"]();}async ["handleIsWindowFocus"](av) {return (av["returnValue"] = this["getSenderWindow"](av)["isFocused"](), av["returnValue"]);}async [uz(1488, "X%9J")](av) {const aw = this["getSenderWindow"](av);return (av["returnValue"] = !this["utilsService"]["isWindowHide"](aw), av["returnValue"]);}async ["handleHideWindow"](av) {var uD = uz;this[uD(2193, "BDj!")](av)["hide"]();}async [uz(2236, "Ni8i")](av) {var uE = uz;this["getSenderWindow"](av)[uE(424, "X%9J")]();}async ["handlePinWindow"](av, aw) {if (aw) this["log"]["info"]("Pin", aw);this["getSenderWindow"](av)["setAlwaysOnTop"](!![], h["uTQcy"], 999);}async ["handleUnpinWindow"](av, aw) {if (aw) this["log"]["info"]("Unpin", aw);this["getSenderWindow"](av)["setAlwaysOnTop"](![]);}async ["handleGetIsPined"](av) {const aw = this["getSenderWindow"](av);return (av["returnValue"] = aw["isAlwaysOnTop"](), av["returnValue"]);}async [uz(772, "nmd9")](av, aw) {var uF = uz;if ("XGQyc" !== "XGQyc") {if (typeof l === uF(1201, "LCu@") && typeof m["metadata"] === "function") return n["metadata"](o, q);} else this["getSenderWindow"](av)["setAlwaysOnTop"](aw);}async ["handleMinimize"](av) {this["getSenderWindow"](av)["minimize"]();}async ["handleIsMinimized"](av) {const aw = this["getSenderWindow"](av);return (av["returnValue"] = aw["isMinimized"](), av["returnValue"]);}async ["handleRestore"](av) {this["getSenderWindow"](av)["restore"]();}async ["handleMaximize"](av) {const aw = this["getSenderWindow"](av);aw["maximize"]();}async ["handleUnmaximize"](av) {const aw = this["getSenderWindow"](av);aw["unmaximize"]();}async ["handleIsMaximized"](av) {const aw = this["getSenderWindow"](av);return (av["returnValue"] = aw["isMaximized"](), av["returnValue"]);}async ["handleToggleMaximize"](av) {const aw = this["getSenderWindow"](av);aw["isMaximized"]() ? aw["unmaximize"]() : aw["maximize"]();}async ["handleSetFullScreen"](av, aw) {var uG = uz;"cGAOG" === "crRAm" ? (this["log"][uG(393, "UmJ6")]("Open Universal window!"), this["windowFactory"]["createOrFocusUniversalWindow"](h)) : this["getSenderWindow"](av)["setFullScreen"](aw);}async ["handleGetIsFullScreen"](av) {const aw = this["getSenderWindow"](av);return (av["returnValue"] = aw["isFullScreen"](), av["returnValue"]);}async ["handleOneTimeFullScreen"](av) {var uH = uz;if ("LnWHc" !== "xRCbS") {this["log"]["info"]("One Time fullscreen!");const aw = this["getSenderWindow"](av);aw["setFullScreenable"](!![]);} else (j[uH(872, "(]yY")](), this["log"][uH(448, "NxR(")]("Initialize login page!"), k["webContents"]["executeJavaScript"]("initLoginPage('login', '" + l[uH(952, "5Oa*")] + "')"));}async ["handleWindowReload"](av) {this["getSenderWindow"](av)["webContents"]["reload"]();}async ["handleReplaceWindow"](av, aw) {var uI = uz;if ("djGdE" === "djGdE") {const ax = this["getSenderWindow"](av);this[uI(371, "B4nF")]["replaceWindowUrl"](ax, aw?.["url"]);} else {if (typeof l === "object" && typeof m["metadata"] === "function") return n["metadata"](o, q);}}async ["handleSetAllowOpenUrls"](av, aw) {const ax = this["getSenderWindow"](av);this["windowService"]["setAllowOpenUrls"](ax, aw);}async ["handleOpenInBrowser"](av, aw, ax) {(this["log"]["info"]("Open in browser: ", aw, ax), this["utilsService"]["shellOpenExternal"](aw, ax));}async ["handleCapturePage"](av) {const aw = this["getSenderWindow"](av);return await this["windowService"]["captureWindowPage"](aw);}async ["handleDesktopCapturer"]() {return await this["windowService"]["getDesktopCapturerSources"]();}async ["handleGetOpendWinNum"](av) {const aw = this["windowService"]["getVisibleWinNum"]();(this["log"]["info"]("Get visible win num:", aw), av["returnValue"] = aw);}async ["handleReloadWindow"](av) {var uJ = uz;const aw = this["getSenderWindow"](av), ax = ["liveRoomWindow", "liveNowWindow", "uploadWindow"], ay = ax["find"](az => this["configService"][az]?.["id"] === aw["id"]);ay && this["configService"]["windowOpenedUrls"][ay] && this["configService"][ay]["webContents"][uJ(577, "UmJ6")](this["configService"]["windowOpenedUrls"][ay]);}async ["handleResetStatus"]() {(this["log"]["info"]("Reset main window status!"), this["windowService"]["handleResetWindowStatus"]());}async [uz(1968, "LCu@")](av, {unmini: aw} = {}) {var uK = uz;(this["log"]["info"]("Open main window!"), this["windowFactory"]["createOrFocusMainWindow"](), aw && this["configService"]["isMainWindowMini"] && this[uK(596, "VFZK")]["unminMainWindow"]());}async ["handleOpenMainWindowPage"](av, aw) {var uL = uz;(this["log"]["info"]("Open main window page: ", aw), this["windowService"]["openMainWindowPage"](aw));if (this["configService"]["isMainWindowMini"]) {if ("evqgi" !== "WIXpG") this["windowService"]["unminMainWindow"](); else {const {isAppSlept: ay, appStartTime: az, appAwakeTime: aA} = this["configService"], aB = ay ? aA : az;let aC = w["now"]();if (z["includes"]("app-ready") && A["appReadyTime"]) aC = L["appReadyTime"]; else {if (C["includes"]("splashWindowReady") && D["splashReadyTime"]) aC = M[uL(350, "UmJ6")]; else F["includes"](uL(1398, "JypK")) && G["mainWindowReadyTime"] && (aC = N["mainWindowReadyTime"]);}this["report"]({"type": I,"spm_id": J}, {"msg": K[uL(805, "X%9J")]({"duration": aC - aB})});}}}async ["handleSplashWindowReady"]() {this["windowService"]["handleSplashWindowReady"]();}async ["handleMainWindowReady"]() {this["windowService"]["handleMainWindowReady"]();}async ["handleSearchPageReady"]() {var uM = uz;(this["log"]["info"](h["DArOa"]), this["configService"][uM(1302, "YUg@")] = !![], this[uM(1035, "1iAQ")]["searchPageReady$"]["next"]());}async ["handleMiniMainWindow"]() {(this["log"]["info"]("Mini main window!"), this["windowService"]["miniMainWindow"]());}async ["handleUnminiMainWindow"]() {var uN = uz;(this[uN(1461, "LCu@")]["info"]("Unmini main window!"), this["windowService"]["unminMainWindow"]());}["handleIsMainWindowMini"](av) {var uO = uz, aw = {"WjryK": function (ax, ay) {return h["uCFAm"](ax, ay);},"aWVma": function (ax, ay) {return ax >= ay;},"RpUBZ": function (ax, ay) {return ax(ay);},"OhzbV": function (ax, ay, az, aA) {return ax(ay, az, aA);},"BjWvm": "__esModule"};if ("SPeMM" === "SPeMM") av["returnValue"] = this["configService"]["isMainWindowMini"]; else {"use strict";var ay = B && C["__decorate"] || (function (aF, aG, aH, aI) {var aJ = arguments["length"], aK = aJ < 3 ? aG : aI === null ? aI = ay["getOwnPropertyDescriptor"](aG, aH) : aI, aL;if (aw["WjryK"](typeof az, "object") && typeof aA["decorate"] === "function") aK = aB["decorate"](aF, aG, aH, aI); else {for (var aM = aF["length"] - 1; aw["aWVma"](aM, 0); aM--) if (aL = aF[aM]) aK = (aJ < 3 ? aw["RpUBZ"](aL, aK) : aJ > 3 ? aw["OhzbV"](aL, aG, aH, aK) : aL(aG, aH)) || aK;}return (aJ > 3 && aK && aC["defineProperty"](aG, aH, aK), aK);});(I["defineProperty"](J, aw["BjWvm"], {"value": !![]}), K["WindowModule"] = void 0);var az = L("@nestjs/common"), aA = M(), aB = N(), aC = O(), aD = P(), aE = class aF {};(aE = ay([(0, az["Global"])(), (0, az["Module"])({"controllers": [aA["WindowController"]],"providers": [aD["WindowFactory"], aC["WindowService"], aB["WindowEvents"]],"exports": [aD["WindowFactory"], aC["WindowService"], aB["WindowEvents"]]})], aE), Q[uO(1387, "kdon")] = aE);}}async [uz(756, "qbG4")]() {this["windowService"]["handleMainWindowMouseEnter"]();}async ["handleSetMainVideoSize"](av, aw) {if (aw) this["log"]["info"](h["qLyuV"], aw);this["windowService"]["setMainVideoSize"](aw);}async [uz(1846, "(3!I")](av, aw) {this["windowService"]["setMiniMainBtnsVisible"](aw);}async ["handlePlayerWindowReady"]() {var uP = uz;(this["log"]["info"](uP(2130, "5Oa*")), !this["configService"]["isPlayerWindowReady"] && (this["configService"]["isPlayerWindowReady"] = !![], this["configService"]["playerWindowReady$"]["next"]()));}async ["handleOpenPlayerWindow"](av, aw) {var uQ = uz;(this["log"][uQ(1636, "1iAQ")]("Open player window:", JSON["stringify"](aw || "{}")), this["configService"][uQ(1040, "qfnC")]["next"](aw));}async ["handleShowPlayerWindow"]() {var uR = uz;"gBQGk" === "GvTFN" ? (this["log"]["info"](uR(1694, "B4nF"), i), this["storeService"]["setIsSelectedFirst"](j)) : (this["log"]["info"]("Focus player window!"), this["windowService"]["focusPlayerWindow"]());}async ["handleIsPlayerWindowVisiable"](av) {av["returnValue"] = this["configService"]["playerWindow"]?.["isVisible"]();}async ["handlePinPlayerWindow"]() {var uS = uz;(this["log"]["info"](h["WfuBJ"]), this[uS(2285, "FoL8")]["isPlayerWindowPined"] = !![], this["configService"]["playerWindow"]["setAlwaysOnTop"](!![], "normal", 99999), this["eventsService"]["emitPlayerWindowPinChange"](!![]));}async ["handleUnpinPlayerWindow"]() {var uT = uz;if (h["uCFAm"]("cTdDb", "cTdDb")) (this["log"]["info"](h["SuIIz"]), this[uT(2005, "(3!I")]["isPlayerWindowPined"] = ![], this["configService"]["playerWindow"][uT(955, "Li1q")](![]), this["eventsService"]["emitPlayerWindowPinChange"](![])); else {!k && (o = !![], this["log"]["info"]("Focus on " + q + "!"));if (n) this["judgeIsAppActive"]();}}async ["handleStretchPlareWindow"]() {var uU = uz;if ("CzmWq" !== "hQsHP") {this["log"]["info"]("Stretch player window!");const {defaultWidth: av, defaultHeight: aw} = aq["PLAYER_WINDOW"];(this["configService"]["playerWindow"]["setBounds"]({"width": av,"height": aw}, !![]), this["windowFactory"][uU(999, "Qd![")]["updateState"]());} else (this["downloadPath"] = this["storeService"]["getGameDownloadPath"](), this["gameDownloader"]?.["stopAllTasks"](), this["initGameDownloader"](), this["eventsService"]["emitGameActionEvent"]({"type": "pathChange","data": this[uU(1483, "CN4e")]}));}async ["handleMiniPlayerWindow"]() {(this["log"]["info"]("Mini player window!"), this["windowService"]["miniPlayerWindow"]());}async [uz(1533, "JypK")]() {(this["log"]["info"]("Unmini player window!"), this["windowService"]["unminPlayerWindow"]());}["handleIsMiniPlayerMode"](av) {av["returnValue"] = this["storeService"]["getIsMiniPlayerWindow"]();}async ["handlePlayerWinodwMouseEnter"]() {this["windowService"]["handlePlayerWindowMouseEnter"]();}async ["handleSetPlayerVideoSize"](av, aw) {var uV = uz;if ("yfniq" !== "yfniq") this["windowService"]["toggleDevTools"](this[uV(2043, "nwHl")](h)); else {if (aw) this["log"]["info"](uV(1392, "qbG4"), aw);this["windowService"]["setPlayerVideoSize"](aw);}}async ["handleSetMiniPlayerBtnsVisible"](av, aw) {this["windowService"]["setMiniPlayerBtnsVisible"](aw);}async ["handleCheckPlayerWindowStatus"]() {var uW = uz;this[uW(1987, "Li1q")]["playerWindow"] && !this["configService"][uW(2002, "JO9c")]["isDestroyed"]() && this["windowFactory"]["playerWindowState"]["checkWindowStatus"](!![]);}async ["handleOpenLiveNowWindow"]() {var uX = uz;(this["log"]["info"]("Open live now window!"), this[uX(2013, "%AQh")]["openLiveNowWindow"]());}async ["handleOpenLiveRoomWindow"](av, aw, {params: ax} = {}) {(this["log"]["info"]("Open live room, roomId: " + aw + ", params: " + JSON["stringify"](ax || ({}))), this["windowService"]["openLiveRoomWindow"](aw, ax));}async ["handleFocusLiveRoomWindow"]() {(this["log"]["info"]("Focus live room window!"), this["configService"]["liveRoomWindow"] && !this["configService"]["liveRoomWindow"]["isDestroyed"]() && this["configService"]["liveRoomWindow"]["show"]());}async ["handleIsLiveRoomWindowVisiable"](av) {var uY = uz;const {liveRoomWindow: aw} = this["configService"];av["returnValue"] = !!aw && !aw["isDestroyed"]() && aw[uY(534, "BDj!")]();}async ["handleIsLiveRoomWindowOpened"](av) {av["returnValue"] = this["configService"]["isLiveRoomWindowOpened"];}async ["handleSetLiveRoomWindowOpened"]() {"HrMHT" !== "HrMHT" ? (n["cancelled"] = !![], o["response"]?.["destroy"](), q["request"]?.["destroy"](), r["fileStream"]?.["close"](), t["request"] = void 0, u["response"] = void 0, w["fileStream"] = void 0) : this["configService"]["isLiveRoomWindowOpened"] = !![];}async ["handleOpenUniversalWindow"](av, aw) {(this["log"]["info"]("Open Universal window!"), this["windowFactory"]["createOrFocusUniversalWindow"](aw));}async ["handleGetUniversalParams"]() {return this["configService"]["universalParams"] || ({});}async ["handleLaunchUniversalAction"](av, aw) {var uZ = uz;this[uZ(1362, "gUtk")]["launchUniversalAction"](aw);}async ["handleOpenUploadWindow"]() {(this["log"]["info"]("Open Upload window!"), this["windowService"]["openUploadWindow"]());}async ["handleShowDesktopAssistant"](av, aw = ![]) {const {biliPetWindow: ax} = this["configService"];(aw || ax && !ax["isDestroyed"]()) && this["windowFactory"]["createBiliPetWindow"]();}async ["handleGetIsBiliPetVisible"](av) {const {biliPetWindow: aw} = this["configService"];av["returnValue"] = !!aw && !aw["isDestroyed"]() && aw["isVisible"]();}async ["handleTogglePinPetWindow"]() {const {isBiliPetWindowPined: av, biliPetWindow: aw} = this["configService"];(av ? aw["setAlwaysOnTop"](![]) : aw["setAlwaysOnTop"](!![], "normal", 999999), this["configService"]["isBiliPetWindowPined"] = !av);}async ["handleSetIgnoreMouseEvents"](av, aw, ax) {const ay = this["getSenderWindow"](av);(ay["setIgnoreMouseEvents"](aw, ax), this["configService"]["isBiliPetWindowPined"] && ay["setAlwaysOnTop"](!![], "normal", 999999));}async [uz(1677, "1iAQ")](av, aw) {if ("DWMzy" === "DBqVo") (i = this["gameList"]["filter"](ay => ["pending", "downloading", "paused"]["includes"](ay["gameStatus"])), j["sort"]((ay, az) => az["downloadTime"] - ay["downloadTime"])); else {const ay = this["getSenderWindow"](av);this["windowService"]["handleMovePetWindow"](ay, aw);}}async ["handleOpenAppLogWindow"](av) {var v0 = uz;(this[v0(1838, "EcL6")]["info"]("Open applog window!"), this["configService"]["watchAppLogChange$"]["next"](), this["windowFactory"]["createOrFocusAppLogWindow"]());}async ["handleOpenDemoWindow"](av, aw) {var v1 = uz;(this["log"][v1(1888, "EcL6")]("Open demo window!"), this["windowFactory"]["createOrFocusTestWindow"](aw));}async [uz(1716, "D0T^")]() {var v2 = uz;(this["log"]["info"]("Close demo window!"), this[v2(1567, "nwHl")]["testWindow"] && (h["mIzex"]("jaKdw", h["VOOmK"]) ? (k["loadURL"](l), m === this["configService"]["liveRoomWindow"] && (this["configService"]["windowOpenedUrls"]["liveRoomWindow"] = o)) : (this["configService"]["testWindow"]["focus"](), this["configService"]["testWindow"]["close"]())));}async [uz(1925, "1x5q")]() {var v3 = uz;(this["log"][v3(1169, "jubI")]("Focus demo window!"), this["configService"]["testWindow"] && (this["configService"]["testWindow"]["focus"](), this["configService"]["testWindow"]["webContents"]["openDevTools"]()));}async ["handleCloseTestWindowDevTools"]() {var v4 = uz;if ("TnVcD" !== h["iUEXd"]) {w = !![];const {minWidth: aw, minHeight: ax} = z ? A["MINI_PLAYER_WINDOW"] : B["PLAYER_WINDOW"], {x: ay, y: az, width: aA, height: aB} = C, aC = new D["BrowserWindow"]({"x": ay,"y": az,"width": aA,"height": aB,"minWidth": aw,"minHeight": ax,"show": ![],"darkTheme": !![],"autoHideMenuBar": !![],"titleBarStyle": "hidden","fullscreenable": ![],"trafficLightPosition": {"x": 12,"y": 16},"backgroundColor": "#000000",...E[v4(941, "VFZK")] ? {"resizable": ![]} : {},"webPreferences": {"webviewTag": !![],"webSecurity": ![],...this["getCommonWebPreference"](!![])}});(aC["isHidden"] = !![], this["configService"]["playerWindow"] = aC, aC["webContents"]["setUserAgent"](F["DEFAULT_USER_AGENT"]), aC["loadURL"](this["playerUrl"] + "?" + (0, G["stringifyQueryString"])(H)), aC["removeMenu"](), I && aC["once"]("ready-to-show", () => aC["show"]()), J["manage"](aC), this["windowEvents"]["catchCertVerifyError"](aC), this["windowEvents"]["registerPlayerWindowEvent"](), this["windowEvents"]["registerAppSleepEvent"](aC), this["windowEvents"]["registerWindowResizeEvt"](aC, K["PLAYER_WINDOW"]), this["windowEvents"]["registerWindowFocusBlur"](aC, "playerWindow"), this[v4(515, "FoL8")]["registerWindowEvents"](aC, "playerWindow", aD => {(aD["preventDefault"](), this["windowEvents"]["handlePlayerWindowClose"]());}), this["windowEvents"]["catchLinkAndWindowOpen"](aC, "playerWindow"), this["log"]["info"]("Player window created!"));} else (this["log"]["info"](h["kNOpx"]), this["configService"]["testWindow"] && (this["configService"]["testWindow"]["focus"](), this["configService"]["testWindow"]["webContents"]["closeDevTools"]()));}};(i([(0, aj[uz(1432, "FoL8")])(h["UUBsE"]), j("design:type", Function), j("design:paramtypes", [typeof (r = typeof ar["IpcMainInvokeEvent"] !== h[uz(1791, "JypK")] && ar["IpcMainInvokeEvent"]) === "function" ? r : Object]), j("design:returntype", Promise)], at["prototype"], "handleDevTools", null), i([(0, aj["IpcInvoke"])("window/close"), j("design:type", Function), j(uz(335, "h9c@"), [typeof (t = typeof ar[uz(1069, "Qd![")] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? t : Object]), j(h["WdVes"], Promise)], at["prototype"], "handleCloseWindow", null), i([(0, aj["IpcInvoke"])("window/catchClose"), j("design:type", Function), j(h[uz(490, "5Oa*")], [typeof (u = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar[uz(1930, "1iAQ")]) === "function" ? u : Object]), h["seecr"](j, "design:returntype", Promise)], at[uz(979, "5Oa*")], "handleCatchClose", null), i([(0, aj[uz(1869, "3BTs")])(h["LlcJd"]), j("design:type", Function), j("design:paramtypes", [typeof (w = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? w : Object]), h["eYASw"](j, "design:returntype", Promise)], at["prototype"], "handleUncatchClose", null), i([(0, aj["IpcInvoke"])(h["zJAHU"]), j("design:type", Function), j(uz(2058, "UmJ6"), [h[uz(1086, "FoL8")](typeof (z = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]), "function") ? z : Object]), j("design:returntype", Promise)], at["prototype"], "handleForceClose", null), i([(0, aj["IpcInvoke"])("window/focus"), j("design:type", Function), j("design:paramtypes", [typeof (A = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? A : Object]), j(h["WdVes"], Promise)], at["prototype"], "handleFocusWindow", null), i([(0, aj["IpcInvoke"])("window/isFocused", {"withSync": !![]}), h["StMQS"](j, "design:type", Function), j("design:paramtypes", [typeof (B = typeof ar["IpcMainEvent"] !== "undefined" && ar[uz(1487, "BDj!")]) === "function" ? B : Object]), j("design:returntype", Promise)], at["prototype"], "handleIsWindowFocus", null), i([(0, aj["IpcInvoke"])("window/isVisible", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (C = typeof ar["IpcMainEvent"] !== "undefined" && ar[uz(305, "^M%9")]) === "function" ? C : Object]), j("design:returntype", Promise)], at["prototype"], "handleIsWindowVisible", null), i([(0, aj[uz(1745, "!L3p")])("window/hide"), h["qbXNO"](j, "design:type", Function), j("design:paramtypes", [typeof (D = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? D : Object]), h[uz(1916, "nNM[")](j, "design:returntype", Promise)], at["prototype"], "handleHideWindow", null), i([(0, aj["IpcInvoke"])(uz(1456, "jubI")), j("design:type", Function), j("design:paramtypes", [typeof (E = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? E : Object]), j("design:returntype", Promise)], at["prototype"], h["Wsadg"], null), i([(0, aj["IpcInvoke"])("window/pin"), j("design:type", Function), j("design:paramtypes", [typeof (F = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? F : Object, typeof (G = typeof as["AppWindow"] !== "undefined" && as["AppWindow"]) === "function" ? G : Object]), j("design:returntype", Promise)], at["prototype"], uz(734, "BDj!"), null), i([(0, aj["IpcInvoke"])("window/unpin"), j("design:type", Function), j(uz(1313, "(]yY"), [h["FIBFO"](typeof (H = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]), "function") ? H : Object, typeof (I = typeof as["AppWindow"] !== h["eKxBp"] && as["AppWindow"]) === "function" ? I : Object]), j("design:returntype", Promise)], at["prototype"], "handleUnpinWindow", null), i([(0, aj["IpcInvoke"])("window/isPined", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (J = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? J : Object]), j("design:returntype", Promise)], at[uz(637, "kdon")], "handleGetIsPined", null), i([(0, aj["IpcInvoke"])("window/setAlwaysOnTop"), j("design:type", Function), j("design:paramtypes", [h["jrDDs"](typeof (K = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar[uz(481, "nNM[")]), "function") ? K : Object, Boolean]), j(h["WdVes"], Promise)], at["prototype"], "handleSetAlwaysOnTop", null), i([(0, aj[uz(2161, "8gI1")])("window/minimize"), j("design:type", Function), j("design:paramtypes", [h["lPOoV"](typeof (L = typeof ar["IpcMainInvokeEvent"] !== h["eKxBp"] && ar["IpcMainInvokeEvent"]), h["veqjo"]) ? L : Object]), j("design:returntype", Promise)], at["prototype"], "handleMinimize", null), i([(0, aj[uz(516, "5Oa*")])("window/isMinimized", {"withSync": !![]}), j(uz(1644, "!L3p"), Function), j("design:paramtypes", [typeof (M = typeof ar["IpcMainEvent"] !== uz(2008, "qfnC") && ar["IpcMainEvent"]) === "function" ? M : Object]), j("design:returntype", Promise)], at["prototype"], "handleIsMinimized", null), i([(0, aj["IpcInvoke"])("window/restore"), j("design:type", Function), j("design:paramtypes", [typeof (N = typeof ar[uz(1261, "nmd9")] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? N : Object]), j("design:returntype", Promise)], at["prototype"], "handleRestore", null), i([(0, aj[uz(1432, "FoL8")])("window/maximize"), j("design:type", Function), j("design:paramtypes", [typeof (O = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === h["veqjo"] ? O : Object]), h["DpKpq"](j, "design:returntype", Promise)], at[uz(874, "ry$4")], "handleMaximize", null), i([(0, aj[uz(1075, "^M%9")])("window/unmaximize"), h["DYTtd"](j, "design:type", Function), j("design:paramtypes", [typeof (P = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? P : Object]), j(uz(977, "1iAQ"), Promise)], at["prototype"], uz(351, "NxR("), null), i([(0, aj["IpcInvoke"])("window/isMaximized", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (Q = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? Q : Object]), j("design:returntype", Promise)], at["prototype"], "handleIsMaximized", null), i([(0, aj["IpcInvoke"])("window/toggleMaximize"), h["Mucos"](j, "design:type", Function), j(h["iJovS"], [typeof (R = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === "function" ? R : Object]), j("design:returntype", Promise)], at[uz(2273, "UmJ6")], "handleToggleMaximize", null), i([(0, aj["IpcInvoke"])("window/setFullScreen"), j("design:type", Function), j("design:paramtypes", [typeof (S = typeof ar["IpcMainInvokeEvent"] !== h["eKxBp"] && ar["IpcMainInvokeEvent"]) === uz(806, "(3!I") ? S : Object, Boolean]), j("design:returntype", Promise)], at["prototype"], "handleSetFullScreen", null), i([(0, aj[uz(1845, "(]yY")])("window/isFullScreen", {"withSync": !![]}), j("design:type", Function), j(h["iJovS"], [typeof (T = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? T : Object]), h["qbXNO"](j, "design:returntype", Promise)], at["prototype"], "handleGetIsFullScreen", null), i([(0, aj["IpcInvoke"])(h["dBwEE"]), j("design:type", Function), h["NCHCg"](j, "design:paramtypes", [h["jrDDs"](typeof (U = typeof ar[uz(1312, "gUtk")] !== "undefined" && ar["IpcMainEvent"]), "function") ? U : Object]), j("design:returntype", Promise)], at["prototype"], "handleOneTimeFullScreen", null), i([(0, aj["IpcInvoke"])("window/reload"), j("design:type", Function), j(h[uz(716, "EcL6")], [typeof (V = typeof ar[uz(1602, "!L3p")] !== "undefined" && ar[uz(765, "uaSA")]) === "function" ? V : Object]), h["qbXNO"](j, "design:returntype", Promise)], at["prototype"], "handleWindowReload", null), i([(0, aj[uz(981, "h9c@")])("window/replace"), j(h["YLplH"], Function), j("design:paramtypes", [typeof (W = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar[uz(2021, "8gI1")]) === "function" ? W : Object, Object]), j("design:returntype", Promise)], at["prototype"], "handleReplaceWindow", null), h["inQJN"](i, [(0, aj["IpcInvoke"])("window/setAllowOpenUrls"), j("design:type", Function), j("design:paramtypes", [typeof (X = typeof ar["IpcMainInvokeEvent"] !== uz(1138, "X%9J") && ar["IpcMainInvokeEvent"]) === "function" ? X : Object, typeof (Y = typeof as["AllowOpenOptions"] !== uz(1702, "(]yY") && as[uz(1924, "Mqcd")]) === "function" ? Y : Object]), j("design:returntype", Promise)], at["prototype"], "handleSetAllowOpenUrls", null), i([(0, aj["IpcInvoke"])("window/openInBrowser"), j("design:type", Function), j("design:paramtypes", [typeof (Z = typeof ar["IpcMainInvokeEvent"] !== h["eKxBp"] && ar["IpcMainInvokeEvent"]) === "function" ? Z : Object, String, String]), j("design:returntype", Promise)], at["prototype"], h["TelLf"], null), i([(0, aj["IpcInvoke"])("window/capturePage"), j("design:type", Function), h["seecr"](j, h["iJovS"], [typeof (a0 = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? a0 : Object]), j(uz(647, "!v[t"), Promise)], at["prototype"], "handleCapturePage", null), i([(0, aj["IpcInvoke"])("window/desktopCapturer"), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleDesktopCapturer", null), i([(0, aj["IpcInvoke"])(h["WmAzg"], {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (a1 = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === h["veqjo"] ? a1 : Object]), j("design:returntype", Promise)], at["prototype"], "handleGetOpendWinNum", null), i([(0, aj["IpcInvoke"])("window/reloadWindow"), j(h["YLplH"], Function), j("design:paramtypes", [typeof (a2 = typeof ar["IpcMainInvokeEvent"] !== "undefined" && ar["IpcMainInvokeEvent"]) === uz(900, "FoL8") ? a2 : Object]), j("design:returntype", Promise)], at["prototype"], "handleReloadWindow", null), i([(0, aj["IpcInvoke"])("window/resetStatus", {"scope": "mainWindow"}), h["seecr"](j, "design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleResetStatus", null), i([(0, aj["IpcInvoke"])("window/openMainWindow"), h["NCHCg"](j, "design:type", Function), j("design:paramtypes", [typeof (a3 = typeof ar["IpcMainEvent"] !== "undefined" && ar[uz(786, "D0T^")]) === "function" ? a3 : Object, Object]), j(uz(1127, "X%9J"), Promise)], at["prototype"], "handleOpenMainWindow", null), i([(0, aj["IpcInvoke"])("window/openMainWindowPage"), h["eYASw"](j, "design:type", Function), j("design:paramtypes", [Object, typeof (a4 = typeof as["OpenMainPageInfo"] !== "undefined" && as["OpenMainPageInfo"]) === "function" ? a4 : Object]), h["CreMk"](j, h["WdVes"], Promise)], at["prototype"], "handleOpenMainWindowPage", null), i([(0, aj["IpcInvoke"])("window/splashWindowReady", {"scope": "mainWindow"}), j("design:type", Function), j(uz(1313, "(]yY"), []), j("design:returntype", Promise)], at["prototype"], "handleSplashWindowReady", null), i([(0, aj["IpcInvoke"])(h["rWqJb"], {"scope": uz(827, "h9c@")}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleMainWindowReady", null), i([(0, aj["IpcInvoke"])("window/searchPageReady", {"scope": "mainWindow"}), j("design:type", Function), j(uz(1935, "V[Zi"), []), j("design:returntype", Promise)], at["prototype"], "handleSearchPageReady", null), i([(0, aj["IpcInvoke"])("window/miniMainWindow", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleMiniMainWindow", null), i([(0, aj["IpcInvoke"])("window/unminiMainWindow", {"scope": h["rSxhq"]}), j("design:type", Function), j(h["iJovS"], []), j(uz(1583, "3BTs"), Promise)], at["prototype"], "handleUnminiMainWindow", null), i([(0, aj["IpcInvoke"])("window/isMainWindowMini", {"withSync": !![],"withAsync": ![],"scope": uz(658, "qfnC")}), j("design:type", Function), j("design:paramtypes", [typeof (a5 = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? a5 : Object]), j("design:returntype", void 0)], at["prototype"], "handleIsMainWindowMini", null), i([(0, aj[uz(782, "jubI")])(h["YrFxo"], {"scope": "mainWindow"}), j("design:type", Function), j(uz(2204, "uaSA"), []), j("design:returntype", Promise)], at["prototype"], "handleMainWindowMouseEnter", null), i([(0, aj["IpcInvoke"])("window/setMainVideoSize", {"scope": h["rSxhq"]}), j("design:type", Function), j(h["iJovS"], [Object, typeof (a6 = typeof as["Nullable"] !== "undefined" && as["Nullable"]) === "function" ? a6 : Object]), j("design:returntype", Promise)], at["prototype"], h["xzbKJ"], null), i([(0, aj["IpcInvoke"])("window/setMiniMainBtnsVisible", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Boolean]), j("design:returntype", Promise)], at["prototype"], h["QbVwI"], null), i([(0, aj["IpcInvoke"])("window/playerWindowReady"), j(uz(2165, "%AQh"), Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handlePlayerWindowReady", null), i([(0, aj["IpcInvoke"])(h["dYUWx"]), j("design:type", Function), j(uz(1939, "B4nF"), [Object, typeof (a7 = typeof as["OpenPlayerParams"] !== "undefined" && as["OpenPlayerParams"]) === "function" ? a7 : Object]), j("design:returntype", Promise)], at["prototype"], "handleOpenPlayerWindow", null), i([(0, aj["IpcInvoke"])(h[uz(1079, "h9c@")]), j(h["YLplH"], Function), h[uz(835, "y^Oh")](j, h["iJovS"], []), j("design:returntype", Promise)], at["prototype"], "handleShowPlayerWindow", null), i([(0, aj["IpcInvoke"])(uz(1729, "V[Zi"), {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (a8 = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? a8 : Object]), j("design:returntype", Promise)], at["prototype"], "handleIsPlayerWindowVisiable", null), i([(0, aj["IpcInvoke"])("window/pinPlayerWindow", {"scope": "playerWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handlePinPlayerWindow", null), i([(0, aj["IpcInvoke"])("window/unpinPlayerWindow", {"scope": "playerWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleUnpinPlayerWindow", null), i([(0, aj["IpcInvoke"])("window/stretchPlayerWindow", {"scope": uz(773, "JypK")}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at[uz(2115, "nwHl")], "handleStretchPlareWindow", null), i([(0, aj[uz(851, "qbG4")])("window/miniPlayerWindow", {"scope": "playerWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at[uz(1365, "Qd![")], "handleMiniPlayerWindow", null), i([(0, aj["IpcInvoke"])(h["bByWn"], {"scope": "playerWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at[uz(576, "%AQh")], "handleUnminiPlayerWindow", null), i([(0, aj["IpcInvoke"])("window/isMiniPlayerMode", {"withSync": !![],"withAsync": ![],"scope": "playerWindow"}), j("design:type", Function), j("design:paramtypes", [typeof (a9 = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? a9 : Object]), j("design:returntype", void 0)], at["prototype"], uz(1580, "UmJ6"), null), i([(0, aj["IpcInvoke"])("window/playerWindowMouseEnter", {"scope": "playerWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at[uz(1322, "qfnC")], "handlePlayerWinodwMouseEnter", null), i([(0, aj["IpcInvoke"])(uz(1404, "!v[t"), {"scope": "playerWindow"}), j("design:type", Function), j("design:paramtypes", [Object, typeof (aa = typeof as["Nullable"] !== "undefined" && as["Nullable"]) === uz(1022, "EcL6") ? aa : Object]), j(uz(647, "!v[t"), Promise)], at[uz(2017, "FoL8")], h["wEHSB"], null), i([(0, aj["IpcInvoke"])("window/setMiniPlayerBtnsVisible", {"scope": "playerWindow"}), j(h[uz(511, "CN4e")], Function), j("design:paramtypes", [Object, Boolean]), j("design:returntype", Promise)], at["prototype"], "handleSetMiniPlayerBtnsVisible", null), i([(0, aj["IpcInvoke"])("window/checkPlayerWindowStatus", {"scope": "playerWindow"}), j(h["YLplH"], Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleCheckPlayerWindowStatus", null), h["inQJN"](i, [(0, aj["IpcInvoke"])("window/openLiveNowWindow"), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at[uz(1503, "V[Zi")], "handleOpenLiveNowWindow", null), i([(0, aj["IpcInvoke"])("window/openLiveRoomWindow"), j("design:type", Function), j("design:paramtypes", [Object, String, Object]), j("design:returntype", Promise)], at["prototype"], "handleOpenLiveRoomWindow", null), i([(0, aj["IpcInvoke"])(uz(553, "3BTs")), h["qbXNO"](j, "design:type", Function), h["seecr"](j, "design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleFocusLiveRoomWindow", null), i([(0, aj["IpcInvoke"])("window/isLiveRoomWindowVisible", {"withSync": !![],"withAsync": ![]}), j(h["YLplH"], Function), j("design:paramtypes", [h["FIBFO"](typeof (ab = typeof ar["IpcMainEvent"] !== h["eKxBp"] && ar[uz(1569, "Locc")]), "function") ? ab : Object]), j("design:returntype", Promise)], at["prototype"], "handleIsLiveRoomWindowVisiable", null), i([(0, aj["IpcInvoke"])(uz(552, "CN4e"), {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j("design:paramtypes", [typeof (ac = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? ac : Object]), j(uz(1315, "FoL8"), Promise)], at["prototype"], "handleIsLiveRoomWindowOpened", null), i([(0, aj["IpcInvoke"])("window/setLiveRoomWindowOpened"), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleSetLiveRoomWindowOpened", null), i([(0, aj["IpcInvoke"])("window/openInAppBrowser"), h["lHggq"](j, "design:type", Function), j("design:paramtypes", [Object, typeof (ad = h["FkODA"](typeof as["OpenUniversalParams"], "undefined") && as["OpenUniversalParams"]) === "function" ? ad : Object]), j("design:returntype", Promise)], at["prototype"], "handleOpenUniversalWindow", null), h["inQJN"](i, [(0, aj["IpcInvoke"])("window/getUniversalParams"), j("design:type", Function), h["LhLVb"](j, "design:paramtypes", []), j(uz(1584, "D0T^"), Promise)], at["prototype"], "handleGetUniversalParams", null), i([(0, aj["IpcInvoke"])("window/launchUniversalAction"), j("design:type", Function), j(uz(2083, "jubI"), [Object, typeof (ae = typeof as["UniversalActionParams"] !== "undefined" && as["UniversalActionParams"]) === "function" ? ae : Object]), j("design:returntype", Promise)], at["prototype"], h["NDLaR"], null), i([(0, aj[uz(2059, "(3!I")])("window/openUploadWindow"), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleOpenUploadWindow", null), i([(0, aj["IpcInvoke"])("window/showDesktopAssistant"), j("design:type", Function), h["XswVX"](j, "design:paramtypes", [Object, Object]), j(uz(617, "nNM["), Promise)], at["prototype"], uz(788, "TZU2"), null), i([(0, aj["IpcInvoke"])("window/isBiliPetVisible", {"withSync": !![],"withAsync": ![]}), h["uykLB"](j, "design:type", Function), j("design:paramtypes", [typeof (af = typeof ar["IpcMainEvent"] !== uz(1616, "y^Oh") && ar["IpcMainEvent"]) === "function" ? af : Object]), j("design:returntype", Promise)], at["prototype"], "handleGetIsBiliPetVisible", null), i([(0, aj["IpcInvoke"])(uz(1972, "CN4e"), {"scope": "biliPetWindow"}), j(h["YLplH"], Function), j("design:paramtypes", []), j(h["WdVes"], Promise)], at[uz(2041, "nNM[")], "handleTogglePinPetWindow", null), i([(0, aj["IpcInvoke"])("window/setIgnoreMouseEvents", {"scope": "biliPetWindow"}), j("design:type", Function), j("design:paramtypes", [typeof (ag = typeof ar["IpcMainEvent"] !== "undefined" && ar["IpcMainEvent"]) === "function" ? ag : Object, Boolean, Object]), h["Mucos"](j, "design:returntype", Promise)], at["prototype"], "handleSetIgnoreMouseEvents", null), i([(0, aj[uz(297, "JO9c")])("window/handleMovePetWindow", {"scope": "biliPetWindow"}), j("design:type", Function), j("design:paramtypes", [typeof (ah = typeof ar[uz(457, "kdon")] !== "undefined" && ar["IpcMainEvent"]) === uz(394, "1x5q") ? ah : Object, Boolean]), h[uz(290, "(3!I")](j, "design:returntype", Promise)], at["prototype"], "handleMovePetWindow", null), i([(0, aj["IpcInvoke"])("window/openAppLogWindow", {"devOnly": !![]}), j("design:type", Function), h["XswVX"](j, "design:paramtypes", [Object]), j("design:returntype", Promise)], at["prototype"], "handleOpenAppLogWindow", null), i([(0, aj["IpcInvoke"])("window/openDemoWindow", {"devOnly": !![]}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], at["prototype"], h[uz(1757, "Mqcd")], null), i([(0, aj["IpcInvoke"])(uz(880, "5Oa*"), {"devOnly": !![]}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], "handleCloseTestWindow", null), i([(0, aj["IpcInvoke"])("window/openDemoWindowDevTools", {"devOnly": !![]}), j(h["YLplH"], Function), j("design:paramtypes", []), j("design:returntype", Promise)], at["prototype"], h["Dhqyo"], null), i([(0, aj["IpcInvoke"])("window/closeDemoWindowDevTools", {"devOnly": !![]}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], at[uz(2041, "nNM[")], "handleCloseTestWindowDevTools", null), at = i([(0, ai["Controller"])(), j("design:paramtypes", [typeof (k = typeof ak["ConfigService"] !== "undefined" && ak["ConfigService"]) === "function" ? k : Object, typeof (l = typeof al["WindowFactory"] !== "undefined" && al[uz(489, "EcL6")]) === "function" ? l : Object, typeof (m = typeof am["WindowService"] !== "undefined" && am["WindowService"]) === "function" ? m : Object, typeof (n = typeof an["StoreService"] !== "undefined" && an["StoreService"]) === "function" ? n : Object, typeof (o = typeof ao["EventsService"] !== "undefined" && ao["EventsService"]) === "function" ? o : Object, typeof (q = typeof ap["UtilsService"] !== "undefined" && ap["UtilsService"]) === "function" ? q : Object])], at), g["WindowController"] = at);}}), j0 = bV({""(g) {"use strict";var v6 = f, h = {"JqMMi": function (q, r) {return q(r);},"gOqkI": function (q) {return q();}};var i = g && g["__decorate"] || (function (q, t, u, w) {var v5 = f, z = arguments["length"], A = z < 3 ? t : w === null ? w = Object[v5(2077, "%AQh")](t, u) : w, B;if (typeof Reflect === "object" && typeof Reflect[v5(1368, "LCu@")] === "function") A = Reflect["decorate"](q, t, u, w); else {for (var C = q["length"] - 1; C >= 0; C--) if (B = q[C]) A = (z < 3 ? B(A) : z > 3 ? B(t, u, A) : B(t, u)) || A;}return (z > 3 && A && Object["defineProperty"](t, u, A), A);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["WindowModule"] = void 0);var j = h["JqMMi"](require, "@nestjs/common"), k = iZ(), l = h["gOqkI"](iL), m = iN(), n = iM(), o = class q {};(o = i([(0, j[v6(1101, "FoL8")])(), (0, j["Module"])({"controllers": [k["WindowController"]],"providers": [n["WindowFactory"], m["WindowService"], l["WindowEvents"]],"exports": [n["WindowFactory"], m["WindowService"], l["WindowEvents"]]})], o), g["WindowModule"] = o);}}), j1 = bV({""(g) {"use strict";var v7 = f, h = {"beejU": v7(2196, "!L3p"),"GzvNm": function (n, o) {return n === o;},"NJbFs": function (n, o, q) {return n(o, q);}};var i = g && g["__decorate"] || (function (n, o, q, t) {var v8 = v7, u = arguments["length"], w = u < 3 ? o : t === null ? t = Object["getOwnPropertyDescriptor"](o, q) : t, z;if (typeof Reflect === h["beejU"] && h["GzvNm"](typeof Reflect["decorate"], v8(1953, "Qd!["))) w = Reflect["decorate"](n, o, q, t); else {for (var A = n["length"] - 1; A >= 0; A--) if (z = n[A]) w = (u < 3 ? z(w) : u > 3 ? z(o, q, w) : z(o, q)) || w;}return (u > 3 && w && Object["defineProperty"](o, q, w), w);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["UtilsModule"] = void 0);var j = require("@nestjs/common"), k = iP(), l = ih(), m = class n {};(m = h["NJbFs"](i, [(0, j["Global"])(), (0, j["Module"])({"providers": [l["UtilsService"], k[v7(723, "Qd![")]],"exports": [l["UtilsService"], k["HelpService"]]})], m), g["UtilsModule"] = m);}}), j2 = bV({""(g) {"use strict";var v9 = f, h = {"SZSXc": function (z, A) {return z > A;},"sfrSN": function (z, A) {return z === A;},"lKVaD": "StoreController","HKZQI": v9(2171, "qfnC"),"LqOnb": "Start error, code: 021","wmxCh": "undefined","ocpSL": function (z, A, B) {return z(A, B);},"lruCi": v9(1548, "(]yY")};var i = g && g["__decorate"] || (function (z, A, B, C) {var va = v9, D = arguments["length"], E = D < 3 ? A : C === null ? C = Object["getOwnPropertyDescriptor"](A, B) : C, F;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") E = Reflect["decorate"](z, A, B, C); else {for (var G = z["length"] - 1; G >= 0; G--) if (F = z[G]) E = (D < 3 ? F(E) : h[va(397, "TZU2")](D, 3) ? F(A, B, E) : F(A, B)) || E;}return (D > 3 && E && Object["defineProperty"](A, B, E), E);}), j = g && g["__metadata"] || (function (z, A) {if (h["sfrSN"](typeof Reflect, "object") && typeof Reflect["metadata"] === "function") return Reflect["metadata"](z, A);}), k, l, m, n;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["StoreController"] = void 0);var o = require("@nestjs/common"), q = (fM(), c0(fI)), r = gl(), t = hT(), u = require("electron"), w = class z extends q["BaseController"] {constructor(A, B) {var vb = v9;(super(A, h[vb(421, "B4nF")]), c1(this, h["HKZQI"]), c1(this, "storeService"), this[vb(1324, "ry$4")] = A, this["storeService"] = B);}async ["handleGetData"](A, B) {var vc = v9, C = {"QsXbk": h["LqOnb"]};if ("Qhvrj" === "Qhvrj") {const D = this["storeService"]["getDataStoreKey"](B);return (A["returnValue"] = this["storeService"][vc(1824, "nNM[")]["get"](D), A["returnValue"]);} else (j["error"](C["QsXbk"]), k["dialog"]["showErrorBox"]("警告2", "程序错误，无法正常运行！错误代码：021"), l["exit"](1));}async ["handleSetData"](A, B, C) {const D = this["storeService"]["getDataStoreKey"](B);this["storeService"]["dataStore"]["set"](D, C);}async [v9(2287, "Li1q")](A, B) {var vd = v9;const C = this["storeService"]["getDataStoreKey"](B);this["storeService"][vd(867, "(]yY")]["delete"](C);}async ["handleGetAllKeys"](A) {var ve = v9;const B = Object["keys"](this["storeService"]["dataStore"]["store"]);return (A["returnValue"] = B["map"](C => this["storeService"]["getDataStoreOriginKey"](C)), A[ve(1826, "qbG4")]);}};(i([(0, q["IpcInvoke"])("store/getData", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (m = typeof u["IpcMainEvent"] !== h["wmxCh"] && u["IpcMainEvent"]) === "function" ? m : Object, String]), j("design:returntype", Promise)], w["prototype"], "handleGetData", null), i([(0, q[v9(1907, "UmJ6")])("store/setData"), j("design:type", Function), j("design:paramtypes", [Object, String, Object]), h["ocpSL"](j, "design:returntype", Promise)], w["prototype"], "handleSetData", null), i([(0, q["IpcInvoke"])(v9(544, "FoL8")), j(h["lruCi"], Function), j("design:paramtypes", [Object, String]), j("design:returntype", Promise)], w[v9(1320, "gUtk")], "handleRemoveData", null), i([(0, q["IpcInvoke"])("store/getAllKeys", {"withSync": !![]}), h["ocpSL"](j, v9(713, "Qd!["), Function), j("design:paramtypes", [typeof (n = typeof u["IpcMainEvent"] !== "undefined" && u["IpcMainEvent"]) === "function" ? n : Object]), j("design:returntype", Promise)], w["prototype"], "handleGetAllKeys", null), w = h["ocpSL"](i, [(0, o["Controller"])(), j("design:paramtypes", [typeof (k = typeof r["ConfigService"] !== "undefined" && r["ConfigService"]) === v9(1565, "mnQ[") ? k : Object, typeof (l = typeof t[v9(1833, "hGVL")] !== "undefined" && t[v9(1031, "(3!I")]) === v9(1034, "LCu@") ? l : Object])], w), g["StoreController"] = w);}}), j3 = bV({""(g) {"use strict";var vf = f, h = {"EIICT": function (n, o) {return n === o;},"BwvJf": function (n, o, q) {return n(o, q);}};var i = g && g["__decorate"] || (function (n, o, q, t) {var u = arguments["length"], w = u < 3 ? o : t === null ? t = Object["getOwnPropertyDescriptor"](o, q) : t, z;if (typeof Reflect === "object" && h["EIICT"](typeof Reflect["decorate"], "function")) w = Reflect["decorate"](n, o, q, t); else {for (var A = n["length"] - 1; A >= 0; A--) if (z = n[A]) w = (u < 3 ? z(w) : u > 3 ? z(o, q, w) : z(o, q)) || w;}return (u > 3 && w && Object["defineProperty"](o, q, w), w);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g[vf(2095, "Locc")] = void 0);var j = require("@nestjs/common"), k = j2(), l = hT(), m = class n {};(m = h["BwvJf"](i, [(0, j["Global"])(), (0, j["Module"])({"controllers": [k[vf(1631, "5Oa*")]],"providers": [l["StoreService"]],"exports": [l["StoreService"]]})], m), g["StoreModule"] = m);}}), j4 = bV({""(g) {"use strict";var vg = f, h = {"AHRDm": function (t, u, w, z) {return t(u, w, z);},"UWypZ": function (t, u) {return t > u;},"UbASb": "object","WSJFw": function (t, u) {return t(u);},"nLqny": function (t, u, w) {return t(u, w);},"plTpH": function (t, u, w) {return t(u, w);},"jkvzR": "events/addWatchLater","tnfJV": "design:returntype","Vicgp": function (t, u) {return t === u;}};var i = g && g["__decorate"] || (function (t, u, w, z) {var A = arguments["length"], B = A < 3 ? u : z === null ? z = Object["getOwnPropertyDescriptor"](u, w) : z, C;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") B = Reflect["decorate"](t, u, w, z); else {for (var D = t["length"] - 1; D >= 0; D--) if (C = t[D]) B = (A < 3 ? C(B) : A > 3 ? h["AHRDm"](C, u, w, B) : C(u, w)) || B;}return (h["UWypZ"](A, 3) && B && Object["defineProperty"](u, w, B), B);}), j = g && g[vg(804, "Qd![")] || (function (t, u) {var vh = vg;if (typeof Reflect === h["UbASb"] && typeof Reflect["metadata"] === "function") return Reflect[vh(1474, "nwHl")](t, u);}), k, l;(Object[vg(2024, "kdon")](g, "__esModule", {"value": !![]}), g["EventsController"] = void 0);var m = require("@nestjs/common"), n = (fM(), h["WSJFw"](c0, fI)), o = gq(), q = gl(), r = class t extends n[vg(473, "5Oa*")] {constructor(u, w) {(super(u, "EventsController"), c1(this, "configService"), c1(this, "eventsService"), this["configService"] = u, this["eventsService"] = w);}async ["handleFollowUser"](u, w) {this["eventsService"]["emitFollowUsersChange"](!![], w);}async ["handleUnfollowUser"](u, w) {this["eventsService"]["emitFollowUsersChange"](![], w);}async ["handleAddWatchLater"](u, w) {this["eventsService"]["emitAddWatchLater"](w);}async ["handleReceiveNewMessages"](u, w) {this["eventsService"]["emitReceiveNewMessages"](w);}};(i([(0, n["IpcInvoke"])("events/sendFollowUsers"), j("design:type", Function), j("design:paramtypes", [Object, Array]), j("design:returntype", Promise)], r["prototype"], "handleFollowUser", null), i([(0, n[vg(1821, "BDj!")])("events/sendUnfollowUsers"), h["nLqny"](j, "design:type", Function), j("design:paramtypes", [Object, Array]), h["plTpH"](j, "design:returntype", Promise)], r["prototype"], "handleUnfollowUser", null), i([(0, n["IpcInvoke"])(h[vg(1682, "qfnC")]), j("design:type", Function), j("design:paramtypes", [Object, Object]), j(h["tnfJV"], Promise)], r["prototype"], "handleAddWatchLater", null), i([(0, n["IpcInvoke"])("events/newMessages"), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], r["prototype"], "handleReceiveNewMessages", null), r = i([(0, m["Controller"])(), j("design:paramtypes", [typeof (k = typeof q["ConfigService"] !== vg(1030, "NxR(") && q["ConfigService"]) === "function" ? k : Object, h["Vicgp"](typeof (l = typeof o["EventsService"] !== vg(449, "43KF") && o["EventsService"]), "function") ? l : Object])], r), g["EventsController"] = r);}}), j5 = bV({""(g) {"use strict";var h = {"PCnfO": function (n, o) {return n < o;},"jcHDX": function (n, o) {return n === o;}};var i = g && g["__decorate"] || (function (n, o, q, t) {var vi = f, u = arguments[vi(377, "y^Oh")], w = h["PCnfO"](u, 3) ? o : t === null ? t = Object["getOwnPropertyDescriptor"](o, q) : t, z;if (h["jcHDX"](typeof Reflect, "object") && h[vi(1766, "Qd![")](typeof Reflect[vi(2107, "UmJ6")], "function")) w = Reflect["decorate"](n, o, q, t); else {for (var A = n["length"] - 1; A >= 0; A--) if (z = n[A]) w = (u < 3 ? z(w) : u > 3 ? z(o, q, w) : z(o, q)) || w;}return (u > 3 && w && Object["defineProperty"](o, q, w), w);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["EventsModule"] = void 0);var j = require("@nestjs/common"), k = j4(), l = gq(), m = class n {};(m = i([(0, j["Global"])(), (0, j["Module"])({"controllers": [k["EventsController"]],"providers": [l["EventsService"]],"exports": [l["EventsService"]]})], m), g["EventsModule"] = m);}}), j6 = bV({""(g) {"use strict";var vj = f, h = {"kfmIP": function (m, n) {return m < n;},"fsZTL": function (m, n) {return m(n);},"kJkdH": function (m, n) {return m - n;}};var i = g && g["__decorate"] || (function (m, n, o, q) {if ("tkfyx" === "tkfyx") {var t = arguments["length"], u = t < 3 ? n : q === null ? q = Object["getOwnPropertyDescriptor"](n, o) : q, w;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") u = Reflect["decorate"](m, n, o, q); else {for (var z = h["kJkdH"](m["length"], 1); z >= 0; z--) if (w = m[z]) u = (t < 3 ? w(u) : t > 3 ? w(n, o, u) : w(n, o)) || u;}return (t > 3 && u && Object["defineProperty"](n, o, u), u);} else {var B = arguments["length"], C = B < 3 ? I : J === null ? K = L["getOwnPropertyDescriptor"](M, N) : O, D;if (typeof P === "object" && typeof Q["decorate"] === "function") C = R["decorate"](S, T, U, V); else {for (var E = W["length"] - 1; E >= 0; E--) if (D = X[E]) C = (h["kfmIP"](B, 3) ? h["fsZTL"](D, C) : B > 3 ? D(Y, Z, C) : D(a0, a1)) || C;}return (B > 3 && C && a2["defineProperty"](a3, a4, C), C);}});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["FetchModule"] = void 0);var j = require("@nestjs/common"), k = hZ(), l = class m {};(l = i([(0, j["Global"])(), (0, j["Module"])({"providers": [k[vj(1143, "X%9J")]],"exports": [k["FetchService"]]})], l), g["FetchModule"] = l);}}), j7 = bV({""(g) {"use strict";var vk = f, h = {"NnRME": function (C) {return C();},"JpZlX": function (C, D) {return C(D);},"sTrUl": "design:returntype","DIpxZ": "handleCustomReport","yfhfO": "undefined","XMWdQ": function (C, D, E) {return C(D, E);},"ShZzi": "design:paramtypes","WAamo": "function"};var i = g && g[vk(793, "5Oa*")] || (function (C, D, E, F) {var G = arguments["length"], H = G < 3 ? D : F === null ? F = Object["getOwnPropertyDescriptor"](D, E) : F, I;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") H = Reflect["decorate"](C, D, E, F); else {for (var J = C["length"] - 1; J >= 0; J--) if (I = C[J]) H = (G < 3 ? I(H) : G > 3 ? I(D, E, H) : I(D, E)) || H;}return (G > 3 && H && Object["defineProperty"](D, E, H), H);}), j = g && g["__metadata"] || (function (C, D) {var vl = vk;if (typeof Reflect === vl(865, "jubI") && typeof Reflect["metadata"] === "function") return Reflect["metadata"](C, D);}), k, l, m, n, o, q;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["ReportController"] = void 0);var r = require("@nestjs/common"), t = (h["NnRME"](fM), h["JpZlX"](c0, fI)), u = ig(), w = gl(), z = (ga(), c0(g9)), A = require("electron"), B = class C extends t["BaseController"] {constructor(D, E) {(super(D, "ReportController"), c1(this, "configService"), c1(this, "reportService"), this["configService"] = D, this["reportService"] = E);}async ["handleCustomReport"](D, [E, F]) {this["reportService"]["report"](E, F);}async ["handleReportCustomData"](D, E, F) {this["reportService"]["reportCustomData"](E, F);}async ["handleReportMainLog"]() {this["reportService"]["reportMainAppLog"]();}async [vk(461, "X%9J")](D, E) {this["reportService"]["savePlayerLog"](E);}};(i([(0, t["IpcInvoke"])("report/customReport"), j("design:type", Function), j(vk(1290, "hGVL"), [typeof (m = typeof A["IpcMainInvokeEvent"] !== "undefined" && A["IpcMainInvokeEvent"]) === vk(1277, "TZU2") ? m : Object, Array]), j(h["sTrUl"], Promise)], B["prototype"], h["DIpxZ"], null), i([(0, t["IpcInvoke"])("report/reportCustomData"), j("design:type", Function), j("design:paramtypes", [typeof (n = typeof A["IpcMainInvokeEvent"] !== h["yfhfO"] && A["IpcMainInvokeEvent"]) === "function" ? n : Object, String, typeof (o = typeof z["ICustomReport"] !== vk(1445, "BDj!") && z["ICustomReport"]) === "function" ? o : Object]), j("design:returntype", Promise)], B["prototype"], "handleReportCustomData", null), i([(0, t["IpcInvoke"])(vk(1785, "jubI")), j("design:type", Function), j("design:paramtypes", []), h["XMWdQ"](j, "design:returntype", Promise)], B["prototype"], "handleReportMainLog", null), i([(0, t[vk(1432, "FoL8")])("report/savePlayerLog"), j("design:type", Function), j("design:paramtypes", [typeof (q = typeof A["IpcMainInvokeEvent"] !== "undefined" && A["IpcMainInvokeEvent"]) === "function" ? q : Object, String]), j(h[vk(1931, "JypK")], Promise)], B["prototype"], "handleSavePlayerLog", null), B = i([(0, r["Controller"])(), j(h[vk(1576, "nwHl")], [typeof (k = typeof w["ConfigService"] !== "undefined" && w["ConfigService"]) === h["WAamo"] ? k : Object, typeof (l = typeof u["ReportService"] !== "undefined" && u["ReportService"]) === "function" ? l : Object])], B), g["ReportController"] = B);}}), j8 = bV({""(g) {"use strict";var vm = f, h = {"YjAee": function (n, o) {return n === o;},"QbhNH": function (n, o) {return n > o;},"pDoHM": "@nestjs/common","tlDqY": function (n, o, q) {return n(o, q);}};var i = g && g["__decorate"] || (function (n, o, q, t) {var u = arguments["length"], w = u < 3 ? o : h["YjAee"](t, null) ? t = Object["getOwnPropertyDescriptor"](o, q) : t, z;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") w = Reflect["decorate"](n, o, q, t); else {for (var A = n["length"] - 1; A >= 0; A--) if (z = n[A]) w = (u < 3 ? z(w) : u > 3 ? z(o, q, w) : z(o, q)) || w;}return (h["QbhNH"](u, 3) && w && Object["defineProperty"](o, q, w), w);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["ReportModule"] = void 0);var j = require(h["pDoHM"]), k = j7(), l = ig(), m = class n {};(m = h[vm(732, "KdL&")](i, [(0, j["Global"])(), (0, j["Module"])({"controllers": [k["ReportController"]],"providers": [l["ReportService"]],"exports": [l["ReportService"]]})], m), g["ReportModule"] = m);}}), j9 = bV({""(g) {"use strict";var vp = f, h = {"coboz": function (W, X) {return W < X;},"MUkjN": function (W, X, Y, Z) {return W(X, Y, Z);},"Wnauc": function (W, X) {return W === X;},"BAGVN": function (W, X, Y) {return W(X, Y);},"RuOOw": "isOnRefreshBigVipInfo","ThVnZ": function (W, X) {return W > X;},"holxP": function (W, X) {return W !== X;},"GXymq": "set gaia fingerprint webgl","ghrnE": function (W) {return W();},"PZesC": "design:type","RhonJ": "design:paramtypes","jquij": function (W, X, Y) {return W(X, Y);},"cebyj": "handleLoginXhr","WTosq": function (W, X, Y) {return W(X, Y);},"kIzLl": "function","DzRBc": function (W, X, Y, Z, a0) {return W(X, Y, Z, a0);},"oOSfE": function (W, X, Y) {return W(X, Y);},"yHmrg": "auth/removeCookie","Yeqwy": function (W, X, Y, Z, a0) {return W(X, Y, Z, a0);},"TSDji": "design:returntype","zUbVW": function (W, X) {return W === X;},"fkXix": function (W, X, Y, Z, a0) {return W(X, Y, Z, a0);},"tbQfb": "undefined","DfPBF": function (W, X) {return W !== X;}};var i = g && g["__decorate"] || (function (W, X, Y, Z) {var vn = f, a0 = arguments["length"], a1 = a0 < 3 ? X : Z === null ? Z = Object["getOwnPropertyDescriptor"](X, Y) : Z, a2;if (typeof Reflect === vn(991, "%AQh") && typeof Reflect["decorate"] === "function") a1 = Reflect["decorate"](W, X, Y, Z); else {for (var a3 = W[vn(811, "BDj!")] - 1; a3 >= 0; a3--) if (a2 = W[a3]) a1 = (h["coboz"](a0, 3) ? a2(a1) : a0 > 3 ? h["MUkjN"](a2, X, Y, a1) : a2(X, Y)) || a1;}return (a0 > 3 && a1 && Object["defineProperty"](X, Y, a1), a1);}), j = g && g["__metadata"] || (function (W, X) {var vo = f;if (typeof Reflect === "object" && h[vo(838, "LCu@")](typeof Reflect["metadata"], "function")) return Reflect["metadata"](W, X);}), k, l, m, n, o, q, r, t, u, w, z, A, B, C, D, E, F, G, H;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["AuthController"] = void 0);var I = require("@nestjs/common"), J = (fM(), c0(fI)), K = i1(), L = iM(), M = hT(), N = h["ghrnE"](gl), O = iN(), P = gq(), Q = ig(), R = i0(), S = require("electron"), T = (gk(), c0(gj)), U = require("@bilibili/b-utils-core"), V = class W extends J[vp(1906, "FoL8")] {constructor(X, Y, Z, a0, a1, a2, a3, a4) {var vq = vp;(super(X, "AuthController"), c1(this, "configService"), c1(this, "authService"), c1(this, "windowService"), h["BAGVN"](c1, this, "windowFactory"), c1(this, vq(1508, "y^Oh")), c1(this, "eventsService"), c1(this, "reportService"), c1(this, vq(1994, "!L3p")), c1(this, h["RuOOw"], ![]), this["configService"] = X, this["authService"] = Y, this["windowService"] = Z, this["windowFactory"] = a0, this["storeService"] = a1, this["eventsService"] = a2, this["reportService"] = a3, this["gaiaService"] = a4);}async ["handleRequestLogin"](X, Y) {var vr = vp, Z = {"unyUr": "utf8"};this["log"][vr(393, "UmJ6")]("Request login!");const a0 = this["storeService"]["getUserInfo"]();if (!a0[vr(611, "jubI")]) {if ("ujCeP" !== "awjae") (this["windowFactory"]["createOrFocusLoginWindow"](), this["reportService"]["reportLoginFrom"](Y)); else {const a2 = (0, k["createDecipheriv"])(vr(2282, "1iAQ"), l, m);return a2[vr(998, "VFZK")](n, "hex", Z["unyUr"]) + a2["final"](vr(1298, "hGVL"));}}}async ["handleRequestReskPage"](X, Y) {var vs = vp;(this[vs(1749, "(]yY")][vs(1813, "JO9c")]("Request risk page!"), this["windowFactory"]["openLoginRiskWindow"](Y));}async ["handleLoginWebviewReady"]() {(this["log"]["info"]("Init login buvid!"), this["authService"]["setMiniLoginBuvid"]());}async ["handleSetRefreshToken"](X, Y) {var vt = vp;const Z = Y?.["token"] || Y?.["refresh_token"] || "";(this["log"]["info"]("Setup BiliConf,", !!Y, !!Z), this["storeService"][vt(1402, "Ni8i")](Z), this["authService"]["handleLoginWindowXhr"]());}async ["handleLoginXhr"](X, Y) {"jVzcx" === "jXblJ" ? h(this["configService"]["intervalOfBiliPetMove"]) : this["authService"]["handleLoginWindowXhr"]();}async ["handleRequestLogout"]() {"kaeYV" !== "CiWSE" ? (this["log"]["info"]("Logout account!"), this["authService"]["handleUserLogout"]()) : this["setUniversalParams"]({"isFail": ![]});}async ["handleRequestBigVip"](X, Y) {this["log"]["info"]("Open big VIP window!");if (this["isOnRefreshBigVipInfo"]) return;this["windowService"]["handleOpenBigVipWindow"](Y);}async ["handleBigVipPaySuccess"]() {if ("lTlMz" !== "tgUKX") (this["log"]["info"]("Big VIP pay success!"), this["isOnRefreshBigVipInfo"] = !![], await this["authService"]["refreshUserInfo"](), this["isOnRefreshBigVipInfo"] = ![], this["eventsService"]["emitBigVipPaySuccess"]()); else return this["systemService"]["getIsHightPerformanceCPU"]();}async ["handleGetAppInfo"](X) {return (X["returnValue"] = this["configService"]["getAppInfo"](), X["returnValue"]);}async ["handleGetUserInfo"](X) {var vu = vp;if (h["holxP"]("vXhAs", "vXhAs")) {var Z = arguments["length"], a0 = Z < 3 ? I : J === null ? K = L["getOwnPropertyDescriptor"](M, N) : O, a1;if (typeof P === "object" && typeof Q["decorate"] === "function") a0 = R["decorate"](S, T, U, V); else {for (var a2 = W["length"] - 1; a2 >= 0; a2--) if (a1 = X[a2]) a0 = (Z < 3 ? a1(a0) : Z > 3 ? a1(Y, Z, a0) : a1(a0, a1)) || a0;}return (h["ThVnZ"](Z, 3) && a0 && a2[vu(1008, "KdL&")](a3, a4, a0), a0);} else return (X["returnValue"] = this[vu(878, "KdL&")]["getUserInfo"](), X["returnValue"]);}async ["handleReloadUserInfo"]() {await this["authService"]["refreshUserInfo"]();}async ["handleSetCookies"](X, Y) {return await this["authService"]["setCookies"]((0, U["toArray"])(Y));}async ["handleRemoveCookie"](X, Y) {return await this["authService"]["removeCookie"](Y);}async [vp(745, "1x5q")]() {if ("jJoHM" === "BdPyw") i["default"]["sync"](j); else return this["authService"]["clearAppCookies"]();}async [vp(412, "V[Zi")]() {return await S["session"]["defaultSession"]["cookies"]["get"]({"domain": ".bilibili.com"});}async ["handleGetStoredCookies"]() {if ("SFbLD" !== "amCHj") return this["storeService"]["getAuthCookies"](); else (this["log"]["info"]("Unpin player window!"), this["configService"]["isPlayerWindowPined"] = ![], this["configService"]["playerWindow"]["setAlwaysOnTop"](![]), this["eventsService"]["emitPlayerWindowPinChange"](![]));}async ["handleAskForMediaAccess"](X, Y) {return await this["authService"]["askForMediaAccess"](Y);}async ["handleGetMediaAccessStatus"](X, Y) {return (X["returnValue"] = this["authService"]["getMediaAccessStatus"](Y), X["returnValue"]);}async ["handleSignQueryParams"](X, Y, Z = ![]) {var vv = vp;if (typeof Y === "object") return this[vv(1539, "9Bou")]["signQueryParams"](Y, Z);}async ["handleAcceptPrivacyPolicy"]() {var vw = vp;(this["configService"]["isPrivacyPolicyAccepted"] = !![], this["configService"]["acceptPrivacyPolicy$"][vw(1663, "1iAQ")](), this["configService"]["reportFpInfo$"]["next"](), this["reportService"]["reportAgreementAction"](!![]));}async ["handleDisagreePrivacyPolicy"]() {this["reportService"]["reportAgreementAction"](![]);}async ["handleSetGaiaFpWebgl"](X, Y) {(this["log"]["info"](h["GXymq"]), this["gaiaService"]["reportGaiaFpWhenChange"]("webgl", Y));}};(i([(0, J["IpcInvoke"])("auth/requestLogin"), j(h["PZesC"], Function), j(h["RhonJ"], [Object, String]), j("design:returntype", Promise)], V["prototype"], "handleRequestLogin", null), i([(0, J["IpcInvoke"])("auth/requestReskPage", {"scope": "loginWindow"}), j("design:type", Function), j("design:paramtypes", [Object, typeof (u = typeof T["RiskPageParams"] !== "undefined" && T["RiskPageParams"]) === "function" ? u : Object]), h["BAGVN"](j, "design:returntype", Promise)], V["prototype"], "handleRequestReskPage", null), i([(0, J["IpcInvoke"])("auth/loginWebviewReady", {"scopes": [vp(1234, "^M%9"), "loginRiskWindow"]}), h["jquij"](j, "design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], V["prototype"], "handleLoginWebviewReady", null), i([(0, J["IpcInvoke"])("auth/setRefreshToken", {"scopes": ["loginWindow", "loginRiskWindow"]}), j("design:type", Function), j(h["RhonJ"], [Object, typeof (w = typeof T["RefreshTokenInfo"] !== "undefined" && T["RefreshTokenInfo"]) === "function" ? w : Object]), j("design:returntype", Promise)], V["prototype"], "handleSetRefreshToken", null), i([(0, J["IpcInvoke"])("auth/handleLoginXhr", {"scopes": ["loginWindow", "loginRiskWindow"]}), j("design:type", Function), j("design:paramtypes", [Object, String]), j("design:returntype", Promise)], V["prototype"], h["cebyj"], null), i([(0, J["IpcInvoke"])(vp(963, "!L3p"), {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], V["prototype"], "handleRequestLogout", null), i([(0, J["IpcInvoke"])(vp(1002, "FoL8")), j("design:type", Function), j("design:paramtypes", [Object, h["Wnauc"](typeof (z = typeof Partial !== "undefined" && Partial), "function") ? z : Object]), j("design:returntype", Promise)], V["prototype"], "handleRequestBigVip", null), i([(0, J["IpcInvoke"])("auth/bigVipPaySuccess"), j("design:type", Function), j(h["RhonJ"], []), j(vp(343, "LCu@"), Promise)], V["prototype"], "handleBigVipPaySuccess", null), i([(0, J["IpcInvoke"])("auth/getAppInfo", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (A = typeof S["IpcMainEvent"] !== vp(1367, "!v[t") && S[vp(2009, "3BTs")]) === "function" ? A : Object]), h["WTosq"](j, "design:returntype", Promise)], V["prototype"], "handleGetAppInfo", null), i([(0, J["IpcInvoke"])("auth/getUserInfo", {"withSync": !![]}), j("design:type", Function), h[vp(903, "JO9c")](j, "design:paramtypes", [typeof (B = typeof S["IpcMainEvent"] !== "undefined" && S["IpcMainEvent"]) === h["kIzLl"] ? B : Object]), j(vp(1083, "43KF"), Promise)], V["prototype"], "handleGetUserInfo", null), h[vp(1875, "9Bou")](i, [(0, J["IpcInvoke"])("auth/reloadUserInfo"), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], V["prototype"], vp(1003, "KdL&"), null), i([(0, J["IpcInvoke"])("auth/setCookies"), h["oOSfE"](j, "design:type", Function), j("design:paramtypes", [Object, Array]), j("design:returntype", Promise)], V["prototype"], vp(499, "3BTs"), null), i([(0, J["IpcInvoke"])(h["yHmrg"], {"devOnly": !![]}), j("design:type", Function), h["oOSfE"](j, "design:paramtypes", [Object, String]), j("design:returntype", Promise)], V["prototype"], "handleRemoveCookie", null), h["DzRBc"](i, [(0, J["IpcInvoke"])("auth/clearCookies", {"devOnly": !![]}), j(vp(1984, "43KF"), Function), j("design:paramtypes", []), j("design:returntype", Promise)], V[vp(1713, "D0T^")], "handleFlashCookiess", null), h["Yeqwy"](i, [(0, J["IpcInvoke"])("auth/getBiliCookies", {"devOnly": !![]}), j("design:type", Function), j(h[vp(1620, "CN4e")], []), j(h["TSDji"], Promise)], V["prototype"], vp(1698, "LCu@"), null), i([(0, J["IpcInvoke"])("auth/getStoredCookies", {"devOnly": !![]}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], V["prototype"], "handleGetStoredCookies", null), i([(0, J["IpcInvoke"])("auth/askForMediaAccess"), j("design:type", Function), j("design:paramtypes", [Object, typeof (C = typeof T[vp(1995, "mnQ[")] !== "undefined" && T["AskMediaType"]) === "function" ? C : Object]), j("design:returntype", Promise)], V["prototype"], "handleAskForMediaAccess", null), i([(0, J["IpcInvoke"])("auth/getMediaAccessStatus", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [h["zUbVW"](typeof (D = typeof S[vp(381, "JO9c")] !== "undefined" && S["IpcMainEvent"]), "function") ? D : Object, typeof (E = typeof T["MediaType"] !== "undefined" && T["MediaType"]) === "function" ? E : Object]), j("design:returntype", Promise)], V[vp(1349, "y^Oh")], vp(1975, "3BTs"), null), i([(0, J["IpcInvoke"])("auth/signQueryParams"), j("design:type", Function), j("design:paramtypes", [typeof (F = typeof S[vp(1069, "Qd![")] !== "undefined" && S["IpcMainInvokeEvent"]) === h["kIzLl"] ? F : Object, typeof (G = h["holxP"](typeof T[vp(928, "8gI1")], "undefined") && T["Data"]) === vp(294, "!L3p") ? G : Object, Boolean]), j(vp(1589, "Li1q"), Promise)], V["prototype"], "handleSignQueryParams", null), h["fkXix"](i, [(0, J[vp(1821, "BDj!")])("auth/acceptPrivacyPolicy", {"scope": "mainWindow"}), j("design:type", Function), h["oOSfE"](j, "design:paramtypes", []), h["BAGVN"](j, "design:returntype", Promise)], V["prototype"], "handleAcceptPrivacyPolicy", null), i([(0, J["IpcInvoke"])("auth/disagreePrivacyPolicy", {"scope": vp(2127, "LCu@")}), j(vp(1800, "9Bou"), Function), j(vp(985, "FoL8"), []), j("design:returntype", Promise)], V["prototype"], "handleDisagreePrivacyPolicy", null), i([(0, J["IpcInvoke"])("auth/setGaiaFpWebgl", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, typeof (H = typeof T["GaiaFpWebgl"] !== vp(1613, "KdL&") && T["GaiaFpWebgl"]) === "function" ? H : Object]), j("design:returntype", Promise)], V["prototype"], vp(420, "nNM["), null), V = i([(0, I[vp(1898, "Locc")])(), j("design:paramtypes", [typeof (k = typeof N[vp(407, "NxR(")] !== h["tbQfb"] && N["ConfigService"]) === "function" ? k : Object, typeof (l = typeof K["AuthService"] !== "undefined" && K["AuthService"]) === "function" ? l : Object, typeof (m = typeof O["WindowService"] !== h["tbQfb"] && O["WindowService"]) === "function" ? m : Object, typeof (n = typeof L["WindowFactory"] !== "undefined" && L["WindowFactory"]) === "function" ? n : Object, typeof (o = h[vp(2178, "Locc")](typeof M["StoreService"], "undefined") && M["StoreService"]) === vp(2144, "Li1q") ? o : Object, typeof (q = h["DfPBF"](typeof P["EventsService"], "undefined") && P["EventsService"]) === "function" ? q : Object, typeof (r = typeof Q["ReportService"] !== "undefined" && Q["ReportService"]) === "function" ? r : Object, typeof (t = typeof R["GaiaService"] !== "undefined" && R["GaiaService"]) === "function" ? t : Object])], V), g["AuthController"] = V);}}), ja = bV({""(g) {"use strict";var h = {"sBENm": function (q, r) {return q === r;},"HDetS": function (q, r) {return q(r);}};var i = g && g["__decorate"] || (function (q, t, u, w) {var z = arguments["length"], A = z < 3 ? t : w === null ? w = Object["getOwnPropertyDescriptor"](t, u) : w, B;if (typeof Reflect === "object" && h["sBENm"](typeof Reflect["decorate"], "function")) A = Reflect["decorate"](q, t, u, w); else {for (var C = q["length"] - 1; C >= 0; C--) if (B = q[C]) A = (z < 3 ? B(A) : z > 3 ? B(t, u, A) : B(t, u)) || A;}return (z > 3 && A && Object["defineProperty"](t, u, A), A);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["AuthModule"] = void 0);var j = h["HDetS"](require, "@nestjs/common"), k = j9(), l = i1(), m = iU(), n = i0(), o = class q {};(o = i([(0, j["Global"])(), (0, j["Module"])({"controllers": [k["AuthController"]],"providers": [l["AuthService"], m["PopLoginService"], n["GaiaService"]],"exports": [l["AuthService"], m["PopLoginService"], n["GaiaService"]]})], o), g["AuthModule"] = o);}}), jb = bV({""(g) {"use strict";var vx = f, h = {"TfJqw": function (w, z) {return w >= z;},"KMrhC": vx(1274, "w$r8"),"MMSTO": function (w, z) {return w(z);},"yIWKR": function (w, z) {return w === z;},"jVFMN": "'\\''","JnVpG": function (w, z) {return w(z);}};var i = g && g["__decorate"] || (function (w, z, A, B) {var vy = vx, C = arguments["length"], D = C < 3 ? z : B === null ? B = Object["getOwnPropertyDescriptor"](z, A) : B, E;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") D = Reflect["decorate"](w, z, A, B); else {for (var F = w["length"] - 1; h["TfJqw"](F, 0); F--) if (E = w[F]) D = (C < 3 ? E(D) : C > 3 ? E(z, A, D) : E(z, A)) || D;}return (C > 3 && D && Object[vy(736, "43KF")](z, A, D), D);}), j = g && g["__metadata"] || (function (w, z) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](w, z);}), k = g && g["__importDefault"] || (function (w) {return w && w["__esModule"] ? w : {"default": w};}), l;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["LocalPlayerService"] = void 0);var m = require("@nestjs/common"), n = (fM(), c0(fI)), o = hT(), q = (fy(), c0(fx)), r = h["JnVpG"](require, "child_process"), t = k(require("winreg")), u = class w extends n["BaseService"] {constructor(z) {(super("LocalPlayerService"), c1(this, "storeService"), this["storeService"] = z);}async ["isDetaultPlayer"]() {if (q["IS_WIN"]) return await this["isWinDefaultPlayer"](); else {if (q["IS_MAC"]) return await this["isMacDefaultPlayer"]();}}async ["setDefaultPlayer"]() {if (q["IS_WIN"]) return await this["setWinDefaultPlayer"](); else {if (q["IS_MAC"]) return await this["setMacDefaultPlayer"]();}}async ["unsetDefaultPlayer"]() {if (q["IS_WIN"]) return await this["unsetWinDefaultPlayer"](); else {if (q["IS_MAC"]) return await this["unsetMacDefaultPlayer"]();}}async ["isWinDefaultPlayer"]() {return await new Promise((z, A) => {const B = "bilipc";this["log"]["info"](h["KMrhC"]);const C = new t["default"]({"hive": t["default"]["HKCU"],"key": "\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\FileExts\\.mp4\\UserChoice"});C["get"]("Progid", (D, E) => {var vz = f;this["log"]["info"]("[isWinDefaultPlayer] item:", E?.["value"] || "--");if (D || !E) {(this["log"]["error"]("[isWinDefaultPlayer] err:", D?.[vz(909, "EcL6")] || "--"), z(![]));return;}E[vz(2016, "YUg@")] === B ? z(!![]) : z(![]);});});}async ["setWinDefaultPlayer"]() {var z = {"zIJsm": function (A, B) {return h["MMSTO"](A, B);}};if (h["yIWKR"]("ueIcI", "ueIcI")) return await new Promise((A, B) => {var C = {"uAszR": function (I, J) {return z["zIJsm"](I, J);}};this["log"]["info"]("Setting as default local player");const D = "bilipc", E = this["storeService"]["getLocalPlayerBackup"]();let F = !![], G = 0;const H = () => {var vA = f;(G++, G === q["SUPPORT_EXTS"]["length"] && (this["storeService"][vA(2012, "Ni8i")](E), C[vA(2042, "kdon")](A, F)));};q["SUPPORT_EXTS"]["forEach"](I => {var vB = f;const J = new t["default"]({"hive": t["default"][vB(1446, "KdL&")],"key": vB(2048, "NxR(") + I + "\\UserChoice"});J["get"]("Progid", (K, L) => {var vC = vB;L?.["value"] && (!E[I] || L["value"] !== D) && (E[I] = L["value"]);try {(0, r["execSync"])(q["SETFTA_EXE_"] + " ." + I + " " + D);try {(0, r["execSync"])("assoc ." + I + "=" + D);} finally {H();}} catch (M) {(this["log"][vC(1688, "LCu@")]("[setWinDefaultPlayer] err", M["message"]), F = ![], H());}});});}); else (this["configService"]["testWindow"]["focus"](), this["configService"]["testWindow"]["close"]());}async ["unsetWinDefaultPlayer"]() {return await new Promise((z, A) => {var vD = f;this["log"]["info"](vD(1522, "nNM["));const B = this["storeService"]["getLocalPlayerBackup"]();let C = !![], D = 0;const E = () => {(D++, D === q["SUPPORT_EXTS"]["length"] && z(C));};q["SUPPORT_EXTS"]["forEach"](F => {const G = B[F];if (G) try {(0, r["execSync"])(q["SETFTA_EXE_"] + " ." + F + " " + G);try {(0, r["execSync"])("assoc ." + F + "=" + G);} finally {E();}} catch (H) {(this["log"]["error"]("[unsetWinDefaultPlayer] err", H["message"]), C = ![], E());} else E();});});}async ["isMacDefaultPlayer"]() {const z = "\n      set fileType to \"mp4\"\n      set appAlias to POSIX file \"/Applications/哔哩哔哩.app\" as alias\n      \n      tell application \"Finder\"\n        try\n          -- 获取当前默认应用程序\n          set currentApp to (get application file type fileType)\n          -- 检查当前默认应用是否为目标应用\n          if currentApp is appAlias then\n            do shell script \"echo yes\"\n          else\n            do shell script \"echo no\"\n          end if\n        on error\n          do shell script \"echo no\"\n        end try\n      end tell\n    ";return await new Promise((A, B) => {(0, r["exec"])("osascript -e '" + z["replace"](/'/g, h["jVFMN"]) + "'", (C, D, E) => {(C && (this["log"]["error"]("[isMacDefaultPlayer]: " + C["message"]), A(![])), A(D["trim"]() === "yes"));});});}async ["setMacDefaultPlayer"]() {var vE = vx;const z = [vE(2004, "gUtk"), "webm", "mov", "mkv"], A = "\n      set fileTypes to {" + z["map"](B => "\"" + B + "\"")["join"](", ") + "}\n      set appPath to \"/Applications/哔哩哔哩.app\"\n      \n      tell application \"Finder\"\n        set appAlias to POSIX file appPath as alias\n        repeat with ft in fileTypes\n          try\n            -- 获取当前默认应用程序\n            set currentApp to (get application file type ft)\n            -- 检查当前默认应用是否为目标应用，如不是，则更改默认应用\n            if currentApp is not appAlias then\n              do shell script \"lsregister -u '/Applications/\" & currentApp & \".app' && lsregister -f '\" & appPath & \"' && killall Finder\"\n            end if\n          end try\n        end repeat\n      end tell\n    ";return new Promise((B, C) => {(0, r["exec"])("osascript -e '" + A["replace"](/'/g, "'\\''") + "'", (D, E, F) => {if (D) {(this["log"]["error"]("[setMacDefaultPlayer]: " + D["message"]), B(![]));return;}B(!![]);});});}async ["unsetMacDefaultPlayer"]() {var vF = vx, z = {"JeHOr": function (B, C) {return B(C);}};const A = "\n      set fileTypes to {" + q["SUPPORT_EXTS"]["map"](B => "\"" + B + "\"")[vF(2072, "3BTs")](", ") + "}\n      \n      tell application \"Finder\"\n        repeat with ft in fileTypes\n          try\n            -- 获取当前默认应用程序\n            set currentApp to (get application file type ft)\n            -- 检查当前默认应用是否为目标应用，如不是，则更改默认应用\n            if currentApp is \"/Applications/哔哩哔哩.app\" then\n              do shell script \"lsregister -u '/Applications/哔哩哔哩.app' && killall Finder\"\n            end if\n          end try\n        end repeat\n      end tell\n    ";return new Promise((B, C) => {(0, r["exec"])("osascript -e '" + A["replace"](/'/g, "'\\''") + "'", (D, E, F) => {var vG = f;if (D) {(this[vG(1755, "y^Oh")]["error"]("[unsetMacDefaultPlayer]: " + D["message"]), z["JeHOr"](B, ![]));return;}B(!![]);});});}};(u = i([(0, m["Injectable"])(), j("design:paramtypes", [typeof (l = typeof o["StoreService"] !== "undefined" && o["StoreService"]) === "function" ? l : Object])], u), g["LocalPlayerService"] = u);}}), jc = bV({""(g) {"use strict";var vI = f, h = {"THOpu": "object","GeBwH": function (V, W, X, Y) {return V(W, X, Y);},"lDjay": function (V, W) {return V === W;},"Vaoqx": "utilsService","LiNwR": function (V, W, X) {return V(W, X);},"RmhnF": function (V) {return V();},"JCqOA": "undefined","ESKdR": "system/isLinux","sxQUx": "design:type","TuYgo": function (V, W) {return V !== W;},"yJREA": function (V, W, X) {return V(W, X);},"OXKmT": "handleGetAppPath","qQinN": function (V, W, X) {return V(W, X);},"pYWEU": "system/getBucketInfo","VhQTh": "system/clearDNSCache","jvSdj": function (V, W, X) {return V(W, X);},"CZhRS": "design:paramtypes","ZwcHX": "system/getAppLogTipStrings","UZSag": "function"};var i = g && g["__decorate"] || (function (V, W, X, Y) {var vH = f, Z = arguments[vH(1244, "h9c@")], a0 = Z < 3 ? W : Y === null ? Y = Object[vH(758, "LCu@")](W, X) : Y, a1;if (typeof Reflect === h["THOpu"] && typeof Reflect["decorate"] === "function") a0 = Reflect["decorate"](V, W, X, Y); else {for (var a2 = V[vH(574, "KdL&")] - 1; a2 >= 0; a2--) if (a1 = V[a2]) a0 = (Z < 3 ? a1(a0) : Z > 3 ? h["GeBwH"](a1, W, X, a0) : a1(W, X)) || a0;}return (Z > 3 && a0 && Object["defineProperty"](W, X, a0), a0);}), j = g && g["__metadata"] || (function (V, W) {if (typeof Reflect === "object" && h["lDjay"](typeof Reflect["metadata"], "function")) return Reflect["metadata"](V, W);}), k, l, m, n, o, q, r, t, u, w, z, A, B, C, D, E, F, G, H;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["SystemController"] = void 0);var I = require("@nestjs/common"), J = (fM(), c0(fI)), K = (fy(), c0(fx)), L = iE(), M = iD(), N = gl(), O = ih(), P = h[vI(643, "FoL8")](jb), Q = require("electron"), R = (gk(), c0(gj)), S = require("@bilibili/b-utils-core"), T = require("path"), U = class V extends J["BaseController"] {constructor(W, X, Y, Z, a0) {(super(W, "SystemController"), c1(this, "configService"), c1(this, "systemService"), c1(this, h["Vaoqx"]), c1(this, "playerService"), h["LiNwR"](c1, this, "localPlayerService"), this["configService"] = W, this["systemService"] = X, this["utilsService"] = Y, this["playerService"] = Z, this["localPlayerService"] = a0);}async [vI(1357, "LCu@")](W) {var vJ = vI;return (W["returnValue"] = K[vJ(1273, "nmd9")], W["returnValue"]);}async ["handleIsWin"](W) {return (W["returnValue"] = K["IS_WIN"], W["returnValue"]);}async ["handleIsLinux"](W) {return (W["returnValue"] = K["IS_LINUX"], W["returnValue"]);}async ["handleIsNetOnLine"](W) {return (W["returnValue"] = Q["net"]["isOnline"](), W["returnValue"]);}async ["handleGetPath"](W, X) {if ("RLiak" === "RLiak") return (W["returnValue"] = Q["app"]["getPath"](X), W["returnValue"]); else h["hide"]();}async ["handleOpenPath"](W, X) {var vK = vI;try {if ("HmSXJ" !== "apfIW") {this["log"]["info"]("Open path:", X);if (X) Q[vK(1348, "jubI")]["openPath"](X);} else this["utilsService"]["relaunchApp"]();} catch (Z) {}}async ["handleGetAppPath"](W) {return (W["returnValue"] = K["IS_DEV"] ? Q["app"]["getAppPath"]() : (0, T["resolve"])((0, T["dirname"])(Q["app"]["getAppPath"]()), "../"), W["returnValue"]);}async ["handleShowItemInPath"](W, X) {if ("dEcAz" !== "NqaTX") try {if ("ElNsJ" !== "SClWz") {const Y = (0, T["join"])(...(0, S["toArray"])(X));this["log"]["info"]("Show item in path:", Y);if (Y) Q["shell"]["showItemInFolder"](Y);} else this["sendEventToAllWindows"]("events/beforeAppQuit", {"data": null});} catch (a0) {} else return;}async ["handleGetPlayerInfo"](W) {"KqXhr" !== "BvxTn" ? W["returnValue"] = this["playerService"]["handleGetPlayerInfo"]() : this["configService"]["openMainWindowPage$"]["next"]({"page": "HomeHotsPage","meta": {"playSeries": 1,"key": "2"}});}async ["handleGetFontsInfo"](W) {var vL = vI;W["returnValue"] = this["systemService"][vL(966, "YUg@")]();}async [vI(1107, "Qd![")](W) {return (W["returnValue"] = this["configService"]["abTestInfo"], W["returnValue"]);}async ["handleGetBuvidWlCode"](W, X) {return this["utilsService"]["getBuvidWlCode"](X);}async ["handleGetBucketInfo"](W, {bid: X, salt: Y}) {return this["utilsService"]["getAbTestBucket"](X, Y);}async [vI(427, "Ni8i")]() {return this["systemService"]["appLogs"];}async ["handleGetAppCach"]() {return this["systemService"]["getAppCache"]();}async ["handleClearAppCache"]() {return this["systemService"]["clearAppCache"]();}async ["handleClearDNSCache"]() {return this["systemService"]["clearDNSCache"]();}[vI(1910, "5Oa*")]() {if ("OvoQy" === "OvoQy") return this["systemService"]["getAppLogTipStrings"](); else (k(this, "isShowLocalPlayerSetting"), l(this, "isEnableBiliPet"), h["LiNwR"](m, this, "isStartUpShowBiliPet"), n(this, "isFullScreenBorderless"));}async ["handleGetIsDefaultPlayer"]() {return this["localPlayerService"]["isDetaultPlayer"]();}async ["handleSetDefaultPlayer"](W, X) {var vM = vI;return X ? this["localPlayerService"]["setDefaultPlayer"]() : this[vM(1633, "FoL8")]["unsetDefaultPlayer"]();}async ["handleCheckIsGrayHit"](W, X) {return (W["returnValue"] = this["utilsService"]["checkIsGrayHit"](X), W["returnValue"]);}async ["handleGamepadAction"](W, X) {var vN = vI;const Y = this["getSenderWindow"](W);return (W[vN(1014, "Mqcd")] = await this["systemService"]["handleGamepadAction"](X, Y), W[vN(1135, "JypK")]);}};(i([(0, J["IpcInvoke"])("system/isMac", {"withSync": !![]}), j("design:type", Function), j(vI(1481, "^M%9"), [typeof (q = typeof Q[vI(2177, "Mqcd")] !== h["JCqOA"] && Q["IpcMainEvent"]) === "function" ? q : Object]), j("design:returntype", Promise)], U["prototype"], "handleIsMac", null), i([(0, J["IpcInvoke"])("system/isWin", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (r = typeof Q["IpcMainEvent"] !== "undefined" && Q["IpcMainEvent"]) === "function" ? r : Object]), j("design:returntype", Promise)], U[vI(1863, "1iAQ")], "handleIsWin", null), i([(0, J["IpcInvoke"])(h["ESKdR"], {"withSync": !![]}), j(h["sxQUx"], Function), j("design:paramtypes", [typeof (t = typeof Q["IpcMainEvent"] !== "undefined" && Q["IpcMainEvent"]) === vI(1228, "43KF") ? t : Object]), j("design:returntype", Promise)], U["prototype"], "handleIsLinux", null), i([(0, J["IpcInvoke"])("system/isNetOnLine", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (u = h["TuYgo"](typeof Q["IpcMainEvent"], "undefined") && Q[vI(2142, "EcL6")]) === "function" ? u : Object]), j("design:returntype", Promise)], U["prototype"], "handleIsNetOnLine", null), i([(0, J["IpcInvoke"])("system/getPath", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (w = typeof Q["IpcMainEvent"] !== h["JCqOA"] && Q["IpcMainEvent"]) === "function" ? w : Object, typeof (z = h[vI(1190, "!L3p")](typeof R["PathType"], "undefined") && R["PathType"]) === "function" ? z : Object]), h[vI(1029, "Li1q")](j, "design:returntype", Promise)], U["prototype"], "handleGetPath", null), i([(0, J["IpcInvoke"])("system/openPath"), j("design:type", Function), j("design:paramtypes", [Object, String]), j("design:returntype", Promise)], U["prototype"], "handleOpenPath", null), i([(0, J["IpcInvoke"])("system/getAppPath", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (A = typeof Q["IpcMainEvent"] !== "undefined" && Q["IpcMainEvent"]) === "function" ? A : Object]), h["yJREA"](j, "design:returntype", Promise)], U["prototype"], h[vI(2085, "%AQh")], null), i([(0, J["IpcInvoke"])("system/showItemInPath"), j("design:type", Function), j(vI(2057, "LCu@"), [Object, Array]), j("design:returntype", Promise)], U["prototype"], "handleShowItemInPath", null), i([(0, J[vI(851, "qbG4")])("system/getPlayerInfo", {"withSync": !![],"withAsync": ![]}), j("design:type", Function), j(vI(2057, "LCu@"), [typeof (B = typeof Q["IpcMainEvent"] !== "undefined" && Q["IpcMainEvent"]) === "function" ? B : Object]), j("design:returntype", Promise)], U["prototype"], "handleGetPlayerInfo", null), i([(0, J["IpcInvoke"])("system/getFontsInfo", {"withSync": !![],"withAsync": ![]}), h["qQinN"](j, "design:type", Function), j(vI(1042, "D0T^"), [typeof (C = typeof Q["IpcMainEvent"] !== "undefined" && Q["IpcMainEvent"]) === "function" ? C : Object]), j(vI(1670, "CN4e"), Promise)], U["prototype"], vI(477, "nmd9"), null), i([(0, J[vI(1543, "hGVL")])("system/getAbTestInfo", {"withSync": !![]}), j(h["sxQUx"], Function), j("design:paramtypes", [typeof (D = typeof Q["IpcMainEvent"] !== "undefined" && Q["IpcMainEvent"]) === "function" ? D : Object]), j(vI(1468, "nwHl"), Promise)], U["prototype"], "handleGetAbTestInfo", null), i([(0, J["IpcInvoke"])("system/getBuvidWlCode", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, String]), j("design:returntype", Promise)], U["prototype"], "handleGetBuvidWlCode", null), i([(0, J[vI(562, "%AQh")])(h["pYWEU"], {"scope": vI(827, "h9c@")}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], U["prototype"], "handleGetBucketInfo", null), i([(0, J["IpcInvoke"])(vI(1761, "JO9c"), {"scope": "appLogWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], U["prototype"], vI(972, "qfnC"), null), i([(0, J["IpcInvoke"])(vI(1891, "8gI1"), {"scope": vI(1627, "ry$4")}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], U["prototype"], "handleGetAppCach", null), i([(0, J["IpcInvoke"])(vI(373, "mnQ["), {"scope": "mainWindow"}), j(vI(286, "EcL6"), Function), j("design:paramtypes", []), j("design:returntype", Promise)], U[vI(2041, "nNM[")], "handleClearAppCache", null), i([(0, J["IpcInvoke"])(h["VhQTh"], {"scope": "mainWindow"}), j(h["sxQUx"], Function), h["jvSdj"](j, h["CZhRS"], []), j("design:returntype", Promise)], U["prototype"], "handleClearDNSCache", null), i([(0, J["IpcInvoke"])(h["ZwcHX"], {"scope": vI(1451, "1iAQ")}), h["qQinN"](j, h["sxQUx"], Function), j("design:paramtypes", []), j("design:returntype", void 0)], U["prototype"], "handleGetAppLogTipStrings", null), i([(0, J["IpcInvoke"])("system/getIsDefaultPlayer", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], U["prototype"], "handleGetIsDefaultPlayer", null), i([(0, J["IpcInvoke"])("system/setDefaultPlayer", {"scope": "mainWindow"}), j("design:type", Function), j(vI(284, "KdL&"), [Object, Boolean]), j("design:returntype", Promise)], U["prototype"], "handleSetDefaultPlayer", null), i([(0, J["IpcInvoke"])("system/checkIsGrayHit", {"withSync": !![]}), j(vI(395, "y^Oh"), Function), j("design:paramtypes", [typeof (E = typeof Q["IpcMainEvent"] !== "undefined" && Q["IpcMainEvent"]) === "function" ? E : Object, typeof (F = typeof R["IGrayConf"] !== "undefined" && R["IGrayConf"]) === "function" ? F : Object]), j("design:returntype", Promise)], U["prototype"], "handleCheckIsGrayHit", null), i([(0, J[vI(310, "EcL6")])("system/gamepadAction", {"withSync": !![]}), j("design:type", Function), j("design:paramtypes", [typeof (G = typeof Q[vI(2176, "uaSA")] !== h["JCqOA"] && Q[vI(2142, "EcL6")]) === "function" ? G : Object, typeof (H = typeof R["IGamePadAction"] !== "undefined" && R[vI(2128, "JO9c")]) === "function" ? H : Object]), j("design:returntype", Promise)], U["prototype"], "handleGamepadAction", null), U = i([(0, I["Controller"])(), j("design:paramtypes", [typeof (k = typeof N["ConfigService"] !== "undefined" && N["ConfigService"]) === vI(779, "w$r8") ? k : Object, typeof (l = typeof L["SystemService"] !== "undefined" && L["SystemService"]) === "function" ? l : Object, typeof (m = typeof O["UtilsService"] !== "undefined" && O["UtilsService"]) === h["UZSag"] ? m : Object, typeof (n = typeof M["PlayerService"] !== "undefined" && M["PlayerService"]) === "function" ? n : Object, typeof (o = typeof P[vI(1443, "TZU2")] !== "undefined" && P["LocalPlayerService"]) === "function" ? o : Object])], U), g["SystemController"] = U);}}), jd = bV({""(g) {"use strict";var vP = f, h = {"ShVjG": "HMCXl","zvmRR": function (t, u) {return t < u;},"MPTmb": "function","qiyaB": function (t, u) {return t > u;},"TThrB": "__esModule","sLisV": function (t) {return t();}};var i = g && g["__decorate"] || (function (t, u, w, z) {var vO = f;if (h["ShVjG"] !== "MslpA") {var A = arguments["length"], B = h["zvmRR"](A, 3) ? u : z === null ? z = Object["getOwnPropertyDescriptor"](u, w) : z, C;if (typeof Reflect === "object" && typeof Reflect["decorate"] === h["MPTmb"]) B = Reflect["decorate"](t, u, w, z); else {for (var D = t[vO(1595, "X%9J")] - 1; D >= 0; D--) if (C = t[D]) B = (A < 3 ? C(B) : A > 3 ? C(u, w, B) : C(u, w)) || B;}return (h["qiyaB"](A, 3) && B && Object["defineProperty"](u, w, B), B);} else {const F = this["storeService"]["getIsDisableGpu"]();return (h["returnValue"] = F, F);}});(Object["defineProperty"](g, h["TThrB"], {"value": !![]}), g["SystemModule"] = void 0);var j = require("@nestjs/common"), k = jc(), l = iE(), m = iR(), n = h["sLisV"](iD), o = iV(), q = jb(), r = class t {};(r = i([(0, j["Global"])(), (0, j["Module"])({"controllers": [k["SystemController"]],"providers": [l["SystemService"], n["PlayerService"], m[vP(2098, "nNM[")], o["NotifyService"], q[vP(1628, "5Oa*")]],"exports": [l["SystemService"], n["PlayerService"], m["FfAbTestService"], o["NotifyService"], q["LocalPlayerService"]]})], r), g["SystemModule"] = r);}}), je = bV({""(g) {"use strict";var vR = f, h = {"HmzEb": "function","MroBH": "Cancel update.","NJSbc": "Update patch now!","iNVEa": "design:paramtypes","ghNzk": "design:returntype","ILwMO": function (z, A, B, C, D) {return z(A, B, C, D);},"NmaAF": "handleCancelUpdate","ZSrqq": function (z, A, B) {return z(A, B);},"giLEO": "handleUpdatePatchLater"};var i = g && g["__decorate"] || (function (z, A, B, C) {var vQ = f, D = arguments["length"], E = D < 3 ? A : C === null ? C = Object["getOwnPropertyDescriptor"](A, B) : C, F;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") E = Reflect[vQ(2107, "UmJ6")](z, A, B, C); else {for (var G = z["length"] - 1; G >= 0; G--) if (F = z[G]) E = (D < 3 ? F(E) : D > 3 ? F(A, B, E) : F(A, B)) || E;}return (D > 3 && E && Object["defineProperty"](A, B, E), E);}), j = g && g[vR(1243, "nNM[")] || (function (z, A) {var vS = vR;if (typeof Reflect === "object" && typeof Reflect[vS(2117, "B4nF")] === h["HmzEb"]) return Reflect[vS(1474, "nwHl")](z, A);}), k, l, m;(Object["defineProperty"](g, vR(1981, "(3!I"), {"value": !![]}), g["UpdateController"] = void 0);var n = require(vR(405, "y^Oh")), o = (fM(), c0(fI)), q = iQ(), r = gl(), t = ih(), u = (fy(), c0(fx)), w = class z extends o["BaseController"] {constructor(A, B, C) {var vT = vR;(super(A, vT(976, "9Bou")), c1(this, "configService"), c1(this, "updateService"), c1(this, vT(1495, "h9c@")), this["configService"] = A, this["updateService"] = B, this["utilsService"] = C);}async ["handleCheckForUpdate"]() {return (this["log"]["info"]("Check for update."), this["updateService"]["checkForUpdate"]());}async ["handleDownloadUpdate"]() {var vU = vR;(this[vU(1388, "9Bou")]["info"]("Download update."), this["updateService"]["downloadUpdate"]());}async ["handleInstall"]() {var vV = vR;(this["log"]["info"]("Quit and install."), this[vV(1439, "YUg@")]["quitAndInstall"]());}async ["handleCancelUpdate"]() {(this["log"]["info"](h["MroBH"]), this["updateService"]["cancelDownLoadUpdate"]());}async [vR(798, "%AQh")]() {this["log"]["info"](h["NJSbc"]);if (u["IS_DEV"]) return;this["utilsService"]["relaunchApp"]();}async ["handleUpdatePatchLater"]() {this["log"]["info"]("Update patch later!");}};(i([(0, o["IpcInvoke"])("update/checkForUpdate"), j("design:type", Function), j(h["iNVEa"], []), j(h["ghNzk"], Promise)], w["prototype"], "handleCheckForUpdate", null), i([(0, o[vR(931, "kdon")])("update/downloadUpdate"), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], w["prototype"], "handleDownloadUpdate", null), i([(0, o["IpcInvoke"])("update/quitAndInstall"), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], w["prototype"], "handleInstall", null), h["ILwMO"](i, [(0, o["IpcInvoke"])("update/cancelUpdate"), j(vR(1724, "FoL8"), Function), j("design:paramtypes", []), j("design:returntype", Promise)], w["prototype"], h["NmaAF"], null), i([(0, o["IpcInvoke"])("update/updatePatchNow", {"scope": "mainWindow"}), j("design:type", Function), j(vR(284, "KdL&"), []), j("design:returntype", Promise)], w["prototype"], "handleUpdatePatchNow", null), i([(0, o["IpcInvoke"])("update/updatePatchLater", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", []), h["ZSrqq"](j, "design:returntype", Promise)], w["prototype"], h["giLEO"], null), w = i([(0, n["Controller"])(), j("design:paramtypes", [typeof (k = typeof r["ConfigService"] !== "undefined" && r[vR(1137, "!v[t")]) === "function" ? k : Object, typeof (l = typeof q["UpdateService"] !== "undefined" && q["UpdateService"]) === "function" ? l : Object, typeof (m = typeof t["UtilsService"] !== "undefined" && t["UtilsService"]) === "function" ? m : Object])], w), g["UpdateController"] = w);}}), jf = bV({""(g) {"use strict";var vX = f, h = {"qKatJ": "object","QQVWr": function (n, o) {return n > o;}};var i = g && g["__decorate"] || (function (n, o, q, t) {var vW = f;if ("TZmHS" === "TZmHS") {var u = arguments["length"], w = u < 3 ? o : t === null ? t = Object["getOwnPropertyDescriptor"](o, q) : t, z;if (typeof Reflect === h["qKatJ"] && typeof Reflect["decorate"] === "function") w = Reflect["decorate"](n, o, q, t); else {for (var A = n["length"] - 1; A >= 0; A--) if (z = n[A]) w = (u < 3 ? z(w) : h["QQVWr"](u, 3) ? z(o, q, w) : z(o, q)) || w;}return (u > 3 && w && Object[vW(392, "Qd![")](o, q, w), w);} else {this["log"]["error"]("Delete download tasks error:", this[vW(1121, "8gI1")](A));throw this["formatError"](j);}});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["UpdateModule"] = void 0);var j = require("@nestjs/common"), k = je(), l = iQ(), m = class n {};(m = i([(0, j["Global"])(), (0, j[vX(1566, "!L3p")])({"controllers": [k["UpdateController"]],"providers": [l["UpdateService"]],"exports": [l["UpdateService"]]})], m), g["UpdateModule"] = m);}}), jg = bV({""(g) {"use strict";var vY = f, h = {"fTRyX": function (E, F) {return E === F;},"byHuY": function (E, F) {return E >= F;},"TIIQb": "downloadService","cevHV": vY(914, "(]yY"),"uMjid": "@nestjs/common","oGUdk": function (E, F, G) {return E(F, G);},"oVXZp": "mainWindow","oaMlb": "playerWindow","ruxeL": "undefined","WmiJG": "design:type","KjsWv": "design:paramtypes","nWGik": "design:returntype","dcCFV": "handleGetCompletedItems","YsVBQ": "handleGetCompletedGroups","TziDG": "download/deleteGroupItems","TkPvJ": function (E, F, G) {return E(F, G);},"wyqOH": "handlePauseTasks","BNvQt": "handlePauseAllTasks","wILWW": function (E, F, G, H, I) {return E(F, G, H, I);},"gOPXh": "function","xZxaU": "handleDownloadURL"};var i = g && g["__decorate"] || (function (E, F, G, H) {var vZ = vY, I = arguments["length"], J = I < 3 ? F : h["fTRyX"](H, null) ? H = Object["getOwnPropertyDescriptor"](F, G) : H, K;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") J = Reflect[vZ(1819, "FoL8")](E, F, G, H); else {for (var L = E["length"] - 1; h["byHuY"](L, 0); L--) if (K = E[L]) J = (I < 3 ? K(J) : I > 3 ? K(F, G, J) : K(F, G)) || J;}return (I > 3 && J && Object["defineProperty"](F, G, J), J);}), j = g && g["__metadata"] || (function (E, F) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](E, F);}), k, l, m, n, o, q;(Object["defineProperty"](g, vY(1429, "EcL6"), {"value": !![]}), g["DownloadController"] = void 0);var r = require(h["uMjid"]), t = (fM(), c0(fI)), u = gl(), w = iq(), z = hT(), A = require("@bilibili/b-utils-core"), B = require("@bilibili/bili-download"), C = require("electron"), D = class E extends t["BaseController"] {constructor(F, G, H) {(super(F, "DownloadController"), c1(this, "configService"), c1(this, h["TIIQb"]), c1(this, "storeService"), this["configService"] = F, this["downloadService"] = G, this["storeService"] = H);}async ["handleReloadVideoList"]() {return await this["downloadService"]["updateDownloadVideoList"]();}async ["handleGetAllVideoList"](F, {search: G} = {}) {return this["downloadService"]["getAllDownloadVideos"](G);}async ["handleGetCompletedItems"]() {return this["downloadService"]["itemList"];}async ["handleGetCompletedGroups"]() {return this["downloadService"]["groupList"];}async [vY(1704, "X%9J")](F, G) {var w0 = vY;if (!G?.["groupId"]) {if ("rnHwk" === "tJagD") i["webContents"][w0(1175, "Mqcd")](j["css"]); else throw new Error("A param(groupId) is required!");}return await this[w0(513, "hGVL")]["getGroupAllItems"](G);}async ["handleSortGroupList"](F, G) {if (!(0, A["isArr"])(G)) throw new Error("An array param(orderList) is required!");return await this["downloadService"]["sortGroupList"](G);}async ["handleDeleteGroups"](F, G) {if (!(0, A["isArr"])(G?.["groupIds"])) throw new Error("An array param(groupIds) is required!");return await this["downloadService"]["deleteGroups"](G);}async ["handleDeleteAllGroups"]() {return await this["downloadService"]["deleteAllGroups"]();}async ["handleGetGroupItems"](F, G) {var w1 = vY;if (!G?.[w1(1645, "BDj!")]) throw new Error(w1(2105, "3BTs"));return await this["downloadService"]["getGroupItems"](G);}async ["handleDeleteGroupItems"](F, G) {var w2 = vY, H = {"TTTkM": function (I, J) {return I === J;}};if ("DPvJY" === "DPvJY") {if (!G?.["groupId"] || !(0, A["isArr"])(G?.["itemIds"])) throw new Error("A param(groupId) & An array param(groupIds) are required!");return await this["downloadService"]["deleteGroupItems"](G);} else (l++, H["TTTkM"](m, n["SUPPORT_EXTS"][w2(686, "9Bou")]) && r(t));}async ["handleGetItemInfo"](F, G) {if (!G?.["itemId"]) throw new Error("A param(itmeId) is required!");return await this["downloadService"]["getItemInfo"](G);}async [vY(1266, "(]yY")](F, G) {var w3 = vY;if (!(0, A["isArr"])(G?.["itemIds"])) throw new Error(w3(841, "D0T^"));return await this["downloadService"]["getItemsInfo"](G);}async ["handleSetItemStatus"](F, G) {var w4 = vY;if ("sgUXT" !== "sgUXT") {const {width: I, height: J} = w["MINI_PLAYER_RESET"];let K, L;if (z > A) {;(K = I, L = L(M(I * N / O)));} else {;(K = J, L = P(Q(J * R / S)));}J["setBounds"]((0, K["formatRectangle"])({"width": K,"height": L}), !![]);} else {if (!G?.[w4(2290, "%AQh")] || !G?.["status"]) throw new Error("Params \"cid\" and \"status\" are required!");return await this["downloadService"]["setItemStatus"](G);}}async ["handleGetTaskList"]() {return this["downloadService"]["taskList"];}async ["handleCreateTasks"](F, G) {var w5 = vY;const H = this["storeService"]["getUserInfo"]();if (!H["isLogin"]) throw new Error("This action must login!");if (!(0, A[w5(1676, "nNM[")])(G?.["tasks"])) throw new Error("An array param(tasks) is required!");return await this["downloadService"]["createTasks"](G);}async ["handlePauseTasks"](F, G) {var w6 = vY;if (!(0, A["isArr"])(G?.["taskIds"])) throw new Error("An array param(taskIds) is required!");return await this[w6(2245, "VFZK")]["pauseTasks"](G);}async ["handleRestartTasks"](F, G) {var w7 = vY;const H = this["storeService"]["getUserInfo"]();if (!H["isLogin"]) throw new Error(w7(356, "5Oa*"));if (!(0, A["isArr"])(G?.["taskIds"])) throw new Error("An array param(taskIds) is required!");return await this["downloadService"]["restartTasks"](G);}async ["handleSortTasks"](F, G) {var w8 = vY;if (!(0, A["isArr"])(G)) throw new Error("An array param(orderList) is required!");return await this[w8(1885, "y^Oh")]["sortDownloadTasks"](G);}async ["handleDeleteTasks"](F, G) {if (!(0, A["isArr"])(G?.["taskIds"])) throw new Error("An array param(taskIds) is required!");return await this["downloadService"]["deleteTasks"](G);}async ["handleStartAllTasks"]() {const F = this["storeService"]["getUserInfo"]();if (!F["isLogin"]) throw new Error("This action must login!");return await this["downloadService"]["startAllTasks"]();}async ["handlePauseAllTasks"]() {return await this["downloadService"]["pauseAllDownloadTasks"]();}async ["handleDeleteAllTasks"]() {return await this["downloadService"]["deleteAllTasks"]();}async ["handleGetItemPlayerUrl"](F, G) {return await this["downloadService"]["biliDownload"]["getLocalPlayurl"](G);}async ["handleGetItemRangeStream"](F, G) {return await this["downloadService"]["biliDownload"]["getRangeStreams"](G);}async ["handleGetItemDmInfo"](F, G) {var w9 = vY;if ("xyaZP" !== "cfvZu") return await this["downloadService"]["biliDownload"]["getDmInfo"](G); else this[w9(1678, "ry$4")]["error"]("读取现有数据失败:", h);}async ["handleUpdateItemDmInfo"](F, G) {var wa = vY;if (!G?.["itemId"]) throw new Error(h[wa(1786, "Ni8i")]);return await this["downloadService"]["updateItemDmInfo"](G);}async ["handleDownloadURL"](F, G) {return this["configService"]["mainWindow"]["webContents"]["downloadURL"](G);}};(i([(0, t["IpcInvoke"])("download/reloadVideoList", {"scopes": ["mainWindow", "playerWindow"]}), j("design:type", Function), j("design:paramtypes", []), h["oGUdk"](j, "design:returntype", Promise)], D["prototype"], vY(1076, "TZU2"), null), i([(0, t["IpcInvoke"])("download/getAllVideoList", {"scopes": [h["oVXZp"], h["oaMlb"]]}), j("design:type", Function), j("design:paramtypes", [typeof (n = typeof C["IpcMainEvent"] !== h["ruxeL"] && C["IpcMainEvent"]) === "function" ? n : Object, Object]), j("design:returntype", Promise)], D["prototype"], "handleGetAllVideoList", null), i([(0, t["IpcInvoke"])("download/getCompletedItems", {"scopes": ["mainWindow", "playerWindow"]}), h["oGUdk"](j, h["WmiJG"], Function), j(h["KjsWv"], []), j(h[vY(1206, "1iAQ")], Promise)], D["prototype"], h["dcCFV"], null), i([(0, t["IpcInvoke"])("download/getCompletedGroups", {"scopes": ["mainWindow", "playerWindow"]}), j("design:type", Function), h["oGUdk"](j, "design:paramtypes", []), j("design:returntype", Promise)], D[vY(2102, "KdL&")], h["YsVBQ"], null), i([(0, t["IpcInvoke"])("download/getGroupAllItems", {"scopes": ["mainWindow", "playerWindow"]}), j(vY(1800, "9Bou"), Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D[vY(2041, "nNM[")], "handleGetGroupAllItems", null), i([(0, t["IpcInvoke"])("download/sortGroupList", {"scopes": [h["oVXZp"], "playerWindow"]}), j(h[vY(725, "nNM[")], Function), j("design:paramtypes", [Object, Array]), j("design:returntype", Promise)], D["prototype"], "handleSortGroupList", null), i([(0, t["IpcInvoke"])("download/deleteGroups", {"scopes": ["mainWindow", "playerWindow"]}), j("design:type", Function), j(h["KjsWv"], [Object, Object]), j(vY(617, "nNM["), Promise)], D[vY(1400, "h9c@")], "handleDeleteGroups", null), i([(0, t["IpcInvoke"])("download/deleteAllGroups", {"scope": vY(673, "CN4e")}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], D["prototype"], "handleDeleteAllGroups", null), i([(0, t["IpcInvoke"])(vY(391, "NxR("), {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D["prototype"], "handleGetGroupItems", null), i([(0, t["IpcInvoke"])(h["TziDG"], {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D["prototype"], "handleDeleteGroupItems", null), i([(0, t["IpcInvoke"])(vY(1399, "Li1q"), {"scopes": ["mainWindow", "playerWindow"]}), j("design:type", Function), j(vY(2057, "LCu@"), [Object, Object]), j(h["nWGik"], Promise)], D["prototype"], "handleGetItemInfo", null), i([(0, t["IpcInvoke"])("download/getItemsInfo", {"scope": "mainWindow"}), j(vY(1058, "!v[t"), Function), h[vY(855, "h9c@")](j, "design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D["prototype"], "handleGetItemsInfo", null), i([(0, t["IpcInvoke"])("download/setItemStatus", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D["prototype"], vY(913, "%AQh"), null), i([(0, t["IpcInvoke"])("download/getTaskList", {"scope": "mainWindow"}), j(vY(749, "Mqcd"), Function), j("design:paramtypes", []), j("design:returntype", Promise)], D["prototype"], "handleGetTaskList", null), i([(0, t["IpcInvoke"])("download/createTasks", {"scopes": ["mainWindow", "playerWindow"]}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D["prototype"], "handleCreateTasks", null), i([(0, t["IpcInvoke"])("download/pauseTasks", {"scope": "mainWindow"}), j(vY(1644, "!L3p"), Function), j("design:paramtypes", [Object, Object]), j(vY(847, "JypK"), Promise)], D["prototype"], h["wyqOH"], null), i([(0, t["IpcInvoke"])("download/restartTasks", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D["prototype"], "handleRestartTasks", null), i([(0, t["IpcInvoke"])("download/sortTasks", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Array]), j("design:returntype", Promise)], D[vY(523, "!L3p")], "handleSortTasks", null), i([(0, t["IpcInvoke"])(vY(2263, "Ni8i"), {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D["prototype"], "handleDeleteTasks", null), i([(0, t["IpcInvoke"])(vY(1978, "^M%9"), {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], D["prototype"], vY(346, "mnQ["), null), i([(0, t["IpcInvoke"])("download/pauseAllTasks", {"scope": h["oVXZp"]}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], D["prototype"], h["BNvQt"], null), i([(0, t["IpcInvoke"])("download/deleteAllTasks", {"scope": h[vY(1497, "(]yY")]}), j("design:type", Function), j("design:paramtypes", []), j("design:returntype", Promise)], D["prototype"], "handleDeleteAllTasks", null), i([(0, t["IpcInvoke"])("download/getItemPlayerUrl", {"scope": "playerWindow"}), j(vY(2069, "mnQ["), Function), j("design:paramtypes", [Object, Number]), j("design:returntype", Promise)], D["prototype"], "handleGetItemPlayerUrl", null), h["wILWW"](i, [(0, t["IpcInvoke"])("download/getItemRangeStream", {"scope": "playerWindow"}), j("design:type", Function), j("design:paramtypes", [Object, typeof (o = typeof B["ILoadVideoParam"] !== "undefined" && B["ILoadVideoParam"]) === h["gOPXh"] ? o : Object]), j(h["nWGik"], Promise)], D["prototype"], "handleGetItemRangeStream", null), i([(0, t["IpcInvoke"])("download/getItemDmInfo", {"scope": "playerWindow"}), j("design:type", Function), h["oGUdk"](j, "design:paramtypes", [Object, typeof (q = typeof B["ILoadDmParam"] !== "undefined" && B["ILoadDmParam"]) === "function" ? q : Object]), j("design:returntype", Promise)], D["prototype"], "handleGetItemDmInfo", null), i([(0, t[vY(1839, "!v[t")])("download/updateItemDmInfo", {"scopes": ["mainWindow", "playerWindow"]}), j("design:type", Function), j("design:paramtypes", [Object, Object]), j("design:returntype", Promise)], D["prototype"], "handleUpdateItemDmInfo", null), i([(0, t["IpcInvoke"])("download/downloadURL", {"scope": "mainWindow"}), j("design:type", Function), j("design:paramtypes", [Object, String]), j("design:returntype", Promise)], D["prototype"], h["xZxaU"], null), D = i([(0, r["Controller"])(), j("design:paramtypes", [typeof (k = typeof u["ConfigService"] !== "undefined" && u["ConfigService"]) === "function" ? k : Object, typeof (l = typeof w["DownloadService"] !== "undefined" && w[vY(1606, "FoL8")]) === "function" ? l : Object, typeof (m = typeof z["StoreService"] !== "undefined" && z["StoreService"]) === "function" ? m : Object])], D), g["DownloadController"] = D);}}), jh = bV({""(g) {"use strict";var wc = f, h = {"DsDCL": function (n, o, q) {return n(o, q);},"hnQhZ": "__esModule"};var i = g && g["__decorate"] || (function (n, o, q, t) {var wb = f, u = arguments["length"], w = u < 3 ? o : t === null ? t = Object[wb(399, "nwHl")](o, q) : t, z;if (typeof Reflect === "object" && typeof Reflect[wb(2033, "8gI1")] === "function") w = Reflect["decorate"](n, o, q, t); else {for (var A = n["length"] - 1; A >= 0; A--) if (z = n[A]) w = (u < 3 ? z(w) : u > 3 ? z(o, q, w) : h["DsDCL"](z, o, q)) || w;}return (u > 3 && w && Object["defineProperty"](o, q, w), w);});(Object["defineProperty"](g, h["hnQhZ"], {"value": !![]}), g[wc(1630, "BDj!")] = void 0);var j = require("@nestjs/common"), k = jg(), l = iq(), m = class n {};(m = i([(0, j["Global"])(), (0, j[wc(853, "ry$4")])({"controllers": [k["DownloadController"]],"providers": [l["DownloadService"]],"exports": [l["DownloadService"]]})], m), g["DownloadModule"] = m);}}), ji = bV({""(g) {"use strict";var we = f, h = {"YUmkJ": "object","GRKWn": function (A, B) {return A === B;},"qyIwB": function (A, B) {return A - B;},"dzFSm": function (A, B) {return A > B;},"xWywU": "openDir","cOiwu": "launch","QavAZ": function (A, B) {return A(B);},"ZJYao": "handleGetGameInfo","tSdFn": function (A, B) {return A !== B;},"wAZpX": function (A, B, C) {return A(B, C);}};var i = g && g["__decorate"] || (function (A, B, C, D) {var E = arguments["length"], F = E < 3 ? B : D === null ? D = Object["getOwnPropertyDescriptor"](B, C) : D, G;if (typeof Reflect === h["YUmkJ"] && h["GRKWn"](typeof Reflect["decorate"], "function")) F = Reflect["decorate"](A, B, C, D); else {for (var H = h["qyIwB"](A["length"], 1); H >= 0; H--) if (G = A[H]) F = (E < 3 ? G(F) : E > 3 ? G(B, C, F) : G(B, C)) || F;}return (h["dzFSm"](E, 3) && F && Object["defineProperty"](B, C, F), F);}), j = g && g["__metadata"] || (function (A, B) {var wd = f;if (typeof Reflect === wd(1440, "Locc") && typeof Reflect["metadata"] === "function") return Reflect["metadata"](A, B);}), k, l, m, n, o;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["GameController"] = void 0);var q = require(we(1865, "w$r8")), r = (fM(), c0(fI)), t = gl(), u = iC(), w = h[we(1331, "43KF")](require, "electron"), z = class A extends r["BaseController"] {constructor(B, C) {(super(B, "GameController"), c1(this, "configService"), c1(this, "gameService"), this["configService"] = B, this["gameService"] = C);}async ["handleGetGameList"](B, C = {}) {return this["gameService"]["getGameList"](C);}async ["handleGetGameInfo"](B, C) {var wf = we;return this[wf(1527, "Ni8i")]["gameList"]["find"](D => D["id"] === C);}async ["handleSendGameAction"](B, C = {}) {var wg = we;const D = B["sender"], E = new URL(D[wg(1172, "Qd![")]());if (!E["host"]["match"](/(bilibili|biligame).com/)) throw new Error("Illegal action");switch (C["type"]) {case "download":{return this["gameService"]["downloadNewGame"](C["data"]);}case "pause":{return this["gameService"]["pauseDownloadGame"](C["data"]?.["id"]);}case "pauseAll":{return this["gameService"]["pauseDownloadAllGames"]();}case wg(349, "ry$4"):{return this["gameService"]["resumeDownloadGame"](C["data"]?.["id"]);}case "resumeAll":{return this["gameService"][wg(1061, "Mqcd")]();}case "delete":{return this["gameService"]["deleteGame"](C["data"]?.["id"]);}case h["xWywU"]:{return this["gameService"][wg(845, "5Oa*")](C["data"]?.["id"]);}case wg(1390, "nNM["):{return this["gameService"]["openGamePath"](C["data"]?.["id"]);}case "install":{return this["gameService"]["installGame"](C["data"]?.["id"]);}case h["cOiwu"]:{return this["gameService"][wg(1510, "3BTs")](C["data"]?.["id"]);}}}};(i([(0, r[we(1799, "Mqcd")])(we(1881, "1x5q")), j("design:type", Function), j("design:paramtypes", [typeof (m = typeof w["IpcMainEvent"] !== "undefined" && w["IpcMainEvent"]) === "function" ? m : Object, Object]), j("design:returntype", Promise)], z["prototype"], "handleGetGameList", null), i([(0, r["IpcInvoke"])("game/getGameInfo"), j("design:type", Function), j("design:paramtypes", [typeof (n = typeof w["IpcMainEvent"] !== "undefined" && w["IpcMainEvent"]) === "function" ? n : Object, String]), j("design:returntype", Promise)], z["prototype"], h["ZJYao"], null), i([(0, r["IpcInvoke"])("game/sendAction"), j("design:type", Function), j("design:paramtypes", [typeof (o = h["tSdFn"](typeof w["IpcMainEvent"], "undefined") && w["IpcMainEvent"]) === "function" ? o : Object, Object]), j("design:returntype", Promise)], z["prototype"], "handleSendGameAction", null), z = h["wAZpX"](i, [(0, q["Controller"])(), j("design:paramtypes", [typeof (k = typeof t["ConfigService"] !== "undefined" && t["ConfigService"]) === "function" ? k : Object, typeof (l = typeof u["GameService"] !== "undefined" && u["GameService"]) === "function" ? l : Object])], z), g["GameController"] = z);}}), jj = bV({""(g) {"use strict";var h = g && g["__decorate"] || (function (m, n, o, q) {var t = arguments["length"], u = t < 3 ? n : q === null ? q = Object["getOwnPropertyDescriptor"](n, o) : q, w;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") u = Reflect["decorate"](m, n, o, q); else {for (var z = m["length"] - 1; z >= 0; z--) if (w = m[z]) u = (t < 3 ? w(u) : t > 3 ? w(n, o, u) : w(n, o)) || u;}return (t > 3 && u && Object["defineProperty"](n, o, u), u);});(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["GameModule"] = void 0);var i = require("@nestjs/common"), j = ji(), k = iC(), l = class m {};(l = h([(0, i["Global"])(), (0, i["Module"])({"controllers": [j["GameController"]],"providers": [k["GameService"]],"exports": [k["GameService"]]})], l), g["GameModule"] = l);}}), jk = bV({""(g) {"use strict";var wh = f, h = {"LNcII": "function","vFwUa": function (w, z, A) {return w(z, A);},"omHua": function (w, z) {return w(z);},"SoThg": "electron/main","XOqLo": "mainWindow","eBJzx": "design:type","IFqjZ": function (w, z, A) {return w(z, A);}};var i = g && g["__decorate"] || (function (w, z, A, B) {var C = arguments["length"], D = C < 3 ? z : B === null ? B = Object["getOwnPropertyDescriptor"](z, A) : B, E;if (typeof Reflect === "object" && typeof Reflect["decorate"] === h["LNcII"]) D = Reflect["decorate"](w, z, A, B); else {for (var F = w["length"] - 1; F >= 0; F--) if (E = w[F]) D = (C < 3 ? E(D) : C > 3 ? E(z, A, D) : E(z, A)) || D;}return (C > 3 && D && Object["defineProperty"](z, A, D), D);}), j = g && g["__metadata"] || (function (w, z) {if (typeof Reflect === "object" && typeof Reflect["metadata"] === "function") return Reflect["metadata"](w, z);}), k, l, m;(Object["defineProperty"](g, "__esModule", {"value": !![]}), g["ThirdPartyController"] = void 0);var n = gl(), o = (fM(), c0(fI)), q = require("@nestjs/common"), r = h["omHua"](require, h["SoThg"]), t = iS(), u = class w extends o["BaseController"] {constructor(z, A) {(super(z, "ThirdPartyController"), h["vFwUa"](c1, this, "configService"), c1(this, "thirdPartyService"), this["configService"] = z, this["thirdPartyService"] = A);}async [wh(1151, "V[Zi")](z) {z["returnValue"] = {"isWeChatInstalled": this["thirdPartyService"]["getIsWeChatInstalled"]()};}};(i([(0, o["IpcInvoke"])("thirdParty/getWeChatInstallInfo", {"scopes": [h["XOqLo"], "playerWindow"],"withSync": !![]}), j(h["eBJzx"], Function), j("design:paramtypes", [typeof (m = typeof r["IpcMainEvent"] !== "undefined" && r["IpcMainEvent"]) === "function" ? m : Object]), h[wh(470, "w$r8")](j, "design:returntype", Promise)], u["prototype"], "getWeChatInstallInfo", null), u = i([(0, q["Controller"])(), j("design:paramtypes", [typeof (k = typeof n[wh(857, "ry$4")] !== wh(1367, "!v[t") && n["ConfigService"]) === "function" ? k : Object, typeof (l = typeof t["ThirdPartyService"] !== wh(1544, "FoL8") && t["ThirdPartyService"]) === "function" ? l : Object])], u), g["ThirdPartyController"] = u);}}), jl = bV({""(g) {"use strict";var wi = f, h = ("10|3|9|7|8|1|2|6|4|0|5")["split"]("|"), i = 0;while (!![]) {switch (h[i++]) {case "0":l = n([(0, j[wi(2141, "jubI")])(), (0, j["Module"])({"controllers": [k["ThirdPartyController"]],"providers": [m["ThirdPartyService"]],"exports": [m["ThirdPartyService"]]})], l);continue;case "1":var j = require("@nestjs/common");continue;case "2":var k = jk();continue;case "3":continue;case "4":var l = class q {};continue;case "5":g["ThirdPartyModule"] = l;continue;case "6":var m = iS();continue;case "7":Object["defineProperty"](g, "__esModule", {"value": !![]});continue;case "8":g[wi(893, "43KF")] = void 0;continue;case "9":var n = g && g["__decorate"] || (function (t, u, w, z) {var wj = wi, A = arguments["length"], B = A < 3 ? u : z === null ? z = Object["getOwnPropertyDescriptor"](u, w) : z, C;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") B = Reflect[wj(598, "(3!I")](t, u, w, z); else {for (var D = t["length"] - 1; o[wj(1318, "nwHl")](D, 0); D--) if (C = t[D]) B = (A < 3 ? C(B) : A > 3 ? C(u, w, B) : C(u, w)) || B;}return (A > 3 && B && Object["defineProperty"](u, w, B), B);});continue;case "10":var o = {"CcwdS": function (r, t) {return r >= t;}};continue;}break;}}}), jm = bV({""(g) {"use strict";var wk = f, h = ("9|18|10|15|0|7|11|20|13|12|17|19|23|1|22|6|16|14|24|4|21|3|8|5|2")["split"]("|"), i = 0;while (!![]) {switch (h[i++]) {case "0":g["AppModule"] = void 0;continue;case "1":var j = j5();continue;case "2":g["AppModule"] = o;continue;case "3":var k = jl();continue;case "4":var l = jh();continue;case "5":o = r([(0, n["Module"])({"imports": [B["WindowModule"], u["ConfigModule"], C["UtilsModule"], G["StoreModule"], j["EventsModule"], F["FetchModule"], m["ReportModule"], A[wk(2050, "mnQ[")], z[wk(1525, "3BTs")], H["UpdateModule"], l["DownloadModule"], k["ThirdPartyModule"], E["GameModule"]],"controllers": [t["AppController"]],"providers": [D["AppService"], w["AppEvents"]]})], o);continue;case "6":var m = j8();continue;case "7":var n = require("@nestjs/common");continue;case "8":var o = class I {};continue;case "9":var q = {"zxIcB": function (J, K) {return J < K;},"ZrobE": function (J, K) {return J > K;}};continue;case "10":var r = g && g["__decorate"] || (function (J, K, L, M) {var wm = wk, N = arguments["length"], O = q["zxIcB"](N, 3) ? K : M === null ? M = Object["getOwnPropertyDescriptor"](K, L) : M, P;if (typeof Reflect === "object" && typeof Reflect["decorate"] === "function") O = Reflect["decorate"](J, K, L, M); else {for (var Q = J["length"] - 1; Q >= 0; Q--) if (P = J[Q]) O = (N < 3 ? P(O) : N > 3 ? P(K, L, O) : P(K, L)) || O;}return (q["ZrobE"](N, 3) && O && Object[wm(1008, "KdL&")](K, L, O), O);});continue;case "11":var t = iW();continue;case "12":var u = iY();continue;case "13":var w = iO();continue;case "14":var z = jd();continue;case "15":Object["defineProperty"](g, "__esModule", {"value": !![]});continue;case "16":var A = ja();continue;case "17":var B = j0();continue;case "18":continue;case "19":var C = j1();continue;case "20":var D = iT();continue;case "21":var E = jj();continue;case "22":var F = j6();continue;case "23":var G = j3();continue;case "24":var H = jf();continue;}break;}}}), jn = require("@nestjs/core"), jo = bZ(jm()), jp = require("electron"), jq = require("fs"), jr = require("path");(dh(), fM(), fy());var jt = c7["default"]["scope"]("AppBootstrap"), ju = (0, jr["resolve"])(__dirname, "../"), jv = cM((0, jr["join"])(ju, wn(1001, "NxR("))), jw = "";function f(a, b) {var c = e();return (f = function (d, g) {d = d - 280;var h = c[d];if (f["abbpGl"] === undefined) {var i = function (n) {var o = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=";var p = "", q = "", r = p + i;for (var s = 0, t, u, v = 0; u = n["charAt"](v++); ~u && (t = s % 4 ? t * 64 + u : u, s++ % 4) ? p += r["charCodeAt"](v + 10) - 10 !== 0 ? String["fromCharCode"](255 & t >> (-2 * s & 6)) : s : 0) {u = o["indexOf"](u);}for (var w = 0, x = p["length"]; w < x; w++) {q += "%" + ("00" + p["charCodeAt"](w)["toString"](16))["slice"](-2);}return decodeURIComponent(q);};var m = function (n, o) {var p = [], q = 0, r, t = "";n = i(n);var u;for (u = 0; u < 256; u++) {p[u] = u;}for (u = 0; u < 256; u++) {(q = (q + p[u] + o["charCodeAt"](u % o["length"])) % 256, r = p[u], p[u] = p[q], p[q] = r);}(u = 0, q = 0);for (var v = 0; v < n["length"]; v++) {(u = (u + 1) % 256, q = (q + p[u]) % 256, r = p[u], p[u] = p[q], p[q] = r, t += String["fromCharCode"](n["charCodeAt"](v) ^ p[(p[u] + p[q]) % 256]));}return t;};(f["SOqMYj"] = m, a = arguments, f["abbpGl"] = !![]);}var j = c[0], k = d + j, l = a[k];if (!l) {if (f["oDjXYW"] === undefined) {var n = function (o) {(this["qeSYec"] = o, this["EuNJZk"] = [1, 0, 0], this["KTAjcW"] = function () {return "newState";}, this["ipSiOo"] = "\\w+ *\\(\\) *{\\w+ *", this["aUtMDQ"] = "['|\"].+['|\"];? *}");};(n["prototype"]["dgePFE"] = function () {var o = new RegExp(this["ipSiOo"] + this["aUtMDQ"]), p = o["test"](this["KTAjcW"]["toString"]()) ? --this["EuNJZk"][1] : --this["EuNJZk"][0];return this["cYkuqw"](p);}, n["prototype"]["cYkuqw"] = function (o) {if (!Boolean(~o)) return o;return this["LYAKCP"](this["qeSYec"]);}, n["prototype"]["LYAKCP"] = function (o) {for (var p = 0, q = this["EuNJZk"]["length"]; p < q; p++) {(this["EuNJZk"]["push"](Math["round"](Math["random"]())), q = this["EuNJZk"]["length"]);}return o(this["EuNJZk"][0]);}, new n(f)["dgePFE"](), f["oDjXYW"] = !![]);}(h = f["SOqMYj"](h, g), a[k] = h);} else h = l;return h;}, f(a, b));}if (!dl) {const jz = wn(633, "43KF")["replace"]("lication", ""), jA = (0, jq["readFileSync"])((0, jr["join"])(ju, "." + jz), {"encoding": "utf-8"}), jB = jA["split"](".")[1], jC = cF(jv, 18);(jB !== jC && (jt["error"]("Start error, code: 011"), jp["dialog"][wn(906, "hGVL")]("警告3", "程序异常，无法正常运行！错误代码：011"), process["exit"](1)), global["biliHash"] = jB + "." + jC, jw = jA["split"](".")[0]);}jp[wn(292, "qfnC")]["isPackaged"] && cO(ju) !== jw && (jt["error"]("Start error, code: 012"), jp["dialog"]["showErrorBox"]("警告4", "程序异常，无法正常运行！错误代码：012"), process["exit"](1));var jx = co, jy = dp && jx === "mac" || dn && jx === "win";if(false&&!jy) {if (!dq) (jt["error"]("Start error, code: 021"), jp["dialog"]["showErrorBox"]("警告5", "程序错误，无法正常运行！错误代码：021"), process[wn(1861, "EcL6")](1)); else jx !== "linux" && (jt[wn(2195, "kdon")]("Start error, code: 022"), jp["dialog"]["showErrorBox"]("警告6", "程序异常，继续运行可能存在安全风险！错误代码：022"));}global["bootstrapBiliApp"] = async () => {var wo = wn, g = {"jqhHz": "Start error, code: 031"};!global["isFiredByEntry"] && (jt[wo(691, "FoL8")](g[wo(882, "jubI")]), jp["dialog"]["showErrorBox"]("警告7", "程序异常，无法正常运行！错误代码：031"), process[wo(1936, "X%9J")](1));try {global["bootstrapTime"] = Date["now"]();const h = await jn["NestFactory"]["createMicroservice"](jo["AppModule"], {"strategy": new fL()});(h["useGlobalFilters"](new fI["GlobalExceptionsFilter"]()), await h["listen"]());} catch (i) {(jt["error"](i), jp["app"]["quit"]());}};