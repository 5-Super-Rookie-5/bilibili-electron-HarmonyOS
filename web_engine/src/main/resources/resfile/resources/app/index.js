"use strict";const electron=require("electron"),https=require("https"),path$1=require("path"),fs=require("fs"),require$$0$3=require("events"),Module$1=require("module"),child_process=require("child_process"),require$$1$1=require("process"),require$$0=require("tls"),require$$0$1=require("os"),require$$0$2=require("net"),require$$1$2=require("stream"),require$$2=require("protobufjs"),require$$4$1=require("long"),require$$0$4=require("zlib"),require$$0$5=require("http2"),require$$3$1=require("http"),require$$6$1=require("url"),require$$1$3=require("dns"),require$$1$4=require("util"),LogLevel={Trace:0,Debug:1,Info:2,Warning:3,Error:4},Styles=["color: black;","color: gray;","color: green;","color: orange;","color: red;"],Methods=["log","debug","info","warn","error"],log$2={log:console.log,warn:console.warn,error:console.error,info:console.info,debug:console.debug,trace:console.trace},CurrentLogLevel=(()=>{const r=globalThis?.window?.localStorage?.getItem("LogLevel")??"Info";return r==null?LogLevel.Info:r==="Trace"?LogLevel.Trace:r==="Debug"?LogLevel.Debug:r==="Info"?LogLevel.Info:r==="Warning"?LogLevel.Warning:r==="Error"?LogLevel.Error:LogLevel.Info})();class Logger{beforeFuncs=[];afterFuncs=[];static moduleName="";isEnabled=!0;config={namespace:"Bilibili"};constructor(e="unknown"){this.config.namespace=`[${e}]`}create(e="unknown"){return new Logger(e)}_log(e,t){this.isEnabled&&(e<CurrentLogLevel||(this.beforeFuncs.forEach(i=>i(this.config)),log$2[Methods[e]](`%c[${Logger.moduleName}]${this.config.namespace}`,Styles[e],...t),this.afterFuncs.forEach(i=>i(this.config))))}addInterceptor(e,t=!0){return typeof e!="function"?this.error("拦截器函数不符合规范"):t?(this.beforeFuncs.push(e),this):(this.afterFuncs.push(e),this)}addBeforeInterceptor(e){return this.beforeFuncs.push(e),this}addAfterInterceptor(e){return this.afterFuncs.push(e),this}trace(...e){return this._log(LogLevel.Trace,e),this}debug(...e){return this._log(LogLevel.Debug,e),this}info(...e){return this._log(LogLevel.Info,e),this}warn(...e){return this._log(LogLevel.Warning,e),this}error(...e){return this._log(LogLevel.Error,e),this}setNamespace(e=""){return this.config.namespace=`[${e}]`,this}}const createLogger=r=>new Logger(r),log$1=createLogger("Bilibili"),createBilibiliServer=()=>{const r=https.createServer({key:`-----BEGIN PRIVATE KEY-----
MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC19oO8fx2YxkOt
GoeqffhsXRfFvq/mhkA+9cp+NfV+TaKs8Ap7n3w2I97JwYUbtKYIfL+z/1GHOS5f
p8kJaVcFMxx8iowW5/bitReeHC1T+MCqOynrXfhU54DNJVkGhXsWAxwAoHzDVUh9
ax248EWJR3wrTVuCIK3NM1iFs2KItQNa9CcyLtzXsHfKifGu0Se7aDJNIVR3R4B4
QtvFzbEfLr3kvq0QGAnBeZ00blPE19lB4dIHi4aPeQz5H0bySpvmCW7rDaoCsoJ0
wv/MtZanZjORephlY3E7lziUpL1toF4qowB5Ogb20+r8Vwkc3ONgjMpOmH3ze6ki
+WXPEFNTAgMBAAECggEBAJjgXPvAPIh/gppr4LFwFohMik18EOL3xgBfltoE0ZVk
+pibL+N/Med2qZYOfZuyYZBd5t3+U2vtsbVyDShYFWFr+LH14Q7ZooYEKayP9dFH
++7JuEVj9OC4g3FXwH0HJktvH1azfz7JZxbgKN+ZFoLoyTzESG6CsCLn0aa6+Lzr
FRPqLM8TRZKjfl5dYy6z8nEVWWA+ow1MTsaEq0aNpeBsYePjz/181jpQV5OrQe/+
l/LqzUU53iSOU1ZAoruhzeJ0/aGfYjG/QdphNWuK6a2590kETxWoDiz7Z1m82Vx6
1FrOY5Dr8/+dzgFLdrQkKz+DGpUlnnA+6wGw6K7MlUECgYEA2QfmC8AoHf5Du4K/
S6JpnczvqxwTEXPMKwMNDRAxXmXyvi2PszkpLGwvP2pZYlK6D20FtOW1uVtp5jiN
yQ0J42P83KlYQeBNvV7flgSZW7ImO8u5JO8UybbNelu+B/OKqSR9ZoHXZRzG4bYU
laKQxIoXG6l7IieDN0TLPgv6EfMCgYEA1qKsuh+M61EFSosIPb5fhvg/2/TeizDm
ZRvG8Zju/e6tikewGW0XLRVb1trSBFu6Ijf41QsTZRxh37FjYRPN/XF6sRHpr3Ni
RmaQch+0BcQaU4v+WSbCnGR9nyi3O8hCPC713UrusNfokXRf6z5ARtLvDwfBU2tQ
DCLtMmypsSECgYEAqm/chj/agWtrr7cHGZOrU8RcN0kt5FfG78ROnIKp8pMnZZiM
MFhkcEFpfWi8V03WVkTs5Vo8MxuJ98VT+57ktBGSw4uuBtXq1xvJhJuKAAvQoMbl
WA71iU+o4D1p5/6nVxuT60tuZzaJLTp7weNPwzka2ptnWrQjBOVeoxRux2cCgYAD
7u09Z/CcK1rud8fJ4eA8R/ZboIwnftjqB21I5iWTD7msbA3lGWOwVtDdChuJKukp
UV9FADP1yWRdxhFtKQDAYUD/V7Wxmmq1oZGKFdylsmdNGqapmZU9anYG4ach+FSG
Z9HnoUTohrxjVf+f/v8MjTcGTn0Te0b3QfiY0Pb3IQKBgFhRUMasW/MnIFg1IfYU
kVtMEJpajml9tEEQ91bBr29bCxl+nM2bM9yjb6LQU0vYTyWNn3zS/LOa3gSbOC/i
c+3fmiI6TpouNE1eBva6kKyvmqC4dwD6aTEHokfhuMFYZQbVC8IGuhEQuN9OIM9x
TQg6mubcOzaGBUeTmeZTkCpb
-----END PRIVATE KEY-----
`,cert:`-----BEGIN CERTIFICATE-----
MIIEPzCCAyegAwIBAgIUJVg1qdKcUuryV+2IxAn9teS5qu0wDQYJKoZIhvcNAQEL
BQAwga0xCzAJBgNVBAYTAkNOMREwDwYDVQQIDAhTaGFuZ0hhaTERMA8GA1UEBwwI
U2hhbmdIYWkxLzAtBgNVBAoMJlNoYW5naGFpIEJpbGliaWxpIFRlY2hub2xvZ3kg
Q28uLCBMdGQuMREwDwYDVQQLDAhiaWxpYmlsaTEPMA0GA1UEAwwGYmlsaXBjMSMw
IQYJKoZIhvcNAQkBFhRzaGVudGFvQGJpbGliaWxpLmNvbTAgFw0yMzEwMjQwNTIy
MTNaGA8yMTIzMDkzMDA1MjIxM1owga0xCzAJBgNVBAYTAkNOMREwDwYDVQQIDAhT
aGFuZ0hhaTERMA8GA1UEBwwIU2hhbmdIYWkxLzAtBgNVBAoMJlNoYW5naGFpIEJp
bGliaWxpIFRlY2hub2xvZ3kgQ28uLCBMdGQuMREwDwYDVQQLDAhiaWxpYmlsaTEP
MA0GA1UEAwwGYmlsaXBjMSMwIQYJKoZIhvcNAQkBFhRzaGVudGFvQGJpbGliaWxp
LmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALX2g7x/HZjGQ60a
h6p9+GxdF8W+r+aGQD71yn419X5NoqzwCnuffDYj3snBhRu0pgh8v7P/UYc5Ll+n
yQlpVwUzHHyKjBbn9uK1F54cLVP4wKo7Ketd+FTngM0lWQaFexYDHACgfMNVSH1r
HbjwRYlHfCtNW4Igrc0zWIWzYoi1A1r0JzIu3Newd8qJ8a7RJ7toMk0hVHdHgHhC
28XNsR8uveS+rRAYCcF5nTRuU8TX2UHh0geLho95DPkfRvJKm+YJbusNqgKygnTC
/8y1lqdmM5F6mGVjcTuXOJSkvW2gXiqjAHk6BvbT6vxXCRzc42CMyk6YffN7qSL5
Zc8QU1MCAwEAAaNTMFEwHQYDVR0OBBYEFNCVw8dStnHz5VY1MEIDI8dPR9t2MB8G
A1UdIwQYMBaAFNCVw8dStnHz5VY1MEIDI8dPR9t2MA8GA1UdEwEB/wQFMAMBAf8w
DQYJKoZIhvcNAQELBQADggEBAAiisyz9WJNmyYthp7hRHxt8ptV8UefFOVt1oJfE
uicHBoXBCWKOb2sYbJUOnpPQrCGTLxa0sDUXu1OvwJP2YrKhbiW4ZLefWlVM/Rx0
JpcbbVvrR5puMfwxKrW5HT+Uafq/bFe/fJPTdHmLU9vAqkAcqZxrPhNjz1O88wp4
tuyLcVxHcwr4ZvHFcCMo+Gkph76QY8clcOtyTF3p3U2HCFGu3I8WvJcEexjjanx6
ztZgsc9zCVdDWS5RFsEMXPj9+vTvLuo1S6z0UhMnKo4yYBCb/6gmJRJMrZ7beifP
iVFRvhO43BAkKW04hRC/nsliqcedqetuZbpTjq98g9eEDow=
-----END CERTIFICATE-----
`},(e,t)=>{const i=path$1.resolve(__dirname,"./render"),s=e.url?.split("?")[0],n=path$1.resolve(i,`.${s}`);log$1.info(s),s?.endsWith(".js")&&t.setHeader("Content-Type","application/javascript; charset=utf-8"),t.writeHead(200),t.write(fs.readFileSync(n)),t.end()});r.on("error",e=>{log$1.error(e)}),r.listen(3031),electron.app.commandLine.appendSwitch("host-rules","MAP bilipc.bilibili.com localhost:3031")};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var s=!1;try{s=this instanceof i}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var s=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:function(){return r[i]}})}),t}var src$2={},callCredentials={},metadata={},logging={},constants={},hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=constants.DEFAULT_MAX_SEND_MESSAGE_LENGTH=constants.Propagate=constants.LogVerbosity=constants.Status=void 0;var r;(function(i){i[i.OK=0]="OK",i[i.CANCELLED=1]="CANCELLED",i[i.UNKNOWN=2]="UNKNOWN",i[i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",i[i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",i[i.NOT_FOUND=5]="NOT_FOUND",i[i.ALREADY_EXISTS=6]="ALREADY_EXISTS",i[i.PERMISSION_DENIED=7]="PERMISSION_DENIED",i[i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",i[i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",i[i.ABORTED=10]="ABORTED",i[i.OUT_OF_RANGE=11]="OUT_OF_RANGE",i[i.UNIMPLEMENTED=12]="UNIMPLEMENTED",i[i.INTERNAL=13]="INTERNAL",i[i.UNAVAILABLE=14]="UNAVAILABLE",i[i.DATA_LOSS=15]="DATA_LOSS",i[i.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(r||(constants.Status=r={}));var e;(function(i){i[i.DEBUG=0]="DEBUG",i[i.INFO=1]="INFO",i[i.ERROR=2]="ERROR",i[i.NONE=3]="NONE"})(e||(constants.LogVerbosity=e={}));var t;return(function(i){i[i.DEADLINE=1]="DEADLINE",i[i.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",i[i.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",i[i.CANCELLATION=8]="CANCELLATION",i[i.DEFAULTS=65535]="DEFAULTS"})(t||(constants.Propagate=t={})),constants.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,constants.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4*1024*1024,constants}const version="1.14.3",require$$12={version};var hasRequiredLogging;function requireLogging(){return hasRequiredLogging||(hasRequiredLogging=1,(function(r){var e,t,i,s;Object.defineProperty(r,"__esModule",{value:!0}),r.log=r.setLoggerVerbosity=r.setLogger=r.getLogger=void 0,r.trace=O,r.isTracerEnabled=k;const n=requireConstants(),a=require$$1$1,l=require$$12.version;let o={error:(A,...M)=>{console.error("E "+A,...M)},info:(A,...M)=>{console.error("I "+A,...M)},debug:(A,...M)=>{console.error("D "+A,...M)}},f=n.LogVerbosity.ERROR;switch(((t=(e=process.env.GRPC_NODE_VERBOSITY)!==null&&e!==void 0?e:process.env.GRPC_VERBOSITY)!==null&&t!==void 0?t:"").toUpperCase()){case"DEBUG":f=n.LogVerbosity.DEBUG;break;case"INFO":f=n.LogVerbosity.INFO;break;case"ERROR":f=n.LogVerbosity.ERROR;break;case"NONE":f=n.LogVerbosity.NONE;break}const d=()=>o;r.getLogger=d;const p=A=>{o=A};r.setLogger=p;const h=A=>{f=A};r.setLoggerVerbosity=h;const g=(A,...M)=>{let F;if(A>=f){switch(A){case n.LogVerbosity.DEBUG:F=o.debug;break;case n.LogVerbosity.INFO:F=o.info;break;case n.LogVerbosity.ERROR:F=o.error;break}F||(F=o.error),F&&F.bind(o)(...M)}};r.log=g;const v=(s=(i=process.env.GRPC_NODE_TRACE)!==null&&i!==void 0?i:process.env.GRPC_TRACE)!==null&&s!==void 0?s:"",m=new Set,y=new Set;for(const A of v.split(","))A.startsWith("-")?y.add(A.substring(1)):m.add(A);const b=m.has("all");function O(A,M,F){k(M)&&(0,r.log)(A,new Date().toISOString()+" | v"+l+" "+a.pid+" | "+M+" | "+F)}function k(A){return!y.has(A)&&(b||m.has(A))}})(logging)),logging}var error={},hasRequiredError;function requireError(){if(hasRequiredError)return error;hasRequiredError=1,Object.defineProperty(error,"__esModule",{value:!0}),error.getErrorMessage=r,error.getErrorCode=e;function r(t){return t instanceof Error?t.message:String(t)}function e(t){return typeof t=="object"&&t!==null&&"code"in t&&typeof t.code=="number"?t.code:null}return error}var hasRequiredMetadata;function requireMetadata(){if(hasRequiredMetadata)return metadata;hasRequiredMetadata=1,Object.defineProperty(metadata,"__esModule",{value:!0}),metadata.Metadata=void 0;const r=requireLogging(),e=requireConstants(),t=requireError(),i=/^[:0-9a-z_.-]+$/,s=/^[ -~]*$/;function n(p){return i.test(p)}function a(p){return s.test(p)}function l(p){return p.endsWith("-bin")}function u(p){return!p.startsWith("grpc-")}function o(p){return p.toLowerCase()}function f(p,h){if(!n(p))throw new Error('Metadata key "'+p+'" contains illegal characters');if(h!=null)if(l(p)){if(!Buffer.isBuffer(h))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(h))throw new Error("keys that don't end with '-bin' must have String values");if(!a(h))throw new Error('Metadata string value "'+h+'" contains illegal characters')}}class c{constructor(h={}){this.internalRepr=new Map,this.opaqueData=new Map,this.options=h}set(h,g){h=o(h),f(h,g),this.internalRepr.set(h,[g])}add(h,g){h=o(h),f(h,g);const v=this.internalRepr.get(h);v===void 0?this.internalRepr.set(h,[g]):v.push(g)}remove(h){h=o(h),this.internalRepr.delete(h)}get(h){return h=o(h),this.internalRepr.get(h)||[]}getMap(){const h={};for(const[g,v]of this.internalRepr)if(v.length>0){const m=v[0];h[g]=Buffer.isBuffer(m)?Buffer.from(m):m}return h}clone(){const h=new c(this.options),g=h.internalRepr;for(const[v,m]of this.internalRepr){const y=m.map(b=>Buffer.isBuffer(b)?Buffer.from(b):b);g.set(v,y)}return h}merge(h){for(const[g,v]of h.internalRepr){const m=(this.internalRepr.get(g)||[]).concat(v);this.internalRepr.set(g,m)}}setOptions(h){this.options=h}getOptions(){return this.options}toHttp2Headers(){const h={};for(const[g,v]of this.internalRepr)g.startsWith(":")||(h[g]=v.map(d));return h}toJSON(){const h={};for(const[g,v]of this.internalRepr)h[g]=v;return h}setOpaque(h,g){this.opaqueData.set(h,g)}getOpaque(h){return this.opaqueData.get(h)}static fromHttp2Headers(h){const g=new c;for(const v of Object.keys(h)){if(v.charAt(0)===":")continue;const m=h[v];try{l(v)?Array.isArray(m)?m.forEach(y=>{g.add(v,Buffer.from(y,"base64"))}):m!==void 0&&(u(v)?m.split(",").forEach(y=>{g.add(v,Buffer.from(y.trim(),"base64"))}):g.add(v,Buffer.from(m,"base64"))):Array.isArray(m)?m.forEach(y=>{g.add(v,y)}):m!==void 0&&g.add(v,m)}catch(y){const b=`Failed to add metadata entry ${v}: ${m}. ${(0,t.getErrorMessage)(y)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,r.log)(e.LogVerbosity.ERROR,b)}}return g}}metadata.Metadata=c;const d=p=>Buffer.isBuffer(p)?p.toString("base64"):p;return metadata}var hasRequiredCallCredentials;function requireCallCredentials(){if(hasRequiredCallCredentials)return callCredentials;hasRequiredCallCredentials=1,Object.defineProperty(callCredentials,"__esModule",{value:!0}),callCredentials.CallCredentials=void 0;const r=requireMetadata();function e(a){return"getRequestHeaders"in a&&typeof a.getRequestHeaders=="function"}class t{static createFromMetadataGenerator(l){return new s(l)}static createFromGoogleCredential(l){return t.createFromMetadataGenerator((u,o)=>{let f;e(l)?f=l.getRequestHeaders(u.service_url):f=new Promise((c,d)=>{l.getRequestMetadata(u.service_url,(p,h)=>{if(p){d(p);return}if(!h){d(new Error("Headers not set by metadata plugin"));return}c(h)})}),f.then(c=>{const d=new r.Metadata;for(const p of Object.keys(c))d.add(p,c[p]);o(null,d)},c=>{o(c)})})}static createEmpty(){return new n}}callCredentials.CallCredentials=t;class i extends t{constructor(l){super(),this.creds=l}async generateMetadata(l){const u=new r.Metadata,o=await Promise.all(this.creds.map(f=>f.generateMetadata(l)));for(const f of o)u.merge(f);return u}compose(l){return new i(this.creds.concat([l]))}_equals(l){return this===l?!0:l instanceof i?this.creds.every((u,o)=>u._equals(l.creds[o])):!1}}class s extends t{constructor(l){super(),this.metadataGenerator=l}generateMetadata(l){return new Promise((u,o)=>{this.metadataGenerator(l,(f,c)=>{c!==void 0?u(c):o(f)})})}compose(l){return new i([this,l])}_equals(l){return this===l?!0:l instanceof s?this.metadataGenerator===l.metadataGenerator:!1}}class n extends t{generateMetadata(l){return Promise.resolve(new r.Metadata)}compose(l){return l}_equals(l){return l instanceof n}}return callCredentials}var channel={},channelCredentials={},tlsHelpers={},hasRequiredTlsHelpers;function requireTlsHelpers(){if(hasRequiredTlsHelpers)return tlsHelpers;hasRequiredTlsHelpers=1,Object.defineProperty(tlsHelpers,"__esModule",{value:!0}),tlsHelpers.CIPHER_SUITES=void 0,tlsHelpers.getDefaultRootsData=i;const r=fs;tlsHelpers.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const e=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let t=null;function i(){return e?(t===null&&(t=r.readFileSync(e)),t):null}return tlsHelpers}var uriParser={},hasRequiredUriParser;function requireUriParser(){if(hasRequiredUriParser)return uriParser;hasRequiredUriParser=1,Object.defineProperty(uriParser,"__esModule",{value:!0}),uriParser.parseUri=e,uriParser.splitHostPort=i,uriParser.combineHostPort=s,uriParser.uriToString=n;const r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;function e(a){const l=r.exec(a);return l===null?null:{scheme:l[1],authority:l[2],path:l[3]}}const t=/^\d+$/;function i(a){if(a.startsWith("[")){const l=a.indexOf("]");if(l===-1)return null;const u=a.substring(1,l);if(u.indexOf(":")===-1)return null;if(a.length>l+1)if(a[l+1]===":"){const o=a.substring(l+2);return t.test(o)?{host:u,port:+o}:null}else return null;else return{host:u}}else{const l=a.split(":");return l.length===2?t.test(l[1])?{host:l[0],port:+l[1]}:null:{host:a}}}function s(a){return a.port===void 0?a.host:a.host.includes(":")?`[${a.host}]:${a.port}`:`${a.host}:${a.port}`}function n(a){let l="";return a.scheme!==void 0&&(l+=a.scheme+":"),a.authority!==void 0&&(l+="//"+a.authority+"/"),l+=a.path,l}return uriParser}var resolver={},hasRequiredResolver;function requireResolver(){if(hasRequiredResolver)return resolver;hasRequiredResolver=1,Object.defineProperty(resolver,"__esModule",{value:!0}),resolver.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=void 0,resolver.registerResolver=i,resolver.registerDefaultScheme=s,resolver.createResolver=n,resolver.getDefaultAuthority=a,resolver.mapUriDefaultScheme=l;const r=requireUriParser();resolver.CHANNEL_ARGS_CONFIG_SELECTOR_KEY="grpc.internal.config_selector";const e={};let t=null;function i(u,o){e[u]=o}function s(u){t=u}function n(u,o,f){if(u.scheme!==void 0&&u.scheme in e)return new e[u.scheme](u,o,f);throw new Error(`No resolver could be created for target ${(0,r.uriToString)(u)}`)}function a(u){if(u.scheme!==void 0&&u.scheme in e)return e[u.scheme].getDefaultAuthority(u);throw new Error(`Invalid target ${(0,r.uriToString)(u)}`)}function l(u){return u.scheme===void 0||!(u.scheme in e)?t!==null?{scheme:t,authority:void 0,path:(0,r.uriToString)(u)}:null:u}return resolver}var hasRequiredChannelCredentials;function requireChannelCredentials(){if(hasRequiredChannelCredentials)return channelCredentials;hasRequiredChannelCredentials=1,Object.defineProperty(channelCredentials,"__esModule",{value:!0}),channelCredentials.ChannelCredentials=void 0,channelCredentials.createCertificateProviderChannelCredentials=h;const r=require$$0,e=requireCallCredentials(),t=requireTlsHelpers(),i=requireUriParser(),s=requireResolver(),n=requireLogging(),a=requireConstants();function l(v,m){if(v&&!(v instanceof Buffer))throw new TypeError(`${m}, if provided, must be a Buffer.`)}class u{compose(m){return new g(this,m)}static createSsl(m,y,b,O){var k;if(l(m,"Root certificate"),l(y,"Private key"),l(b,"Certificate chain"),y&&!b)throw new Error("Private key must be given with accompanying certificate chain");if(!y&&b)throw new Error("Certificate chain must be given with accompanying private key");const A=(0,r.createSecureContext)({ca:(k=m??(0,t.getDefaultRootsData)())!==null&&k!==void 0?k:void 0,key:y??void 0,cert:b??void 0,ciphers:t.CIPHER_SUITES});return new d(A,O??{})}static createFromSecureContext(m,y){return new d(m,y??{})}static createInsecure(){return new o}}channelCredentials.ChannelCredentials=u;class o extends u{constructor(){super()}compose(m){throw new Error("Cannot compose insecure credentials")}_isSecure(){return!1}_equals(m){return m instanceof o}_createSecureConnector(m,y,b){return{connect(O){return Promise.resolve({socket:O,secure:!1})},waitForReady:()=>Promise.resolve(),getCallCredentials:()=>b??e.CallCredentials.createEmpty(),destroy(){}}}}function f(v,m,y,b){var O,k;const A={secureContext:v};let M=y;if("grpc.http_connect_target"in b){const q=(0,i.parseUri)(b["grpc.http_connect_target"]);q&&(M=q)}const F=(0,s.getDefaultAuthority)(M),P=(0,i.splitHostPort)(F),L=(O=P?.host)!==null&&O!==void 0?O:F;if(A.host=L,m.checkServerIdentity&&(A.checkServerIdentity=m.checkServerIdentity),m.rejectUnauthorized!==void 0&&(A.rejectUnauthorized=m.rejectUnauthorized),A.ALPNProtocols=["h2"],b["grpc.ssl_target_name_override"]){const q=b["grpc.ssl_target_name_override"],w=(k=A.checkServerIdentity)!==null&&k!==void 0?k:r.checkServerIdentity;A.checkServerIdentity=(N,T)=>w(q,T),A.servername=q}else A.servername=L;return b["grpc-node.tls_enable_trace"]&&(A.enableTrace=!0),A}class c{constructor(m,y){this.connectionOptions=m,this.callCredentials=y}connect(m){const y=Object.assign({socket:m},this.connectionOptions);return new Promise((b,O)=>{const k=(0,r.connect)(y,()=>{var A;if((!((A=this.connectionOptions.rejectUnauthorized)!==null&&A!==void 0)||A)&&!k.authorized){O(k.authorizationError);return}b({socket:k,secure:!0})});k.on("error",A=>{O(A)})})}waitForReady(){return Promise.resolve()}getCallCredentials(){return this.callCredentials}destroy(){}}class d extends u{constructor(m,y){super(),this.secureContext=m,this.verifyOptions=y}_isSecure(){return!0}_equals(m){return this===m?!0:m instanceof d?this.secureContext===m.secureContext&&this.verifyOptions.checkServerIdentity===m.verifyOptions.checkServerIdentity:!1}_createSecureConnector(m,y,b){const O=f(this.secureContext,this.verifyOptions,m,y);return new c(O,b??e.CallCredentials.createEmpty())}}class p extends u{constructor(m,y,b){super(),this.caCertificateProvider=m,this.identityCertificateProvider=y,this.verifyOptions=b,this.refcount=0,this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this),this.secureContextWatchers=[]}_isSecure(){return!0}_equals(m){var y,b;return this===m?!0:m instanceof p?this.caCertificateProvider===m.caCertificateProvider&&this.identityCertificateProvider===m.identityCertificateProvider&&((y=this.verifyOptions)===null||y===void 0?void 0:y.checkServerIdentity)===((b=m.verifyOptions)===null||b===void 0?void 0:b.checkServerIdentity):!1}ref(){var m;this.refcount===0&&(this.caCertificateProvider.addCaCertificateListener(this.caCertificateUpdateListener),(m=this.identityCertificateProvider)===null||m===void 0||m.addIdentityCertificateListener(this.identityCertificateUpdateListener)),this.refcount+=1}unref(){var m;this.refcount-=1,this.refcount===0&&(this.caCertificateProvider.removeCaCertificateListener(this.caCertificateUpdateListener),(m=this.identityCertificateProvider)===null||m===void 0||m.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_createSecureConnector(m,y,b){return this.ref(),new p.SecureConnectorImpl(this,m,y,b??e.CallCredentials.createEmpty())}maybeUpdateWatchers(){if(this.hasReceivedUpdates()){for(const m of this.secureContextWatchers)m(this.getLatestSecureContext());this.secureContextWatchers=[]}}handleCaCertificateUpdate(m){this.latestCaUpdate=m,this.maybeUpdateWatchers()}handleIdentityCertitificateUpdate(m){this.latestIdentityUpdate=m,this.maybeUpdateWatchers()}hasReceivedUpdates(){return!(this.latestCaUpdate===void 0||this.identityCertificateProvider&&this.latestIdentityUpdate===void 0)}getSecureContext(){return this.hasReceivedUpdates()?Promise.resolve(this.getLatestSecureContext()):new Promise(m=>{this.secureContextWatchers.push(m)})}getLatestSecureContext(){var m,y;if(!this.latestCaUpdate||this.identityCertificateProvider!==null&&!this.latestIdentityUpdate)return null;try{return(0,r.createSecureContext)({ca:this.latestCaUpdate.caCertificate,key:(m=this.latestIdentityUpdate)===null||m===void 0?void 0:m.privateKey,cert:(y=this.latestIdentityUpdate)===null||y===void 0?void 0:y.certificate,ciphers:t.CIPHER_SUITES})}catch(b){return(0,n.log)(a.LogVerbosity.ERROR,"Failed to createSecureContext with error "+b.message),null}}}p.SecureConnectorImpl=class{constructor(v,m,y,b){this.parent=v,this.channelTarget=m,this.options=y,this.callCredentials=b}connect(v){return new Promise((m,y)=>{const b=this.parent.getLatestSecureContext();if(!b){y(new Error("Failed to load credentials"));return}v.closed&&y(new Error("Socket closed while loading credentials"));const O=f(b,this.parent.verifyOptions,this.channelTarget,this.options),k=Object.assign({socket:v},O),A=()=>{y(new Error("Socket closed"))},M=P=>{y(P)},F=(0,r.connect)(k,()=>{var P;if(F.removeListener("close",A),F.removeListener("error",M),(!((P=this.parent.verifyOptions.rejectUnauthorized)!==null&&P!==void 0)||P)&&!F.authorized){y(F.authorizationError);return}m({socket:F,secure:!0})});F.once("close",A),F.once("error",M)})}async waitForReady(){await this.parent.getSecureContext()}getCallCredentials(){return this.callCredentials}destroy(){this.parent.unref()}};function h(v,m,y){return new p(v,m,y??{})}class g extends u{constructor(m,y){if(super(),this.channelCredentials=m,this.callCredentials=y,!m._isSecure())throw new Error("Cannot compose insecure credentials")}compose(m){const y=this.callCredentials.compose(m);return new g(this.channelCredentials,y)}_isSecure(){return!0}_equals(m){return this===m?!0:m instanceof g?this.channelCredentials._equals(m.channelCredentials)&&this.callCredentials._equals(m.callCredentials):!1}_createSecureConnector(m,y,b){const O=this.callCredentials.compose(b??e.CallCredentials.createEmpty());return this.channelCredentials._createSecureConnector(m,y,O)}}return channelCredentials}var internalChannel={},resolvingLoadBalancer={},loadBalancer={},hasRequiredLoadBalancer;function requireLoadBalancer(){if(hasRequiredLoadBalancer)return loadBalancer;hasRequiredLoadBalancer=1,Object.defineProperty(loadBalancer,"__esModule",{value:!0}),loadBalancer.createChildChannelControlHelper=t,loadBalancer.registerLoadBalancerType=n,loadBalancer.registerDefaultLoadBalancerType=a,loadBalancer.createLoadBalancer=l,loadBalancer.isLoadBalancerNameRegistered=u,loadBalancer.parseLoadBalancingConfig=o,loadBalancer.getDefaultConfig=f,loadBalancer.selectLbConfigFromList=c;const r=requireLogging(),e=requireConstants();function t(d,p){var h,g,v,m,y,b,O,k,A,M;return{createSubchannel:(g=(h=p.createSubchannel)===null||h===void 0?void 0:h.bind(p))!==null&&g!==void 0?g:d.createSubchannel.bind(d),updateState:(m=(v=p.updateState)===null||v===void 0?void 0:v.bind(p))!==null&&m!==void 0?m:d.updateState.bind(d),requestReresolution:(b=(y=p.requestReresolution)===null||y===void 0?void 0:y.bind(p))!==null&&b!==void 0?b:d.requestReresolution.bind(d),addChannelzChild:(k=(O=p.addChannelzChild)===null||O===void 0?void 0:O.bind(p))!==null&&k!==void 0?k:d.addChannelzChild.bind(d),removeChannelzChild:(M=(A=p.removeChannelzChild)===null||A===void 0?void 0:A.bind(p))!==null&&M!==void 0?M:d.removeChannelzChild.bind(d)}}const i={};let s=null;function n(d,p,h){i[d]={LoadBalancer:p,LoadBalancingConfig:h}}function a(d){s=d}function l(d,p){const h=d.getLoadBalancerName();return h in i?new i[h].LoadBalancer(p):null}function u(d){return d in i}function o(d){const p=Object.keys(d);if(p.length!==1)throw new Error("Provided load balancing config has multiple conflicting entries");const h=p[0];if(h in i)try{return i[h].LoadBalancingConfig.createFromJson(d[h])}catch(g){throw new Error(`${h}: ${g.message}`)}else throw new Error(`Unrecognized load balancing config name ${h}`)}function f(){if(!s)throw new Error("No default load balancer type registered");return new i[s].LoadBalancingConfig}function c(d,p=!1){for(const h of d)try{return o(h)}catch(g){(0,r.log)(e.LogVerbosity.DEBUG,"Config parsing failed with error",g.message);continue}return p&&s?new i[s].LoadBalancingConfig:null}return loadBalancer}var serviceConfig={},hasRequiredServiceConfig;function requireServiceConfig(){if(hasRequiredServiceConfig)return serviceConfig;hasRequiredServiceConfig=1,Object.defineProperty(serviceConfig,"__esModule",{value:!0}),serviceConfig.validateRetryThrottling=u,serviceConfig.validateServiceConfig=f,serviceConfig.extractAndSelectServiceConfig=p;const r=require$$0$1,e=requireConstants(),t=/^\d+(\.\d{1,9})?s$/,i="node";function s(h){if("service"in h&&h.service!==""){if(typeof h.service!="string")throw new Error(`Invalid method config name: invalid service: expected type string, got ${typeof h.service}`);if("method"in h&&h.method!==""){if(typeof h.method!="string")throw new Error(`Invalid method config name: invalid method: expected type string, got ${typeof h.service}`);return{service:h.service,method:h.method}}else return{service:h.service}}else{if("method"in h&&h.method!==void 0)throw new Error("Invalid method config name: method set with empty or unset service");return{}}}function n(h){if(!("maxAttempts"in h)||!Number.isInteger(h.maxAttempts)||h.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in h)||typeof h.initialBackoff!="string"||!t.test(h.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("maxBackoff"in h)||typeof h.maxBackoff!="string"||!t.test(h.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer or decimal followed by s");if(!("backoffMultiplier"in h)||typeof h.backoffMultiplier!="number"||h.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in h&&Array.isArray(h.retryableStatusCodes)))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(h.retryableStatusCodes.length===0)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(const g of h.retryableStatusCodes)if(typeof g=="number"){if(!Object.values(e.Status).includes(g))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else if(typeof g=="string"){if(!Object.values(e.Status).includes(g.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}else throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");return{maxAttempts:h.maxAttempts,initialBackoff:h.initialBackoff,maxBackoff:h.maxBackoff,backoffMultiplier:h.backoffMultiplier,retryableStatusCodes:h.retryableStatusCodes}}function a(h){if(!("maxAttempts"in h)||!Number.isInteger(h.maxAttempts)||h.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in h&&(typeof h.hedgingDelay!="string"||!t.test(h.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in h&&Array.isArray(h.nonFatalStatusCodes))for(const v of h.nonFatalStatusCodes)if(typeof v=="number"){if(!Object.values(e.Status).includes(v))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not in status code range")}else if(typeof v=="string"){if(!Object.values(e.Status).includes(v.toUpperCase()))throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value not a status code name")}else throw new Error("Invalid method config hedging policy: nonFatalStatusCodes value must be a string or number");const g={maxAttempts:h.maxAttempts};return h.hedgingDelay&&(g.hedgingDelay=h.hedgingDelay),h.nonFatalStatusCodes&&(g.nonFatalStatusCodes=h.nonFatalStatusCodes),g}function l(h){var g;const v={name:[]};if(!("name"in h)||!Array.isArray(h.name))throw new Error("Invalid method config: invalid name array");for(const m of h.name)v.name.push(s(m));if("waitForReady"in h){if(typeof h.waitForReady!="boolean")throw new Error("Invalid method config: invalid waitForReady");v.waitForReady=h.waitForReady}if("timeout"in h)if(typeof h.timeout=="object"){if(!("seconds"in h.timeout)||typeof h.timeout.seconds!="number")throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in h.timeout)||typeof h.timeout.nanos!="number")throw new Error("Invalid method config: invalid timeout.nanos");v.timeout=h.timeout}else if(typeof h.timeout=="string"&&t.test(h.timeout)){const m=h.timeout.substring(0,h.timeout.length-1).split(".");v.timeout={seconds:m[0]|0,nanos:((g=m[1])!==null&&g!==void 0?g:0)|0}}else throw new Error("Invalid method config: invalid timeout");if("maxRequestBytes"in h){if(typeof h.maxRequestBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");v.maxRequestBytes=h.maxRequestBytes}if("maxResponseBytes"in h){if(typeof h.maxResponseBytes!="number")throw new Error("Invalid method config: invalid maxRequestBytes");v.maxResponseBytes=h.maxResponseBytes}if("retryPolicy"in h){if("hedgingPolicy"in h)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");v.retryPolicy=n(h.retryPolicy)}else"hedgingPolicy"in h&&(v.hedgingPolicy=a(h.hedgingPolicy));return v}function u(h){if(!("maxTokens"in h)||typeof h.maxTokens!="number"||h.maxTokens<=0||h.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in h)||typeof h.tokenRatio!="number"||h.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+h.maxTokens.toFixed(3),tokenRatio:+h.tokenRatio.toFixed(3)}}function o(h){if(!(typeof h=="object"&&h!==null))throw new Error(`Invalid loadBalancingConfig: unexpected type ${typeof h}`);const g=Object.keys(h);if(g.length>1)throw new Error(`Invalid loadBalancingConfig: unexpected multiple keys ${g}`);if(g.length===0)throw new Error("Invalid loadBalancingConfig: load balancing policy name required");return{[g[0]]:h[g[0]]}}function f(h){const g={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in h)if(typeof h.loadBalancingPolicy=="string")g.loadBalancingPolicy=h.loadBalancingPolicy;else throw new Error("Invalid service config: invalid loadBalancingPolicy");if("loadBalancingConfig"in h)if(Array.isArray(h.loadBalancingConfig))for(const m of h.loadBalancingConfig)g.loadBalancingConfig.push(o(m));else throw new Error("Invalid service config: invalid loadBalancingConfig");if("methodConfig"in h&&Array.isArray(h.methodConfig))for(const m of h.methodConfig)g.methodConfig.push(l(m));"retryThrottling"in h&&(g.retryThrottling=u(h.retryThrottling));const v=[];for(const m of g.methodConfig)for(const y of m.name){for(const b of v)if(y.service===b.service&&y.method===b.method)throw new Error(`Invalid service config: duplicate name ${y.service}/${y.method}`);v.push(y)}return g}function c(h){if(!("serviceConfig"in h))throw new Error("Invalid service config choice: missing service config");const g={serviceConfig:f(h.serviceConfig)};if("clientLanguage"in h)if(Array.isArray(h.clientLanguage)){g.clientLanguage=[];for(const m of h.clientLanguage)if(typeof m=="string")g.clientLanguage.push(m);else throw new Error("Invalid service config choice: invalid clientLanguage")}else throw new Error("Invalid service config choice: invalid clientLanguage");if("clientHostname"in h)if(Array.isArray(h.clientHostname)){g.clientHostname=[];for(const m of h.clientHostname)if(typeof m=="string")g.clientHostname.push(m);else throw new Error("Invalid service config choice: invalid clientHostname")}else throw new Error("Invalid service config choice: invalid clientHostname");if("percentage"in h)if(typeof h.percentage=="number"&&0<=h.percentage&&h.percentage<=100)g.percentage=h.percentage;else throw new Error("Invalid service config choice: invalid percentage");const v=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const m in h)if(!v.includes(m))throw new Error(`Invalid service config choice: unexpected field ${m}`);return g}function d(h,g){if(!Array.isArray(h))throw new Error("Invalid service config list");for(const v of h){const m=c(v);if(!(typeof m.percentage=="number"&&g>m.percentage)){if(Array.isArray(m.clientHostname)){let y=!1;for(const b of m.clientHostname)b===r.hostname()&&(y=!0);if(!y)continue}if(Array.isArray(m.clientLanguage)){let y=!1;for(const b of m.clientLanguage)b===i&&(y=!0);if(!y)continue}return m.serviceConfig}}throw new Error("No matching service config found")}function p(h,g){for(const v of h)if(v.length>0&&v[0].startsWith("grpc_config=")){const m=v.join("").substring(12),y=JSON.parse(m);return d(y,g)}return null}return serviceConfig}var connectivityState={},hasRequiredConnectivityState;function requireConnectivityState(){if(hasRequiredConnectivityState)return connectivityState;hasRequiredConnectivityState=1,Object.defineProperty(connectivityState,"__esModule",{value:!0}),connectivityState.ConnectivityState=void 0;var r;return(function(e){e[e.IDLE=0]="IDLE",e[e.CONNECTING=1]="CONNECTING",e[e.READY=2]="READY",e[e.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",e[e.SHUTDOWN=4]="SHUTDOWN"})(r||(connectivityState.ConnectivityState=r={})),connectivityState}var picker={},hasRequiredPicker;function requirePicker(){if(hasRequiredPicker)return picker;hasRequiredPicker=1,Object.defineProperty(picker,"__esModule",{value:!0}),picker.QueuePicker=picker.UnavailablePicker=picker.PickResultType=void 0;const r=requireMetadata(),e=requireConstants();var t;(function(n){n[n.COMPLETE=0]="COMPLETE",n[n.QUEUE=1]="QUEUE",n[n.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",n[n.DROP=3]="DROP"})(t||(picker.PickResultType=t={}));class i{constructor(a){this.status=Object.assign({code:e.Status.UNAVAILABLE,details:"No connection established",metadata:new r.Metadata},a)}pick(a){return{pickResultType:t.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}}picker.UnavailablePicker=i;class s{constructor(a,l){this.loadBalancer=a,this.childPicker=l,this.calledExitIdle=!1}pick(a){return this.calledExitIdle||(process.nextTick(()=>{this.loadBalancer.exitIdle()}),this.calledExitIdle=!0),this.childPicker?this.childPicker.pick(a):{pickResultType:t.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}return picker.QueuePicker=s,picker}var backoffTimeout={},hasRequiredBackoffTimeout;function requireBackoffTimeout(){if(hasRequiredBackoffTimeout)return backoffTimeout;hasRequiredBackoffTimeout=1,Object.defineProperty(backoffTimeout,"__esModule",{value:!0}),backoffTimeout.BackoffTimeout=void 0;const r=requireConstants(),e=requireLogging(),t="backoff",i=1e3,s=1.6,n=12e4,a=.2;function l(o,f){return Math.random()*(f-o)+o}class u{constructor(f,c){this.callback=f,this.initialDelay=i,this.multiplier=s,this.maxDelay=n,this.jitter=a,this.running=!1,this.hasRef=!0,this.startTime=new Date,this.endTime=new Date,this.id=u.getNextId(),c&&(c.initialDelay&&(this.initialDelay=c.initialDelay),c.multiplier&&(this.multiplier=c.multiplier),c.jitter&&(this.jitter=c.jitter),c.maxDelay&&(this.maxDelay=c.maxDelay)),this.trace("constructed initialDelay="+this.initialDelay+" multiplier="+this.multiplier+" jitter="+this.jitter+" maxDelay="+this.maxDelay),this.nextDelay=this.initialDelay,this.timerId=setTimeout(()=>{},0),clearTimeout(this.timerId)}static getNextId(){return this.nextId++}trace(f){e.trace(r.LogVerbosity.DEBUG,t,"{"+this.id+"} "+f)}runTimer(f){var c,d;this.trace("runTimer(delay="+f+")"),this.endTime=this.startTime,this.endTime.setMilliseconds(this.endTime.getMilliseconds()+f),clearTimeout(this.timerId),this.timerId=setTimeout(()=>{this.trace("timer fired"),this.running=!1,this.callback()},f),this.hasRef||(d=(c=this.timerId).unref)===null||d===void 0||d.call(c)}runOnce(){this.trace("runOnce()"),this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);const f=Math.min(this.nextDelay*this.multiplier,this.maxDelay),c=f*this.jitter;this.nextDelay=f+l(-c,c)}stop(){this.trace("stop()"),clearTimeout(this.timerId),this.running=!1}reset(){if(this.trace("reset() running="+this.running),this.nextDelay=this.initialDelay,this.running){const f=new Date,c=this.startTime;c.setMilliseconds(c.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),f<c?this.runTimer(c.getTime()-f.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var f,c;this.hasRef=!0,(c=(f=this.timerId).ref)===null||c===void 0||c.call(f)}unref(){var f,c;this.hasRef=!1,(c=(f=this.timerId).unref)===null||c===void 0||c.call(f)}getEndTime(){return this.endTime}}return backoffTimeout.BackoffTimeout=u,u.nextId=0,backoffTimeout}var loadBalancerChildHandler={},hasRequiredLoadBalancerChildHandler;function requireLoadBalancerChildHandler(){if(hasRequiredLoadBalancerChildHandler)return loadBalancerChildHandler;hasRequiredLoadBalancerChildHandler=1,Object.defineProperty(loadBalancerChildHandler,"__esModule",{value:!0}),loadBalancerChildHandler.ChildLoadBalancerHandler=void 0;const r=requireLoadBalancer(),e=requireConnectivityState(),t="child_load_balancer_helper";class i{constructor(n){this.channelControlHelper=n,this.currentChild=null,this.pendingChild=null,this.latestConfig=null,this.ChildPolicyHelper=class{constructor(a){this.parent=a,this.child=null}createSubchannel(a,l){return this.parent.channelControlHelper.createSubchannel(a,l)}updateState(a,l,u){var o;if(this.calledByPendingChild()){if(a===e.ConnectivityState.CONNECTING)return;(o=this.parent.currentChild)===null||o===void 0||o.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(a,l,u)}requestReresolution(){var a;const l=(a=this.parent.pendingChild)!==null&&a!==void 0?a:this.parent.currentChild;this.child===l&&this.parent.channelControlHelper.requestReresolution()}setChild(a){this.child=a}addChannelzChild(a){this.parent.channelControlHelper.addChannelzChild(a)}removeChannelzChild(a){this.parent.channelControlHelper.removeChannelzChild(a)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}configUpdateRequiresNewPolicyInstance(n,a){return n.getLoadBalancerName()!==a.getLoadBalancerName()}updateAddressList(n,a,l,u){let o;if(this.currentChild===null||this.latestConfig===null||this.configUpdateRequiresNewPolicyInstance(this.latestConfig,a)){const f=new this.ChildPolicyHelper(this),c=(0,r.createLoadBalancer)(a,f);f.setChild(c),this.currentChild===null?(this.currentChild=c,o=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=c,o=this.pendingChild)}else this.pendingChild===null?o=this.currentChild:o=this.pendingChild;return this.latestConfig=a,o.updateAddressList(n,a,l,u)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return t}}return loadBalancerChildHandler.ChildLoadBalancerHandler=i,loadBalancerChildHandler}var hasRequiredResolvingLoadBalancer;function requireResolvingLoadBalancer(){if(hasRequiredResolvingLoadBalancer)return resolvingLoadBalancer;hasRequiredResolvingLoadBalancer=1,Object.defineProperty(resolvingLoadBalancer,"__esModule",{value:!0}),resolvingLoadBalancer.ResolvingLoadBalancer=void 0;const r=requireLoadBalancer(),e=requireServiceConfig(),t=requireConnectivityState(),i=requireResolver(),s=requirePicker(),n=requireBackoffTimeout(),a=requireConstants(),l=requireMetadata(),u=requireLogging(),o=requireConstants(),f=requireUriParser(),c=requireLoadBalancerChildHandler(),d="resolving_load_balancer";function p(b){u.trace(o.LogVerbosity.DEBUG,d,b)}const h=["SERVICE_AND_METHOD","SERVICE","EMPTY"];function g(b,O,k,A){for(const M of k.name)switch(A){case"EMPTY":if(!M.service&&!M.method)return!0;break;case"SERVICE":if(M.service===b&&!M.method)return!0;break;case"SERVICE_AND_METHOD":if(M.service===b&&M.method===O)return!0}return!1}function v(b,O,k,A){for(const M of k)if(g(b,O,M,A))return M;return null}function m(b){return{invoke(O,k){var A,M;const F=O.split("/").filter(q=>q.length>0),P=(A=F[0])!==null&&A!==void 0?A:"",L=(M=F[1])!==null&&M!==void 0?M:"";if(b&&b.methodConfig)for(const q of h){const w=v(P,L,b.methodConfig,q);if(w)return{methodConfig:w,pickInformation:{},status:a.Status.OK,dynamicFilterFactories:[]}}return{methodConfig:{name:[]},pickInformation:{},status:a.Status.OK,dynamicFilterFactories:[]}},unref(){}}}class y{constructor(O,k,A,M,F){this.target=O,this.channelControlHelper=k,this.channelOptions=A,this.onSuccessfulResolution=M,this.onFailedResolution=F,this.latestChildState=t.ConnectivityState.IDLE,this.latestChildPicker=new s.QueuePicker(this),this.latestChildErrorMessage=null,this.currentState=t.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,A["grpc.service_config"]?this.defaultServiceConfig=(0,e.validateServiceConfig)(JSON.parse(A["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(t.ConnectivityState.IDLE,new s.QueuePicker(this),null),this.childLoadBalancer=new c.ChildLoadBalancerHandler({createSubchannel:k.createSubchannel.bind(k),requestReresolution:()=>{this.backoffTimeout.isRunning()?(p("requestReresolution delayed by backoff timer until "+this.backoffTimeout.getEndTime().toISOString()),this.continueResolving=!0):this.updateResolution()},updateState:(L,q,w)=>{this.latestChildState=L,this.latestChildPicker=q,this.latestChildErrorMessage=w,this.updateState(L,q,w)},addChannelzChild:k.addChannelzChild.bind(k),removeChannelzChild:k.removeChannelzChild.bind(k)}),this.innerResolver=(0,i.createResolver)(O,this.handleResolverResult.bind(this),A);const P={initialDelay:A["grpc.initial_reconnect_backoff_ms"],maxDelay:A["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new n.BackoffTimeout(()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker,this.latestChildErrorMessage)},P),this.backoffTimeout.unref()}handleResolverResult(O,k,A,M){var F,P;this.backoffTimeout.stop(),this.backoffTimeout.reset();let L=!0,q=null;if(A===null?q=this.defaultServiceConfig:A.ok?q=A.value:this.previousServiceConfig!==null?q=this.previousServiceConfig:(L=!1,this.handleResolutionFailure(A.error)),q!==null){const w=(F=q?.loadBalancingConfig)!==null&&F!==void 0?F:[],N=(0,r.selectLbConfigFromList)(w,!0);N===null?(L=!1,this.handleResolutionFailure({code:a.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new l.Metadata})):L=this.childLoadBalancer.updateAddressList(O,N,Object.assign(Object.assign({},this.channelOptions),k),M)}return L&&this.onSuccessfulResolution(q,(P=k[i.CHANNEL_ARGS_CONFIG_SELECTOR_KEY])!==null&&P!==void 0?P:m(q)),L}updateResolution(){this.innerResolver.updateResolution(),this.currentState===t.ConnectivityState.IDLE&&this.updateState(t.ConnectivityState.CONNECTING,this.latestChildPicker,this.latestChildErrorMessage),this.backoffTimeout.runOnce()}updateState(O,k,A){p((0,f.uriToString)(this.target)+" "+t.ConnectivityState[this.currentState]+" -> "+t.ConnectivityState[O]),O===t.ConnectivityState.IDLE&&(k=new s.QueuePicker(this,k)),this.currentState=O,this.channelControlHelper.updateState(O,k,A)}handleResolutionFailure(O){this.latestChildState===t.ConnectivityState.IDLE&&(this.updateState(t.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker(O),O.details),this.onFailedResolution(O))}exitIdle(){(this.currentState===t.ConnectivityState.IDLE||this.currentState===t.ConnectivityState.TRANSIENT_FAILURE)&&(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(O,k){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.backoffTimeout.reset(),this.backoffTimeout.stop(),this.latestChildState=t.ConnectivityState.IDLE,this.latestChildPicker=new s.QueuePicker(this),this.currentState=t.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1}getTypeName(){return"resolving_load_balancer"}}return resolvingLoadBalancer.ResolvingLoadBalancer=y,resolvingLoadBalancer}var subchannelPool={},channelOptions={},hasRequiredChannelOptions;function requireChannelOptions(){if(hasRequiredChannelOptions)return channelOptions;hasRequiredChannelOptions=1,Object.defineProperty(channelOptions,"__esModule",{value:!0}),channelOptions.recognizedOptions=void 0,channelOptions.channelOptionsEqual=r,channelOptions.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0,"grpc.client_idle_timeout_ms":!0,"grpc-node.tls_enable_trace":!0,"grpc.lb.ring_hash.ring_size_cap":!0,"grpc-node.retry_max_attempts_limit":!0,"grpc-node.flow_control_window":!0,"grpc.server_call_metric_recording":!0};function r(e,t){const i=Object.keys(e).sort(),s=Object.keys(t).sort();if(i.length!==s.length)return!1;for(let n=0;n<i.length;n+=1)if(i[n]!==s[n]||e[i[n]]!==t[s[n]])return!1;return!0}return channelOptions}var subchannel={},subchannelAddress={},hasRequiredSubchannelAddress;function requireSubchannelAddress(){if(hasRequiredSubchannelAddress)return subchannelAddress;hasRequiredSubchannelAddress=1,Object.defineProperty(subchannelAddress,"__esModule",{value:!0}),subchannelAddress.EndpointMap=void 0,subchannelAddress.isTcpSubchannelAddress=e,subchannelAddress.subchannelAddressEqual=t,subchannelAddress.subchannelAddressToString=i,subchannelAddress.stringToSubchannelAddress=n,subchannelAddress.endpointEqual=a,subchannelAddress.endpointToString=l,subchannelAddress.endpointHasAddress=u;const r=require$$0$2;function e(c){return"port"in c}function t(c,d){return!c&&!d?!0:!c||!d?!1:e(c)?e(d)&&c.host===d.host&&c.port===d.port:!e(d)&&c.path===d.path}function i(c){return e(c)?(0,r.isIPv6)(c.host)?"["+c.host+"]:"+c.port:c.host+":"+c.port:c.path}const s=443;function n(c,d){return(0,r.isIP)(c)?{host:c,port:d??s}:{path:c}}function a(c,d){if(c.addresses.length!==d.addresses.length)return!1;for(let p=0;p<c.addresses.length;p++)if(!t(c.addresses[p],d.addresses[p]))return!1;return!0}function l(c){return"["+c.addresses.map(i).join(", ")+"]"}function u(c,d){for(const p of c.addresses)if(t(p,d))return!0;return!1}function o(c,d){if(c.addresses.length!==d.addresses.length)return!1;for(const p of c.addresses){let h=!1;for(const g of d.addresses)if(t(p,g)){h=!0;break}if(!h)return!1}return!0}class f{constructor(){this.map=new Set}get size(){return this.map.size}getForSubchannelAddress(d){for(const p of this.map)if(u(p.key,d))return p.value}deleteMissing(d){const p=[];for(const h of this.map){let g=!1;for(const v of d)o(v,h.key)&&(g=!0);g||(p.push(h.value),this.map.delete(h))}return p}get(d){for(const p of this.map)if(o(d,p.key))return p.value}set(d,p){for(const h of this.map)if(o(d,h.key)){h.value=p;return}this.map.add({key:d,value:p})}delete(d){for(const p of this.map)if(o(d,p.key)){this.map.delete(p);return}}has(d){for(const p of this.map)if(o(d,p.key))return!0;return!1}clear(){this.map.clear()}*keys(){for(const d of this.map)yield d.key}*values(){for(const d of this.map)yield d.value}*entries(){for(const d of this.map)yield[d.key,d.value]}}return subchannelAddress.EndpointMap=f,subchannelAddress}var channelz={},extendStatics=function(r,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])},extendStatics(r,e)};function __extends(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function __generator(r,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,s,n,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(o){return function(f){return u([o,f])}}function u(o){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(t=0)),t;)try{if(i=1,s&&(n=o[0]&2?s.return:o[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,o[1])).done)return n;switch(s=0,n&&(o=[o[0]&2,n.value]),o[0]){case 0:case 1:n=o;break;case 4:return t.label++,{value:o[1],done:!1};case 5:t.label++,s=o[1],o=[0];continue;case 7:o=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(o[0]===6||o[0]===2)){t=0;continue}if(o[0]===3&&(!n||o[1]>n[0]&&o[1]<n[3])){t.label=o[1];break}if(o[0]===6&&t.label<n[1]){t.label=n[1],n=o;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(o);break}n[2]&&t.ops.pop(),t.trys.pop();continue}o=e.call(r,t)}catch(f){o=[6,f],s=0}finally{i=n=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var TreeNode=(function(){function r(e,t,i){i===void 0&&(i=1),this.t=void 0,this.i=void 0,this.h=void 0,this.u=e,this.o=t,this.l=i}return r.prototype.v=function(){var e=this,t=e.h.h===e;if(t&&e.l===1)e=e.i;else if(e.t)for(e=e.t;e.i;)e=e.i;else{if(t)return e.h;for(var i=e.h;i.t===e;)e=i,i=e.h;e=i}return e},r.prototype.p=function(){var e=this;if(e.i){for(e=e.i;e.t;)e=e.t;return e}else{for(var t=e.h;t.i===e;)e=t,t=e.h;return e.i!==t?t:e}},r.prototype.T=function(){var e=this.h,t=this.i,i=t.t;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.t=this,this.h=t,this.i=i,i&&(i.h=this),t},r.prototype.I=function(){var e=this.h,t=this.t,i=t.i;return e.h===this?e.h=t:e.t===this?e.t=t:e.i=t,t.h=e,t.i=this,this.h=t,this.t=i,i&&(i.h=this),t},r})(),TreeNodeEnableIndex=(function(r){__extends(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.O=1,t}return e.prototype.T=function(){var t=r.prototype.T.call(this);return this.M(),t.M(),t},e.prototype.I=function(){var t=r.prototype.I.call(this);return this.M(),t.M(),t},e.prototype.M=function(){this.O=1,this.t&&(this.O+=this.t.O),this.i&&(this.O+=this.i.O)},e})(TreeNode),ContainerIterator=(function(){function r(e){e===void 0&&(e=0),this.iteratorType=e}return r.prototype.equals=function(e){return this.C===e.C},r})(),Base=(function(){function r(){this._=0}return Object.defineProperty(r.prototype,"length",{get:function(){return this._},enumerable:!1,configurable:!0}),r.prototype.size=function(){return this._},r.prototype.empty=function(){return this._===0},r})(),Container=(function(r){__extends(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e})(Base);function throwIteratorAccessError(){throw new RangeError("Iterator access denied!")}var TreeContainer=(function(r){__extends(e,r);function e(t,i){t===void 0&&(t=function(n,a){return n<a?-1:n>a?1:0}),i===void 0&&(i=!1);var s=r.call(this)||this;return s.N=void 0,s.g=t,s.enableIndex=i,s.S=i?TreeNodeEnableIndex:TreeNode,s.A=new s.S,s}return e.prototype.m=function(t,i){for(var s=this.A;t;){var n=this.g(t.u,i);if(n<0)t=t.i;else if(n>0)s=t,t=t.t;else return t}return s},e.prototype.B=function(t,i){for(var s=this.A;t;){var n=this.g(t.u,i);n<=0?t=t.i:(s=t,t=t.t)}return s},e.prototype.j=function(t,i){for(var s=this.A;t;){var n=this.g(t.u,i);if(n<0)s=t,t=t.i;else if(n>0)t=t.t;else return t}return s},e.prototype.k=function(t,i){for(var s=this.A;t;){var n=this.g(t.u,i);n<0?(s=t,t=t.i):t=t.t}return s},e.prototype.R=function(t){for(;;){var i=t.h;if(i===this.A)return;if(t.l===1){t.l=0;return}if(t===i.t){var s=i.i;if(s.l===1)s.l=0,i.l=1,i===this.N?this.N=i.T():i.T();else if(s.i&&s.i.l===1){s.l=i.l,i.l=0,s.i.l=0,i===this.N?this.N=i.T():i.T();return}else s.t&&s.t.l===1?(s.l=1,s.t.l=0,s.I()):(s.l=1,t=i)}else{var s=i.t;if(s.l===1)s.l=0,i.l=1,i===this.N?this.N=i.I():i.I();else if(s.t&&s.t.l===1){s.l=i.l,i.l=0,s.t.l=0,i===this.N?this.N=i.I():i.I();return}else s.i&&s.i.l===1?(s.l=1,s.i.l=0,s.T()):(s.l=1,t=i)}}},e.prototype.G=function(t){if(this._===1){this.clear();return}for(var i=t;i.t||i.i;){if(i.i)for(i=i.i;i.t;)i=i.t;else i=i.t;var s=t.u;t.u=i.u,i.u=s;var n=t.o;t.o=i.o,i.o=n,t=i}this.A.t===i?this.A.t=i.h:this.A.i===i&&(this.A.i=i.h),this.R(i);var a=i.h;if(i===a.t?a.t=void 0:a.i=void 0,this._-=1,this.N.l=0,this.enableIndex)for(;a!==this.A;)a.O-=1,a=a.h},e.prototype.P=function(t){for(var i=typeof t=="number"?t:void 0,s=typeof t=="function"?t:void 0,n=typeof t>"u"?[]:void 0,a=0,l=this.N,u=[];u.length||l;)if(l)u.push(l),l=l.t;else{if(l=u.pop(),a===i)return l;n&&n.push(l),s&&s(l,a,this),a+=1,l=l.i}return n},e.prototype.q=function(t){for(;;){var i=t.h;if(i.l===0)return;var s=i.h;if(i===s.t){var n=s.i;if(n&&n.l===1){if(n.l=i.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===i.i){if(t.l=0,t.t&&(t.t.h=i),t.i&&(t.i.h=s),i.i=t.t,s.t=t.i,t.t=i,t.i=s,s===this.N)this.N=t,this.A.h=t;else{var a=s.h;a.t===s?a.t=t:a.i=t}t.h=s.h,i.h=t,s.h=t,s.l=1}else{i.l=0,s===this.N?this.N=s.I():s.I(),s.l=1;return}}else{var n=s.t;if(n&&n.l===1){if(n.l=i.l=0,s===this.N)return;s.l=1,t=s;continue}else if(t===i.t){if(t.l=0,t.t&&(t.t.h=s),t.i&&(t.i.h=i),s.i=t.t,i.t=t.i,t.t=s,t.i=i,s===this.N)this.N=t,this.A.h=t;else{var a=s.h;a.t===s?a.t=t:a.i=t}t.h=s.h,i.h=t,s.h=t,s.l=1}else{i.l=0,s===this.N?this.N=s.T():s.T(),s.l=1;return}}this.enableIndex&&(i.M(),s.M(),t.M());return}},e.prototype.D=function(t,i,s){if(this.N===void 0)return this._+=1,this.N=new this.S(t,i,0),this.N.h=this.A,this.A.h=this.A.t=this.A.i=this.N,this._;var n,a=this.A.t,l=this.g(a.u,t);if(l===0)return a.o=i,this._;if(l>0)a.t=new this.S(t,i),a.t.h=a,n=a.t,this.A.t=n;else{var u=this.A.i,o=this.g(u.u,t);if(o===0)return u.o=i,this._;if(o<0)u.i=new this.S(t,i),u.i.h=u,n=u.i,this.A.i=n;else{if(s!==void 0){var f=s.C;if(f!==this.A){var c=this.g(f.u,t);if(c===0)return f.o=i,this._;if(c>0){var d=f.v(),p=this.g(d.u,t);if(p===0)return d.o=i,this._;p<0&&(n=new this.S(t,i),d.i===void 0?(d.i=n,n.h=d):(f.t=n,n.h=f))}}}if(n===void 0)for(n=this.N;;){var h=this.g(n.u,t);if(h>0){if(n.t===void 0){n.t=new this.S(t,i),n.t.h=n,n=n.t;break}n=n.t}else if(h<0){if(n.i===void 0){n.i=new this.S(t,i),n.i.h=n,n=n.i;break}n=n.i}else return n.o=i,this._}}}if(this.enableIndex)for(var g=n.h;g!==this.A;)g.O+=1,g=g.h;return this.q(n),this._+=1,this._},e.prototype.F=function(t,i){for(;t;){var s=this.g(t.u,i);if(s<0)t=t.i;else if(s>0)t=t.t;else return t}return t||this.A},e.prototype.clear=function(){this._=0,this.N=void 0,this.A.h=void 0,this.A.t=this.A.i=void 0},e.prototype.updateKeyByIterator=function(t,i){var s=t.C;if(s===this.A&&throwIteratorAccessError(),this._===1)return s.u=i,!0;var n=s.p().u;if(s===this.A.t)return this.g(n,i)>0?(s.u=i,!0):!1;var a=s.v().u;return s===this.A.i?this.g(a,i)<0?(s.u=i,!0):!1:this.g(a,i)>=0||this.g(n,i)<=0?!1:(s.u=i,!0)},e.prototype.eraseElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var i=this.P(t);return this.G(i),this._},e.prototype.eraseElementByKey=function(t){if(this._===0)return!1;var i=this.F(this.N,t);return i===this.A?!1:(this.G(i),!0)},e.prototype.eraseElementByIterator=function(t){var i=t.C;i===this.A&&throwIteratorAccessError();var s=i.i===void 0,n=t.iteratorType===0;return n?s&&t.next():(!s||i.t===void 0)&&t.next(),this.G(i),t},e.prototype.getHeight=function(){if(this._===0)return 0;function t(i){return i?Math.max(t(i.t),t(i.i))+1:0}return t(this.N)},e})(Container),TreeIterator=(function(r){__extends(e,r);function e(t,i,s){var n=r.call(this,s)||this;return n.C=t,n.A=i,n.iteratorType===0?(n.pre=function(){return this.C===this.A.t&&throwIteratorAccessError(),this.C=this.C.v(),this},n.next=function(){return this.C===this.A&&throwIteratorAccessError(),this.C=this.C.p(),this}):(n.pre=function(){return this.C===this.A.i&&throwIteratorAccessError(),this.C=this.C.p(),this},n.next=function(){return this.C===this.A&&throwIteratorAccessError(),this.C=this.C.v(),this}),n}return Object.defineProperty(e.prototype,"index",{get:function(){var t=this.C,i=this.A.h;if(t===this.A)return i?i.O-1:0;var s=0;for(t.t&&(s+=t.t.O);t!==i;){var n=t.h;t===n.i&&(s+=1,n.t&&(s+=n.t.O)),t=n}return s},enumerable:!1,configurable:!0}),e.prototype.isAccessible=function(){return this.C!==this.A},e})(ContainerIterator),OrderedMapIterator=(function(r){__extends(e,r);function e(t,i,s,n){var a=r.call(this,t,i,n)||this;return a.container=s,a}return Object.defineProperty(e.prototype,"pointer",{get:function(){this.C===this.A&&throwIteratorAccessError();var t=this;return new Proxy([],{get:function(i,s){return s==="0"?t.C.u:s==="1"?t.C.o:(i[0]=t.C.u,i[1]=t.C.o,i[s])},set:function(i,s,n){if(s!=="1")throw new TypeError("prop must be 1");return t.C.o=n,!0}})},enumerable:!1,configurable:!0}),e.prototype.copy=function(){return new e(this.C,this.A,this.container,this.iteratorType)},e})(TreeIterator),OrderedMap=(function(r){__extends(e,r);function e(t,i,s){t===void 0&&(t=[]);var n=r.call(this,i,s)||this,a=n;return t.forEach((function(l){a.setElement(l[0],l[1])})),n}return e.prototype.begin=function(){return new OrderedMapIterator(this.A.t||this.A,this.A,this)},e.prototype.end=function(){return new OrderedMapIterator(this.A,this.A,this)},e.prototype.rBegin=function(){return new OrderedMapIterator(this.A.i||this.A,this.A,this,1)},e.prototype.rEnd=function(){return new OrderedMapIterator(this.A,this.A,this,1)},e.prototype.front=function(){if(this._!==0){var t=this.A.t;return[t.u,t.o]}},e.prototype.back=function(){if(this._!==0){var t=this.A.i;return[t.u,t.o]}},e.prototype.lowerBound=function(t){var i=this.m(this.N,t);return new OrderedMapIterator(i,this.A,this)},e.prototype.upperBound=function(t){var i=this.B(this.N,t);return new OrderedMapIterator(i,this.A,this)},e.prototype.reverseLowerBound=function(t){var i=this.j(this.N,t);return new OrderedMapIterator(i,this.A,this)},e.prototype.reverseUpperBound=function(t){var i=this.k(this.N,t);return new OrderedMapIterator(i,this.A,this)},e.prototype.forEach=function(t){this.P((function(i,s,n){t([i.u,i.o],s,n)}))},e.prototype.setElement=function(t,i,s){return this.D(t,i,s)},e.prototype.getElementByPos=function(t){if(t<0||t>this._-1)throw new RangeError;var i=this.P(t);return[i.u,i.o]},e.prototype.find=function(t){var i=this.F(this.N,t);return new OrderedMapIterator(i,this.A,this)},e.prototype.getElementByKey=function(t){var i=this.F(this.N,t);return i.o},e.prototype.union=function(t){var i=this;return t.forEach((function(s){i.setElement(s[0],s[1])})),this._},e.prototype[Symbol.iterator]=function(){var t,i,s,n;return __generator(this,(function(a){switch(a.label){case 0:t=this._,i=this.P(),s=0,a.label=1;case 1:return s<t?(n=i[s],[4,[n.u,n.o]]):[3,4];case 2:a.sent(),a.label=3;case 3:return++s,[3,1];case 4:return[2]}}))},e})(TreeContainer);const esm=Object.freeze(Object.defineProperty({__proto__:null,OrderedMap},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(esm);var admin={},hasRequiredAdmin;function requireAdmin(){if(hasRequiredAdmin)return admin;hasRequiredAdmin=1,Object.defineProperty(admin,"__esModule",{value:!0}),admin.registerAdminService=e,admin.addAdminServicesToServer=t;const r=[];function e(i,s){r.push({getServiceDefinition:i,getHandlers:s})}function t(i){for(const{getServiceDefinition:s,getHandlers:n}of r)i.addService(s(),n())}return admin}var makeClient={},client={},call={},hasRequiredCall;function requireCall(){if(hasRequiredCall)return call;hasRequiredCall=1,Object.defineProperty(call,"__esModule",{value:!0}),call.ClientDuplexStreamImpl=call.ClientWritableStreamImpl=call.ClientReadableStreamImpl=call.ClientUnaryCallImpl=void 0,call.callErrorFromStatus=i;const r=require$$0$3,e=require$$1$2,t=requireConstants();function i(u,o){const f=`${u.code} ${t.Status[u.code]}: ${u.details}`,d=`${new Error(f).stack}
for call at
${o}`;return Object.assign(new Error(f),u,{stack:d})}class s extends r.EventEmitter{constructor(){super()}cancel(){var o;(o=this.call)===null||o===void 0||o.cancelWithStatus(t.Status.CANCELLED,"Cancelled on client")}getPeer(){var o,f;return(f=(o=this.call)===null||o===void 0?void 0:o.getPeer())!==null&&f!==void 0?f:"unknown"}getAuthContext(){var o,f;return(f=(o=this.call)===null||o===void 0?void 0:o.getAuthContext())!==null&&f!==void 0?f:null}}call.ClientUnaryCallImpl=s;class n extends e.Readable{constructor(o){super({objectMode:!0}),this.deserialize=o}cancel(){var o;(o=this.call)===null||o===void 0||o.cancelWithStatus(t.Status.CANCELLED,"Cancelled on client")}getPeer(){var o,f;return(f=(o=this.call)===null||o===void 0?void 0:o.getPeer())!==null&&f!==void 0?f:"unknown"}getAuthContext(){var o,f;return(f=(o=this.call)===null||o===void 0?void 0:o.getAuthContext())!==null&&f!==void 0?f:null}_read(o){var f;(f=this.call)===null||f===void 0||f.startRead()}}call.ClientReadableStreamImpl=n;class a extends e.Writable{constructor(o){super({objectMode:!0}),this.serialize=o}cancel(){var o;(o=this.call)===null||o===void 0||o.cancelWithStatus(t.Status.CANCELLED,"Cancelled on client")}getPeer(){var o,f;return(f=(o=this.call)===null||o===void 0?void 0:o.getPeer())!==null&&f!==void 0?f:"unknown"}getAuthContext(){var o,f;return(f=(o=this.call)===null||o===void 0?void 0:o.getAuthContext())!==null&&f!==void 0?f:null}_write(o,f,c){var d;const p={callback:c},h=Number(f);Number.isNaN(h)||(p.flags=h),(d=this.call)===null||d===void 0||d.sendMessageWithContext(p,o)}_final(o){var f;(f=this.call)===null||f===void 0||f.halfClose(),o()}}call.ClientWritableStreamImpl=a;class l extends e.Duplex{constructor(o,f){super({objectMode:!0}),this.serialize=o,this.deserialize=f}cancel(){var o;(o=this.call)===null||o===void 0||o.cancelWithStatus(t.Status.CANCELLED,"Cancelled on client")}getPeer(){var o,f;return(f=(o=this.call)===null||o===void 0?void 0:o.getPeer())!==null&&f!==void 0?f:"unknown"}getAuthContext(){var o,f;return(f=(o=this.call)===null||o===void 0?void 0:o.getAuthContext())!==null&&f!==void 0?f:null}_read(o){var f;(f=this.call)===null||f===void 0||f.startRead()}_write(o,f,c){var d;const p={callback:c},h=Number(f);Number.isNaN(h)||(p.flags=h),(d=this.call)===null||d===void 0||d.sendMessageWithContext(p,o)}_final(o){var f;(f=this.call)===null||f===void 0||f.halfClose(),o()}}return call.ClientDuplexStreamImpl=l,call}var clientInterceptors={},callInterface={},hasRequiredCallInterface;function requireCallInterface(){if(hasRequiredCallInterface)return callInterface;hasRequiredCallInterface=1,Object.defineProperty(callInterface,"__esModule",{value:!0}),callInterface.InterceptingListenerImpl=void 0,callInterface.statusOrFromValue=e,callInterface.statusOrFromError=t,callInterface.isInterceptingListener=i;const r=requireMetadata();function e(n){return{ok:!0,value:n}}function t(n){var a;return{ok:!1,error:Object.assign(Object.assign({},n),{metadata:(a=n.metadata)!==null&&a!==void 0?a:new r.Metadata})}}function i(n){return n.onReceiveMetadata!==void 0&&n.onReceiveMetadata.length===1}class s{constructor(a,l){this.listener=a,this.nextListener=l,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(a){this.processingMetadata=!0,this.listener.onReceiveMetadata(a,l=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(l),this.processPendingMessage(),this.processPendingStatus()})}onReceiveMessage(a){this.processingMessage=!0,this.listener.onReceiveMessage(a,l=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=l,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(l),this.processPendingStatus())})}onReceiveStatus(a){this.listener.onReceiveStatus(a,l=>{this.processingMetadata||this.processingMessage?this.pendingStatus=l:this.nextListener.onReceiveStatus(l)})}}return callInterface.InterceptingListenerImpl=s,callInterface}var hasRequiredClientInterceptors;function requireClientInterceptors(){if(hasRequiredClientInterceptors)return clientInterceptors;hasRequiredClientInterceptors=1,Object.defineProperty(clientInterceptors,"__esModule",{value:!0}),clientInterceptors.InterceptingCall=clientInterceptors.RequesterBuilder=clientInterceptors.ListenerBuilder=clientInterceptors.InterceptorConfigurationError=void 0,clientInterceptors.getInterceptingCall=g;const r=requireMetadata(),e=requireCallInterface(),t=requireConstants(),i=requireError();class s extends Error{constructor(m){super(m),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,s)}}clientInterceptors.InterceptorConfigurationError=s;class n{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(m){return this.metadata=m,this}withOnReceiveMessage(m){return this.message=m,this}withOnReceiveStatus(m){return this.status=m,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}}clientInterceptors.ListenerBuilder=n;class a{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(m){return this.start=m,this}withSendMessage(m){return this.message=m,this}withHalfClose(m){return this.halfClose=m,this}withCancel(m){return this.cancel=m,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}}clientInterceptors.RequesterBuilder=a;const l={onReceiveMetadata:(v,m)=>{m(v)},onReceiveMessage:(v,m)=>{m(v)},onReceiveStatus:(v,m)=>{m(v)}},u={start:(v,m,y)=>{y(v,m)},sendMessage:(v,m)=>{m(v)},halfClose:v=>{v()},cancel:v=>{v()}};class o{constructor(m,y){var b,O,k,A;this.nextCall=m,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,y?this.requester={start:(b=y.start)!==null&&b!==void 0?b:u.start,sendMessage:(O=y.sendMessage)!==null&&O!==void 0?O:u.sendMessage,halfClose:(k=y.halfClose)!==null&&k!==void 0?k:u.halfClose,cancel:(A=y.cancel)!==null&&A!==void 0?A:u.cancel}:this.requester=u}cancelWithStatus(m,y){this.requester.cancel(()=>{this.nextCall.cancelWithStatus(m,y)})}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(m,y){var b,O,k,A,M,F;const P={onReceiveMetadata:(O=(b=y?.onReceiveMetadata)===null||b===void 0?void 0:b.bind(y))!==null&&O!==void 0?O:(L=>{}),onReceiveMessage:(A=(k=y?.onReceiveMessage)===null||k===void 0?void 0:k.bind(y))!==null&&A!==void 0?A:(L=>{}),onReceiveStatus:(F=(M=y?.onReceiveStatus)===null||M===void 0?void 0:M.bind(y))!==null&&F!==void 0?F:(L=>{})};this.processingMetadata=!0,this.requester.start(m,P,(L,q)=>{var w,N,T;this.processingMetadata=!1;let _;if((0,e.isInterceptingListener)(q))_=q;else{const R={onReceiveMetadata:(w=q.onReceiveMetadata)!==null&&w!==void 0?w:l.onReceiveMetadata,onReceiveMessage:(N=q.onReceiveMessage)!==null&&N!==void 0?N:l.onReceiveMessage,onReceiveStatus:(T=q.onReceiveStatus)!==null&&T!==void 0?T:l.onReceiveStatus};_=new e.InterceptingListenerImpl(R,P)}this.nextCall.start(L,_),this.processPendingMessage(),this.processPendingHalfClose()})}sendMessageWithContext(m,y){this.processingMessage=!0,this.requester.sendMessage(y,b=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=m,this.pendingMessage=y):(this.nextCall.sendMessageWithContext(m,b),this.processPendingHalfClose())})}sendMessage(m){this.sendMessageWithContext({},m)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose(()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()})}getAuthContext(){return this.nextCall.getAuthContext()}}clientInterceptors.InterceptingCall=o;function f(v,m,y){var b,O;const k=(b=y.deadline)!==null&&b!==void 0?b:1/0,A=y.host,M=(O=y.parent)!==null&&O!==void 0?O:null,F=y.propagate_flags,P=y.credentials,L=v.createCall(m,k,A,M,F);return P&&L.setCredentials(P),L}class c{constructor(m,y){this.call=m,this.methodDefinition=y}cancelWithStatus(m,y){this.call.cancelWithStatus(m,y)}getPeer(){return this.call.getPeer()}sendMessageWithContext(m,y){let b;try{b=this.methodDefinition.requestSerialize(y)}catch(O){this.call.cancelWithStatus(t.Status.INTERNAL,`Request message serialization failure: ${(0,i.getErrorMessage)(O)}`);return}this.call.sendMessageWithContext(m,b)}sendMessage(m){this.sendMessageWithContext({},m)}start(m,y){let b=null;this.call.start(m,{onReceiveMetadata:O=>{var k;(k=y?.onReceiveMetadata)===null||k===void 0||k.call(y,O)},onReceiveMessage:O=>{var k;let A;try{A=this.methodDefinition.responseDeserialize(O)}catch(M){b={code:t.Status.INTERNAL,details:`Response message parsing error: ${(0,i.getErrorMessage)(M)}`,metadata:new r.Metadata},this.call.cancelWithStatus(b.code,b.details);return}(k=y?.onReceiveMessage)===null||k===void 0||k.call(y,A)},onReceiveStatus:O=>{var k,A;b?(k=y?.onReceiveStatus)===null||k===void 0||k.call(y,b):(A=y?.onReceiveStatus)===null||A===void 0||A.call(y,O)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}getAuthContext(){return this.call.getAuthContext()}}class d extends c{constructor(m,y){super(m,y)}start(m,y){var b,O;let k=!1;const A={onReceiveMetadata:(O=(b=y?.onReceiveMetadata)===null||b===void 0?void 0:b.bind(y))!==null&&O!==void 0?O:(M=>{}),onReceiveMessage:M=>{var F;k=!0,(F=y?.onReceiveMessage)===null||F===void 0||F.call(y,M)},onReceiveStatus:M=>{var F,P;k||(F=y?.onReceiveMessage)===null||F===void 0||F.call(y,null),(P=y?.onReceiveStatus)===null||P===void 0||P.call(y,M)}};super.start(m,A),this.call.startRead()}}class p extends c{}function h(v,m,y){const b=f(v,y.path,m);return y.responseStream?new p(b,y):new d(b,y)}function g(v,m,y,b){if(v.clientInterceptors.length>0&&v.clientInterceptorProviders.length>0)throw new s("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(v.callInterceptors.length>0&&v.callInterceptorProviders.length>0)throw new s("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let O=[];v.callInterceptors.length>0||v.callInterceptorProviders.length>0?O=[].concat(v.callInterceptors,v.callInterceptorProviders.map(M=>M(m))).filter(M=>M):O=[].concat(v.clientInterceptors,v.clientInterceptorProviders.map(M=>M(m))).filter(M=>M);const k=Object.assign({},y,{method_definition:m});return O.reduceRight((M,F)=>P=>F(P,M),M=>h(b,M,m))(k)}return clientInterceptors}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1,Object.defineProperty(client,"__esModule",{value:!0}),client.Client=void 0;const r=requireCall(),e=requireChannel(),t=requireConnectivityState(),i=requireConstants(),s=requireMetadata(),n=requireClientInterceptors(),a=Symbol(),l=Symbol(),u=Symbol(),o=Symbol();function f(p){return typeof p=="function"}function c(p){var h;return((h=p.stack)===null||h===void 0?void 0:h.split(`
`).slice(1).join(`
`))||"no stack trace available"}class d{constructor(h,g,v={}){var m,y;if(v=Object.assign({},v),this[l]=(m=v.interceptors)!==null&&m!==void 0?m:[],delete v.interceptors,this[u]=(y=v.interceptor_providers)!==null&&y!==void 0?y:[],delete v.interceptor_providers,this[l].length>0&&this[u].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[o]=v.callInvocationTransformer,delete v.callInvocationTransformer,v.channelOverride)this[a]=v.channelOverride;else if(v.channelFactoryOverride){const b=v.channelFactoryOverride;delete v.channelFactoryOverride,this[a]=b(h,g,v)}else this[a]=new e.ChannelImplementation(h,g,v)}close(){this[a].close()}getChannel(){return this[a]}waitForReady(h,g){const v=m=>{if(m){g(new Error("Failed to connect before the deadline"));return}let y;try{y=this[a].getConnectivityState(!0)}catch{g(new Error("The channel has been closed"));return}if(y===t.ConnectivityState.READY)g();else try{this[a].watchConnectivityState(y,h,v)}catch{g(new Error("The channel has been closed"))}};setImmediate(v)}checkOptionalUnaryResponseArguments(h,g,v){if(f(h))return{metadata:new s.Metadata,options:{},callback:h};if(f(g))return h instanceof s.Metadata?{metadata:h,options:{},callback:g}:{metadata:new s.Metadata,options:h,callback:g};if(!(h instanceof s.Metadata&&g instanceof Object&&f(v)))throw new Error("Incorrect arguments passed");return{metadata:h,options:g,callback:v}}makeUnaryRequest(h,g,v,m,y,b,O){var k,A;const M=this.checkOptionalUnaryResponseArguments(y,b,O),F={path:h,requestStream:!1,responseStream:!1,requestSerialize:g,responseDeserialize:v};let P={argument:m,metadata:M.metadata,call:new r.ClientUnaryCallImpl,channel:this[a],methodDefinition:F,callOptions:M.options,callback:M.callback};this[o]&&(P=this[o](P));const L=P.call,q={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:(k=P.callOptions.interceptors)!==null&&k!==void 0?k:[],callInterceptorProviders:(A=P.callOptions.interceptor_providers)!==null&&A!==void 0?A:[]},w=(0,n.getInterceptingCall)(q,P.methodDefinition,P.callOptions,P.channel);L.call=w;let N=null,T=!1,_=new Error;return w.start(P.metadata,{onReceiveMetadata:R=>{L.emit("metadata",R)},onReceiveMessage(R){N!==null&&w.cancelWithStatus(i.Status.UNIMPLEMENTED,"Too many responses received"),N=R},onReceiveStatus(R){if(!T){if(T=!0,R.code===i.Status.OK)if(N===null){const E=c(_);P.callback((0,r.callErrorFromStatus)({code:i.Status.UNIMPLEMENTED,details:"No message received",metadata:R.metadata},E))}else P.callback(null,N);else{const E=c(_);P.callback((0,r.callErrorFromStatus)(R,E))}_=null,L.emit("status",R)}}}),w.sendMessage(m),w.halfClose(),L}makeClientStreamRequest(h,g,v,m,y,b){var O,k;const A=this.checkOptionalUnaryResponseArguments(m,y,b),M={path:h,requestStream:!0,responseStream:!1,requestSerialize:g,responseDeserialize:v};let F={metadata:A.metadata,call:new r.ClientWritableStreamImpl(g),channel:this[a],methodDefinition:M,callOptions:A.options,callback:A.callback};this[o]&&(F=this[o](F));const P=F.call,L={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:(O=F.callOptions.interceptors)!==null&&O!==void 0?O:[],callInterceptorProviders:(k=F.callOptions.interceptor_providers)!==null&&k!==void 0?k:[]},q=(0,n.getInterceptingCall)(L,F.methodDefinition,F.callOptions,F.channel);P.call=q;let w=null,N=!1,T=new Error;return q.start(F.metadata,{onReceiveMetadata:_=>{P.emit("metadata",_)},onReceiveMessage(_){w!==null&&q.cancelWithStatus(i.Status.UNIMPLEMENTED,"Too many responses received"),w=_,q.startRead()},onReceiveStatus(_){if(!N){if(N=!0,_.code===i.Status.OK)if(w===null){const R=c(T);F.callback((0,r.callErrorFromStatus)({code:i.Status.UNIMPLEMENTED,details:"No message received",metadata:_.metadata},R))}else F.callback(null,w);else{const R=c(T);F.callback((0,r.callErrorFromStatus)(_,R))}T=null,P.emit("status",_)}}}),P}checkMetadataAndOptions(h,g){let v,m;return h instanceof s.Metadata?(v=h,g?m=g:m={}):(h?m=h:m={},v=new s.Metadata),{metadata:v,options:m}}makeServerStreamRequest(h,g,v,m,y,b){var O,k;const A=this.checkMetadataAndOptions(y,b),M={path:h,requestStream:!1,responseStream:!0,requestSerialize:g,responseDeserialize:v};let F={argument:m,metadata:A.metadata,call:new r.ClientReadableStreamImpl(v),channel:this[a],methodDefinition:M,callOptions:A.options};this[o]&&(F=this[o](F));const P=F.call,L={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:(O=F.callOptions.interceptors)!==null&&O!==void 0?O:[],callInterceptorProviders:(k=F.callOptions.interceptor_providers)!==null&&k!==void 0?k:[]},q=(0,n.getInterceptingCall)(L,F.methodDefinition,F.callOptions,F.channel);P.call=q;let w=!1,N=new Error;return q.start(F.metadata,{onReceiveMetadata(T){P.emit("metadata",T)},onReceiveMessage(T){P.push(T)},onReceiveStatus(T){if(!w){if(w=!0,P.push(null),T.code!==i.Status.OK){const _=c(N);P.emit("error",(0,r.callErrorFromStatus)(T,_))}N=null,P.emit("status",T)}}}),q.sendMessage(m),q.halfClose(),P}makeBidiStreamRequest(h,g,v,m,y){var b,O;const k=this.checkMetadataAndOptions(m,y),A={path:h,requestStream:!0,responseStream:!0,requestSerialize:g,responseDeserialize:v};let M={metadata:k.metadata,call:new r.ClientDuplexStreamImpl(g,v),channel:this[a],methodDefinition:A,callOptions:k.options};this[o]&&(M=this[o](M));const F=M.call,P={clientInterceptors:this[l],clientInterceptorProviders:this[u],callInterceptors:(b=M.callOptions.interceptors)!==null&&b!==void 0?b:[],callInterceptorProviders:(O=M.callOptions.interceptor_providers)!==null&&O!==void 0?O:[]},L=(0,n.getInterceptingCall)(P,M.methodDefinition,M.callOptions,M.channel);F.call=L;let q=!1,w=new Error;return L.start(M.metadata,{onReceiveMetadata(N){F.emit("metadata",N)},onReceiveMessage(N){F.push(N)},onReceiveStatus(N){if(!q){if(q=!0,F.push(null),N.code!==i.Status.OK){const T=c(w);F.emit("error",(0,r.callErrorFromStatus)(N,T))}w=null,F.emit("status",N)}}}),F}}return client.Client=d,client}var hasRequiredMakeClient;function requireMakeClient(){if(hasRequiredMakeClient)return makeClient;hasRequiredMakeClient=1,Object.defineProperty(makeClient,"__esModule",{value:!0}),makeClient.makeClientConstructor=i,makeClient.loadPackageDefinition=a;const r=requireClient(),e={unary:r.Client.prototype.makeUnaryRequest,server_stream:r.Client.prototype.makeServerStreamRequest,client_stream:r.Client.prototype.makeClientStreamRequest,bidi:r.Client.prototype.makeBidiStreamRequest};function t(l){return["__proto__","prototype","constructor"].includes(l)}function i(l,u,o){class f extends r.Client{}return Object.keys(l).forEach(c=>{if(t(c))return;const d=l[c];let p;if(typeof c=="string"&&c.charAt(0)==="$")throw new Error("Method names cannot start with $");d.requestStream?d.responseStream?p="bidi":p="client_stream":d.responseStream?p="server_stream":p="unary";const h=d.requestSerialize,g=d.responseDeserialize,v=s(e[p],d.path,h,g);f.prototype[c]=v,Object.assign(f.prototype[c],d),d.originalName&&!t(d.originalName)&&(f.prototype[d.originalName]=f.prototype[c])}),f.service=l,f.serviceName=u,f}function s(l,u,o,f){return function(...c){return l.call(this,u,o,f,...c)}}function n(l){return"format"in l}function a(l){const u={};for(const o in l)if(Object.prototype.hasOwnProperty.call(l,o)){const f=l[o],c=o.split(".");if(c.some(h=>t(h)))continue;const d=c[c.length-1];let p=u;for(const h of c.slice(0,-1))p[h]||(p[h]={}),p=p[h];n(f)?p[d]=f:p[d]=i(f,d)}return u}return makeClient}var src$1={},lodash_camelcase,hasRequiredLodash_camelcase;function requireLodash_camelcase(){if(hasRequiredLodash_camelcase)return lodash_camelcase;hasRequiredLodash_camelcase=1;var r="[object Symbol]",e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i="\\ud800-\\udfff",s="\\u0300-\\u036f\\ufe20-\\ufe23",n="\\u20d0-\\u20f0",a="\\u2700-\\u27bf",l="a-z\\xdf-\\xf6\\xf8-\\xff",u="\\xac\\xb1\\xd7\\xf7",o="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",f="\\u2000-\\u206f",c=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",d="A-Z\\xc0-\\xd6\\xd8-\\xde",p="\\ufe0e\\ufe0f",h=u+o+f+c,g="['’]",v="["+i+"]",m="["+h+"]",y="["+s+n+"]",b="\\d+",O="["+a+"]",k="["+l+"]",A="[^"+i+h+b+a+l+d+"]",M="\\ud83c[\\udffb-\\udfff]",F="(?:"+y+"|"+M+")",P="[^"+i+"]",L="(?:\\ud83c[\\udde6-\\uddff]){2}",q="[\\ud800-\\udbff][\\udc00-\\udfff]",w="["+d+"]",N="\\u200d",T="(?:"+k+"|"+A+")",_="(?:"+w+"|"+A+")",R="(?:"+g+"(?:d|ll|m|re|s|t|ve))?",E="(?:"+g+"(?:D|LL|M|RE|S|T|VE))?",C=F+"?",S="["+p+"]?",I="(?:"+N+"(?:"+[P,L,q].join("|")+")"+S+C+")*",D=S+C+I,B="(?:"+[O,L,q].join("|")+")"+D,x="(?:"+[P+y+"?",y,L,q,v].join("|")+")",j=RegExp(g,"g"),$=RegExp(y,"g"),W=RegExp(M+"(?="+M+")|"+x+D,"g"),U=RegExp([w+"?"+k+"+"+R+"(?="+[m,w,"$"].join("|")+")",_+"+"+E+"(?="+[m,w+T,"$"].join("|")+")",w+"?"+T+"+"+R,w+"+"+E,b,B].join("|"),"g"),z=RegExp("["+N+i+s+n+p+"]"),X=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,K={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},Y=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,te=typeof self=="object"&&self&&self.Object===Object&&self,re=Y||te||Function("return this")();function se(J,ne,ce,me){for(var pe=-1,Ee=J?J.length:0;++pe<Ee;)ce=ne(ce,J[pe],pe,J);return ce}function ae(J){return J.split("")}function ee(J){return J.match(e)||[]}function oe(J){return function(ne){return J?.[ne]}}var fe=oe(K);function ue(J){return z.test(J)}function _e(J){return X.test(J)}function Ce(J){return ue(J)?Re(J):ae(J)}function Re(J){return J.match(W)||[]}function be(J){return J.match(U)||[]}var we=Object.prototype,ge=we.toString,Se=re.Symbol,ve=Se?Se.prototype:void 0,Te=ve?ve.toString:void 0;function ye(J,ne,ce){var me=-1,pe=J.length;ne<0&&(ne=-ne>pe?0:pe+ne),ce=ce>pe?pe:ce,ce<0&&(ce+=pe),pe=ne>ce?0:ce-ne>>>0,ne>>>=0;for(var Ee=Array(pe);++me<pe;)Ee[me]=J[me+ne];return Ee}function Ie(J){if(typeof J=="string")return J;if(H(J))return Te?Te.call(J):"";var ne=J+"";return ne=="0"&&1/J==-1/0?"-0":ne}function ke(J,ne,ce){var me=J.length;return ce=ce===void 0?me:ce,!ne&&ce>=me?J:ye(J,ne,ce)}function Oe(J){return function(ne){ne=V(ne);var ce=ue(ne)?Ce(ne):void 0,me=ce?ce[0]:ne.charAt(0),pe=ce?ke(ce,1).join(""):ne.slice(1);return me[J]()+pe}}function de(J){return function(ne){return se(he(ie(ne).replace(j,"")),J,"")}}function G(J){return!!J&&typeof J=="object"}function H(J){return typeof J=="symbol"||G(J)&&ge.call(J)==r}function V(J){return J==null?"":Ie(J)}var Q=de(function(J,ne,ce){return ne=ne.toLowerCase(),J+(ce?Z(ne):ne)});function Z(J){return le(V(J).toLowerCase())}function ie(J){return J=V(J),J&&J.replace(t,fe).replace($,"")}var le=Oe("toUpperCase");function he(J,ne,ce){return J=V(J),ne=ne,ne===void 0?_e(J)?be(J):ee(J):J.match(ne)||[]}return lodash_camelcase=Q,lodash_camelcase}var descriptor={exports:{}},src={exports:{}},indexLight={exports:{}},indexMinimal={},minimal={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=r;function r(e,t){for(var i=new Array(arguments.length-1),s=0,n=2,a=!0;n<arguments.length;)i[s++]=arguments[n++];return new Promise(function(u,o){i[s]=function(c){if(a)if(a=!1,c)o(c);else{for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p++]=arguments[p];u.apply(null,d)}};try{e.apply(t||null,i)}catch(f){a&&(a=!1,o(f))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(r){var e=r;e.length=function(l){var u=l.length;if(!u)return 0;for(var o=0;--u%4>1&&l.charAt(u)==="=";)++o;return Math.ceil(l.length*3)/4-o};for(var t=new Array(64),i=new Array(123),s=0;s<64;)i[t[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;e.encode=function(l,u,o){for(var f=null,c=[],d=0,p=0,h;u<o;){var g=l[u++];switch(p){case 0:c[d++]=t[g>>2],h=(g&3)<<4,p=1;break;case 1:c[d++]=t[h|g>>4],h=(g&15)<<2,p=2;break;case 2:c[d++]=t[h|g>>6],c[d++]=t[g&63],p=0;break}d>8191&&((f||(f=[])).push(String.fromCharCode.apply(String,c)),d=0)}return p&&(c[d++]=t[h],c[d++]=61,p===1&&(c[d++]=61)),f?(d&&f.push(String.fromCharCode.apply(String,c.slice(0,d))),f.join("")):String.fromCharCode.apply(String,c.slice(0,d))};var n="invalid encoding";e.decode=function(l,u,o){for(var f=o,c=0,d,p=0;p<l.length;){var h=l.charCodeAt(p++);if(h===61&&c>1)break;if((h=i[h])===void 0)throw Error(n);switch(c){case 0:d=h,c=1;break;case 1:u[o++]=d<<2|(h&48)>>4,d=h,c=2;break;case 2:u[o++]=(d&15)<<4|(h&60)>>2,d=h,c=3;break;case 3:u[o++]=(d&3)<<6|h,c=0;break}}if(c===1)throw Error(n);return o-f},e.test=function(l){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(l)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=r;function r(){this._listeners={}}return r.prototype.on=function(t,i,s){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:i,ctx:s||this}),this},r.prototype.off=function(t,i){if(t===void 0)this._listeners={};else if(i===void 0)this._listeners[t]=[];else for(var s=this._listeners[t],n=0;n<s.length;)s[n].fn===i?s.splice(n,1):++n;return this},r.prototype.emit=function(t){var i=this._listeners[t];if(i){for(var s=[],n=1;n<arguments.length;)s.push(arguments[n++]);for(n=0;n<i.length;)i[n].fn.apply(i[n++].ctx,s)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=r(r);function r(n){return typeof Float32Array<"u"?(function(){var a=new Float32Array([-0]),l=new Uint8Array(a.buffer),u=l[3]===128;function o(p,h,g){a[0]=p,h[g]=l[0],h[g+1]=l[1],h[g+2]=l[2],h[g+3]=l[3]}function f(p,h,g){a[0]=p,h[g]=l[3],h[g+1]=l[2],h[g+2]=l[1],h[g+3]=l[0]}n.writeFloatLE=u?o:f,n.writeFloatBE=u?f:o;function c(p,h){return l[0]=p[h],l[1]=p[h+1],l[2]=p[h+2],l[3]=p[h+3],a[0]}function d(p,h){return l[3]=p[h],l[2]=p[h+1],l[1]=p[h+2],l[0]=p[h+3],a[0]}n.readFloatLE=u?c:d,n.readFloatBE=u?d:c})():(function(){function a(u,o,f,c){var d=o<0?1:0;if(d&&(o=-o),o===0)u(1/o>0?0:2147483648,f,c);else if(isNaN(o))u(2143289344,f,c);else if(o>34028234663852886e22)u((d<<31|2139095040)>>>0,f,c);else if(o<11754943508222875e-54)u((d<<31|Math.round(o/1401298464324817e-60))>>>0,f,c);else{var p=Math.floor(Math.log(o)/Math.LN2),h=Math.round(o*Math.pow(2,-p)*8388608)&8388607;u((d<<31|p+127<<23|h)>>>0,f,c)}}n.writeFloatLE=a.bind(null,e),n.writeFloatBE=a.bind(null,t);function l(u,o,f){var c=u(o,f),d=(c>>31)*2+1,p=c>>>23&255,h=c&8388607;return p===255?h?NaN:d*(1/0):p===0?d*1401298464324817e-60*h:d*Math.pow(2,p-150)*(h+8388608)}n.readFloatLE=l.bind(null,i),n.readFloatBE=l.bind(null,s)})(),typeof Float64Array<"u"?(function(){var a=new Float64Array([-0]),l=new Uint8Array(a.buffer),u=l[7]===128;function o(p,h,g){a[0]=p,h[g]=l[0],h[g+1]=l[1],h[g+2]=l[2],h[g+3]=l[3],h[g+4]=l[4],h[g+5]=l[5],h[g+6]=l[6],h[g+7]=l[7]}function f(p,h,g){a[0]=p,h[g]=l[7],h[g+1]=l[6],h[g+2]=l[5],h[g+3]=l[4],h[g+4]=l[3],h[g+5]=l[2],h[g+6]=l[1],h[g+7]=l[0]}n.writeDoubleLE=u?o:f,n.writeDoubleBE=u?f:o;function c(p,h){return l[0]=p[h],l[1]=p[h+1],l[2]=p[h+2],l[3]=p[h+3],l[4]=p[h+4],l[5]=p[h+5],l[6]=p[h+6],l[7]=p[h+7],a[0]}function d(p,h){return l[7]=p[h],l[6]=p[h+1],l[5]=p[h+2],l[4]=p[h+3],l[3]=p[h+4],l[2]=p[h+5],l[1]=p[h+6],l[0]=p[h+7],a[0]}n.readDoubleLE=u?c:d,n.readDoubleBE=u?d:c})():(function(){function a(u,o,f,c,d,p){var h=c<0?1:0;if(h&&(c=-c),c===0)u(0,d,p+o),u(1/c>0?0:2147483648,d,p+f);else if(isNaN(c))u(0,d,p+o),u(2146959360,d,p+f);else if(c>17976931348623157e292)u(0,d,p+o),u((h<<31|2146435072)>>>0,d,p+f);else{var g;if(c<22250738585072014e-324)g=c/5e-324,u(g>>>0,d,p+o),u((h<<31|g/4294967296)>>>0,d,p+f);else{var v=Math.floor(Math.log(c)/Math.LN2);v===1024&&(v=1023),g=c*Math.pow(2,-v),u(g*4503599627370496>>>0,d,p+o),u((h<<31|v+1023<<20|g*1048576&1048575)>>>0,d,p+f)}}}n.writeDoubleLE=a.bind(null,e,0,4),n.writeDoubleBE=a.bind(null,t,4,0);function l(u,o,f,c,d){var p=u(c,d+o),h=u(c,d+f),g=(h>>31)*2+1,v=h>>>20&2047,m=4294967296*(h&1048575)+p;return v===2047?m?NaN:g*(1/0):v===0?g*5e-324*m:g*Math.pow(2,v-1075)*(m+4503599627370496)}n.readDoubleLE=l.bind(null,i,0,4),n.readDoubleBE=l.bind(null,s,4,0)})(),n}function e(n,a,l){a[l]=n&255,a[l+1]=n>>>8&255,a[l+2]=n>>>16&255,a[l+3]=n>>>24}function t(n,a,l){a[l]=n>>>24,a[l+1]=n>>>16&255,a[l+2]=n>>>8&255,a[l+3]=n&255}function i(n,a){return(n[a]|n[a+1]<<8|n[a+2]<<16|n[a+3]<<24)>>>0}function s(n,a){return(n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(r){var e=r;e.length=function(i){for(var s=0,n=0,a=0;a<i.length;++a)n=i.charCodeAt(a),n<128?s+=1:n<2048?s+=2:(n&64512)===55296&&(i.charCodeAt(a+1)&64512)===56320?(++a,s+=4):s+=3;return s},e.read=function(i,s,n){var a=n-s;if(a<1)return"";for(var l=null,u=[],o=0,f;s<n;)f=i[s++],f<128?u[o++]=f:f>191&&f<224?u[o++]=(f&31)<<6|i[s++]&63:f>239&&f<365?(f=((f&7)<<18|(i[s++]&63)<<12|(i[s++]&63)<<6|i[s++]&63)-65536,u[o++]=55296+(f>>10),u[o++]=56320+(f&1023)):u[o++]=(f&15)<<12|(i[s++]&63)<<6|i[s++]&63,o>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,u)),o=0);return l?(o&&l.push(String.fromCharCode.apply(String,u.slice(0,o))),l.join("")):String.fromCharCode.apply(String,u.slice(0,o))},e.write=function(i,s,n){for(var a=n,l,u,o=0;o<i.length;++o)l=i.charCodeAt(o),l<128?s[n++]=l:l<2048?(s[n++]=l>>6|192,s[n++]=l&63|128):(l&64512)===55296&&((u=i.charCodeAt(o+1))&64512)===56320?(l=65536+((l&1023)<<10)+(u&1023),++o,s[n++]=l>>18|240,s[n++]=l>>12&63|128,s[n++]=l>>6&63|128,s[n++]=l&63|128):(s[n++]=l>>12|224,s[n++]=l>>6&63|128,s[n++]=l&63|128);return n-a}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=r;function r(e,t,i){var s=i||8192,n=s>>>1,a=null,l=s;return function(o){if(o<1||o>n)return e(o);l+o>s&&(a=e(s),l=0);var f=t.call(a,l,l+=o);return l&7&&(l=(l|7)+1),f}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var r=requireMinimal();function e(n,a){this.lo=n>>>0,this.hi=a>>>0}var t=e.zero=new e(0,0);t.toNumber=function(){return 0},t.zzEncode=t.zzDecode=function(){return this},t.length=function(){return 1};var i=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(a){if(a===0)return t;var l=a<0;l&&(a=-a);var u=a>>>0,o=(a-u)/4294967296>>>0;return l&&(o=~o>>>0,u=~u>>>0,++u>4294967295&&(u=0,++o>4294967295&&(o=0))),new e(u,o)},e.from=function(a){if(typeof a=="number")return e.fromNumber(a);if(r.isString(a))if(r.Long)a=r.Long.fromString(a);else return e.fromNumber(parseInt(a,10));return a.low||a.high?new e(a.low>>>0,a.high>>>0):t},e.prototype.toNumber=function(a){if(!a&&this.hi>>>31){var l=~this.lo+1>>>0,u=~this.hi>>>0;return l||(u=u+1>>>0),-(l+u*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(a){return r.Long?new r.Long(this.lo|0,this.hi|0,!!a):{low:this.lo|0,high:this.hi|0,unsigned:!!a}};var s=String.prototype.charCodeAt;return e.fromHash=function(a){return a===i?t:new e((s.call(a,0)|s.call(a,1)<<8|s.call(a,2)<<16|s.call(a,3)<<24)>>>0,(s.call(a,4)|s.call(a,5)<<8|s.call(a,6)<<16|s.call(a,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var a=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^a)>>>0,this.lo=(this.lo<<1^a)>>>0,this},e.prototype.zzDecode=function(){var a=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^a)>>>0,this.hi=(this.hi>>>1^a)>>>0,this},e.prototype.length=function(){var a=this.lo,l=(this.lo>>>28|this.hi<<4)>>>0,u=this.hi>>>24;return u===0?l===0?a<16384?a<128?1:2:a<2097152?3:4:l<16384?l<128?5:6:l<2097152?7:8:u<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,(function(r){var e=r;e.asPromise=requireAspromise(),e.base64=requireBase64(),e.EventEmitter=requireEventemitter(),e.float=requireFloat(),e.inquire=requireInquire(),e.utf8=requireUtf8(),e.pool=requirePool(),e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n},e.isString=function(n){return typeof n=="string"||n instanceof String},e.isObject=function(n){return n&&typeof n=="object"},e.isset=e.isSet=function(n,a){var l=n[a];return l!=null&&n.hasOwnProperty(a)?typeof l!="object"||(Array.isArray(l)?l.length:Object.keys(l).length)>0:!1},e.Buffer=(function(){try{var s=e.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}})(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(n){return typeof n=="number"?e.Buffer?e._Buffer_allocUnsafe(n):new e.Array(n):e.Buffer?e._Buffer_from(n):typeof Uint8Array>"u"?n:new Uint8Array(n)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(n){return n?e.LongBits.from(n).toHash():e.LongBits.zeroHash},e.longFromHash=function(n,a){var l=e.LongBits.fromHash(n);return e.Long?e.Long.fromBits(l.lo,l.hi,a):l.toNumber(!!a)};function t(s,n,a){for(var l=Object.keys(n),u=0;u<l.length;++u)(s[l[u]]===void 0||!a)&&(s[l[u]]=n[l[u]]);return s}e.merge=t,e.lcFirst=function(n){return n.charAt(0).toLowerCase()+n.substring(1)};function i(s){function n(a,l){if(!(this instanceof n))return new n(a,l);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:new Error().stack||""}),l&&t(this,l)}return n.prototype=Object.create(Error.prototype,{constructor:{value:n,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return s},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),n}e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(n){for(var a={},l=0;l<n.length;++l)a[n[l]]=1;return function(){for(var u=Object.keys(this),o=u.length-1;o>-1;--o)if(a[u[o]]===1&&this[u[o]]!==void 0&&this[u[o]]!==null)return u[o]}},e.oneOfSetter=function(n){return function(a){for(var l=0;l<n.length;++l)n[l]!==a&&delete this[n[l]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var s=e.Buffer;if(!s){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=s.from!==Uint8Array.from&&s.from||function(a,l){return new s(a,l)},e._Buffer_allocUnsafe=s.allocUnsafe||function(a){return new s(a)}}})(minimal)),minimal}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=u;var r=requireMinimal(),e,t=r.LongBits,i=r.base64,s=r.utf8;function n(v,m,y){this.fn=v,this.len=m,this.next=void 0,this.val=y}function a(){}function l(v){this.head=v.head,this.tail=v.tail,this.len=v.len,this.next=v.states}function u(){this.len=0,this.head=new n(a,0,0),this.tail=this.head,this.states=null}var o=function(){return r.Buffer?function(){return(u.create=function(){return new e})()}:function(){return new u}};u.create=o(),u.alloc=function(m){return new r.Array(m)},r.Array!==Array&&(u.alloc=r.pool(u.alloc,r.Array.prototype.subarray)),u.prototype._push=function(m,y,b){return this.tail=this.tail.next=new n(m,y,b),this.len+=y,this};function f(v,m,y){m[y]=v&255}function c(v,m,y){for(;v>127;)m[y++]=v&127|128,v>>>=7;m[y]=v}function d(v,m){this.len=v,this.next=void 0,this.val=m}d.prototype=Object.create(n.prototype),d.prototype.fn=c,u.prototype.uint32=function(m){return this.len+=(this.tail=this.tail.next=new d((m=m>>>0)<128?1:m<16384?2:m<2097152?3:m<268435456?4:5,m)).len,this},u.prototype.int32=function(m){return m<0?this._push(p,10,t.fromNumber(m)):this.uint32(m)},u.prototype.sint32=function(m){return this.uint32((m<<1^m>>31)>>>0)};function p(v,m,y){for(;v.hi;)m[y++]=v.lo&127|128,v.lo=(v.lo>>>7|v.hi<<25)>>>0,v.hi>>>=7;for(;v.lo>127;)m[y++]=v.lo&127|128,v.lo=v.lo>>>7;m[y++]=v.lo}u.prototype.uint64=function(m){var y=t.from(m);return this._push(p,y.length(),y)},u.prototype.int64=u.prototype.uint64,u.prototype.sint64=function(m){var y=t.from(m).zzEncode();return this._push(p,y.length(),y)},u.prototype.bool=function(m){return this._push(f,1,m?1:0)};function h(v,m,y){m[y]=v&255,m[y+1]=v>>>8&255,m[y+2]=v>>>16&255,m[y+3]=v>>>24}u.prototype.fixed32=function(m){return this._push(h,4,m>>>0)},u.prototype.sfixed32=u.prototype.fixed32,u.prototype.fixed64=function(m){var y=t.from(m);return this._push(h,4,y.lo)._push(h,4,y.hi)},u.prototype.sfixed64=u.prototype.fixed64,u.prototype.float=function(m){return this._push(r.float.writeFloatLE,4,m)},u.prototype.double=function(m){return this._push(r.float.writeDoubleLE,8,m)};var g=r.Array.prototype.set?function(m,y,b){y.set(m,b)}:function(m,y,b){for(var O=0;O<m.length;++O)y[b+O]=m[O]};return u.prototype.bytes=function(m){var y=m.length>>>0;if(!y)return this._push(f,1,0);if(r.isString(m)){var b=u.alloc(y=i.length(m));i.decode(m,b,0),m=b}return this.uint32(y)._push(g,y,m)},u.prototype.string=function(m){var y=s.length(m);return y?this.uint32(y)._push(s.write,y,m):this._push(f,1,0)},u.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new n(a,0,0),this.len=0,this},u.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new n(a,0,0),this.len=0),this},u.prototype.ldelim=function(){var m=this.head,y=this.tail,b=this.len;return this.reset().uint32(b),b&&(this.tail.next=m.next,this.tail=y,this.len+=b),this},u.prototype.finish=function(){for(var m=this.head.next,y=this.constructor.alloc(this.len),b=0;m;)m.fn(m.val,y,b),b+=m.len,m=m.next;return y},u._configure=function(v){e=v,u.create=o(),e._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=t;var r=requireWriter();(t.prototype=Object.create(r.prototype)).constructor=t;var e=requireMinimal();function t(){r.call(this)}t._configure=function(){t.alloc=e._Buffer_allocUnsafe,t.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&e.Buffer.prototype.set.name==="set"?function(n,a,l){a.set(n,l)}:function(n,a,l){if(n.copy)n.copy(a,l,0,n.length);else for(var u=0;u<n.length;)a[l++]=n[u++]}},t.prototype.bytes=function(n){e.isString(n)&&(n=e._Buffer_from(n,"base64"));var a=n.length>>>0;return this.uint32(a),a&&this._push(t.writeBytesBuffer,a,n),this};function i(s,n,a){s.length<40?e.utf8.write(s,n,a):n.utf8Write?n.utf8Write(s,a):n.write(s,a)}return t.prototype.string=function(n){var a=e.Buffer.byteLength(n);return this.uint32(a),a&&this._push(i,a,n),this},t._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=n;var r=requireMinimal(),e,t=r.LongBits,i=r.utf8;function s(c,d){return RangeError("index out of range: "+c.pos+" + "+(d||1)+" > "+c.len)}function n(c){this.buf=c,this.pos=0,this.len=c.length}var a=typeof Uint8Array<"u"?function(d){if(d instanceof Uint8Array||Array.isArray(d))return new n(d);throw Error("illegal buffer")}:function(d){if(Array.isArray(d))return new n(d);throw Error("illegal buffer")},l=function(){return r.Buffer?function(p){return(n.create=function(g){return r.Buffer.isBuffer(g)?new e(g):a(g)})(p)}:a};n.create=l(),n.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,n.prototype.uint32=(function(){var d=4294967295;return function(){if(d=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(d=(d|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(d=(d|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(d=(d|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(d=(d|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return d;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return d}})(),n.prototype.int32=function(){return this.uint32()|0},n.prototype.sint32=function(){var d=this.uint32();return d>>>1^-(d&1)|0};function u(){var c=new t(0,0),d=0;if(this.len-this.pos>4){for(;d<4;++d)if(c.lo=(c.lo|(this.buf[this.pos]&127)<<d*7)>>>0,this.buf[this.pos++]<128)return c;if(c.lo=(c.lo|(this.buf[this.pos]&127)<<28)>>>0,c.hi=(c.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return c;d=0}else{for(;d<3;++d){if(this.pos>=this.len)throw s(this);if(c.lo=(c.lo|(this.buf[this.pos]&127)<<d*7)>>>0,this.buf[this.pos++]<128)return c}return c.lo=(c.lo|(this.buf[this.pos++]&127)<<d*7)>>>0,c}if(this.len-this.pos>4){for(;d<5;++d)if(c.hi=(c.hi|(this.buf[this.pos]&127)<<d*7+3)>>>0,this.buf[this.pos++]<128)return c}else for(;d<5;++d){if(this.pos>=this.len)throw s(this);if(c.hi=(c.hi|(this.buf[this.pos]&127)<<d*7+3)>>>0,this.buf[this.pos++]<128)return c}throw Error("invalid varint encoding")}n.prototype.bool=function(){return this.uint32()!==0};function o(c,d){return(c[d-4]|c[d-3]<<8|c[d-2]<<16|c[d-1]<<24)>>>0}n.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return o(this.buf,this.pos+=4)},n.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return o(this.buf,this.pos+=4)|0};function f(){if(this.pos+8>this.len)throw s(this,8);return new t(o(this.buf,this.pos+=4),o(this.buf,this.pos+=4))}return n.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var d=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,d},n.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var d=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,d},n.prototype.bytes=function(){var d=this.uint32(),p=this.pos,h=this.pos+d;if(h>this.len)throw s(this,d);if(this.pos+=d,Array.isArray(this.buf))return this.buf.slice(p,h);if(p===h){var g=r.Buffer;return g?g.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,p,h)},n.prototype.string=function(){var d=this.bytes();return i.read(d,0,d.length)},n.prototype.skip=function(d){if(typeof d=="number"){if(this.pos+d>this.len)throw s(this,d);this.pos+=d}else do if(this.pos>=this.len)throw s(this);while(this.buf[this.pos++]&128);return this},n.prototype.skipType=function(c){switch(c){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(c=this.uint32()&7)!==4;)this.skipType(c);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+c+" at offset "+this.pos)}return this},n._configure=function(c){e=c,n.create=l(),e._configure();var d=r.Long?"toLong":"toNumber";r.merge(n.prototype,{int64:function(){return u.call(this)[d](!1)},uint64:function(){return u.call(this)[d](!0)},sint64:function(){return u.call(this).zzDecode()[d](!1)},fixed64:function(){return f.call(this)[d](!0)},sfixed64:function(){return f.call(this)[d](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=t;var r=requireReader();(t.prototype=Object.create(r.prototype)).constructor=t;var e=requireMinimal();function t(i){r.call(this,i)}return t._configure=function(){e.Buffer&&(t.prototype._slice=e.Buffer.prototype.slice)},t.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},t._configure(),reader_buffer}var rpc={},service$1,hasRequiredService$1;function requireService$1(){if(hasRequiredService$1)return service$1;hasRequiredService$1=1,service$1=e;var r=requireMinimal();(e.prototype=Object.create(r.EventEmitter.prototype)).constructor=e;function e(t,i,s){if(typeof t!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!i,this.responseDelimited=!!s}return e.prototype.rpcCall=function t(i,s,n,a,l){if(!a)throw TypeError("request must be specified");var u=this;if(!l)return r.asPromise(t,u,i,s,n,a);if(!u.rpcImpl){setTimeout(function(){l(Error("already ended"))},0);return}try{return u.rpcImpl(i,s[u.requestDelimited?"encodeDelimited":"encode"](a).finish(),function(f,c){if(f)return u.emit("error",f,i),l(f);if(c===null){u.end(!0);return}if(!(c instanceof n))try{c=n[u.responseDelimited?"decodeDelimited":"decode"](c)}catch(d){return u.emit("error",d,i),l(d)}return u.emit("data",c,i),l(null,c)})}catch(o){u.emit("error",o,i),setTimeout(function(){l(o)},0);return}},e.prototype.end=function(i){return this.rpcImpl&&(i||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service$1}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(r){var e=r;e.Service=requireService$1()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(r){var e=r;e.build="minimal",e.Writer=requireWriter(),e.BufferWriter=requireWriter_buffer(),e.Reader=requireReader(),e.BufferReader=requireReader_buffer(),e.util=requireMinimal(),e.rpc=requireRpc(),e.roots=requireRoots(),e.configure=t;function t(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}t()})(indexMinimal)),indexMinimal}var types={},util$1={exports:{}},codegen_1,hasRequiredCodegen;function requireCodegen(){if(hasRequiredCodegen)return codegen_1;hasRequiredCodegen=1,codegen_1=r;function r(e,t){typeof e=="string"&&(t=e,e=void 0);var i=[];function s(a){if(typeof a!="string"){var l=n();if(r.verbose&&console.log("codegen: "+l),l="return "+l,a){for(var u=Object.keys(a),o=new Array(u.length+1),f=new Array(u.length),c=0;c<u.length;)o[c]=u[c],f[c]=a[u[c++]];return o[c]=l,Function.apply(null,o).apply(null,f)}return Function(l)()}for(var d=new Array(arguments.length-1),p=0;p<d.length;)d[p]=arguments[++p];if(p=0,a=a.replace(/%([%dfijs])/g,function(g,v){var m=d[p++];switch(v){case"d":case"f":return String(Number(m));case"i":return String(Math.floor(m));case"j":return JSON.stringify(m);case"s":return String(m)}return"%"}),p!==d.length)throw Error("parameter count mismatch");return i.push(a),s}function n(a){return"function "+(a||t||"")+"("+(e&&e.join(",")||"")+`){
  `+i.join(`
  `)+`
}`}return s.toString=n,s}return r.verbose=!1,codegen_1}var fetch_1,hasRequiredFetch;function requireFetch(){if(hasRequiredFetch)return fetch_1;hasRequiredFetch=1,fetch_1=i;var r=requireAspromise(),e=requireInquire(),t=e("fs");function i(s,n,a){return typeof n=="function"?(a=n,n={}):n||(n={}),a?!n.xhr&&t&&t.readFile?t.readFile(s,function(u,o){return u&&typeof XMLHttpRequest<"u"?i.xhr(s,n,a):u?a(u):a(null,n.binary?o:o.toString("utf8"))}):i.xhr(s,n,a):r(i,this,s,n)}return i.xhr=function(n,a,l){var u=new XMLHttpRequest;u.onreadystatechange=function(){if(u.readyState===4){if(u.status!==0&&u.status!==200)return l(Error("status "+u.status));if(a.binary){var f=u.response;if(!f){f=[];for(var c=0;c<u.responseText.length;++c)f.push(u.responseText.charCodeAt(c)&255)}return l(null,typeof Uint8Array<"u"?new Uint8Array(f):f)}return l(null,u.responseText)}},a.binary&&("overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined"),u.responseType="arraybuffer"),u.open("GET",n),u.send()},fetch_1}var path={},hasRequiredPath;function requirePath(){return hasRequiredPath||(hasRequiredPath=1,(function(r){var e=r,t=e.isAbsolute=function(n){return/^(?:\/|\w+:)/.test(n)},i=e.normalize=function(n){n=n.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var a=n.split("/"),l=t(n),u="";l&&(u=a.shift()+"/");for(var o=0;o<a.length;)a[o]===".."?o>0&&a[o-1]!==".."?a.splice(--o,2):l?a.splice(o,1):++o:a[o]==="."?a.splice(o,1):++o;return u+a.join("/")};e.resolve=function(n,a,l){return l||(a=i(a)),t(a)?a:(l||(n=i(n)),(n=n.replace(/(?:\/|^)[^/]+$/,"")).length?i(n+"/"+a):a)}})(path)),path}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=u;var r=requireObject();((u.prototype=Object.create(r.prototype)).constructor=u).className="Namespace";var e=requireField(),t=requireUtil$1(),i=requireOneof(),s,n,a;u.fromJSON=function(c,d){return new u(c,d.options).addJSON(d.nested)};function l(f,c){if(f&&f.length){for(var d={},p=0;p<f.length;++p)d[f[p].name]=f[p].toJSON(c);return d}}u.arrayToJSON=l,u.isReservedId=function(c,d){if(c){for(var p=0;p<c.length;++p)if(typeof c[p]!="string"&&c[p][0]<=d&&c[p][1]>d)return!0}return!1},u.isReservedName=function(c,d){if(c){for(var p=0;p<c.length;++p)if(c[p]===d)return!0}return!1};function u(f,c){r.call(this,f,c),this.nested=void 0,this._nestedArray=null,this._lookupCache={},this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0}function o(f){f._nestedArray=null,f._lookupCache={};for(var c=f;c=c.parent;)c._lookupCache={};return f}return Object.defineProperty(u.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=t.toArray(this.nested))}}),u.prototype.toJSON=function(c){return t.toObject(["options",this.options,"nested",l(this.nestedArray,c)])},u.prototype.addJSON=function(c){var d=this;if(c)for(var p=Object.keys(c),h=0,g;h<p.length;++h)g=c[p[h]],d.add((g.fields!==void 0?s.fromJSON:g.values!==void 0?a.fromJSON:g.methods!==void 0?n.fromJSON:g.id!==void 0?e.fromJSON:u.fromJSON)(p[h],g));return this},u.prototype.get=function(c){return this.nested&&this.nested[c]||null},u.prototype.getEnum=function(c){if(this.nested&&this.nested[c]instanceof a)return this.nested[c].values;throw Error("no such enum: "+c)},u.prototype.add=function(c){if(!(c instanceof e&&c.extend!==void 0||c instanceof s||c instanceof i||c instanceof a||c instanceof n||c instanceof u))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var d=this.get(c.name);if(d)if(d instanceof u&&c instanceof u&&!(d instanceof s||d instanceof n)){for(var p=d.nestedArray,h=0;h<p.length;++h)c.add(p[h]);this.remove(d),this.nested||(this.nested={}),c.setOptions(d.options,!0)}else throw Error("duplicate name '"+c.name+"' in "+this)}this.nested[c.name]=c,this instanceof s||this instanceof n||this instanceof a||this instanceof e||c._edition||(c._edition=c._defaultEdition),this._needsRecursiveFeatureResolution=!0,this._needsRecursiveResolve=!0;for(var g=this;g=g.parent;)g._needsRecursiveFeatureResolution=!0,g._needsRecursiveResolve=!0;return c.onAdd(this),o(this)},u.prototype.remove=function(c){if(!(c instanceof r))throw TypeError("object must be a ReflectionObject");if(c.parent!==this)throw Error(c+" is not a member of "+this);return delete this.nested[c.name],Object.keys(this.nested).length||(this.nested=void 0),c.onRemove(this),o(this)},u.prototype.define=function(c,d){if(t.isString(c))c=c.split(".");else if(!Array.isArray(c))throw TypeError("illegal path");if(c&&c.length&&c[0]==="")throw Error("path must be relative");for(var p=this;c.length>0;){var h=c.shift();if(p.nested&&p.nested[h]){if(p=p.nested[h],!(p instanceof u))throw Error("path conflicts with non-namespace objects")}else p.add(p=new u(h))}return d&&p.addJSON(d),p},u.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;this._resolveFeaturesRecursive(this._edition);var c=this.nestedArray,d=0;for(this.resolve();d<c.length;)c[d]instanceof u?c[d++].resolveAll():c[d++].resolve();return this._needsRecursiveResolve=!1,this},u.prototype._resolveFeaturesRecursive=function(c){return this._needsRecursiveFeatureResolution?(this._needsRecursiveFeatureResolution=!1,c=this._edition||c,r.prototype._resolveFeaturesRecursive.call(this,c),this.nestedArray.forEach(d=>{d._resolveFeaturesRecursive(c)}),this):this},u.prototype.lookup=function(c,d,p){if(typeof d=="boolean"?(p=d,d=void 0):d&&!Array.isArray(d)&&(d=[d]),t.isString(c)&&c.length){if(c===".")return this.root;c=c.split(".")}else if(!c.length)return this;var h=c.join(".");if(c[0]==="")return this.root.lookup(c.slice(1),d);var g=this.root._fullyQualifiedObjects&&this.root._fullyQualifiedObjects["."+h];if(g&&(!d||d.indexOf(g.constructor)>-1)||(g=this._lookupImpl(c,h),g&&(!d||d.indexOf(g.constructor)>-1)))return g;if(p)return null;for(var v=this;v.parent;){if(g=v.parent._lookupImpl(c,h),g&&(!d||d.indexOf(g.constructor)>-1))return g;v=v.parent}return null},u.prototype._lookupImpl=function(c,d){if(Object.prototype.hasOwnProperty.call(this._lookupCache,d))return this._lookupCache[d];var p=this.get(c[0]),h=null;if(p)c.length===1?h=p:p instanceof u&&(c=c.slice(1),h=p._lookupImpl(c,c.join(".")));else for(var g=0;g<this.nestedArray.length;++g)this._nestedArray[g]instanceof u&&(p=this._nestedArray[g]._lookupImpl(c,d))&&(h=p);return this._lookupCache[d]=h,h},u.prototype.lookupType=function(c){var d=this.lookup(c,[s]);if(!d)throw Error("no such type: "+c);return d},u.prototype.lookupEnum=function(c){var d=this.lookup(c,[a]);if(!d)throw Error("no such Enum '"+c+"' in "+this);return d},u.prototype.lookupTypeOrEnum=function(c){var d=this.lookup(c,[s,a]);if(!d)throw Error("no such Type or Enum '"+c+"' in "+this);return d},u.prototype.lookupService=function(c){var d=this.lookup(c,[n]);if(!d)throw Error("no such Service '"+c+"' in "+this);return d},u._configure=function(f,c,d){s=f,n=c,a=d},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=i;var r=requireField();((i.prototype=Object.create(r.prototype)).constructor=i).className="MapField";var e=requireTypes(),t=requireUtil$1();function i(s,n,a,l,u,o){if(r.call(this,s,n,l,void 0,void 0,u,o),!t.isString(a))throw TypeError("keyType must be a string");this.keyType=a,this.resolvedKeyType=null,this.map=!0}return i.fromJSON=function(n,a){return new i(n,a.id,a.keyType,a.type,a.options,a.comment)},i.prototype.toJSON=function(n){var a=n?!!n.keepComments:!1;return t.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",a?this.comment:void 0])},i.prototype.resolve=function(){if(this.resolved)return this;if(e.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return r.prototype.resolve.call(this)},i.d=function(n,a,l){return typeof l=="function"?l=t.decorateType(l).name:l&&typeof l=="object"&&(l=t.decorateEnum(l).name),function(o,f){t.decorateType(o.constructor).add(new i(f,n,a,l))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=t;var r=requireObject();((t.prototype=Object.create(r.prototype)).constructor=t).className="Method";var e=requireUtil$1();function t(i,s,n,a,l,u,o,f,c){if(e.isObject(l)?(o=l,l=u=void 0):e.isObject(u)&&(o=u,u=void 0),!(s===void 0||e.isString(s)))throw TypeError("type must be a string");if(!e.isString(n))throw TypeError("requestType must be a string");if(!e.isString(a))throw TypeError("responseType must be a string");r.call(this,i,o),this.type=s||"rpc",this.requestType=n,this.requestStream=l?!0:void 0,this.responseType=a,this.responseStream=u?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=f,this.parsedOptions=c}return t.fromJSON=function(s,n){return new t(s,n.type,n.requestType,n.responseType,n.requestStream,n.responseStream,n.options,n.comment,n.parsedOptions)},t.prototype.toJSON=function(s){var n=s?!!s.keepComments:!1;return e.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",n?this.comment:void 0,"parsedOptions",this.parsedOptions])},t.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),r.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=s;var r=requireNamespace();((s.prototype=Object.create(r.prototype)).constructor=s).className="Service";var e=requireMethod(),t=requireUtil$1(),i=requireRpc();function s(a,l){r.call(this,a,l),this.methods={},this._methodsArray=null}s.fromJSON=function(l,u){var o=new s(l,u.options);if(u.methods)for(var f=Object.keys(u.methods),c=0;c<f.length;++c)o.add(e.fromJSON(f[c],u.methods[f[c]]));return u.nested&&o.addJSON(u.nested),u.edition&&(o._edition=u.edition),o.comment=u.comment,o._defaultEdition="proto3",o},s.prototype.toJSON=function(l){var u=r.prototype.toJSON.call(this,l),o=l?!!l.keepComments:!1;return t.toObject(["edition",this._editionToJSON(),"options",u&&u.options||void 0,"methods",r.arrayToJSON(this.methodsArray,l)||{},"nested",u&&u.nested||void 0,"comment",o?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=t.toArray(this.methods))}});function n(a){return a._methodsArray=null,a}return s.prototype.get=function(l){return this.methods[l]||r.prototype.get.call(this,l)},s.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;r.prototype.resolve.call(this);for(var l=this.methodsArray,u=0;u<l.length;++u)l[u].resolve();return this},s.prototype._resolveFeaturesRecursive=function(l){return this._needsRecursiveFeatureResolution?(l=this._edition||l,r.prototype._resolveFeaturesRecursive.call(this,l),this.methodsArray.forEach(u=>{u._resolveFeaturesRecursive(l)}),this):this},s.prototype.add=function(l){if(this.get(l.name))throw Error("duplicate name '"+l.name+"' in "+this);return l instanceof e?(this.methods[l.name]=l,l.parent=this,n(this)):r.prototype.add.call(this,l)},s.prototype.remove=function(l){if(l instanceof e){if(this.methods[l.name]!==l)throw Error(l+" is not a member of "+this);return delete this.methods[l.name],l.parent=null,n(this)}return r.prototype.remove.call(this,l)},s.prototype.create=function(l,u,o){for(var f=new i.Service(l,u,o),c=0,d;c<this.methodsArray.length;++c){var p=t.lcFirst((d=this._methodsArray[c]).resolve().name).replace(/[^$\w_]/g,"");f[p]=t.codegen(["r","c"],t.isReserved(p)?p+"_":p)("return this.rpcCall(m,q,s,r,c)")({m:d,q:d.resolvedRequestType.ctor,s:d.resolvedResponseType.ctor})}return f},service}var message,hasRequiredMessage;function requireMessage(){if(hasRequiredMessage)return message;hasRequiredMessage=1,message=e;var r=requireMinimal();function e(t){if(t)for(var i=Object.keys(t),s=0;s<i.length;++s)this[i[s]]=t[i[s]]}return e.create=function(i){return this.$type.create(i)},e.encode=function(i,s){return this.$type.encode(i,s)},e.encodeDelimited=function(i,s){return this.$type.encodeDelimited(i,s)},e.decode=function(i){return this.$type.decode(i)},e.decodeDelimited=function(i){return this.$type.decodeDelimited(i)},e.verify=function(i){return this.$type.verify(i)},e.fromObject=function(i){return this.$type.fromObject(i)},e.toObject=function(i,s){return this.$type.toObject(i,s)},e.prototype.toJSON=function(){return this.$type.toObject(this,r.toJSONOptions)},message}var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=s;var r=require_enum(),e=requireTypes(),t=requireUtil$1();function i(n){return"missing required '"+n.name+"'"}function s(n){for(var a=t.codegen(["r","l","e"],n.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(n.fieldsArray.filter(function(d){return d.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()")("if(t===e)")("break")("switch(t>>>3){"),l=0;l<n.fieldsArray.length;++l){var u=n._fieldsArray[l].resolve(),o=u.resolvedType instanceof r?"int32":u.type,f="m"+t.safeProp(u.name);a("case %i: {",u.id),u.map?(a("if(%s===util.emptyObject)",f)("%s={}",f)("var c2 = r.uint32()+r.pos"),e.defaults[u.keyType]!==void 0?a("k=%j",e.defaults[u.keyType]):a("k=null"),e.defaults[o]!==void 0?a("value=%j",e.defaults[o]):a("value=null"),a("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",u.keyType)("case 2:"),e.basic[o]===void 0?a("value=types[%i].decode(r,r.uint32())",l):a("value=r.%s()",o),a("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),e.long[u.keyType]!==void 0?a('%s[typeof k==="object"?util.longToHash(k):k]=value',f):a("%s[k]=value",f)):u.repeated?(a("if(!(%s&&%s.length))",f,f)("%s=[]",f),e.packed[o]!==void 0&&a("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",f,o)("}else"),e.basic[o]===void 0?a(u.delimited?"%s.push(types[%i].decode(r,undefined,((t&~7)|4)))":"%s.push(types[%i].decode(r,r.uint32()))",f,l):a("%s.push(r.%s())",f,o)):e.basic[o]===void 0?a(u.delimited?"%s=types[%i].decode(r,undefined,((t&~7)|4))":"%s=types[%i].decode(r,r.uint32())",f,l):a("%s=r.%s()",f,o),a("break")("}")}for(a("default:")("r.skipType(t&7)")("break")("}")("}"),l=0;l<n._fieldsArray.length;++l){var c=n._fieldsArray[l];c.required&&a("if(!m.hasOwnProperty(%j))",c.name)("throw util.ProtocolError(%j,{instance:m})",i(c))}return a("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=n;var r=require_enum(),e=requireUtil$1();function t(a,l){return a.name+": "+l+(a.repeated&&l!=="array"?"[]":a.map&&l!=="object"?"{k:"+a.keyType+"}":"")+" expected"}function i(a,l,u,o){if(l.resolvedType)if(l.resolvedType instanceof r){a("switch(%s){",o)("default:")("return%j",t(l,"enum value"));for(var f=Object.keys(l.resolvedType.values),c=0;c<f.length;++c)a("case %i:",l.resolvedType.values[f[c]]);a("break")("}")}else a("{")("var e=types[%i].verify(%s);",u,o)("if(e)")("return%j+e",l.name+".")("}");else switch(l.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.isInteger(%s))",o)("return%j",t(l,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",t(l,"integer|Long"));break;case"float":case"double":a('if(typeof %s!=="number")',o)("return%j",t(l,"number"));break;case"bool":a('if(typeof %s!=="boolean")',o)("return%j",t(l,"boolean"));break;case"string":a("if(!util.isString(%s))",o)("return%j",t(l,"string"));break;case"bytes":a('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",t(l,"buffer"));break}return a}function s(a,l,u){switch(l.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":a("if(!util.key32Re.test(%s))",u)("return%j",t(l,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":a("if(!util.key64Re.test(%s))",u)("return%j",t(l,"integer|Long key"));break;case"bool":a("if(!util.key2Re.test(%s))",u)("return%j",t(l,"boolean key"));break}return a}function n(a){var l=e.codegen(["m"],a.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),u=a.oneofsArray,o={};u.length&&l("var p={}");for(var f=0;f<a.fieldsArray.length;++f){var c=a._fieldsArray[f].resolve(),d="m"+e.safeProp(c.name);if(c.optional&&l("if(%s!=null&&m.hasOwnProperty(%j)){",d,c.name),c.map)l("if(!util.isObject(%s))",d)("return%j",t(c,"object"))("var k=Object.keys(%s)",d)("for(var i=0;i<k.length;++i){"),s(l,c,"k[i]"),i(l,c,f,d+"[k[i]]")("}");else if(c.repeated)l("if(!Array.isArray(%s))",d)("return%j",t(c,"array"))("for(var i=0;i<%s.length;++i){",d),i(l,c,f,d+"[i]")("}");else{if(c.partOf){var p=e.safeProp(c.partOf.name);o[c.partOf.name]===1&&l("if(p%s===1)",p)("return%j",c.partOf.name+": multiple values"),o[c.partOf.name]=1,l("p%s=1",p)}i(l,c,f,d)}c.optional&&l("}")}return l("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,(function(r){var e=r,t=require_enum(),i=requireUtil$1();function s(a,l,u,o){var f=!1;if(l.resolvedType)if(l.resolvedType instanceof t){a("switch(d%s){",o);for(var c=l.resolvedType.values,d=Object.keys(c),p=0;p<d.length;++p)c[d[p]]===l.typeDefault&&!f&&(a("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',o,o,o),l.repeated||a("break"),f=!0),a("case%j:",d[p])("case %i:",c[d[p]])("m%s=%j",o,c[d[p]])("break");a("}")}else a('if(typeof d%s!=="object")',o)("throw TypeError(%j)",l.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",o,u,o);else{var h=!1;switch(l.type){case"double":case"float":a("m%s=Number(d%s)",o,o);break;case"uint32":case"fixed32":a("m%s=d%s>>>0",o,o);break;case"int32":case"sint32":case"sfixed32":a("m%s=d%s|0",o,o);break;case"uint64":h=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",o,o,h)('else if(typeof d%s==="string")',o)("m%s=parseInt(d%s,10)",o,o)('else if(typeof d%s==="number")',o)("m%s=d%s",o,o)('else if(typeof d%s==="object")',o)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",o,o,o,h?"true":"");break;case"bytes":a('if(typeof d%s==="string")',o)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",o,o,o)("else if(d%s.length >= 0)",o)("m%s=d%s",o,o);break;case"string":a("m%s=String(d%s)",o,o);break;case"bool":a("m%s=Boolean(d%s)",o,o);break}}return a}e.fromObject=function(l){var u=l.fieldsArray,o=i.codegen(["d"],l.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!u.length)return o("return new this.ctor");o("var m=new this.ctor");for(var f=0;f<u.length;++f){var c=u[f].resolve(),d=i.safeProp(c.name);c.map?(o("if(d%s){",d)('if(typeof d%s!=="object")',d)("throw TypeError(%j)",c.fullName+": object expected")("m%s={}",d)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",d),s(o,c,f,d+"[ks[i]]")("}")("}")):c.repeated?(o("if(d%s){",d)("if(!Array.isArray(d%s))",d)("throw TypeError(%j)",c.fullName+": array expected")("m%s=[]",d)("for(var i=0;i<d%s.length;++i){",d),s(o,c,f,d+"[i]")("}")("}")):(c.resolvedType instanceof t||o("if(d%s!=null){",d),s(o,c,f,d),c.resolvedType instanceof t||o("}"))}return o("return m")};function n(a,l,u,o){if(l.resolvedType)l.resolvedType instanceof t?a("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",o,u,o,o,u,o,o):a("d%s=types[%i].toObject(m%s,o)",o,u,o);else{var f=!1;switch(l.type){case"double":case"float":a("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",o,o,o,o);break;case"uint64":f=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a('if(typeof m%s==="number")',o)("d%s=o.longs===String?String(m%s):m%s",o,o,o)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",o,o,o,o,f?"true":"",o);break;case"bytes":a("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",o,o,o,o,o);break;default:a("d%s=m%s",o,o);break}}return a}e.toObject=function(l){var u=l.fieldsArray.slice().sort(i.compareFieldsById);if(!u.length)return i.codegen()("return {}");for(var o=i.codegen(["m","o"],l.name+"$toObject")("if(!o)")("o={}")("var d={}"),f=[],c=[],d=[],p=0;p<u.length;++p)u[p].partOf||(u[p].resolve().repeated?f:u[p].map?c:d).push(u[p]);if(f.length){for(o("if(o.arrays||o.defaults){"),p=0;p<f.length;++p)o("d%s=[]",i.safeProp(f[p].name));o("}")}if(c.length){for(o("if(o.objects||o.defaults){"),p=0;p<c.length;++p)o("d%s={}",i.safeProp(c[p].name));o("}")}if(d.length){for(o("if(o.defaults){"),p=0;p<d.length;++p){var h=d[p],g=i.safeProp(h.name);if(h.resolvedType instanceof t)o("d%s=o.enums===String?%j:%j",g,h.resolvedType.valuesById[h.typeDefault],h.typeDefault);else if(h.long)o("if(util.Long){")("var n=new util.Long(%i,%i,%j)",h.typeDefault.low,h.typeDefault.high,h.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",g)("}else")("d%s=o.longs===String?%j:%i",g,h.typeDefault.toString(),h.typeDefault.toNumber());else if(h.bytes){var v="["+Array.prototype.slice.call(h.typeDefault).join(",")+"]";o("if(o.bytes===String)d%s=%j",g,String.fromCharCode.apply(String,h.typeDefault))("else{")("d%s=%s",g,v)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",g,g)("}")}else o("d%s=%j",g,h.typeDefault)}o("}")}var m=!1;for(p=0;p<u.length;++p){var h=u[p],y=l._fieldsArray.indexOf(h),g=i.safeProp(h.name);h.map?(m||(m=!0,o("var ks2")),o("if(m%s&&(ks2=Object.keys(m%s)).length){",g,g)("d%s={}",g)("for(var j=0;j<ks2.length;++j){"),n(o,h,y,g+"[ks2[j]]")("}")):h.repeated?(o("if(m%s&&m%s.length){",g,g)("d%s=[]",g)("for(var j=0;j<m%s.length;++j){",g),n(o,h,y,g+"[j]")("}")):(o("if(m%s!=null&&m.hasOwnProperty(%j)){",g,h.name),n(o,h,y,g),h.partOf&&o("if(o.oneofs)")("d%s=%j",i.safeProp(h.partOf.name),h.name)),o("}")}return o("return d")}})(converter)),converter}var wrappers={},hasRequiredWrappers;function requireWrappers(){return hasRequiredWrappers||(hasRequiredWrappers=1,(function(r){var e=r,t=requireMessage();e[".google.protobuf.Any"]={fromObject:function(i){if(i&&i["@type"]){var s=i["@type"].substring(i["@type"].lastIndexOf("/")+1),n=this.lookup(s);if(n){var a=i["@type"].charAt(0)==="."?i["@type"].slice(1):i["@type"];return a.indexOf("/")===-1&&(a="/"+a),this.create({type_url:a,value:n.encode(n.fromObject(i)).finish()})}}return this.fromObject(i)},toObject:function(i,s){var n="type.googleapis.com/",a="",l="";if(s&&s.json&&i.type_url&&i.value){l=i.type_url.substring(i.type_url.lastIndexOf("/")+1),a=i.type_url.substring(0,i.type_url.lastIndexOf("/")+1);var u=this.lookup(l);u&&(i=u.decode(i.value))}if(!(i instanceof this.ctor)&&i instanceof t){var o=i.$type.toObject(i,s),f=i.$type.fullName[0]==="."?i.$type.fullName.slice(1):i.$type.fullName;return a===""&&(a=n),l=a+f,o["@type"]=l,o}return this.toObject(i,s)}}})(wrappers)),wrappers}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=g;var r=requireNamespace();((g.prototype=Object.create(r.prototype)).constructor=g).className="Type";var e=require_enum(),t=requireOneof(),i=requireField(),s=requireMapfield(),n=requireService(),a=requireMessage(),l=requireReader(),u=requireWriter(),o=requireUtil$1(),f=requireEncoder(),c=requireDecoder(),d=requireVerifier(),p=requireConverter(),h=requireWrappers();function g(m,y){r.call(this,m,y),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var m=Object.keys(this.fields),y=0;y<m.length;++y){var b=this.fields[m[y]],O=b.id;if(this._fieldsById[O])throw Error("duplicate id "+O+" in "+this);this._fieldsById[O]=b}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=o.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=o.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g.generateConstructor(this)())},set:function(m){var y=m.prototype;y instanceof a||((m.prototype=new a).constructor=m,o.merge(m.prototype,y)),m.$type=m.prototype.$type=this,o.merge(m,a,!0),this._ctor=m;for(var b=0;b<this.fieldsArray.length;++b)this._fieldsArray[b].resolve();var O={};for(b=0;b<this.oneofsArray.length;++b)O[this._oneofsArray[b].resolve().name]={get:o.oneOfGetter(this._oneofsArray[b].oneof),set:o.oneOfSetter(this._oneofsArray[b].oneof)};b&&Object.defineProperties(m.prototype,O)}}}),g.generateConstructor=function(y){for(var b=o.codegen(["p"],y.name),O=0,k;O<y.fieldsArray.length;++O)(k=y._fieldsArray[O]).map?b("this%s={}",o.safeProp(k.name)):k.repeated&&b("this%s=[]",o.safeProp(k.name));return b("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function v(m){return m._fieldsById=m._fieldsArray=m._oneofsArray=null,delete m.encode,delete m.decode,delete m.verify,m}return g.fromJSON=function(y,b){var O=new g(y,b.options);O.extensions=b.extensions,O.reserved=b.reserved;for(var k=Object.keys(b.fields),A=0;A<k.length;++A)O.add((typeof b.fields[k[A]].keyType<"u"?s.fromJSON:i.fromJSON)(k[A],b.fields[k[A]]));if(b.oneofs)for(k=Object.keys(b.oneofs),A=0;A<k.length;++A)O.add(t.fromJSON(k[A],b.oneofs[k[A]]));if(b.nested)for(k=Object.keys(b.nested),A=0;A<k.length;++A){var M=b.nested[k[A]];O.add((M.id!==void 0?i.fromJSON:M.fields!==void 0?g.fromJSON:M.values!==void 0?e.fromJSON:M.methods!==void 0?n.fromJSON:r.fromJSON)(k[A],M))}return b.extensions&&b.extensions.length&&(O.extensions=b.extensions),b.reserved&&b.reserved.length&&(O.reserved=b.reserved),b.group&&(O.group=!0),b.comment&&(O.comment=b.comment),b.edition&&(O._edition=b.edition),O._defaultEdition="proto3",O},g.prototype.toJSON=function(y){var b=r.prototype.toJSON.call(this,y),O=y?!!y.keepComments:!1;return o.toObject(["edition",this._editionToJSON(),"options",b&&b.options||void 0,"oneofs",r.arrayToJSON(this.oneofsArray,y),"fields",r.arrayToJSON(this.fieldsArray.filter(function(k){return!k.declaringField}),y)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",b&&b.nested||void 0,"comment",O?this.comment:void 0])},g.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;r.prototype.resolveAll.call(this);var y=this.oneofsArray;for(O=0;O<y.length;)y[O++].resolve();for(var b=this.fieldsArray,O=0;O<b.length;)b[O++].resolve();return this},g.prototype._resolveFeaturesRecursive=function(y){return this._needsRecursiveFeatureResolution?(y=this._edition||y,r.prototype._resolveFeaturesRecursive.call(this,y),this.oneofsArray.forEach(b=>{b._resolveFeatures(y)}),this.fieldsArray.forEach(b=>{b._resolveFeatures(y)}),this):this},g.prototype.get=function(y){return this.fields[y]||this.oneofs&&this.oneofs[y]||this.nested&&this.nested[y]||null},g.prototype.add=function(y){if(this.get(y.name))throw Error("duplicate name '"+y.name+"' in "+this);if(y instanceof i&&y.extend===void 0){if(this._fieldsById?this._fieldsById[y.id]:this.fieldsById[y.id])throw Error("duplicate id "+y.id+" in "+this);if(this.isReservedId(y.id))throw Error("id "+y.id+" is reserved in "+this);if(this.isReservedName(y.name))throw Error("name '"+y.name+"' is reserved in "+this);return y.parent&&y.parent.remove(y),this.fields[y.name]=y,y.message=this,y.onAdd(this),v(this)}return y instanceof t?(this.oneofs||(this.oneofs={}),this.oneofs[y.name]=y,y.onAdd(this),v(this)):r.prototype.add.call(this,y)},g.prototype.remove=function(y){if(y instanceof i&&y.extend===void 0){if(!this.fields||this.fields[y.name]!==y)throw Error(y+" is not a member of "+this);return delete this.fields[y.name],y.parent=null,y.onRemove(this),v(this)}if(y instanceof t){if(!this.oneofs||this.oneofs[y.name]!==y)throw Error(y+" is not a member of "+this);return delete this.oneofs[y.name],y.parent=null,y.onRemove(this),v(this)}return r.prototype.remove.call(this,y)},g.prototype.isReservedId=function(y){return r.isReservedId(this.reserved,y)},g.prototype.isReservedName=function(y){return r.isReservedName(this.reserved,y)},g.prototype.create=function(y){return new this.ctor(y)},g.prototype.setup=function(){for(var y=this.fullName,b=[],O=0;O<this.fieldsArray.length;++O)b.push(this._fieldsArray[O].resolve().resolvedType);this.encode=f(this)({Writer:u,types:b,util:o}),this.decode=c(this)({Reader:l,types:b,util:o}),this.verify=d(this)({types:b,util:o}),this.fromObject=p.fromObject(this)({types:b,util:o}),this.toObject=p.toObject(this)({types:b,util:o});var k=h[y];if(k){var A=Object.create(this);A.fromObject=this.fromObject,this.fromObject=k.fromObject.bind(A),A.toObject=this.toObject,this.toObject=k.toObject.bind(A)}return this},g.prototype.encode=function(y,b){return this.setup().encode(y,b)},g.prototype.encodeDelimited=function(y,b){return this.encode(y,b&&b.len?b.fork():b).ldelim()},g.prototype.decode=function(y,b){return this.setup().decode(y,b)},g.prototype.decodeDelimited=function(y){return y instanceof l||(y=l.create(y)),this.decode(y,y.uint32())},g.prototype.verify=function(y){return this.setup().verify(y)},g.prototype.fromObject=function(y){return this.setup().fromObject(y)},g.prototype.toObject=function(y,b){return this.setup().toObject(y,b)},g.d=function(y){return function(O){o.decorateType(O,y)}},type}var root,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root;hasRequiredRoot=1,root=u;var r=requireNamespace();((u.prototype=Object.create(r.prototype)).constructor=u).className="Root";var e=requireField(),t=require_enum(),i=requireOneof(),s=requireUtil$1(),n,a,l;function u(d){r.call(this,"",d),this.deferred=[],this.files=[],this._edition="proto2",this._fullyQualifiedObjects={}}u.fromJSON=function(p,h){return h||(h=new u),p.options&&h.setOptions(p.options),h.addJSON(p.nested).resolveAll()},u.prototype.resolvePath=s.path.resolve,u.prototype.fetch=s.fetch;function o(){}u.prototype.load=function d(p,h,g){typeof h=="function"&&(g=h,h=void 0);var v=this;if(!g)return s.asPromise(d,v,p,h);var m=g===o;function y(P,L){if(g){if(m)throw P;L&&L.resolveAll();var q=g;g=null,q(P,L)}}function b(P){var L=P.lastIndexOf("google/protobuf/");if(L>-1){var q=P.substring(L);if(q in l)return q}return null}function O(P,L){try{if(s.isString(L)&&L.charAt(0)==="{"&&(L=JSON.parse(L)),!s.isString(L))v.setOptions(L.options).addJSON(L.nested);else{a.filename=P;var q=a(L,v,h),w,N=0;if(q.imports)for(;N<q.imports.length;++N)(w=b(q.imports[N])||v.resolvePath(P,q.imports[N]))&&k(w);if(q.weakImports)for(N=0;N<q.weakImports.length;++N)(w=b(q.weakImports[N])||v.resolvePath(P,q.weakImports[N]))&&k(w,!0)}}catch(T){y(T)}!m&&!A&&y(null,v)}function k(P,L){if(P=b(P)||P,!(v.files.indexOf(P)>-1)){if(v.files.push(P),P in l){m?O(P,l[P]):(++A,setTimeout(function(){--A,O(P,l[P])}));return}if(m){var q;try{q=s.fs.readFileSync(P).toString("utf8")}catch(w){L||y(w);return}O(P,q)}else++A,v.fetch(P,function(w,N){if(--A,!!g){if(w){L?A||y(null,v):y(w);return}O(P,N)}})}}var A=0;s.isString(p)&&(p=[p]);for(var M=0,F;M<p.length;++M)(F=v.resolvePath("",p[M]))&&k(F);return m?(v.resolveAll(),v):(A||y(null,v),v)},u.prototype.loadSync=function(p,h){if(!s.isNode)throw Error("not supported");return this.load(p,h,o)},u.prototype.resolveAll=function(){if(!this._needsRecursiveResolve)return this;if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(p){return"'extend "+p.extend+"' in "+p.parent.fullName}).join(", "));return r.prototype.resolveAll.call(this)};var f=/^[A-Z]/;function c(d,p){var h=p.parent.lookup(p.extend);if(h){var g=new e(p.fullName,p.id,p.type,p.rule,void 0,p.options);return h.get(g.name)||(g.declaringField=p,p.extensionField=g,h.add(g)),!0}return!1}return u.prototype._handleAdd=function(p){if(p instanceof e)p.extend!==void 0&&!p.extensionField&&(c(this,p)||this.deferred.push(p));else if(p instanceof t)f.test(p.name)&&(p.parent[p.name]=p.values);else if(!(p instanceof i)){if(p instanceof n)for(var h=0;h<this.deferred.length;)c(this,this.deferred[h])?this.deferred.splice(h,1):++h;for(var g=0;g<p.nestedArray.length;++g)this._handleAdd(p._nestedArray[g]);f.test(p.name)&&(p.parent[p.name]=p)}(p instanceof n||p instanceof t||p instanceof e)&&(this._fullyQualifiedObjects[p.fullName]=p)},u.prototype._handleRemove=function(p){if(p instanceof e){if(p.extend!==void 0)if(p.extensionField)p.extensionField.parent.remove(p.extensionField),p.extensionField=null;else{var h=this.deferred.indexOf(p);h>-1&&this.deferred.splice(h,1)}}else if(p instanceof t)f.test(p.name)&&delete p.parent[p.name];else if(p instanceof r){for(var g=0;g<p.nestedArray.length;++g)this._handleRemove(p._nestedArray[g]);f.test(p.name)&&delete p.parent[p.name]}delete this._fullyQualifiedObjects[p.fullName]},u._configure=function(d,p,h){n=d,a=p,l=h},root}var hasRequiredUtil$1;function requireUtil$1(){if(hasRequiredUtil$1)return util$1.exports;hasRequiredUtil$1=1;var r=util$1.exports=requireMinimal(),e=requireRoots(),t,i;r.codegen=requireCodegen(),r.fetch=requireFetch(),r.path=requirePath(),r.fs=r.inquire("fs"),r.toArray=function(o){if(o){for(var f=Object.keys(o),c=new Array(f.length),d=0;d<f.length;)c[d]=o[f[d++]];return c}return[]},r.toObject=function(o){for(var f={},c=0;c<o.length;){var d=o[c++],p=o[c++];p!==void 0&&(f[d]=p)}return f};var s=/\\/g,n=/"/g;r.isReserved=function(o){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(o)},r.safeProp=function(o){return!/^[$\w_]+$/.test(o)||r.isReserved(o)?'["'+o.replace(s,"\\\\").replace(n,'\\"')+'"]':"."+o},r.ucFirst=function(o){return o.charAt(0).toUpperCase()+o.substring(1)};var a=/_([a-z])/g;r.camelCase=function(o){return o.substring(0,1)+o.substring(1).replace(a,function(f,c){return c.toUpperCase()})},r.compareFieldsById=function(o,f){return o.id-f.id},r.decorateType=function(o,f){if(o.$type)return f&&o.$type.name!==f&&(r.decorateRoot.remove(o.$type),o.$type.name=f,r.decorateRoot.add(o.$type)),o.$type;t||(t=requireType());var c=new t(f||o.name);return r.decorateRoot.add(c),c.ctor=o,Object.defineProperty(o,"$type",{value:c,enumerable:!1}),Object.defineProperty(o.prototype,"$type",{value:c,enumerable:!1}),c};var l=0;return r.decorateEnum=function(o){if(o.$type)return o.$type;i||(i=require_enum());var f=new i("Enum"+l++,o);return r.decorateRoot.add(f),Object.defineProperty(o,"$type",{value:f,enumerable:!1}),f},r.setProperty=function(o,f,c,d){function p(h,g,v){var m=g.shift();if(m==="__proto__"||m==="prototype")return h;if(g.length>0)h[m]=p(h[m]||{},g,v);else{var y=h[m];if(y&&d)return h;y&&(v=[].concat(y).concat(v)),h[m]=v}return h}if(typeof o!="object")throw TypeError("dst must be an object");if(!f)throw TypeError("path must be specified");return f=f.split("."),p(o,f,c)},Object.defineProperty(r,"decorateRoot",{get:function(){return e.decorated||(e.decorated=new(requireRoot()))}}),util$1.exports}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(r){var e=r,t=requireUtil$1(),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(n,a){var l=0,u={};for(a|=0;l<n.length;)u[i[l+a]]=n[l++];return u}e.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),e.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",t.emptyArray,null]),e.long=s([0,0,0,1,1],7),e.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),e.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])})(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=a;var r=requireObject();((a.prototype=Object.create(r.prototype)).constructor=a).className="Field";var e=require_enum(),t=requireTypes(),i=requireUtil$1(),s,n=/^required|optional|repeated$/;a.fromJSON=function(u,o){var f=new a(u,o.id,o.type,o.rule,o.extend,o.options,o.comment);return o.edition&&(f._edition=o.edition),f._defaultEdition="proto3",f};function a(l,u,o,f,c,d,p){if(i.isObject(f)?(p=c,d=f,f=c=void 0):i.isObject(c)&&(p=d,d=c,c=void 0),r.call(this,l,d),!i.isInteger(u)||u<0)throw TypeError("id must be a non-negative integer");if(!i.isString(o))throw TypeError("type must be a string");if(f!==void 0&&!n.test(f=f.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(c!==void 0&&!i.isString(c))throw TypeError("extend must be a string");f==="proto3_optional"&&(f="optional"),this.rule=f&&f!=="optional"?f:void 0,this.type=o,this.id=u,this.extend=c||void 0,this.repeated=f==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=i.Long?t.long[o]!==void 0:!1,this.bytes=o==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.comment=p}return Object.defineProperty(a.prototype,"required",{get:function(){return this._features.field_presence==="LEGACY_REQUIRED"}}),Object.defineProperty(a.prototype,"optional",{get:function(){return!this.required}}),Object.defineProperty(a.prototype,"delimited",{get:function(){return this.resolvedType instanceof s&&this._features.message_encoding==="DELIMITED"}}),Object.defineProperty(a.prototype,"packed",{get:function(){return this._features.repeated_field_encoding==="PACKED"}}),Object.defineProperty(a.prototype,"hasPresence",{get:function(){return this.repeated||this.map?!1:this.partOf||this.declaringField||this.extensionField||this._features.field_presence!=="IMPLICIT"}}),a.prototype.setOption=function(u,o,f){return r.prototype.setOption.call(this,u,o,f)},a.prototype.toJSON=function(u){var o=u?!!u.keepComments:!1;return i.toObject(["edition",this._editionToJSON(),"rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",o?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=t.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof s?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof e)&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=i.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var u;i.base64.test(this.typeDefault)?i.base64.decode(this.typeDefault,u=i.newBuffer(i.base64.length(this.typeDefault)),0):i.utf8.write(this.typeDefault,u=i.newBuffer(i.utf8.length(this.typeDefault)),0),this.typeDefault=u}return this.map?this.defaultValue=i.emptyObject:this.repeated?this.defaultValue=i.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof s&&(this.parent.ctor.prototype[this.name]=this.defaultValue),r.prototype.resolve.call(this)},a.prototype._inferLegacyProtoFeatures=function(u){if(u!=="proto2"&&u!=="proto3")return{};var o={};if(this.rule==="required"&&(o.field_presence="LEGACY_REQUIRED"),this.parent&&t.defaults[this.type]===void 0){var f=this.parent.get(this.type.split(".").pop());f&&f instanceof s&&f.group&&(o.message_encoding="DELIMITED")}return this.getOption("packed")===!0?o.repeated_field_encoding="PACKED":this.getOption("packed")===!1&&(o.repeated_field_encoding="EXPANDED"),o},a.prototype._resolveFeatures=function(u){return r.prototype._resolveFeatures.call(this,this._edition||u)},a.d=function(u,o,f,c){return typeof o=="function"?o=i.decorateType(o).name:o&&typeof o=="object"&&(o=i.decorateEnum(o).name),function(p,h){i.decorateType(p.constructor).add(new a(h,u,o,f,{default:c}))}},a._configure=function(u){s=u},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=i;var r=requireObject();((i.prototype=Object.create(r.prototype)).constructor=i).className="OneOf";var e=requireField(),t=requireUtil$1();function i(n,a,l,u){if(Array.isArray(a)||(l=a,a=void 0),r.call(this,n,l),!(a===void 0||Array.isArray(a)))throw TypeError("fieldNames must be an Array");this.oneof=a||[],this.fieldsArray=[],this.comment=u}i.fromJSON=function(a,l){return new i(a,l.oneof,l.options,l.comment)},i.prototype.toJSON=function(a){var l=a?!!a.keepComments:!1;return t.toObject(["options",this.options,"oneof",this.oneof,"comment",l?this.comment:void 0])};function s(n){if(n.parent)for(var a=0;a<n.fieldsArray.length;++a)n.fieldsArray[a].parent||n.parent.add(n.fieldsArray[a])}return i.prototype.add=function(a){if(!(a instanceof e))throw TypeError("field must be a Field");return a.parent&&a.parent!==this.parent&&a.parent.remove(a),this.oneof.push(a.name),this.fieldsArray.push(a),a.partOf=this,s(this),this},i.prototype.remove=function(a){if(!(a instanceof e))throw TypeError("field must be a Field");var l=this.fieldsArray.indexOf(a);if(l<0)throw Error(a+" is not a member of "+this);return this.fieldsArray.splice(l,1),l=this.oneof.indexOf(a.name),l>-1&&this.oneof.splice(l,1),a.partOf=null,this},i.prototype.onAdd=function(a){r.prototype.onAdd.call(this,a);for(var l=this,u=0;u<this.oneof.length;++u){var o=a.get(this.oneof[u]);o&&!o.partOf&&(o.partOf=l,l.fieldsArray.push(o))}s(this)},i.prototype.onRemove=function(a){for(var l=0,u;l<this.fieldsArray.length;++l)(u=this.fieldsArray[l]).parent&&u.parent.remove(u);r.prototype.onRemove.call(this,a)},Object.defineProperty(i.prototype,"isProto3Optional",{get:function(){if(this.fieldsArray==null||this.fieldsArray.length!==1)return!1;var n=this.fieldsArray[0];return n.options!=null&&n.options.proto3_optional===!0}}),i.d=function(){for(var a=new Array(arguments.length),l=0;l<arguments.length;)a[l]=arguments[l++];return function(o,f){t.decorateType(o.constructor).add(new i(f,a)),Object.defineProperty(o,f,{get:t.oneOfGetter(a),set:t.oneOfSetter(a)})}},oneof}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=a,a.className="ReflectionObject";const r=requireOneof();var e=requireUtil$1(),t,i={enum_type:"OPEN",field_presence:"EXPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"},s={enum_type:"CLOSED",field_presence:"EXPLICIT",json_format:"LEGACY_BEST_EFFORT",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"EXPANDED",utf8_validation:"NONE"},n={enum_type:"OPEN",field_presence:"IMPLICIT",json_format:"ALLOW",message_encoding:"LENGTH_PREFIXED",repeated_field_encoding:"PACKED",utf8_validation:"VERIFY"};function a(l,u){if(!e.isString(l))throw TypeError("name must be a string");if(u&&!e.isObject(u))throw TypeError("options must be an object");this.options=u,this.parsedOptions=null,this.name=l,this._edition=null,this._defaultEdition="proto2",this._features={},this._featuresResolved=!1,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(a.prototype,{root:{get:function(){for(var l=this;l.parent!==null;)l=l.parent;return l}},fullName:{get:function(){for(var l=[this.name],u=this.parent;u;)l.unshift(u.name),u=u.parent;return l.join(".")}}}),a.prototype.toJSON=function(){throw Error()},a.prototype.onAdd=function(u){this.parent&&this.parent!==u&&this.parent.remove(this),this.parent=u,this.resolved=!1;var o=u.root;o instanceof t&&o._handleAdd(this)},a.prototype.onRemove=function(u){var o=u.root;o instanceof t&&o._handleRemove(this),this.parent=null,this.resolved=!1},a.prototype.resolve=function(){return this.resolved?this:(this.root instanceof t&&(this.resolved=!0),this)},a.prototype._resolveFeaturesRecursive=function(u){return this._resolveFeatures(this._edition||u)},a.prototype._resolveFeatures=function(u){if(!this._featuresResolved){var o={};if(!u)throw new Error("Unknown edition for "+this.fullName);var f=Object.assign(this.options?Object.assign({},this.options.features):{},this._inferLegacyProtoFeatures(u));if(this._edition){if(u==="proto2")o=Object.assign({},s);else if(u==="proto3")o=Object.assign({},n);else if(u==="2023")o=Object.assign({},i);else throw new Error("Unknown edition: "+u);this._features=Object.assign(o,f||{}),this._featuresResolved=!0;return}if(this.partOf instanceof r){var c=Object.assign({},this.partOf._features);this._features=Object.assign(c,f||{})}else if(!this.declaringField)if(this.parent){var d=Object.assign({},this.parent._features);this._features=Object.assign(d,f||{})}else throw new Error("Unable to find a parent for "+this.fullName);this.extensionField&&(this.extensionField._features=this._features),this._featuresResolved=!0}},a.prototype._inferLegacyProtoFeatures=function(){return{}},a.prototype.getOption=function(u){if(this.options)return this.options[u]},a.prototype.setOption=function(u,o,f){return this.options||(this.options={}),/^features\./.test(u)?e.setProperty(this.options,u,o,f):(!f||this.options[u]===void 0)&&(this.getOption(u)!==o&&(this.resolved=!1),this.options[u]=o),this},a.prototype.setParsedOption=function(u,o,f){this.parsedOptions||(this.parsedOptions=[]);var c=this.parsedOptions;if(f){var d=c.find(function(g){return Object.prototype.hasOwnProperty.call(g,u)});if(d){var p=d[u];e.setProperty(p,f,o)}else d={},d[u]=e.setProperty({},f,o),c.push(d)}else{var h={};h[u]=o,c.push(h)}return this},a.prototype.setOptions=function(u,o){if(u)for(var f=Object.keys(u),c=0;c<f.length;++c)this.setOption(f[c],u[f[c]],o);return this},a.prototype.toString=function(){var u=this.constructor.className,o=this.fullName;return o.length?u+" "+o:u},a.prototype._editionToJSON=function(){if(!(!this._edition||this._edition==="proto3"))return this._edition},a._configure=function(l){t=l},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=i;var r=requireObject();((i.prototype=Object.create(r.prototype)).constructor=i).className="Enum";var e=requireNamespace(),t=requireUtil$1();function i(s,n,a,l,u,o){if(r.call(this,s,a),n&&typeof n!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=l,this.comments=u||{},this.valuesOptions=o,this._valuesFeatures={},this.reserved=void 0,n)for(var f=Object.keys(n),c=0;c<f.length;++c)typeof n[f[c]]=="number"&&(this.valuesById[this.values[f[c]]=n[f[c]]]=f[c])}return i.prototype._resolveFeatures=function(n){return n=this._edition||n,r.prototype._resolveFeatures.call(this,n),Object.keys(this.values).forEach(a=>{var l=Object.assign({},this._features);this._valuesFeatures[a]=Object.assign(l,this.valuesOptions&&this.valuesOptions[a]&&this.valuesOptions[a].features)}),this},i.fromJSON=function(n,a){var l=new i(n,a.values,a.options,a.comment,a.comments);return l.reserved=a.reserved,a.edition&&(l._edition=a.edition),l._defaultEdition="proto3",l},i.prototype.toJSON=function(n){var a=n?!!n.keepComments:!1;return t.toObject(["edition",this._editionToJSON(),"options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",a?this.comment:void 0,"comments",a?this.comments:void 0])},i.prototype.add=function(n,a,l,u){if(!t.isString(n))throw TypeError("name must be a string");if(!t.isInteger(a))throw TypeError("id must be an integer");if(this.values[n]!==void 0)throw Error("duplicate name '"+n+"' in "+this);if(this.isReservedId(a))throw Error("id "+a+" is reserved in "+this);if(this.isReservedName(n))throw Error("name '"+n+"' is reserved in "+this);if(this.valuesById[a]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+a+" in "+this);this.values[n]=a}else this.valuesById[this.values[n]=a]=n;return u&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[n]=u||null),this.comments[n]=l||null,this},i.prototype.remove=function(n){if(!t.isString(n))throw TypeError("name must be a string");var a=this.values[n];if(a==null)throw Error("name '"+n+"' does not exist in "+this);return delete this.valuesById[a],delete this.values[n],delete this.comments[n],this.valuesOptions&&delete this.valuesOptions[n],this},i.prototype.isReservedId=function(n){return e.isReservedId(this.reserved,n)},i.prototype.isReservedName=function(n){return e.isReservedName(this.reserved,n)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=s;var r=require_enum(),e=requireTypes(),t=requireUtil$1();function i(n,a,l,u){return a.delimited?n("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",l,u,(a.id<<3|3)>>>0,(a.id<<3|4)>>>0):n("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",l,u,(a.id<<3|2)>>>0)}function s(n){for(var a=t.codegen(["m","w"],n.name+"$encode")("if(!w)")("w=Writer.create()"),l,u,o=n.fieldsArray.slice().sort(t.compareFieldsById),l=0;l<o.length;++l){var f=o[l].resolve(),c=n._fieldsArray.indexOf(f),d=f.resolvedType instanceof r?"int32":f.type,p=e.basic[d];u="m"+t.safeProp(f.name),f.map?(a("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",u,f.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",u)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(f.id<<3|2)>>>0,8|e.mapKey[f.keyType],f.keyType),p===void 0?a("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",c,u):a(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,d,u),a("}")("}")):f.repeated?(a("if(%s!=null&&%s.length){",u,u),f.packed&&e.packed[d]!==void 0?a("w.uint32(%i).fork()",(f.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",u)("w.%s(%s[i])",d,u)("w.ldelim()"):(a("for(var i=0;i<%s.length;++i)",u),p===void 0?i(a,f,c,u+"[i]"):a("w.uint32(%i).%s(%s[i])",(f.id<<3|p)>>>0,d,u)),a("}")):(f.optional&&a("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",u,f.name),p===void 0?i(a,f,c,u):a("w.uint32(%i).%s(%s)",(f.id<<3|p)>>>0,d,u))}return a("return w")}return encoder_1}var hasRequiredIndexLight;function requireIndexLight(){if(hasRequiredIndexLight)return indexLight.exports;hasRequiredIndexLight=1;var r=indexLight.exports=requireIndexMinimal();r.build="light";function e(i,s,n){return typeof s=="function"?(n=s,s=new r.Root):s||(s=new r.Root),s.load(i,n)}r.load=e;function t(i,s){return s||(s=new r.Root),s.loadSync(i)}return r.loadSync=t,r.encoder=requireEncoder(),r.decoder=requireDecoder(),r.verifier=requireVerifier(),r.converter=requireConverter(),r.ReflectionObject=requireObject(),r.Namespace=requireNamespace(),r.Root=requireRoot(),r.Enum=require_enum(),r.Type=requireType(),r.Field=requireField(),r.OneOf=requireOneof(),r.MapField=requireMapfield(),r.Service=requireService(),r.Method=requireMethod(),r.Message=requireMessage(),r.wrappers=requireWrappers(),r.types=requireTypes(),r.util=requireUtil$1(),r.ReflectionObject._configure(r.Root),r.Namespace._configure(r.Type,r.Service,r.Enum),r.Root._configure(r.Type),r.Field._configure(r.Type),indexLight.exports}var tokenize_1,hasRequiredTokenize;function requireTokenize(){if(hasRequiredTokenize)return tokenize_1;hasRequiredTokenize=1,tokenize_1=f;var r=/[\s{}=;:[\],'"()<>]/g,e=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,t=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,n=/\n/g,a=/\s/,l=/\\(.?)/g,u={0:"\0",r:"\r",n:`
`,t:"	"};function o(c){return c.replace(l,function(d,p){switch(p){case"\\":case"":return p;default:return u[p]||""}})}f.unescape=o;function f(c,d){c=c.toString();var p=0,h=c.length,g=1,v=0,m={},y=[],b=null;function O(_){return Error("illegal "+_+" (line "+g+")")}function k(){var _=b==="'"?t:e;_.lastIndex=p-1;var R=_.exec(c);if(!R)throw O("string");return p=_.lastIndex,q(b),b=null,o(R[1])}function A(_){return c.charAt(_)}function M(_,R,E){var C={type:c.charAt(_++),lineEmpty:!1,leading:E},S;d?S=2:S=3;var I=_-S,D;do if(--I<0||(D=c.charAt(I))===`
`){C.lineEmpty=!0;break}while(D===" "||D==="	");for(var B=c.substring(_,R).split(n),x=0;x<B.length;++x)B[x]=B[x].replace(d?s:i,"").trim();C.text=B.join(`
`).trim(),m[g]=C,v=g}function F(_){var R=P(_),E=c.substring(_,R),C=/^\s*\/\//.test(E);return C}function P(_){for(var R=_;R<h&&A(R)!==`
`;)R++;return R}function L(){if(y.length>0)return y.shift();if(b)return k();var _,R,E,C,S,I=p===0;do{if(p===h)return null;for(_=!1;a.test(E=A(p));)if(E===`
`&&(I=!0,++g),++p===h)return null;if(A(p)==="/"){if(++p===h)throw O("comment");if(A(p)==="/")if(d){if(C=p,S=!1,F(p-1)){S=!0;do if(p=P(p),p===h||(p++,!I))break;while(F(p))}else p=Math.min(h,P(p)+1);S&&(M(C,p,I),I=!0),g++,_=!0}else{for(S=A(C=p+1)==="/";A(++p)!==`
`;)if(p===h)return null;++p,S&&(M(C,p-1,I),I=!0),++g,_=!0}else if((E=A(p))==="*"){C=p+1,S=d||A(C)==="*";do{if(E===`
`&&++g,++p===h)throw O("comment");R=E,E=A(p)}while(R!=="*"||E!=="/");++p,S&&(M(C,p-2,I),I=!0),_=!0}else return"/"}}while(_);var D=p;r.lastIndex=0;var B=r.test(A(D++));if(!B)for(;D<h&&!r.test(A(D));)++D;var x=c.substring(p,p=D);return(x==='"'||x==="'")&&(b=x),x}function q(_){y.push(_)}function w(){if(!y.length){var _=L();if(_===null)return null;q(_)}return y[0]}function N(_,R){var E=w(),C=E===_;if(C)return L(),!0;if(!R)throw O("token '"+E+"', '"+_+"' expected");return!1}function T(_){var R=null,E;return _===void 0?(E=m[g-1],delete m[g-1],E&&(d||E.type==="*"||E.lineEmpty)&&(R=E.leading?E.text:null)):(v<_&&w(),E=m[_],delete m[_],E&&!E.lineEmpty&&(d||E.type==="/")&&(R=E.leading?null:E.text)),R}return Object.defineProperty({next:L,peek:w,push:q,skip:N,cmnt:T},"line",{get:function(){return g}})}return tokenize_1}var parse_1,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse_1;hasRequiredParse=1,parse_1=k,k.filename=null,k.defaults={keepCase:!1};var r=requireTokenize(),e=requireRoot(),t=requireType(),i=requireField(),s=requireMapfield(),n=requireOneof(),a=require_enum(),l=requireService(),u=requireMethod(),o=requireObject(),f=requireTypes(),c=requireUtil$1(),d=/^[1-9][0-9]*$/,p=/^-?[1-9][0-9]*$/,h=/^0[x][0-9a-fA-F]+$/,g=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,m=/^-?0[0-7]+$/,y=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,b=/^[a-zA-Z_][a-zA-Z_0-9]*$/,O=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/;function k(A,M,F){M instanceof e||(F=M,M=new e),F||(F=k.defaults);var P=F.preferTrailingComment||!1,L=r(A,F.alternateCommentMode||!1),q=L.next,w=L.push,N=L.peek,T=L.skip,_=L.cmnt,R=!0,E,C,S,I="proto2",D=M,B=[],x={},j=F.keepCase?function(G){return G}:c.camelCase;function $(){B.forEach(G=>{G._edition=I,Object.keys(x).forEach(H=>{G.getOption(H)===void 0&&G.setOption(H,x[H],!0)})})}function W(G,H,V){var Q=k.filename;return V||(k.filename=null),Error("illegal "+(H||"token")+" '"+G+"' ("+(Q?Q+", ":"")+"line "+L.line+")")}function U(){var G=[],H;do{if((H=q())!=='"'&&H!=="'")throw W(H);G.push(q()),T(H),H=N()}while(H==='"'||H==="'");return G.join("")}function z(G){var H=q();switch(H){case"'":case'"':return w(H),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return K(H,!0)}catch{if(O.test(H))return H;throw W(H,"value")}}function X(G,H){var V,Q;do if(H&&((V=N())==='"'||V==="'")){var Z=U();if(G.push(Z),I>=2023)throw W(Z,"id")}else try{G.push([Q=Y(q()),T("to",!0)?Y(q()):Q])}catch(le){if(H&&O.test(V)&&I>=2023)G.push(V);else throw le}while(T(",",!0));var ie={options:void 0};ie.setOption=function(le,he){this.options===void 0&&(this.options={}),this.options[le]=he},oe(ie,function(he){if(he==="option")ge(ie,he),T(";");else throw W(he)},function(){ye(ie)})}function K(G,H){var V=1;switch(G.charAt(0)==="-"&&(V=-1,G=G.substring(1)),G){case"inf":case"INF":case"Inf":return V*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(d.test(G))return V*parseInt(G,10);if(h.test(G))return V*parseInt(G,16);if(v.test(G))return V*parseInt(G,8);if(y.test(G))return V*parseFloat(G);throw W(G,"number",H)}function Y(G,H){switch(G){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!H&&G.charAt(0)==="-")throw W(G,"id");if(p.test(G))return parseInt(G,10);if(g.test(G))return parseInt(G,16);if(m.test(G))return parseInt(G,8);throw W(G,"id")}function te(){if(E!==void 0)throw W("package");if(E=q(),!O.test(E))throw W(E,"name");D=D.define(E),T(";")}function re(){var G=N(),H;switch(G){case"weak":H=S||(S=[]),q();break;case"public":q();default:H=C||(C=[]);break}G=U(),T(";"),H.push(G)}function se(){if(T("="),I=U(),I<2023)throw W(I,"syntax");T(";")}function ae(){if(T("="),I=U(),!["2023"].includes(I))throw W(I,"edition");T(";")}function ee(G,H){switch(H){case"option":return ge(G,H),T(";"),!0;case"message":return fe(G,H),!0;case"enum":return be(G,H),!0;case"service":return Ie(G,H),!0;case"extend":return Oe(G,H),!0}return!1}function oe(G,H,V){var Q=L.line;if(G&&(typeof G.comment!="string"&&(G.comment=_()),G.filename=k.filename),T("{",!0)){for(var Z;(Z=q())!=="}";)H(Z);T(";",!0)}else V&&V(),T(";"),G&&(typeof G.comment!="string"||P)&&(G.comment=_(Q)||G.comment)}function fe(G,H){if(!b.test(H=q()))throw W(H,"type name");var V=new t(H);oe(V,function(Z){if(!ee(V,Z))switch(Z){case"map":Ce(V);break;case"required":if(I!=="proto2")throw W(Z);case"repeated":ue(V,Z);break;case"optional":if(I==="proto3")ue(V,"proto3_optional");else{if(I!=="proto2")throw W(Z);ue(V,"optional")}break;case"oneof":Re(V,Z);break;case"extensions":X(V.extensions||(V.extensions=[]));break;case"reserved":X(V.reserved||(V.reserved=[]),!0);break;default:if(I==="proto2"||!O.test(Z))throw W(Z);w(Z),ue(V,"optional");break}}),G.add(V),G===D&&B.push(V)}function ue(G,H,V){var Q=q();if(Q==="group"){_e(G,H);return}for(;Q.endsWith(".")||N().startsWith(".");)Q+=q();if(!O.test(Q))throw W(Q,"type");var Z=q();if(!b.test(Z))throw W(Z,"name");Z=j(Z),T("=");var ie=new i(Z,Y(q()),Q,H,V);if(oe(ie,function(J){if(J==="option")ge(ie,J),T(";");else throw W(J)},function(){ye(ie)}),H==="proto3_optional"){var le=new n("_"+Z);ie.setOption("proto3_optional",!0),le.add(ie),G.add(le)}else G.add(ie);G===D&&B.push(ie)}function _e(G,H){if(I>=2023)throw W("group");var V=q();if(!b.test(V))throw W(V,"name");var Q=c.lcFirst(V);V===Q&&(V=c.ucFirst(V)),T("=");var Z=Y(q()),ie=new t(V);ie.group=!0;var le=new i(Q,Z,V,H);le.filename=k.filename,oe(ie,function(J){switch(J){case"option":ge(ie,J),T(";");break;case"required":case"repeated":ue(ie,J);break;case"optional":I==="proto3"?ue(ie,"proto3_optional"):ue(ie,"optional");break;case"message":fe(ie,J);break;case"enum":be(ie,J);break;case"reserved":X(ie.reserved||(ie.reserved=[]),!0);break;default:throw W(J)}}),G.add(ie).add(le)}function Ce(G){T("<");var H=q();if(f.mapKey[H]===void 0)throw W(H,"type");T(",");var V=q();if(!O.test(V))throw W(V,"type");T(">");var Q=q();if(!b.test(Q))throw W(Q,"name");T("=");var Z=new s(j(Q),Y(q()),H,V);oe(Z,function(le){if(le==="option")ge(Z,le),T(";");else throw W(le)},function(){ye(Z)}),G.add(Z)}function Re(G,H){if(!b.test(H=q()))throw W(H,"name");var V=new n(j(H));oe(V,function(Z){Z==="option"?(ge(V,Z),T(";")):(w(Z),ue(V,"optional"))}),G.add(V)}function be(G,H){if(!b.test(H=q()))throw W(H,"name");var V=new a(H);oe(V,function(Z){switch(Z){case"option":ge(V,Z),T(";");break;case"reserved":X(V.reserved||(V.reserved=[]),!0),V.reserved===void 0&&(V.reserved=[]);break;default:we(V,Z)}}),G.add(V),G===D&&B.push(V)}function we(G,H){if(!b.test(H))throw W(H,"name");T("=");var V=Y(q(),!0),Q={options:void 0};Q.getOption=function(Z){return this.options[Z]},Q.setOption=function(Z,ie){o.prototype.setOption.call(Q,Z,ie)},Q.setParsedOption=function(){},oe(Q,function(ie){if(ie==="option")ge(Q,ie),T(";");else throw W(ie)},function(){ye(Q)}),G.add(H,V,Q.comment,Q.parsedOptions||Q.options)}function ge(G,H){var V,Q,Z=!0;for(H==="option"&&(H=q());H!=="=";){if(H==="("){var ie=q();T(")"),H="("+ie+")"}if(Z){if(Z=!1,H.includes(".")&&!H.includes("(")){var le=H.split(".");V=le[0]+".",H=le[1];continue}V=H}else Q=Q?Q+=H:H;H=q()}var he=Q?V.concat(Q):V,J=Se(G,he);Q=Q&&Q[0]==="."?Q.slice(1):Q,V=V&&V[V.length-1]==="."?V.slice(0,-1):V,Te(G,V,J,Q)}function Se(G,H){if(T("{",!0)){for(var V={};!T("}",!0);){if(!b.test(de=q()))throw W(de,"name");if(de===null)throw W(de,"end of input");var Q,Z=de;if(T(":",!0),N()==="{")Q=Se(G,H+"."+de);else if(N()==="["){Q=[];var ie;if(T("[",!0)){do ie=z(),Q.push(ie);while(T(",",!0));T("]"),typeof ie<"u"&&ve(G,H+"."+de,ie)}}else Q=z(),ve(G,H+"."+de,Q);var le=V[Z];le&&(Q=[].concat(le).concat(Q)),V[Z]=Q,T(",",!0),T(";",!0)}return V}var he=z();return ve(G,H,he),he}function ve(G,H,V){if(D===G&&/^features\./.test(H)){x[H]=V;return}G.setOption&&G.setOption(H,V)}function Te(G,H,V,Q){G.setParsedOption&&G.setParsedOption(H,V,Q)}function ye(G){if(T("[",!0)){do ge(G,"option");while(T(",",!0));T("]")}return G}function Ie(G,H){if(!b.test(H=q()))throw W(H,"service name");var V=new l(H);oe(V,function(Z){if(!ee(V,Z))if(Z==="rpc")ke(V,Z);else throw W(Z)}),G.add(V),G===D&&B.push(V)}function ke(G,H){var V=_(),Q=H;if(!b.test(H=q()))throw W(H,"name");var Z=H,ie,le,he,J;if(T("("),T("stream",!0)&&(le=!0),!O.test(H=q())||(ie=H,T(")"),T("returns"),T("("),T("stream",!0)&&(J=!0),!O.test(H=q())))throw W(H);he=H,T(")");var ne=new u(Z,Q,ie,he,le,J);ne.comment=V,oe(ne,function(me){if(me==="option")ge(ne,me),T(";");else throw W(me)}),G.add(ne)}function Oe(G,H){if(!O.test(H=q()))throw W(H,"reference");var V=H;oe(null,function(Z){switch(Z){case"required":case"repeated":ue(G,Z,V);break;case"optional":I==="proto3"?ue(G,"proto3_optional",V):ue(G,"optional",V);break;default:if(I==="proto2"||!O.test(Z))throw W(Z);w(Z),ue(G,"optional",V);break}})}for(var de;(de=q())!==null;)switch(de){case"package":if(!R)throw W(de);te();break;case"import":if(!R)throw W(de);re();break;case"syntax":if(!R)throw W(de);se();break;case"edition":if(!R)throw W(de);ae();break;case"option":ge(D,de),T(";",!0);break;default:if(ee(D,de)){R=!1;continue}throw W(de)}return $(),k.filename=null,{package:E,imports:C,weakImports:S,root:M}}return parse_1}var common_1,hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common_1;hasRequiredCommon=1,common_1=e;var r=/\/|\./;function e(i,s){r.test(i)||(i="google/protobuf/"+i+".proto",s={nested:{google:{nested:{protobuf:{nested:s}}}}}),e[i]=s}e("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}});var t;return e("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),e("timestamp",{Timestamp:t}),e("empty",{Empty:{fields:{}}}),e("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),e("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),e("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),e.get=function(s){return e[s]||null},common_1}var hasRequiredSrc$2;function requireSrc$2(){if(hasRequiredSrc$2)return src.exports;hasRequiredSrc$2=1;var r=src.exports=requireIndexLight();return r.build="full",r.tokenize=requireTokenize(),r.parse=requireParse(),r.common=requireCommon(),r.Root._configure(r.Type,r.parse,r.common),src.exports}var protobufjs,hasRequiredProtobufjs;function requireProtobufjs(){return hasRequiredProtobufjs||(hasRequiredProtobufjs=1,protobufjs=requireSrc$2()),protobufjs}const nested$3=JSON.parse('{"google":{"nested":{"protobuf":{"options":{"go_package":"google.golang.org/protobuf/types/descriptorpb","java_package":"com.google.protobuf","java_outer_classname":"DescriptorProtos","csharp_namespace":"Google.Protobuf.Reflection","objc_class_prefix":"GPB","cc_enable_arenas":true,"optimize_for":"SPEED"},"nested":{"FileDescriptorSet":{"edition":"proto2","fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}},"extensions":[[536000000,536000000]]},"Edition":{"edition":"proto2","values":{"EDITION_UNKNOWN":0,"EDITION_LEGACY":900,"EDITION_PROTO2":998,"EDITION_PROTO3":999,"EDITION_2023":1000,"EDITION_2024":1001,"EDITION_1_TEST_ONLY":1,"EDITION_2_TEST_ONLY":2,"EDITION_99997_TEST_ONLY":99997,"EDITION_99998_TEST_ONLY":99998,"EDITION_99999_TEST_ONLY":99999,"EDITION_MAX":2147483647}},"FileDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10},"weakDependency":{"rule":"repeated","type":"int32","id":11},"optionDependency":{"rule":"repeated","type":"string","id":15},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12},"edition":{"type":"Edition","id":14}}},"DescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10},"visibility":{"type":"SymbolVisibility","id":11}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2},"options":{"type":"ExtensionRangeOptions","id":3}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"ExtensionRangeOptions":{"edition":"proto2","fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999},"declaration":{"rule":"repeated","type":"Declaration","id":2,"options":{"retention":"RETENTION_SOURCE"}},"features":{"type":"FeatureSet","id":50},"verification":{"type":"VerificationState","id":3,"options":{"default":"UNVERIFIED","retention":"RETENTION_SOURCE"}}},"extensions":[[1000,536870911]],"nested":{"Declaration":{"fields":{"number":{"type":"int32","id":1},"fullName":{"type":"string","id":2},"type":{"type":"string","id":3},"reserved":{"type":"bool","id":5},"repeated":{"type":"bool","id":6}},"reserved":[[4,4]]},"VerificationState":{"values":{"DECLARATION":0,"UNVERIFIED":1}}}},"FieldDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8},"proto3Optional":{"type":"bool","id":17}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REPEATED":3,"LABEL_REQUIRED":2}}}},"OneofDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3},"reservedRange":{"rule":"repeated","type":"EnumReservedRange","id":4},"reservedName":{"rule":"repeated","type":"string","id":5},"visibility":{"type":"SymbolVisibility","id":6}},"nested":{"EnumReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"EnumValueDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"edition":"proto2","fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"edition":"proto2","fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31,"options":{"default":true}},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"swiftPrefix":{"type":"string","id":39},"phpClassPrefix":{"type":"string","id":40},"phpNamespace":{"type":"string","id":41},"phpMetadataNamespace":{"type":"string","id":44},"rubyPackage":{"type":"string","id":45},"features":{"type":"FeatureSet","id":50},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[42,42],[38,38],"php_generic_services"],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"edition":"proto2","fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":11,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":12},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[5,5],[6,6],[8,8],[9,9]]},"FieldOptions":{"edition":"proto2","fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"unverifiedLazy":{"type":"bool","id":15},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10,"options":{"deprecated":true}},"debugRedact":{"type":"bool","id":16},"retention":{"type":"OptionRetention","id":17},"targets":{"rule":"repeated","type":"OptionTargetType","id":19},"editionDefaults":{"rule":"repeated","type":"EditionDefault","id":20},"features":{"type":"FeatureSet","id":21},"featureSupport":{"type":"FeatureSupport","id":22},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4],[18,18]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}},"OptionRetention":{"values":{"RETENTION_UNKNOWN":0,"RETENTION_RUNTIME":1,"RETENTION_SOURCE":2}},"OptionTargetType":{"values":{"TARGET_TYPE_UNKNOWN":0,"TARGET_TYPE_FILE":1,"TARGET_TYPE_EXTENSION_RANGE":2,"TARGET_TYPE_MESSAGE":3,"TARGET_TYPE_FIELD":4,"TARGET_TYPE_ONEOF":5,"TARGET_TYPE_ENUM":6,"TARGET_TYPE_ENUM_ENTRY":7,"TARGET_TYPE_SERVICE":8,"TARGET_TYPE_METHOD":9}},"EditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"value":{"type":"string","id":2}}},"FeatureSupport":{"fields":{"editionIntroduced":{"type":"Edition","id":1},"editionDeprecated":{"type":"Edition","id":2},"deprecationWarning":{"type":"string","id":3},"editionRemoved":{"type":"Edition","id":4}}}}},"OneofOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"edition":"proto2","fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"deprecatedLegacyJsonFieldConflicts":{"type":"bool","id":6,"options":{"deprecated":true}},"features":{"type":"FeatureSet","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[5,5]]},"EnumValueOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":1},"features":{"type":"FeatureSet","id":2},"debugRedact":{"type":"bool","id":3},"featureSupport":{"type":"FieldOptions.FeatureSupport","id":4},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"edition":"proto2","fields":{"features":{"type":"FeatureSet","id":34},"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"edition":"proto2","fields":{"deprecated":{"type":"bool","id":33},"idempotencyLevel":{"type":"IdempotencyLevel","id":34,"options":{"default":"IDEMPOTENCY_UNKNOWN"}},"features":{"type":"FeatureSet","id":35},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"nested":{"IdempotencyLevel":{"values":{"IDEMPOTENCY_UNKNOWN":0,"NO_SIDE_EFFECTS":1,"IDEMPOTENT":2}}}},"UninterpretedOption":{"edition":"proto2","fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"FeatureSet":{"edition":"proto2","fields":{"fieldPresence":{"type":"FieldPresence","id":1,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_2023","edition_defaults.value":"EXPLICIT"}},"enumType":{"type":"EnumType","id":2,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"OPEN"}},"repeatedFieldEncoding":{"type":"RepeatedFieldEncoding","id":3,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"PACKED"}},"utf8Validation":{"type":"Utf8Validation","id":4,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"VERIFY"}},"messageEncoding":{"type":"MessageEncoding","id":5,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_LEGACY","edition_defaults.value":"LENGTH_PREFIXED"}},"jsonFormat":{"type":"JsonFormat","id":6,"options":{"retention":"RETENTION_RUNTIME","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2023","edition_defaults.edition":"EDITION_PROTO3","edition_defaults.value":"ALLOW"}},"enforceNamingStyle":{"type":"EnforceNamingStyle","id":7,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_METHOD","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"STYLE2024"}},"defaultSymbolVisibility":{"type":"VisibilityFeature.DefaultSymbolVisibility","id":8,"options":{"retention":"RETENTION_SOURCE","targets":"TARGET_TYPE_FILE","feature_support.edition_introduced":"EDITION_2024","edition_defaults.edition":"EDITION_2024","edition_defaults.value":"EXPORT_TOP_LEVEL"}}},"extensions":[[1000,9994],[9995,9999],[10000,10000]],"reserved":[[999,999]],"nested":{"FieldPresence":{"values":{"FIELD_PRESENCE_UNKNOWN":0,"EXPLICIT":1,"IMPLICIT":2,"LEGACY_REQUIRED":3}},"EnumType":{"values":{"ENUM_TYPE_UNKNOWN":0,"OPEN":1,"CLOSED":2}},"RepeatedFieldEncoding":{"values":{"REPEATED_FIELD_ENCODING_UNKNOWN":0,"PACKED":1,"EXPANDED":2}},"Utf8Validation":{"values":{"UTF8_VALIDATION_UNKNOWN":0,"VERIFY":2,"NONE":3}},"MessageEncoding":{"values":{"MESSAGE_ENCODING_UNKNOWN":0,"LENGTH_PREFIXED":1,"DELIMITED":2}},"JsonFormat":{"values":{"JSON_FORMAT_UNKNOWN":0,"ALLOW":1,"LEGACY_BEST_EFFORT":2}},"EnforceNamingStyle":{"values":{"ENFORCE_NAMING_STYLE_UNKNOWN":0,"STYLE2024":1,"STYLE_LEGACY":2}},"VisibilityFeature":{"fields":{},"reserved":[[1,536870911]],"nested":{"DefaultSymbolVisibility":{"values":{"DEFAULT_SYMBOL_VISIBILITY_UNKNOWN":0,"EXPORT_ALL":1,"EXPORT_TOP_LEVEL":2,"LOCAL_ALL":3,"STRICT":4}}}}}},"FeatureSetDefaults":{"edition":"proto2","fields":{"defaults":{"rule":"repeated","type":"FeatureSetEditionDefault","id":1},"minimumEdition":{"type":"Edition","id":4},"maximumEdition":{"type":"Edition","id":5}},"nested":{"FeatureSetEditionDefault":{"fields":{"edition":{"type":"Edition","id":3},"overridableFeatures":{"type":"FeatureSet","id":4},"fixedFeatures":{"type":"FeatureSet","id":5}},"reserved":[[1,1],[2,2],"features"]}}},"SourceCodeInfo":{"edition":"proto2","fields":{"location":{"rule":"repeated","type":"Location","id":1}},"extensions":[[536000000,536000000]],"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"span":{"rule":"repeated","type":"int32","id":2,"options":{"packed":true}},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"edition":"proto2","fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1,"options":{"packed":true}},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4},"semantic":{"type":"Semantic","id":5}},"nested":{"Semantic":{"values":{"NONE":0,"SET":1,"ALIAS":2}}}}}},"SymbolVisibility":{"edition":"proto2","values":{"VISIBILITY_UNSET":0,"VISIBILITY_LOCAL":1,"VISIBILITY_EXPORT":2}}}}}}}'),require$$4={nested:nested$3};var hasRequiredDescriptor;function requireDescriptor(){return hasRequiredDescriptor||(hasRequiredDescriptor=1,(function(r,e){var t=requireProtobufjs();r.exports=e=t.descriptor=t.Root.fromJSON(require$$4).lookup(".google.protobuf");var i=t.Namespace,s=t.Root,n=t.Enum,a=t.Type,l=t.Field,u=t.MapField,o=t.OneOf,f=t.Service,c=t.Method;s.fromDescriptor=function(_){typeof _.length=="number"&&(_=e.FileDescriptorSet.decode(_));var R=new s;if(_.file)for(var E,C,S=0,I;S<_.file.length;++S){C=R,(E=_.file[S]).package&&E.package.length&&(C=R.define(E.package));var D=w(E);if(E.name&&E.name.length&&R.files.push(C.filename=E.name),E.messageType)for(I=0;I<E.messageType.length;++I)C.add(a.fromDescriptor(E.messageType[I],D));if(E.enumType)for(I=0;I<E.enumType.length;++I)C.add(n.fromDescriptor(E.enumType[I],D));if(E.extension)for(I=0;I<E.extension.length;++I)C.add(l.fromDescriptor(E.extension[I],D));if(E.service)for(I=0;I<E.service.length;++I)C.add(f.fromDescriptor(E.service[I],D));var B=M(E.options,e.FileOptions);if(B){var x=Object.keys(B);for(I=0;I<x.length;++I)C.setOption(x[I],B[x[I]])}}return R.resolveAll()},s.prototype.toDescriptor=function(_){var R=e.FileDescriptorSet.create();return d(this,R.file,_),R};function d(T,_,R){var E=e.FileDescriptorProto.create({name:T.filename||(T.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});N(R,E),T instanceof s||(E.package=T.fullName.substring(1));for(var C=0,S;C<T.nestedArray.length;++C)(S=T._nestedArray[C])instanceof a?E.messageType.push(S.toDescriptor(R)):S instanceof n?E.enumType.push(S.toDescriptor()):S instanceof l?E.extension.push(S.toDescriptor(R)):S instanceof f?E.service.push(S.toDescriptor()):S instanceof i&&d(S,_,R);E.options=P(T.options,e.FileOptions),E.messageType.length+E.enumType.length+E.extension.length+E.service.length&&_.push(E)}var p=0;a.fromDescriptor=function(_,R,E){typeof _.length=="number"&&(_=e.DescriptorProto.decode(_));var C=new a(_.name.length?_.name:"Type"+p++,M(_.options,e.MessageOptions)),S;if(E||(C._edition=R),_.oneofDecl)for(S=0;S<_.oneofDecl.length;++S)C.add(o.fromDescriptor(_.oneofDecl[S]));if(_.field)for(S=0;S<_.field.length;++S){var I=l.fromDescriptor(_.field[S],R,!0);C.add(I),_.field[S].hasOwnProperty("oneofIndex")&&C.oneofsArray[_.field[S].oneofIndex].add(I)}if(_.extension)for(S=0;S<_.extension.length;++S)C.add(l.fromDescriptor(_.extension[S],R,!0));if(_.nestedType)for(S=0;S<_.nestedType.length;++S)C.add(a.fromDescriptor(_.nestedType[S],R,!0)),_.nestedType[S].options&&_.nestedType[S].options.mapEntry&&C.setOption("map_entry",!0);if(_.enumType)for(S=0;S<_.enumType.length;++S)C.add(n.fromDescriptor(_.enumType[S],R,!0));if(_.extensionRange&&_.extensionRange.length)for(C.extensions=[],S=0;S<_.extensionRange.length;++S)C.extensions.push([_.extensionRange[S].start,_.extensionRange[S].end]);if(_.reservedRange&&_.reservedRange.length||_.reservedName&&_.reservedName.length){if(C.reserved=[],_.reservedRange)for(S=0;S<_.reservedRange.length;++S)C.reserved.push([_.reservedRange[S].start,_.reservedRange[S].end]);if(_.reservedName)for(S=0;S<_.reservedName.length;++S)C.reserved.push(_.reservedName[S])}return C},a.prototype.toDescriptor=function(_){var R=e.DescriptorProto.create({name:this.name}),E;for(E=0;E<this.fieldsArray.length;++E){var C;if(R.field.push(C=this._fieldsArray[E].toDescriptor(_)),this._fieldsArray[E]instanceof u){var S=k(this._fieldsArray[E].keyType,this._fieldsArray[E].resolvedKeyType,!1),I=k(this._fieldsArray[E].type,this._fieldsArray[E].resolvedType,!1),D=I===11||I===14?this._fieldsArray[E].resolvedType&&L(this.parent,this._fieldsArray[E].resolvedType)||this._fieldsArray[E].type:void 0;R.nestedType.push(e.DescriptorProto.create({name:C.typeName,field:[e.FieldDescriptorProto.create({name:"key",number:1,label:1,type:S}),e.FieldDescriptorProto.create({name:"value",number:2,label:1,type:I,typeName:D})],options:e.MessageOptions.create({mapEntry:!0})}))}}for(E=0;E<this.oneofsArray.length;++E)R.oneofDecl.push(this._oneofsArray[E].toDescriptor());for(E=0;E<this.nestedArray.length;++E)this._nestedArray[E]instanceof l?R.field.push(this._nestedArray[E].toDescriptor(_)):this._nestedArray[E]instanceof a?R.nestedType.push(this._nestedArray[E].toDescriptor(_)):this._nestedArray[E]instanceof n&&R.enumType.push(this._nestedArray[E].toDescriptor());if(this.extensions)for(E=0;E<this.extensions.length;++E)R.extensionRange.push(e.DescriptorProto.ExtensionRange.create({start:this.extensions[E][0],end:this.extensions[E][1]}));if(this.reserved)for(E=0;E<this.reserved.length;++E)typeof this.reserved[E]=="string"?R.reservedName.push(this.reserved[E]):R.reservedRange.push(e.DescriptorProto.ReservedRange.create({start:this.reserved[E][0],end:this.reserved[E][1]}));return R.options=P(this.options,e.MessageOptions),R};var h=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;l.fromDescriptor=function(_,R,E){if(typeof _.length=="number"&&(_=e.DescriptorProto.decode(_)),typeof _.number!="number")throw Error("missing field id");var C;_.typeName&&_.typeName.length?C=_.typeName:C=b(_.type);var S;switch(_.label){case 1:S=void 0;break;case 2:S="required";break;case 3:S="repeated";break;default:throw Error("illegal label: "+_.label)}var I=_.extendee;_.extendee!==void 0&&(I=I.length?I:void 0);var D=new l(_.name.length?_.name:"field"+_.number,_.number,C,S,I);if(E||(D._edition=R),D.options=M(_.options,e.FieldOptions),_.proto3_optional&&(D.options.proto3_optional=!0),_.defaultValue&&_.defaultValue.length){var B=_.defaultValue;switch(B){case"true":case"TRUE":B=!0;break;case"false":case"FALSE":B=!1;break;default:var x=h.exec(B);x&&(B=parseInt(B));break}D.setOption("default",B)}return O(_.type)&&(R==="proto3"?_.options&&!_.options.packed&&D.setOption("packed",!1):(!R||R==="proto2")&&_.options&&_.options.packed&&D.setOption("packed",!0)),D},l.prototype.toDescriptor=function(_){var R=e.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)R.type=11,R.typeName=t.util.ucFirst(this.name),R.label=3;else{switch(R.type=k(this.type,this.resolve().resolvedType,this.delimited)){case 10:case 11:case 14:R.typeName=this.resolvedType?L(this.parent,this.resolvedType):this.type;break}this.rule==="repeated"?R.label=3:this.required&&_==="proto2"?R.label=2:R.label=1}if(R.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(R.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(R.options=P(this.options,e.FieldOptions),this.options.default!=null&&(R.defaultValue=String(this.options.default)),this.options.proto3_optional&&(R.proto3_optional=!0)),_==="proto3"?this.packed||((R.options||(R.options=e.FieldOptions.create())).packed=!1):(!_||_==="proto2")&&this.packed&&((R.options||(R.options=e.FieldOptions.create())).packed=!0),R};var g=0;n.fromDescriptor=function(_,R,E){typeof _.length=="number"&&(_=e.EnumDescriptorProto.decode(_));var C={};if(_.value)for(var S=0;S<_.value.length;++S){var I=_.value[S].name,D=_.value[S].number||0;C[I&&I.length?I:"NAME"+D]=D}var B=new n(_.name&&_.name.length?_.name:"Enum"+g++,C,M(_.options,e.EnumOptions));return E||(B._edition=R),B},n.prototype.toDescriptor=function(){for(var _=[],R=0,E=Object.keys(this.values);R<E.length;++R)_.push(e.EnumValueDescriptorProto.create({name:E[R],number:this.values[E[R]]}));return e.EnumDescriptorProto.create({name:this.name,value:_,options:P(this.options,e.EnumOptions)})};var v=0;o.fromDescriptor=function(_){return typeof _.length=="number"&&(_=e.OneofDescriptorProto.decode(_)),new o(_.name&&_.name.length?_.name:"oneof"+v++)},o.prototype.toDescriptor=function(){return e.OneofDescriptorProto.create({name:this.name})};var m=0;f.fromDescriptor=function(_,R,E){typeof _.length=="number"&&(_=e.ServiceDescriptorProto.decode(_));var C=new f(_.name&&_.name.length?_.name:"Service"+m++,M(_.options,e.ServiceOptions));if(E||(C._edition=R),_.method)for(var S=0;S<_.method.length;++S)C.add(c.fromDescriptor(_.method[S]));return C},f.prototype.toDescriptor=function(){for(var _=[],R=0;R<this.methodsArray.length;++R)_.push(this._methodsArray[R].toDescriptor());return e.ServiceDescriptorProto.create({name:this.name,method:_,options:P(this.options,e.ServiceOptions)})};var y=0;c.fromDescriptor=function(_){return typeof _.length=="number"&&(_=e.MethodDescriptorProto.decode(_)),new c(_.name&&_.name.length?_.name:"Method"+y++,"rpc",_.inputType,_.outputType,!!_.clientStreaming,!!_.serverStreaming,M(_.options,e.MethodOptions))},c.prototype.toDescriptor=function(){return e.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:P(this.options,e.MethodOptions)})};function b(T){switch(T){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+T)}function O(T){switch(T){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}function k(T,_,R){switch(T){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(_ instanceof n)return 14;if(_ instanceof a)return R?10:11;throw Error("illegal type: "+T)}function A(T,_){for(var R={},E=0,C,S;E<_.fieldsArray.length;++E)if((S=(C=_._fieldsArray[E]).name)!=="uninterpretedOption"&&Object.prototype.hasOwnProperty.call(T,S)){var I=q(S);C.resolvedType instanceof a?R[I]=A(T[S],C.resolvedType):C.resolvedType instanceof n?R[I]=C.resolvedType.valuesById[T[S]]:R[I]=T[S]}return R}function M(T,_){if(T)return A(_.toObject(T),_)}function F(T,_){for(var R={},E=Object.keys(T),C=0;C<E.length;++C){var S=E[C],I=t.util.camelCase(S);if(Object.prototype.hasOwnProperty.call(_.fields,I)){var D=_.fields[I];D.resolvedType instanceof a?R[I]=F(T[S],D.resolvedType):R[I]=T[S],D.repeated&&!Array.isArray(R[I])&&(R[I]=[R[I]])}}return R}function P(T,_){if(T)return _.fromObject(F(T,_))}function L(T,_){var R=T.fullName.split("."),E=_.fullName.split("."),C=0,S=0,I=E.length-1;if(!(T instanceof s)&&_ instanceof i)for(;C<R.length&&S<I&&R[C]===E[S];){var D=_.lookup(R[C++],!0);if(D!==null&&D!==_)break;++S}else for(;C<R.length&&S<I&&R[C]===E[S];++C,++S);return E.slice(S).join(".")}function q(T){return T.substring(0,1)+T.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,function(_,R){return"_"+R.toLowerCase()})}function w(T){if(T.syntax==="editions")switch(T.edition){case e.Edition.EDITION_2023:return"2023";default:throw new Error("Unsupported edition "+T.edition)}return T.syntax==="proto3"?"proto3":"proto2"}function N(T,_){if(T)if(T==="proto2"||T==="proto3")_.syntax=T;else switch(_.syntax="editions",T){case"2023":_.edition=e.Edition.EDITION_2023;break;default:throw new Error("Unsupported edition "+T)}}})(descriptor,descriptor.exports)),descriptor.exports}var util={};const nested$2={google:{nested:{protobuf:{nested:{Api:{fields:{name:{type:"string",id:1},methods:{rule:"repeated",type:"Method",id:2},options:{rule:"repeated",type:"Option",id:3},version:{type:"string",id:4},sourceContext:{type:"SourceContext",id:5},mixins:{rule:"repeated",type:"Mixin",id:6},syntax:{type:"Syntax",id:7}}},Method:{fields:{name:{type:"string",id:1},requestTypeUrl:{type:"string",id:2},requestStreaming:{type:"bool",id:3},responseTypeUrl:{type:"string",id:4},responseStreaming:{type:"bool",id:5},options:{rule:"repeated",type:"Option",id:6},syntax:{type:"Syntax",id:7}}},Mixin:{fields:{name:{type:"string",id:1},root:{type:"string",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}}}}}}},require$$3={nested:nested$2},nested$1={google:{nested:{protobuf:{nested:{SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}},require$$5={nested:nested$1},nested={google:{nested:{protobuf:{nested:{Type:{fields:{name:{type:"string",id:1},fields:{rule:"repeated",type:"Field",id:2},oneofs:{rule:"repeated",type:"string",id:3},options:{rule:"repeated",type:"Option",id:4},sourceContext:{type:"SourceContext",id:5},syntax:{type:"Syntax",id:6}}},Field:{fields:{kind:{type:"Kind",id:1},cardinality:{type:"Cardinality",id:2},number:{type:"int32",id:3},name:{type:"string",id:4},typeUrl:{type:"string",id:6},oneofIndex:{type:"int32",id:7},packed:{type:"bool",id:8},options:{rule:"repeated",type:"Option",id:9},jsonName:{type:"string",id:10},defaultValue:{type:"string",id:11}},nested:{Kind:{values:{TYPE_UNKNOWN:0,TYPE_DOUBLE:1,TYPE_FLOAT:2,TYPE_INT64:3,TYPE_UINT64:4,TYPE_INT32:5,TYPE_FIXED64:6,TYPE_FIXED32:7,TYPE_BOOL:8,TYPE_STRING:9,TYPE_GROUP:10,TYPE_MESSAGE:11,TYPE_BYTES:12,TYPE_UINT32:13,TYPE_ENUM:14,TYPE_SFIXED32:15,TYPE_SFIXED64:16,TYPE_SINT32:17,TYPE_SINT64:18}},Cardinality:{values:{CARDINALITY_UNKNOWN:0,CARDINALITY_OPTIONAL:1,CARDINALITY_REQUIRED:2,CARDINALITY_REPEATED:3}}}},Enum:{fields:{name:{type:"string",id:1},enumvalue:{rule:"repeated",type:"EnumValue",id:2},options:{rule:"repeated",type:"Option",id:3},sourceContext:{type:"SourceContext",id:4},syntax:{type:"Syntax",id:5}}},EnumValue:{fields:{name:{type:"string",id:1},number:{type:"int32",id:2},options:{rule:"repeated",type:"Option",id:3}}},Option:{fields:{name:{type:"string",id:1},value:{type:"Any",id:2}}},Syntax:{values:{SYNTAX_PROTO2:0,SYNTAX_PROTO3:1}},Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}},SourceContext:{fields:{fileName:{type:"string",id:1}}}}}}}},require$$6={nested};var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;Object.defineProperty(util,"__esModule",{value:!0}),util.addCommonProtos=util.loadProtosWithOptionsSync=util.loadProtosWithOptions=void 0;const r=fs,e=path$1,t=require$$2;function i(l,u){const o=l.resolvePath;l.resolvePath=(f,c)=>{if(e.isAbsolute(c))return c;for(const d of u){const p=e.join(d,c);try{return r.accessSync(p,r.constants.R_OK),p}catch{continue}}return process.emitWarning(`${c} not found in any of the include paths ${u}`),o(f,c)}}async function s(l,u){const o=new t.Root;if(u=u||{},u.includeDirs){if(!Array.isArray(u.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));i(o,u.includeDirs)}const f=await o.load(l,u);return f.resolveAll(),f}util.loadProtosWithOptions=s;function n(l,u){const o=new t.Root;if(u=u||{},u.includeDirs){if(!Array.isArray(u.includeDirs))throw new Error("The includeDirs option must be an array");i(o,u.includeDirs)}const f=o.loadSync(l,u);return f.resolveAll(),f}util.loadProtosWithOptionsSync=n;function a(){const l=require$$3,u=require$$4,o=require$$5,f=require$$6;t.common("api",l.nested.google.nested.protobuf.nested),t.common("descriptor",u.nested.google.nested.protobuf.nested),t.common("source_context",o.nested.google.nested.protobuf.nested),t.common("type",f.nested.google.nested.protobuf.nested)}return util.addCommonProtos=a,util}var hasRequiredSrc$1;function requireSrc$1(){return hasRequiredSrc$1||(hasRequiredSrc$1=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.loadFileDescriptorSetFromObject=r.loadFileDescriptorSetFromBuffer=r.fromJSON=r.loadSync=r.load=r.IdempotencyLevel=r.isAnyExtension=r.Long=void 0;const e=requireLodash_camelcase(),t=require$$2,i=requireDescriptor(),s=requireUtil(),n=require$$4$1;r.Long=n;function a(w){return"@type"in w&&typeof w["@type"]=="string"}r.isAnyExtension=a;var l;(function(w){w.IDEMPOTENCY_UNKNOWN="IDEMPOTENCY_UNKNOWN",w.NO_SIDE_EFFECTS="NO_SIDE_EFFECTS",w.IDEMPOTENT="IDEMPOTENT"})(l=r.IdempotencyLevel||(r.IdempotencyLevel={}));const u={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function o(w,N){return w===""?N:w+"."+N}function f(w){return w instanceof t.Service||w instanceof t.Type||w instanceof t.Enum}function c(w){return w instanceof t.Namespace||w instanceof t.Root}function d(w,N){const T=o(N,w.name);return f(w)?[[T,w]]:c(w)&&typeof w.nested<"u"?Object.keys(w.nested).map(_=>d(w.nested[_],T)).reduce((_,R)=>_.concat(R),[]):[]}function p(w,N){return function(_){return w.toObject(w.decode(_),N)}}function h(w){return function(T){if(Array.isArray(T))throw new Error(`Failed to serialize message: expected object with ${w.name} structure, got array instead`);const _=w.fromObject(T);return w.encode(_).finish()}}function g(w){return(w||[]).reduce((N,T)=>{for(const[_,R]of Object.entries(T))switch(_){case"uninterpreted_option":N.uninterpreted_option.push(T.uninterpreted_option);break;default:N[_]=R}return N},{deprecated:!1,idempotency_level:l.IDEMPOTENCY_UNKNOWN,uninterpreted_option:[]})}function v(w,N,T,_){const R=w.resolvedRequestType,E=w.resolvedResponseType;return{path:"/"+N+"/"+w.name,requestStream:!!w.requestStream,responseStream:!!w.responseStream,requestSerialize:h(R),requestDeserialize:p(R,T),responseSerialize:h(E),responseDeserialize:p(E,T),originalName:e(w.name),requestType:y(R,T,_),responseType:y(E,T,_),options:g(w.parsedOptions)}}function m(w,N,T,_){const R={};for(const E of w.methodsArray)R[E.name]=v(E,N,T,_);return R}function y(w,N,T){const _=w.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:_.$type.toObject(_,u),fileDescriptorProtos:T,serialize:h(w),deserialize:p(w,N)}}function b(w,N){const T=w.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:T.$type.toObject(T,u),fileDescriptorProtos:N}}function O(w,N,T,_){if(w instanceof t.Service)return m(w,N,T,_);if(w instanceof t.Type)return y(w,T,_);if(w instanceof t.Enum)return b(w,_);throw new Error("Type mismatch in reflection object handling")}function k(w,N){const T={};w.resolveAll();const R=w.toDescriptor("proto3").file.map(E=>Buffer.from(i.FileDescriptorProto.encode(E).finish()));for(const[E,C]of d(w,""))T[E]=O(C,E,N,R);return T}function A(w,N){N=N||{};const T=t.Root.fromDescriptor(w);return T.resolveAll(),k(T,N)}function M(w,N){return(0,s.loadProtosWithOptions)(w,N).then(T=>k(T,N))}r.load=M;function F(w,N){const T=(0,s.loadProtosWithOptionsSync)(w,N);return k(T,N)}r.loadSync=F;function P(w,N){N=N||{};const T=t.Root.fromJSON(w);return T.resolveAll(),k(T,N)}r.fromJSON=P;function L(w,N){const T=i.FileDescriptorSet.decode(w);return A(T,N)}r.loadFileDescriptorSetFromBuffer=L;function q(w,N){const T=i.FileDescriptorSet.fromObject(w);return A(T,N)}r.loadFileDescriptorSetFromObject=q,(0,s.addCommonProtos)()})(src$1)),src$1}var hasRequiredChannelz;function requireChannelz(){if(hasRequiredChannelz)return channelz;hasRequiredChannelz=1,Object.defineProperty(channelz,"__esModule",{value:!0}),channelz.registerChannelzSocket=channelz.registerChannelzServer=channelz.registerChannelzSubchannel=channelz.registerChannelzChannel=channelz.ChannelzCallTrackerStub=channelz.ChannelzCallTracker=channelz.ChannelzChildrenTrackerStub=channelz.ChannelzChildrenTracker=channelz.ChannelzTrace=channelz.ChannelzTraceStub=void 0,channelz.unregisterChannelzRef=k,channelz.getChannelzHandlers=x,channelz.getChannelzServiceDefinition=$,channelz.setup=W;const r=require$$0$2,e=require$$1,t=requireConnectivityState(),i=requireConstants(),s=requireSubchannelAddress(),n=requireAdmin(),a=requireMakeClient();function l(U){return{channel_id:U.id,name:U.name}}function u(U){return{subchannel_id:U.id,name:U.name}}function o(U){return{server_id:U.id}}function f(U){return{socket_id:U.id,name:U.name}}const c=32,d=100;class p{constructor(){this.events=[],this.creationTimestamp=new Date,this.eventsLogged=0}addTrace(){}getTraceMessage(){return{creation_timestamp:w(this.creationTimestamp),num_events_logged:this.eventsLogged,events:[]}}}channelz.ChannelzTraceStub=p;class h{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(z,X,K){const Y=new Date;this.events.push({description:X,severity:z,timestamp:Y,childChannel:K?.kind==="channel"?K:void 0,childSubchannel:K?.kind==="subchannel"?K:void 0}),this.events.length>=c*2&&(this.events=this.events.slice(c)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:w(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map(z=>({description:z.description,severity:z.severity,timestamp:w(z.timestamp),channel_ref:z.childChannel?l(z.childChannel):null,subchannel_ref:z.childSubchannel?u(z.childSubchannel):null}))}}}channelz.ChannelzTrace=h;class g{constructor(){this.channelChildren=new e.OrderedMap,this.subchannelChildren=new e.OrderedMap,this.socketChildren=new e.OrderedMap,this.trackerMap={channel:this.channelChildren,subchannel:this.subchannelChildren,socket:this.socketChildren}}refChild(z){const X=this.trackerMap[z.kind],K=X.find(z.id);K.equals(X.end())?X.setElement(z.id,{ref:z,count:1},K):K.pointer[1].count+=1}unrefChild(z){const X=this.trackerMap[z.kind],K=X.getElementByKey(z.id);K!==void 0&&(K.count-=1,K.count===0&&X.eraseElementByKey(z.id))}getChildLists(){return{channels:this.channelChildren,subchannels:this.subchannelChildren,sockets:this.socketChildren}}}channelz.ChannelzChildrenTracker=g;class v extends g{refChild(){}unrefChild(){}}channelz.ChannelzChildrenTrackerStub=v;class m{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}}channelz.ChannelzCallTracker=m;class y extends m{addCallStarted(){}addCallSucceeded(){}addCallFailed(){}}channelz.ChannelzCallTrackerStub=y;const b={channel:new e.OrderedMap,subchannel:new e.OrderedMap,server:new e.OrderedMap,socket:new e.OrderedMap},O=U=>{let z=1;function X(){return z++}const K=b[U];return(Y,te,re)=>{const se=X(),ae={id:se,name:Y,kind:U};return re&&K.setElement(se,{ref:ae,getInfo:te}),ae}};channelz.registerChannelzChannel=O("channel"),channelz.registerChannelzSubchannel=O("subchannel"),channelz.registerChannelzServer=O("server"),channelz.registerChannelzSocket=O("socket");function k(U){b[U.kind].eraseElementByKey(U.id)}function A(U){const z=Number.parseInt(U,16);return[z/256|0,z%256]}function M(U){if(U==="")return[];const z=U.split(":").map(K=>A(K));return[].concat(...z)}function F(U){return(0,r.isIPv6)(U)&&U.toLowerCase().startsWith("::ffff:")&&(0,r.isIPv4)(U.substring(7))}function P(U){return Buffer.from(Uint8Array.from(U.split(".").map(z=>Number.parseInt(z))))}function L(U){if((0,r.isIPv4)(U))return P(U);if(F(U))return P(U.substring(7));if((0,r.isIPv6)(U)){let z,X;const K=U.indexOf("::");K===-1?(z=U,X=""):(z=U.substring(0,K),X=U.substring(K+2));const Y=Buffer.from(M(z)),te=Buffer.from(M(X)),re=Buffer.alloc(16-Y.length-te.length,0);return Buffer.concat([Y,re,te])}else return null}function q(U){switch(U){case t.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case t.ConnectivityState.IDLE:return{state:"IDLE"};case t.ConnectivityState.READY:return{state:"READY"};case t.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case t.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function w(U){if(!U)return null;const z=U.getTime();return{seconds:z/1e3|0,nanos:z%1e3*1e6}}function N(U){const z=U.getInfo(),X=[],K=[];return z.children.channels.forEach(Y=>{X.push(l(Y[1].ref))}),z.children.subchannels.forEach(Y=>{K.push(u(Y[1].ref))}),{ref:l(U.ref),data:{target:z.target,state:q(z.state),calls_started:z.callTracker.callsStarted,calls_succeeded:z.callTracker.callsSucceeded,calls_failed:z.callTracker.callsFailed,last_call_started_timestamp:w(z.callTracker.lastCallStartedTimestamp),trace:z.trace.getTraceMessage()},channel_ref:X,subchannel_ref:K}}function T(U,z){const X=parseInt(U.request.channel_id,10),K=b.channel.getElementByKey(X);if(K===void 0){z({code:i.Status.NOT_FOUND,details:"No channel data found for id "+X});return}z(null,{channel:N(K)})}function _(U,z){const X=parseInt(U.request.max_results,10)||d,K=[],Y=parseInt(U.request.start_channel_id,10),te=b.channel;let re;for(re=te.lowerBound(Y);!re.equals(te.end())&&K.length<X;re=re.next())K.push(N(re.pointer[1]));z(null,{channel:K,end:re.equals(te.end())})}function R(U){const z=U.getInfo(),X=[];return z.listenerChildren.sockets.forEach(K=>{X.push(f(K[1].ref))}),{ref:o(U.ref),data:{calls_started:z.callTracker.callsStarted,calls_succeeded:z.callTracker.callsSucceeded,calls_failed:z.callTracker.callsFailed,last_call_started_timestamp:w(z.callTracker.lastCallStartedTimestamp),trace:z.trace.getTraceMessage()},listen_socket:X}}function E(U,z){const X=parseInt(U.request.server_id,10),Y=b.server.getElementByKey(X);if(Y===void 0){z({code:i.Status.NOT_FOUND,details:"No server data found for id "+X});return}z(null,{server:R(Y)})}function C(U,z){const X=parseInt(U.request.max_results,10)||d,K=parseInt(U.request.start_server_id,10),Y=b.server,te=[];let re;for(re=Y.lowerBound(K);!re.equals(Y.end())&&te.length<X;re=re.next())te.push(R(re.pointer[1]));z(null,{server:te,end:re.equals(Y.end())})}function S(U,z){const X=parseInt(U.request.subchannel_id,10),K=b.subchannel.getElementByKey(X);if(K===void 0){z({code:i.Status.NOT_FOUND,details:"No subchannel data found for id "+X});return}const Y=K.getInfo(),te=[];Y.children.sockets.forEach(se=>{te.push(f(se[1].ref))});const re={ref:u(K.ref),data:{target:Y.target,state:q(Y.state),calls_started:Y.callTracker.callsStarted,calls_succeeded:Y.callTracker.callsSucceeded,calls_failed:Y.callTracker.callsFailed,last_call_started_timestamp:w(Y.callTracker.lastCallStartedTimestamp),trace:Y.trace.getTraceMessage()},socket_ref:te};z(null,{subchannel:re})}function I(U){var z;return(0,s.isTcpSubchannelAddress)(U)?{address:"tcpip_address",tcpip_address:{ip_address:(z=L(U.host))!==null&&z!==void 0?z:void 0,port:U.port}}:{address:"uds_address",uds_address:{filename:U.path}}}function D(U,z){var X,K,Y,te,re;const se=parseInt(U.request.socket_id,10),ae=b.socket.getElementByKey(se);if(ae===void 0){z({code:i.Status.NOT_FOUND,details:"No socket data found for id "+se});return}const ee=ae.getInfo(),oe=ee.security?{model:"tls",tls:{cipher_suite:ee.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:(X=ee.security.cipherSuiteStandardName)!==null&&X!==void 0?X:void 0,other_name:(K=ee.security.cipherSuiteOtherName)!==null&&K!==void 0?K:void 0,local_certificate:(Y=ee.security.localCertificate)!==null&&Y!==void 0?Y:void 0,remote_certificate:(te=ee.security.remoteCertificate)!==null&&te!==void 0?te:void 0}}:null,fe={ref:f(ae.ref),local:ee.localAddress?I(ee.localAddress):null,remote:ee.remoteAddress?I(ee.remoteAddress):null,remote_name:(re=ee.remoteName)!==null&&re!==void 0?re:void 0,security:oe,data:{keep_alives_sent:ee.keepAlivesSent,streams_started:ee.streamsStarted,streams_succeeded:ee.streamsSucceeded,streams_failed:ee.streamsFailed,last_local_stream_created_timestamp:w(ee.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:w(ee.lastRemoteStreamCreatedTimestamp),messages_received:ee.messagesReceived,messages_sent:ee.messagesSent,last_message_received_timestamp:w(ee.lastMessageReceivedTimestamp),last_message_sent_timestamp:w(ee.lastMessageSentTimestamp),local_flow_control_window:ee.localFlowControlWindow?{value:ee.localFlowControlWindow}:null,remote_flow_control_window:ee.remoteFlowControlWindow?{value:ee.remoteFlowControlWindow}:null}};z(null,{socket:fe})}function B(U,z){const X=parseInt(U.request.server_id,10),K=b.server.getElementByKey(X);if(K===void 0){z({code:i.Status.NOT_FOUND,details:"No server data found for id "+X});return}const Y=parseInt(U.request.start_socket_id,10),te=parseInt(U.request.max_results,10)||d,se=K.getInfo().sessionChildren.sockets,ae=[];let ee;for(ee=se.lowerBound(Y);!ee.equals(se.end())&&ae.length<te;ee=ee.next())ae.push(f(ee.pointer[1].ref));z(null,{socket_ref:ae,end:ee.equals(se.end())})}function x(){return{GetChannel:T,GetTopChannels:_,GetServer:E,GetServers:C,GetSubchannel:S,GetSocket:D,GetServerSockets:B}}let j=null;function $(){if(j)return j;const U=requireSrc$1().loadSync,z=U("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]});return j=(0,a.loadPackageDefinition)(z).grpc.channelz.v1.Channelz.service,j}function W(){(0,n.registerAdminService)($,x)}return channelz}var singleSubchannelChannel={},callNumber={},hasRequiredCallNumber;function requireCallNumber(){if(hasRequiredCallNumber)return callNumber;hasRequiredCallNumber=1,Object.defineProperty(callNumber,"__esModule",{value:!0}),callNumber.getNextCallNumber=e;let r=0;function e(){return r++}return callNumber}var compressionFilter={},compressionAlgorithms={},hasRequiredCompressionAlgorithms;function requireCompressionAlgorithms(){if(hasRequiredCompressionAlgorithms)return compressionAlgorithms;hasRequiredCompressionAlgorithms=1,Object.defineProperty(compressionAlgorithms,"__esModule",{value:!0}),compressionAlgorithms.CompressionAlgorithms=void 0;var r;return(function(e){e[e.identity=0]="identity",e[e.deflate=1]="deflate",e[e.gzip=2]="gzip"})(r||(compressionAlgorithms.CompressionAlgorithms=r={})),compressionAlgorithms}var filter={},hasRequiredFilter;function requireFilter(){if(hasRequiredFilter)return filter;hasRequiredFilter=1,Object.defineProperty(filter,"__esModule",{value:!0}),filter.BaseFilter=void 0;class r{async sendMetadata(t){return t}receiveMetadata(t){return t}async sendMessage(t){return t}async receiveMessage(t){return t}receiveTrailers(t){return t}}return filter.BaseFilter=r,filter}var hasRequiredCompressionFilter;function requireCompressionFilter(){if(hasRequiredCompressionFilter)return compressionFilter;hasRequiredCompressionFilter=1,Object.defineProperty(compressionFilter,"__esModule",{value:!0}),compressionFilter.CompressionFilterFactory=compressionFilter.CompressionFilter=void 0;const r=require$$0$4,e=requireCompressionAlgorithms(),t=requireConstants(),i=requireFilter(),s=requireLogging(),n=h=>typeof h=="number"&&typeof e.CompressionAlgorithms[h]=="string";class a{async writeMessage(g,v){let m=g;v&&(m=await this.compressMessage(m));const y=Buffer.allocUnsafe(m.length+5);return y.writeUInt8(v?1:0,0),y.writeUInt32BE(m.length,1),m.copy(y,5),y}async readMessage(g){const v=g.readUInt8(0)===1;let m=g.slice(5);return v&&(m=await this.decompressMessage(m)),m}}class l extends a{async compressMessage(g){return g}async writeMessage(g,v){const m=Buffer.allocUnsafe(g.length+5);return m.writeUInt8(0,0),m.writeUInt32BE(g.length,1),g.copy(m,5),m}decompressMessage(g){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class u extends a{constructor(g){super(),this.maxRecvMessageLength=g}compressMessage(g){return new Promise((v,m)=>{r.deflate(g,(y,b)=>{y?m(y):v(b)})})}decompressMessage(g){return new Promise((v,m)=>{let y=0;const b=[],O=r.createInflate();O.on("data",k=>{b.push(k),y+=k.byteLength,this.maxRecvMessageLength!==-1&&y>this.maxRecvMessageLength&&(O.destroy(),m({code:t.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),O.on("end",()=>{v(Buffer.concat(b))}),O.write(g),O.end()})}}class o extends a{constructor(g){super(),this.maxRecvMessageLength=g}compressMessage(g){return new Promise((v,m)=>{r.gzip(g,(y,b)=>{y?m(y):v(b)})})}decompressMessage(g){return new Promise((v,m)=>{let y=0;const b=[],O=r.createGunzip();O.on("data",k=>{b.push(k),y+=k.byteLength,this.maxRecvMessageLength!==-1&&y>this.maxRecvMessageLength&&(O.destroy(),m({code:t.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))}),O.on("end",()=>{v(Buffer.concat(b))}),O.write(g),O.end()})}}class f extends a{constructor(g){super(),this.compressionName=g}compressMessage(g){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(g){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function c(h,g){switch(h){case"identity":return new l;case"deflate":return new u(g);case"gzip":return new o(g);default:return new f(h)}}class d extends i.BaseFilter{constructor(g,v){var m,y,b;super(),this.sharedFilterConfig=v,this.sendCompression=new l,this.receiveCompression=new l,this.currentCompressionAlgorithm="identity";const O=g["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=(m=g["grpc.max_receive_message_length"])!==null&&m!==void 0?m:t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.maxSendMessageLength=(y=g["grpc.max_send_message_length"])!==null&&y!==void 0?y:t.DEFAULT_MAX_SEND_MESSAGE_LENGTH,O!==void 0)if(n(O)){const k=e.CompressionAlgorithms[O],A=(b=v.serverSupportedEncodingHeader)===null||b===void 0?void 0:b.split(",");(!A||A.includes(k))&&(this.currentCompressionAlgorithm=k,this.sendCompression=c(this.currentCompressionAlgorithm,-1))}else s.log(t.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${O}`)}async sendMetadata(g){const v=await g;return v.set("grpc-accept-encoding","identity,deflate,gzip"),v.set("accept-encoding","identity"),this.currentCompressionAlgorithm==="identity"?v.remove("grpc-encoding"):v.set("grpc-encoding",this.currentCompressionAlgorithm),v}receiveMetadata(g){const v=g.get("grpc-encoding");if(v.length>0){const y=v[0];typeof y=="string"&&(this.receiveCompression=c(y,this.maxReceiveMessageLength))}g.remove("grpc-encoding");const m=g.get("grpc-accept-encoding")[0];return m&&(this.sharedFilterConfig.serverSupportedEncodingHeader=m,m.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new l,this.currentCompressionAlgorithm="identity")),g.remove("grpc-accept-encoding"),g}async sendMessage(g){var v;const m=await g;if(this.maxSendMessageLength!==-1&&m.message.length>this.maxSendMessageLength)throw{code:t.Status.RESOURCE_EXHAUSTED,details:`Attempted to send message with a size larger than ${this.maxSendMessageLength}`};let y;return this.sendCompression instanceof l?y=!1:y=(((v=m.flags)!==null&&v!==void 0?v:0)&2)===0,{message:await this.sendCompression.writeMessage(m.message,y),flags:m.flags}}async receiveMessage(g){return this.receiveCompression.readMessage(await g)}}compressionFilter.CompressionFilter=d;class p{constructor(g,v){this.options=v,this.sharedFilterConfig={}}createFilter(){return new d(this.options,this.sharedFilterConfig)}}return compressionFilter.CompressionFilterFactory=p,compressionFilter}var controlPlaneStatus={},hasRequiredControlPlaneStatus;function requireControlPlaneStatus(){if(hasRequiredControlPlaneStatus)return controlPlaneStatus;hasRequiredControlPlaneStatus=1,Object.defineProperty(controlPlaneStatus,"__esModule",{value:!0}),controlPlaneStatus.restrictControlPlaneStatusCode=t;const r=requireConstants(),e=[r.Status.OK,r.Status.INVALID_ARGUMENT,r.Status.NOT_FOUND,r.Status.ALREADY_EXISTS,r.Status.FAILED_PRECONDITION,r.Status.ABORTED,r.Status.OUT_OF_RANGE,r.Status.DATA_LOSS];function t(i,s){return e.includes(i)?{code:r.Status.INTERNAL,details:`Invalid status from control plane: ${i} ${r.Status[i]} ${s}`}:{code:i,details:s}}return controlPlaneStatus}var deadline={},hasRequiredDeadline;function requireDeadline(){if(hasRequiredDeadline)return deadline;hasRequiredDeadline=1,Object.defineProperty(deadline,"__esModule",{value:!0}),deadline.minDeadline=r,deadline.getDeadlineTimeoutString=t,deadline.getRelativeTimeout=s,deadline.deadlineToString=n,deadline.formatDateDifference=a;function r(...l){let u=1/0;for(const o of l){const f=o instanceof Date?o.getTime():o;f<u&&(u=f)}return u}const e=[["m",1],["S",1e3],["M",60*1e3],["H",3600*1e3]];function t(l){const u=new Date().getTime();l instanceof Date&&(l=l.getTime());const o=Math.max(l-u,0);for(const[f,c]of e){const d=o/c;if(d<1e8)return String(Math.ceil(d))+f}throw new Error("Deadline is too far in the future")}const i=2147483647;function s(l){const u=l instanceof Date?l.getTime():l,o=new Date().getTime(),f=u-o;return f<0?0:f>i?1/0:f}function n(l){if(l instanceof Date)return l.toISOString();{const u=new Date(l);return Number.isNaN(u.getTime())?""+l:u.toISOString()}}function a(l,u){return((u.getTime()-l.getTime())/1e3).toFixed(3)+"s"}return deadline}var filterStack={},hasRequiredFilterStack;function requireFilterStack(){if(hasRequiredFilterStack)return filterStack;hasRequiredFilterStack=1,Object.defineProperty(filterStack,"__esModule",{value:!0}),filterStack.FilterStackFactory=filterStack.FilterStack=void 0;class r{constructor(i){this.filters=i}sendMetadata(i){let s=i;for(let n=0;n<this.filters.length;n++)s=this.filters[n].sendMetadata(s);return s}receiveMetadata(i){let s=i;for(let n=this.filters.length-1;n>=0;n--)s=this.filters[n].receiveMetadata(s);return s}sendMessage(i){let s=i;for(let n=0;n<this.filters.length;n++)s=this.filters[n].sendMessage(s);return s}receiveMessage(i){let s=i;for(let n=this.filters.length-1;n>=0;n--)s=this.filters[n].receiveMessage(s);return s}receiveTrailers(i){let s=i;for(let n=this.filters.length-1;n>=0;n--)s=this.filters[n].receiveTrailers(s);return s}push(i){this.filters.unshift(...i)}getFilters(){return this.filters}}filterStack.FilterStack=r;class e{constructor(i){this.factories=i}push(i){this.factories.unshift(...i)}clone(){return new e([...this.factories])}createFilter(){return new r(this.factories.map(i=>i.createFilter()))}}return filterStack.FilterStackFactory=e,filterStack}var hasRequiredSingleSubchannelChannel;function requireSingleSubchannelChannel(){if(hasRequiredSingleSubchannelChannel)return singleSubchannelChannel;hasRequiredSingleSubchannelChannel=1,Object.defineProperty(singleSubchannelChannel,"__esModule",{value:!0}),singleSubchannelChannel.SingleSubchannelChannel=void 0;const r=requireCallNumber(),e=requireChannelz(),t=requireCompressionFilter(),i=requireConnectivityState(),s=requireConstants(),n=requireControlPlaneStatus(),a=requireDeadline(),l=requireFilterStack(),u=requireMetadata(),o=requireResolver(),f=requireUriParser();class c{constructor(h,g,v,m,y){var b,O;this.subchannel=h,this.method=g,this.options=m,this.callNumber=y,this.childCall=null,this.pendingMessage=null,this.readPending=!1,this.halfClosePending=!1,this.pendingStatus=null,this.readFilterPending=!1,this.writeFilterPending=!1;const k=this.method.split("/");let A="";k.length>=2&&(A=k[1]);const M=(O=(b=(0,f.splitHostPort)(this.options.host))===null||b===void 0?void 0:b.host)!==null&&O!==void 0?O:"localhost";this.serviceUrl=`https://${M}/${A}`;const F=(0,a.getRelativeTimeout)(m.deadline);F!==1/0&&(F<=0?this.cancelWithStatus(s.Status.DEADLINE_EXCEEDED,"Deadline exceeded"):setTimeout(()=>{this.cancelWithStatus(s.Status.DEADLINE_EXCEEDED,"Deadline exceeded")},F)),this.filterStack=v.createFilter()}cancelWithStatus(h,g){this.childCall?this.childCall.cancelWithStatus(h,g):this.pendingStatus={code:h,details:g,metadata:new u.Metadata}}getPeer(){var h,g;return(g=(h=this.childCall)===null||h===void 0?void 0:h.getPeer())!==null&&g!==void 0?g:this.subchannel.getAddress()}async start(h,g){if(this.pendingStatus){g.onReceiveStatus(this.pendingStatus);return}if(this.subchannel.getConnectivityState()!==i.ConnectivityState.READY){g.onReceiveStatus({code:s.Status.UNAVAILABLE,details:"Subchannel not ready",metadata:new u.Metadata});return}const v=await this.filterStack.sendMetadata(Promise.resolve(h));let m;try{m=await this.subchannel.getCallCredentials().generateMetadata({method_name:this.method,service_url:this.serviceUrl})}catch(b){const O=b,{code:k,details:A}=(0,n.restrictControlPlaneStatusCode)(typeof O.code=="number"?O.code:s.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${O.message}`);g.onReceiveStatus({code:k,details:A,metadata:new u.Metadata});return}m.merge(v);const y={onReceiveMetadata:async b=>{g.onReceiveMetadata(await this.filterStack.receiveMetadata(b))},onReceiveMessage:async b=>{this.readFilterPending=!0;const O=await this.filterStack.receiveMessage(b);this.readFilterPending=!1,g.onReceiveMessage(O),this.pendingStatus&&g.onReceiveStatus(this.pendingStatus)},onReceiveStatus:async b=>{const O=await this.filterStack.receiveTrailers(b);this.readFilterPending?this.pendingStatus=O:g.onReceiveStatus(O)}};this.childCall=this.subchannel.createCall(m,this.options.host,this.method,y),this.readPending&&this.childCall.startRead(),this.pendingMessage&&this.childCall.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.halfClosePending&&!this.writeFilterPending&&this.childCall.halfClose()}async sendMessageWithContext(h,g){this.writeFilterPending=!0;const v=await this.filterStack.sendMessage(Promise.resolve({message:g,flags:h.flags}));this.writeFilterPending=!1,this.childCall?(this.childCall.sendMessageWithContext(h,v.message),this.halfClosePending&&this.childCall.halfClose()):this.pendingMessage={context:h,message:v.message}}startRead(){this.childCall?this.childCall.startRead():this.readPending=!0}halfClose(){this.childCall&&!this.writeFilterPending?this.childCall.halfClose():this.halfClosePending=!0}getCallNumber(){return this.callNumber}setCredentials(h){throw new Error("Method not implemented.")}getAuthContext(){return this.childCall?this.childCall.getAuthContext():null}}class d{constructor(h,g,v){this.subchannel=h,this.target=g,this.channelzEnabled=!1,this.channelzTrace=new e.ChannelzTrace,this.callTracker=new e.ChannelzCallTracker,this.childrenTracker=new e.ChannelzChildrenTracker,this.channelzEnabled=v["grpc.enable_channelz"]!==0,this.channelzRef=(0,e.registerChannelzChannel)((0,f.uriToString)(g),()=>({target:`${(0,f.uriToString)(g)} (${h.getAddress()})`,state:this.subchannel.getConnectivityState(),trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}),this.channelzEnabled),this.channelzEnabled&&this.childrenTracker.refChild(h.getChannelzRef()),this.filterStackFactory=new l.FilterStackFactory([new t.CompressionFilterFactory(this,v)])}close(){this.channelzEnabled&&this.childrenTracker.unrefChild(this.subchannel.getChannelzRef()),(0,e.unregisterChannelzRef)(this.channelzRef)}getTarget(){return(0,f.uriToString)(this.target)}getConnectivityState(h){throw new Error("Method not implemented.")}watchConnectivityState(h,g,v){throw new Error("Method not implemented.")}getChannelzRef(){return this.channelzRef}createCall(h,g){const v={deadline:g,host:(0,o.getDefaultAuthority)(this.target),flags:s.Propagate.DEFAULTS,parentCall:null};return new c(this.subchannel,h,this.filterStackFactory,v,(0,r.getNextCallNumber)())}}return singleSubchannelChannel.SingleSubchannelChannel=d,singleSubchannelChannel}var hasRequiredSubchannel;function requireSubchannel(){if(hasRequiredSubchannel)return subchannel;hasRequiredSubchannel=1,Object.defineProperty(subchannel,"__esModule",{value:!0}),subchannel.Subchannel=void 0;const r=requireConnectivityState(),e=requireBackoffTimeout(),t=requireLogging(),i=requireConstants(),s=requireUriParser(),n=requireSubchannelAddress(),a=requireChannelz(),l=requireSingleSubchannelChannel(),u="subchannel",o=2147483647;class f{constructor(d,p,h,g,v){var m;this.channelTarget=d,this.subchannelAddress=p,this.options=h,this.connector=v,this.connectivityState=r.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.dataProducers=new Map,this.subchannelChannel=null;const y={initialDelay:h["grpc.initial_reconnect_backoff_ms"],maxDelay:h["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new e.BackoffTimeout(()=>{this.handleBackoffTimer()},y),this.backoffTimeout.unref(),this.subchannelAddressString=(0,n.subchannelAddressToString)(p),this.keepaliveTime=(m=h["grpc.keepalive_time_ms"])!==null&&m!==void 0?m:-1,h["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new a.ChannelzTraceStub,this.callTracker=new a.ChannelzCallTrackerStub,this.childrenTracker=new a.ChannelzChildrenTrackerStub,this.streamTracker=new a.ChannelzCallTrackerStub):(this.channelzTrace=new a.ChannelzTrace,this.callTracker=new a.ChannelzCallTracker,this.childrenTracker=new a.ChannelzChildrenTracker,this.streamTracker=new a.ChannelzCallTracker),this.channelzRef=(0,a.registerChannelzSubchannel)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(h,void 0,2)),this.secureConnector=g._createSecureConnector(d,h)}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(d){t.trace(i.LogVerbosity.DEBUG,u,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+d)}refTrace(d){t.trace(i.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+d)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.CONNECTING):this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let d=this.options;if(d["grpc.keepalive_time_ms"]){const p=Math.min(this.keepaliveTime,o);d=Object.assign(Object.assign({},d),{"grpc.keepalive_time_ms":p})}this.connector.connect(this.subchannelAddress,this.secureConnector,d).then(p=>{this.transitionToState([r.ConnectivityState.CONNECTING],r.ConnectivityState.READY)?(this.transport=p,this.channelzEnabled&&this.childrenTracker.refChild(p.getChannelzRef()),p.addDisconnectListener(h=>{this.transitionToState([r.ConnectivityState.READY],r.ConnectivityState.IDLE),h&&this.keepaliveTime>0&&(this.keepaliveTime*=2,t.log(i.LogVerbosity.ERROR,`Connection to ${(0,s.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})):p.shutdown()},p=>{this.transitionToState([r.ConnectivityState.CONNECTING],r.ConnectivityState.TRANSIENT_FAILURE,`${p}`)})}transitionToState(d,p,h){var g,v;if(d.indexOf(this.connectivityState)===-1)return!1;h?this.trace(r.ConnectivityState[this.connectivityState]+" -> "+r.ConnectivityState[p]+' with error "'+h+'"'):this.trace(r.ConnectivityState[this.connectivityState]+" -> "+r.ConnectivityState[p]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connectivity state change to "+r.ConnectivityState[p]);const m=this.connectivityState;switch(this.connectivityState=p,p){case r.ConnectivityState.READY:this.stopBackoff();break;case r.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case r.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(g=this.transport)===null||g===void 0||g.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick(()=>{this.handleBackoffTimer()});break;case r.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),(v=this.transport)===null||v===void 0||v.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${p}`)}for(const y of this.stateListeners)y(this,m,p,this.keepaliveTime,h);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,this.refcount===0&&(this.channelzTrace.addTrace("CT_INFO","Shutting down"),(0,a.unregisterChannelzRef)(this.channelzRef),this.secureConnector.destroy(),process.nextTick(()=>{this.transitionToState([r.ConnectivityState.CONNECTING,r.ConnectivityState.READY],r.ConnectivityState.IDLE)}))}unrefIfOneRef(){return this.refcount===1?(this.unref(),!0):!1}createCall(d,p,h,g){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let v;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),v={onCallEnd:m=>{m.code===i.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):v={},this.transport.createCall(d,p,h,g,v)}startConnecting(){process.nextTick(()=>{this.transitionToState([r.ConnectivityState.IDLE],r.ConnectivityState.CONNECTING)||this.connectivityState===r.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)})}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(d){this.stateListeners.add(d)}removeConnectivityStateListener(d){this.stateListeners.delete(d)}resetBackoff(){process.nextTick(()=>{this.backoffTimeout.reset(),this.transitionToState([r.ConnectivityState.TRANSIENT_FAILURE],r.ConnectivityState.CONNECTING)})}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}isHealthy(){return!0}addHealthStateWatcher(d){}removeHealthStateWatcher(d){}getRealSubchannel(){return this}realSubchannelEquals(d){return d.getRealSubchannel()===this}throttleKeepalive(d){d>this.keepaliveTime&&(this.keepaliveTime=d)}getCallCredentials(){return this.secureConnector.getCallCredentials()}getChannel(){return this.subchannelChannel||(this.subchannelChannel=new l.SingleSubchannelChannel(this,this.channelTarget,this.options)),this.subchannelChannel}addDataWatcher(d){throw new Error("Not implemented")}getOrCreateDataProducer(d,p){const h=this.dataProducers.get(d);if(h)return h;const g=p(this);return this.dataProducers.set(d,g),g}removeDataProducer(d){this.dataProducers.delete(d)}}return subchannel.Subchannel=f,subchannel}var transport={},http_proxy={},resolverDns={},environment={},hasRequiredEnvironment;function requireEnvironment(){if(hasRequiredEnvironment)return environment;hasRequiredEnvironment=1;var r;return Object.defineProperty(environment,"__esModule",{value:!0}),environment.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=void 0,environment.GRPC_NODE_USE_ALTERNATIVE_RESOLVER=((r=process.env.GRPC_NODE_USE_ALTERNATIVE_RESOLVER)!==null&&r!==void 0?r:"false")==="true",environment}var hasRequiredResolverDns;function requireResolverDns(){return hasRequiredResolverDns||(hasRequiredResolverDns=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_PORT=void 0,r.setup=m;const e=requireResolver(),t=require$$1$3,i=requireServiceConfig(),s=requireConstants(),n=requireCallInterface(),a=requireMetadata(),l=requireLogging(),u=requireConstants(),o=requireUriParser(),f=require$$0$2,c=requireBackoffTimeout(),d=requireEnvironment(),p="dns_resolver";function h(y){l.trace(u.LogVerbosity.DEBUG,p,y)}r.DEFAULT_PORT=443;const g=3e4;class v{constructor(b,O,k){var A,M,F;this.target=b,this.listener=O,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,this.returnedIpResult=!1,this.alternativeResolver=new t.promises.Resolver,h("Resolver constructed for target "+(0,o.uriToString)(b)),b.authority&&this.alternativeResolver.setServers([b.authority]);const P=(0,o.splitHostPort)(b.path);P===null?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,f.isIPv4)(P.host)||(0,f.isIPv6)(P.host)?(this.ipResult=[{addresses:[{host:P.host,port:(A=P.port)!==null&&A!==void 0?A:r.DEFAULT_PORT}]}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=P.host,this.port=(M=P.port)!==null&&M!==void 0?M:r.DEFAULT_PORT),this.percentage=Math.random()*100,k["grpc.service_config_disable_resolution"]===1&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:s.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,o.uriToString)(this.target)}`,metadata:new a.Metadata};const L={initialDelay:k["grpc.initial_reconnect_backoff_ms"],maxDelay:k["grpc.max_reconnect_backoff_ms"]};this.backoff=new c.BackoffTimeout(()=>{this.continueResolving&&this.startResolutionWithBackoff()},L),this.backoff.unref(),this.minTimeBetweenResolutionsMs=(F=k["grpc.dns_min_time_between_resolutions_ms"])!==null&&F!==void 0?F:g,this.nextResolutionTimer=setTimeout(()=>{},0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(this.ipResult!==null){this.returnedIpResult||(h("Returning IP address for target "+(0,o.uriToString)(this.target)),setImmediate(()=>{this.listener((0,n.statusOrFromValue)(this.ipResult),{},null,"")}),this.returnedIpResult=!0),this.backoff.stop(),this.backoff.reset(),this.stopNextResolutionTimer();return}if(this.dnsHostname===null)h("Failed to parse DNS address "+(0,o.uriToString)(this.target)),setImmediate(()=>{this.listener((0,n.statusOrFromError)({code:s.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,o.uriToString)(this.target)}`}),{},null,"")}),this.stopNextResolutionTimer();else{if(this.pendingLookupPromise!==null)return;h("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;const b=this.dnsHostname;this.pendingLookupPromise=this.lookup(b),this.pendingLookupPromise.then(O=>{if(this.pendingLookupPromise===null)return;this.pendingLookupPromise=null,this.latestLookupResult=(0,n.statusOrFromValue)(O.map(M=>({addresses:[M]})));const k="["+O.map(M=>M.host+":"+M.port).join(",")+"]";h("Resolved addresses for target "+(0,o.uriToString)(this.target)+": "+k);const A=this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"");this.handleHealthStatus(A)},O=>{this.pendingLookupPromise!==null&&(h("Resolution error for target "+(0,o.uriToString)(this.target)+": "+O.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener((0,n.statusOrFromError)(this.defaultResolutionError),{},this.latestServiceConfigResult,""))}),this.isServiceConfigEnabled&&this.pendingTxtPromise===null&&(this.pendingTxtPromise=this.resolveTxt(b),this.pendingTxtPromise.then(O=>{if(this.pendingTxtPromise===null)return;this.pendingTxtPromise=null;let k;try{k=(0,i.extractAndSelectServiceConfig)(O,this.percentage),k?this.latestServiceConfigResult=(0,n.statusOrFromValue)(k):this.latestServiceConfigResult=null}catch(A){this.latestServiceConfigResult=(0,n.statusOrFromError)({code:s.Status.UNAVAILABLE,details:`Parsing service config failed with error ${A.message}`})}this.latestLookupResult!==null&&this.listener(this.latestLookupResult,{},this.latestServiceConfigResult,"")},O=>{}))}}handleHealthStatus(b){b?(this.backoff.stop(),this.backoff.reset()):this.continueResolving=!0}async lookup(b){if(d.GRPC_NODE_USE_ALTERNATIVE_RESOLVER){h("Using alternative DNS resolver.");const k=await Promise.allSettled([this.alternativeResolver.resolve4(b),this.alternativeResolver.resolve6(b)]);if(k.every(A=>A.status==="rejected"))throw new Error(k[0].reason);return k.reduce((A,M)=>M.status==="fulfilled"?[...A,...M.value]:A,[]).map(A=>({host:A,port:+this.port}))}return(await t.promises.lookup(b,{all:!0})).map(k=>({host:k.address,port:+this.port}))}async resolveTxt(b){return d.GRPC_NODE_USE_ALTERNATIVE_RESOLVER?(h("Using alternative DNS resolver."),this.alternativeResolver.resolveTxt(b)):t.promises.resolveTxt(b)}startNextResolutionTimer(){var b,O;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=setTimeout(()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()},this.minTimeBetweenResolutionsMs),(O=(b=this.nextResolutionTimer).unref)===null||O===void 0||O.call(b),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){this.pendingLookupPromise===null&&(this.continueResolving=!1,this.backoff.runOnce(),this.startNextResolutionTimer(),this.startResolution())}updateResolution(){this.pendingLookupPromise===null&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?(this.isNextResolutionTimerRunning?h('resolution update delayed by "min time between resolutions" rate limit'):h("resolution update delayed by backoff timer until "+this.backoff.getEndTime().toISOString()),this.continueResolving=!0):this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.reset(),this.backoff.stop(),this.stopNextResolutionTimer(),this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfigResult=null,this.returnedIpResult=!1}static getDefaultAuthority(b){return b.path}}function m(){(0,e.registerResolver)("dns",v),(0,e.registerDefaultScheme)("dns")}})(resolverDns)),resolverDns}var hasRequiredHttp_proxy;function requireHttp_proxy(){if(hasRequiredHttp_proxy)return http_proxy;hasRequiredHttp_proxy=1,Object.defineProperty(http_proxy,"__esModule",{value:!0}),http_proxy.parseCIDR=p,http_proxy.mapProxyName=m,http_proxy.getProxiedConnection=y;const r=requireLogging(),e=requireConstants(),t=require$$0$2,i=require$$3$1,s=requireLogging(),n=requireSubchannelAddress(),a=requireUriParser(),l=require$$6$1,u=requireResolverDns(),o="proxy";function f(b){s.trace(e.LogVerbosity.DEBUG,o,b)}function c(){let b="",O="";if(process.env.grpc_proxy)O="grpc_proxy",b=process.env.grpc_proxy;else if(process.env.https_proxy)O="https_proxy",b=process.env.https_proxy;else if(process.env.http_proxy)O="http_proxy",b=process.env.http_proxy;else return{};let k;try{k=new l.URL(b)}catch{return(0,r.log)(e.LogVerbosity.ERROR,`cannot parse value of "${O}" env var`),{}}if(k.protocol!=="http:")return(0,r.log)(e.LogVerbosity.ERROR,`"${k.protocol}" scheme not supported in proxy URI`),{};let A=null;k.username&&(k.password?((0,r.log)(e.LogVerbosity.INFO,"userinfo found in proxy URI"),A=decodeURIComponent(`${k.username}:${k.password}`)):A=k.username);const M=k.hostname;let F=k.port;F===""&&(F="80");const P={address:`${M}:${F}`};return A&&(P.creds=A),f("Proxy server "+P.address+" set by environment variable "+O),P}function d(){let b=process.env.no_grpc_proxy,O="no_grpc_proxy";return b||(b=process.env.no_proxy,O="no_proxy"),b?(f("No proxy server list set by environment variable "+O),b.split(",")):[]}function p(b){const O=b.split("/");if(O.length!==2)return null;const k=parseInt(O[1],10);return!(0,t.isIPv4)(O[0])||Number.isNaN(k)||k<0||k>32?null:{ip:h(O[0]),prefixLength:k}}function h(b){return b.split(".").reduce((O,k)=>(O<<8)+parseInt(k,10),0)}function g(b,O){const k=b.ip,A=-1<<32-b.prefixLength;return(h(O)&A)===(k&A)}function v(b){for(const O of d()){const k=p(O);if((0,t.isIPv4)(b)&&k&&g(k,b))return!0;if(b.endsWith(O))return!0}return!1}function m(b,O){var k;const A={target:b,extraOptions:{}};if(((k=O["grpc.enable_http_proxy"])!==null&&k!==void 0?k:1)===0||b.scheme==="unix")return A;const M=c();if(!M.address)return A;const F=(0,a.splitHostPort)(b.path);if(!F)return A;const P=F.host;if(v(P))return f("Not using proxy for target in no_proxy list: "+(0,a.uriToString)(b)),A;const L={"grpc.http_connect_target":(0,a.uriToString)(b)};return M.creds&&(L["grpc.http_connect_creds"]=M.creds),{target:{scheme:"dns",path:M.address},extraOptions:L}}function y(b,O){var k;if(!("grpc.http_connect_target"in O))return Promise.resolve(null);const A=O["grpc.http_connect_target"],M=(0,a.parseUri)(A);if(M===null)return Promise.resolve(null);const F=(0,a.splitHostPort)(M.path);if(F===null)return Promise.resolve(null);const P=`${F.host}:${(k=F.port)!==null&&k!==void 0?k:u.DEFAULT_PORT}`,L={method:"CONNECT",path:P},q={Host:P};(0,n.isTcpSubchannelAddress)(b)?(L.host=b.host,L.port=b.port):L.socketPath=b.path,"grpc.http_connect_creds"in O&&(q["Proxy-Authorization"]="Basic "+Buffer.from(O["grpc.http_connect_creds"]).toString("base64")),L.headers=q;const w=(0,n.subchannelAddressToString)(b);return f("Using proxy "+w+" to connect to "+L.path),new Promise((N,T)=>{const _=i.request(L);_.once("connect",(R,E,C)=>{_.removeAllListeners(),E.removeAllListeners(),R.statusCode===200?(f("Successfully connected to "+L.path+" through proxy "+w),C.length>0&&E.unshift(C),f("Successfully established a plaintext connection to "+L.path+" through proxy "+w),N(E)):((0,r.log)(e.LogVerbosity.ERROR,"Failed to connect to "+L.path+" through proxy "+w+" with status "+R.statusCode),T())}),_.once("error",R=>{_.removeAllListeners(),(0,r.log)(e.LogVerbosity.ERROR,"Failed to connect to proxy "+w+" with error "+R.message),T()}),_.end()})}return http_proxy}var subchannelCall={},streamDecoder={},hasRequiredStreamDecoder;function requireStreamDecoder(){if(hasRequiredStreamDecoder)return streamDecoder;hasRequiredStreamDecoder=1,Object.defineProperty(streamDecoder,"__esModule",{value:!0}),streamDecoder.StreamDecoder=void 0;var r;(function(t){t[t.NO_DATA=0]="NO_DATA",t[t.READING_SIZE=1]="READING_SIZE",t[t.READING_MESSAGE=2]="READING_MESSAGE"})(r||(r={}));class e{constructor(i){this.maxReadMessageLength=i,this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(i){let s=0,n;const a=[];for(;s<i.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=i.slice(s,s+1),s+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(n=Math.min(i.length-s,this.readSizeRemaining),i.copy(this.readPartialSize,4-this.readSizeRemaining,s,s+n),this.readSizeRemaining-=n,s+=n,this.readSizeRemaining===0){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),this.maxReadMessageLength!==-1&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{const l=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,a.push(l)}}break;case r.READING_MESSAGE:if(n=Math.min(i.length-s,this.readMessageRemaining),this.readPartialMessage.push(i.slice(s,s+n)),this.readMessageRemaining-=n,s+=n,this.readMessageRemaining===0){const l=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),u=Buffer.concat(l,this.readMessageSize+5);this.readState=r.NO_DATA,a.push(u)}break;default:throw new Error("Unexpected read state")}return a}}return streamDecoder.StreamDecoder=e,streamDecoder}var hasRequiredSubchannelCall;function requireSubchannelCall(){if(hasRequiredSubchannelCall)return subchannelCall;hasRequiredSubchannelCall=1,Object.defineProperty(subchannelCall,"__esModule",{value:!0}),subchannelCall.Http2SubchannelCall=void 0;const r=require$$0$5,e=require$$0$1,t=requireConstants(),i=requireMetadata(),s=requireStreamDecoder(),n=requireLogging(),a=requireConstants(),l="subchannel_call";function u(c){for(const[d,p]of Object.entries(e.constants.errno))if(p===c)return d;return"Unknown system error "+c}function o(c){const d=`Received HTTP status code ${c}`;let p;switch(c){case 400:p=t.Status.INTERNAL;break;case 401:p=t.Status.UNAUTHENTICATED;break;case 403:p=t.Status.PERMISSION_DENIED;break;case 404:p=t.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:p=t.Status.UNAVAILABLE;break;default:p=t.Status.UNKNOWN}return{code:p,details:d,metadata:new i.Metadata}}class f{constructor(d,p,h,g,v){var m;this.http2Stream=d,this.callEventTracker=p,this.listener=h,this.transport=g,this.callId=v,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.finalStatus=null,this.internalError=null,this.serverEndedCall=!1,this.connectionDropped=!1;const y=(m=g.getOptions()["grpc.max_receive_message_length"])!==null&&m!==void 0?m:t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new s.StreamDecoder(y),d.on("response",(b,O)=>{let k="";for(const A of Object.keys(b))k+="		"+A+": "+b[A]+`
`;if(this.trace(`Received server headers:
`+k),this.httpStatusCode=b[":status"],O&r.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(b);else{let A;try{A=i.Metadata.fromHttp2Headers(b)}catch(M){this.endCall({code:t.Status.UNKNOWN,details:M.message,metadata:new i.Metadata});return}this.listener.onReceiveMetadata(A)}}),d.on("trailers",b=>{this.handleTrailers(b)}),d.on("data",b=>{if(this.statusOutput)return;this.trace("receive HTTP/2 data frame of length "+b.length);let O;try{O=this.decoder.write(b)}catch(k){if(this.httpStatusCode!==void 0&&this.httpStatusCode!==200){const A=o(this.httpStatusCode);this.cancelWithStatus(A.code,A.details)}else this.cancelWithStatus(t.Status.RESOURCE_EXHAUSTED,k.message);return}for(const k of O)this.trace("parsed message of length "+k.length),this.callEventTracker.addMessageReceived(),this.tryPush(k)}),d.on("end",()=>{this.readsClosed=!0,this.maybeOutputStatus()}),d.on("close",()=>{this.serverEndedCall=!0,process.nextTick(()=>{var b;if(this.trace("HTTP/2 stream closed with code "+d.rstCode),((b=this.finalStatus)===null||b===void 0?void 0:b.code)===t.Status.OK)return;let O,k="";switch(d.rstCode){case r.constants.NGHTTP2_NO_ERROR:if(this.finalStatus!==null)return;if(this.httpStatusCode&&this.httpStatusCode!==200){const A=o(this.httpStatusCode);O=A.code,k=A.details}else O=t.Status.INTERNAL,k=`Received RST_STREAM with code ${d.rstCode} (Call ended without gRPC status)`;break;case r.constants.NGHTTP2_REFUSED_STREAM:O=t.Status.UNAVAILABLE,k="Stream refused by server";break;case r.constants.NGHTTP2_CANCEL:this.connectionDropped?(O=t.Status.UNAVAILABLE,k="Connection dropped"):(O=t.Status.CANCELLED,k="Call cancelled");break;case r.constants.NGHTTP2_ENHANCE_YOUR_CALM:O=t.Status.RESOURCE_EXHAUSTED,k="Bandwidth exhausted or memory limit exceeded";break;case r.constants.NGHTTP2_INADEQUATE_SECURITY:O=t.Status.PERMISSION_DENIED,k="Protocol not secure enough";break;case r.constants.NGHTTP2_INTERNAL_ERROR:O=t.Status.INTERNAL,this.internalError===null?k=`Received RST_STREAM with code ${d.rstCode} (Internal server error)`:this.internalError.code==="ECONNRESET"||this.internalError.code==="ETIMEDOUT"?(O=t.Status.UNAVAILABLE,k=this.internalError.message):k=`Received RST_STREAM with code ${d.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:O=t.Status.INTERNAL,k=`Received RST_STREAM with code ${d.rstCode}`}this.endCall({code:O,details:k,metadata:new i.Metadata,rstCode:d.rstCode})})}),d.on("error",b=>{b.code!=="ERR_HTTP2_STREAM_ERROR"&&(this.trace("Node error event: message="+b.message+" code="+b.code+" errno="+u(b.errno)+" syscall="+b.syscall),this.internalError=b),this.callEventTracker.onStreamEnd(!1)})}getDeadlineInfo(){return[`remote_addr=${this.getPeer()}`]}onDisconnect(){this.connectionDropped=!0,setImmediate(()=>{this.endCall({code:t.Status.UNAVAILABLE,details:"Connection dropped",metadata:new i.Metadata})})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick(()=>{this.listener.onReceiveStatus(this.finalStatus)}),this.http2Stream.resume())}trace(d){n.trace(a.LogVerbosity.DEBUG,l,"["+this.callId+"] "+d)}endCall(d){(this.finalStatus===null||this.finalStatus.code===t.Status.OK)&&(this.finalStatus=d,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){this.finalStatus!==null&&(this.finalStatus.code!==t.Status.OK||this.readsClosed&&this.unpushedReadMessages.length===0&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(d){this.trace("pushing to reader message of length "+(d instanceof Buffer?d.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick(()=>{this.isPushPending=!1,!this.statusOutput&&(this.listener.onReceiveMessage(d),this.maybeOutputStatus())})}tryPush(d){this.canPush?(this.http2Stream.pause(),this.push(d)):(this.trace("unpushedReadMessages.push message of length "+d.length),this.unpushedReadMessages.push(d))}handleTrailers(d){this.serverEndedCall=!0,this.callEventTracker.onStreamEnd(!0);let p="";for(const m of Object.keys(d))p+="		"+m+": "+d[m]+`
`;this.trace(`Received server trailers:
`+p);let h;try{h=i.Metadata.fromHttp2Headers(d)}catch{h=new i.Metadata}const g=h.getMap();let v;if(typeof g["grpc-status"]=="string"){const m=Number(g["grpc-status"]);this.trace("received status code "+m+" from server"),h.remove("grpc-status");let y="";if(typeof g["grpc-message"]=="string"){try{y=decodeURI(g["grpc-message"])}catch{y=g["grpc-message"]}h.remove("grpc-message"),this.trace('received status details string "'+y+'" from server')}v={code:m,details:y,metadata:h}}else this.httpStatusCode?(v=o(this.httpStatusCode),v.metadata=h):v={code:t.Status.UNKNOWN,details:"No status information received",metadata:h};this.endCall(v)}destroyHttp2Stream(){var d;if(!this.http2Stream.destroyed)if(this.serverEndedCall)this.http2Stream.end();else{let p;((d=this.finalStatus)===null||d===void 0?void 0:d.code)===t.Status.OK?p=r.constants.NGHTTP2_NO_ERROR:p=r.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+p),this.http2Stream.close(p)}}cancelWithStatus(d,p){this.trace("cancelWithStatus code: "+d+' details: "'+p+'"'),this.endCall({code:d,details:p,metadata:new i.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}getAuthContext(){return this.transport.getAuthContext()}startRead(){if(this.finalStatus!==null&&this.finalStatus.code!==t.Status.OK){this.readsClosed=!0,this.maybeOutputStatus();return}if(this.canPush=!0,this.unpushedReadMessages.length>0){const d=this.unpushedReadMessages.shift();this.push(d);return}this.http2Stream.resume()}sendMessageWithContext(d,p){this.trace("write() called with message of length "+p.length);const h=g=>{process.nextTick(()=>{var v;let m=t.Status.UNAVAILABLE;g?.code==="ERR_STREAM_WRITE_AFTER_END"&&(m=t.Status.INTERNAL),g&&this.cancelWithStatus(m,`Write error: ${g.message}`),(v=d.callback)===null||v===void 0||v.call(d)})};this.trace("sending data chunk of length "+p.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(p,h)}catch(g){this.endCall({code:t.Status.UNAVAILABLE,details:`Write failed with error ${g.message}`,metadata:new i.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}return subchannelCall.Http2SubchannelCall=f,subchannelCall}var hasRequiredTransport;function requireTransport(){if(hasRequiredTransport)return transport;hasRequiredTransport=1,Object.defineProperty(transport,"__esModule",{value:!0}),transport.Http2SubchannelConnector=void 0;const r=require$$0$5,e=require$$0,t=requireChannelz(),i=requireConstants(),s=requireHttp_proxy(),n=requireLogging(),a=requireResolver(),l=requireSubchannelAddress(),u=requireUriParser(),o=require$$0$2,f=requireSubchannelCall(),c=requireCallNumber(),d="transport",p="transport_flowctrl",h=require$$12.version,{HTTP2_HEADER_AUTHORITY:g,HTTP2_HEADER_CONTENT_TYPE:v,HTTP2_HEADER_METHOD:m,HTTP2_HEADER_PATH:y,HTTP2_HEADER_TE:b,HTTP2_HEADER_USER_AGENT:O}=r.constants,k=2e4,A=Buffer.from("too_many_pings","ascii");class M{constructor(L,q,w,N){this.session=L,this.options=w,this.remoteName=N,this.keepaliveTimer=null,this.pendingSendKeepalivePing=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,l.subchannelAddressToString)(q),w["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.streamTracker=new t.ChannelzCallTrackerStub):this.streamTracker=new t.ChannelzCallTracker,this.channelzRef=(0,t.registerChannelzSocket)(this.subchannelAddressString,()=>this.getChannelzInfo(),this.channelzEnabled),this.userAgent=[w["grpc.primary_user_agent"],`grpc-node-js/${h}`,w["grpc.secondary_user_agent"]].filter(T=>T).join(" "),"grpc.keepalive_time_ms"in w?this.keepaliveTimeMs=w["grpc.keepalive_time_ms"]:this.keepaliveTimeMs=-1,"grpc.keepalive_timeout_ms"in w?this.keepaliveTimeoutMs=w["grpc.keepalive_timeout_ms"]:this.keepaliveTimeoutMs=k,"grpc.keepalive_permit_without_calls"in w?this.keepaliveWithoutCalls=w["grpc.keepalive_permit_without_calls"]===1:this.keepaliveWithoutCalls=!1,L.once("close",()=>{this.trace("session closed"),this.handleDisconnect()}),L.once("goaway",(T,_,R)=>{let E=!1;T===r.constants.NGHTTP2_ENHANCE_YOUR_CALM&&R&&R.equals(A)&&(E=!0),this.trace("connection closed by GOAWAY with code "+T+" and data "+R?.toString()),this.reportDisconnectToOwner(E)}),L.once("error",T=>{this.trace("connection closed with error "+T.message),this.handleDisconnect()}),L.socket.once("close",T=>{this.trace("connection closed. hadError="+T),this.handleDisconnect()}),n.isTracerEnabled(d)&&(L.on("remoteSettings",T=>{this.trace("new settings received"+(this.session!==L?" on the old connection":"")+": "+JSON.stringify(T))}),L.on("localSettings",T=>{this.trace("local settings acknowledged by remote"+(this.session!==L?" on the old connection":"")+": "+JSON.stringify(T))})),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer(),L.socket instanceof e.TLSSocket?this.authContext={transportSecurityType:"ssl",sslPeerCertificate:L.socket.getPeerCertificate()}:this.authContext={}}getChannelzInfo(){var L,q,w;const N=this.session.socket,T=N.remoteAddress?(0,l.stringToSubchannelAddress)(N.remoteAddress,N.remotePort):null,_=N.localAddress?(0,l.stringToSubchannelAddress)(N.localAddress,N.localPort):null;let R;if(this.session.encrypted){const C=N,S=C.getCipher(),I=C.getCertificate(),D=C.getPeerCertificate();R={cipherSuiteStandardName:(L=S.standardName)!==null&&L!==void 0?L:null,cipherSuiteOtherName:S.standardName?null:S.name,localCertificate:I&&"raw"in I?I.raw:null,remoteCertificate:D&&"raw"in D?D.raw:null}}else R=null;return{remoteAddress:T,localAddress:_,security:R,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:(q=this.session.state.localWindowSize)!==null&&q!==void 0?q:null,remoteFlowControlWindow:(w=this.session.state.remoteWindowSize)!==null&&w!==void 0?w:null}}trace(L){n.trace(i.LogVerbosity.DEBUG,d,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+L)}keepaliveTrace(L){n.trace(i.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+L)}flowControlTrace(L){n.trace(i.LogVerbosity.DEBUG,p,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+L)}internalsTrace(L){n.trace(i.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+L)}reportDisconnectToOwner(L){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach(q=>q(L)))}handleDisconnect(){this.clearKeepaliveTimeout(),this.reportDisconnectToOwner(!1);for(const L of this.activeCalls)L.onDisconnect();setImmediate(()=>{this.session.destroy()})}addDisconnectListener(L){this.disconnectListeners.push(L)}canSendPing(){return!this.session.destroyed&&this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var L,q;if(!this.canSendPing()){this.pendingSendKeepalivePing=!0;return}if(this.keepaliveTimer){console.error("keepaliveTimeout is not null");return}this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()},this.keepaliveTimeoutMs),(q=(L=this.keepaliveTimer).unref)===null||q===void 0||q.call(L);let w="";try{this.session.ping((T,_,R)=>{this.clearKeepaliveTimeout(),T?(this.keepaliveTrace("Ping failed with error "+T.message),this.handleDisconnect()):(this.keepaliveTrace("Received ping response"),this.maybeStartKeepalivePingTimer())})||(w="Ping returned false")}catch(N){w=(N instanceof Error?N.message:"")||"Unknown error"}w&&(this.keepaliveTrace("Ping send failed: "+w),this.handleDisconnect())}maybeStartKeepalivePingTimer(){var L,q;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimer||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimer=setTimeout(()=>{this.keepaliveTimer=null,this.maybeSendPing()},this.keepaliveTimeMs),(q=(L=this.keepaliveTimer).unref)===null||q===void 0||q.call(L)))}clearKeepaliveTimeout(){this.keepaliveTimer&&(clearTimeout(this.keepaliveTimer),this.keepaliveTimer=null)}removeActiveCall(L){this.activeCalls.delete(L),this.activeCalls.size===0&&this.session.unref()}addActiveCall(L){this.activeCalls.add(L),this.activeCalls.size===1&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(L,q,w,N,T){const _=L.toHttp2Headers();_[g]=q,_[O]=this.userAgent,_[v]="application/grpc",_[m]="POST",_[y]=w,_[b]="trailers";let R;try{R=this.session.request(_)}catch(S){throw this.handleDisconnect(),S}this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed);let E,C;return this.channelzEnabled?(this.streamTracker.addCallStarted(),E={addMessageSent:()=>{var S;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,(S=T.addMessageSent)===null||S===void 0||S.call(T)},addMessageReceived:()=>{var S;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,(S=T.addMessageReceived)===null||S===void 0||S.call(T)},onCallEnd:S=>{var I;(I=T.onCallEnd)===null||I===void 0||I.call(T,S),this.removeActiveCall(C)},onStreamEnd:S=>{var I;S?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),(I=T.onStreamEnd)===null||I===void 0||I.call(T,S)}}):E={addMessageSent:()=>{var S;(S=T.addMessageSent)===null||S===void 0||S.call(T)},addMessageReceived:()=>{var S;(S=T.addMessageReceived)===null||S===void 0||S.call(T)},onCallEnd:S=>{var I;(I=T.onCallEnd)===null||I===void 0||I.call(T,S),this.removeActiveCall(C)},onStreamEnd:S=>{var I;(I=T.onStreamEnd)===null||I===void 0||I.call(T,S)}},C=new f.Http2SubchannelCall(R,E,N,this,(0,c.getNextCallNumber)()),this.addActiveCall(C),C}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}getAuthContext(){return this.authContext}shutdown(){this.session.close(),(0,t.unregisterChannelzRef)(this.channelzRef)}}class F{constructor(L){this.channelTarget=L,this.session=null,this.isShutdown=!1}trace(L){n.trace(i.LogVerbosity.DEBUG,d,(0,u.uriToString)(this.channelTarget)+" "+L)}createSession(L,q,w){return this.isShutdown?Promise.reject():L.socket.closed?Promise.reject("Connection closed before starting HTTP/2 handshake"):new Promise((N,T)=>{var _,R,E,C,S,I,D,B;let x=null,j=this.channelTarget;if("grpc.http_connect_target"in w){const ae=(0,u.parseUri)(w["grpc.http_connect_target"]);ae&&(j=ae,x=(0,u.uriToString)(ae))}const $=L.secure?"https":"http",W=(0,a.getDefaultAuthority)(j),U=()=>{var ae;(ae=this.session)===null||ae===void 0||ae.destroy(),this.session=null,setImmediate(()=>{se||(se=!0,T(`${re.trim()} (${new Date().toISOString()})`))})},z=ae=>{var ee;(ee=this.session)===null||ee===void 0||ee.destroy(),re=ae.message,this.trace("connection failed with error "+re),se||(se=!0,T(`${re} (${new Date().toISOString()})`))},X={createConnection:(ae,ee)=>L.socket,settings:{initialWindowSize:(C=(_=w["grpc-node.flow_control_window"])!==null&&_!==void 0?_:(E=(R=r.getDefaultSettings)===null||R===void 0?void 0:R.call(r))===null||E===void 0?void 0:E.initialWindowSize)!==null&&C!==void 0?C:65535},maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER,maxSessionMemory:(S=w["grpc-node.max_session_memory"])!==null&&S!==void 0?S:Number.MAX_SAFE_INTEGER},K=r.connect(`${$}://${W}`,X),Y=(B=(D=(I=r.getDefaultSettings)===null||I===void 0?void 0:I.call(r))===null||D===void 0?void 0:D.initialWindowSize)!==null&&B!==void 0?B:65535,te=w["grpc-node.flow_control_window"];this.session=K;let re="Failed to connect",se=!1;K.unref(),K.once("remoteSettings",()=>{var ae;if(te&&te>Y)try{K.setLocalWindowSize(te)}catch{const oe=te-((ae=K.state.localWindowSize)!==null&&ae!==void 0?ae:Y);oe>0&&K.incrementWindowSize(oe)}K.removeAllListeners(),L.socket.removeListener("close",U),L.socket.removeListener("error",z),N(new M(K,q,w,x)),this.session=null}),K.once("close",U),K.once("error",z),L.socket.once("close",U),L.socket.once("error",z)})}tcpConnect(L,q){return(0,s.getProxiedConnection)(L,q).then(w=>w||new Promise((N,T)=>{const _=()=>{T(new Error("Socket closed"))},R=C=>{T(C)},E=o.connect(L,()=>{E.removeListener("close",_),E.removeListener("error",R),N(E)});E.once("close",_),E.once("error",R)}))}async connect(L,q,w){if(this.isShutdown)return Promise.reject();let N=null,T=null;const _=(0,l.subchannelAddressToString)(L);try{return this.trace(_+" Waiting for secureConnector to be ready"),await q.waitForReady(),this.trace(_+" secureConnector is ready"),N=await this.tcpConnect(L,w),N.setNoDelay(),this.trace(_+" Established TCP connection"),T=await q.connect(N),this.trace(_+" Established secure connection"),this.createSession(T,L,w)}catch(R){throw N?.destroy(),T?.socket.destroy(),R}}shutdown(){var L;this.isShutdown=!0,(L=this.session)===null||L===void 0||L.close(),this.session=null}}return transport.Http2SubchannelConnector=F,transport}var hasRequiredSubchannelPool;function requireSubchannelPool(){if(hasRequiredSubchannelPool)return subchannelPool;hasRequiredSubchannelPool=1,Object.defineProperty(subchannelPool,"__esModule",{value:!0}),subchannelPool.SubchannelPool=void 0,subchannelPool.getSubchannelPool=u;const r=requireChannelOptions(),e=requireSubchannel(),t=requireSubchannelAddress(),i=requireUriParser(),s=requireTransport(),n=1e4;class a{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let f=!0;for(const c in this.pool){const p=this.pool[c].filter(h=>!h.subchannel.unrefIfOneRef());p.length>0&&(f=!1),this.pool[c]=p}f&&this.cleanupTimer!==null&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var f,c;this.cleanupTimer===null&&(this.cleanupTimer=setInterval(()=>{this.unrefUnusedSubchannels()},n),(c=(f=this.cleanupTimer).unref)===null||c===void 0||c.call(f))}getOrCreateSubchannel(f,c,d,p){this.ensureCleanupTask();const h=(0,i.uriToString)(f);if(h in this.pool){const v=this.pool[h];for(const m of v)if((0,t.subchannelAddressEqual)(c,m.subchannelAddress)&&(0,r.channelOptionsEqual)(d,m.channelArguments)&&p._equals(m.channelCredentials))return m.subchannel}const g=new e.Subchannel(f,c,d,p,new s.Http2SubchannelConnector(f));return h in this.pool||(this.pool[h]=[]),this.pool[h].push({subchannelAddress:c,channelArguments:d,channelCredentials:p,subchannel:g}),g.ref(),g}}subchannelPool.SubchannelPool=a;const l=new a;function u(o){return o?l:new a}return subchannelPool}var loadBalancingCall={},hasRequiredLoadBalancingCall;function requireLoadBalancingCall(){if(hasRequiredLoadBalancingCall)return loadBalancingCall;hasRequiredLoadBalancingCall=1,Object.defineProperty(loadBalancingCall,"__esModule",{value:!0}),loadBalancingCall.LoadBalancingCall=void 0;const r=requireConnectivityState(),e=requireConstants(),t=requireDeadline(),i=requireMetadata(),s=requirePicker(),n=requireUriParser(),a=requireLogging(),l=requireControlPlaneStatus(),u=require$$0$5,o="load_balancing_call";class f{constructor(d,p,h,g,v,m,y){var b,O;this.channel=d,this.callConfig=p,this.methodName=h,this.host=g,this.credentials=v,this.deadline=m,this.callNumber=y,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null,this.childStartTime=null;const k=this.methodName.split("/");let A="";k.length>=2&&(A=k[1]);const M=(O=(b=(0,n.splitHostPort)(this.host))===null||b===void 0?void 0:b.host)!==null&&O!==void 0?O:"localhost";this.serviceUrl=`https://${M}/${A}`,this.startTime=new Date}getDeadlineInfo(){var d,p;const h=[];return this.childStartTime?(this.childStartTime>this.startTime&&(!((d=this.metadata)===null||d===void 0)&&d.getOptions().waitForReady&&h.push("wait_for_ready"),h.push(`LB pick: ${(0,t.formatDateDifference)(this.startTime,this.childStartTime)}`)),h.push(...this.child.getDeadlineInfo()),h):(!((p=this.metadata)===null||p===void 0)&&p.getOptions().waitForReady&&h.push("wait_for_ready"),h.push("Waiting for LB pick"),h)}trace(d){a.trace(e.LogVerbosity.DEBUG,o,"["+this.callNumber+"] "+d)}outputStatus(d,p){var h,g;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+d.code+' details="'+d.details+'" start time='+this.startTime.toISOString());const v=Object.assign(Object.assign({},d),{progress:p});(h=this.listener)===null||h===void 0||h.onReceiveStatus(v),(g=this.onCallEnded)===null||g===void 0||g.call(this,v.code,v.details,v.metadata)}}doPick(){var d,p;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");const h=this.metadata.clone(),g=this.channel.doPick(h,this.callConfig.pickInformation),v=g.subchannel?"("+g.subchannel.getChannelzRef().id+") "+g.subchannel.getAddress():""+g.subchannel;switch(this.trace("Pick result: "+s.PickResultType[g.pickResultType]+" subchannel: "+v+" status: "+((d=g.status)===null||d===void 0?void 0:d.code)+" "+((p=g.status)===null||p===void 0?void 0:p.details)),g.pickResultType){case s.PickResultType.COMPLETE:this.credentials.compose(g.subchannel.getCallCredentials()).generateMetadata({method_name:this.methodName,service_url:this.serviceUrl}).then(O=>{var k;if(this.ended){this.trace("Credentials metadata generation finished after call ended");return}if(h.merge(O),h.get("authorization").length>1&&this.outputStatus({code:e.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new i.Metadata},"PROCESSED"),g.subchannel.getConnectivityState()!==r.ConnectivityState.READY){this.trace("Picked subchannel "+v+" has state "+r.ConnectivityState[g.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),this.doPick();return}this.deadline!==1/0&&h.set("grpc-timeout",(0,t.getDeadlineTimeoutString)(this.deadline));try{this.child=g.subchannel.getRealSubchannel().createCall(h,this.host,this.methodName,{onReceiveMetadata:A=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(A)},onReceiveMessage:A=>{this.trace("Received message"),this.listener.onReceiveMessage(A)},onReceiveStatus:A=>{this.trace("Received status"),A.rstCode===u.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(A,"REFUSED"):this.outputStatus(A,"PROCESSED")}}),this.childStartTime=new Date}catch(A){this.trace("Failed to start call on picked subchannel "+v+" with error "+A.message),this.outputStatus({code:e.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+A.message,metadata:new i.Metadata},"NOT_STARTED");return}(k=g.onCallStarted)===null||k===void 0||k.call(g),this.onCallEnded=g.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()},O=>{const{code:k,details:A}=(0,l.restrictControlPlaneStatusCode)(typeof O.code=="number"?O.code:e.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${O.message}`);this.outputStatus({code:k,details:A,metadata:new i.Metadata},"PROCESSED")});break;case s.PickResultType.DROP:const{code:y,details:b}=(0,l.restrictControlPlaneStatusCode)(g.status.code,g.status.details);setImmediate(()=>{this.outputStatus({code:y,details:b,metadata:g.status.metadata},"DROP")});break;case s.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{const{code:O,details:k}=(0,l.restrictControlPlaneStatusCode)(g.status.code,g.status.details);setImmediate(()=>{this.outputStatus({code:O,details:k,metadata:g.status.metadata},"PROCESSED")})}break;case s.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(d,p){var h;this.trace("cancelWithStatus code: "+d+' details: "'+p+'"'),(h=this.child)===null||h===void 0||h.cancelWithStatus(d,p),this.outputStatus({code:d,details:p,metadata:new i.Metadata},"PROCESSED")}getPeer(){var d,p;return(p=(d=this.child)===null||d===void 0?void 0:d.getPeer())!==null&&p!==void 0?p:this.channel.getTarget()}start(d,p){this.trace("start called"),this.listener=p,this.metadata=d,this.doPick()}sendMessageWithContext(d,p){this.trace("write() called with message of length "+p.length),this.child?this.child.sendMessageWithContext(d,p):this.pendingMessage={context:d,message:p}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(d){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}}return loadBalancingCall.LoadBalancingCall=f,loadBalancingCall}var resolvingCall={},hasRequiredResolvingCall;function requireResolvingCall(){if(hasRequiredResolvingCall)return resolvingCall;hasRequiredResolvingCall=1,Object.defineProperty(resolvingCall,"__esModule",{value:!0}),resolvingCall.ResolvingCall=void 0;const r=requireCallCredentials(),e=requireConstants(),t=requireDeadline(),i=requireMetadata(),s=requireLogging(),n=requireControlPlaneStatus(),a="resolving_call";class l{constructor(o,f,c,d,p){this.channel=o,this.method=f,this.filterStackFactory=d,this.callNumber=p,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout(()=>{},0),this.filterStack=null,this.deadlineStartTime=null,this.configReceivedTime=null,this.childStartTime=null,this.credentials=r.CallCredentials.createEmpty(),this.deadline=c.deadline,this.host=c.host,c.parentCall&&(c.flags&e.Propagate.CANCELLATION&&c.parentCall.on("cancelled",()=>{this.cancelWithStatus(e.Status.CANCELLED,"Cancelled by parent call")}),c.flags&e.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+c.parentCall.getDeadline()),this.deadline=(0,t.minDeadline)(this.deadline,c.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(o){s.trace(e.LogVerbosity.DEBUG,a,"["+this.callNumber+"] "+o)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.deadlineStartTime=new Date,this.trace("Deadline: "+(0,t.deadlineToString)(this.deadline));const o=(0,t.getRelativeTimeout)(this.deadline);if(o!==1/0){this.trace("Deadline will be reached in "+o+"ms");const f=()=>{if(!this.deadlineStartTime){this.cancelWithStatus(e.Status.DEADLINE_EXCEEDED,"Deadline exceeded");return}const c=[],d=new Date;c.push(`Deadline exceeded after ${(0,t.formatDateDifference)(this.deadlineStartTime,d)}`),this.configReceivedTime?(this.configReceivedTime>this.deadlineStartTime&&c.push(`name resolution: ${(0,t.formatDateDifference)(this.deadlineStartTime,this.configReceivedTime)}`),this.childStartTime?this.childStartTime>this.configReceivedTime&&c.push(`metadata filters: ${(0,t.formatDateDifference)(this.configReceivedTime,this.childStartTime)}`):c.push("waiting for metadata filters")):c.push("waiting for name resolution"),this.child&&c.push(...this.child.getDeadlineInfo()),this.cancelWithStatus(e.Status.DEADLINE_EXCEEDED,c.join(","))};o<=0?process.nextTick(f):this.deadlineTimer=setTimeout(f,o)}}outputStatus(o){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);const f=this.filterStack.receiveTrailers(o);this.trace("ended with status: code="+f.code+' details="'+f.details+'"'),this.statusWatchers.forEach(c=>c(f)),process.nextTick(()=>{var c;(c=this.listener)===null||c===void 0||c.onReceiveStatus(f)})}}sendMessageOnChild(o,f){if(!this.child)throw new Error("sendMessageonChild called with child not populated");const c=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:f,flags:o.flags})).then(d=>{this.writeFilterPending=!1,c.sendMessageWithContext(o,d.message),this.pendingHalfClose&&c.halfClose()},d=>{this.cancelWithStatus(d.code,d.details)})}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");const o=this.channel.getConfig(this.method,this.metadata);if(o.type==="NONE"){this.channel.queueCallForConfig(this);return}else if(o.type==="ERROR"){this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(o.error);return}this.configReceivedTime=new Date;const f=o.config;if(f.status!==e.Status.OK){const{code:c,details:d}=(0,n.restrictControlPlaneStatusCode)(f.status,"Failed to route call to method "+this.method);this.outputStatus({code:c,details:d,metadata:new i.Metadata});return}if(f.methodConfig.timeout){const c=new Date;c.setSeconds(c.getSeconds()+f.methodConfig.timeout.seconds),c.setMilliseconds(c.getMilliseconds()+f.methodConfig.timeout.nanos/1e6),this.deadline=(0,t.minDeadline)(this.deadline,c),this.runDeadlineTimer()}this.filterStackFactory.push(f.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then(c=>{this.child=this.channel.createRetryingCall(f,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.childStartTime=new Date,this.child.start(c,{onReceiveMetadata:d=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(d))},onReceiveMessage:d=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(d).then(p=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(p),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)},p=>{this.cancelWithStatus(p.code,p.details)})},onReceiveStatus:d=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=d:this.outputStatus(d)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()},c=>{this.outputStatus(c)})}reportResolverError(o){var f;!((f=this.metadata)===null||f===void 0)&&f.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(o)}cancelWithStatus(o,f){var c;this.trace("cancelWithStatus code: "+o+' details: "'+f+'"'),(c=this.child)===null||c===void 0||c.cancelWithStatus(o,f),this.outputStatus({code:o,details:f,metadata:new i.Metadata})}getPeer(){var o,f;return(f=(o=this.child)===null||o===void 0?void 0:o.getPeer())!==null&&f!==void 0?f:this.channel.getTarget()}start(o,f){this.trace("start called"),this.metadata=o.clone(),this.listener=f,this.getConfig()}sendMessageWithContext(o,f){this.trace("write() called with message of length "+f.length),this.child?this.sendMessageOnChild(o,f):this.pendingMessage={context:o,message:f}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(o){this.credentials=o}addStatusWatcher(o){this.statusWatchers.push(o)}getCallNumber(){return this.callNumber}getAuthContext(){return this.child?this.child.getAuthContext():null}}return resolvingCall.ResolvingCall=l,resolvingCall}var retryingCall={},hasRequiredRetryingCall;function requireRetryingCall(){if(hasRequiredRetryingCall)return retryingCall;hasRequiredRetryingCall=1,Object.defineProperty(retryingCall,"__esModule",{value:!0}),retryingCall.RetryingCall=retryingCall.MessageBufferTracker=retryingCall.RetryThrottler=void 0;const r=requireConstants(),e=requireDeadline(),t=requireMetadata(),i=requireLogging(),s="retrying_call";class n{constructor(c,d,p){this.maxTokens=c,this.tokenRatio=d,p?this.tokens=p.tokens*(c/p.maxTokens):this.tokens=c}addCallSucceeded(){this.tokens=Math.min(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.max(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}}retryingCall.RetryThrottler=n;class a{constructor(c,d){this.totalLimit=c,this.limitPerCall=d,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(c,d){var p;const h=(p=this.allocatedPerCall.get(d))!==null&&p!==void 0?p:0;return this.limitPerCall-h<c||this.totalLimit-this.totalAllocated<c?!1:(this.allocatedPerCall.set(d,h+c),this.totalAllocated+=c,!0)}free(c,d){var p;if(this.totalAllocated<c)throw new Error(`Invalid buffer allocation state: call ${d} freed ${c} > total allocated ${this.totalAllocated}`);this.totalAllocated-=c;const h=(p=this.allocatedPerCall.get(d))!==null&&p!==void 0?p:0;if(h<c)throw new Error(`Invalid buffer allocation state: call ${d} freed ${c} > allocated for call ${h}`);this.allocatedPerCall.set(d,h-c)}freeAll(c){var d;const p=(d=this.allocatedPerCall.get(c))!==null&&d!==void 0?d:0;if(this.totalAllocated<p)throw new Error(`Invalid buffer allocation state: call ${c} allocated ${p} > total allocated ${this.totalAllocated}`);this.totalAllocated-=p,this.allocatedPerCall.delete(c)}}retryingCall.MessageBufferTracker=a;const l="grpc-previous-rpc-attempts",u=5;class o{constructor(c,d,p,h,g,v,m,y,b){var O;this.channel=c,this.callConfig=d,this.methodName=p,this.host=h,this.credentials=g,this.deadline=v,this.callNumber=m,this.bufferTracker=y,this.retryThrottler=b,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0;const k=(O=c.getOptions()["grpc-node.retry_max_attempts_limit"])!==null&&O!==void 0?O:u;if(c.getOptions()["grpc.enable_retries"]===0)this.state="NO_RETRY",this.maxAttempts=1;else if(d.methodConfig.retryPolicy){this.state="RETRY";const A=d.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(A.initialBackoff.substring(0,A.initialBackoff.length-1)),this.maxAttempts=Math.min(A.maxAttempts,k)}else d.methodConfig.hedgingPolicy?(this.state="HEDGING",this.maxAttempts=Math.min(d.methodConfig.hedgingPolicy.maxAttempts,k)):(this.state="TRANSPARENT_ONLY",this.maxAttempts=1);this.startTime=new Date}getDeadlineInfo(){if(this.underlyingCalls.length===0)return[];const c=[],d=this.underlyingCalls[this.underlyingCalls.length-1];return this.underlyingCalls.length>1&&c.push(`previous attempts: ${this.underlyingCalls.length-1}`),d.startTime>this.startTime&&c.push(`time to current attempt start: ${(0,e.formatDateDifference)(this.startTime,d.startTime)}`),c.push(...d.call.getDeadlineInfo()),c}getCallNumber(){return this.callNumber}trace(c){i.trace(r.LogVerbosity.DEBUG,s,"["+this.callNumber+"] "+c)}reportStatus(c){this.trace("ended with status: code="+c.code+' details="'+c.details+'" start time='+this.startTime.toISOString()),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick(()=>{var d;(d=this.listener)===null||d===void 0||d.onReceiveStatus({code:c.code,details:c.details,metadata:c.metadata})})}cancelWithStatus(c,d){this.trace("cancelWithStatus code: "+c+' details: "'+d+'"'),this.reportStatus({code:c,details:d,metadata:new t.Metadata});for(const{call:p}of this.underlyingCalls)p.cancelWithStatus(c,d)}getPeer(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(c){var d;return(d=this.writeBuffer[c-this.writeBufferOffset])!==null&&d!==void 0?d:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if(this.state!=="COMMITTED")return;let c;this.underlyingCalls[this.committedCallIndex].state==="COMPLETED"?c=this.getNextBufferIndex():c=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let d=this.writeBufferOffset;d<c;d++){const p=this.getBufferEntry(d);p.allocated&&this.bufferTracker.free(p.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(c-this.writeBufferOffset),this.writeBufferOffset=c}commitCall(c){var d,p;if(this.state!=="COMMITTED"){this.trace("Committing call ["+this.underlyingCalls[c].call.getCallNumber()+"] at index "+c),this.state="COMMITTED",(p=(d=this.callConfig).onCommitted)===null||p===void 0||p.call(d),this.committedCallIndex=c;for(let h=0;h<this.underlyingCalls.length;h++)h!==c&&this.underlyingCalls[h].state!=="COMPLETED"&&(this.underlyingCalls[h].state="COMPLETED",this.underlyingCalls[h].call.cancelWithStatus(r.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if(this.state==="COMMITTED")return;let c=-1,d=-1;for(const[p,h]of this.underlyingCalls.entries())h.state==="ACTIVE"&&h.nextMessageToSend>c&&(c=h.nextMessageToSend,d=p);d===-1?this.state="TRANSPARENT_ONLY":this.commitCall(d)}isStatusCodeInList(c,d){return c.some(p=>{var h;return p===d||p.toString().toLowerCase()===((h=r.Status[d])===null||h===void 0?void 0:h.toLowerCase())})}getNextRetryJitter(){return Math.random()*(1.2-.8)+.8}getNextRetryBackoffMs(){var c;const d=(c=this.callConfig)===null||c===void 0?void 0:c.methodConfig.retryPolicy;if(!d)return 0;const h=this.getNextRetryJitter()*this.nextRetryBackoffSec*1e3,g=Number(d.maxBackoff.substring(0,d.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*d.backoffMultiplier,g),h}maybeRetryCall(c,d){if(this.state!=="RETRY"){d(!1);return}if(this.attempts>=this.maxAttempts){d(!1);return}let p;if(c===null)p=this.getNextRetryBackoffMs();else if(c<0){this.state="TRANSPARENT_ONLY",d(!1);return}else p=c,this.nextRetryBackoffSec=this.initialRetryBackoffSec;setTimeout(()=>{var h,g;if(this.state!=="RETRY"){d(!1);return}!((g=(h=this.retryThrottler)===null||h===void 0?void 0:h.canRetryCall())!==null&&g!==void 0)||g?(d(!0),this.attempts+=1,this.startNewAttempt()):(this.trace("Retry attempt denied by throttling policy"),d(!1))},p)}countActiveCalls(){let c=0;for(const d of this.underlyingCalls)d?.state==="ACTIVE"&&(c+=1);return c}handleProcessedStatus(c,d,p){var h,g,v;switch(this.state){case"COMMITTED":case"NO_RETRY":case"TRANSPARENT_ONLY":this.commitCall(d),this.reportStatus(c);break;case"HEDGING":if(this.isStatusCodeInList((h=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)!==null&&h!==void 0?h:[],c.code)){(g=this.retryThrottler)===null||g===void 0||g.addCallFailed();let m;if(p===null)m=0;else if(p<0){this.state="TRANSPARENT_ONLY",this.commitCall(d),this.reportStatus(c);return}else m=p;setTimeout(()=>{this.maybeStartHedgingAttempt(),this.countActiveCalls()===0&&(this.commitCall(d),this.reportStatus(c))},m)}else this.commitCall(d),this.reportStatus(c);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,c.code)?((v=this.retryThrottler)===null||v===void 0||v.addCallFailed(),this.maybeRetryCall(p,m=>{m||(this.commitCall(d),this.reportStatus(c))})):(this.commitCall(d),this.reportStatus(c));break}}getPushback(c){const d=c.get("grpc-retry-pushback-ms");if(d.length===0)return null;try{return parseInt(d[0])}catch{return-1}}handleChildStatus(c,d){var p;if(this.underlyingCalls[d].state==="COMPLETED")return;if(this.trace("state="+this.state+" handling status with progress "+c.progress+" from child ["+this.underlyingCalls[d].call.getCallNumber()+"] in state "+this.underlyingCalls[d].state),this.underlyingCalls[d].state="COMPLETED",c.code===r.Status.OK){(p=this.retryThrottler)===null||p===void 0||p.addCallSucceeded(),this.commitCall(d),this.reportStatus(c);return}if(this.state==="NO_RETRY"){this.commitCall(d),this.reportStatus(c);return}if(this.state==="COMMITTED"){this.reportStatus(c);return}const h=this.getPushback(c.metadata);switch(c.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(c,d,h):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(d),this.reportStatus(c);break;case"PROCESSED":this.handleProcessedStatus(c,d,h);break}}maybeStartHedgingAttempt(){this.state==="HEDGING"&&this.callConfig.methodConfig.hedgingPolicy&&(this.attempts>=this.maxAttempts||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()))}maybeStartHedgingTimer(){var c,d,p;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),this.state!=="HEDGING"||!this.callConfig.methodConfig.hedgingPolicy)return;const h=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=this.maxAttempts)return;const g=(c=h.hedgingDelay)!==null&&c!==void 0?c:"0s",v=Number(g.substring(0,g.length-1));this.hedgingTimer=setTimeout(()=>{this.maybeStartHedgingAttempt()},v*1e3),(p=(d=this.hedgingTimer).unref)===null||p===void 0||p.call(d)}startNewAttempt(){const c=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+c.getCallNumber()+"] for attempt "+this.attempts);const d=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:c,nextMessageToSend:0,startTime:new Date});const p=this.attempts-1,h=this.initialMetadata.clone();p>0&&h.set(l,`${p}`);let g=!1;c.start(h,{onReceiveMetadata:v=>{this.trace("Received metadata from child ["+c.getCallNumber()+"]"),this.commitCall(d),g=!0,p>0&&v.set(l,`${p}`),this.underlyingCalls[d].state==="ACTIVE"&&this.listener.onReceiveMetadata(v)},onReceiveMessage:v=>{this.trace("Received message from child ["+c.getCallNumber()+"]"),this.commitCall(d),this.underlyingCalls[d].state==="ACTIVE"&&this.listener.onReceiveMessage(v)},onReceiveStatus:v=>{this.trace("Received status from child ["+c.getCallNumber()+"]"),!g&&p>0&&v.metadata.set(l,`${p}`),this.handleChildStatus(v,d)}}),this.sendNextChildMessage(d),this.readStarted&&c.startRead()}start(c,d){this.trace("start called"),this.listener=d,this.initialMetadata=c,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(c,d){var p,h;(h=(p=this.getBufferEntry(d)).callback)===null||h===void 0||h.call(p),this.clearSentMessages();const g=this.underlyingCalls[c];g.nextMessageToSend+=1,this.sendNextChildMessage(c)}sendNextChildMessage(c){const d=this.underlyingCalls[c];if(d.state==="COMPLETED")return;const p=d.nextMessageToSend;if(this.getBufferEntry(p)){const h=this.getBufferEntry(p);switch(h.entryType){case"MESSAGE":d.call.sendMessageWithContext({callback:v=>{this.handleChildWriteCompleted(c,p)}},h.message.message),this.getBufferEntry(p+1).entryType==="HALF_CLOSE"&&(this.trace("Sending halfClose immediately after message to child ["+d.call.getCallNumber()+"] - optimizing for unary/final message"),d.nextMessageToSend+=1,d.call.halfClose());break;case"HALF_CLOSE":d.nextMessageToSend+=1,d.call.halfClose();break}}}sendMessageWithContext(c,d){this.trace("write() called with message of length "+d.length);const p={message:d,flags:c.flags},h=this.getNextBufferIndex(),g={entryType:"MESSAGE",message:p,allocated:this.bufferTracker.allocate(d.length,this.callNumber)};if(this.writeBuffer.push(g),g.allocated){process.nextTick(()=>{var v;(v=c.callback)===null||v===void 0||v.call(c)});for(const[v,m]of this.underlyingCalls.entries())m.state==="ACTIVE"&&m.nextMessageToSend===h&&m.call.sendMessageWithContext({callback:y=>{this.handleChildWriteCompleted(v,h)}},d)}else{if(this.commitCallWithMostMessages(),this.committedCallIndex===null)return;const v=this.underlyingCalls[this.committedCallIndex];g.callback=c.callback,v.state==="ACTIVE"&&v.nextMessageToSend===h&&v.call.sendMessageWithContext({callback:m=>{this.handleChildWriteCompleted(this.committedCallIndex,h)}},d)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(const c of this.underlyingCalls)c?.state==="ACTIVE"&&c.call.startRead()}halfClose(){this.trace("halfClose called");const c=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(const d of this.underlyingCalls)d?.state==="ACTIVE"&&(d.nextMessageToSend===c||d.nextMessageToSend===c-1)&&(this.trace("Sending halfClose immediately to child ["+d.call.getCallNumber()+"] - all messages already sent"),d.nextMessageToSend+=1,d.call.halfClose())}setCredentials(c){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}getAuthContext(){return this.committedCallIndex!==null?this.underlyingCalls[this.committedCallIndex].call.getAuthContext():null}}return retryingCall.RetryingCall=o,retryingCall}var subchannelInterface={},hasRequiredSubchannelInterface;function requireSubchannelInterface(){if(hasRequiredSubchannelInterface)return subchannelInterface;hasRequiredSubchannelInterface=1,Object.defineProperty(subchannelInterface,"__esModule",{value:!0}),subchannelInterface.BaseSubchannelWrapper=void 0;class r{constructor(t){this.child=t,this.healthy=!0,this.healthListeners=new Set,this.refcount=0,this.dataWatchers=new Set,t.addHealthStateWatcher(i=>{this.healthy&&this.updateHealthListeners()})}updateHealthListeners(){for(const t of this.healthListeners)t(this.isHealthy())}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(t){this.child.addConnectivityStateListener(t)}removeConnectivityStateListener(t){this.child.removeConnectivityStateListener(t)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(t){this.child.throttleKeepalive(t)}ref(){this.child.ref(),this.refcount+=1}unref(){this.child.unref(),this.refcount-=1,this.refcount===0&&this.destroy()}destroy(){for(const t of this.dataWatchers)t.destroy()}getChannelzRef(){return this.child.getChannelzRef()}isHealthy(){return this.healthy&&this.child.isHealthy()}addHealthStateWatcher(t){this.healthListeners.add(t)}removeHealthStateWatcher(t){this.healthListeners.delete(t)}addDataWatcher(t){t.setSubchannel(this.getRealSubchannel()),this.dataWatchers.add(t)}setHealthy(t){t!==this.healthy&&(this.healthy=t,this.child.isHealthy()&&this.updateHealthListeners())}getRealSubchannel(){return this.child.getRealSubchannel()}realSubchannelEquals(t){return this.getRealSubchannel()===t.getRealSubchannel()}getCallCredentials(){return this.child.getCallCredentials()}getChannel(){return this.child.getChannel()}}return subchannelInterface.BaseSubchannelWrapper=r,subchannelInterface}var hasRequiredInternalChannel;function requireInternalChannel(){return hasRequiredInternalChannel||(hasRequiredInternalChannel=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.InternalChannel=r.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=void 0;const e=requireChannelCredentials(),t=requireResolvingLoadBalancer(),i=requireSubchannelPool(),s=requirePicker(),n=requireMetadata(),a=requireConstants(),l=requireFilterStack(),u=requireCompressionFilter(),o=requireResolver(),f=requireLogging(),c=requireHttp_proxy(),d=requireUriParser(),p=requireConnectivityState(),h=requireChannelz(),g=requireLoadBalancingCall(),v=requireDeadline(),m=requireResolvingCall(),y=requireCallNumber(),b=requireControlPlaneStatus(),O=requireRetryingCall(),k=requireSubchannelInterface(),A=2147483647,M=1e3,F=1800*1e3,P=new Map,L=1<<24,q=1<<20;class w extends k.BaseSubchannelWrapper{constructor(E,C){super(E),this.channel=C,this.refCount=0,this.subchannelStateListener=(S,I,D,B)=>{C.throttleKeepalive(B)}}ref(){this.refCount===0&&(this.child.addConnectivityStateListener(this.subchannelStateListener),this.channel.addWrappedSubchannel(this)),this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}class N{pick(E){return{pickResultType:s.PickResultType.DROP,status:{code:a.Status.UNAVAILABLE,details:"Channel closed before call started",metadata:new n.Metadata},subchannel:null,onCallStarted:null,onCallEnded:null}}}r.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX="grpc.internal.no_subchannel";class T{constructor(E){this.target=E,this.trace=new h.ChannelzTrace,this.callTracker=new h.ChannelzCallTracker,this.childrenTracker=new h.ChannelzChildrenTracker,this.state=p.ConnectivityState.IDLE}getChannelzInfoCallback(){return()=>({target:this.target,state:this.state,trace:this.trace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()})}}class _{constructor(E,C,S){var I,D,B,x,j,$;if(this.credentials=C,this.options=S,this.connectivityState=p.ConnectivityState.IDLE,this.currentPicker=new s.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.callRefTimer=null,this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.callCount=0,this.idleTimer=null,this.channelzEnabled=!0,this.randomChannelId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),typeof E!="string")throw new TypeError("Channel target must be a string");if(!(C instanceof e.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(S&&typeof S!="object")throw new TypeError("Channel options must be an object");this.channelzInfoTracker=new T(E);const W=(0,d.parseUri)(E);if(W===null)throw new Error(`Could not parse target name "${E}"`);const U=(0,o.mapUriDefaultScheme)(W);if(U===null)throw new Error(`Could not find a default scheme for target name "${E}"`);this.options["grpc.enable_channelz"]===0&&(this.channelzEnabled=!1),this.channelzRef=(0,h.registerChannelzChannel)(E,this.channelzInfoTracker.getChannelzInfoCallback(),this.channelzEnabled),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,o.getDefaultAuthority)(U);const z=(0,c.mapProxyName)(U,S);this.target=z.target,this.options=Object.assign({},this.options,z.extraOptions),this.subchannelPool=(0,i.getSubchannelPool)(((I=this.options["grpc.use_local_subchannel_pool"])!==null&&I!==void 0?I:0)===0),this.retryBufferTracker=new O.MessageBufferTracker((D=this.options["grpc.retry_buffer_size"])!==null&&D!==void 0?D:L,(B=this.options["grpc.per_rpc_retry_buffer_size"])!==null&&B!==void 0?B:q),this.keepaliveTime=(x=this.options["grpc.keepalive_time_ms"])!==null&&x!==void 0?x:-1,this.idleTimeoutMs=Math.max((j=this.options["grpc.client_idle_timeout_ms"])!==null&&j!==void 0?j:F,M);const X={createSubchannel:(Y,te)=>{const re={};for(const[ee,oe]of Object.entries(te))ee.startsWith(r.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX)||(re[ee]=oe);const se=this.subchannelPool.getOrCreateSubchannel(this.target,Y,re,this.credentials);return se.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Created subchannel or used existing subchannel",se.getChannelzRef()),new w(se,this)},updateState:(Y,te)=>{this.currentPicker=te;const re=this.pickQueue.slice();this.pickQueue=[],re.length>0&&this.callRefTimerUnref();for(const se of re)se.doPick();this.updateState(Y)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:Y=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.refChild(Y)},removeChannelzChild:Y=>{this.channelzEnabled&&this.channelzInfoTracker.childrenTracker.unrefChild(Y)}};this.resolvingLoadBalancer=new t.ResolvingLoadBalancer(this.target,X,this.options,(Y,te)=>{var re;Y.retryThrottling?P.set(this.getTarget(),new O.RetryThrottler(Y.retryThrottling.maxTokens,Y.retryThrottling.tokenRatio,P.get(this.getTarget()))):P.delete(this.getTarget()),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Address resolution succeeded"),(re=this.configSelector)===null||re===void 0||re.unref(),this.configSelector=te,this.currentResolutionError=null,process.nextTick(()=>{const se=this.configSelectionQueue;this.configSelectionQueue=[],se.length>0&&this.callRefTimerUnref();for(const ae of se)ae.getConfig()})},Y=>{this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_WARNING","Address resolution failed with code "+Y.code+' and details "'+Y.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),this.configSelector===null&&(this.currentResolutionError=Object.assign(Object.assign({},(0,b.restrictControlPlaneStatusCode)(Y.code,Y.details)),{metadata:Y.metadata}));const te=this.configSelectionQueue;this.configSelectionQueue=[],te.length>0&&this.callRefTimerUnref();for(const re of te)re.reportResolverError(Y)}),this.filterStackFactory=new l.FilterStackFactory([new u.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(S,void 0,2));const K=new Error;(0,f.isTracerEnabled)("channel_stacktrace")&&(0,f.trace)(a.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+`) Channel constructed 
`+(($=K.stack)===null||$===void 0?void 0:$.substring(K.stack.indexOf(`
`)+1))),this.lastActivityTimestamp=new Date}trace(E,C){(0,f.trace)(C??a.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,d.uriToString)(this.target)+" "+E)}callRefTimerRef(){var E,C,S,I;this.callRefTimer||(this.callRefTimer=setInterval(()=>{},A)),!((C=(E=this.callRefTimer).hasRef)===null||C===void 0)&&C.call(E)||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(I=(S=this.callRefTimer).ref)===null||I===void 0||I.call(S))}callRefTimerUnref(){var E,C,S;(!(!((E=this.callRefTimer)===null||E===void 0)&&E.hasRef)||this.callRefTimer.hasRef())&&(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),(S=(C=this.callRefTimer)===null||C===void 0?void 0:C.unref)===null||S===void 0||S.call(C))}removeConnectivityStateWatcher(E){const C=this.connectivityStateWatchers.findIndex(S=>S===E);C>=0&&this.connectivityStateWatchers.splice(C,1)}updateState(E){(0,f.trace)(a.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,d.uriToString)(this.target)+" "+p.ConnectivityState[this.connectivityState]+" -> "+p.ConnectivityState[E]),this.channelzEnabled&&this.channelzInfoTracker.trace.addTrace("CT_INFO","Connectivity state change to "+p.ConnectivityState[E]),this.connectivityState=E,this.channelzInfoTracker.state=E;const C=this.connectivityStateWatchers.slice();for(const S of C)E!==S.currentState&&(S.timer&&clearTimeout(S.timer),this.removeConnectivityStateWatcher(S),S.callback());E!==p.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(E){if(E>this.keepaliveTime){this.keepaliveTime=E;for(const C of this.wrappedSubchannels)C.throttleKeepalive(E)}}addWrappedSubchannel(E){this.wrappedSubchannels.add(E)}removeWrappedSubchannel(E){this.wrappedSubchannels.delete(E)}doPick(E,C){return this.currentPicker.pick({metadata:E,extraPickInfo:C})}queueCallForPick(E){this.pickQueue.push(E),this.callRefTimerRef()}getConfig(E,C){return this.connectivityState!==p.ConnectivityState.SHUTDOWN&&this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector.invoke(E,C,this.randomChannelId)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(E){this.configSelectionQueue.push(E),this.callRefTimerRef()}enterIdle(){this.resolvingLoadBalancer.destroy(),this.updateState(p.ConnectivityState.IDLE),this.currentPicker=new s.QueuePicker(this.resolvingLoadBalancer),this.idleTimer&&(clearTimeout(this.idleTimer),this.idleTimer=null),this.callRefTimer&&(clearInterval(this.callRefTimer),this.callRefTimer=null)}startIdleTimeout(E){var C,S;this.idleTimer=setTimeout(()=>{if(this.callCount>0){this.startIdleTimeout(this.idleTimeoutMs);return}const D=new Date().valueOf()-this.lastActivityTimestamp.valueOf();D>=this.idleTimeoutMs?(this.trace("Idle timer triggered after "+this.idleTimeoutMs+"ms of inactivity"),this.enterIdle()):this.startIdleTimeout(this.idleTimeoutMs-D)},E),(S=(C=this.idleTimer).unref)===null||S===void 0||S.call(C)}maybeStartIdleTimer(){this.connectivityState!==p.ConnectivityState.SHUTDOWN&&!this.idleTimer&&this.startIdleTimeout(this.idleTimeoutMs)}onCallStart(){this.channelzEnabled&&this.channelzInfoTracker.callTracker.addCallStarted(),this.callCount+=1}onCallEnd(E){this.channelzEnabled&&(E.code===a.Status.OK?this.channelzInfoTracker.callTracker.addCallSucceeded():this.channelzInfoTracker.callTracker.addCallFailed()),this.callCount-=1,this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()}createLoadBalancingCall(E,C,S,I,D){const B=(0,y.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+B+'] method="'+C+'"'),new g.LoadBalancingCall(this,E,C,S,I,D,B)}createRetryingCall(E,C,S,I,D){const B=(0,y.getNextCallNumber)();return this.trace("createRetryingCall ["+B+'] method="'+C+'"'),new O.RetryingCall(this,E,C,S,I,D,B,this.retryBufferTracker,P.get(this.getTarget()))}createResolvingCall(E,C,S,I,D){const B=(0,y.getNextCallNumber)();this.trace("createResolvingCall ["+B+'] method="'+E+'", deadline='+(0,v.deadlineToString)(C));const x={deadline:C,flags:D??a.Propagate.DEFAULTS,host:S??this.defaultAuthority,parentCall:I},j=new m.ResolvingCall(this,E,x,this.filterStackFactory.clone(),B);return this.onCallStart(),j.addStatusWatcher($=>{this.onCallEnd($)}),j}close(){var E;this.resolvingLoadBalancer.destroy(),this.updateState(p.ConnectivityState.SHUTDOWN),this.currentPicker=new N;for(const C of this.configSelectionQueue)C.cancelWithStatus(a.Status.UNAVAILABLE,"Channel closed before call started");this.configSelectionQueue=[];for(const C of this.pickQueue)C.cancelWithStatus(a.Status.UNAVAILABLE,"Channel closed before call started");this.pickQueue=[],this.callRefTimer&&clearInterval(this.callRefTimer),this.idleTimer&&clearTimeout(this.idleTimer),this.channelzEnabled&&(0,h.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels(),(E=this.configSelector)===null||E===void 0||E.unref(),this.configSelector=null}getTarget(){return(0,d.uriToString)(this.target)}getConnectivityState(E){const C=this.connectivityState;return E&&(this.resolvingLoadBalancer.exitIdle(),this.lastActivityTimestamp=new Date,this.maybeStartIdleTimer()),C}watchConnectivityState(E,C,S){if(this.connectivityState===p.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let I=null;if(C!==1/0){const B=C instanceof Date?C:new Date(C),x=new Date;if(C===-1/0||B<=x){process.nextTick(S,new Error("Deadline passed without connectivity state change"));return}I=setTimeout(()=>{this.removeConnectivityStateWatcher(D),S(new Error("Deadline passed without connectivity state change"))},B.getTime()-x.getTime())}const D={currentState:E,callback:S,timer:I};this.connectivityStateWatchers.push(D)}getChannelzRef(){return this.channelzRef}createCall(E,C,S,I,D){if(typeof E!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof C=="number"||C instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===p.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(E,C,S,I,D)}getOptions(){return this.options}}r.InternalChannel=_})(internalChannel)),internalChannel}var hasRequiredChannel;function requireChannel(){if(hasRequiredChannel)return channel;hasRequiredChannel=1,Object.defineProperty(channel,"__esModule",{value:!0}),channel.ChannelImplementation=void 0;const r=requireChannelCredentials(),e=requireInternalChannel();class t{constructor(s,n,a){if(typeof s!="string")throw new TypeError("Channel target must be a string");if(!(n instanceof r.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(a&&typeof a!="object")throw new TypeError("Channel options must be an object");this.internalChannel=new e.InternalChannel(s,n,a)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(s){return this.internalChannel.getConnectivityState(s)}watchConnectivityState(s,n,a){this.internalChannel.watchConnectivityState(s,n,a)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(s,n,a,l,u){if(typeof s!="string")throw new TypeError("Channel#createCall: method must be a string");if(!(typeof n=="number"||n instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(s,n,a,l,u)}}return channel.ChannelImplementation=t,channel}var server={},serverCall={},hasRequiredServerCall;function requireServerCall(){if(hasRequiredServerCall)return serverCall;hasRequiredServerCall=1,Object.defineProperty(serverCall,"__esModule",{value:!0}),serverCall.ServerDuplexStreamImpl=serverCall.ServerWritableStreamImpl=serverCall.ServerReadableStreamImpl=serverCall.ServerUnaryCallImpl=void 0,serverCall.serverErrorToStatus=s;const r=require$$0$3,e=require$$1$2,t=requireConstants(),i=requireMetadata();function s(o,f){var c;const d={code:t.Status.UNKNOWN,details:"message"in o?o.message:"Unknown Error",metadata:(c=f??o.metadata)!==null&&c!==void 0?c:null};return"code"in o&&typeof o.code=="number"&&Number.isInteger(o.code)&&(d.code=o.code,"details"in o&&typeof o.details=="string"&&(d.details=o.details)),d}class n extends r.EventEmitter{constructor(f,c,d,p){super(),this.path=f,this.call=c,this.metadata=d,this.request=p,this.cancelled=!1}getPeer(){return this.call.getPeer()}sendMetadata(f){this.call.sendMetadata(f)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}serverCall.ServerUnaryCallImpl=n;class a extends e.Readable{constructor(f,c,d){super({objectMode:!0}),this.path=f,this.call=c,this.metadata=d,this.cancelled=!1}_read(f){this.call.startRead()}getPeer(){return this.call.getPeer()}sendMetadata(f){this.call.sendMetadata(f)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}}serverCall.ServerReadableStreamImpl=a;class l extends e.Writable{constructor(f,c,d,p){super({objectMode:!0}),this.path=f,this.call=c,this.metadata=d,this.request=p,this.pendingStatus={code:t.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new i.Metadata,this.on("error",h=>{this.pendingStatus=s(h),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(f){this.call.sendMetadata(f)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_write(f,c,d){this.call.sendMessage(f,d)}_final(f){var c;f(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(c=this.pendingStatus.metadata)!==null&&c!==void 0?c:this.trailingMetadata}))}end(f){return f&&(this.trailingMetadata=f),super.end()}}serverCall.ServerWritableStreamImpl=l;class u extends e.Duplex{constructor(f,c,d){super({objectMode:!0}),this.path=f,this.call=c,this.metadata=d,this.pendingStatus={code:t.Status.OK,details:"OK"},this.cancelled=!1,this.trailingMetadata=new i.Metadata,this.on("error",p=>{this.pendingStatus=s(p),this.end()})}getPeer(){return this.call.getPeer()}sendMetadata(f){this.call.sendMetadata(f)}getDeadline(){return this.call.getDeadline()}getPath(){return this.path}getHost(){return this.call.getHost()}getAuthContext(){return this.call.getAuthContext()}getMetricsRecorder(){return this.call.getMetricsRecorder()}_read(f){this.call.startRead()}_write(f,c,d){this.call.sendMessage(f,d)}_final(f){var c;f(null),this.call.sendStatus(Object.assign(Object.assign({},this.pendingStatus),{metadata:(c=this.pendingStatus.metadata)!==null&&c!==void 0?c:this.trailingMetadata}))}end(f){return f&&(this.trailingMetadata=f),super.end()}}return serverCall.ServerDuplexStreamImpl=u,serverCall}var serverCredentials={},hasRequiredServerCredentials;function requireServerCredentials(){if(hasRequiredServerCredentials)return serverCredentials;hasRequiredServerCredentials=1,Object.defineProperty(serverCredentials,"__esModule",{value:!0}),serverCredentials.ServerCredentials=void 0,serverCredentials.createCertificateProviderServerCredentials=n,serverCredentials.createServerCredentialsWithInterceptors=l;const r=requireTlsHelpers();class e{constructor(o,f){this.serverConstructorOptions=o,this.watchers=new Set,this.latestContextOptions=null,this.latestContextOptions=f??null}_addWatcher(o){this.watchers.add(o)}_removeWatcher(o){this.watchers.delete(o)}getWatcherCount(){return this.watchers.size}updateSecureContextOptions(o){this.latestContextOptions=o;for(const f of this.watchers)f(this.latestContextOptions)}_isSecure(){return this.serverConstructorOptions!==null}_getSecureContextOptions(){return this.latestContextOptions}_getConstructorOptions(){return this.serverConstructorOptions}_getInterceptors(){return[]}static createInsecure(){return new t}static createSsl(o,f,c=!1){var d;if(o!==null&&!Buffer.isBuffer(o))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(f))throw new TypeError("keyCertPairs must be an array");if(typeof c!="boolean")throw new TypeError("checkClientCertificate must be a boolean");const p=[],h=[];for(let g=0;g<f.length;g++){const v=f[g];if(v===null||typeof v!="object")throw new TypeError(`keyCertPair[${g}] must be an object`);if(!Buffer.isBuffer(v.private_key))throw new TypeError(`keyCertPair[${g}].private_key must be a Buffer`);if(!Buffer.isBuffer(v.cert_chain))throw new TypeError(`keyCertPair[${g}].cert_chain must be a Buffer`);p.push(v.cert_chain),h.push(v.private_key)}return new i({requestCert:c,ciphers:r.CIPHER_SUITES},{ca:(d=o??(0,r.getDefaultRootsData)())!==null&&d!==void 0?d:void 0,cert:p,key:h})}}serverCredentials.ServerCredentials=e;class t extends e{constructor(){super(null)}_getSettings(){return null}_equals(o){return o instanceof t}}class i extends e{constructor(o,f){super(o,f),this.options=Object.assign(Object.assign({},o),f)}_equals(o){if(this===o)return!0;if(!(o instanceof i))return!1;if(Buffer.isBuffer(this.options.ca)&&Buffer.isBuffer(o.options.ca)){if(!this.options.ca.equals(o.options.ca))return!1}else if(this.options.ca!==o.options.ca)return!1;if(Array.isArray(this.options.cert)&&Array.isArray(o.options.cert)){if(this.options.cert.length!==o.options.cert.length)return!1;for(let f=0;f<this.options.cert.length;f++){const c=this.options.cert[f],d=o.options.cert[f];if(Buffer.isBuffer(c)&&Buffer.isBuffer(d)){if(!c.equals(d))return!1}else if(c!==d)return!1}}else if(this.options.cert!==o.options.cert)return!1;if(Array.isArray(this.options.key)&&Array.isArray(o.options.key)){if(this.options.key.length!==o.options.key.length)return!1;for(let f=0;f<this.options.key.length;f++){const c=this.options.key[f],d=o.options.key[f];if(Buffer.isBuffer(c)&&Buffer.isBuffer(d)){if(!c.equals(d))return!1}else if(c!==d)return!1}}else if(this.options.key!==o.options.key)return!1;return this.options.requestCert===o.options.requestCert}}class s extends e{constructor(o,f,c){super({requestCert:f!==null,rejectUnauthorized:c,ciphers:r.CIPHER_SUITES}),this.identityCertificateProvider=o,this.caCertificateProvider=f,this.requireClientCertificate=c,this.latestCaUpdate=null,this.latestIdentityUpdate=null,this.caCertificateUpdateListener=this.handleCaCertificateUpdate.bind(this),this.identityCertificateUpdateListener=this.handleIdentityCertitificateUpdate.bind(this)}_addWatcher(o){var f;this.getWatcherCount()===0&&((f=this.caCertificateProvider)===null||f===void 0||f.addCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.addIdentityCertificateListener(this.identityCertificateUpdateListener)),super._addWatcher(o)}_removeWatcher(o){var f;super._removeWatcher(o),this.getWatcherCount()===0&&((f=this.caCertificateProvider)===null||f===void 0||f.removeCaCertificateListener(this.caCertificateUpdateListener),this.identityCertificateProvider.removeIdentityCertificateListener(this.identityCertificateUpdateListener))}_equals(o){return this===o?!0:o instanceof s?this.caCertificateProvider===o.caCertificateProvider&&this.identityCertificateProvider===o.identityCertificateProvider&&this.requireClientCertificate===o.requireClientCertificate:!1}calculateSecureContextOptions(){var o;return this.latestIdentityUpdate===null||this.caCertificateProvider!==null&&this.latestCaUpdate===null?null:{ca:(o=this.latestCaUpdate)===null||o===void 0?void 0:o.caCertificate,cert:[this.latestIdentityUpdate.certificate],key:[this.latestIdentityUpdate.privateKey]}}finalizeUpdate(){const o=this.calculateSecureContextOptions();this.updateSecureContextOptions(o)}handleCaCertificateUpdate(o){this.latestCaUpdate=o,this.finalizeUpdate()}handleIdentityCertitificateUpdate(o){this.latestIdentityUpdate=o,this.finalizeUpdate()}}function n(u,o,f){return new s(u,o,f)}class a extends e{constructor(o,f){super({}),this.childCredentials=o,this.interceptors=f}_isSecure(){return this.childCredentials._isSecure()}_equals(o){if(!(o instanceof a)||!this.childCredentials._equals(o.childCredentials)||this.interceptors.length!==o.interceptors.length)return!1;for(let f=0;f<this.interceptors.length;f++)if(this.interceptors[f]!==o.interceptors[f])return!1;return!0}_getInterceptors(){return this.interceptors}_addWatcher(o){this.childCredentials._addWatcher(o)}_removeWatcher(o){this.childCredentials._removeWatcher(o)}_getConstructorOptions(){return this.childCredentials._getConstructorOptions()}_getSecureContextOptions(){return this.childCredentials._getSecureContextOptions()}}function l(u,o){return new a(u,o)}return serverCredentials}var serverInterceptors={},orca={},duration={},hasRequiredDuration;function requireDuration(){if(hasRequiredDuration)return duration;hasRequiredDuration=1,Object.defineProperty(duration,"__esModule",{value:!0}),duration.durationMessageToDuration=r,duration.msToDuration=e,duration.durationToMs=t,duration.isDuration=i,duration.isDurationMessage=s,duration.parseDuration=a,duration.durationToString=l;function r(u){return{seconds:Number.parseInt(u.seconds),nanos:u.nanos}}function e(u){return{seconds:u/1e3|0,nanos:u%1e3*1e6|0}}function t(u){return u.seconds*1e3+u.nanos/1e6|0}function i(u){return typeof u.seconds=="number"&&typeof u.nanos=="number"}function s(u){return typeof u.seconds=="string"&&typeof u.nanos=="number"}const n=/^(\d+)(?:\.(\d+))?s$/;function a(u){const o=u.match(n);return o?{seconds:Number.parseInt(o[1],10),nanos:o[2]?Number.parseInt(o[2].padEnd(9,"0"),10):0}:null}function l(u){if(u.nanos===0)return`${u.seconds}s`;let o;return u.nanos%1e6===0?o=1e6:u.nanos%1e3===0?o=1e3:o=1,`${u.seconds}.${u.nanos/o}s`}return duration}var hasRequiredOrca;function requireOrca(){return hasRequiredOrca||(hasRequiredOrca=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.OrcaOobMetricsSubchannelWrapper=r.GRPC_METRICS_HEADER=r.ServerMetricRecorder=r.PerRequestMetricRecorder=void 0,r.createOrcaClient=d,r.createMetricsReader=h;const e=requireMakeClient(),t=requireDuration(),i=requireChannelCredentials(),s=requireSubchannelInterface(),n=requireConstants(),a=requireBackoffTimeout(),l=requireConnectivityState();function u(){const O=requireSrc$1().loadSync,k=O("xds/service/orca/v3/orca.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto/xds`,`${__dirname}/../../proto/protoc-gen-validate`]});return(0,e.loadPackageDefinition)(k)}class o{constructor(){this.message={}}recordRequestCostMetric(k,A){this.message.request_cost||(this.message.request_cost={}),this.message.request_cost[k]=A}recordUtilizationMetric(k,A){this.message.utilization||(this.message.utilization={}),this.message.utilization[k]=A}recordNamedMetric(k,A){this.message.named_metrics||(this.message.named_metrics={}),this.message.named_metrics[k]=A}recordCPUUtilizationMetric(k){this.message.cpu_utilization=k}recordMemoryUtilizationMetric(k){this.message.mem_utilization=k}recordApplicationUtilizationMetric(k){this.message.application_utilization=k}recordQpsMetric(k){this.message.rps_fractional=k}recordEpsMetric(k){this.message.eps=k}serialize(){return u().xds.data.orca.v3.OrcaLoadReport.serialize(this.message)}}r.PerRequestMetricRecorder=o;const f=3e4;class c{constructor(){this.message={},this.serviceImplementation={StreamCoreMetrics:k=>{const A=k.request.report_interval?(0,t.durationToMs)((0,t.durationMessageToDuration)(k.request.report_interval)):f,M=setInterval(()=>{k.write(this.message)},A);k.on("cancelled",()=>{clearInterval(M)})}}}putUtilizationMetric(k,A){this.message.utilization||(this.message.utilization={}),this.message.utilization[k]=A}setAllUtilizationMetrics(k){this.message.utilization=Object.assign({},k)}deleteUtilizationMetric(k){var A;(A=this.message.utilization)===null||A===void 0||delete A[k]}setCpuUtilizationMetric(k){this.message.cpu_utilization=k}deleteCpuUtilizationMetric(){delete this.message.cpu_utilization}setApplicationUtilizationMetric(k){this.message.application_utilization=k}deleteApplicationUtilizationMetric(){delete this.message.application_utilization}setQpsMetric(k){this.message.rps_fractional=k}deleteQpsMetric(){delete this.message.rps_fractional}setEpsMetric(k){this.message.eps=k}deleteEpsMetric(){delete this.message.eps}addToServer(k){const A=u().xds.service.orca.v3.OpenRcaService.service;k.addService(A,this.serviceImplementation)}}r.ServerMetricRecorder=c;function d(O){const k=u().xds.service.orca.v3.OpenRcaService;return new k("unused",i.ChannelCredentials.createInsecure(),{channelOverride:O})}r.GRPC_METRICS_HEADER="endpoint-load-metrics-bin";const p="grpc_orca_load_report";function h(O,k){return(A,M,F)=>{let P=F.getOpaque(p);if(P)O(P);else{const L=F.get(r.GRPC_METRICS_HEADER);L.length>0&&(P=u().xds.data.orca.v3.OrcaLoadReport.deserialize(L[0]),O(P),F.setOpaque(p,P))}k&&k(A,M,F)}}const g="orca_oob_metrics";class v{constructor(k,A){this.metricsListener=k,this.intervalMs=A,this.dataProducer=null}setSubchannel(k){const A=k.getOrCreateDataProducer(g,b);this.dataProducer=A,A.addDataWatcher(this)}destroy(){var k;(k=this.dataProducer)===null||k===void 0||k.removeDataWatcher(this)}getInterval(){return this.intervalMs}onMetricsUpdate(k){this.metricsListener(k)}}class m{constructor(k){this.subchannel=k,this.dataWatchers=new Set,this.orcaSupported=!0,this.metricsCall=null,this.currentInterval=1/0,this.backoffTimer=new a.BackoffTimeout(()=>this.updateMetricsSubscription()),this.subchannelStateListener=()=>this.updateMetricsSubscription();const A=k.getChannel();this.client=d(A),k.addConnectivityStateListener(this.subchannelStateListener)}addDataWatcher(k){this.dataWatchers.add(k),this.updateMetricsSubscription()}removeDataWatcher(k){var A;this.dataWatchers.delete(k),this.dataWatchers.size===0?(this.subchannel.removeDataProducer(g),(A=this.metricsCall)===null||A===void 0||A.cancel(),this.metricsCall=null,this.client.close(),this.subchannel.removeConnectivityStateListener(this.subchannelStateListener)):this.updateMetricsSubscription()}updateMetricsSubscription(){var k;if(this.dataWatchers.size===0||!this.orcaSupported||this.subchannel.getConnectivityState()!==l.ConnectivityState.READY)return;const A=Math.min(...Array.from(this.dataWatchers).map(M=>M.getInterval()));if(!this.metricsCall||A!==this.currentInterval){(k=this.metricsCall)===null||k===void 0||k.cancel(),this.currentInterval=A;const M=this.client.streamCoreMetrics({report_interval:(0,t.msToDuration)(A)});this.metricsCall=M,M.on("data",F=>{this.dataWatchers.forEach(P=>{P.onMetricsUpdate(F)})}),M.on("error",F=>{if(this.metricsCall=null,F.code===n.Status.UNIMPLEMENTED){this.orcaSupported=!1;return}F.code!==n.Status.CANCELLED&&this.backoffTimer.runOnce()})}}}class y extends s.BaseSubchannelWrapper{constructor(k,A,M){super(k),this.addDataWatcher(new v(A,M))}getWrappedSubchannel(){return this.child}}r.OrcaOobMetricsSubchannelWrapper=y;function b(O){return new m(O)}})(orca)),orca}var hasRequiredServerInterceptors;function requireServerInterceptors(){if(hasRequiredServerInterceptors)return serverInterceptors;hasRequiredServerInterceptors=1,Object.defineProperty(serverInterceptors,"__esModule",{value:!0}),serverInterceptors.BaseServerInterceptingCall=serverInterceptors.ServerInterceptingCall=serverInterceptors.ResponderBuilder=serverInterceptors.ServerListenerBuilder=void 0,serverInterceptors.isInterceptingServerListener=d,serverInterceptors.getServerInterceptingCall=N;const r=requireMetadata(),e=requireConstants(),t=require$$0$5,i=requireError(),s=require$$0$4,n=requireStreamDecoder(),a=requireLogging(),l=require$$0,u=requireOrca(),o="server_call";function f(T){a.trace(e.LogVerbosity.DEBUG,o,T)}class c{constructor(){this.metadata=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withOnReceiveMetadata(_){return this.metadata=_,this}withOnReceiveMessage(_){return this.message=_,this}withOnReceiveHalfClose(_){return this.halfClose=_,this}withOnCancel(_){return this.cancel=_,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveHalfClose:this.halfClose,onCancel:this.cancel}}}serverInterceptors.ServerListenerBuilder=c;function d(T){return T.onReceiveMetadata!==void 0&&T.onReceiveMetadata.length===1}class p{constructor(_,R){this.listener=_,this.nextListener=R,this.cancelled=!1,this.processingMetadata=!1,this.hasPendingMessage=!1,this.pendingMessage=null,this.processingMessage=!1,this.hasPendingHalfClose=!1}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingHalfClose(){this.hasPendingHalfClose&&(this.nextListener.onReceiveHalfClose(),this.hasPendingHalfClose=!1)}onReceiveMetadata(_){this.cancelled||(this.processingMetadata=!0,this.listener.onReceiveMetadata(_,R=>{this.processingMetadata=!1,!this.cancelled&&(this.nextListener.onReceiveMetadata(R),this.processPendingMessage(),this.processPendingHalfClose())}))}onReceiveMessage(_){this.cancelled||(this.processingMessage=!0,this.listener.onReceiveMessage(_,R=>{this.processingMessage=!1,!this.cancelled&&(this.processingMetadata?(this.pendingMessage=R,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(R),this.processPendingHalfClose()))}))}onReceiveHalfClose(){this.cancelled||this.listener.onReceiveHalfClose(()=>{this.cancelled||(this.processingMetadata||this.processingMessage?this.hasPendingHalfClose=!0:this.nextListener.onReceiveHalfClose())})}onCancel(){this.cancelled=!0,this.listener.onCancel(),this.nextListener.onCancel()}}class h{constructor(){this.start=void 0,this.metadata=void 0,this.message=void 0,this.status=void 0}withStart(_){return this.start=_,this}withSendMetadata(_){return this.metadata=_,this}withSendMessage(_){return this.message=_,this}withSendStatus(_){return this.status=_,this}build(){return{start:this.start,sendMetadata:this.metadata,sendMessage:this.message,sendStatus:this.status}}}serverInterceptors.ResponderBuilder=h;const g={onReceiveMetadata:(T,_)=>{_(T)},onReceiveMessage:(T,_)=>{_(T)},onReceiveHalfClose:T=>{T()},onCancel:()=>{}},v={start:T=>{T()},sendMetadata:(T,_)=>{_(T)},sendMessage:(T,_)=>{_(T)},sendStatus:(T,_)=>{_(T)}};class m{constructor(_,R){var E,C,S,I;this.nextCall=_,this.processingMetadata=!1,this.sentMetadata=!1,this.processingMessage=!1,this.pendingMessage=null,this.pendingMessageCallback=null,this.pendingStatus=null,this.responder={start:(E=R?.start)!==null&&E!==void 0?E:v.start,sendMetadata:(C=R?.sendMetadata)!==null&&C!==void 0?C:v.sendMetadata,sendMessage:(S=R?.sendMessage)!==null&&S!==void 0?S:v.sendMessage,sendStatus:(I=R?.sendStatus)!==null&&I!==void 0?I:v.sendStatus}}processPendingMessage(){this.pendingMessageCallback&&(this.nextCall.sendMessage(this.pendingMessage,this.pendingMessageCallback),this.pendingMessage=null,this.pendingMessageCallback=null)}processPendingStatus(){this.pendingStatus&&(this.nextCall.sendStatus(this.pendingStatus),this.pendingStatus=null)}start(_){this.responder.start(R=>{var E,C,S,I;const D={onReceiveMetadata:(E=R?.onReceiveMetadata)!==null&&E!==void 0?E:g.onReceiveMetadata,onReceiveMessage:(C=R?.onReceiveMessage)!==null&&C!==void 0?C:g.onReceiveMessage,onReceiveHalfClose:(S=R?.onReceiveHalfClose)!==null&&S!==void 0?S:g.onReceiveHalfClose,onCancel:(I=R?.onCancel)!==null&&I!==void 0?I:g.onCancel},B=new p(D,_);this.nextCall.start(B)})}sendMetadata(_){this.processingMetadata=!0,this.sentMetadata=!0,this.responder.sendMetadata(_,R=>{this.processingMetadata=!1,this.nextCall.sendMetadata(R),this.processPendingMessage(),this.processPendingStatus()})}sendMessage(_,R){this.processingMessage=!0,this.sentMetadata||this.sendMetadata(new r.Metadata),this.responder.sendMessage(_,E=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=E,this.pendingMessageCallback=R):this.nextCall.sendMessage(E,R)})}sendStatus(_){this.responder.sendStatus(_,R=>{this.processingMetadata||this.processingMessage?this.pendingStatus=R:this.nextCall.sendStatus(R)})}startRead(){this.nextCall.startRead()}getPeer(){return this.nextCall.getPeer()}getDeadline(){return this.nextCall.getDeadline()}getHost(){return this.nextCall.getHost()}getAuthContext(){return this.nextCall.getAuthContext()}getConnectionInfo(){return this.nextCall.getConnectionInfo()}getMetricsRecorder(){return this.nextCall.getMetricsRecorder()}}serverInterceptors.ServerInterceptingCall=m;const y="grpc-accept-encoding",b="grpc-encoding",O="grpc-message",k="grpc-status",A="grpc-timeout",M=/(\d{1,8})\s*([HMSmun])/,F={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},P={[y]:"identity,deflate,gzip",[b]:"identity"},L={[t.constants.HTTP2_HEADER_STATUS]:t.constants.HTTP_STATUS_OK,[t.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},q={waitForTrailers:!0};class w{constructor(_,R,E,C,S){var I,D;this.stream=_,this.callEventTracker=E,this.handler=C,this.listener=null,this.deadlineTimer=null,this.deadline=1/0,this.maxSendMessageSize=e.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=e.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.cancelled=!1,this.metadataSent=!1,this.wantTrailers=!1,this.cancelNotified=!1,this.incomingEncoding="identity",this.readQueue=[],this.isReadPending=!1,this.receivedHalfClose=!1,this.streamEnded=!1,this.metricsRecorder=new u.PerRequestMetricRecorder,this.stream.once("error",W=>{}),this.stream.once("close",()=>{var W;f("Request to method "+((W=this.handler)===null||W===void 0?void 0:W.path)+" stream closed with rstCode "+this.stream.rstCode),this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!1),this.callEventTracker.onCallEnd({code:e.Status.CANCELLED,details:"Stream closed before sending status",metadata:null})),this.notifyOnCancel()}),this.stream.on("data",W=>{this.handleDataFrame(W)}),this.stream.pause(),this.stream.on("end",()=>{this.handleEndEvent()}),"grpc.max_send_message_length"in S&&(this.maxSendMessageSize=S["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in S&&(this.maxReceiveMessageSize=S["grpc.max_receive_message_length"]),this.host=(I=R[":authority"])!==null&&I!==void 0?I:R.host,this.decoder=new n.StreamDecoder(this.maxReceiveMessageSize);const B=r.Metadata.fromHttp2Headers(R);a.isTracerEnabled(o)&&f("Request to "+this.handler.path+" received headers "+JSON.stringify(B.toJSON()));const x=B.get(A);x.length>0&&this.handleTimeoutHeader(x[0]);const j=B.get(b);j.length>0&&(this.incomingEncoding=j[0]),B.remove(A),B.remove(b),B.remove(y),B.remove(t.constants.HTTP2_HEADER_ACCEPT_ENCODING),B.remove(t.constants.HTTP2_HEADER_TE),B.remove(t.constants.HTTP2_HEADER_CONTENT_TYPE),this.metadata=B;const $=(D=_.session)===null||D===void 0?void 0:D.socket;this.connectionInfo={localAddress:$?.localAddress,localPort:$?.localPort,remoteAddress:$?.remoteAddress,remotePort:$?.remotePort},this.shouldSendMetrics=!!S["grpc.server_call_metric_recording"]}handleTimeoutHeader(_){const R=_.toString().match(M);if(R===null){const S={code:e.Status.INTERNAL,details:`Invalid ${A} value "${_}"`,metadata:null};process.nextTick(()=>{this.sendStatus(S)});return}const E=+R[1]*F[R[2]]|0,C=new Date;this.deadline=C.setMilliseconds(C.getMilliseconds()+E),this.deadlineTimer=setTimeout(()=>{const S={code:e.Status.DEADLINE_EXCEEDED,details:"Deadline exceeded",metadata:null};this.sendStatus(S)},E)}checkCancelled(){return!this.cancelled&&(this.stream.destroyed||this.stream.closed)&&(this.notifyOnCancel(),this.cancelled=!0),this.cancelled}notifyOnCancel(){this.cancelNotified||(this.cancelNotified=!0,this.cancelled=!0,process.nextTick(()=>{var _;(_=this.listener)===null||_===void 0||_.onCancel()}),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.resume())}maybeSendMetadata(){this.metadataSent||this.sendMetadata(new r.Metadata)}serializeMessage(_){const R=this.handler.serialize(_),E=R.byteLength,C=Buffer.allocUnsafe(E+5);return C.writeUInt8(0,0),C.writeUInt32BE(E,1),R.copy(C,5),C}decompressMessage(_,R){const E=_.subarray(5);if(R==="identity")return E;if(R==="deflate"||R==="gzip"){let C;return R==="deflate"?C=s.createInflate():C=s.createGunzip(),new Promise((S,I)=>{let D=0;const B=[];C.on("data",x=>{B.push(x),D+=x.byteLength,this.maxReceiveMessageSize!==-1&&D>this.maxReceiveMessageSize&&(C.destroy(),I({code:e.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))}),C.on("end",()=>{S(Buffer.concat(B))}),C.write(E),C.end()})}else return Promise.reject({code:e.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${R}"`})}async decompressAndMaybePush(_){if(_.type!=="COMPRESSED")throw new Error(`Invalid queue entry type: ${_.type}`);const E=_.compressedMessage.readUInt8(0)===1?this.incomingEncoding:"identity";let C;try{C=await this.decompressMessage(_.compressedMessage,E)}catch(S){this.sendStatus(S);return}try{_.parsedMessage=this.handler.deserialize(C)}catch(S){this.sendStatus({code:e.Status.INTERNAL,details:`Error deserializing request: ${S.message}`});return}_.type="READABLE",this.maybePushNextMessage()}maybePushNextMessage(){if(this.listener&&this.isReadPending&&this.readQueue.length>0&&this.readQueue[0].type!=="COMPRESSED"){this.isReadPending=!1;const _=this.readQueue.shift();_.type==="READABLE"?this.listener.onReceiveMessage(_.parsedMessage):this.listener.onReceiveHalfClose()}}handleDataFrame(_){var R;if(this.checkCancelled())return;f("Request to "+this.handler.path+" received data frame of size "+_.length);let E;try{E=this.decoder.write(_)}catch(C){this.sendStatus({code:e.Status.RESOURCE_EXHAUSTED,details:C.message});return}for(const C of E){this.stream.pause();const S={type:"COMPRESSED",compressedMessage:C,parsedMessage:null};this.readQueue.push(S),this.decompressAndMaybePush(S),(R=this.callEventTracker)===null||R===void 0||R.addMessageReceived()}}handleEndEvent(){this.readQueue.push({type:"HALF_CLOSE",compressedMessage:null,parsedMessage:null}),this.receivedHalfClose=!0,this.maybePushNextMessage()}start(_){f("Request to "+this.handler.path+" start called"),!this.checkCancelled()&&(this.listener=_,_.onReceiveMetadata(this.metadata))}sendMetadata(_){if(this.checkCancelled()||this.metadataSent)return;this.metadataSent=!0;const R=_?_.toHttp2Headers():null,E=Object.assign(Object.assign(Object.assign({},L),P),R);this.stream.respond(E,q)}sendMessage(_,R){if(this.checkCancelled())return;let E;try{E=this.serializeMessage(_)}catch(C){this.sendStatus({code:e.Status.INTERNAL,details:`Error serializing response: ${(0,i.getErrorMessage)(C)}`,metadata:null});return}if(this.maxSendMessageSize!==-1&&E.length-5>this.maxSendMessageSize){this.sendStatus({code:e.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${E.length} vs. ${this.maxSendMessageSize})`,metadata:null});return}this.maybeSendMetadata(),f("Request to "+this.handler.path+" sent data frame of size "+E.length),this.stream.write(E,C=>{var S;if(C){this.sendStatus({code:e.Status.INTERNAL,details:`Error writing message: ${(0,i.getErrorMessage)(C)}`,metadata:null});return}(S=this.callEventTracker)===null||S===void 0||S.addMessageSent(),R()})}sendStatus(_){var R,E,C;if(this.checkCancelled())return;f("Request to method "+((R=this.handler)===null||R===void 0?void 0:R.path)+" ended with status code: "+e.Status[_.code]+" details: "+_.details);const S=(C=(E=_.metadata)===null||E===void 0?void 0:E.clone())!==null&&C!==void 0?C:new r.Metadata;if(this.shouldSendMetrics&&S.set(u.GRPC_METRICS_HEADER,this.metricsRecorder.serialize()),this.metadataSent)this.wantTrailers?this.notifyOnCancel():(this.wantTrailers=!0,this.stream.once("wantTrailers",()=>{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(_));const I=Object.assign({[k]:_.code,[O]:encodeURI(_.details)},S.toHttp2Headers());this.stream.sendTrailers(I),this.notifyOnCancel()}),this.stream.end());else{this.callEventTracker&&!this.streamEnded&&(this.streamEnded=!0,this.callEventTracker.onStreamEnd(!0),this.callEventTracker.onCallEnd(_));const I=Object.assign(Object.assign({[k]:_.code,[O]:encodeURI(_.details)},L),S.toHttp2Headers());this.stream.respond(I,{endStream:!0}),this.notifyOnCancel()}}startRead(){f("Request to "+this.handler.path+" startRead called"),!this.checkCancelled()&&(this.isReadPending=!0,this.readQueue.length===0?this.receivedHalfClose||this.stream.resume():this.maybePushNextMessage())}getPeer(){var _;const R=(_=this.stream.session)===null||_===void 0?void 0:_.socket;return R?.remoteAddress?R.remotePort?`${R.remoteAddress}:${R.remotePort}`:R.remoteAddress:"unknown"}getDeadline(){return this.deadline}getHost(){return this.host}getAuthContext(){var _;if(((_=this.stream.session)===null||_===void 0?void 0:_.socket)instanceof l.TLSSocket){const R=this.stream.session.socket.getPeerCertificate();return{transportSecurityType:"ssl",sslPeerCertificate:R.raw?R:void 0}}else return{}}getConnectionInfo(){return this.connectionInfo}getMetricsRecorder(){return this.metricsRecorder}}serverInterceptors.BaseServerInterceptingCall=w;function N(T,_,R,E,C,S){const I={path:C.path,requestStream:C.type==="clientStream"||C.type==="bidi",responseStream:C.type==="serverStream"||C.type==="bidi",requestDeserialize:C.deserialize,responseSerialize:C.serialize},D=new w(_,R,E,C,S);return T.reduce((B,x)=>x(I,B),D)}return serverInterceptors}var hasRequiredServer;function requireServer(){if(hasRequiredServer)return server;hasRequiredServer=1;var r=server&&server.__runInitializers||function(T,_,R){for(var E=arguments.length>2,C=0;C<_.length;C++)R=E?_[C].call(T,R):_[C].call(T);return E?R:void 0},e=server&&server.__esDecorate||function(T,_,R,E,C,S){function I(Y){if(Y!==void 0&&typeof Y!="function")throw new TypeError("Function expected");return Y}for(var D=E.kind,B=D==="getter"?"get":D==="setter"?"set":"value",x=!_&&T?E.static?T:T.prototype:null,j=_||(x?Object.getOwnPropertyDescriptor(x,E.name):{}),$,W=!1,U=R.length-1;U>=0;U--){var z={};for(var X in E)z[X]=X==="access"?{}:E[X];for(var X in E.access)z.access[X]=E.access[X];z.addInitializer=function(Y){if(W)throw new TypeError("Cannot add initializers after decoration has completed");S.push(I(Y||null))};var K=(0,R[U])(D==="accessor"?{get:j.get,set:j.set}:j[B],z);if(D==="accessor"){if(K===void 0)continue;if(K===null||typeof K!="object")throw new TypeError("Object expected");($=I(K.get))&&(j.get=$),($=I(K.set))&&(j.set=$),($=I(K.init))&&C.unshift($)}else($=I(K))&&(D==="field"?C.unshift($):j[B]=$)}x&&Object.defineProperty(x,E.name,j),W=!0};Object.defineProperty(server,"__esModule",{value:!0}),server.Server=void 0;const t=require$$0$5,i=require$$1$4,s=requireConstants(),n=requireServerCall(),a=requireServerCredentials(),l=requireResolver(),u=requireLogging(),o=requireSubchannelAddress(),f=requireUriParser(),c=requireChannelz(),d=requireServerInterceptors(),p=2147483647,h=2147483647,g=2e4,v=2147483647,{HTTP2_HEADER_PATH:m}=t.constants,y="server",b=Buffer.from("max_age");function O(T){u.trace(s.LogVerbosity.DEBUG,"server_call",T)}function k(){}function A(T){return function(_,R){return i.deprecate(_,T)}}function M(T){return{code:s.Status.UNIMPLEMENTED,details:`The server does not implement the method ${T}`}}function F(T,_){const R=M(_);switch(T){case"unary":return(E,C)=>{C(R,null)};case"clientStream":return(E,C)=>{C(R,null)};case"serverStream":return E=>{E.emit("error",R)};case"bidi":return E=>{E.emit("error",R)};default:throw new Error(`Invalid handlerType ${T}`)}}let P=(()=>{var T;let _=[],R;return T=class{constructor(C){var S,I,D,B,x,j;this.boundPorts=(r(this,_),new Map),this.http2Servers=new Map,this.sessionIdleTimeouts=new Map,this.handlers=new Map,this.sessions=new Map,this.started=!1,this.shutdown=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.options=C??{},this.options["grpc.enable_channelz"]===0?(this.channelzEnabled=!1,this.channelzTrace=new c.ChannelzTraceStub,this.callTracker=new c.ChannelzCallTrackerStub,this.listenerChildrenTracker=new c.ChannelzChildrenTrackerStub,this.sessionChildrenTracker=new c.ChannelzChildrenTrackerStub):(this.channelzTrace=new c.ChannelzTrace,this.callTracker=new c.ChannelzCallTracker,this.listenerChildrenTracker=new c.ChannelzChildrenTracker,this.sessionChildrenTracker=new c.ChannelzChildrenTracker),this.channelzRef=(0,c.registerChannelzServer)("server",()=>this.getChannelzInfo(),this.channelzEnabled),this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=(S=this.options["grpc.max_connection_age_ms"])!==null&&S!==void 0?S:p,this.maxConnectionAgeGraceMs=(I=this.options["grpc.max_connection_age_grace_ms"])!==null&&I!==void 0?I:p,this.keepaliveTimeMs=(D=this.options["grpc.keepalive_time_ms"])!==null&&D!==void 0?D:h,this.keepaliveTimeoutMs=(B=this.options["grpc.keepalive_timeout_ms"])!==null&&B!==void 0?B:g,this.sessionIdleTimeout=(x=this.options["grpc.max_connection_idle_ms"])!==null&&x!==void 0?x:v,this.commonServerOptions={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER},"grpc-node.max_session_memory"in this.options?this.commonServerOptions.maxSessionMemory=this.options["grpc-node.max_session_memory"]:this.commonServerOptions.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(this.commonServerOptions.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]}),this.interceptors=(j=this.options.interceptors)!==null&&j!==void 0?j:[],this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfo(C){var S,I,D;const B=this.sessions.get(C),x=C.socket,j=x.remoteAddress?(0,o.stringToSubchannelAddress)(x.remoteAddress,x.remotePort):null,$=x.localAddress?(0,o.stringToSubchannelAddress)(x.localAddress,x.localPort):null;let W;if(C.encrypted){const z=x,X=z.getCipher(),K=z.getCertificate(),Y=z.getPeerCertificate();W={cipherSuiteStandardName:(S=X.standardName)!==null&&S!==void 0?S:null,cipherSuiteOtherName:X.standardName?null:X.name,localCertificate:K&&"raw"in K?K.raw:null,remoteCertificate:Y&&"raw"in Y?Y.raw:null}}else W=null;return{remoteAddress:j,localAddress:$,security:W,remoteName:null,streamsStarted:B.streamTracker.callsStarted,streamsSucceeded:B.streamTracker.callsSucceeded,streamsFailed:B.streamTracker.callsFailed,messagesSent:B.messagesSent,messagesReceived:B.messagesReceived,keepAlivesSent:B.keepAlivesSent,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:B.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:B.lastMessageSentTimestamp,lastMessageReceivedTimestamp:B.lastMessageReceivedTimestamp,localFlowControlWindow:(I=C.state.localWindowSize)!==null&&I!==void 0?I:null,remoteFlowControlWindow:(D=C.state.remoteWindowSize)!==null&&D!==void 0?D:null}}trace(C){u.trace(s.LogVerbosity.DEBUG,y,"("+this.channelzRef.id+") "+C)}keepaliveTrace(C){u.trace(s.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+C)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(C,S){if(C===null||typeof C!="object"||S===null||typeof S!="object")throw new Error("addService() requires two objects as arguments");const I=Object.keys(C);if(I.length===0)throw new Error("Cannot add an empty service to a server");I.forEach(D=>{const B=C[D];let x;B.requestStream?B.responseStream?x="bidi":x="clientStream":B.responseStream?x="serverStream":x="unary";let j=S[D],$;if(j===void 0&&typeof B.originalName=="string"&&(j=S[B.originalName]),j!==void 0?$=j.bind(S):$=F(x,D),this.register(B.path,$,B.responseSerialize,B.requestDeserialize,x)===!1)throw new Error(`Method handler for ${B.path} already provided.`)})}removeService(C){if(C===null||typeof C!="object")throw new Error("removeService() requires object as argument");Object.keys(C).forEach(I=>{const D=C[I];this.unregister(D.path)})}bind(C,S){throw new Error("Not implemented. Use bindAsync() instead")}experimentalRegisterListenerToChannelz(C){return(0,c.registerChannelzSocket)((0,o.subchannelAddressToString)(C),()=>({localAddress:C,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalUnregisterListenerFromChannelz(C){(0,c.unregisterChannelzRef)(C)}createHttp2Server(C){let S;if(C._isSecure()){const I=C._getConstructorOptions(),D=C._getSecureContextOptions(),B=Object.assign(Object.assign(Object.assign(Object.assign({},this.commonServerOptions),I),D),{enableTrace:this.options["grpc-node.tls_enable_trace"]===1});let x=D!==null;this.trace("Initial credentials valid: "+x),S=t.createSecureServer(B),S.prependListener("connection",$=>{x||(this.trace("Dropped connection from "+JSON.stringify($.address())+" due to unloaded credentials"),$.destroy())}),S.on("secureConnection",$=>{$.on("error",W=>{this.trace("An incoming TLS connection closed with error: "+W.message)})});const j=$=>{if($){const W=S;try{W.setSecureContext($)}catch(U){u.log(s.LogVerbosity.ERROR,"Failed to set secure context with error "+U.message),$=null}}x=$!==null,this.trace("Post-update credentials valid: "+x)};C._addWatcher(j),S.on("close",()=>{C._removeWatcher(j)})}else S=t.createServer(this.commonServerOptions);return S.setTimeout(0,k),this._setupHandlers(S,C._getInterceptors()),S}bindOneAddress(C,S){this.trace("Attempting to bind "+(0,o.subchannelAddressToString)(C));const I=this.createHttp2Server(S.credentials);return new Promise((D,B)=>{const x=j=>{this.trace("Failed to bind "+(0,o.subchannelAddressToString)(C)+" with error "+j.message),D({port:"port"in C?C.port:1,error:j.message})};I.once("error",x),I.listen(C,()=>{const j=I.address();let $;typeof j=="string"?$={path:j}:$={host:j.address,port:j.port};const W=this.experimentalRegisterListenerToChannelz($);this.listenerChildrenTracker.refChild(W),this.http2Servers.set(I,{channelzRef:W,sessions:new Set,ownsChannelzRef:!0}),S.listeningServers.add(I),this.trace("Successfully bound "+(0,o.subchannelAddressToString)($)),D({port:"port"in $?$.port:1}),I.removeListener("error",x)})})}async bindManyPorts(C,S){if(C.length===0)return{count:0,port:0,errors:[]};if((0,o.isTcpSubchannelAddress)(C[0])&&C[0].port===0){const I=await this.bindOneAddress(C[0],S);if(I.error){const D=await this.bindManyPorts(C.slice(1),S);return Object.assign(Object.assign({},D),{errors:[I.error,...D.errors]})}else{const D=C.slice(1).map(j=>(0,o.isTcpSubchannelAddress)(j)?{host:j.host,port:I.port}:j),B=await Promise.all(D.map(j=>this.bindOneAddress(j,S))),x=[I,...B];return{count:x.filter(j=>j.error===void 0).length,port:I.port,errors:x.filter(j=>j.error).map(j=>j.error)}}}else{const I=await Promise.all(C.map(D=>this.bindOneAddress(D,S)));return{count:I.filter(D=>D.error===void 0).length,port:I[0].port,errors:I.filter(D=>D.error).map(D=>D.error)}}}async bindAddressList(C,S){const I=await this.bindManyPorts(C,S);if(I.count>0)return I.count<C.length&&u.log(s.LogVerbosity.INFO,`WARNING Only ${I.count} addresses added out of total ${C.length} resolved`),I.port;{const D=`No address added out of total ${C.length} resolved`;throw u.log(s.LogVerbosity.ERROR,D),new Error(`${D} errors: [${I.errors.join(",")}]`)}}resolvePort(C){return new Promise((S,I)=>{let D=!1;const B=(j,$,W,U)=>{if(D)return!0;if(D=!0,!j.ok)return I(new Error(j.error.details)),!0;const z=[].concat(...j.value.map(X=>X.addresses));return z.length===0?(I(new Error(`No addresses resolved for port ${C}`)),!0):(S(z),!0)};(0,l.createResolver)(C,B,this.options).updateResolution()})}async bindPort(C,S){const I=await this.resolvePort(C);if(S.cancelled)throw this.completeUnbind(S),new Error("bindAsync operation cancelled by unbind call");const D=await this.bindAddressList(I,S);if(S.cancelled)throw this.completeUnbind(S),new Error("bindAsync operation cancelled by unbind call");return D}normalizePort(C){const S=(0,f.parseUri)(C);if(S===null)throw new Error(`Could not parse port "${C}"`);const I=(0,l.mapUriDefaultScheme)(S);if(I===null)throw new Error(`Could not get a default scheme for port "${C}"`);return I}bindAsync(C,S,I){if(this.shutdown)throw new Error("bindAsync called after shutdown");if(typeof C!="string")throw new TypeError("port must be a string");if(S===null||!(S instanceof a.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if(typeof I!="function")throw new TypeError("callback must be a function");this.trace("bindAsync port="+C);const D=this.normalizePort(C),B=(W,U)=>{process.nextTick(()=>I(W,U))};let x=this.boundPorts.get((0,f.uriToString)(D));if(x){if(!S._equals(x.credentials)){B(new Error(`${C} already bound with incompatible credentials`),0);return}x.cancelled=!1,x.completionPromise?x.completionPromise.then(W=>I(null,W),W=>I(W,0)):B(null,x.portNumber);return}x={mapKey:(0,f.uriToString)(D),originalUri:D,completionPromise:null,cancelled:!1,portNumber:0,credentials:S,listeningServers:new Set};const j=(0,f.splitHostPort)(D.path),$=this.bindPort(D,x);x.completionPromise=$,j?.port===0?$.then(W=>{const U={scheme:D.scheme,authority:D.authority,path:(0,f.combineHostPort)({host:j.host,port:W})};x.mapKey=(0,f.uriToString)(U),x.completionPromise=null,x.portNumber=W,this.boundPorts.set(x.mapKey,x),I(null,W)},W=>{I(W,0)}):(this.boundPorts.set(x.mapKey,x),$.then(W=>{x.completionPromise=null,x.portNumber=W,I(null,W)},W=>{I(W,0)}))}registerInjectorToChannelz(){return(0,c.registerChannelzSocket)("injector",()=>({localAddress:null,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null}),this.channelzEnabled)}experimentalCreateConnectionInjectorWithChannelzRef(C,S,I=!1){if(C===null||!(C instanceof a.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");this.channelzEnabled&&this.listenerChildrenTracker.refChild(S);const D=this.createHttp2Server(C),B=new Set;return this.http2Servers.set(D,{channelzRef:S,sessions:B,ownsChannelzRef:I}),{injectConnection:x=>{D.emit("connection",x)},drain:x=>{var j,$;for(const W of B)this.closeSession(W);($=(j=setTimeout(()=>{for(const W of B)W.destroy(t.constants.NGHTTP2_CANCEL)},x)).unref)===null||$===void 0||$.call(j)},destroy:()=>{this.closeServer(D);for(const x of B)this.closeSession(x)}}}createConnectionInjector(C){if(C===null||!(C instanceof a.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");const S=this.registerInjectorToChannelz();return this.experimentalCreateConnectionInjectorWithChannelzRef(C,S,!0)}closeServer(C,S){this.trace("Closing server with address "+JSON.stringify(C.address()));const I=this.http2Servers.get(C);C.close(()=>{I&&I.ownsChannelzRef&&(this.listenerChildrenTracker.unrefChild(I.channelzRef),(0,c.unregisterChannelzRef)(I.channelzRef)),this.http2Servers.delete(C),S?.()})}closeSession(C,S){var I;this.trace("Closing session initiated by "+((I=C.socket)===null||I===void 0?void 0:I.remoteAddress));const D=this.sessions.get(C),B=()=>{D&&(this.sessionChildrenTracker.unrefChild(D.ref),(0,c.unregisterChannelzRef)(D.ref)),S?.()};C.closed?queueMicrotask(B):C.close(B)}completeUnbind(C){for(const S of C.listeningServers){const I=this.http2Servers.get(S);if(this.closeServer(S,()=>{C.listeningServers.delete(S)}),I)for(const D of I.sessions)this.closeSession(D)}this.boundPorts.delete(C.mapKey)}unbind(C){this.trace("unbind port="+C);const S=this.normalizePort(C),I=(0,f.splitHostPort)(S.path);if(I?.port===0)throw new Error("Cannot unbind port 0");const D=this.boundPorts.get((0,f.uriToString)(S));D&&(this.trace("unbinding "+D.mapKey+" originally bound as "+(0,f.uriToString)(D.originalUri)),D.completionPromise?D.cancelled=!0:this.completeUnbind(D))}drain(C,S){var I,D;this.trace("drain port="+C+" graceTimeMs="+S);const B=this.normalizePort(C),x=(0,f.splitHostPort)(B.path);if(x?.port===0)throw new Error("Cannot drain port 0");const j=this.boundPorts.get((0,f.uriToString)(B));if(!j)return;const $=new Set;for(const W of j.listeningServers){const U=this.http2Servers.get(W);if(U)for(const z of U.sessions)$.add(z),this.closeSession(z,()=>{$.delete(z)})}(D=(I=setTimeout(()=>{for(const W of $)W.destroy(t.constants.NGHTTP2_CANCEL)},S)).unref)===null||D===void 0||D.call(I)}forceShutdown(){for(const C of this.boundPorts.values())C.cancelled=!0;this.boundPorts.clear();for(const C of this.http2Servers.keys())this.closeServer(C);this.sessions.forEach((C,S)=>{this.closeSession(S),S.destroy(t.constants.NGHTTP2_CANCEL)}),this.sessions.clear(),(0,c.unregisterChannelzRef)(this.channelzRef),this.shutdown=!0}register(C,S,I,D,B){return this.handlers.has(C)?!1:(this.handlers.set(C,{func:S,serialize:I,deserialize:D,type:B,path:C}),!0)}unregister(C){return this.handlers.delete(C)}start(){if(this.http2Servers.size===0||[...this.http2Servers.keys()].every(C=>!C.listening))throw new Error("server must be bound in order to start");if(this.started===!0)throw new Error("server is already started");this.started=!0}tryShutdown(C){var S;const I=x=>{(0,c.unregisterChannelzRef)(this.channelzRef),C(x)};let D=0;function B(){D--,D===0&&I()}this.shutdown=!0;for(const[x,j]of this.http2Servers.entries()){D++;const $=j.channelzRef.name;this.trace("Waiting for server "+$+" to close"),this.closeServer(x,()=>{this.trace("Server "+$+" finished closing"),B()});for(const W of j.sessions.keys()){D++;const U=(S=W.socket)===null||S===void 0?void 0:S.remoteAddress;this.trace("Waiting for session "+U+" to close"),this.closeSession(W,()=>{this.trace("Session "+U+" finished closing"),B()})}}D===0&&I()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(C,S){const I=S[t.constants.HTTP2_HEADER_CONTENT_TYPE];return typeof I!="string"||!I.startsWith("application/grpc")?(C.respond({[t.constants.HTTP2_HEADER_STATUS]:t.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1):!0}_retrieveHandler(C){O("Received call to method "+C+" at address "+this.serverAddressString);const S=this.handlers.get(C);return S===void 0?(O("No handler registered for method "+C+". Sending UNIMPLEMENTED status."),null):S}_respondWithError(C,S,I=null){var D,B;const x=Object.assign({"grpc-status":(D=C.code)!==null&&D!==void 0?D:s.Status.INTERNAL,"grpc-message":C.details,[t.constants.HTTP2_HEADER_STATUS]:t.constants.HTTP_STATUS_OK,[t.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},(B=C.metadata)===null||B===void 0?void 0:B.toHttp2Headers());S.respond(x,{endStream:!0}),this.callTracker.addCallFailed(),I?.streamTracker.addCallFailed()}_channelzHandler(C,S,I){this.onStreamOpened(S);const D=this.sessions.get(S.session);if(this.callTracker.addCallStarted(),D?.streamTracker.addCallStarted(),!this._verifyContentType(S,I)){this.callTracker.addCallFailed(),D?.streamTracker.addCallFailed();return}const B=I[m],x=this._retrieveHandler(B);if(!x){this._respondWithError(M(B),S,D);return}const j={addMessageSent:()=>{D&&(D.messagesSent+=1,D.lastMessageSentTimestamp=new Date)},addMessageReceived:()=>{D&&(D.messagesReceived+=1,D.lastMessageReceivedTimestamp=new Date)},onCallEnd:W=>{W.code===s.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()},onStreamEnd:W=>{D&&(W?D.streamTracker.addCallSucceeded():D.streamTracker.addCallFailed())}},$=(0,d.getServerInterceptingCall)([...C,...this.interceptors],S,I,j,x,this.options);this._runHandlerForCall($,x)||(this.callTracker.addCallFailed(),D?.streamTracker.addCallFailed(),$.sendStatus({code:s.Status.INTERNAL,details:`Unknown handler type: ${x.type}`}))}_streamHandler(C,S,I){if(this.onStreamOpened(S),this._verifyContentType(S,I)!==!0)return;const D=I[m],B=this._retrieveHandler(D);if(!B){this._respondWithError(M(D),S,null);return}const x=(0,d.getServerInterceptingCall)([...C,...this.interceptors],S,I,null,B,this.options);this._runHandlerForCall(x,B)||x.sendStatus({code:s.Status.INTERNAL,details:`Unknown handler type: ${B.type}`})}_runHandlerForCall(C,S){const{type:I}=S;if(I==="unary")L(C,S);else if(I==="clientStream")q(C,S);else if(I==="serverStream")w(C,S);else if(I==="bidi")N(C,S);else return!1;return!0}_setupHandlers(C,S){if(C===null)return;const I=C.address();let D="null";I&&(typeof I=="string"?D=I:D=I.address+":"+I.port),this.serverAddressString=D;const B=this.channelzEnabled?this._channelzHandler:this._streamHandler,x=this.channelzEnabled?this._channelzSessionHandler(C):this._sessionHandler(C);C.on("stream",B.bind(this,S)),C.on("session",x)}_sessionHandler(C){return S=>{var I,D;(I=this.http2Servers.get(C))===null||I===void 0||I.sessions.add(S);let B=null,x=null,j=null,$=!1;const W=this.enableIdleTimeout(S);if(this.maxConnectionAgeMs!==p){const Y=this.maxConnectionAgeMs/10,te=Math.random()*Y*2-Y;B=setTimeout(()=>{var re,se;$=!0,this.trace("Connection dropped by max connection age: "+((re=S.socket)===null||re===void 0?void 0:re.remoteAddress));try{S.goaway(t.constants.NGHTTP2_NO_ERROR,~(1<<31),b)}catch{S.destroy();return}S.close(),this.maxConnectionAgeGraceMs!==p&&(x=setTimeout(()=>{S.destroy()},this.maxConnectionAgeGraceMs),(se=x.unref)===null||se===void 0||se.call(x))},this.maxConnectionAgeMs+te),(D=B.unref)===null||D===void 0||D.call(B)}const U=()=>{j&&(clearTimeout(j),j=null)},z=()=>!S.destroyed&&this.keepaliveTimeMs<h&&this.keepaliveTimeMs>0;let X;const K=()=>{var Y;z()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),j=setTimeout(()=>{U(),X()},this.keepaliveTimeMs),(Y=j.unref)===null||Y===void 0||Y.call(j))};X=()=>{var Y;if(!z())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let te="";try{S.ping((se,ae,ee)=>{U(),se?(this.keepaliveTrace("Ping failed with error: "+se.message),$=!0,S.destroy()):(this.keepaliveTrace("Received ping response"),K())})||(te="Ping returned false")}catch(re){te=(re instanceof Error?re.message:"")||"Unknown error"}if(te){this.keepaliveTrace("Ping send failed: "+te),this.trace("Connection dropped due to ping send error: "+te),$=!0,S.destroy();return}j=setTimeout(()=>{U(),this.keepaliveTrace("Ping timeout passed without response"),this.trace("Connection dropped by keepalive timeout"),$=!0,S.destroy()},this.keepaliveTimeoutMs),(Y=j.unref)===null||Y===void 0||Y.call(j)},K(),S.on("close",()=>{var Y,te;$||this.trace(`Connection dropped by client ${(Y=S.socket)===null||Y===void 0?void 0:Y.remoteAddress}`),B&&clearTimeout(B),x&&clearTimeout(x),U(),W!==null&&(clearTimeout(W.timeout),this.sessionIdleTimeouts.delete(S)),(te=this.http2Servers.get(C))===null||te===void 0||te.sessions.delete(S)})}}_channelzSessionHandler(C){return S=>{var I,D,B,x;const j=(0,c.registerChannelzSocket)((D=(I=S.socket)===null||I===void 0?void 0:I.remoteAddress)!==null&&D!==void 0?D:"unknown",this.getChannelzSessionInfo.bind(this,S),this.channelzEnabled),$={ref:j,streamTracker:new c.ChannelzCallTracker,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};(B=this.http2Servers.get(C))===null||B===void 0||B.sessions.add(S),this.sessions.set(S,$);const W=`${S.socket.remoteAddress}:${S.socket.remotePort}`;this.channelzTrace.addTrace("CT_INFO","Connection established by client "+W),this.trace("Connection established by client "+W),this.sessionChildrenTracker.refChild(j);let U=null,z=null,X=null,K=!1;const Y=this.enableIdleTimeout(S);if(this.maxConnectionAgeMs!==p){const ee=this.maxConnectionAgeMs/10,oe=Math.random()*ee*2-ee;U=setTimeout(()=>{var fe;K=!0,this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+W);try{S.goaway(t.constants.NGHTTP2_NO_ERROR,~(1<<31),b)}catch{S.destroy();return}S.close(),this.maxConnectionAgeGraceMs!==p&&(z=setTimeout(()=>{S.destroy()},this.maxConnectionAgeGraceMs),(fe=z.unref)===null||fe===void 0||fe.call(z))},this.maxConnectionAgeMs+oe),(x=U.unref)===null||x===void 0||x.call(U)}const te=()=>{X&&(clearTimeout(X),X=null)},re=()=>!S.destroyed&&this.keepaliveTimeMs<h&&this.keepaliveTimeMs>0;let se;const ae=()=>{var ee;re()&&(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),X=setTimeout(()=>{te(),se()},this.keepaliveTimeMs),(ee=X.unref)===null||ee===void 0||ee.call(X))};se=()=>{var ee;if(!re())return;this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms");let oe="";try{S.ping((ue,_e,Ce)=>{te(),ue?(this.keepaliveTrace("Ping failed with error: "+ue.message),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to error of a ping frame "+ue.message+" return in "+_e),K=!0,S.destroy()):(this.keepaliveTrace("Received ping response"),ae())})||(oe="Ping returned false")}catch(fe){oe=(fe instanceof Error?fe.message:"")||"Unknown error"}if(oe){this.keepaliveTrace("Ping send failed: "+oe),this.channelzTrace.addTrace("CT_INFO","Connection dropped due to ping send error: "+oe),K=!0,S.destroy();return}$.keepAlivesSent+=1,X=setTimeout(()=>{te(),this.keepaliveTrace("Ping timeout passed without response"),this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+W),K=!0,S.destroy()},this.keepaliveTimeoutMs),(ee=X.unref)===null||ee===void 0||ee.call(X)},ae(),S.on("close",()=>{var ee;K||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+W),this.sessionChildrenTracker.unrefChild(j),(0,c.unregisterChannelzRef)(j),U&&clearTimeout(U),z&&clearTimeout(z),te(),Y!==null&&(clearTimeout(Y.timeout),this.sessionIdleTimeouts.delete(S)),(ee=this.http2Servers.get(C))===null||ee===void 0||ee.sessions.delete(S),this.sessions.delete(S)})}}enableIdleTimeout(C){var S,I;if(this.sessionIdleTimeout>=v)return null;const D={activeStreams:0,lastIdle:Date.now(),onClose:this.onStreamClose.bind(this,C),timeout:setTimeout(this.onIdleTimeout,this.sessionIdleTimeout,this,C)};(I=(S=D.timeout).unref)===null||I===void 0||I.call(S),this.sessionIdleTimeouts.set(C,D);const{socket:B}=C;return this.trace("Enable idle timeout for "+B.remoteAddress+":"+B.remotePort),D}onIdleTimeout(C,S){const{socket:I}=S,D=C.sessionIdleTimeouts.get(S);D!==void 0&&D.activeStreams===0&&(Date.now()-D.lastIdle>=C.sessionIdleTimeout?(C.trace("Session idle timeout triggered for "+I?.remoteAddress+":"+I?.remotePort+" last idle at "+D.lastIdle),C.closeSession(S)):D.timeout.refresh())}onStreamOpened(C){const S=C.session,I=this.sessionIdleTimeouts.get(S);I&&(I.activeStreams+=1,C.once("close",I.onClose))}onStreamClose(C){var S,I;const D=this.sessionIdleTimeouts.get(C);D&&(D.activeStreams-=1,D.activeStreams===0&&(D.lastIdle=Date.now(),D.timeout.refresh(),this.trace("Session onStreamClose"+((S=C.socket)===null||S===void 0?void 0:S.remoteAddress)+":"+((I=C.socket)===null||I===void 0?void 0:I.remotePort)+" at "+D.lastIdle)))}},(()=>{const E=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;R=[A("Calling start() is no longer necessary. It can be safely omitted.")],e(T,null,R,{kind:"method",name:"start",static:!1,private:!1,access:{has:C=>"start"in C,get:C=>C.start},metadata:E},null,_),E&&Object.defineProperty(T,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:E})})(),T})();server.Server=P;async function L(T,_){let R;function E(I,D,B,x){if(I){T.sendStatus((0,n.serverErrorToStatus)(I,B));return}T.sendMessage(D,()=>{T.sendStatus({code:s.Status.OK,details:"OK",metadata:B??null})})}let C,S=null;T.start({onReceiveMetadata(I){C=I,T.startRead()},onReceiveMessage(I){if(S){T.sendStatus({code:s.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${_.path}`,metadata:null});return}S=I,T.startRead()},onReceiveHalfClose(){if(!S){T.sendStatus({code:s.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${_.path}`,metadata:null});return}R=new n.ServerWritableStreamImpl(_.path,T,C,S);try{_.func(R,E)}catch(I){T.sendStatus({code:s.Status.UNKNOWN,details:`Server method handler threw error ${I.message}`,metadata:null})}},onCancel(){R&&(R.cancelled=!0,R.emit("cancelled","cancelled"))}})}function q(T,_){let R;function E(C,S,I,D){if(C){T.sendStatus((0,n.serverErrorToStatus)(C,I));return}T.sendMessage(S,()=>{T.sendStatus({code:s.Status.OK,details:"OK",metadata:I??null})})}T.start({onReceiveMetadata(C){R=new n.ServerDuplexStreamImpl(_.path,T,C);try{_.func(R,E)}catch(S){T.sendStatus({code:s.Status.UNKNOWN,details:`Server method handler threw error ${S.message}`,metadata:null})}},onReceiveMessage(C){R.push(C)},onReceiveHalfClose(){R.push(null)},onCancel(){R&&(R.cancelled=!0,R.emit("cancelled","cancelled"),R.destroy())}})}function w(T,_){let R,E,C=null;T.start({onReceiveMetadata(S){E=S,T.startRead()},onReceiveMessage(S){if(C){T.sendStatus({code:s.Status.UNIMPLEMENTED,details:`Received a second request message for server streaming method ${_.path}`,metadata:null});return}C=S,T.startRead()},onReceiveHalfClose(){if(!C){T.sendStatus({code:s.Status.UNIMPLEMENTED,details:`Received no request message for server streaming method ${_.path}`,metadata:null});return}R=new n.ServerWritableStreamImpl(_.path,T,E,C);try{_.func(R)}catch(S){T.sendStatus({code:s.Status.UNKNOWN,details:`Server method handler threw error ${S.message}`,metadata:null})}},onCancel(){R&&(R.cancelled=!0,R.emit("cancelled","cancelled"),R.destroy())}})}function N(T,_){let R;T.start({onReceiveMetadata(E){R=new n.ServerDuplexStreamImpl(_.path,T,E);try{_.func(R)}catch(C){T.sendStatus({code:s.Status.UNKNOWN,details:`Server method handler threw error ${C.message}`,metadata:null})}},onReceiveMessage(E){R.push(E)},onReceiveHalfClose(){R.push(null)},onCancel(){R&&(R.cancelled=!0,R.emit("cancelled","cancelled"),R.destroy())}})}return server}var statusBuilder={},hasRequiredStatusBuilder;function requireStatusBuilder(){if(hasRequiredStatusBuilder)return statusBuilder;hasRequiredStatusBuilder=1,Object.defineProperty(statusBuilder,"__esModule",{value:!0}),statusBuilder.StatusBuilder=void 0;class r{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(t){return this.code=t,this}withDetails(t){return this.details=t,this}withMetadata(t){return this.metadata=t,this}build(){const t={};return this.code!==null&&(t.code=this.code),this.details!==null&&(t.details=this.details),this.metadata!==null&&(t.metadata=this.metadata),t}}return statusBuilder.StatusBuilder=r,statusBuilder}var experimental={},loadBalancerPickFirst={},hasRequiredLoadBalancerPickFirst;function requireLoadBalancerPickFirst(){if(hasRequiredLoadBalancerPickFirst)return loadBalancerPickFirst;hasRequiredLoadBalancerPickFirst=1,Object.defineProperty(loadBalancerPickFirst,"__esModule",{value:!0}),loadBalancerPickFirst.LeafLoadBalancer=loadBalancerPickFirst.PickFirstLoadBalancer=loadBalancerPickFirst.PickFirstLoadBalancingConfig=void 0,loadBalancerPickFirst.shuffled=g,loadBalancerPickFirst.setup=k;const r=requireLoadBalancer(),e=requireConnectivityState(),t=requirePicker(),i=requireSubchannelAddress(),s=requireLogging(),n=requireConstants(),a=requireSubchannelAddress(),l=require$$0$2,u=requireCallInterface(),o="pick_first";function f(A){s.trace(n.LogVerbosity.DEBUG,o,A)}const c="pick_first",d=250;class p{constructor(M){this.shuffleAddressList=M}getLoadBalancerName(){return c}toJsonObject(){return{[c]:{shuffleAddressList:this.shuffleAddressList}}}getShuffleAddressList(){return this.shuffleAddressList}static createFromJson(M){if("shuffleAddressList"in M&&typeof M.shuffleAddressList!="boolean")throw new Error("pick_first config field shuffleAddressList must be a boolean if provided");return new p(M.shuffleAddressList===!0)}}loadBalancerPickFirst.PickFirstLoadBalancingConfig=p;class h{constructor(M){this.subchannel=M}pick(M){return{pickResultType:t.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}function g(A){const M=A.slice();for(let F=M.length-1;F>1;F--){const P=Math.floor(Math.random()*(F+1)),L=M[F];M[F]=M[P],M[P]=L}return M}function v(A){if(A.length===0)return[];const M=[],F=[],P=[],L=(0,a.isTcpSubchannelAddress)(A[0])&&(0,l.isIPv6)(A[0].host);for(const N of A)(0,a.isTcpSubchannelAddress)(N)&&(0,l.isIPv6)(N.host)?F.push(N):P.push(N);const q=L?F:P,w=L?P:F;for(let N=0;N<Math.max(q.length,w.length);N++)N<q.length&&M.push(q[N]),N<w.length&&M.push(w[N]);return M}const m="grpc-node.internal.pick-first.report_health_status";class y{constructor(M){this.channelControlHelper=M,this.children=[],this.currentState=e.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.subchannelStateListener=(F,P,L,q,w)=>{this.onSubchannelStateUpdate(F,P,L,w)},this.pickedSubchannelHealthListener=()=>this.calculateAndReportNewState(),this.stickyTransientFailureMode=!1,this.reportHealthStatus=!1,this.lastError=null,this.latestAddressList=null,this.latestOptions={},this.latestResolutionNote="",this.connectionDelayTimeout=setTimeout(()=>{},0),clearTimeout(this.connectionDelayTimeout)}allChildrenHaveReportedTF(){return this.children.every(M=>M.hasReportedTransientFailure)}resetChildrenReportedTF(){this.children.every(M=>M.hasReportedTransientFailure=!1)}calculateAndReportNewState(){var M;if(this.currentPick)if(this.reportHealthStatus&&!this.currentPick.isHealthy()){const F=`Picked subchannel ${this.currentPick.getAddress()} is unhealthy`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new t.UnavailablePicker({details:F}),F)}else this.updateState(e.ConnectivityState.READY,new h(this.currentPick),null);else if(((M=this.latestAddressList)===null||M===void 0?void 0:M.length)===0){const F=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new t.UnavailablePicker({details:F}),F)}else if(this.children.length===0)this.updateState(e.ConnectivityState.IDLE,new t.QueuePicker(this),null);else if(this.stickyTransientFailureMode){const F=`No connection established. Last error: ${this.lastError}. Resolution note: ${this.latestResolutionNote}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new t.UnavailablePicker({details:F}),F)}else this.updateState(e.ConnectivityState.CONNECTING,new t.QueuePicker(this),null)}requestReresolution(){this.channelControlHelper.requestReresolution()}maybeEnterStickyTransientFailureMode(){if(this.allChildrenHaveReportedTF()){if(this.requestReresolution(),this.resetChildrenReportedTF(),this.stickyTransientFailureMode){this.calculateAndReportNewState();return}this.stickyTransientFailureMode=!0;for(const{subchannel:M}of this.children)M.startConnecting();this.calculateAndReportNewState()}}removeCurrentPick(){this.currentPick!==null&&(this.currentPick.removeConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.removeChannelzChild(this.currentPick.getChannelzRef()),this.currentPick.removeHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick.unref(),this.currentPick=null)}onSubchannelStateUpdate(M,F,P,L){var q;if(!((q=this.currentPick)===null||q===void 0)&&q.realSubchannelEquals(M)){P!==e.ConnectivityState.READY&&(this.removeCurrentPick(),this.calculateAndReportNewState());return}for(const[w,N]of this.children.entries())if(M.realSubchannelEquals(N.subchannel)){P===e.ConnectivityState.READY&&this.pickSubchannel(N.subchannel),P===e.ConnectivityState.TRANSIENT_FAILURE&&(N.hasReportedTransientFailure=!0,L&&(this.lastError=L),this.maybeEnterStickyTransientFailureMode(),w===this.currentSubchannelIndex&&this.startNextSubchannelConnecting(w+1)),N.subchannel.startConnecting();return}}startNextSubchannelConnecting(M){clearTimeout(this.connectionDelayTimeout);for(const[F,P]of this.children.entries())if(F>=M){const L=P.subchannel.getConnectivityState();if(L===e.ConnectivityState.IDLE||L===e.ConnectivityState.CONNECTING){this.startConnecting(F);return}}this.maybeEnterStickyTransientFailureMode()}startConnecting(M){var F,P;clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=M,this.children[M].subchannel.getConnectivityState()===e.ConnectivityState.IDLE&&(f("Start connecting to subchannel with address "+this.children[M].subchannel.getAddress()),process.nextTick(()=>{var L;(L=this.children[M])===null||L===void 0||L.subchannel.startConnecting()})),this.connectionDelayTimeout=setTimeout(()=>{this.startNextSubchannelConnecting(M+1)},d),(P=(F=this.connectionDelayTimeout).unref)===null||P===void 0||P.call(F)}pickSubchannel(M){f("Pick subchannel with address "+M.getAddress()),this.stickyTransientFailureMode=!1,M.ref(),this.channelControlHelper.addChannelzChild(M.getChannelzRef()),this.removeCurrentPick(),this.resetSubchannelList(),M.addConnectivityStateListener(this.subchannelStateListener),M.addHealthStateWatcher(this.pickedSubchannelHealthListener),this.currentPick=M,clearTimeout(this.connectionDelayTimeout),this.calculateAndReportNewState()}updateState(M,F,P){f(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[M]),this.currentState=M,this.channelControlHelper.updateState(M,F,P)}resetSubchannelList(){for(const M of this.children)M.subchannel.removeConnectivityStateListener(this.subchannelStateListener),M.subchannel.unref(),this.channelControlHelper.removeChannelzChild(M.subchannel.getChannelzRef());this.currentSubchannelIndex=0,this.children=[]}connectToAddressList(M,F){f("connectToAddressList(["+M.map(L=>(0,i.subchannelAddressToString)(L))+"])");const P=M.map(L=>({subchannel:this.channelControlHelper.createSubchannel(L,F),hasReportedTransientFailure:!1}));for(const{subchannel:L}of P)if(L.getConnectivityState()===e.ConnectivityState.READY){this.pickSubchannel(L);return}for(const{subchannel:L}of P)L.ref(),this.channelControlHelper.addChannelzChild(L.getChannelzRef());this.resetSubchannelList(),this.children=P;for(const{subchannel:L}of this.children)L.addConnectivityStateListener(this.subchannelStateListener);for(const L of this.children)L.subchannel.getConnectivityState()===e.ConnectivityState.TRANSIENT_FAILURE&&(L.hasReportedTransientFailure=!0);this.startNextSubchannelConnecting(0),this.calculateAndReportNewState()}updateAddressList(M,F,P,L){if(!(F instanceof p))return!1;if(!M.ok)return this.children.length===0&&this.currentPick===null&&this.channelControlHelper.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new t.UnavailablePicker(M.error),M.error.details),!0;let q=M.value;this.reportHealthStatus=P[m],F.getShuffleAddressList()&&(q=g(q));const w=[].concat(...q.map(T=>T.addresses));f("updateAddressList(["+w.map(T=>(0,i.subchannelAddressToString)(T))+"])");const N=v(w);return this.latestAddressList=N,this.latestOptions=P,this.connectToAddressList(N,P),this.latestResolutionNote=L,w.length>0?!0:(this.lastError="No addresses resolved",!1)}exitIdle(){this.currentState===e.ConnectivityState.IDLE&&this.latestAddressList&&this.connectToAddressList(this.latestAddressList,this.latestOptions)}resetBackoff(){}destroy(){this.resetSubchannelList(),this.removeCurrentPick()}getTypeName(){return c}}loadBalancerPickFirst.PickFirstLoadBalancer=y;const b=new p(!1);class O{constructor(M,F,P,L){this.endpoint=M,this.options=P,this.resolutionNote=L,this.latestState=e.ConnectivityState.IDLE;const q=(0,r.createChildChannelControlHelper)(F,{updateState:(w,N,T)=>{this.latestState=w,this.latestPicker=N,F.updateState(w,N,T)}});this.pickFirstBalancer=new y(q),this.latestPicker=new t.QueuePicker(this.pickFirstBalancer)}startConnecting(){this.pickFirstBalancer.updateAddressList((0,u.statusOrFromValue)([this.endpoint]),b,Object.assign(Object.assign({},this.options),{[m]:!0}),this.resolutionNote)}updateEndpoint(M,F){this.options=F,this.endpoint=M,this.latestState!==e.ConnectivityState.IDLE&&this.startConnecting()}getConnectivityState(){return this.latestState}getPicker(){return this.latestPicker}getEndpoint(){return this.endpoint}exitIdle(){this.pickFirstBalancer.exitIdle()}destroy(){this.pickFirstBalancer.destroy()}}loadBalancerPickFirst.LeafLoadBalancer=O;function k(){(0,r.registerLoadBalancerType)(c,y,p),(0,r.registerDefaultLoadBalancerType)(c)}return loadBalancerPickFirst}var certificateProvider={},hasRequiredCertificateProvider;function requireCertificateProvider(){if(hasRequiredCertificateProvider)return certificateProvider;hasRequiredCertificateProvider=1,Object.defineProperty(certificateProvider,"__esModule",{value:!0}),certificateProvider.FileWatcherCertificateProvider=void 0;const r=fs,e=requireLogging(),t=requireConstants(),i=require$$1$4,s="certificate_provider";function n(u){e.trace(t.LogVerbosity.DEBUG,s,u)}const a=(0,i.promisify)(r.readFile);class l{constructor(o){if(this.config=o,this.refreshTimer=null,this.fileResultPromise=null,this.latestCaUpdate=void 0,this.caListeners=new Set,this.latestIdentityUpdate=void 0,this.identityListeners=new Set,this.lastUpdateTime=null,o.certificateFile===void 0!=(o.privateKeyFile===void 0))throw new Error("certificateFile and privateKeyFile must be set or unset together");if(o.certificateFile===void 0&&o.caCertificateFile===void 0)throw new Error("At least one of certificateFile and caCertificateFile must be set");n("File watcher constructed with config "+JSON.stringify(o))}updateCertificates(){this.fileResultPromise||(this.fileResultPromise=Promise.allSettled([this.config.certificateFile?a(this.config.certificateFile):Promise.reject(),this.config.privateKeyFile?a(this.config.privateKeyFile):Promise.reject(),this.config.caCertificateFile?a(this.config.caCertificateFile):Promise.reject()]),this.fileResultPromise.then(([o,f,c])=>{if(this.refreshTimer){n("File watcher read certificates certificate "+o.status+", privateKey "+f.status+", CA certificate "+c.status),this.lastUpdateTime=new Date,this.fileResultPromise=null,o.status==="fulfilled"&&f.status==="fulfilled"?this.latestIdentityUpdate={certificate:o.value,privateKey:f.value}:this.latestIdentityUpdate=null,c.status==="fulfilled"?this.latestCaUpdate={caCertificate:c.value}:this.latestCaUpdate=null;for(const d of this.identityListeners)d(this.latestIdentityUpdate);for(const d of this.caListeners)d(this.latestCaUpdate)}}),n("File watcher initiated certificate update"))}maybeStartWatchingFiles(){if(!this.refreshTimer){const o=this.lastUpdateTime?new Date().getTime()-this.lastUpdateTime.getTime():1/0;o>this.config.refreshIntervalMs&&this.updateCertificates(),o>this.config.refreshIntervalMs*2&&(this.latestCaUpdate=void 0,this.latestIdentityUpdate=void 0),this.refreshTimer=setInterval(()=>this.updateCertificates(),this.config.refreshIntervalMs),n("File watcher started watching")}}maybeStopWatchingFiles(){this.caListeners.size===0&&this.identityListeners.size===0&&(this.fileResultPromise=null,this.refreshTimer&&(clearInterval(this.refreshTimer),this.refreshTimer=null))}addCaCertificateListener(o){this.caListeners.add(o),this.maybeStartWatchingFiles(),this.latestCaUpdate!==void 0&&process.nextTick(o,this.latestCaUpdate)}removeCaCertificateListener(o){this.caListeners.delete(o),this.maybeStopWatchingFiles()}addIdentityCertificateListener(o){this.identityListeners.add(o),this.maybeStartWatchingFiles(),this.latestIdentityUpdate!==void 0&&process.nextTick(o,this.latestIdentityUpdate)}removeIdentityCertificateListener(o){this.identityListeners.delete(o),this.maybeStopWatchingFiles()}}return certificateProvider.FileWatcherCertificateProvider=l,certificateProvider}var hasRequiredExperimental;function requireExperimental(){return hasRequiredExperimental||(hasRequiredExperimental=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX=r.createCertificateProviderChannelCredentials=r.FileWatcherCertificateProvider=r.createCertificateProviderServerCredentials=r.createServerCredentialsWithInterceptors=r.BaseSubchannelWrapper=r.registerAdminService=r.FilterStackFactory=r.BaseFilter=r.statusOrFromError=r.statusOrFromValue=r.PickResultType=r.QueuePicker=r.UnavailablePicker=r.ChildLoadBalancerHandler=r.EndpointMap=r.endpointHasAddress=r.endpointToString=r.subchannelAddressToString=r.LeafLoadBalancer=r.isLoadBalancerNameRegistered=r.parseLoadBalancingConfig=r.selectLbConfigFromList=r.registerLoadBalancerType=r.createChildChannelControlHelper=r.BackoffTimeout=r.parseDuration=r.durationToMs=r.splitHostPort=r.uriToString=r.CHANNEL_ARGS_CONFIG_SELECTOR_KEY=r.createResolver=r.registerResolver=r.log=r.trace=void 0;var e=requireLogging();Object.defineProperty(r,"trace",{enumerable:!0,get:function(){return e.trace}}),Object.defineProperty(r,"log",{enumerable:!0,get:function(){return e.log}});var t=requireResolver();Object.defineProperty(r,"registerResolver",{enumerable:!0,get:function(){return t.registerResolver}}),Object.defineProperty(r,"createResolver",{enumerable:!0,get:function(){return t.createResolver}}),Object.defineProperty(r,"CHANNEL_ARGS_CONFIG_SELECTOR_KEY",{enumerable:!0,get:function(){return t.CHANNEL_ARGS_CONFIG_SELECTOR_KEY}});var i=requireUriParser();Object.defineProperty(r,"uriToString",{enumerable:!0,get:function(){return i.uriToString}}),Object.defineProperty(r,"splitHostPort",{enumerable:!0,get:function(){return i.splitHostPort}});var s=requireDuration();Object.defineProperty(r,"durationToMs",{enumerable:!0,get:function(){return s.durationToMs}}),Object.defineProperty(r,"parseDuration",{enumerable:!0,get:function(){return s.parseDuration}});var n=requireBackoffTimeout();Object.defineProperty(r,"BackoffTimeout",{enumerable:!0,get:function(){return n.BackoffTimeout}});var a=requireLoadBalancer();Object.defineProperty(r,"createChildChannelControlHelper",{enumerable:!0,get:function(){return a.createChildChannelControlHelper}}),Object.defineProperty(r,"registerLoadBalancerType",{enumerable:!0,get:function(){return a.registerLoadBalancerType}}),Object.defineProperty(r,"selectLbConfigFromList",{enumerable:!0,get:function(){return a.selectLbConfigFromList}}),Object.defineProperty(r,"parseLoadBalancingConfig",{enumerable:!0,get:function(){return a.parseLoadBalancingConfig}}),Object.defineProperty(r,"isLoadBalancerNameRegistered",{enumerable:!0,get:function(){return a.isLoadBalancerNameRegistered}});var l=requireLoadBalancerPickFirst();Object.defineProperty(r,"LeafLoadBalancer",{enumerable:!0,get:function(){return l.LeafLoadBalancer}});var u=requireSubchannelAddress();Object.defineProperty(r,"subchannelAddressToString",{enumerable:!0,get:function(){return u.subchannelAddressToString}}),Object.defineProperty(r,"endpointToString",{enumerable:!0,get:function(){return u.endpointToString}}),Object.defineProperty(r,"endpointHasAddress",{enumerable:!0,get:function(){return u.endpointHasAddress}}),Object.defineProperty(r,"EndpointMap",{enumerable:!0,get:function(){return u.EndpointMap}});var o=requireLoadBalancerChildHandler();Object.defineProperty(r,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return o.ChildLoadBalancerHandler}});var f=requirePicker();Object.defineProperty(r,"UnavailablePicker",{enumerable:!0,get:function(){return f.UnavailablePicker}}),Object.defineProperty(r,"QueuePicker",{enumerable:!0,get:function(){return f.QueuePicker}}),Object.defineProperty(r,"PickResultType",{enumerable:!0,get:function(){return f.PickResultType}});var c=requireCallInterface();Object.defineProperty(r,"statusOrFromValue",{enumerable:!0,get:function(){return c.statusOrFromValue}}),Object.defineProperty(r,"statusOrFromError",{enumerable:!0,get:function(){return c.statusOrFromError}});var d=requireFilter();Object.defineProperty(r,"BaseFilter",{enumerable:!0,get:function(){return d.BaseFilter}});var p=requireFilterStack();Object.defineProperty(r,"FilterStackFactory",{enumerable:!0,get:function(){return p.FilterStackFactory}});var h=requireAdmin();Object.defineProperty(r,"registerAdminService",{enumerable:!0,get:function(){return h.registerAdminService}});var g=requireSubchannelInterface();Object.defineProperty(r,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return g.BaseSubchannelWrapper}});var v=requireServerCredentials();Object.defineProperty(r,"createServerCredentialsWithInterceptors",{enumerable:!0,get:function(){return v.createServerCredentialsWithInterceptors}}),Object.defineProperty(r,"createCertificateProviderServerCredentials",{enumerable:!0,get:function(){return v.createCertificateProviderServerCredentials}});var m=requireCertificateProvider();Object.defineProperty(r,"FileWatcherCertificateProvider",{enumerable:!0,get:function(){return m.FileWatcherCertificateProvider}});var y=requireChannelCredentials();Object.defineProperty(r,"createCertificateProviderChannelCredentials",{enumerable:!0,get:function(){return y.createCertificateProviderChannelCredentials}});var b=requireInternalChannel();Object.defineProperty(r,"SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX",{enumerable:!0,get:function(){return b.SUBCHANNEL_ARGS_EXCLUDE_KEY_PREFIX}})})(experimental)),experimental}var resolverUds={},hasRequiredResolverUds;function requireResolverUds(){if(hasRequiredResolverUds)return resolverUds;hasRequiredResolverUds=1,Object.defineProperty(resolverUds,"__esModule",{value:!0}),resolverUds.setup=i;const r=requireResolver(),e=requireCallInterface();class t{constructor(n,a,l){this.listener=a,this.hasReturnedResult=!1,this.endpoints=[];let u;n.authority===""?u="/"+n.path:u=n.path,this.endpoints=[{addresses:[{path:u}]}]}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(this.listener,(0,e.statusOrFromValue)(this.endpoints),{},null,""))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(n){return"localhost"}}function i(){(0,r.registerResolver)("unix",t)}return resolverUds}var resolverIp={},hasRequiredResolverIp;function requireResolverIp(){if(hasRequiredResolverIp)return resolverIp;hasRequiredResolverIp=1,Object.defineProperty(resolverIp,"__esModule",{value:!0}),resolverIp.setup=h;const r=require$$0$2,e=requireCallInterface(),t=requireConstants(),i=requireMetadata(),s=requireResolver(),n=requireSubchannelAddress(),a=requireUriParser(),l=requireLogging(),u="ip_resolver";function o(g){l.trace(t.LogVerbosity.DEBUG,u,g)}const f="ipv4",c="ipv6",d=443;class p{constructor(v,m,y){var b;this.listener=m,this.endpoints=[],this.error=null,this.hasReturnedResult=!1,o("Resolver constructed for target "+(0,a.uriToString)(v));const O=[];if(!(v.scheme===f||v.scheme===c)){this.error={code:t.Status.UNAVAILABLE,details:`Unrecognized scheme ${v.scheme} in IP resolver`,metadata:new i.Metadata};return}const k=v.path.split(",");for(const A of k){const M=(0,a.splitHostPort)(A);if(M===null){this.error={code:t.Status.UNAVAILABLE,details:`Failed to parse ${v.scheme} address ${A}`,metadata:new i.Metadata};return}if(v.scheme===f&&!(0,r.isIPv4)(M.host)||v.scheme===c&&!(0,r.isIPv6)(M.host)){this.error={code:t.Status.UNAVAILABLE,details:`Failed to parse ${v.scheme} address ${A}`,metadata:new i.Metadata};return}O.push({host:M.host,port:(b=M.port)!==null&&b!==void 0?b:d})}this.endpoints=O.map(A=>({addresses:[A]})),o("Parsed "+v.scheme+" address list "+O.map(n.subchannelAddressToString))}updateResolution(){this.hasReturnedResult||(this.hasReturnedResult=!0,process.nextTick(()=>{this.error?this.listener((0,e.statusOrFromError)(this.error),{},null,""):this.listener((0,e.statusOrFromValue)(this.endpoints),{},null,"")}))}destroy(){this.hasReturnedResult=!1}static getDefaultAuthority(v){return v.path.split(",")[0]}}function h(){(0,s.registerResolver)(f,p),(0,s.registerResolver)(c,p)}return resolverIp}var loadBalancerRoundRobin={},hasRequiredLoadBalancerRoundRobin;function requireLoadBalancerRoundRobin(){if(hasRequiredLoadBalancerRoundRobin)return loadBalancerRoundRobin;hasRequiredLoadBalancerRoundRobin=1,Object.defineProperty(loadBalancerRoundRobin,"__esModule",{value:!0}),loadBalancerRoundRobin.RoundRobinLoadBalancer=void 0,loadBalancerRoundRobin.setup=h;const r=requireLoadBalancer(),e=requireConnectivityState(),t=requirePicker(),i=requireLogging(),s=requireConstants(),n=requireSubchannelAddress(),a=requireLoadBalancerPickFirst(),l="round_robin";function u(g){i.trace(s.LogVerbosity.DEBUG,l,g)}const o="round_robin";class f{getLoadBalancerName(){return o}constructor(){}toJsonObject(){return{[o]:{}}}static createFromJson(v){return new f}}class c{constructor(v,m=0){this.children=v,this.nextIndex=m}pick(v){const m=this.children[this.nextIndex].picker;return this.nextIndex=(this.nextIndex+1)%this.children.length,m.pick(v)}peekNextEndpoint(){return this.children[this.nextIndex].endpoint}}function d(g,v){return[...g.slice(v),...g.slice(0,v)]}class p{constructor(v){this.channelControlHelper=v,this.children=[],this.currentState=e.ConnectivityState.IDLE,this.currentReadyPicker=null,this.updatesPaused=!1,this.lastError=null,this.childChannelControlHelper=(0,r.createChildChannelControlHelper)(v,{updateState:(m,y,b)=>{this.currentState===e.ConnectivityState.READY&&m!==e.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),b&&(this.lastError=b),this.calculateAndUpdateState()}})}countChildrenWithState(v){return this.children.filter(m=>m.getConnectivityState()===v).length}calculateAndUpdateState(){if(!this.updatesPaused){if(this.countChildrenWithState(e.ConnectivityState.READY)>0){const v=this.children.filter(y=>y.getConnectivityState()===e.ConnectivityState.READY);let m=0;if(this.currentReadyPicker!==null){const y=this.currentReadyPicker.peekNextEndpoint();m=v.findIndex(b=>(0,n.endpointEqual)(b.getEndpoint(),y)),m<0&&(m=0)}this.updateState(e.ConnectivityState.READY,new c(v.map(y=>({endpoint:y.getEndpoint(),picker:y.getPicker()})),m),null)}else if(this.countChildrenWithState(e.ConnectivityState.CONNECTING)>0)this.updateState(e.ConnectivityState.CONNECTING,new t.QueuePicker(this),null);else if(this.countChildrenWithState(e.ConnectivityState.TRANSIENT_FAILURE)>0){const v=`round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new t.UnavailablePicker({details:v}),v)}else this.updateState(e.ConnectivityState.IDLE,new t.QueuePicker(this),null);for(const v of this.children)v.getConnectivityState()===e.ConnectivityState.IDLE&&v.exitIdle()}}updateState(v,m,y){u(e.ConnectivityState[this.currentState]+" -> "+e.ConnectivityState[v]),v===e.ConnectivityState.READY?this.currentReadyPicker=m:this.currentReadyPicker=null,this.currentState=v,this.channelControlHelper.updateState(v,m,y)}resetSubchannelList(){for(const v of this.children)v.destroy();this.children=[]}updateAddressList(v,m,y,b){if(!(m instanceof f))return!1;if(!v.ok)return this.children.length===0&&this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new t.UnavailablePicker(v.error),v.error.details),!0;const O=Math.random()*v.value.length|0,k=d(v.value,O);if(this.resetSubchannelList(),k.length===0){const A=`No addresses resolved. Resolution note: ${b}`;this.updateState(e.ConnectivityState.TRANSIENT_FAILURE,new t.UnavailablePicker({details:A}),A)}u("Connect to endpoint list "+k.map(n.endpointToString)),this.updatesPaused=!0,this.children=k.map(A=>new a.LeafLoadBalancer(A,this.childChannelControlHelper,y,b));for(const A of this.children)A.startConnecting();return this.updatesPaused=!1,this.calculateAndUpdateState(),!0}exitIdle(){}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return o}}loadBalancerRoundRobin.RoundRobinLoadBalancer=p;function h(){(0,r.registerLoadBalancerType)(o,p,f)}return loadBalancerRoundRobin}var loadBalancerOutlierDetection={},hasRequiredLoadBalancerOutlierDetection;function requireLoadBalancerOutlierDetection(){if(hasRequiredLoadBalancerOutlierDetection)return loadBalancerOutlierDetection;hasRequiredLoadBalancerOutlierDetection=1;var r;Object.defineProperty(loadBalancerOutlierDetection,"__esModule",{value:!0}),loadBalancerOutlierDetection.OutlierDetectionLoadBalancer=loadBalancerOutlierDetection.OutlierDetectionLoadBalancingConfig=void 0,loadBalancerOutlierDetection.setup=L;const e=requireConnectivityState(),t=requireConstants(),i=requireDuration(),s=requireExperimental(),n=requireLoadBalancer(),a=requireLoadBalancerChildHandler(),l=requirePicker(),u=requireSubchannelAddress(),o=requireSubchannelInterface(),f=requireLogging(),c="outlier_detection";function d(q){f.trace(t.LogVerbosity.DEBUG,c,q)}const p="outlier_detection",h=((r=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)!==null&&r!==void 0?r:"true")==="true",g={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},v={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function m(q,w,N,T){if(w in q&&q[w]!==void 0&&typeof q[w]!==N){const _=T?`${T}.${w}`:w;throw new Error(`outlier detection config ${_} parse error: expected ${N}, got ${typeof q[w]}`)}}function y(q,w,N){const T=w;if(w in q&&q[w]!==void 0){if(!(0,i.isDuration)(q[w]))throw new Error(`outlier detection config ${T} parse error: expected Duration, got ${typeof q[w]}`);if(!(q[w].seconds>=0&&q[w].seconds<=315576e6&&q[w].nanos>=0&&q[w].nanos<=999999999))throw new Error(`outlier detection config ${T} parse error: values out of range for non-negative Duaration`)}}function b(q,w,N){const T=N?`${N}.${w}`:w;if(m(q,w,"number",N),w in q&&q[w]!==void 0&&!(q[w]>=0&&q[w]<=100))throw new Error(`outlier detection config ${T} parse error: value out of range for percentage (0-100)`)}class O{constructor(w,N,T,_,R,E,C){if(this.childPolicy=C,C.getLoadBalancerName()==="pick_first")throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=w??1e4,this.baseEjectionTimeMs=N??3e4,this.maxEjectionTimeMs=T??3e5,this.maxEjectionPercent=_??10,this.successRateEjection=R?Object.assign(Object.assign({},g),R):null,this.failurePercentageEjection=E?Object.assign(Object.assign({},v),E):null}getLoadBalancerName(){return p}toJsonObject(){var w,N;return{outlier_detection:{interval:(0,i.msToDuration)(this.intervalMs),base_ejection_time:(0,i.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,i.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:(w=this.successRateEjection)!==null&&w!==void 0?w:void 0,failure_percentage_ejection:(N=this.failurePercentageEjection)!==null&&N!==void 0?N:void 0,child_policy:[this.childPolicy.toJsonObject()]}}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}static createFromJson(w){var N;if(y(w,"interval"),y(w,"base_ejection_time"),y(w,"max_ejection_time"),b(w,"max_ejection_percent"),"success_rate_ejection"in w&&w.success_rate_ejection!==void 0){if(typeof w.success_rate_ejection!="object")throw new Error("outlier detection config success_rate_ejection must be an object");m(w.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),b(w.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),m(w.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),m(w.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in w&&w.failure_percentage_ejection!==void 0){if(typeof w.failure_percentage_ejection!="object")throw new Error("outlier detection config failure_percentage_ejection must be an object");b(w.failure_percentage_ejection,"threshold","failure_percentage_ejection"),b(w.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),m(w.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),m(w.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}if(!("child_policy"in w)||!Array.isArray(w.child_policy))throw new Error("outlier detection config child_policy must be an array");const T=(0,n.selectLbConfigFromList)(w.child_policy);if(!T)throw new Error("outlier detection config child_policy: no valid recognized policy found");return new O(w.interval?(0,i.durationToMs)(w.interval):null,w.base_ejection_time?(0,i.durationToMs)(w.base_ejection_time):null,w.max_ejection_time?(0,i.durationToMs)(w.max_ejection_time):null,(N=w.max_ejection_percent)!==null&&N!==void 0?N:null,w.success_rate_ejection,w.failure_percentage_ejection,T)}}loadBalancerOutlierDetection.OutlierDetectionLoadBalancingConfig=O;class k extends o.BaseSubchannelWrapper{constructor(w,N){super(w),this.mapEntry=N,this.refCount=0}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){const w=this.mapEntry.subchannelWrappers.indexOf(this);w>=0&&this.mapEntry.subchannelWrappers.splice(w,1)}}eject(){this.setHealthy(!1)}uneject(){this.setHealthy(!0)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}function A(){return{success:0,failure:0}}class M{constructor(){this.activeBucket=A(),this.inactiveBucket=A()}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket=A()}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class F{constructor(w,N){this.wrappedPicker=w,this.countCalls=N}pick(w){const N=this.wrappedPicker.pick(w);if(N.pickResultType===l.PickResultType.COMPLETE){const T=N.subchannel,_=T.getMapEntry();if(_){let R=N.onCallEnded;return this.countCalls&&(R=(E,C,S)=>{var I;E===t.Status.OK?_.counter.addSuccess():_.counter.addFailure(),(I=N.onCallEnded)===null||I===void 0||I.call(N,E,C,S)}),Object.assign(Object.assign({},N),{subchannel:T.getWrappedSubchannel(),onCallEnded:R})}else return Object.assign(Object.assign({},N),{subchannel:T.getWrappedSubchannel()})}else return N}}class P{constructor(w){this.entryMap=new u.EndpointMap,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new a.ChildLoadBalancerHandler((0,s.createChildChannelControlHelper)(w,{createSubchannel:(N,T)=>{const _=w.createSubchannel(N,T),R=this.entryMap.getForSubchannelAddress(N),E=new k(_,R);return R?.currentEjectionTimestamp!==null&&E.eject(),R?.subchannelWrappers.push(E),E},updateState:(N,T,_)=>{N===e.ConnectivityState.READY?w.updateState(N,new F(T,this.isCountingEnabled()),_):w.updateState(N,T,_)}})),this.ejectionTimer=setInterval(()=>{},0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return this.latestConfig!==null&&(this.latestConfig.getSuccessRateEjectionConfig()!==null||this.latestConfig.getFailurePercentageEjectionConfig()!==null)}getCurrentEjectionPercent(){let w=0;for(const N of this.entryMap.values())N.currentEjectionTimestamp!==null&&(w+=1);return w*100/this.entryMap.size}runSuccessRateCheck(w){if(!this.latestConfig)return;const N=this.latestConfig.getSuccessRateEjectionConfig();if(!N)return;d("Running success rate check");const T=N.request_volume;let _=0;const R=[];for(const[B,x]of this.entryMap.entries()){const j=x.counter.getLastSuccesses(),$=x.counter.getLastFailures();d("Stats for "+(0,u.endpointToString)(B)+": successes="+j+" failures="+$+" targetRequestVolume="+T),j+$>=T&&(_+=1,R.push(j/(j+$)))}if(d("Found "+_+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+R+"]"),_<N.minimum_hosts)return;const E=R.reduce((B,x)=>B+x)/R.length;let C=0;for(const B of R){const x=B-E;C+=x*x}const S=C/R.length,I=Math.sqrt(S),D=E-I*(N.stdev_factor/1e3);d("stdev="+I+" ejectionThreshold="+D);for(const[B,x]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const j=x.counter.getLastSuccesses(),$=x.counter.getLastFailures();if(j+$<T)continue;const W=j/(j+$);if(d("Checking candidate "+B+" successRate="+W),W<D){const U=Math.random()*100;d("Candidate "+B+" randomNumber="+U+" enforcement_percentage="+N.enforcement_percentage),U<N.enforcement_percentage&&(d("Ejecting candidate "+B),this.eject(x,w))}}}runFailurePercentageCheck(w){if(!this.latestConfig)return;const N=this.latestConfig.getFailurePercentageEjectionConfig();if(!N)return;d("Running failure percentage check. threshold="+N.threshold+" request volume threshold="+N.request_volume);let T=0;for(const _ of this.entryMap.values()){const R=_.counter.getLastSuccesses(),E=_.counter.getLastFailures();R+E>=N.request_volume&&(T+=1)}if(!(T<N.minimum_hosts))for(const[_,R]of this.entryMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const E=R.counter.getLastSuccesses(),C=R.counter.getLastFailures();if(d("Candidate successes="+E+" failures="+C),E+C<N.request_volume)continue;if(C*100/(C+E)>N.threshold){const I=Math.random()*100;d("Candidate "+_+" randomNumber="+I+" enforcement_percentage="+N.enforcement_percentage),I<N.enforcement_percentage&&(d("Ejecting candidate "+_),this.eject(R,w))}}}eject(w,N){w.currentEjectionTimestamp=new Date,w.ejectionTimeMultiplier+=1;for(const T of w.subchannelWrappers)T.eject()}uneject(w){w.currentEjectionTimestamp=null;for(const N of w.subchannelWrappers)N.uneject()}switchAllBuckets(){for(const w of this.entryMap.values())w.counter.switchBuckets()}startTimer(w){var N,T;this.ejectionTimer=setTimeout(()=>this.runChecks(),w),(T=(N=this.ejectionTimer).unref)===null||T===void 0||T.call(N)}runChecks(){const w=new Date;if(d("Ejection timer running"),this.switchAllBuckets(),!!this.latestConfig){this.timerStartTime=w,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(w),this.runFailurePercentageCheck(w);for(const[N,T]of this.entryMap.entries())if(T.currentEjectionTimestamp===null)T.ejectionTimeMultiplier>0&&(T.ejectionTimeMultiplier-=1);else{const _=this.latestConfig.getBaseEjectionTimeMs(),R=this.latestConfig.getMaxEjectionTimeMs(),E=new Date(T.currentEjectionTimestamp.getTime());E.setMilliseconds(E.getMilliseconds()+Math.min(_*T.ejectionTimeMultiplier,Math.max(_,R))),E<new Date&&(d("Unejecting "+N),this.uneject(T))}}}updateAddressList(w,N,T,_){if(!(N instanceof O))return!1;if(d("Received update with config: "+JSON.stringify(N.toJsonObject(),void 0,2)),w.ok){for(const E of w.value)this.entryMap.has(E)||(d("Adding map entry for "+(0,u.endpointToString)(E)),this.entryMap.set(E,{counter:new M,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));this.entryMap.deleteMissing(w.value)}const R=N.getChildPolicy();if(this.childBalancer.updateAddressList(w,R,T,_),N.getSuccessRateEjectionConfig()||N.getFailurePercentageEjectionConfig())if(this.timerStartTime){d("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);const E=N.getIntervalMs()-(new Date().getTime()-this.timerStartTime.getTime());this.startTimer(E)}else d("Starting new timer"),this.timerStartTime=new Date,this.startTimer(N.getIntervalMs()),this.switchAllBuckets();else{d("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(const E of this.entryMap.values())this.uneject(E),E.ejectionTimeMultiplier=0}return this.latestConfig=N,!0}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return p}}loadBalancerOutlierDetection.OutlierDetectionLoadBalancer=P;function L(){h&&(0,s.registerLoadBalancerType)(p,P,O)}return loadBalancerOutlierDetection}var loadBalancerWeightedRoundRobin={},priorityQueue={},hasRequiredPriorityQueue;function requirePriorityQueue(){if(hasRequiredPriorityQueue)return priorityQueue;hasRequiredPriorityQueue=1,Object.defineProperty(priorityQueue,"__esModule",{value:!0}),priorityQueue.PriorityQueue=void 0;const r=0,e=n=>Math.floor(n/2),t=n=>n*2+1,i=n=>n*2+2;class s{constructor(a=(l,u)=>l>u){this.comparator=a,this.heap=[]}size(){return this.heap.length}isEmpty(){return this.size()==0}peek(){return this.heap[r]}push(...a){return a.forEach(l=>{this.heap.push(l),this.siftUp()}),this.size()}pop(){const a=this.peek(),l=this.size()-1;return l>r&&this.swap(r,l),this.heap.pop(),this.siftDown(),a}replace(a){const l=this.peek();return this.heap[r]=a,this.siftDown(),l}greater(a,l){return this.comparator(this.heap[a],this.heap[l])}swap(a,l){[this.heap[a],this.heap[l]]=[this.heap[l],this.heap[a]]}siftUp(){let a=this.size()-1;for(;a>r&&this.greater(a,e(a));)this.swap(a,e(a)),a=e(a)}siftDown(){let a=r;for(;t(a)<this.size()&&this.greater(t(a),a)||i(a)<this.size()&&this.greater(i(a),a);){let l=i(a)<this.size()&&this.greater(i(a),t(a))?i(a):t(a);this.swap(a,l),a=l}}}return priorityQueue.PriorityQueue=s,priorityQueue}var hasRequiredLoadBalancerWeightedRoundRobin;function requireLoadBalancerWeightedRoundRobin(){if(hasRequiredLoadBalancerWeightedRoundRobin)return loadBalancerWeightedRoundRobin;hasRequiredLoadBalancerWeightedRoundRobin=1,Object.defineProperty(loadBalancerWeightedRoundRobin,"__esModule",{value:!0}),loadBalancerWeightedRoundRobin.WeightedRoundRobinLoadBalancingConfig=void 0,loadBalancerWeightedRoundRobin.setup=M;const r=requireConnectivityState(),e=requireConstants(),t=requireDuration(),i=requireLoadBalancer(),s=requireLoadBalancerPickFirst(),n=requireLogging(),a=requireOrca(),l=requirePicker(),u=requirePriorityQueue(),o=requireSubchannelAddress(),f="weighted_round_robin";function c(F){n.trace(e.LogVerbosity.DEBUG,f,F)}const d="weighted_round_robin",p=1e4,h=1e4,g=3*6e4,v=1e3,m=1;function y(F,P,L){if(P in F&&F[P]!==void 0&&typeof F[P]!==L)throw new Error(`weighted round robin config ${P} parse error: expected ${L}, got ${typeof F[P]}`)}function b(F,P){if(P in F&&F[P]!==void 0&&F[P]!==null){let L;if((0,t.isDuration)(F[P]))L=F[P];else if((0,t.isDurationMessage)(F[P]))L=(0,t.durationMessageToDuration)(F[P]);else if(typeof F[P]=="string"){const q=(0,t.parseDuration)(F[P]);if(!q)throw new Error(`weighted round robin config ${P}: failed to parse duration string ${F[P]}`);L=q}else throw new Error(`weighted round robin config ${P}: expected duration, got ${typeof F[P]}`);return(0,t.durationToMs)(L)}return null}class O{constructor(P,L,q,w,N,T){this.enableOobLoadReport=P??!1,this.oobLoadReportingPeriodMs=L??p,this.blackoutPeriodMs=q??h,this.weightExpirationPeriodMs=w??g,this.weightUpdatePeriodMs=Math.max(N??v,100),this.errorUtilizationPenalty=T??m}getLoadBalancerName(){return d}toJsonObject(){return{enable_oob_load_report:this.enableOobLoadReport,oob_load_reporting_period:(0,t.durationToString)((0,t.msToDuration)(this.oobLoadReportingPeriodMs)),blackout_period:(0,t.durationToString)((0,t.msToDuration)(this.blackoutPeriodMs)),weight_expiration_period:(0,t.durationToString)((0,t.msToDuration)(this.weightExpirationPeriodMs)),weight_update_period:(0,t.durationToString)((0,t.msToDuration)(this.weightUpdatePeriodMs)),error_utilization_penalty:this.errorUtilizationPenalty}}static createFromJson(P){if(y(P,"enable_oob_load_report","boolean"),y(P,"error_utilization_penalty","number"),P.error_utilization_penalty<0)throw new Error("weighted round robin config error_utilization_penalty < 0");return new O(P.enable_oob_load_report,b(P,"oob_load_reporting_period"),b(P,"blackout_period"),b(P,"weight_expiration_period"),b(P,"weight_update_period"),P.error_utilization_penalty)}getEnableOobLoadReport(){return this.enableOobLoadReport}getOobLoadReportingPeriodMs(){return this.oobLoadReportingPeriodMs}getBlackoutPeriodMs(){return this.blackoutPeriodMs}getWeightExpirationPeriodMs(){return this.weightExpirationPeriodMs}getWeightUpdatePeriodMs(){return this.weightUpdatePeriodMs}getErrorUtilizationPenalty(){return this.errorUtilizationPenalty}}loadBalancerWeightedRoundRobin.WeightedRoundRobinLoadBalancingConfig=O;class k{constructor(P,L){this.metricsHandler=L,this.queue=new u.PriorityQueue((N,T)=>N.deadline<T.deadline);const q=P.filter(N=>N.weight>0);let w;if(q.length<2)w=1;else{let N=0;for(const{weight:T}of q)N+=T;w=N/q.length}for(const N of P){const T=N.weight>0?1/N.weight:w;this.queue.push({endpointName:N.endpointName,picker:N.picker,period:T,deadline:Math.random()*T})}}pick(P){const L=this.queue.pop();this.queue.push(Object.assign(Object.assign({},L),{deadline:L.deadline+L.period}));const q=L.picker.pick(P);if(q.pickResultType===l.PickResultType.COMPLETE){if(this.metricsHandler)return Object.assign(Object.assign({},q),{onCallEnded:(0,a.createMetricsReader)(w=>this.metricsHandler(w,L.endpointName),q.onCallEnded)});{const w=q.subchannel;return Object.assign(Object.assign({},q),{subchannel:w.getWrappedSubchannel()})}}else return q}}class A{constructor(P){this.channelControlHelper=P,this.latestConfig=null,this.children=new Map,this.currentState=r.ConnectivityState.IDLE,this.updatesPaused=!1,this.lastError=null,this.weightUpdateTimer=null}countChildrenWithState(P){let L=0;for(const q of this.children.values())q.child.getConnectivityState()===P&&(L+=1);return L}updateWeight(P,L){var q,w;const N=L.rps_fractional;let T=L.application_utilization;T>0&&N>0&&(T+=L.eps/N*((w=(q=this.latestConfig)===null||q===void 0?void 0:q.getErrorUtilizationPenalty())!==null&&w!==void 0?w:0));const _=T===0?0:N/T;if(_===0)return;const R=new Date;P.nonEmptySince===null&&(P.nonEmptySince=R),P.lastUpdated=R,P.weight=_}getWeight(P){if(!this.latestConfig)return 0;const L=new Date().getTime();if(L-P.lastUpdated.getTime()>=this.latestConfig.getWeightExpirationPeriodMs())return P.nonEmptySince=null,0;const q=this.latestConfig.getBlackoutPeriodMs();return q>0&&(P.nonEmptySince===null||L-P.nonEmptySince.getTime()<q)?0:P.weight}calculateAndUpdateState(){if(!(this.updatesPaused||!this.latestConfig)){if(this.countChildrenWithState(r.ConnectivityState.READY)>0){const P=[];for(const[q,w]of this.children)w.child.getConnectivityState()===r.ConnectivityState.READY&&P.push({endpointName:q,picker:w.child.getPicker(),weight:this.getWeight(w)});c("Created picker with weights: "+P.map(q=>q.endpointName+":"+q.weight).join(","));let L;this.latestConfig.getEnableOobLoadReport()?L=null:L=(q,w)=>{const N=this.children.get(w);N&&this.updateWeight(N,q)},this.updateState(r.ConnectivityState.READY,new k(P,L),null)}else if(this.countChildrenWithState(r.ConnectivityState.CONNECTING)>0)this.updateState(r.ConnectivityState.CONNECTING,new l.QueuePicker(this),null);else if(this.countChildrenWithState(r.ConnectivityState.TRANSIENT_FAILURE)>0){const P=`weighted_round_robin: No connection established. Last error: ${this.lastError}`;this.updateState(r.ConnectivityState.TRANSIENT_FAILURE,new l.UnavailablePicker({details:P}),P)}else this.updateState(r.ConnectivityState.IDLE,new l.QueuePicker(this),null);for(const{child:P}of this.children.values())P.getConnectivityState()===r.ConnectivityState.IDLE&&P.exitIdle()}}updateState(P,L,q){c(r.ConnectivityState[this.currentState]+" -> "+r.ConnectivityState[P]),this.currentState=P,this.channelControlHelper.updateState(P,L,q)}updateAddressList(P,L,q,w){var N,T;if(!(L instanceof O))return!1;if(!P.ok)return this.children.size===0&&this.updateState(r.ConnectivityState.TRANSIENT_FAILURE,new l.UnavailablePicker(P.error),P.error.details),!0;if(P.value.length===0){const E=`No addresses resolved. Resolution note: ${w}`;return this.updateState(r.ConnectivityState.TRANSIENT_FAILURE,new l.UnavailablePicker({details:E}),E),!1}c("Connect to endpoint list "+P.value.map(o.endpointToString));const _=new Date,R=new Set;this.updatesPaused=!0,this.latestConfig=L;for(const E of P.value){const C=(0,o.endpointToString)(E);R.add(C);let S=this.children.get(C);S||(S={child:new s.LeafLoadBalancer(E,(0,i.createChildChannelControlHelper)(this.channelControlHelper,{updateState:(I,D,B)=>{this.currentState===r.ConnectivityState.READY&&I!==r.ConnectivityState.READY&&this.channelControlHelper.requestReresolution(),I===r.ConnectivityState.READY&&(S.nonEmptySince=null),B&&(this.lastError=B),this.calculateAndUpdateState()},createSubchannel:(I,D)=>{const B=this.channelControlHelper.createSubchannel(I,D);return S?.oobMetricsListener?new a.OrcaOobMetricsSubchannelWrapper(B,S.oobMetricsListener,this.latestConfig.getOobLoadReportingPeriodMs()):B}}),q,w),lastUpdated:_,nonEmptySince:null,weight:0,oobMetricsListener:null},this.children.set(C,S)),L.getEnableOobLoadReport()?S.oobMetricsListener=I=>{this.updateWeight(S,I)}:S.oobMetricsListener=null}for(const[E,C]of this.children)R.has(E)?C.child.startConnecting():(C.child.destroy(),this.children.delete(E));return this.updatesPaused=!1,this.calculateAndUpdateState(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer),this.weightUpdateTimer=(T=(N=setInterval(()=>{this.currentState===r.ConnectivityState.READY&&this.calculateAndUpdateState()},L.getWeightUpdatePeriodMs())).unref)===null||T===void 0?void 0:T.call(N),!0}exitIdle(){}resetBackoff(){}destroy(){for(const P of this.children.values())P.child.destroy();this.children.clear(),this.weightUpdateTimer&&clearInterval(this.weightUpdateTimer)}getTypeName(){return d}}function M(){(0,i.registerLoadBalancerType)(d,A,O)}return loadBalancerWeightedRoundRobin}var hasRequiredSrc;function requireSrc(){return hasRequiredSrc||(hasRequiredSrc=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.experimental=r.ServerMetricRecorder=r.ServerInterceptingCall=r.ResponderBuilder=r.ServerListenerBuilder=r.addAdminServicesToServer=r.getChannelzHandlers=r.getChannelzServiceDefinition=r.InterceptorConfigurationError=r.InterceptingCall=r.RequesterBuilder=r.ListenerBuilder=r.StatusBuilder=r.getClientChannel=r.ServerCredentials=r.Server=r.setLogVerbosity=r.setLogger=r.load=r.loadObject=r.CallCredentials=r.ChannelCredentials=r.waitForClientReady=r.closeClient=r.Channel=r.makeGenericClientConstructor=r.makeClientConstructor=r.loadPackageDefinition=r.Client=r.compressionAlgorithms=r.propagate=r.connectivityState=r.status=r.logVerbosity=r.Metadata=r.credentials=void 0;const e=requireCallCredentials();Object.defineProperty(r,"CallCredentials",{enumerable:!0,get:function(){return e.CallCredentials}});const t=requireChannel();Object.defineProperty(r,"Channel",{enumerable:!0,get:function(){return t.ChannelImplementation}});const i=requireCompressionAlgorithms();Object.defineProperty(r,"compressionAlgorithms",{enumerable:!0,get:function(){return i.CompressionAlgorithms}});const s=requireConnectivityState();Object.defineProperty(r,"connectivityState",{enumerable:!0,get:function(){return s.ConnectivityState}});const n=requireChannelCredentials();Object.defineProperty(r,"ChannelCredentials",{enumerable:!0,get:function(){return n.ChannelCredentials}});const a=requireClient();Object.defineProperty(r,"Client",{enumerable:!0,get:function(){return a.Client}});const l=requireConstants();Object.defineProperty(r,"logVerbosity",{enumerable:!0,get:function(){return l.LogVerbosity}}),Object.defineProperty(r,"status",{enumerable:!0,get:function(){return l.Status}}),Object.defineProperty(r,"propagate",{enumerable:!0,get:function(){return l.Propagate}});const u=requireLogging(),o=requireMakeClient();Object.defineProperty(r,"loadPackageDefinition",{enumerable:!0,get:function(){return o.loadPackageDefinition}}),Object.defineProperty(r,"makeClientConstructor",{enumerable:!0,get:function(){return o.makeClientConstructor}}),Object.defineProperty(r,"makeGenericClientConstructor",{enumerable:!0,get:function(){return o.makeClientConstructor}});const f=requireMetadata();Object.defineProperty(r,"Metadata",{enumerable:!0,get:function(){return f.Metadata}});const c=requireServer();Object.defineProperty(r,"Server",{enumerable:!0,get:function(){return c.Server}});const d=requireServerCredentials();Object.defineProperty(r,"ServerCredentials",{enumerable:!0,get:function(){return d.ServerCredentials}});const p=requireStatusBuilder();Object.defineProperty(r,"StatusBuilder",{enumerable:!0,get:function(){return p.StatusBuilder}}),r.credentials={combineChannelCredentials:(S,...I)=>I.reduce((D,B)=>D.compose(B),S),combineCallCredentials:(S,...I)=>I.reduce((D,B)=>D.compose(B),S),createInsecure:n.ChannelCredentials.createInsecure,createSsl:n.ChannelCredentials.createSsl,createFromSecureContext:n.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:e.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:e.CallCredentials.createFromGoogleCredential,createEmpty:e.CallCredentials.createEmpty};const h=S=>S.close();r.closeClient=h;const g=(S,I,D)=>S.waitForReady(I,D);r.waitForClientReady=g;const v=(S,I)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};r.loadObject=v;const m=(S,I,D)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")};r.load=m;const y=S=>{u.setLogger(S)};r.setLogger=y;const b=S=>{u.setLoggerVerbosity(S)};r.setLogVerbosity=b;const O=S=>a.Client.prototype.getChannel.call(S);r.getClientChannel=O;var k=requireClientInterceptors();Object.defineProperty(r,"ListenerBuilder",{enumerable:!0,get:function(){return k.ListenerBuilder}}),Object.defineProperty(r,"RequesterBuilder",{enumerable:!0,get:function(){return k.RequesterBuilder}}),Object.defineProperty(r,"InterceptingCall",{enumerable:!0,get:function(){return k.InterceptingCall}}),Object.defineProperty(r,"InterceptorConfigurationError",{enumerable:!0,get:function(){return k.InterceptorConfigurationError}});var A=requireChannelz();Object.defineProperty(r,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return A.getChannelzServiceDefinition}}),Object.defineProperty(r,"getChannelzHandlers",{enumerable:!0,get:function(){return A.getChannelzHandlers}});var M=requireAdmin();Object.defineProperty(r,"addAdminServicesToServer",{enumerable:!0,get:function(){return M.addAdminServicesToServer}});var F=requireServerInterceptors();Object.defineProperty(r,"ServerListenerBuilder",{enumerable:!0,get:function(){return F.ServerListenerBuilder}}),Object.defineProperty(r,"ResponderBuilder",{enumerable:!0,get:function(){return F.ResponderBuilder}}),Object.defineProperty(r,"ServerInterceptingCall",{enumerable:!0,get:function(){return F.ServerInterceptingCall}});var P=requireOrca();Object.defineProperty(r,"ServerMetricRecorder",{enumerable:!0,get:function(){return P.ServerMetricRecorder}});const L=requireExperimental();r.experimental=L;const q=requireResolverDns(),w=requireResolverUds(),N=requireResolverIp(),T=requireLoadBalancerPickFirst(),_=requireLoadBalancerRoundRobin(),R=requireLoadBalancerOutlierDetection(),E=requireLoadBalancerWeightedRoundRobin(),C=requireChannelz();q.setup(),w.setup(),N.setup(),T.setup(),_.setup(),R.setup(),E.setup(),C.setup()})(src$2)),src$2}var srcExports=requireSrc();function typeofJsonValue(r){let e=typeof r;if(e=="object"){if(Array.isArray(r))return"array";if(r===null)return"null"}return e}function isJsonObject(r){return r!==null&&typeof r=="object"&&!Array.isArray(r)}let encTable="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),decTable=[];for(let r=0;r<encTable.length;r++)decTable[encTable[r].charCodeAt(0)]=r;decTable[45]=encTable.indexOf("+");decTable[95]=encTable.indexOf("/");function base64decode(r){let e=r.length*3/4;r[r.length-2]=="="?e-=2:r[r.length-1]=="="&&(e-=1);let t=new Uint8Array(e),i=0,s=0,n,a=0;for(let l=0;l<r.length;l++){if(n=decTable[r.charCodeAt(l)],n===void 0)switch(r[l]){case"=":s=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:a=n,s=1;break;case 1:t[i++]=a<<2|(n&48)>>4,a=n,s=2;break;case 2:t[i++]=(a&15)<<4|(n&60)>>2,a=n,s=3;break;case 3:t[i++]=(a&3)<<6|n,s=0;break}}if(s==1)throw Error("invalid base64 string.");return t.subarray(0,i)}function base64encode(r){let e="",t=0,i,s=0;for(let n=0;n<r.length;n++)switch(i=r[n],t){case 0:e+=encTable[i>>2],s=(i&3)<<4,t=1;break;case 1:e+=encTable[s|i>>4],s=(i&15)<<2,t=2;break;case 2:e+=encTable[s|i>>6],e+=encTable[i&63],t=0;break}return t&&(e+=encTable[s],e+="=",t==1&&(e+="=")),e}var UnknownFieldHandler;(function(r){r.symbol=Symbol.for("protobuf-ts/unknown"),r.onRead=(t,i,s,n,a)=>{(e(i)?i[r.symbol]:i[r.symbol]=[]).push({no:s,wireType:n,data:a})},r.onWrite=(t,i,s)=>{for(let{no:n,wireType:a,data:l}of r.list(i))s.tag(n,a).raw(l)},r.list=(t,i)=>{if(e(t)){let s=t[r.symbol];return i?s.filter(n=>n.no==i):s}return[]},r.last=(t,i)=>r.list(t,i).slice(-1)[0];const e=t=>t&&Array.isArray(t[r.symbol])})(UnknownFieldHandler||(UnknownFieldHandler={}));function mergeBinaryOptions(r,e){return Object.assign(Object.assign({},r),e)}var WireType;(function(r){r[r.Varint=0]="Varint",r[r.Bit64=1]="Bit64",r[r.LengthDelimited=2]="LengthDelimited",r[r.StartGroup=3]="StartGroup",r[r.EndGroup=4]="EndGroup",r[r.Bit32=5]="Bit32"})(WireType||(WireType={}));function varint64read(){let r=0,e=0;for(let i=0;i<28;i+=7){let s=this.buf[this.pos++];if(r|=(s&127)<<i,(s&128)==0)return this.assertBounds(),[r,e]}let t=this.buf[this.pos++];if(r|=(t&15)<<28,e=(t&112)>>4,(t&128)==0)return this.assertBounds(),[r,e];for(let i=3;i<=31;i+=7){let s=this.buf[this.pos++];if(e|=(s&127)<<i,(s&128)==0)return this.assertBounds(),[r,e]}throw new Error("invalid varint")}function varint64write(r,e,t){for(let n=0;n<28;n=n+7){const a=r>>>n,l=!(!(a>>>7)&&e==0),u=(l?a|128:a)&255;if(t.push(u),!l)return}const i=r>>>28&15|(e&7)<<4,s=e>>3!=0;if(t.push((s?i|128:i)&255),!!s){for(let n=3;n<31;n=n+7){const a=e>>>n,l=!!(a>>>7),u=(l?a|128:a)&255;if(t.push(u),!l)return}t.push(e>>>31&1)}}const TWO_PWR_32_DBL$1=65536*65536;function int64fromString(r){let e=r[0]=="-";e&&(r=r.slice(1));const t=1e6;let i=0,s=0;function n(a,l){const u=Number(r.slice(a,l));s*=t,i=i*t+u,i>=TWO_PWR_32_DBL$1&&(s=s+(i/TWO_PWR_32_DBL$1|0),i=i%TWO_PWR_32_DBL$1)}return n(-24,-18),n(-18,-12),n(-12,-6),n(-6),[e,i,s]}function int64toString(r,e){if(e>>>0<=2097151)return""+(TWO_PWR_32_DBL$1*e+(r>>>0));let t=r&16777215,i=(r>>>24|e<<8)>>>0&16777215,s=e>>16&65535,n=t+i*6777216+s*6710656,a=i+s*8147497,l=s*2,u=1e7;n>=u&&(a+=Math.floor(n/u),n%=u),a>=u&&(l+=Math.floor(a/u),a%=u);function o(f,c){let d=f?String(f):"";return c?"0000000".slice(d.length)+d:d}return o(l,0)+o(a,l)+o(n,1)}function varint32write(r,e){if(r>=0){for(;r>127;)e.push(r&127|128),r=r>>>7;e.push(r)}else{for(let t=0;t<9;t++)e.push(r&127|128),r=r>>7;e.push(1)}}function varint32read(){let r=this.buf[this.pos++],e=r&127;if((r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<7,(r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<14,(r&128)==0)return this.assertBounds(),e;if(r=this.buf[this.pos++],e|=(r&127)<<21,(r&128)==0)return this.assertBounds(),e;r=this.buf[this.pos++],e|=(r&15)<<28;for(let t=5;(r&128)!==0&&t<10;t++)r=this.buf[this.pos++];if((r&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}let BI;function detectBi(){const r=new DataView(new ArrayBuffer(8));BI=globalThis.BigInt!==void 0&&typeof r.getBigInt64=="function"&&typeof r.getBigUint64=="function"&&typeof r.setBigInt64=="function"&&typeof r.setBigUint64=="function"?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:r}:void 0}detectBi();function assertBi(r){if(!r)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}const RE_DECIMAL_STR=/^-?[0-9]+$/,TWO_PWR_32_DBL=4294967296,HALF_2_PWR_32=2147483648;class SharedPbLong{constructor(e,t){this.lo=e|0,this.hi=t|0}isZero(){return this.lo==0&&this.hi==0}toNumber(){let e=this.hi*TWO_PWR_32_DBL+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class PbULong extends SharedPbLong{static from(e){if(BI)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=BI.C(e);case"number":if(e===0)return this.ZERO;e=BI.C(e);case"bigint":if(!e)return this.ZERO;if(e<BI.UMIN)throw new Error("signed value for ulong");if(e>BI.UMAX)throw new Error("ulong too large");return BI.V.setBigUint64(0,e,!0),new PbULong(BI.V.getInt32(0,!0),BI.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!RE_DECIMAL_STR.test(e))throw new Error("string is no integer");let[t,i,s]=int64fromString(e);if(t)throw new Error("signed value for ulong");return new PbULong(i,s);case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new PbULong(e,e/TWO_PWR_32_DBL)}throw new Error("unknown value "+typeof e)}toString(){return BI?this.toBigInt().toString():int64toString(this.lo,this.hi)}toBigInt(){return assertBi(BI),BI.V.setInt32(0,this.lo,!0),BI.V.setInt32(4,this.hi,!0),BI.V.getBigUint64(0,!0)}}PbULong.ZERO=new PbULong(0,0);class PbLong extends SharedPbLong{static from(e){if(BI)switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=="")throw new Error("string is no integer");e=BI.C(e);case"number":if(e===0)return this.ZERO;e=BI.C(e);case"bigint":if(!e)return this.ZERO;if(e<BI.MIN)throw new Error("signed long too small");if(e>BI.MAX)throw new Error("signed long too large");return BI.V.setBigInt64(0,e,!0),new PbLong(BI.V.getInt32(0,!0),BI.V.getInt32(4,!0))}else switch(typeof e){case"string":if(e=="0")return this.ZERO;if(e=e.trim(),!RE_DECIMAL_STR.test(e))throw new Error("string is no integer");let[t,i,s]=int64fromString(e);if(t){if(s>HALF_2_PWR_32||s==HALF_2_PWR_32&&i!=0)throw new Error("signed long too small")}else if(s>=HALF_2_PWR_32)throw new Error("signed long too large");let n=new PbLong(i,s);return t?n.negate():n;case"number":if(e==0)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new PbLong(e,e/TWO_PWR_32_DBL):new PbLong(-e,-e/TWO_PWR_32_DBL).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return(this.hi&HALF_2_PWR_32)!==0}negate(){let e=~this.hi,t=this.lo;return t?t=~t+1:e+=1,new PbLong(t,e)}toString(){if(BI)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+int64toString(e.lo,e.hi)}return int64toString(this.lo,this.hi)}toBigInt(){return assertBi(BI),BI.V.setInt32(0,this.lo,!0),BI.V.setInt32(4,this.hi,!0),BI.V.getBigInt64(0,!0)}}PbLong.ZERO=new PbLong(0,0);const defaultsRead$1={readUnknownField:!0,readerFactory:r=>new BinaryReader(r)};function binaryReadOptions(r){return r?Object.assign(Object.assign({},defaultsRead$1),r):defaultsRead$1}class BinaryReader{constructor(e,t){this.varint64=varint64read,this.uint32=varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=t??new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,i=e&7;if(t<=0||i<0||i>5)throw new Error("illegal tag: field no "+t+" wire type "+i);return[t,i]}skip(e){let t=this.pos;switch(e){case WireType.Varint:for(;this.buf[this.pos++]&128;);break;case WireType.Bit64:this.pos+=4;case WireType.Bit32:this.pos+=4;break;case WireType.LengthDelimited:let i=this.uint32();this.pos+=i;break;case WireType.StartGroup:let s;for(;(s=this.tag()[1])!==WireType.EndGroup;)this.skip(s);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return new PbLong(...this.varint64())}uint64(){return new PbULong(...this.varint64())}sint64(){let[e,t]=this.varint64(),i=-(e&1);return e=(e>>>1|(t&1)<<31)^i,t=t>>>1^i,new PbLong(e,t)}bool(){let[e,t]=this.varint64();return e!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new PbULong(this.sfixed32(),this.sfixed32())}sfixed64(){return new PbLong(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}function assert(r,e){if(!r)throw new Error(e)}const FLOAT32_MAX=34028234663852886e22,FLOAT32_MIN=-34028234663852886e22,UINT32_MAX=4294967295,INT32_MAX=2147483647,INT32_MIN=-2147483648;function assertInt32(r){if(typeof r!="number")throw new Error("invalid int 32: "+typeof r);if(!Number.isInteger(r)||r>INT32_MAX||r<INT32_MIN)throw new Error("invalid int 32: "+r)}function assertUInt32(r){if(typeof r!="number")throw new Error("invalid uint 32: "+typeof r);if(!Number.isInteger(r)||r>UINT32_MAX||r<0)throw new Error("invalid uint 32: "+r)}function assertFloat32(r){if(typeof r!="number")throw new Error("invalid float 32: "+typeof r);if(Number.isFinite(r)&&(r>FLOAT32_MAX||r<FLOAT32_MIN))throw new Error("invalid float 32: "+r)}const defaultsWrite$1={writeUnknownFields:!0,writerFactory:()=>new BinaryWriter};function binaryWriteOptions(r){return r?Object.assign(Object.assign({},defaultsWrite$1),r):defaultsWrite$1}class BinaryWriter{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let s=0;s<this.chunks.length;s++)e+=this.chunks[s].length;let t=new Uint8Array(e),i=0;for(let s=0;s<this.chunks.length;s++)t.set(this.chunks[s],i),i+=this.chunks[s].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(assertUInt32(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return assertInt32(e),varint32write(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){assertFloat32(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){assertUInt32(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){assertInt32(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return assertInt32(e),e=(e<<1^e>>31)>>>0,varint32write(e,this.buf),this}sfixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),s=PbLong.from(e);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),i=new DataView(t.buffer),s=PbULong.from(e);return i.setInt32(0,s.lo,!0),i.setInt32(4,s.hi,!0),this.raw(t)}int64(e){let t=PbLong.from(e);return varint64write(t.lo,t.hi,this.buf),this}sint64(e){let t=PbLong.from(e),i=t.hi>>31,s=t.lo<<1^i,n=(t.hi<<1|t.lo>>>31)^i;return varint64write(s,n,this.buf),this}uint64(e){let t=PbULong.from(e);return varint64write(t.lo,t.hi,this.buf),this}}const defaultsWrite={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},defaultsRead={ignoreUnknownFields:!1};function jsonReadOptions(r){return r?Object.assign(Object.assign({},defaultsRead),r):defaultsRead}function jsonWriteOptions(r){return r?Object.assign(Object.assign({},defaultsWrite),r):defaultsWrite}function mergeJsonOptions(r,e){var t,i;let s=Object.assign(Object.assign({},r),e);return s.typeRegistry=[...(t=r?.typeRegistry)!==null&&t!==void 0?t:[],...(i=e?.typeRegistry)!==null&&i!==void 0?i:[]],s}const MESSAGE_TYPE=Symbol.for("protobuf-ts/message-type");function lowerCamelCase(r){let e=!1;const t=[];for(let i=0;i<r.length;i++){let s=r.charAt(i);s=="_"?e=!0:/\d/.test(s)?(t.push(s),e=!0):e?(t.push(s.toUpperCase()),e=!1):i==0?t.push(s.toLowerCase()):t.push(s)}return t.join("")}var ScalarType;(function(r){r[r.DOUBLE=1]="DOUBLE",r[r.FLOAT=2]="FLOAT",r[r.INT64=3]="INT64",r[r.UINT64=4]="UINT64",r[r.INT32=5]="INT32",r[r.FIXED64=6]="FIXED64",r[r.FIXED32=7]="FIXED32",r[r.BOOL=8]="BOOL",r[r.STRING=9]="STRING",r[r.BYTES=12]="BYTES",r[r.UINT32=13]="UINT32",r[r.SFIXED32=15]="SFIXED32",r[r.SFIXED64=16]="SFIXED64",r[r.SINT32=17]="SINT32",r[r.SINT64=18]="SINT64"})(ScalarType||(ScalarType={}));var LongType;(function(r){r[r.BIGINT=0]="BIGINT",r[r.STRING=1]="STRING",r[r.NUMBER=2]="NUMBER"})(LongType||(LongType={}));var RepeatType;(function(r){r[r.NO=0]="NO",r[r.PACKED=1]="PACKED",r[r.UNPACKED=2]="UNPACKED"})(RepeatType||(RepeatType={}));function normalizeFieldInfo(r){var e,t,i,s;return r.localName=(e=r.localName)!==null&&e!==void 0?e:lowerCamelCase(r.name),r.jsonName=(t=r.jsonName)!==null&&t!==void 0?t:lowerCamelCase(r.name),r.repeat=(i=r.repeat)!==null&&i!==void 0?i:RepeatType.NO,r.opt=(s=r.opt)!==null&&s!==void 0?s:r.repeat||r.oneof?!1:r.kind=="message",r}function isOneofGroup(r){if(typeof r!="object"||r===null||!r.hasOwnProperty("oneofKind"))return!1;switch(typeof r.oneofKind){case"string":return r[r.oneofKind]===void 0?!1:Object.keys(r).length==2;case"undefined":return Object.keys(r).length==1;default:return!1}}class ReflectionTypeCheck{constructor(e){var t;this.fields=(t=e.fields)!==null&&t!==void 0?t:[]}prepare(){if(this.data)return;const e=[],t=[],i=[];for(let s of this.fields)if(s.oneof)i.includes(s.oneof)||(i.push(s.oneof),e.push(s.oneof),t.push(s.oneof));else switch(t.push(s.localName),s.kind){case"scalar":case"enum":(!s.opt||s.repeat)&&e.push(s.localName);break;case"message":s.repeat&&e.push(s.localName);break;case"map":e.push(s.localName);break}this.data={req:e,known:t,oneofs:Object.values(i)}}is(e,t,i=!1){if(t<0)return!0;if(e==null||typeof e!="object")return!1;this.prepare();let s=Object.keys(e),n=this.data;if(s.length<n.req.length||n.req.some(a=>!s.includes(a))||!i&&s.some(a=>!n.known.includes(a)))return!1;if(t<1)return!0;for(const a of n.oneofs){const l=e[a];if(!isOneofGroup(l))return!1;if(l.oneofKind===void 0)continue;const u=this.fields.find(o=>o.localName===l.oneofKind);if(!u||!this.field(l[l.oneofKind],u,i,t))return!1}for(const a of this.fields)if(a.oneof===void 0&&!this.field(e[a.localName],a,i,t))return!1;return!0}field(e,t,i,s){let n=t.repeat;switch(t.kind){case"scalar":return e===void 0?t.opt:n?this.scalars(e,t.T,s,t.L):this.scalar(e,t.T,t.L);case"enum":return e===void 0?t.opt:n?this.scalars(e,ScalarType.INT32,s):this.scalar(e,ScalarType.INT32);case"message":return e===void 0?!0:n?this.messages(e,t.T(),i,s):this.message(e,t.T(),i,s);case"map":if(typeof e!="object"||e===null)return!1;if(s<2)return!0;if(!this.mapKeys(e,t.K,s))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,s,t.V.L);case"enum":return this.scalars(Object.values(e),ScalarType.INT32,s);case"message":return this.messages(Object.values(e),t.V.T(),i,s)}break}return!0}message(e,t,i,s){return i?t.isAssignable(e,s):t.is(e,s)}messages(e,t,i,s){if(!Array.isArray(e))return!1;if(s<2)return!0;if(i){for(let n=0;n<e.length&&n<s;n++)if(!t.isAssignable(e[n],s-1))return!1}else for(let n=0;n<e.length&&n<s;n++)if(!t.is(e[n],s-1))return!1;return!0}scalar(e,t,i){let s=typeof e;switch(t){case ScalarType.UINT64:case ScalarType.FIXED64:case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:switch(i){case LongType.BIGINT:return s=="bigint";case LongType.NUMBER:return s=="number"&&!isNaN(e);default:return s=="string"}case ScalarType.BOOL:return s=="boolean";case ScalarType.STRING:return s=="string";case ScalarType.BYTES:return e instanceof Uint8Array;case ScalarType.DOUBLE:case ScalarType.FLOAT:return s=="number"&&!isNaN(e);default:return s=="number"&&Number.isInteger(e)}}scalars(e,t,i,s){if(!Array.isArray(e))return!1;if(i<2)return!0;if(Array.isArray(e)){for(let n=0;n<e.length&&n<i;n++)if(!this.scalar(e[n],t,s))return!1}return!0}mapKeys(e,t,i){let s=Object.keys(e);switch(t){case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.SFIXED32:case ScalarType.SINT32:case ScalarType.UINT32:return this.scalars(s.slice(0,i).map(n=>parseInt(n)),t,i);case ScalarType.BOOL:return this.scalars(s.slice(0,i).map(n=>n=="true"?!0:n=="false"?!1:n),t,i);default:return this.scalars(s,t,i,LongType.STRING)}}}function reflectionLongConvert(r,e){switch(e){case LongType.BIGINT:return r.toBigInt();case LongType.NUMBER:return r.toNumber();default:return r.toString()}}class ReflectionJsonReader{constructor(e){this.info=e}prepare(){var e;if(this.fMap===void 0){this.fMap={};const t=(e=this.info.fields)!==null&&e!==void 0?e:[];for(const i of t)this.fMap[i.name]=i,this.fMap[i.jsonName]=i,this.fMap[i.localName]=i}}assert(e,t,i){if(!e){let s=typeofJsonValue(i);throw(s=="number"||s=="boolean")&&(s=i.toString()),new Error(`Cannot parse JSON ${s} for ${this.info.typeName}#${t}`)}}read(e,t,i){this.prepare();const s=[];for(const[n,a]of Object.entries(e)){const l=this.fMap[n];if(!l){if(!i.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${n}`);continue}const u=l.localName;let o;if(l.oneof){if(a===null&&(l.kind!=="enum"||l.T()[0]!=="google.protobuf.NullValue"))continue;if(s.includes(l.oneof))throw new Error(`Multiple members of the oneof group "${l.oneof}" of ${this.info.typeName} are present in JSON.`);s.push(l.oneof),o=t[l.oneof]={oneofKind:u}}else o=t;if(l.kind=="map"){if(a===null)continue;this.assert(isJsonObject(a),l.name,a);const f=o[u];for(const[c,d]of Object.entries(a)){this.assert(d!==null,l.name+" map value",null);let p;switch(l.V.kind){case"message":p=l.V.T().internalJsonRead(d,i);break;case"enum":if(p=this.enum(l.V.T(),d,l.name,i.ignoreUnknownFields),p===!1)continue;break;case"scalar":p=this.scalar(d,l.V.T,l.V.L,l.name);break}this.assert(p!==void 0,l.name+" map value",d);let h=c;l.K==ScalarType.BOOL&&(h=h=="true"?!0:h=="false"?!1:h),h=this.scalar(h,l.K,LongType.STRING,l.name).toString(),f[h]=p}}else if(l.repeat){if(a===null)continue;this.assert(Array.isArray(a),l.name,a);const f=o[u];for(const c of a){this.assert(c!==null,l.name,null);let d;switch(l.kind){case"message":d=l.T().internalJsonRead(c,i);break;case"enum":if(d=this.enum(l.T(),c,l.name,i.ignoreUnknownFields),d===!1)continue;break;case"scalar":d=this.scalar(c,l.T,l.L,l.name);break}this.assert(d!==void 0,l.name,a),f.push(d)}}else switch(l.kind){case"message":if(a===null&&l.T().typeName!="google.protobuf.Value"){this.assert(l.oneof===void 0,l.name+" (oneof member)",null);continue}o[u]=l.T().internalJsonRead(a,i,o[u]);break;case"enum":if(a===null)continue;let f=this.enum(l.T(),a,l.name,i.ignoreUnknownFields);if(f===!1)continue;o[u]=f;break;case"scalar":if(a===null)continue;o[u]=this.scalar(a,l.T,l.L,l.name);break}}}enum(e,t,i,s){if(e[0]=="google.protobuf.NullValue"&&assert(t===null||t==="NULL_VALUE",`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} only accepts null.`),t===null)return 0;switch(typeof t){case"number":return assert(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${i}, enum can only be integral number, got ${t}.`),t;case"string":let n=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(n=t.substring(e[2].length));let a=e[1][n];return typeof a>"u"&&s?!1:(assert(typeof a=="number",`Unable to parse field ${this.info.typeName}#${i}, enum ${e[0]} has no value for "${t}".`),a)}assert(!1,`Unable to parse field ${this.info.typeName}#${i}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,i,s){let n;try{switch(t){case ScalarType.DOUBLE:case ScalarType.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""){n="empty string";break}if(typeof e=="string"&&e.trim().length!==e.length){n="extra whitespace";break}if(typeof e!="string"&&typeof e!="number")break;let a=Number(e);if(Number.isNaN(a)){n="not a number";break}if(!Number.isFinite(a)){n="too large or small";break}return t==ScalarType.FLOAT&&assertFloat32(a),a;case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.SFIXED32:case ScalarType.SINT32:case ScalarType.UINT32:if(e===null)return 0;let l;if(typeof e=="number"?l=e:e===""?n="empty string":typeof e=="string"&&(e.trim().length!==e.length?n="extra whitespace":l=Number(e)),l===void 0)break;return t==ScalarType.UINT32?assertUInt32(l):assertInt32(l),l;case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:if(e===null)return reflectionLongConvert(PbLong.ZERO,i);if(typeof e!="number"&&typeof e!="string")break;return reflectionLongConvert(PbLong.from(e),i);case ScalarType.FIXED64:case ScalarType.UINT64:if(e===null)return reflectionLongConvert(PbULong.ZERO,i);if(typeof e!="number"&&typeof e!="string")break;return reflectionLongConvert(PbULong.from(e),i);case ScalarType.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case ScalarType.STRING:if(e===null)return"";if(typeof e!="string"){n="extra whitespace";break}try{encodeURIComponent(e)}catch(u){u="invalid UTF8";break}return e;case ScalarType.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return base64decode(e)}}catch(a){n=a.message}this.assert(!1,s+(n?" - "+n:""),e)}}class ReflectionJsonWriter{constructor(e){var t;this.fields=(t=e.fields)!==null&&t!==void 0?t:[]}write(e,t){const i={},s=e;for(const n of this.fields){if(!n.oneof){let o=this.field(n,s[n.localName],t);o!==void 0&&(i[t.useProtoFieldName?n.name:n.jsonName]=o);continue}const a=s[n.oneof];if(a.oneofKind!==n.localName)continue;const l=n.kind=="scalar"||n.kind=="enum"?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let u=this.field(n,a[n.localName],l);assert(u!==void 0),i[t.useProtoFieldName?n.name:n.jsonName]=u}return i}field(e,t,i){let s;if(e.kind=="map"){assert(typeof t=="object"&&t!==null);const n={};switch(e.V.kind){case"scalar":for(const[u,o]of Object.entries(t)){const f=this.scalar(e.V.T,o,e.name,!1,!0);assert(f!==void 0),n[u.toString()]=f}break;case"message":const a=e.V.T();for(const[u,o]of Object.entries(t)){const f=this.message(a,o,e.name,i);assert(f!==void 0),n[u.toString()]=f}break;case"enum":const l=e.V.T();for(const[u,o]of Object.entries(t)){assert(o===void 0||typeof o=="number");const f=this.enum(l,o,e.name,!1,!0,i.enumAsInteger);assert(f!==void 0),n[u.toString()]=f}break}(i.emitDefaultValues||Object.keys(n).length>0)&&(s=n)}else if(e.repeat){assert(Array.isArray(t));const n=[];switch(e.kind){case"scalar":for(let u=0;u<t.length;u++){const o=this.scalar(e.T,t[u],e.name,e.opt,!0);assert(o!==void 0),n.push(o)}break;case"enum":const a=e.T();for(let u=0;u<t.length;u++){assert(t[u]===void 0||typeof t[u]=="number");const o=this.enum(a,t[u],e.name,e.opt,!0,i.enumAsInteger);assert(o!==void 0),n.push(o)}break;case"message":const l=e.T();for(let u=0;u<t.length;u++){const o=this.message(l,t[u],e.name,i);assert(o!==void 0),n.push(o)}break}(i.emitDefaultValues||n.length>0||i.emitDefaultValues)&&(s=n)}else switch(e.kind){case"scalar":s=this.scalar(e.T,t,e.name,e.opt,i.emitDefaultValues);break;case"enum":s=this.enum(e.T(),t,e.name,e.opt,i.emitDefaultValues,i.enumAsInteger);break;case"message":s=this.message(e.T(),t,e.name,i);break}return s}enum(e,t,i,s,n,a){if(e[0]=="google.protobuf.NullValue")return!n&&!s?void 0:null;if(t===void 0){assert(s);return}if(!(t===0&&!n&&!s))return assert(typeof t=="number"),assert(Number.isInteger(t)),a||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}message(e,t,i,s){return t===void 0?s.emitDefaultValues?null:void 0:e.internalJsonWrite(t,s)}scalar(e,t,i,s,n){if(t===void 0){assert(s);return}const a=n||s;switch(e){case ScalarType.INT32:case ScalarType.SFIXED32:case ScalarType.SINT32:return t===0?a?0:void 0:(assertInt32(t),t);case ScalarType.FIXED32:case ScalarType.UINT32:return t===0?a?0:void 0:(assertUInt32(t),t);case ScalarType.FLOAT:assertFloat32(t);case ScalarType.DOUBLE:return t===0?a?0:void 0:(assert(typeof t=="number"),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case ScalarType.STRING:return t===""?a?"":void 0:(assert(typeof t=="string"),t);case ScalarType.BOOL:return t===!1?a?!1:void 0:(assert(typeof t=="boolean"),t);case ScalarType.UINT64:case ScalarType.FIXED64:assert(typeof t=="number"||typeof t=="string"||typeof t=="bigint");let l=PbULong.from(t);return l.isZero()&&!a?void 0:l.toString();case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:assert(typeof t=="number"||typeof t=="string"||typeof t=="bigint");let u=PbLong.from(t);return u.isZero()&&!a?void 0:u.toString();case ScalarType.BYTES:return assert(t instanceof Uint8Array),t.byteLength?base64encode(t):a?"":void 0}}}function reflectionScalarDefault(r,e=LongType.STRING){switch(r){case ScalarType.BOOL:return!1;case ScalarType.UINT64:case ScalarType.FIXED64:return reflectionLongConvert(PbULong.ZERO,e);case ScalarType.INT64:case ScalarType.SFIXED64:case ScalarType.SINT64:return reflectionLongConvert(PbLong.ZERO,e);case ScalarType.DOUBLE:case ScalarType.FLOAT:return 0;case ScalarType.BYTES:return new Uint8Array(0);case ScalarType.STRING:return"";default:return 0}}class ReflectionBinaryReader{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=(e=this.info.fields)!==null&&e!==void 0?e:[];this.fieldNoToField=new Map(t.map(i=>[i.no,i]))}}read(e,t,i,s){this.prepare();const n=s===void 0?e.len:e.pos+s;for(;e.pos<n;){const[a,l]=e.tag(),u=this.fieldNoToField.get(a);if(!u){let d=i.readUnknownField;if(d=="throw")throw new Error(`Unknown field ${a} (wire type ${l}) for ${this.info.typeName}`);let p=e.skip(l);d!==!1&&(d===!0?UnknownFieldHandler.onRead:d)(this.info.typeName,t,a,l,p);continue}let o=t,f=u.repeat,c=u.localName;switch(u.oneof&&(o=o[u.oneof],o.oneofKind!==c&&(o=t[u.oneof]={oneofKind:c})),u.kind){case"scalar":case"enum":let d=u.kind=="enum"?ScalarType.INT32:u.T,p=u.kind=="scalar"?u.L:void 0;if(f){let v=o[c];if(l==WireType.LengthDelimited&&d!=ScalarType.STRING&&d!=ScalarType.BYTES){let m=e.uint32()+e.pos;for(;e.pos<m;)v.push(this.scalar(e,d,p))}else v.push(this.scalar(e,d,p))}else o[c]=this.scalar(e,d,p);break;case"message":if(f){let v=o[c],m=u.T().internalBinaryRead(e,e.uint32(),i);v.push(m)}else o[c]=u.T().internalBinaryRead(e,e.uint32(),i,o[c]);break;case"map":let[h,g]=this.mapEntry(u,e,i);o[c][h]=g;break}}}mapEntry(e,t,i){let s=t.uint32(),n=t.pos+s,a,l;for(;t.pos<n;){let[u,o]=t.tag();switch(u){case 1:e.K==ScalarType.BOOL?a=t.bool().toString():a=this.scalar(t,e.K,LongType.STRING);break;case 2:switch(e.V.kind){case"scalar":l=this.scalar(t,e.V.T,e.V.L);break;case"enum":l=t.int32();break;case"message":l=e.V.T().internalBinaryRead(t,t.uint32(),i);break}break;default:throw new Error(`Unknown field ${u} (wire type ${o}) in map entry for ${this.info.typeName}#${e.name}`)}}if(a===void 0){let u=reflectionScalarDefault(e.K);a=e.K==ScalarType.BOOL?u.toString():u}if(l===void 0)switch(e.V.kind){case"scalar":l=reflectionScalarDefault(e.V.T,e.V.L);break;case"enum":l=0;break;case"message":l=e.V.T().create();break}return[a,l]}scalar(e,t,i){switch(t){case ScalarType.INT32:return e.int32();case ScalarType.STRING:return e.string();case ScalarType.BOOL:return e.bool();case ScalarType.DOUBLE:return e.double();case ScalarType.FLOAT:return e.float();case ScalarType.INT64:return reflectionLongConvert(e.int64(),i);case ScalarType.UINT64:return reflectionLongConvert(e.uint64(),i);case ScalarType.FIXED64:return reflectionLongConvert(e.fixed64(),i);case ScalarType.FIXED32:return e.fixed32();case ScalarType.BYTES:return e.bytes();case ScalarType.UINT32:return e.uint32();case ScalarType.SFIXED32:return e.sfixed32();case ScalarType.SFIXED64:return reflectionLongConvert(e.sfixed64(),i);case ScalarType.SINT32:return e.sint32();case ScalarType.SINT64:return reflectionLongConvert(e.sint64(),i)}}}class ReflectionBinaryWriter{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort((t,i)=>t.no-i.no)}}write(e,t,i){this.prepare();for(const n of this.fields){let a,l,u=n.repeat,o=n.localName;if(n.oneof){const f=e[n.oneof];if(f.oneofKind!==o)continue;a=f[o],l=!0}else a=e[o],l=!1;switch(n.kind){case"scalar":case"enum":let f=n.kind=="enum"?ScalarType.INT32:n.T;if(u)if(assert(Array.isArray(a)),u==RepeatType.PACKED)this.packed(t,f,n.no,a);else for(const c of a)this.scalar(t,f,n.no,c,!0);else a===void 0?assert(n.opt):this.scalar(t,f,n.no,a,l||n.opt);break;case"message":if(u){assert(Array.isArray(a));for(const c of a)this.message(t,i,n.T(),n.no,c)}else this.message(t,i,n.T(),n.no,a);break;case"map":assert(typeof a=="object"&&a!==null);for(const[c,d]of Object.entries(a))this.mapEntry(t,i,n,c,d);break}}let s=i.writeUnknownFields;s!==!1&&(s===!0?UnknownFieldHandler.onWrite:s)(this.info.typeName,e,t)}mapEntry(e,t,i,s,n){e.tag(i.no,WireType.LengthDelimited),e.fork();let a=s;switch(i.K){case ScalarType.INT32:case ScalarType.FIXED32:case ScalarType.UINT32:case ScalarType.SFIXED32:case ScalarType.SINT32:a=Number.parseInt(s);break;case ScalarType.BOOL:assert(s=="true"||s=="false"),a=s=="true";break}switch(this.scalar(e,i.K,1,a,!0),i.V.kind){case"scalar":this.scalar(e,i.V.T,2,n,!0);break;case"enum":this.scalar(e,ScalarType.INT32,2,n,!0);break;case"message":this.message(e,t,i.V.T(),2,n);break}e.join()}message(e,t,i,s,n){n!==void 0&&(i.internalBinaryWrite(n,e.tag(s,WireType.LengthDelimited).fork(),t),e.join())}scalar(e,t,i,s,n){let[a,l,u]=this.scalarInfo(t,s);(!u||n)&&(e.tag(i,a),e[l](s))}packed(e,t,i,s){if(!s.length)return;assert(t!==ScalarType.BYTES&&t!==ScalarType.STRING),e.tag(i,WireType.LengthDelimited),e.fork();let[,n]=this.scalarInfo(t);for(let a=0;a<s.length;a++)e[n](s[a]);e.join()}scalarInfo(e,t){let i=WireType.Varint,s,n=t===void 0,a=t===0;switch(e){case ScalarType.INT32:s="int32";break;case ScalarType.STRING:a=n||!t.length,i=WireType.LengthDelimited,s="string";break;case ScalarType.BOOL:a=t===!1,s="bool";break;case ScalarType.UINT32:s="uint32";break;case ScalarType.DOUBLE:i=WireType.Bit64,s="double";break;case ScalarType.FLOAT:i=WireType.Bit32,s="float";break;case ScalarType.INT64:a=n||PbLong.from(t).isZero(),s="int64";break;case ScalarType.UINT64:a=n||PbULong.from(t).isZero(),s="uint64";break;case ScalarType.FIXED64:a=n||PbULong.from(t).isZero(),i=WireType.Bit64,s="fixed64";break;case ScalarType.BYTES:a=n||!t.byteLength,i=WireType.LengthDelimited,s="bytes";break;case ScalarType.FIXED32:i=WireType.Bit32,s="fixed32";break;case ScalarType.SFIXED32:i=WireType.Bit32,s="sfixed32";break;case ScalarType.SFIXED64:a=n||PbLong.from(t).isZero(),i=WireType.Bit64,s="sfixed64";break;case ScalarType.SINT32:s="sint32";break;case ScalarType.SINT64:a=n||PbLong.from(t).isZero(),s="sint64";break}return[i,s,n||a]}}function reflectionCreate(r){const e=r.messagePrototype?Object.create(r.messagePrototype):Object.defineProperty({},MESSAGE_TYPE,{value:r});for(let t of r.fields){let i=t.localName;if(!t.opt)if(t.oneof)e[t.oneof]={oneofKind:void 0};else if(t.repeat)e[i]=[];else switch(t.kind){case"scalar":e[i]=reflectionScalarDefault(t.T,t.L);break;case"enum":e[i]=0;break;case"map":e[i]={};break}}return e}function reflectionMergePartial(r,e,t){let i,s=t,n;for(let a of r.fields){let l=a.localName;if(a.oneof){const u=s[a.oneof];if(u?.oneofKind==null)continue;if(i=u[l],n=e[a.oneof],n.oneofKind=u.oneofKind,i==null){delete n[l];continue}}else if(i=s[l],n=e,i==null)continue;switch(a.repeat&&(n[l].length=i.length),a.kind){case"scalar":case"enum":if(a.repeat)for(let o=0;o<i.length;o++)n[l][o]=i[o];else n[l]=i;break;case"message":let u=a.T();if(a.repeat)for(let o=0;o<i.length;o++)n[l][o]=u.create(i[o]);else n[l]===void 0?n[l]=u.create(i):u.mergePartial(n[l],i);break;case"map":switch(a.V.kind){case"scalar":case"enum":Object.assign(n[l],i);break;case"message":let o=a.V.T();for(let f of Object.keys(i))n[l][f]=o.create(i[f]);break}break}}}function reflectionEquals(r,e,t){if(e===t)return!0;if(!e||!t)return!1;for(let i of r.fields){let s=i.localName,n=i.oneof?e[i.oneof][s]:e[s],a=i.oneof?t[i.oneof][s]:t[s];switch(i.kind){case"enum":case"scalar":let l=i.kind=="enum"?ScalarType.INT32:i.T;if(!(i.repeat?repeatedPrimitiveEq(l,n,a):primitiveEq(l,n,a)))return!1;break;case"map":if(!(i.V.kind=="message"?repeatedMsgEq(i.V.T(),objectValues(n),objectValues(a)):repeatedPrimitiveEq(i.V.kind=="enum"?ScalarType.INT32:i.V.T,objectValues(n),objectValues(a))))return!1;break;case"message":let u=i.T();if(!(i.repeat?repeatedMsgEq(u,n,a):u.equals(n,a)))return!1;break}}return!0}const objectValues=Object.values;function primitiveEq(r,e,t){if(e===t)return!0;if(r!==ScalarType.BYTES)return!1;let i=e,s=t;if(i.length!==s.length)return!1;for(let n=0;n<i.length;n++)if(i[n]!=s[n])return!1;return!0}function repeatedPrimitiveEq(r,e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!primitiveEq(r,e[i],t[i]))return!1;return!0}function repeatedMsgEq(r,e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!r.equals(e[i],t[i]))return!1;return!0}const baseDescriptors=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({})),messageTypeDescriptor=baseDescriptors[MESSAGE_TYPE]={};class MessageType{constructor(e,t,i){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(normalizeFieldInfo),this.options=i??{},messageTypeDescriptor.value=this,this.messagePrototype=Object.create(null,baseDescriptors),this.refTypeCheck=new ReflectionTypeCheck(this),this.refJsonReader=new ReflectionJsonReader(this),this.refJsonWriter=new ReflectionJsonWriter(this),this.refBinReader=new ReflectionBinaryReader(this),this.refBinWriter=new ReflectionBinaryWriter(this)}create(e){let t=reflectionCreate(this);return e!==void 0&&reflectionMergePartial(this,t,e),t}clone(e){let t=this.create();return reflectionMergePartial(this,t,e),t}equals(e,t){return reflectionEquals(this,e,t)}is(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!1)}isAssignable(e,t=this.defaultCheckDepth){return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){reflectionMergePartial(this,e,t)}fromBinary(e,t){let i=binaryReadOptions(t);return this.internalBinaryRead(i.readerFactory(e),e.byteLength,i)}fromJson(e,t){return this.internalJsonRead(e,jsonReadOptions(t))}fromJsonString(e,t){let i=JSON.parse(e);return this.fromJson(i,t)}toJson(e,t){return this.internalJsonWrite(e,jsonWriteOptions(t))}toJsonString(e,t){var i;let s=this.toJson(e,t);return JSON.stringify(s,null,(i=t?.prettySpaces)!==null&&i!==void 0?i:0)}toBinary(e,t){let i=binaryWriteOptions(t);return this.internalBinaryWrite(e,i.writerFactory(),i).finish()}internalJsonRead(e,t,i){if(e!==null&&typeof e=="object"&&!Array.isArray(e)){let s=i??this.create();return this.refJsonReader.read(e,s,t),s}throw new Error(`Unable to parse message ${this.typeName} from JSON ${typeofJsonValue(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,i){return this.refBinWriter.write(e,t,i),t}internalBinaryRead(e,t,i,s){let n=s??this.create();return this.refBinReader.read(e,n,i,t),n}}function normalizeMethodInfo(r,e){var t,i,s;let n=r;return n.service=e,n.localName=(t=n.localName)!==null&&t!==void 0?t:lowerCamelCase(n.name),n.serverStreaming=!!n.serverStreaming,n.clientStreaming=!!n.clientStreaming,n.options=(i=n.options)!==null&&i!==void 0?i:{},n.idempotency=(s=n.idempotency)!==null&&s!==void 0?s:void 0,n}class ServiceType{constructor(e,t,i){this.typeName=e,this.methods=t.map(s=>normalizeMethodInfo(s,this)),this.options=i??{}}}class RpcError extends Error{constructor(e,t="UNKNOWN",i){super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=i??{}}toString(){const e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length){e.push(""),e.push("Meta:");for(let[i,s]of t)e.push(`  ${i}: ${s}`)}return e.join(`
`)}}function mergeRpcOptions(r,e){if(!e)return r;let t={};copy(r,t),copy(e,t);for(let i of Object.keys(e)){let s=e[i];switch(i){case"jsonOptions":t.jsonOptions=mergeJsonOptions(r.jsonOptions,t.jsonOptions);break;case"binaryOptions":t.binaryOptions=mergeBinaryOptions(r.binaryOptions,t.binaryOptions);break;case"meta":t.meta={},copy(r.meta,t.meta),copy(e.meta,t.meta);break;case"interceptors":t.interceptors=r.interceptors?r.interceptors.concat(s):s.concat();break}}return t}function copy(r,e){if(!r)return;let t=e;for(let[i,s]of Object.entries(r))s instanceof Date?t[i]=new Date(s.getTime()):Array.isArray(s)?t[i]=s.concat():t[i]=s}var DeferredState;(function(r){r[r.PENDING=0]="PENDING",r[r.REJECTED=1]="REJECTED",r[r.RESOLVED=2]="RESOLVED"})(DeferredState||(DeferredState={}));class Deferred{constructor(e=!0){this._state=DeferredState.PENDING,this._promise=new Promise((t,i)=>{this._resolve=t,this._reject=i}),e&&this._promise.catch(t=>{})}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==DeferredState.PENDING)throw new Error(`cannot resolve ${DeferredState[this.state].toLowerCase()}`);this._resolve(e),this._state=DeferredState.RESOLVED}reject(e){if(this.state!==DeferredState.PENDING)throw new Error(`cannot reject ${DeferredState[this.state].toLowerCase()}`);this._reject(e),this._state=DeferredState.REJECTED}resolvePending(e){this._state===DeferredState.PENDING&&this.resolve(e)}rejectPending(e){this._state===DeferredState.PENDING&&this.reject(e)}}class RpcOutputStreamController{constructor(){this._lis={nxt:[],msg:[],err:[],cmp:[]},this._closed=!1,this._itState={q:[]}}onNext(e){return this.addLis(e,this._lis.nxt)}onMessage(e){return this.addLis(e,this._lis.msg)}onError(e){return this.addLis(e,this._lis.err)}onComplete(e){return this.addLis(e,this._lis.cmp)}addLis(e,t){return t.push(e),()=>{let i=t.indexOf(e);i>=0&&t.splice(i,1)}}clearLis(){for(let e of Object.values(this._lis))e.splice(0,e.length)}get closed(){return this._closed!==!1}notifyNext(e,t,i){assert((e?1:0)+(t?1:0)+(i?1:0)<=1,"only one emission at a time"),e&&this.notifyMessage(e),t&&this.notifyError(t),i&&this.notifyComplete()}notifyMessage(e){assert(!this.closed,"stream is closed"),this.pushIt({value:e,done:!1}),this._lis.msg.forEach(t=>t(e)),this._lis.nxt.forEach(t=>t(e,void 0,!1))}notifyError(e){assert(!this.closed,"stream is closed"),this._closed=e,this.pushIt(e),this._lis.err.forEach(t=>t(e)),this._lis.nxt.forEach(t=>t(void 0,e,!1)),this.clearLis()}notifyComplete(){assert(!this.closed,"stream is closed"),this._closed=!0,this.pushIt({value:null,done:!0}),this._lis.cmp.forEach(e=>e()),this._lis.nxt.forEach(e=>e(void 0,void 0,!0)),this.clearLis()}[Symbol.asyncIterator](){return this._closed===!0?this.pushIt({value:null,done:!0}):this._closed!==!1&&this.pushIt(this._closed),{next:()=>{let e=this._itState;assert(e,"bad state"),assert(!e.p,"iterator contract broken");let t=e.q.shift();return t?"value"in t?Promise.resolve(t):Promise.reject(t):(e.p=new Deferred,e.p.promise)}}}pushIt(e){let t=this._itState;if(t.p){const i=t.p;assert(i.state==DeferredState.PENDING,"iterator contract broken"),"value"in e?i.resolve(e):i.reject(e),delete t.p}else t.q.push(e)}}var __awaiter$3=function(r,e,t,i){function s(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function l(f){try{o(i.next(f))}catch(c){a(c)}}function u(f){try{o(i.throw(f))}catch(c){a(c)}}function o(f){f.done?n(f.value):s(f.value).then(l,u)}o((i=i.apply(r,e||[])).next())})};class UnaryCall{constructor(e,t,i,s,n,a,l){this.method=e,this.requestHeaders=t,this.request=i,this.headers=s,this.response=n,this.status=a,this.trailers=l}then(e,t){return this.promiseFinished().then(i=>e?Promise.resolve(e(i)):i,i=>t?Promise.resolve(t(i)):Promise.reject(i))}promiseFinished(){return __awaiter$3(this,void 0,void 0,function*(){let[e,t,i,s]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:i,trailers:s}})}}var __awaiter$2=function(r,e,t,i){function s(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function l(f){try{o(i.next(f))}catch(c){a(c)}}function u(f){try{o(i.throw(f))}catch(c){a(c)}}function o(f){f.done?n(f.value):s(f.value).then(l,u)}o((i=i.apply(r,e||[])).next())})};class ServerStreamingCall{constructor(e,t,i,s,n,a,l){this.method=e,this.requestHeaders=t,this.request=i,this.headers=s,this.responses=n,this.status=a,this.trailers=l}then(e,t){return this.promiseFinished().then(i=>e?Promise.resolve(e(i)):i,i=>t?Promise.resolve(t(i)):Promise.reject(i))}promiseFinished(){return __awaiter$2(this,void 0,void 0,function*(){let[e,t,i]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,status:t,trailers:i}})}}var __awaiter$1=function(r,e,t,i){function s(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function l(f){try{o(i.next(f))}catch(c){a(c)}}function u(f){try{o(i.throw(f))}catch(c){a(c)}}function o(f){f.done?n(f.value):s(f.value).then(l,u)}o((i=i.apply(r,e||[])).next())})};class ClientStreamingCall{constructor(e,t,i,s,n,a,l){this.method=e,this.requestHeaders=t,this.requests=i,this.headers=s,this.response=n,this.status=a,this.trailers=l}then(e,t){return this.promiseFinished().then(i=>e?Promise.resolve(e(i)):i,i=>t?Promise.resolve(t(i)):Promise.reject(i))}promiseFinished(){return __awaiter$1(this,void 0,void 0,function*(){let[e,t,i,s]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,headers:e,response:t,status:i,trailers:s}})}}var __awaiter=function(r,e,t,i){function s(n){return n instanceof t?n:new t(function(a){a(n)})}return new(t||(t=Promise))(function(n,a){function l(f){try{o(i.next(f))}catch(c){a(c)}}function u(f){try{o(i.throw(f))}catch(c){a(c)}}function o(f){f.done?n(f.value):s(f.value).then(l,u)}o((i=i.apply(r,e||[])).next())})};class DuplexStreamingCall{constructor(e,t,i,s,n,a,l){this.method=e,this.requestHeaders=t,this.requests=i,this.headers=s,this.responses=n,this.status=a,this.trailers=l}then(e,t){return this.promiseFinished().then(i=>e?Promise.resolve(e(i)):i,i=>t?Promise.resolve(t(i)):Promise.reject(i))}promiseFinished(){return __awaiter(this,void 0,void 0,function*(){let[e,t,i]=yield Promise.all([this.headers,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,headers:e,status:t,trailers:i}})}}function stackIntercept(r,e,t,i,s){var n;{let a=(l,u,o)=>e.unary(l,u,o);for(const l of((n=i.interceptors)!==null&&n!==void 0?n:[]).filter(u=>u.interceptUnary).reverse()){const u=a;a=(o,f,c)=>l.interceptUnary(u,o,f,c)}return a(t,s,i)}}var DynamicType=(r=>(r[r.dyn_none=0]="dyn_none",r[r.forward=1]="forward",r[r.av=2]="av",r[r.pgc=3]="pgc",r[r.courses=4]="courses",r[r.fold=5]="fold",r[r.word=6]="word",r[r.draw=7]="draw",r[r.article=8]="article",r[r.music=9]="music",r[r.common_square=10]="common_square",r[r.common_vertical=11]="common_vertical",r[r.live=12]="live",r[r.medialist=13]="medialist",r[r.courses_season=14]="courses_season",r[r.ad=15]="ad",r[r.applet=16]="applet",r[r.subscription=17]="subscription",r[r.live_rcmd=18]="live_rcmd",r[r.banner=19]="banner",r[r.ugc_season=20]="ugc_season",r[r.subscription_new=21]="subscription_new",r[r.story=22]="story",r[r.topic_rcmd=23]="topic_rcmd",r[r.cour_up=24]="cour_up",r[r.topic_set=25]="topic_set",r[r.notice=26]="notice",r[r.text_notice=27]="text_notice",r))(DynamicType||{}),DynModuleType=(r=>(r[r.module_none=0]="module_none",r[r.module_author=1]="module_author",r[r.module_dispute=2]="module_dispute",r[r.module_desc=3]="module_desc",r[r.module_dynamic=4]="module_dynamic",r[r.module_forward=5]="module_forward",r[r.module_likeUser=6]="module_likeUser",r[r.module_extend=7]="module_extend",r[r.module_additional=8]="module_additional",r[r.module_stat=9]="module_stat",r[r.module_fold=10]="module_fold",r[r.module_comment=11]="module_comment",r[r.module_interaction=12]="module_interaction",r[r.module_author_forward=13]="module_author_forward",r[r.module_ad=14]="module_ad",r[r.module_banner=15]="module_banner",r[r.module_item_null=16]="module_item_null",r[r.module_share_info=17]="module_share_info",r[r.module_recommend=18]="module_recommend",r[r.module_stat_forward=19]="module_stat_forward",r[r.module_top=20]="module_top",r[r.module_bottom=21]="module_bottom",r[r.module_story=22]="module_story",r[r.module_topic=23]="module_topic",r[r.module_topic_details_ext=24]="module_topic_details_ext",r[r.module_top_tag=25]="module_top_tag",r[r.module_topic_brief=26]="module_topic_brief",r[r.module_title=27]="module_title",r[r.module_button=28]="module_button",r[r.module_notice=29]="module_notice",r[r.module_opus_summary=30]="module_opus_summary",r[r.module_copyright=31]="module_copyright",r[r.module_paragraph=32]="module_paragraph",r[r.module_blocked=33]="module_blocked",r[r.module_text_notice=34]="module_text_notice",r[r.module_opus_collection=35]="module_opus_collection",r))(DynModuleType||{}),ModuleDynamicType=(r=>(r[r.mdl_dyn_archive=0]="mdl_dyn_archive",r[r.mdl_dyn_pgc=1]="mdl_dyn_pgc",r[r.mdl_dyn_cour_season=2]="mdl_dyn_cour_season",r[r.mdl_dyn_cour_batch=3]="mdl_dyn_cour_batch",r[r.mdl_dyn_forward=4]="mdl_dyn_forward",r[r.mdl_dyn_draw=5]="mdl_dyn_draw",r[r.mdl_dyn_article=6]="mdl_dyn_article",r[r.mdl_dyn_music=7]="mdl_dyn_music",r[r.mdl_dyn_common=8]="mdl_dyn_common",r[r.mdl_dyn_live=9]="mdl_dyn_live",r[r.mdl_dyn_medialist=10]="mdl_dyn_medialist",r[r.mdl_dyn_applet=11]="mdl_dyn_applet",r[r.mdl_dyn_subscription=12]="mdl_dyn_subscription",r[r.mdl_dyn_live_rcmd=13]="mdl_dyn_live_rcmd",r[r.mdl_dyn_ugc_season=14]="mdl_dyn_ugc_season",r[r.mdl_dyn_subscription_new=15]="mdl_dyn_subscription_new",r[r.mdl_dyn_cour_batch_up=16]="mdl_dyn_cour_batch_up",r[r.mdl_dyn_topic_set=17]="mdl_dyn_topic_set",r))(ModuleDynamicType||{}),MediaType=(r=>(r[r.MediaTypeNone=0]="MediaTypeNone",r[r.MediaTypeUGC=1]="MediaTypeUGC",r[r.MediaTypePGC=2]="MediaTypePGC",r[r.MediaTypeLive=3]="MediaTypeLive",r[r.MediaTypeVCS=4]="MediaTypeVCS",r))(MediaType||{}),VideoType=(r=>(r[r.video_type_general=0]="video_type_general",r[r.video_type_dynamic=1]="video_type_dynamic",r[r.video_type_playback=2]="video_type_playback",r[r.video_type_story=3]="video_type_story",r))(VideoType||{}),ReserveType=(r=>(r[r.reserve_none=0]="reserve_none",r[r.reserve_recall=1]="reserve_recall",r))(ReserveType||{});class DynDetailReply$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.DynDetailReply",[{no:1,name:"item",kind:"message",T:()=>DynamicItem}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.item=DynamicItem.internalBinaryRead(e,e.uint32(),i,n.item);break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.item&&DynamicItem.internalBinaryWrite(e.item,t.tag(1,WireType.LengthDelimited).fork(),i).join();let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const DynDetailReply=new DynDetailReply$Type;class DynDetailReq$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.DynDetailReq",[{no:2,name:"dynamic_id",kind:"scalar",T:9}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.dynamicId="",e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 2:n.dynamicId=e.string();break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.dynamicId!==""&&t.tag(2,WireType.LengthDelimited).string(e.dynamicId);let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const DynDetailReq=new DynDetailReq$Type;class DynamicItem$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.DynamicItem",[{no:1,name:"card_type",kind:"enum",T:()=>["bilibili.app.dynamic.v2.DynamicType",DynamicType]},{no:2,name:"item_type",kind:"enum",T:()=>["bilibili.app.dynamic.v2.DynamicType",DynamicType]},{no:3,name:"modules",kind:"message",repeat:2,T:()=>Module},{no:5,name:"has_fold",kind:"scalar",T:5},{no:6,name:"server_info",kind:"scalar",T:9}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.cardType=0,t.itemType=0,t.modules=[],t.hasFold=0,t.serverInfo="",e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.cardType=e.int32();break;case 2:n.itemType=e.int32();break;case 3:n.modules.push(Module.internalBinaryRead(e,e.uint32(),i));break;case 5:n.hasFold=e.int32();break;case 6:n.serverInfo=e.string();break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.cardType!==0&&t.tag(1,WireType.Varint).int32(e.cardType),e.itemType!==0&&t.tag(2,WireType.Varint).int32(e.itemType);for(let n=0;n<e.modules.length;n++)Module.internalBinaryWrite(e.modules[n],t.tag(3,WireType.LengthDelimited).fork(),i).join();e.hasFold!==0&&t.tag(5,WireType.Varint).int32(e.hasFold),e.serverInfo!==""&&t.tag(6,WireType.LengthDelimited).string(e.serverInfo);let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const DynamicItem=new DynamicItem$Type;class Module$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.Module",[{no:1,name:"module_type",kind:"enum",T:()=>["bilibili.app.dynamic.v2.DynModuleType",DynModuleType]},{no:5,name:"module_dynamic",kind:"message",oneof:"moduleItem",T:()=>ModuleDynamic}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.moduleType=0,t.moduleItem={oneofKind:void 0},e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.moduleType=e.int32();break;case 5:n.moduleItem={oneofKind:"moduleDynamic",moduleDynamic:ModuleDynamic.internalBinaryRead(e,e.uint32(),i,n.moduleItem.moduleDynamic)};break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.moduleType!==0&&t.tag(1,WireType.Varint).int32(e.moduleType),e.moduleItem.oneofKind==="moduleDynamic"&&ModuleDynamic.internalBinaryWrite(e.moduleItem.moduleDynamic,t.tag(5,WireType.LengthDelimited).fork(),i).join();let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const Module=new Module$Type;class ModuleDynamic$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.ModuleDynamic",[{no:1,name:"type",kind:"enum",T:()=>["bilibili.app.dynamic.v2.ModuleDynamicType",ModuleDynamicType]},{no:2,name:"dyn_archive",kind:"message",oneof:"moduleItem",T:()=>MdlDynArchive}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.type=0,t.moduleItem={oneofKind:void 0},e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.type=e.int32();break;case 2:n.moduleItem={oneofKind:"dynArchive",dynArchive:MdlDynArchive.internalBinaryRead(e,e.uint32(),i,n.moduleItem.dynArchive)};break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.type!==0&&t.tag(1,WireType.Varint).int32(e.type),e.moduleItem.oneofKind==="dynArchive"&&MdlDynArchive.internalBinaryWrite(e.moduleItem.dynArchive,t.tag(2,WireType.LengthDelimited).fork(),i).join();let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const ModuleDynamic=new ModuleDynamic$Type;class MdlDynArchive$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.MdlDynArchive",[{no:1,name:"title",kind:"scalar",T:9},{no:2,name:"cover",kind:"scalar",T:9},{no:3,name:"uri",kind:"scalar",T:9},{no:4,name:"cover_left_text_1",kind:"scalar",T:9},{no:5,name:"cover_left_text_2",kind:"scalar",T:9},{no:6,name:"cover_left_text_3",kind:"scalar",T:9},{no:7,name:"avid",kind:"scalar",T:3,L:0},{no:8,name:"cid",kind:"scalar",T:3,L:0},{no:9,name:"media_type",kind:"enum",T:()=>["bilibili.app.dynamic.v2.MediaType",MediaType]},{no:10,name:"dimension",kind:"message",T:()=>Dimension},{no:11,name:"badge",kind:"message",repeat:2,T:()=>VideoBadge},{no:12,name:"can_play",kind:"scalar",T:8},{no:13,name:"stype",kind:"enum",T:()=>["bilibili.app.dynamic.v2.VideoType",VideoType]},{no:14,name:"isPGC",kind:"scalar",T:8},{no:15,name:"inlineURL",kind:"scalar",T:9},{no:16,name:"EpisodeId",kind:"scalar",jsonName:"EpisodeId",T:3,L:0},{no:17,name:"SubType",kind:"scalar",jsonName:"SubType",T:5},{no:18,name:"PgcSeasonId",kind:"scalar",jsonName:"PgcSeasonId",T:3,L:0},{no:19,name:"play_icon",kind:"scalar",T:9},{no:20,name:"duration",kind:"scalar",T:3,L:0},{no:21,name:"jump_url",kind:"scalar",T:9},{no:22,name:"is_preview",kind:"scalar",T:8},{no:23,name:"badge_category",kind:"message",repeat:2,T:()=>VideoBadge},{no:24,name:"is_feature",kind:"scalar",T:8},{no:25,name:"reserve_type",kind:"enum",T:()=>["bilibili.app.dynamic.v2.ReserveType",ReserveType]},{no:26,name:"bvid",kind:"scalar",T:9},{no:27,name:"view",kind:"scalar",T:5},{no:28,name:"show_premiere_badge",kind:"scalar",T:8},{no:29,name:"premiere_card",kind:"scalar",T:8},{no:30,name:"show_progress",kind:"scalar",T:8},{no:31,name:"part_duration",kind:"scalar",T:3,L:0},{no:32,name:"part_progress",kind:"scalar",T:3,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.title="",t.cover="",t.uri="",t.coverLeftText1="",t.coverLeftText2="",t.coverLeftText3="",t.avid=0n,t.cid=0n,t.mediaType=0,t.badge=[],t.canPlay=!1,t.stype=0,t.isPGC=!1,t.inlineURL="",t.episodeId=0n,t.subType=0,t.pgcSeasonId=0n,t.playIcon="",t.duration=0n,t.jumpUrl="",t.isPreview=!1,t.badgeCategory=[],t.isFeature=!1,t.reserveType=0,t.bvid="",t.view=0,t.showPremiereBadge=!1,t.premiereCard=!1,t.showProgress=!1,t.partDuration=0n,t.partProgress=0n,e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.title=e.string();break;case 2:n.cover=e.string();break;case 3:n.uri=e.string();break;case 4:n.coverLeftText1=e.string();break;case 5:n.coverLeftText2=e.string();break;case 6:n.coverLeftText3=e.string();break;case 7:n.avid=e.int64().toBigInt();break;case 8:n.cid=e.int64().toBigInt();break;case 9:n.mediaType=e.int32();break;case 10:n.dimension=Dimension.internalBinaryRead(e,e.uint32(),i,n.dimension);break;case 11:n.badge.push(VideoBadge.internalBinaryRead(e,e.uint32(),i));break;case 12:n.canPlay=e.bool();break;case 13:n.stype=e.int32();break;case 14:n.isPGC=e.bool();break;case 15:n.inlineURL=e.string();break;case 16:n.episodeId=e.int64().toBigInt();break;case 17:n.subType=e.int32();break;case 18:n.pgcSeasonId=e.int64().toBigInt();break;case 19:n.playIcon=e.string();break;case 20:n.duration=e.int64().toBigInt();break;case 21:n.jumpUrl=e.string();break;case 22:n.isPreview=e.bool();break;case 23:n.badgeCategory.push(VideoBadge.internalBinaryRead(e,e.uint32(),i));break;case 24:n.isFeature=e.bool();break;case 25:n.reserveType=e.int32();break;case 26:n.bvid=e.string();break;case 27:n.view=e.int32();break;case 28:n.showPremiereBadge=e.bool();break;case 29:n.premiereCard=e.bool();break;case 30:n.showProgress=e.bool();break;case 31:n.partDuration=e.int64().toBigInt();break;case 32:n.partProgress=e.int64().toBigInt();break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.title!==""&&t.tag(1,WireType.LengthDelimited).string(e.title),e.cover!==""&&t.tag(2,WireType.LengthDelimited).string(e.cover),e.uri!==""&&t.tag(3,WireType.LengthDelimited).string(e.uri),e.coverLeftText1!==""&&t.tag(4,WireType.LengthDelimited).string(e.coverLeftText1),e.coverLeftText2!==""&&t.tag(5,WireType.LengthDelimited).string(e.coverLeftText2),e.coverLeftText3!==""&&t.tag(6,WireType.LengthDelimited).string(e.coverLeftText3),e.avid!==0n&&t.tag(7,WireType.Varint).int64(e.avid),e.cid!==0n&&t.tag(8,WireType.Varint).int64(e.cid),e.mediaType!==0&&t.tag(9,WireType.Varint).int32(e.mediaType),e.dimension&&Dimension.internalBinaryWrite(e.dimension,t.tag(10,WireType.LengthDelimited).fork(),i).join();for(let n=0;n<e.badge.length;n++)VideoBadge.internalBinaryWrite(e.badge[n],t.tag(11,WireType.LengthDelimited).fork(),i).join();e.canPlay!==!1&&t.tag(12,WireType.Varint).bool(e.canPlay),e.stype!==0&&t.tag(13,WireType.Varint).int32(e.stype),e.isPGC!==!1&&t.tag(14,WireType.Varint).bool(e.isPGC),e.inlineURL!==""&&t.tag(15,WireType.LengthDelimited).string(e.inlineURL),e.episodeId!==0n&&t.tag(16,WireType.Varint).int64(e.episodeId),e.subType!==0&&t.tag(17,WireType.Varint).int32(e.subType),e.pgcSeasonId!==0n&&t.tag(18,WireType.Varint).int64(e.pgcSeasonId),e.playIcon!==""&&t.tag(19,WireType.LengthDelimited).string(e.playIcon),e.duration!==0n&&t.tag(20,WireType.Varint).int64(e.duration),e.jumpUrl!==""&&t.tag(21,WireType.LengthDelimited).string(e.jumpUrl),e.isPreview!==!1&&t.tag(22,WireType.Varint).bool(e.isPreview);for(let n=0;n<e.badgeCategory.length;n++)VideoBadge.internalBinaryWrite(e.badgeCategory[n],t.tag(23,WireType.LengthDelimited).fork(),i).join();e.isFeature!==!1&&t.tag(24,WireType.Varint).bool(e.isFeature),e.reserveType!==0&&t.tag(25,WireType.Varint).int32(e.reserveType),e.bvid!==""&&t.tag(26,WireType.LengthDelimited).string(e.bvid),e.view!==0&&t.tag(27,WireType.Varint).int32(e.view),e.showPremiereBadge!==!1&&t.tag(28,WireType.Varint).bool(e.showPremiereBadge),e.premiereCard!==!1&&t.tag(29,WireType.Varint).bool(e.premiereCard),e.showProgress!==!1&&t.tag(30,WireType.Varint).bool(e.showProgress),e.partDuration!==0n&&t.tag(31,WireType.Varint).int64(e.partDuration),e.partProgress!==0n&&t.tag(32,WireType.Varint).int64(e.partProgress);let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const MdlDynArchive=new MdlDynArchive$Type;class Dimension$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.Dimension",[{no:1,name:"height",kind:"scalar",T:3,L:0},{no:2,name:"width",kind:"scalar",T:3,L:0},{no:3,name:"rotate",kind:"scalar",T:3,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.height=0n,t.width=0n,t.rotate=0n,e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.height=e.int64().toBigInt();break;case 2:n.width=e.int64().toBigInt();break;case 3:n.rotate=e.int64().toBigInt();break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.height!==0n&&t.tag(1,WireType.Varint).int64(e.height),e.width!==0n&&t.tag(2,WireType.Varint).int64(e.width),e.rotate!==0n&&t.tag(3,WireType.Varint).int64(e.rotate);let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const Dimension=new Dimension$Type;class VideoBadge$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.VideoBadge",[{no:1,name:"text",kind:"scalar",T:9},{no:2,name:"text_color",kind:"scalar",T:9},{no:3,name:"text_color_night",kind:"scalar",T:9},{no:4,name:"bg_color",kind:"scalar",T:9},{no:5,name:"bg_color_night",kind:"scalar",T:9},{no:6,name:"border_color",kind:"scalar",T:9},{no:7,name:"border_color_night",kind:"scalar",T:9},{no:8,name:"bg_style",kind:"scalar",T:5},{no:9,name:"bg_alpha",kind:"scalar",T:5},{no:10,name:"bg_alpha_night",kind:"scalar",T:5}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.text="",t.textColor="",t.textColorNight="",t.bgColor="",t.bgColorNight="",t.borderColor="",t.borderColorNight="",t.bgStyle=0,t.bgAlpha=0,t.bgAlphaNight=0,e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.text=e.string();break;case 2:n.textColor=e.string();break;case 3:n.textColorNight=e.string();break;case 4:n.bgColor=e.string();break;case 5:n.bgColorNight=e.string();break;case 6:n.borderColor=e.string();break;case 7:n.borderColorNight=e.string();break;case 8:n.bgStyle=e.int32();break;case 9:n.bgAlpha=e.int32();break;case 10:n.bgAlphaNight=e.int32();break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.text!==""&&t.tag(1,WireType.LengthDelimited).string(e.text),e.textColor!==""&&t.tag(2,WireType.LengthDelimited).string(e.textColor),e.textColorNight!==""&&t.tag(3,WireType.LengthDelimited).string(e.textColorNight),e.bgColor!==""&&t.tag(4,WireType.LengthDelimited).string(e.bgColor),e.bgColorNight!==""&&t.tag(5,WireType.LengthDelimited).string(e.bgColorNight),e.borderColor!==""&&t.tag(6,WireType.LengthDelimited).string(e.borderColor),e.borderColorNight!==""&&t.tag(7,WireType.LengthDelimited).string(e.borderColorNight),e.bgStyle!==0&&t.tag(8,WireType.Varint).int32(e.bgStyle),e.bgAlpha!==0&&t.tag(9,WireType.Varint).int32(e.bgAlpha),e.bgAlphaNight!==0&&t.tag(10,WireType.Varint).int32(e.bgAlphaNight);let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const VideoBadge=new VideoBadge$Type;class Device$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.Device",[{no:1,name:"app_id",kind:"scalar",T:5},{no:2,name:"build",kind:"scalar",T:5},{no:3,name:"buvid",kind:"scalar",T:9},{no:4,name:"mobi_app",kind:"scalar",T:9},{no:5,name:"platform",kind:"scalar",T:9},{no:6,name:"device",kind:"scalar",T:9},{no:7,name:"channel",kind:"scalar",T:9},{no:8,name:"brand",kind:"scalar",T:9},{no:9,name:"model",kind:"scalar",T:9},{no:10,name:"osver",kind:"scalar",T:9},{no:11,name:"fp_local",kind:"scalar",T:9},{no:12,name:"fp_remote",kind:"scalar",T:9},{no:13,name:"version_name",kind:"scalar",T:9},{no:14,name:"fp",kind:"scalar",T:9},{no:15,name:"fts",kind:"scalar",T:3,L:0}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.appId=0,t.build=0,t.buvid="",t.mobiApp="",t.platform="",t.device="",t.channel="",t.brand="",t.model="",t.osver="",t.fpLocal="",t.fpRemote="",t.versionName="",t.fp="",t.fts=0n,e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.appId=e.int32();break;case 2:n.build=e.int32();break;case 3:n.buvid=e.string();break;case 4:n.mobiApp=e.string();break;case 5:n.platform=e.string();break;case 6:n.device=e.string();break;case 7:n.channel=e.string();break;case 8:n.brand=e.string();break;case 9:n.model=e.string();break;case 10:n.osver=e.string();break;case 11:n.fpLocal=e.string();break;case 12:n.fpRemote=e.string();break;case 13:n.versionName=e.string();break;case 14:n.fp=e.string();break;case 15:n.fts=e.int64().toBigInt();break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.appId!==0&&t.tag(1,WireType.Varint).int32(e.appId),e.build!==0&&t.tag(2,WireType.Varint).int32(e.build),e.buvid!==""&&t.tag(3,WireType.LengthDelimited).string(e.buvid),e.mobiApp!==""&&t.tag(4,WireType.LengthDelimited).string(e.mobiApp),e.platform!==""&&t.tag(5,WireType.LengthDelimited).string(e.platform),e.device!==""&&t.tag(6,WireType.LengthDelimited).string(e.device),e.channel!==""&&t.tag(7,WireType.LengthDelimited).string(e.channel),e.brand!==""&&t.tag(8,WireType.LengthDelimited).string(e.brand),e.model!==""&&t.tag(9,WireType.LengthDelimited).string(e.model),e.osver!==""&&t.tag(10,WireType.LengthDelimited).string(e.osver),e.fpLocal!==""&&t.tag(11,WireType.LengthDelimited).string(e.fpLocal),e.fpRemote!==""&&t.tag(12,WireType.LengthDelimited).string(e.fpRemote),e.versionName!==""&&t.tag(13,WireType.LengthDelimited).string(e.versionName),e.fp!==""&&t.tag(14,WireType.LengthDelimited).string(e.fp),e.fts!==0n&&t.tag(15,WireType.Varint).int64(e.fts);let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const Device=new Device$Type;class Metadata$Type extends MessageType{constructor(){super("bilibili.app.dynamic.v2.Metadata",[{no:1,name:"access_key",kind:"scalar",T:9},{no:2,name:"mobi_app",kind:"scalar",T:9},{no:3,name:"device",kind:"scalar",T:9},{no:4,name:"build",kind:"scalar",T:5},{no:5,name:"channel",kind:"scalar",T:9},{no:6,name:"buvid",kind:"scalar",T:9},{no:7,name:"platform",kind:"scalar",T:9}])}create(e){const t=globalThis.Object.create(this.messagePrototype);return t.accessKey="",t.mobiApp="",t.device="",t.build=0,t.channel="",t.buvid="",t.platform="",e!==void 0&&reflectionMergePartial(this,t,e),t}internalBinaryRead(e,t,i,s){let n=s??this.create(),a=e.pos+t;for(;e.pos<a;){let[l,u]=e.tag();switch(l){case 1:n.accessKey=e.string();break;case 2:n.mobiApp=e.string();break;case 3:n.device=e.string();break;case 4:n.build=e.int32();break;case 5:n.channel=e.string();break;case 6:n.buvid=e.string();break;case 7:n.platform=e.string();break;default:let o=i.readUnknownField;if(o==="throw")throw new globalThis.Error(`Unknown field ${l} (wire type ${u}) for ${this.typeName}`);let f=e.skip(u);o!==!1&&(o===!0?UnknownFieldHandler.onRead:o)(this.typeName,n,l,u,f)}}return n}internalBinaryWrite(e,t,i){e.accessKey!==""&&t.tag(1,WireType.LengthDelimited).string(e.accessKey),e.mobiApp!==""&&t.tag(2,WireType.LengthDelimited).string(e.mobiApp),e.device!==""&&t.tag(3,WireType.LengthDelimited).string(e.device),e.build!==0&&t.tag(4,WireType.Varint).int32(e.build),e.channel!==""&&t.tag(5,WireType.LengthDelimited).string(e.channel),e.buvid!==""&&t.tag(6,WireType.LengthDelimited).string(e.buvid),e.platform!==""&&t.tag(7,WireType.LengthDelimited).string(e.platform);let s=i.writeUnknownFields;return s!==!1&&(s==!0?UnknownFieldHandler.onWrite:s)(this.typeName,e,t),t}}const Metadata=new Metadata$Type,Dynamic=new ServiceType("bilibili.app.dynamic.v2.Dynamic",[{name:"DynDetail",options:{},I:DynDetailReq,O:DynDetailReply}]);class DynamicClient{constructor(e){this._transport=e}typeName=Dynamic.typeName;methods=Dynamic.methods;options=Dynamic.options;dynDetail(e,t){const i=this.methods[0],s=this._transport.mergeOptions(t);return stackIntercept("unary",this._transport,i,s,e)}}function isServiceError(r){return typeof r!="object"||!r?!1:typeof r.code=="number"&&typeof r.details=="string"&&typeof r.metadata=="object"&&typeof r.name=="string"&&typeof r.message=="string"}function metadataToGrpc(r,e,t){e=e??{},t&&(e=Object.assign({idempotentRequest:!0},e));const i=new srcExports.Metadata(e),s=(n,a)=>n.endsWith("-bin")?Buffer.from(a,"base64"):a;for(let n of Object.keys(r)){let a=r[n];if(typeof a=="string")i.add(n,s(n,a));else if(Array.isArray(a))for(let l of a)i.add(n,s(n,l))}return i}function metadataFromGrpc(r){const e={},t=r.toHttp2Headers();for(let i of Object.keys(t)){let s=t[i];s!==void 0&&(typeof s=="number"?e[i]=s.toString():typeof s=="string"?e[i]=s:Array.isArray(s)&&(s.length===1?e[i]=s[0]:s.length>1&&(e[i]=s)))}return e}class GrpcTransport{constructor(e){this.defaultOptions=e,this.client=new srcExports.Client(e.host,e.channelCredentials,e.clientOptions)}mergeOptions(e){return mergeRpcOptions(this.defaultOptions,e)}pickCallOptions(e){if(e.callOptions)return e.callOptions;const t={};return typeof e.timeout=="number"?t.deadline=Date.now()+e.timeout:e.timeout&&(t.deadline=e.timeout),t}unary(e,t,i){var s;const n=i,a=(s=n.meta)!==null&&s!==void 0?s:{},l=metadataToGrpc(a,n.metadataOptions,e.idempotency==="IDEMPOTENT"),u=new Deferred,o=new Deferred,f=new Deferred,c=new Deferred,d=new UnaryCall(e,a,t,u.promise,o.promise,f.promise,c.promise),p=this.client.makeUnaryRequest(`/${e.service.typeName}/${e.name}`,h=>Buffer.from(e.I.toBinary(h,n.binaryOptions)),h=>e.O.fromBinary(h,n.binaryOptions),t,l,this.pickCallOptions(n),(h,g)=>{if(g&&o.resolve(g),h){const v=new RpcError(h.details,srcExports.status[h.code],metadataFromGrpc(h.metadata));v.methodName=e.name,v.serviceName=e.service.typeName,u.rejectPending(v),o.rejectPending(v),f.rejectPending(v),c.rejectPending(v)}});return n.abort&&n.abort.addEventListener("abort",h=>{p.cancel()}),p.addListener("metadata",h=>{u.resolve(metadataFromGrpc(h))}),p.addListener("status",h=>{if(o.state===DeferredState.PENDING&&h.code===srcExports.status.OK){const g=new RpcError("expected error status",srcExports.status[srcExports.status.DATA_LOSS]);g.methodName=e.name,g.serviceName=e.service.typeName,o.rejectPending(g),f.rejectPending(g),c.rejectPending(g)}else f.resolvePending({code:srcExports.status[h.code],detail:h.details}),c.resolvePending(metadataFromGrpc(h.metadata))}),d}serverStreaming(e,t,i){var s;const n=i,a=(s=n.meta)!==null&&s!==void 0?s:{},l=metadataToGrpc(a,n.metadataOptions,e.idempotency==="IDEMPOTENT"),u=new Deferred,o=new RpcOutputStreamController,f=new Deferred,c=new Deferred,d=new ServerStreamingCall(e,a,t,u.promise,o,f.promise,c.promise),p=this.client.makeServerStreamRequest(`/${e.service.typeName}/${e.name}`,h=>Buffer.from(e.I.toBinary(h,n.binaryOptions)),h=>e.O.fromBinary(h,n.binaryOptions),t,l,this.pickCallOptions(n));return n.abort&&n.abort.addEventListener("abort",h=>{p.cancel()}),p.addListener("error",h=>{const g=isServiceError(h)?new RpcError(h.details,srcExports.status[h.code],metadataFromGrpc(h.metadata)):new RpcError(h.message);g.methodName=e.name,g.serviceName=e.service.typeName,u.rejectPending(g),o.closed||o.notifyError(g),f.rejectPending(g),c.rejectPending(g)}),p.addListener("end",()=>{o.closed||o.notifyComplete()}),p.addListener("data",h=>{assert(e.O.is(h)),o.notifyMessage(h)}),p.addListener("metadata",h=>{u.resolve(metadataFromGrpc(h))}),p.addListener("status",h=>{f.resolvePending({code:srcExports.status[h.code],detail:h.details}),c.resolvePending(metadataFromGrpc(h.metadata))}),d}clientStreaming(e,t){var i;const s=t,n=(i=s.meta)!==null&&i!==void 0?i:{},a=metadataToGrpc(n,s.metadataOptions,e.idempotency==="IDEMPOTENT"),l=new Deferred,u=new Deferred,o=new Deferred,f=new Deferred,c=this.client.makeClientStreamRequest(`/${e.service.typeName}/${e.name}`,h=>Buffer.from(e.I.toBinary(h,s.binaryOptions)),h=>e.O.fromBinary(h,s.binaryOptions),a,this.pickCallOptions(s),(h,g)=>{if(g&&u.resolve(g),h){const v=new RpcError(h.details,srcExports.status[h.code],metadataFromGrpc(h.metadata));v.methodName=e.name,v.serviceName=e.service.typeName,l.rejectPending(v),u.rejectPending(v),o.rejectPending(v),f.rejectPending(v)}}),d=new GrpcInputStreamWrapper(c),p=new ClientStreamingCall(e,n,d,l.promise,u.promise,o.promise,f.promise);return s.abort&&s.abort.addEventListener("abort",h=>{c.cancel()}),c.addListener("metadata",h=>{l.resolve(metadataFromGrpc(h))}),c.addListener("status",h=>{o.resolvePending({code:srcExports.status[h.code],detail:h.details}),f.resolvePending(metadataFromGrpc(h.metadata))}),p}duplex(e,t){var i;const s=t,n=(i=s.meta)!==null&&i!==void 0?i:{},a=metadataToGrpc(n,s.metadataOptions,e.idempotency==="IDEMPOTENT"),l=new Deferred,u=new RpcOutputStreamController,o=new Deferred,f=new Deferred,c=this.client.makeBidiStreamRequest(`/${e.service.typeName}/${e.name}`,h=>Buffer.from(e.I.toBinary(h,s.binaryOptions)),h=>e.O.fromBinary(h,s.binaryOptions),a,this.pickCallOptions(s)),d=new GrpcInputStreamWrapper(c),p=new DuplexStreamingCall(e,n,d,l.promise,u,o.promise,f.promise);return s.abort&&s.abort.addEventListener("abort",h=>{c.cancel()}),c.addListener("error",h=>{const g=isServiceError(h)?new RpcError(h.details,srcExports.status[h.code],metadataFromGrpc(h.metadata)):new RpcError(h.message);g.methodName=e.name,g.serviceName=e.service.typeName,l.rejectPending(g),u.closed||u.notifyError(g),o.rejectPending(g),f.rejectPending(g)}),c.addListener("end",()=>{u.closed||u.notifyComplete()}),c.addListener("data",h=>{assert(e.O.is(h)),u.notifyMessage(h)}),c.addListener("metadata",h=>{l.resolve(metadataFromGrpc(h))}),c.addListener("status",h=>{o.resolvePending({code:srcExports.status[h.code],detail:h.details}),f.resolvePending(metadataFromGrpc(h.metadata))}),p}close(){this.client.close()}}class GrpcInputStreamWrapper{constructor(e){this.inner=e}send(e){return new Promise((t,i)=>{this.inner.write(e,t)})}complete(){return this.inner.end(),Promise.resolve(void 0)}}const log=createLogger("electron-tool"),parseElectronFlag=()=>{try{const e=`${electron.app.getPath("userData")}/bilibili-flags.conf`;if(log.info("flagPath:",e),fs.existsSync(e)&&fs.statSync(e).isFile()){const i=fs.readFileSync(e).toString().split(`
`).filter(s=>s&&s.length>0);for(let s of i){s.startsWith("--")&&(s=s.substring(2));const n=s.split("=");n.length>1?(log.info("append flag:",`${n[0]}=${n[1]}`),electron.app.commandLine.appendSwitch(n[0],n[1])):(log.info("append flag:",n[0]),electron.app.commandLine.appendArgument(n[0]))}}}catch(r){log.error("flag 解析失败",r)}},hookIsPackaged=()=>{const r={idx:0,data:[!0,!0,!0,!0,!1,!0]};Object.defineProperty(electron.app,"isPackaged",{get(){let e=r.data[r.idx++];return e===void 0&&(e=!0),log.info("get isPackaged",e),e}})},initializeGlobalData=()=>{global.isFiredByEntry=!0,global.bootstrapEvents=new require$$0$3,global.runtimeConf={exWebPreferences:{}}},replaceBrowserWindow=()=>{const r=electron.BrowserWindow,t=(a=>{function l(u){try{u&&(u.frame=!1,u.webPreferences&&(u.webPreferences.devTools=!0)),log.info("======HookedBrowserWindow:",u)}catch{}const o=new a(u);return o.webContents.on("ipc-message-sync",(f,...c)=>{if(c[0]==="config/roamingPAC"){log.info("receive config/roamingPAC: ",...c);const d=o.webContents.session;d.setProxy({mode:"pac_script",pacScript:c[1]}).then(p=>{log.info("====set proxy"),d.forceReloadProxyConfig().then(()=>{d.resolveProxy("akamai.net").then(h=>{log.info("resolveProxy akamai.net --> ",h),f.returnValue=h.length===0?"error":"ok",h.length===0&&d.setProxy({mode:"system"})})})}).catch(p=>{log.error("====set error",p),f.returnValue="error"})}}),o.webContents.on("before-input-event",(f,c)=>{c.key==="F12"&&c.type==="keyUp"&&o.webContents.toggleDevTools()}),o}return l.prototype=Object.create(a.prototype),l.prototype.constructor=l,Object.setPrototypeOf(l,a),l})(r),i={electron:a=>({...a,BrowserWindow:t})},s=Module$1,n=s._load;s._load=(...a)=>{const l=n(...a);return i[a[0]]?i[a[0]](l):l}},electronOverwrite=()=>{{const r=electron.Menu.buildFromTemplate;electron.Menu.buildFromTemplate=function(e){return e[0]?.label=="设置"&&(e.unshift({label:"首页",click:()=>global.biliApp.configService.openMainWindowPage$.next({page:"RecommendPage"})}),log.info("menu list:",e)),r.apply(this,[e])}}{const r=electron.BrowserWindow.prototype.loadURL;electron.BrowserWindow.prototype.loadURL=function(e,t){return this.setMinimumSize(300,300),this.webContents.setUserAgent("Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) bilibili_pc/1.9.1 Chrome/98.0.4758.141 Electron/17.4.11 Safari/537.36"),log.info("=====loadURL:",e),r.apply(this,[e,t])}}{const r=electron.BrowserWindow.prototype.loadFile;electron.BrowserWindow.prototype.loadFile=function(e,t){return log.info("=====loadFile:",e),r.apply(this,[e,t])}}{const r=electron.BrowserWindow.prototype.close;electron.BrowserWindow.prototype.close=function(...e){log.info("------------->close window",e);const t=r.apply(this,e);return this===global.biliApp.configService.loginWindow?global.biliApp.configService.loginWindow=null:this===global.biliApp.configService.loginRiskWindow&&(global.biliApp.configService.loginRiskWindow=null),t}}},electronOverwriteAfterReady=()=>{{const r=()=>new Promise((n,a)=>{try{const u=child_process.execSync("cat /proc/bus/input/devices").toString().split(`
`).filter(o=>o.startsWith("H:")).filter(o=>o.includes("mouse")).map(o=>o.split("=")[1].split(" ").filter(f=>f.startsWith("event"))[0]).map(o=>`/dev/input/${o}`).join(",");child_process.exec(`${path$1.resolve(__dirname,"../cursor-tool")} --devices "${u}"`,(o,f,c)=>{o||c?a(c):n(f)})}catch(l){a(l)}}),e=electron.screen.getCursorScreenPoint;let t=!1,i=0,s=0;electron.screen.getCursorScreenPoint=function(){return process.env.XDG_SESSION_TYPE=="wayland"&&!t&&(async()=>{try{const a=(await r()).replace(`
`,"").split(",");return i=parseInt(a[0]),s=parseInt(a[1]),{x:i,y:s}}catch(n){t=!0;const a=n;log.error("error:",a.replace(`
`,"")),a.includes("failed to add device")&&log.info(`\x1B[36mNeed execute: sudo usermod -aG input ${process.env.USERNAME}, then reboot.\x1B[0m`)}})(),!i||!s?e.apply(this,[]):{x:i,y:s}}}},registerIpcHandle=()=>{electron.ipcMain.on("app/getTheme",r=>{r.returnValue="bili_light"}),electron.ipcMain.on("app/mainProcessReady",r=>{r.returnValue=!0}),electron.ipcMain.on("app/getInitInfo",r=>{log.info("emit app/getInitInfo"),r.returnValue={IS_MAC:!1,IS_WIN:!1,IS_LINUX:!0,IS_DEV:!1,IS_RELEASE:!0,APP_VERSION:"1.17.5.4665",IS_DEV_M:!1,JSB_PRELOAD_URL:"bili-preload.js",appId:"",platform:"linux"}}),electron.ipcMain.on("config/dataSync",(r,e)=>{log.info("receive config/dataSync from:",r.sender.id,r.sender.getTitle(),e);const t=electron.BrowserWindow.getAllWindows();for(const i of t)i.webContents.id!==r.sender.id&&(log.info("notify dataSync to window:",i.id),i.webContents.executeJavaScript(`window.dataSync('${e}')`).then(s=>{log.info("dataSync result:",s)}).catch(s=>{log.error("dataSync error:",s)}));log.info("dataSync end."),r.returnValue="ok"}),electron.ipcMain.handle("sponsor/downloadAudio",async(r,e)=>{log.info("sponsor/downloadAudio:",e);const t=path$1.resolve(module.require("os").tmpdir(),"bilibili-tanscribe.mp3");return await fetch(e,{method:"GET",headers:{Referer:"https://www.bilibili.com/"}}).then(async i=>{const s=fs.createWriteStream(t),n=new WritableStream({write(a){return new Promise((l,u)=>{s.write(a,o=>{o?u(o):l()})})},close(){s.end()}});if(i.status!==200)throw new Error(`${i.status} ${i.statusText}`);await i.body?.pipeTo(n)}),t}),electron.ipcMain.handle("sponsor/transcribeAudio",(r,e)=>new Promise((t,i)=>{log.info("sponsor/transcribeAudio:",e);const s=e.file,n=e.proxy,a=e.libPath,l=child_process.spawn(path$1.resolve(__dirname,"../transcribe.py"),[s],{env:{HTTPS_PROXY:n,HTTP_PROXY:n,LD_LIBRARY_PATH:`${process.env.LD_LIBRARY_PATH}:${a}`}});let u="",o="";l.stdout.on("data",f=>{u+=f.toString()}),l.stderr.on("data",f=>{o+=f.toString()}),l.on("close",f=>{log.info("close:",f,l.exitCode),o?i(o):t(u)})})),electron.ipcMain.handle("roaming/queryDynamicDetail",async(r,e,t)=>{log.info("dynamic id:",e,t);const i=new GrpcTransport({host:"grpc.biliapi.net",channelCredentials:srcExports.ChannelCredentials.createSsl(),clientOptions:{"grpc.primary_user_agent":"Dalvik/2.1.0 (Linux; U; Android 10; RMX2117 Build/QP1A.190711.020) 7.61.0 os/android model/Pixel XL mobi_app/android build/7610300 channel/yingyongbao innerVer/7610310 osVer/10 network/2 grpc-java-cronet/1.36.1"}}),s=new DynamicClient(i),n={"x-bili-gaia-vtoken":"","x-bili-aurora-eid":"UlcBQFgHB1M=","x-bili-aurora-zone":"","x-bili-trace-id":"344211a71a0dcf47432b69ac84666e79:432b69ac84666e79:0:0","x-bili-fawkes-req-bin":"CglhbmRyb2lkNjQSBHByb2QaCDlhMjU2NWM2"},a={accessKey:t,mobiApp:"android",device:"phone",build:7610300,channel:"yingyongbao",buvid:"XU8E5D18568ACB1FFEFE1E27B3456B9AFFB28",platform:"android"};{const c=Buffer.from(Metadata.toBinary(a));log.info("meta data:",c.toString("base64")),n["x-bili-metadata-bin"]=c.toString("base64")}n.authorization=`identify_v1 ${t}`;const l={mobiApp:"android",device:"phone",build:7610300,channel:"yingyongbao",buvid:"XU8E5D18568ACB1FFEFE1E27B3456B9AFFB28",platform:"android",appId:5,brand:"realme",model:"Pixel XL",osver:"10",fpLocal:"8cb55fdfcf655513e20e636f6caf0e1420240328142353b223ab3420700b2b8d",fpRemote:"8cb55fdfcf655513e20e636f6caf0e1420240328142353b223ab3420700b2b8d",versionName:"7.61.0",fp:"8cb55fdfcf655513e20e636f6caf0e1420240328142353b223ab3420700b2b8d",fts:0n},u=Buffer.from(Device.toBinary(l));n["x-bili-device-bin"]=u.toString("base64"),n["x-bili-network-bin"]="CAEaBTQ2MDAx",n["x-bili-restriction-bin"]="",n["x-bili-locale-bin"]="CggKAnpoGgJDThIICgJ6aBoCQ04",n["x-bili-exps-bin"]="",n.buvid="XU8E5D18568ACB1FFEFE1E27B3456B9AFFB28",n["bili-http-engine"]="cronet",n.te="trailers",log.info("meta data:",n);const o={dynamicId:`${e}`},f=await s.dynDetail(o,{meta:n});return DynDetailReply.toJson(f.response,{enumAsInteger:!1,useProtoFieldName:!0})})},registerExtension=()=>{const r=path$1.join(path$1.dirname(electron.app.getAppPath()),"extensions");electron.session.defaultSession.loadExtension(r+"/bilibili",{allowFileAccess:!0}).then(({id:e})=>{log.info("-----Load Extension:",e)})},registerProtocol=()=>{electron.protocol.registerStringProtocol("roaming",async(r,e)=>{try{const t=await fetch(r.url.replace("roaming","https"),{headers:{cookie:r.headers["x-cookie"]}});e(await t.json())}catch(t){e({statusCode:500,data:JSON.stringify(t)})}}),electron.protocol.registerHttpProtocol("roaming-thpic",(r,e)=>{e({url:r.url.replace("roaming-thpic","https")})})},nodeJsOverWrite=()=>{{const r=module.require("child_process"),e=r.execSync;r.execSync=function(...t){return t[0]==="sw_vers"?"10.0.26100.2605":e.apply(this,t)}}};(()=>{const r=createLogger("Index");Logger.moduleName="Index",parseElectronFlag(),hookIsPackaged(),initializeGlobalData(),createBilibiliServer(),replaceBrowserWindow(),electronOverwrite(),nodeJsOverWrite(),registerIpcHandle(),module.require("./main/app.js"),electron.app.whenReady().then(()=>{registerProtocol(),registerExtension(),electronOverwriteAfterReady(),global.bootstrapBiliApp()}),process.on("uncaughtException",e=>{r.error("uncaughtException",e)})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21tb24vbG9nLnRzIiwiLi4vLi4vc3JjL2luamVjdC9jb21tb24vYmlsaWJpbGkudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NvbnN0YW50cy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9nZ2luZy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZXJyb3IuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL21ldGFkYXRhLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLWNyZWRlbnRpYWxzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy90bHMtaGVscGVycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvdXJpLXBhcnNlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NoYW5uZWwtY3JlZGVudGlhbHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2xvYWQtYmFsYW5jZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3NlcnZpY2UtY29uZmlnLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb25uZWN0aXZpdHktc3RhdGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3BpY2tlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvYmFja29mZi10aW1lb3V0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmluZy1sb2FkLWJhbGFuY2VyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsLW9wdGlvbnMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3N1YmNoYW5uZWwtYWRkcmVzcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AanMtc2RzbCtvcmRlcmVkLW1hcEA0LjQuMi9ub2RlX21vZHVsZXMvQGpzLXNkc2wvb3JkZXJlZC1tYXAvZGlzdC9lc20vaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2FkbWluLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLWludGVyZmFjZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2xpZW50LWludGVyY2VwdG9ycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY2xpZW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9tYWtlLWNsaWVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9sb2Rhc2guY2FtZWxjYXNlQDQuMy4wL25vZGVfbW9kdWxlcy9sb2Rhc2guY2FtZWxjYXNlL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1ZmpzK2FzcHJvbWlzZUAxLjEuMi9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvYXNwcm9taXNlL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1ZmpzK2Jhc2U2NEAxLjEuMi9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvYmFzZTY0L2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1ZmpzK2V2ZW50ZW1pdHRlckAxLjEuMC9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvZXZlbnRlbWl0dGVyL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1ZmpzK2Zsb2F0QDEuMC4yL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9mbG9hdC9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWZqcytpbnF1aXJlQDEuMS4wL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9pbnF1aXJlL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1ZmpzK3V0ZjhAMS4xLjAvbm9kZV9tb2R1bGVzL0Bwcm90b2J1ZmpzL3V0ZjgvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmanMrcG9vbEAxLjEuMC9ub2RlX21vZHVsZXMvQHByb3RvYnVmanMvcG9vbC9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsL2xvbmdiaXRzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3V0aWwvbWluaW1hbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy93cml0ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvd3JpdGVyX2J1ZmZlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9yZWFkZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcmVhZGVyX2J1ZmZlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9ycGMvc2VydmljZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9ycGMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcm9vdHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvaW5kZXgtbWluaW1hbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWZqcytjb2RlZ2VuQDIuMC40L25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9jb2RlZ2VuL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1ZmpzK2ZldGNoQDEuMS4wL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9mZXRjaC9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWZqcytwYXRoQDEuMS4yL25vZGVfbW9kdWxlcy9AcHJvdG9idWZqcy9wYXRoL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL25hbWVzcGFjZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9tYXBmaWVsZC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9tZXRob2QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvc2VydmljZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9tZXNzYWdlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL2RlY29kZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvdmVyaWZpZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvY29udmVydGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3dyYXBwZXJzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3R5cGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcm9vdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy91dGlsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL3R5cGVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL2ZpZWxkLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL29uZW9mLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL29iamVjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9wcm90b2J1ZmpzQDcuNS40L25vZGVfbW9kdWxlcy9wcm90b2J1ZmpzL3NyYy9lbnVtLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL2VuY29kZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvaW5kZXgtbGlnaHQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvdG9rZW5pemUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvcGFyc2UuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9zcmMvY29tbW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvc3JjL2luZGV4LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL3Byb3RvYnVmanNANy41LjQvbm9kZV9tb2R1bGVzL3Byb3RvYnVmanMvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vcHJvdG9idWZqc0A3LjUuNC9ub2RlX21vZHVsZXMvcHJvdG9idWZqcy9leHQvZGVzY3JpcHRvci9pbmRleC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytwcm90by1sb2FkZXJAMC44LjAvbm9kZV9tb2R1bGVzL0BncnBjL3Byb3RvLWxvYWRlci9idWlsZC9zcmMvdXRpbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytwcm90by1sb2FkZXJAMC44LjAvbm9kZV9tb2R1bGVzL0BncnBjL3Byb3RvLWxvYWRlci9idWlsZC9zcmMvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NoYW5uZWx6LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jYWxsLW51bWJlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvY29tcHJlc3Npb24tYWxnb3JpdGhtcy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jb21wcmVzc2lvbi1maWx0ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL2NvbnRyb2wtcGxhbmUtc3RhdHVzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9kZWFkbGluZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZmlsdGVyLXN0YWNrLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zaW5nbGUtc3ViY2hhbm5lbC1jaGFubmVsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdWJjaGFubmVsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9lbnZpcm9ubWVudC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2ZXItZG5zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9odHRwX3Byb3h5LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdHJlYW0tZGVjb2Rlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc3ViY2hhbm5lbC1jYWxsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy90cmFuc3BvcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3N1YmNoYW5uZWwtcG9vbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNpbmctY2FsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvcmVzb2x2aW5nLWNhbGwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3JldHJ5aW5nLWNhbGwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3N1YmNoYW5uZWwtaW50ZXJmYWNlLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9pbnRlcm5hbC1jaGFubmVsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jaGFubmVsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zZXJ2ZXItY2FsbC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWNyZWRlbnRpYWxzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9kdXJhdGlvbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvb3JjYS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLWludGVyY2VwdG9ycy5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvc2VydmVyLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9zdGF0dXMtYnVpbGRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci1waWNrLWZpcnN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9jZXJ0aWZpY2F0ZS1wcm92aWRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvZXhwZXJpbWVudGFsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9yZXNvbHZlci11ZHMuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0BncnBjL2dycGMtanMvYnVpbGQvc3JjL3Jlc29sdmVyLWlwLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLXJvdW5kLXJvYmluLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0BncnBjK2dycGMtanNAMS4xNC4zL25vZGVfbW9kdWxlcy9AZ3JwYy9ncnBjLWpzL2J1aWxkL3NyYy9wcmlvcml0eS1xdWV1ZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvbG9hZC1iYWxhbmNlci13ZWlnaHRlZC1yb3VuZC1yb2Jpbi5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQGdycGMvZ3JwYy1qcy9idWlsZC9zcmMvaW5kZXguanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvanNvbi10eXBpbmdzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L2Jhc2U2NC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZUAyLjExLjEvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9iaW5hcnktZm9ybWF0LWNvbnRyYWN0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L2dvb2ctdmFyaW50LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L3BiLWxvbmcuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvYmluYXJ5LXJlYWRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZUAyLjExLjEvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9hc3NlcnQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvYmluYXJ5LXdyaXRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZUAyLjExLjEvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9qc29uLWZvcm1hdC1jb250cmFjdC5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZUAyLjExLjEvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9tZXNzYWdlLXR5cGUtY29udHJhY3QuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvbG93ZXItY2FtZWwtY2FzZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZUAyLjExLjEvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9yZWZsZWN0aW9uLWluZm8uanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvb25lb2YuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi10eXBlLWNoZWNrLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L3JlZmxlY3Rpb24tbG9uZy1jb252ZXJ0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L3JlZmxlY3Rpb24tanNvbi1yZWFkZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1qc29uLXdyaXRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZUAyLjExLjEvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9yZWZsZWN0aW9uLXNjYWxhci1kZWZhdWx0LmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L3JlZmxlY3Rpb24tYmluYXJ5LXJlYWRlci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZUAyLjExLjEvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lL2J1aWxkL2VzMjAxNS9yZWZsZWN0aW9uLWJpbmFyeS13cml0ZXIuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1jcmVhdGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWVAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS9idWlsZC9lczIwMTUvcmVmbGVjdGlvbi1tZXJnZS1wYXJ0aWFsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L3JlZmxlY3Rpb24tZXF1YWxzLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUvYnVpbGQvZXMyMDE1L21lc3NhZ2UtdHlwZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZS1ycGNAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS1ycGMvYnVpbGQvZXMyMDE1L3JlZmxlY3Rpb24taW5mby5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZS1ycGNAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS1ycGMvYnVpbGQvZXMyMDE1L3NlcnZpY2UtdHlwZS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZS1ycGNAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS1ycGMvYnVpbGQvZXMyMDE1L3JwYy1lcnJvci5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZS1ycGNAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS1ycGMvYnVpbGQvZXMyMDE1L3JwYy1vcHRpb25zLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytydW50aW1lLXJwY0AyLjExLjEvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYy9idWlsZC9lczIwMTUvZGVmZXJyZWQuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWUtcnBjQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjL2J1aWxkL2VzMjAxNS9ycGMtb3V0cHV0LXN0cmVhbS5qcyIsIi4uLy4uL25vZGVfbW9kdWxlcy8ucG5wbS9AcHJvdG9idWYtdHMrcnVudGltZS1ycGNAMi4xMS4xL25vZGVfbW9kdWxlcy9AcHJvdG9idWYtdHMvcnVudGltZS1ycGMvYnVpbGQvZXMyMDE1L3VuYXJ5LWNhbGwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWUtcnBjQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjL2J1aWxkL2VzMjAxNS9zZXJ2ZXItc3RyZWFtaW5nLWNhbGwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWUtcnBjQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjL2J1aWxkL2VzMjAxNS9jbGllbnQtc3RyZWFtaW5nLWNhbGwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWUtcnBjQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjL2J1aWxkL2VzMjAxNS9kdXBsZXgtc3RyZWFtaW5nLWNhbGwuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK3J1bnRpbWUtcnBjQDIuMTEuMS9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjL2J1aWxkL2VzMjAxNS9ycGMtaW50ZXJjZXB0b3IuanMiLCIuLi8uLi9zcmMvaW5qZWN0L2NvbW1vbi9keW5hbWljLnRzIiwiLi4vLi4vc3JjL2luamVjdC9jb21tb24vZHluYW1pYy5jbGllbnQudHMiLCIuLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHByb3RvYnVmLXRzK2dycGMtdHJhbnNwb3J0QDIuMTEuMV9AZ3JwYytncnBjLWpzQDEuMTQuMy9ub2RlX21vZHVsZXMvQHByb3RvYnVmLXRzL2dycGMtdHJhbnNwb3J0L2J1aWxkL2VzMjAxNS91dGlsLmpzIiwiLi4vLi4vbm9kZV9tb2R1bGVzLy5wbnBtL0Bwcm90b2J1Zi10cytncnBjLXRyYW5zcG9ydEAyLjExLjFfQGdycGMrZ3JwYy1qc0AxLjE0LjMvbm9kZV9tb2R1bGVzL0Bwcm90b2J1Zi10cy9ncnBjLXRyYW5zcG9ydC9idWlsZC9lczIwMTUvZ3JwYy10cmFuc3BvcnQuanMiLCIuLi8uLi9zcmMvaW5qZWN0L2NvbW1vbi9lbGVjdHJvbi10b29sLnRzIiwiLi4vLi4vc3JjL2luamVjdC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG5jb25zdCBMb2dMZXZlbCA9IHtcbiAgLyoqIOi/vei4quaXpeW/lyAqL1xuICBUcmFjZTogMCxcbiAgLyoqIOaZrumAmuaXpeW/lyAqL1xuICBEZWJ1ZzogMSxcbiAgLyoqIOaZrumAmuaXpeW/lyAqL1xuICBJbmZvOiAyLFxuICAvKiog6K2m5ZGK5pel5b+XICovXG4gIFdhcm5pbmc6IDMsXG4gIC8qKiDplJnor6/ml6Xlv5cgKi9cbiAgRXJyb3I6IDQsXG59IGFzIGNvbnN0XG50eXBlIExvZ0xldmVsVHlwZSA9IHR5cGVvZiBMb2dMZXZlbFtrZXlvZiB0eXBlb2YgTG9nTGV2ZWxdO1xuY29uc3QgU3R5bGVzID0gWydjb2xvcjogYmxhY2s7JywgJ2NvbG9yOiBncmF5OycsICAnY29sb3I6IGdyZWVuOycsICdjb2xvcjogb3JhbmdlOycsICdjb2xvcjogcmVkOyddXG5jb25zdCBNZXRob2RzID0gWydsb2cnLCAnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJ10gYXMgY29uc3RcbmNvbnN0IGxvZyA9IHtcbiAgbG9nOiBjb25zb2xlLmxvZyxcbiAgd2FybjogY29uc29sZS53YXJuLFxuICBlcnJvcjogY29uc29sZS5lcnJvcixcbiAgaW5mbzogY29uc29sZS5pbmZvLFxuICBkZWJ1ZzogY29uc29sZS5kZWJ1ZyxcbiAgdHJhY2U6IGNvbnNvbGUudHJhY2UsXG59XG4vKipcbiAqIOaXpeW/l+eahOmFjee9ruexu+Wei1xuICovXG5pbnRlcmZhY2UgTG9nZ2VyQ29uZmlnVHlwZSB7XG4gIC8qKiDlkb3lkI3nqbrpl7QgKi9cbiAgbmFtZXNwYWNlOiBzdHJpbmdcbn1cbi8qKlxuICog5oum5oiq5Zmo5Ye95pWw57G75Z6LXG4gKi9cbnR5cGUgSW50ZXJjZXB0b3JGdW5jVHlwZSA9IChjb25maWc6IExvZ2dlckNvbmZpZ1R5cGUpID0+IHZvaWRcblxuY29uc3QgQ3VycmVudExvZ0xldmVsOiBMb2dMZXZlbFR5cGUgPSAoKCkgPT4ge1xuICBjb25zdCBsZXZlbCA9IGdsb2JhbFRoaXM/LndpbmRvdz8ubG9jYWxTdG9yYWdlPy5nZXRJdGVtKCdMb2dMZXZlbCcpID8/ICdJbmZvJ1xuICBpZiAobGV2ZWwgPT0gbnVsbCkgcmV0dXJuIExvZ0xldmVsLkluZm9cbiAgaWYgKGxldmVsID09PSAnVHJhY2UnKSByZXR1cm4gTG9nTGV2ZWwuVHJhY2VcbiAgaWYgKGxldmVsID09PSAnRGVidWcnKSByZXR1cm4gTG9nTGV2ZWwuRGVidWdcbiAgaWYgKGxldmVsID09PSAnSW5mbycpIHJldHVybiBMb2dMZXZlbC5JbmZvXG4gIGlmIChsZXZlbCA9PT0gJ1dhcm5pbmcnKSByZXR1cm4gTG9nTGV2ZWwuV2FybmluZ1xuICBpZiAobGV2ZWwgPT09ICdFcnJvcicpIHJldHVybiBMb2dMZXZlbC5FcnJvclxuICByZXR1cm4gTG9nTGV2ZWwuSW5mb1xufSkoKVxuXG4vKipcbiAqIOaXpeW/l+aJk+WNsOW3peWFt++8jOe7n+S4gOeuoeeQhuaXpeW/l+i+k+WHuibkuIrmiqVcbiAqL1xuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gIC8qKiDlkb3lkI3nqbrpl7TvvIhzY29wZe+8ie+8jOeUqOS6juWMuuWIhuaJgOWcqOaJp+ihjOaWh+S7tiAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGJlZm9yZUZ1bmNzOiBJbnRlcmNlcHRvckZ1bmNUeXBlW10gPSBbXVxuICBwcml2YXRlIHJlYWRvbmx5IGFmdGVyRnVuY3M6IEludGVyY2VwdG9yRnVuY1R5cGVbXSA9IFtdXG4gIHB1YmxpYyBzdGF0aWMgbW9kdWxlTmFtZTogc3RyaW5nID0gJydcbiAgcHVibGljIGlzRW5hYmxlZCA9IHRydWVcbiAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IExvZ2dlckNvbmZpZ1R5cGUgPSB7XG4gICAgbmFtZXNwYWNlOiAnQmlsaWJpbGknLFxuICB9XG5cbiAgY29uc3RydWN0b3IgKG5hbWVzcGFjZSA9ICd1bmtub3duJykge1xuICAgIHRoaXMuY29uZmlnLm5hbWVzcGFjZSA9IGBbJHtuYW1lc3BhY2V9XWBcbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rmlrDnmoQgTG9nZ2VyIOWunuS+i1xuICAgKlxuICAgKiBAcGFyYW0gbmFtZXNwYWNlIOWRveWQjeepuumXtFxuICAgKiBAcmV0dXJucyBMb2dnZXJcbiAgICovXG4gIHB1YmxpYyBjcmVhdGUgKG5hbWVzcGFjZSA9ICd1bmtub3duJykge1xuICAgIHJldHVybiBuZXcgTG9nZ2VyKG5hbWVzcGFjZSlcbiAgfVxuXG4gIHByaXZhdGUgX2xvZyAobGV2ZWw6IExvZ0xldmVsVHlwZSwgYXJnczogdW5rbm93bltdKSB7XG4gICAgaWYgKCF0aGlzLmlzRW5hYmxlZCkgcmV0dXJuXG4gICAgLy8g5LyY5YWI57qn5bCP55qE5LiN5pi+56S6XG4gICAgaWYgKGxldmVsIDwgQ3VycmVudExvZ0xldmVsKSByZXR1cm5cbiAgICB0aGlzLmJlZm9yZUZ1bmNzLmZvckVhY2goZSA9PiBlKHRoaXMuY29uZmlnKSlcbiAgICBsb2dbTWV0aG9kc1tsZXZlbF1dKGAlY1ske0xvZ2dlci5tb2R1bGVOYW1lfV0ke3RoaXMuY29uZmlnLm5hbWVzcGFjZX1gLCBTdHlsZXNbbGV2ZWxdLCAuLi5hcmdzKVxuICAgIHRoaXMuYWZ0ZXJGdW5jcy5mb3JFYWNoKGUgPT4gZSh0aGlzLmNvbmZpZykpXG4gIH1cblxuICAvKipcbiAgICog5re75Yqg5oum5oiq5ZmoXG4gICAqIEBwYXJhbSBmdW5jIOaLpuaIquWZqFxuICAgKiBAcGFyYW0gaXNCZWZvcmUg5piv5ZCm5pel5b+X5LmL5YmNXG4gICAqIEByZXR1cm5zIHRoaXNcbiAgICovXG4gIHB1YmxpYyBhZGRJbnRlcmNlcHRvciAoZnVuYzogSW50ZXJjZXB0b3JGdW5jVHlwZSwgaXNCZWZvcmUgPSB0cnVlKSB7XG4gICAgaWYgKHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKVxuICAgICAgcmV0dXJuIHRoaXMuZXJyb3IoJ+aLpuaIquWZqOWHveaVsOS4jeespuWQiOinhOiMgycpXG4gICAgaWYgKGlzQmVmb3JlKSB7XG4gICAgICB0aGlzLmJlZm9yZUZ1bmNzLnB1c2goZnVuYylcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIHRoaXMuYWZ0ZXJGdW5jcy5wdXNoKGZ1bmMpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiDmt7vliqDml6Xlv5fmiZPljbDkuYvliY3nmoTmi6bmiKrlh73mlbBcbiAgICpcbiAgICogQHBhcmFtIGZ1bmMg5oum5oiq5ZmoXG4gICAqIEByZXR1cm5zIHRoaXNcbiAgICovXG4gIHB1YmxpYyBhZGRCZWZvcmVJbnRlcmNlcHRvciAoZnVuYzogSW50ZXJjZXB0b3JGdW5jVHlwZSkge1xuICAgIHRoaXMuYmVmb3JlRnVuY3MucHVzaChmdW5jKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICog5re75Yqg5pel5b+X5omT5Y2w5LmL5ZCO55qE5oum5oiq5Ye95pWwXG4gICAqXG4gICAqIEBwYXJhbSBmdW5jIOaLpuaIquWZqFxuICAgKiBAcmV0dXJucyB0aGlzXG4gICAqL1xuICBwdWJsaWMgYWRkQWZ0ZXJJbnRlcmNlcHRvciAoZnVuYzogSW50ZXJjZXB0b3JGdW5jVHlwZSkge1xuICAgIHRoaXMuYWZ0ZXJGdW5jcy5wdXNoKGZ1bmMpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiDmiZPljbDov73ouKrkv6Hmga8g8J+Qm1xuICAgKlxuICAgKiBAcGFyYW0gYXJncyDku7vmhI/lj4LmlbBcbiAgICovXG4gIHB1YmxpYyB0cmFjZSAoLi4uYXJnczogdW5rbm93bltdKSB7XG4gICAgdGhpcy5fbG9nKExvZ0xldmVsLlRyYWNlLCBhcmdzKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAvKipcbiAgICog5omT5Y2w6L6T5Ye65L+h5oGv6LCD6K+VIPCfkJtcbiAgICpcbiAgICogQHBhcmFtIGFyZ3Mg5Lu75oSP5Y+C5pWwXG4gICAqL1xuICBwdWJsaWMgZGVidWcgKC4uLmFyZ3M6IHVua25vd25bXSkge1xuICAgIHRoaXMuX2xvZyhMb2dMZXZlbC5EZWJ1ZywgYXJncylcbiAgICByZXR1cm4gdGhpc1xuICB9XG4gIC8qKlxuICAgKiDmiZPljbDovpPlh7rkv6Hmga8g8J+Qm1xuICAgKlxuICAgKiBAcGFyYW0gYXJncyDku7vmhI/lj4LmlbBcbiAgICovXG4gIHB1YmxpYyBpbmZvICguLi5hcmdzOiB1bmtub3duW10pIHtcbiAgICB0aGlzLl9sb2coTG9nTGV2ZWwuSW5mbywgYXJncylcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgLyoqXG4gICAqIOaJk+WNsOi+k+WHuuitpuWRiuS/oeaBryDinZVcbiAgICpcbiAgICogQHBhcmFtIGFyZ3Mg5Lu75oSP5Y+C5pWwXG4gICAqL1xuICBwdWJsaWMgd2FybiAoLi4uYXJnczogdW5rbm93bltdKSB7XG4gICAgdGhpcy5fbG9nKExvZ0xldmVsLldhcm5pbmcsIGFyZ3MpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiDmiZPljbDovpPlh7rplJnor6/kv6Hmga8g4p2MXG4gICAqXG4gICAqIEBwYXJhbSBhcmdzIOS7u+aEj+WPguaVsFxuICAgKi9cbiAgcHVibGljIGVycm9yICguLi5hcmdzOiB1bmtub3duW10pIHtcbiAgICB0aGlzLl9sb2coTG9nTGV2ZWwuRXJyb3IsIGFyZ3MpXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8qKlxuICAgKiDorr7nva7lkb3lkI3nqbrpl7TvvIjml6Xlv5fliY3nvIDvvIlcbiAgICogQHBhcmFtIG5hbWVzcGFjZVxuICAgKi9cbiAgcHVibGljIHNldE5hbWVzcGFjZSAobmFtZXNwYWNlID0gJycpIHtcbiAgICB0aGlzLmNvbmZpZy5uYW1lc3BhY2UgPSBgWyR7bmFtZXNwYWNlfV1gXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuXG4vLyBleHBvcnQgY29uc3QgbmFub0xvZyA9IG5ldyBMb2dnZXIoKVxuXG5leHBvcnQgY29uc3QgY3JlYXRlTG9nZ2VyID0gKG5hbWVzcGFjZT86IHN0cmluZykgPT4ge1xuICByZXR1cm4gbmV3IExvZ2dlcihuYW1lc3BhY2UpXG59XG4iLCJpbXBvcnQgeyBjcmVhdGVMb2dnZXIgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2xvZ1wiO1xuaW1wb3J0IGh0dHBzIGZyb20gXCJodHRwc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCB7IGFwcCB9IGZyb20gXCJlbGVjdHJvblwiO1xuXG5jb25zdCBsb2cgPSBjcmVhdGVMb2dnZXIoXCJCaWxpYmlsaVwiKTtcbmV4cG9ydCBjb25zdCBjcmVhdGVCaWxpYmlsaVNlcnZlciA9ICgpID0+IHtcbiAgLy8g5Yib5bu6aHR0cHPmnI3liqHlmahcbiAgY29uc3Qgc2VydmVyID0gaHR0cHMuY3JlYXRlU2VydmVyKFxuICAgIHtcbiAgICAgIGtleTogXCItLS0tLUJFR0lOIFBSSVZBVEUgS0VZLS0tLS1cXG5NSUlFdmdJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLZ3dnZ1NrQWdFQUFvSUJBUUMxOW9POGZ4Mll4a090XFxuR29lcWZmaHNYUmZGdnEvbWhrQSs5Y3ArTmZWK1RhS3M4QXA3bjN3Mkk5N0p3WVVidEtZSWZMK3ovMUdIT1M1ZlxcbnA4a0phVmNGTXh4OGlvd1c1L2JpdFJlZUhDMVQrTUNxT3luclhmaFU1NEROSlZrR2hYc1dBeHdBb0h6RFZVaDlcXG5heDI0OEVXSlIzd3JUVnVDSUszTk0xaUZzMktJdFFOYTlDY3lMdHpYc0hmS2lmR3UwU2U3YURKTklWUjNSNEI0XFxuUXR2RnpiRWZMcjNrdnEwUUdBbkJlWjAwYmxQRTE5bEI0ZElIaTRhUGVRejVIMGJ5U3B2bUNXN3JEYW9Dc29KMFxcbnd2L010WmFuWmpPUmVwaGxZM0U3bHppVXBMMXRvRjRxb3dCNU9nYjIwK3I4VndrYzNPTmdqTXBPbUgzemU2a2lcXG4rV1hQRUZOVEFnTUJBQUVDZ2dFQkFKamdYUHZBUEloL2dwcHI0TEZ3Rm9oTWlrMThFT0wzeGdCZmx0b0UwWlZrXFxuK3BpYkwrTi9NZWQycVpZT2ZadXlZWkJkNXQzK1UydnRzYlZ5RFNoWUZXRnIrTEgxNFE3Wm9vWUVLYXlQOWRGSFxcbisrN0p1RVZqOU9DNGczRlh3SDBISmt0dkgxYXpmejdKWnhiZ0tOK1pGb0xveVR6RVNHNkNzQ0xuMGFhNitMenJcXG5GUlBxTE04VFJaS2pmbDVkWXk2ejhuRVZXV0Erb3cxTVRzYUVxMGFOcGVCc1llUGp6LzE4MWpwUVY1T3JRZS8rXFxubC9McXpVVTUzaVNPVTFaQW9ydWh6ZUowL2FHZllqRy9RZHBoTld1SzZhMjU5MGtFVHhXb0RpejdaMW04MlZ4NlxcbjFGck9ZNURyOC8rZHpnRkxkclFrS3orREdwVWxubkErNndHdzZLN01sVUVDZ1lFQTJRZm1DOEFvSGY1RHU0Sy9cXG5TNkpwbmN6dnF4d1RFWFBNS3dNTkRSQXhYbVh5dmkyUHN6a3BMR3d2UDJwWllsSzZEMjBGdE9XMXVWdHA1amlOXFxueVEwSjQyUDgzS2xZUWVCTnZWN2ZsZ1NaVzdJbU84dTVKTzhVeWJiTmVsdStCL09LcVNSOVpvSFhaUnpHNGJZVVxcbmxhS1F4SW9YRzZsN0lpZUROMFRMUGd2NkVmTUNnWUVBMXFLc3VoK002MUVGU29zSVBiNWZodmcvMi9UZWl6RG1cXG5aUnZHOFpqdS9lNnRpa2V3R1cwWExSVmIxdHJTQkZ1NklqZjQxUXNUWlJ4aDM3RmpZUlBOL1hGNnNSSHByM05pXFxuUm1hUWNoKzBCY1FhVTR2K1dTYkNuR1I5bnlpM084aENQQzcxM1VydXNOZm9rWFJmNno1QVJ0THZEd2ZCVTJ0UVxcbkRDTHRNbXlwc1NFQ2dZRUFxbS9jaGovYWdXdHJyN2NIR1pPclU4UmNOMGt0NUZmRzc4Uk9uSUtwOHBNblpaaU1cXG5NRmhrY0VGcGZXaThWMDNXVmtUczVWbzhNeHVKOThWVCs1N2t0QkdTdzR1dUJ0WHExeHZKaEp1S0FBdlFvTWJsXFxuV0E3MWlVK280RDFwNS82blZ4dVQ2MHR1WnphSkxUcDd3ZU5Qd3prYTJwdG5XclFqQk9WZW94UnV4MmNDZ1lBRFxcbjd1MDlaL0NjSzFydWQ4Zko0ZUE4Ui9aYm9Jd25mdGpxQjIxSTVpV1REN21zYkEzbEdXT3dWdERkQ2h1Skt1a3BcXG5VVjlGQURQMXlXUmR4aEZ0S1FEQVlVRC9WN1d4bW1xMW9aR0tGZHlsc21kTkdxYXBtWlU5YW5ZRzRhY2grRlNHXFxuWjlIbm9VVG9ocnhqVmYrZi92OE1qVGNHVG4wVGUwYjNRZmlZMFBiM0lRS0JnRmhSVU1hc1cvTW5JRmcxSWZZVVxcbmtWdE1FSnBham1sOXRFRVE5MWJCcjI5YkN4bCtuTTJiTTl5amI2TFFVMHZZVHlXTm4zelMvTE9hM2dTYk9DL2lcXG5jKzNmbWlJNlRwb3VORTFlQnZhNmtLeXZtcUM0ZHdENmFURUhva2ZodU1GWVpRYlZDOElHdWhFUXVOOU9JTTl4XFxuVFFnNm11YmNPemFHQlVlVG1lWlRrQ3BiXFxuLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLVxcblwiLFxuICAgICAgY2VydDogXCItLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS1cXG5NSUlFUHpDQ0F5ZWdBd0lCQWdJVUpWZzFxZEtjVXVyeVYrMkl4QW45dGVTNXF1MHdEUVlKS29aSWh2Y05BUUVMXFxuQlFBd2dhMHhDekFKQmdOVkJBWVRBa05PTVJFd0R3WURWUVFJREFoVGFHRnVaMGhoYVRFUk1BOEdBMVVFQnd3SVxcblUyaGhibWRJWVdreEx6QXRCZ05WQkFvTUpsTm9ZVzVuYUdGcElFSnBiR2xpYVd4cElGUmxZMmh1YjJ4dloza2dcXG5RMjh1TENCTWRHUXVNUkV3RHdZRFZRUUxEQWhpYVd4cFltbHNhVEVQTUEwR0ExVUVBd3dHWW1sc2FYQmpNU013XFxuSVFZSktvWklodmNOQVFrQkZoUnphR1Z1ZEdGdlFHSnBiR2xpYVd4cExtTnZiVEFnRncweU16RXdNalF3TlRJeVxcbk1UTmFHQTh5TVRJek1Ea3pNREExTWpJeE0xb3dnYTB4Q3pBSkJnTlZCQVlUQWtOT01SRXdEd1lEVlFRSURBaFRcXG5hR0Z1WjBoaGFURVJNQThHQTFVRUJ3d0lVMmhoYm1kSVlXa3hMekF0QmdOVkJBb01KbE5vWVc1bmFHRnBJRUpwXFxuYkdsaWFXeHBJRlJsWTJodWIyeHZaM2tnUTI4dUxDQk1kR1F1TVJFd0R3WURWUVFMREFoaWFXeHBZbWxzYVRFUFxcbk1BMEdBMVVFQXd3R1ltbHNhWEJqTVNNd0lRWUpLb1pJaHZjTkFRa0JGaFJ6YUdWdWRHRnZRR0pwYkdsaWFXeHBcXG5MbU52YlRDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTFgyZzd4L0haakdRNjBhXFxuaDZwOStHeGRGOFcrcithR1FENzF5bjQxOVg1Tm9xendDbnVmZkRZajNzbkJoUnUwcGdoOHY3UC9VWWM1TGwrblxcbnlRbHBWd1V6SEh5S2pCYm45dUsxRjU0Y0xWUDR3S283S2V0ZCtGVG5nTTBsV1FhRmV4WURIQUNnZk1OVlNIMXJcXG5IYmp3UllsSGZDdE5XNElncmMweldJV3pZb2kxQTFyMEp6SXUzTmV3ZDhxSjhhN1JKN3RvTWswaFZIZEhnSGhDXFxuMjhYTnNSOHV2ZVMrclJBWUNjRjVuVFJ1VThUWDJVSGgwZ2VMaG85NURQa2ZSdkpLbStZSmJ1c05xZ0t5Z25UQ1xcbi84eTFscWRtTTVGNm1HVmpjVHVYT0pTa3ZXMmdYaXFqQUhrNkJ2YlQ2dnhYQ1J6YzQyQ015azZZZmZON3FTTDVcXG5aYzhRVTFNQ0F3RUFBYU5UTUZFd0hRWURWUjBPQkJZRUZOQ1Z3OGRTdG5IejVWWTFNRUlESThkUFI5dDJNQjhHXFxuQTFVZEl3UVlNQmFBRk5DVnc4ZFN0bkh6NVZZMU1FSURJOGRQUjl0Mk1BOEdBMVVkRXdFQi93UUZNQU1CQWY4d1xcbkRRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFBaWlzeXo5V0pObXlZdGhwN2hSSHh0OHB0VjhVZWZGT1Z0MW9KZkVcXG51aWNIQm9YQkNXS09iMnNZYkpVT25wUFFyQ0dUTHhhMHNEVVh1MU92d0pQMllyS2hiaVc0WkxlZldsVk0vUngwXFxuSnBjYmJWdnJSNXB1TWZ3eEtyVzVIVCtVYWZxL2JGZS9mSlBUZEhtTFU5dkFxa0FjcVp4clBoTmp6MU84OHdwNFxcbnR1eUxjVnhIY3dyNFp2SEZjQ01vK0drcGg3NlFZOGNsY090eVRGM3AzVTJIQ0ZHdTNJOFd2SmNFZXhqamFueDZcXG56dFpnc2M5ekNWZERXUzVSRnNFTVhQajkrdlR2THVvMVM2ejBVaE1uS280eVlCQ2IvNmdtSlJKTXJaN2JlaWZQXFxuaVZGUnZoTzQzQkFrS1cwNGhSQy9uc2xpcWNlZHFldHVaYnBUanE5OGc5ZUVEb3c9XFxuLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLVxcblwiLFxuICAgIH0sXG4gICAgKHJlcSwgcmVzKSA9PiB7XG4gICAgICBjb25zdCByZW5kZXJQYXRoID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuL3JlbmRlclwiKTtcbiAgICAgIGNvbnN0IHVybCA9IHJlcS51cmw/LnNwbGl0KFwiP1wiKVswXTtcbiAgICAgIGNvbnN0IHAgPSBwYXRoLnJlc29sdmUocmVuZGVyUGF0aCwgYC4ke3VybH1gKTtcbiAgICAgIGxvZy5pbmZvKHVybCk7XG4gICAgICBpZiAodXJsPy5lbmRzV2l0aChcIi5qc1wiKSkge1xuICAgICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsIFwiYXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD11dGYtOFwiKTtcbiAgICAgIH1cbiAgICAgIHJlcy53cml0ZUhlYWQoMjAwKTtcbiAgICAgIHJlcy53cml0ZShmcy5yZWFkRmlsZVN5bmMocCkpO1xuICAgICAgcmVzLmVuZCgpO1xuICAgIH1cbiAgKTtcbiAgc2VydmVyLm9uKFwiZXJyb3JcIiwgKGVycikgPT4ge1xuICAgIGxvZy5lcnJvcihlcnIpO1xuICB9KTtcbiAgc2VydmVyLmxpc3RlbigzMDMxKTtcbiAgYXBwLmNvbW1hbmRMaW5lLmFwcGVuZFN3aXRjaChcbiAgICBcImhvc3QtcnVsZXNcIixcbiAgICBcIk1BUCBiaWxpcGMuYmlsaWJpbGkuY29tIGxvY2FsaG9zdDozMDMxXCJcbiAgKTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ERUZBVUxUX01BWF9SRUNFSVZFX01FU1NBR0VfTEVOR1RIID0gZXhwb3J0cy5ERUZBVUxUX01BWF9TRU5EX01FU1NBR0VfTEVOR1RIID0gZXhwb3J0cy5Qcm9wYWdhdGUgPSBleHBvcnRzLkxvZ1ZlcmJvc2l0eSA9IGV4cG9ydHMuU3RhdHVzID0gdm9pZCAwO1xudmFyIFN0YXR1cztcbihmdW5jdGlvbiAoU3RhdHVzKSB7XG4gICAgU3RhdHVzW1N0YXR1c1tcIk9LXCJdID0gMF0gPSBcIk9LXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkNBTkNFTExFRFwiXSA9IDFdID0gXCJDQU5DRUxMRURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiVU5LTk9XTlwiXSA9IDJdID0gXCJVTktOT1dOXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIklOVkFMSURfQVJHVU1FTlRcIl0gPSAzXSA9IFwiSU5WQUxJRF9BUkdVTUVOVFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJERUFETElORV9FWENFRURFRFwiXSA9IDRdID0gXCJERUFETElORV9FWENFRURFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJOT1RfRk9VTkRcIl0gPSA1XSA9IFwiTk9UX0ZPVU5EXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkFMUkVBRFlfRVhJU1RTXCJdID0gNl0gPSBcIkFMUkVBRFlfRVhJU1RTXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlBFUk1JU1NJT05fREVOSUVEXCJdID0gN10gPSBcIlBFUk1JU1NJT05fREVOSUVEXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlJFU09VUkNFX0VYSEFVU1RFRFwiXSA9IDhdID0gXCJSRVNPVVJDRV9FWEhBVVNURURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiRkFJTEVEX1BSRUNPTkRJVElPTlwiXSA9IDldID0gXCJGQUlMRURfUFJFQ09ORElUSU9OXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkFCT1JURURcIl0gPSAxMF0gPSBcIkFCT1JURURcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiT1VUX09GX1JBTkdFXCJdID0gMTFdID0gXCJPVVRfT0ZfUkFOR0VcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiVU5JTVBMRU1FTlRFRFwiXSA9IDEyXSA9IFwiVU5JTVBMRU1FTlRFRFwiO1xuICAgIFN0YXR1c1tTdGF0dXNbXCJJTlRFUk5BTFwiXSA9IDEzXSA9IFwiSU5URVJOQUxcIjtcbiAgICBTdGF0dXNbU3RhdHVzW1wiVU5BVkFJTEFCTEVcIl0gPSAxNF0gPSBcIlVOQVZBSUxBQkxFXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIkRBVEFfTE9TU1wiXSA9IDE1XSA9IFwiREFUQV9MT1NTXCI7XG4gICAgU3RhdHVzW1N0YXR1c1tcIlVOQVVUSEVOVElDQVRFRFwiXSA9IDE2XSA9IFwiVU5BVVRIRU5USUNBVEVEXCI7XG59KShTdGF0dXMgfHwgKGV4cG9ydHMuU3RhdHVzID0gU3RhdHVzID0ge30pKTtcbnZhciBMb2dWZXJib3NpdHk7XG4oZnVuY3Rpb24gKExvZ1ZlcmJvc2l0eSkge1xuICAgIExvZ1ZlcmJvc2l0eVtMb2dWZXJib3NpdHlbXCJERUJVR1wiXSA9IDBdID0gXCJERUJVR1wiO1xuICAgIExvZ1ZlcmJvc2l0eVtMb2dWZXJib3NpdHlbXCJJTkZPXCJdID0gMV0gPSBcIklORk9cIjtcbiAgICBMb2dWZXJib3NpdHlbTG9nVmVyYm9zaXR5W1wiRVJST1JcIl0gPSAyXSA9IFwiRVJST1JcIjtcbiAgICBMb2dWZXJib3NpdHlbTG9nVmVyYm9zaXR5W1wiTk9ORVwiXSA9IDNdID0gXCJOT05FXCI7XG59KShMb2dWZXJib3NpdHkgfHwgKGV4cG9ydHMuTG9nVmVyYm9zaXR5ID0gTG9nVmVyYm9zaXR5ID0ge30pKTtcbi8qKlxuICogTk9URTogVGhpcyBlbnVtIGlzIG5vdCBjdXJyZW50bHkgdXNlZCBpbiBhbnkgaW1wbGVtZW50ZWQgQVBJIGluIHRoaXNcbiAqIGxpYnJhcnkuIEl0IGlzIGluY2x1ZGVkIG9ubHkgZm9yIHR5cGUgcGFyaXR5IHdpdGggdGhlIG90aGVyIGltcGxlbWVudGF0aW9uLlxuICovXG52YXIgUHJvcGFnYXRlO1xuKGZ1bmN0aW9uIChQcm9wYWdhdGUpIHtcbiAgICBQcm9wYWdhdGVbUHJvcGFnYXRlW1wiREVBRExJTkVcIl0gPSAxXSA9IFwiREVBRExJTkVcIjtcbiAgICBQcm9wYWdhdGVbUHJvcGFnYXRlW1wiQ0VOU1VTX1NUQVRTX0NPTlRFWFRcIl0gPSAyXSA9IFwiQ0VOU1VTX1NUQVRTX0NPTlRFWFRcIjtcbiAgICBQcm9wYWdhdGVbUHJvcGFnYXRlW1wiQ0VOU1VTX1RSQUNJTkdfQ09OVEVYVFwiXSA9IDRdID0gXCJDRU5TVVNfVFJBQ0lOR19DT05URVhUXCI7XG4gICAgUHJvcGFnYXRlW1Byb3BhZ2F0ZVtcIkNBTkNFTExBVElPTlwiXSA9IDhdID0gXCJDQU5DRUxMQVRJT05cIjtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjL2Jsb2IvbWFzdGVyL2luY2x1ZGUvZ3JwYy9pbXBsL2NvZGVnZW4vcHJvcGFnYXRpb25fYml0cy5oI0w0M1xuICAgIFByb3BhZ2F0ZVtQcm9wYWdhdGVbXCJERUZBVUxUU1wiXSA9IDY1NTM1XSA9IFwiREVGQVVMVFNcIjtcbn0pKFByb3BhZ2F0ZSB8fCAoZXhwb3J0cy5Qcm9wYWdhdGUgPSBQcm9wYWdhdGUgPSB7fSkpO1xuLy8gLTEgbWVhbnMgdW5saW1pdGVkXG5leHBvcnRzLkRFRkFVTFRfTUFYX1NFTkRfTUVTU0FHRV9MRU5HVEggPSAtMTtcbi8vIDQgTUIgZGVmYXVsdFxuZXhwb3J0cy5ERUZBVUxUX01BWF9SRUNFSVZFX01FU1NBR0VfTEVOR1RIID0gNCAqIDEwMjQgKiAxMDI0O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX2EsIF9iLCBfYywgX2Q7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmxvZyA9IGV4cG9ydHMuc2V0TG9nZ2VyVmVyYm9zaXR5ID0gZXhwb3J0cy5zZXRMb2dnZXIgPSBleHBvcnRzLmdldExvZ2dlciA9IHZvaWQgMDtcbmV4cG9ydHMudHJhY2UgPSB0cmFjZTtcbmV4cG9ydHMuaXNUcmFjZXJFbmFibGVkID0gaXNUcmFjZXJFbmFibGVkO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBwcm9jZXNzXzEgPSByZXF1aXJlKFwicHJvY2Vzc1wiKTtcbmNvbnN0IGNsaWVudFZlcnNpb24gPSByZXF1aXJlKCcuLi8uLi9wYWNrYWdlLmpzb24nKS52ZXJzaW9uO1xuY29uc3QgREVGQVVMVF9MT0dHRVIgPSB7XG4gICAgZXJyb3I6IChtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcykgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFICcgKyBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgfSxcbiAgICBpbmZvOiAobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignSSAnICsgbWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAgIH0sXG4gICAgZGVidWc6IChtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcykgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdEICcgKyBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgfSxcbn07XG5sZXQgX2xvZ2dlciA9IERFRkFVTFRfTE9HR0VSO1xubGV0IF9sb2dWZXJib3NpdHkgPSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1I7XG5jb25zdCB2ZXJib3NpdHlTdHJpbmcgPSAoX2IgPSAoX2EgPSBwcm9jZXNzLmVudi5HUlBDX05PREVfVkVSQk9TSVRZKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBwcm9jZXNzLmVudi5HUlBDX1ZFUkJPU0lUWSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJyc7XG5zd2l0Y2ggKHZlcmJvc2l0eVN0cmluZy50b1VwcGVyQ2FzZSgpKSB7XG4gICAgY2FzZSAnREVCVUcnOlxuICAgICAgICBfbG9nVmVyYm9zaXR5ID0gY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlICdJTkZPJzpcbiAgICAgICAgX2xvZ1ZlcmJvc2l0eSA9IGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5JTkZPO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlICdFUlJPUic6XG4gICAgICAgIF9sb2dWZXJib3NpdHkgPSBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1I7XG4gICAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ05PTkUnOlxuICAgICAgICBfbG9nVmVyYm9zaXR5ID0gY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5Lk5PTkU7XG4gICAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgLy8gSWdub3JlIGFueSBvdGhlciB2YWx1ZXNcbn1cbmNvbnN0IGdldExvZ2dlciA9ICgpID0+IHtcbiAgICByZXR1cm4gX2xvZ2dlcjtcbn07XG5leHBvcnRzLmdldExvZ2dlciA9IGdldExvZ2dlcjtcbmNvbnN0IHNldExvZ2dlciA9IChsb2dnZXIpID0+IHtcbiAgICBfbG9nZ2VyID0gbG9nZ2VyO1xufTtcbmV4cG9ydHMuc2V0TG9nZ2VyID0gc2V0TG9nZ2VyO1xuY29uc3Qgc2V0TG9nZ2VyVmVyYm9zaXR5ID0gKHZlcmJvc2l0eSkgPT4ge1xuICAgIF9sb2dWZXJib3NpdHkgPSB2ZXJib3NpdHk7XG59O1xuZXhwb3J0cy5zZXRMb2dnZXJWZXJib3NpdHkgPSBzZXRMb2dnZXJWZXJib3NpdHk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuY29uc3QgbG9nID0gKHNldmVyaXR5LCAuLi5hcmdzKSA9PiB7XG4gICAgbGV0IGxvZ0Z1bmN0aW9uO1xuICAgIGlmIChzZXZlcml0eSA+PSBfbG9nVmVyYm9zaXR5KSB7XG4gICAgICAgIHN3aXRjaCAoc2V2ZXJpdHkpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHOlxuICAgICAgICAgICAgICAgIGxvZ0Z1bmN0aW9uID0gX2xvZ2dlci5kZWJ1ZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LklORk86XG4gICAgICAgICAgICAgICAgbG9nRnVuY3Rpb24gPSBfbG9nZ2VyLmluZm87XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUjpcbiAgICAgICAgICAgICAgICBsb2dGdW5jdGlvbiA9IF9sb2dnZXIuZXJyb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLyogRmFsbCBiYWNrIHRvIF9sb2dnZXIuZXJyb3Igd2hlbiBvdGhlciBtZXRob2RzIGFyZSBub3QgYXZhaWxhYmxlIGZvclxuICAgICAgICAgKiBjb21wYXRpYmxpdHkgd2l0aCBvbGRlciBiZWhhdmlvciB0aGF0IGFsd2F5cyBsb2dnZWQgdG8gX2xvZ2dlci5lcnJvciAqL1xuICAgICAgICBpZiAoIWxvZ0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICBsb2dGdW5jdGlvbiA9IF9sb2dnZXIuZXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvZ0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICBsb2dGdW5jdGlvbi5iaW5kKF9sb2dnZXIpKC4uLmFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydHMubG9nID0gbG9nO1xuY29uc3QgdHJhY2Vyc1N0cmluZyA9IChfZCA9IChfYyA9IHByb2Nlc3MuZW52LkdSUENfTk9ERV9UUkFDRSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogcHJvY2Vzcy5lbnYuR1JQQ19UUkFDRSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJyc7XG5jb25zdCBlbmFibGVkVHJhY2VycyA9IG5ldyBTZXQoKTtcbmNvbnN0IGRpc2FibGVkVHJhY2VycyA9IG5ldyBTZXQoKTtcbmZvciAoY29uc3QgdHJhY2VyTmFtZSBvZiB0cmFjZXJzU3RyaW5nLnNwbGl0KCcsJykpIHtcbiAgICBpZiAodHJhY2VyTmFtZS5zdGFydHNXaXRoKCctJykpIHtcbiAgICAgICAgZGlzYWJsZWRUcmFjZXJzLmFkZCh0cmFjZXJOYW1lLnN1YnN0cmluZygxKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBlbmFibGVkVHJhY2Vycy5hZGQodHJhY2VyTmFtZSk7XG4gICAgfVxufVxuY29uc3QgYWxsRW5hYmxlZCA9IGVuYWJsZWRUcmFjZXJzLmhhcygnYWxsJyk7XG5mdW5jdGlvbiB0cmFjZShzZXZlcml0eSwgdHJhY2VyLCB0ZXh0KSB7XG4gICAgaWYgKGlzVHJhY2VyRW5hYmxlZCh0cmFjZXIpKSB7XG4gICAgICAgICgwLCBleHBvcnRzLmxvZykoc2V2ZXJpdHksIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSArXG4gICAgICAgICAgICAnIHwgdicgK1xuICAgICAgICAgICAgY2xpZW50VmVyc2lvbiArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgcHJvY2Vzc18xLnBpZCArXG4gICAgICAgICAgICAnIHwgJyArXG4gICAgICAgICAgICB0cmFjZXIgK1xuICAgICAgICAgICAgJyB8ICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNUcmFjZXJFbmFibGVkKHRyYWNlcikge1xuICAgIHJldHVybiAoIWRpc2FibGVkVHJhY2Vycy5oYXModHJhY2VyKSAmJiAoYWxsRW5hYmxlZCB8fCBlbmFibGVkVHJhY2Vycy5oYXModHJhY2VyKSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2luZy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRFcnJvck1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2U7XG5leHBvcnRzLmdldEVycm9yQ29kZSA9IGdldEVycm9yQ29kZTtcbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RXJyb3JDb2RlKGVycm9yKSB7XG4gICAgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgZXJyb3IgIT09IG51bGwgJiZcbiAgICAgICAgJ2NvZGUnIGluIGVycm9yICYmXG4gICAgICAgIHR5cGVvZiBlcnJvci5jb2RlID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gZXJyb3IuY29kZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1ldGFkYXRhID0gdm9pZCAwO1xuY29uc3QgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgTEVHQUxfS0VZX1JFR0VYID0gL15bOjAtOWEtel8uLV0rJC87XG5jb25zdCBMRUdBTF9OT05fQklOQVJZX1ZBTFVFX1JFR0VYID0gL15bIC1+XSokLztcbmZ1bmN0aW9uIGlzTGVnYWxLZXkoa2V5KSB7XG4gICAgcmV0dXJuIExFR0FMX0tFWV9SRUdFWC50ZXN0KGtleSk7XG59XG5mdW5jdGlvbiBpc0xlZ2FsTm9uQmluYXJ5VmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gTEVHQUxfTk9OX0JJTkFSWV9WQUxVRV9SRUdFWC50ZXN0KHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzQmluYXJ5S2V5KGtleSkge1xuICAgIHJldHVybiBrZXkuZW5kc1dpdGgoJy1iaW4nKTtcbn1cbmZ1bmN0aW9uIGlzQ3VzdG9tTWV0YWRhdGEoa2V5KSB7XG4gICAgcmV0dXJuICFrZXkuc3RhcnRzV2l0aCgnZ3JwYy0nKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcbiAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZShrZXksIHZhbHVlKSB7XG4gICAgaWYgKCFpc0xlZ2FsS2V5KGtleSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNZXRhZGF0YSBrZXkgXCInICsga2V5ICsgJ1wiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycycpO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXNCaW5hcnlLZXkoa2V5KSkge1xuICAgICAgICAgICAgaWYgKCFCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwia2V5cyB0aGF0IGVuZCB3aXRoICctYmluJyBtdXN0IGhhdmUgQnVmZmVyIHZhbHVlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwia2V5cyB0aGF0IGRvbid0IGVuZCB3aXRoICctYmluJyBtdXN0IGhhdmUgU3RyaW5nIHZhbHVlc1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghaXNMZWdhbE5vbkJpbmFyeVZhbHVlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0YWRhdGEgc3RyaW5nIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBIGNsYXNzIGZvciBzdG9yaW5nIG1ldGFkYXRhLiBLZXlzIGFyZSBub3JtYWxpemVkIHRvIGxvd2VyY2FzZSBBU0NJSS5cbiAqL1xuY2xhc3MgTWV0YWRhdGEge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB0aGlzLmludGVybmFsUmVwciA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5vcGFxdWVEYXRhID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBnaXZlbiB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleSBieSByZXBsYWNpbmcgYW55IG90aGVyIHZhbHVlc1xuICAgICAqIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB0byB3aG9zZSB2YWx1ZSBzaG91bGQgYmUgc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LiBNdXN0IGJlIGEgYnVmZmVyIGlmIGFuZCBvbmx5XG4gICAgICogICBpZiB0aGUgbm9ybWFsaXplZCBrZXkgZW5kcyB3aXRoICctYmluJy5cbiAgICAgKi9cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgdmFsaWRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuaW50ZXJuYWxSZXByLnNldChrZXksIFt2YWx1ZV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiB2YWx1ZSBmb3IgdGhlIGdpdmVuIGtleSBieSBhcHBlbmRpbmcgdG8gYSBsaXN0IG9mIHByZXZpb3VzXG4gICAgICogdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCB0aGF0IGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSBmb3Igd2hpY2ggYSBuZXcgdmFsdWUgc2hvdWxkIGJlIGFwcGVuZGVkLlxuICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gYWRkLiBNdXN0IGJlIGEgYnVmZmVyIGlmIGFuZCBvbmx5XG4gICAgICogICBpZiB0aGUgbm9ybWFsaXplZCBrZXkgZW5kcyB3aXRoICctYmluJy5cbiAgICAgKi9cbiAgICBhZGQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgICAgICAgdmFsaWRhdGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nVmFsdWUgPSB0aGlzLmludGVybmFsUmVwci5nZXQoa2V5KTtcbiAgICAgICAgaWYgKGV4aXN0aW5nVmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pbnRlcm5hbFJlcHIuc2V0KGtleSwgW3ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBleGlzdGluZ1ZhbHVlLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGtleSBhbmQgYW55IGFzc29jaWF0ZWQgdmFsdWVzLiBOb3JtYWxpemVzIHRoZSBrZXkuXG4gICAgICogQHBhcmFtIGtleSBUaGUga2V5IHdob3NlIHZhbHVlcyBzaG91bGQgYmUgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICByZW1vdmUoa2V5KSB7XG4gICAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgICAvLyB2YWxpZGF0ZShrZXkpO1xuICAgICAgICB0aGlzLmludGVybmFsUmVwci5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhIGxpc3Qgb2YgYWxsIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGtleS4gTm9ybWFsaXplcyB0aGUga2V5LlxuICAgICAqIEBwYXJhbSBrZXkgVGhlIGtleSB3aG9zZSB2YWx1ZSBzaG91bGQgYmUgcmV0cmlldmVkLlxuICAgICAqIEByZXR1cm4gQSBsaXN0IG9mIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGtleS5cbiAgICAgKi9cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICAgICAgICAvLyB2YWxpZGF0ZShrZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbFJlcHIuZ2V0KGtleSkgfHwgW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYSBwbGFpbiBvYmplY3QgbWFwcGluZyBlYWNoIGtleSB0byB0aGUgZmlyc3QgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0LlxuICAgICAqIFRoaXMgcmVmbGVjdHMgdGhlIG1vc3QgY29tbW9uIHdheSB0aGF0IHBlb3BsZSB3aWxsIHdhbnQgdG8gc2VlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm4gQSBrZXkvdmFsdWUgbWFwcGluZyBvZiB0aGUgbWV0YWRhdGEuXG4gICAgICovXG4gICAgZ2V0TWFwKCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZXNdIG9mIHRoaXMuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdmFsdWVzWzBdO1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gQnVmZmVyLmlzQnVmZmVyKHYpID8gQnVmZmVyLmZyb20odikgOiB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lcyB0aGUgbWV0YWRhdGEgb2JqZWN0LlxuICAgICAqIEByZXR1cm4gVGhlIG5ld2x5IGNsb25lZCBvYmplY3QuXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGNvbnN0IG5ld01ldGFkYXRhID0gbmV3IE1ldGFkYXRhKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5ld0ludGVybmFsUmVwciA9IG5ld01ldGFkYXRhLmludGVybmFsUmVwcjtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgdGhpcy5pbnRlcm5hbFJlcHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lZFZhbHVlID0gdmFsdWUubWFwKHYgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEJ1ZmZlci5mcm9tKHYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdJbnRlcm5hbFJlcHIuc2V0KGtleSwgY2xvbmVkVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdNZXRhZGF0YTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWVyZ2VzIGFsbCBrZXktdmFsdWUgcGFpcnMgZnJvbSBhIGdpdmVuIE1ldGFkYXRhIG9iamVjdCBpbnRvIHRoaXMgb25lLlxuICAgICAqIElmIGJvdGggdGhpcyBvYmplY3QgYW5kIHRoZSBnaXZlbiBvYmplY3QgaGF2ZSB2YWx1ZXMgaW4gdGhlIHNhbWUga2V5LFxuICAgICAqIHZhbHVlcyBmcm9tIHRoZSBvdGhlciBNZXRhZGF0YSBvYmplY3Qgd2lsbCBiZSBhcHBlbmRlZCB0byB0aGlzIG9iamVjdCdzXG4gICAgICogdmFsdWVzLlxuICAgICAqIEBwYXJhbSBvdGhlciBBIE1ldGFkYXRhIG9iamVjdC5cbiAgICAgKi9cbiAgICBtZXJnZShvdGhlcikge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlc10gb2Ygb3RoZXIuaW50ZXJuYWxSZXByKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWRWYWx1ZSA9ICh0aGlzLmludGVybmFsUmVwci5nZXQoa2V5KSB8fCBbXSkuY29uY2F0KHZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLmludGVybmFsUmVwci5zZXQoa2V5LCBtZXJnZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGdldE9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gT3V0Z29pbmdIdHRwSGVhZGVycyBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHRoZSBodHRwMiBBUEkuXG4gICAgICovXG4gICAgdG9IdHRwMkhlYWRlcnMoKSB7XG4gICAgICAgIC8vIE5PVEU6IE5vZGUgPDguOSBmb3JtYXRzIGh0dHAyIGhlYWRlcnMgaW5jb3JyZWN0bHkuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlc10gb2YgdGhpcy5pbnRlcm5hbFJlcHIpIHtcbiAgICAgICAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnOicpKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSBhc3N1bWUgdGhhdCB0aGUgdXNlcidzIGludGVyYWN0aW9uIHdpdGggdGhpcyBvYmplY3QgaXMgbGltaXRlZCB0b1xuICAgICAgICAgICAgLy8gdGhyb3VnaCBpdHMgcHVibGljIEFQSSAoaS5lLiBrZXlzIGFuZCB2YWx1ZXMgYXJlIGFscmVhZHkgdmFsaWRhdGVkKS5cbiAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdmFsdWVzLm1hcChidWZUb1N0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtb2RpZmllcyB0aGUgYmVoYXZpb3Igb2YgSlNPTi5zdHJpbmdpZnkgdG8gc2hvdyBhbiBvYmplY3RcbiAgICAgKiByZXByZXNlbnRhdGlvbiBvZiB0aGUgbWV0YWRhdGEgbWFwLlxuICAgICAqL1xuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVzXSBvZiB0aGlzLmludGVybmFsUmVwcikge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoIGFkZGl0aW9uYWwgZGF0YSBvZiBhbnkgdHlwZSB0byB0aGUgbWV0YWRhdGEgb2JqZWN0LCB3aGljaCB3aWxsIG5vdFxuICAgICAqIGJlIGluY2x1ZGVkIHdoZW4gc2VuZGluZyBoZWFkZXJzLiBUaGUgZGF0YSBjYW4gbGF0ZXIgYmUgcmV0cmlldmVkIHdpdGhcbiAgICAgKiBgZ2V0T3BhcXVlYC4gS2V5cyB3aXRoIHRoZSBwcmVmaXggYGdycGNgIGFyZSByZXNlcnZlZCBmb3IgdXNlIGJ5IHRoaXNcbiAgICAgKiBsaWJyYXJ5LlxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICBzZXRPcGFxdWUoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLm9wYXF1ZURhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBkYXRhIHByZXZpb3VzbHkgYWRkZWQgd2l0aCBgc2V0T3BhcXVlYC5cbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBnZXRPcGFxdWUoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wYXF1ZURhdGEuZ2V0KGtleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgTWV0YWRhdGEgb2JqZWN0IGJhc2VkIGZpZWxkcyBpbiBhIGdpdmVuIEluY29taW5nSHR0cEhlYWRlcnNcbiAgICAgKiBvYmplY3QuXG4gICAgICogQHBhcmFtIGhlYWRlcnMgQW4gSW5jb21pbmdIdHRwSGVhZGVycyBvYmplY3QuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21IdHRwMkhlYWRlcnMoaGVhZGVycykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgTWV0YWRhdGEoKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgICAgIC8vIFJlc2VydmVkIGhlYWRlcnMgKGJlZ2lubmluZyB3aXRoIGA6YCkgYXJlIG5vdCB2YWxpZCBrZXlzLlxuICAgICAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgPT09ICc6Jykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gaGVhZGVyc1trZXldO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNCaW5hcnlLZXkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZChrZXksIEJ1ZmZlci5mcm9tKHZhbHVlLCAnYmFzZTY0JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0N1c3RvbU1ldGFkYXRhKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuc3BsaXQoJywnKS5mb3JFYWNoKHYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGtleSwgQnVmZmVyLmZyb20odi50cmltKCksICdiYXNlNjQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGtleSwgQnVmZmVyLmZyb20odmFsdWVzLCAnYmFzZTY0JykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmFkZChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYWRkKGtleSwgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgRmFpbGVkIHRvIGFkZCBtZXRhZGF0YSBlbnRyeSAke2tleX06ICR7dmFsdWVzfS4gJHsoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGVycm9yKX0uIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjLW5vZGUvaXNzdWVzLzExNzNgO1xuICAgICAgICAgICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuZXhwb3J0cy5NZXRhZGF0YSA9IE1ldGFkYXRhO1xuY29uc3QgYnVmVG9TdHJpbmcgPSAodmFsKSA9PiB7XG4gICAgcmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcih2YWwpID8gdmFsLnRvU3RyaW5nKCdiYXNlNjQnKSA6IHZhbDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRhZGF0YS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DYWxsQ3JlZGVudGlhbHMgPSB2b2lkIDA7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5mdW5jdGlvbiBpc0N1cnJlbnRPYXV0aDJDbGllbnQoY2xpZW50KSB7XG4gICAgcmV0dXJuICgnZ2V0UmVxdWVzdEhlYWRlcnMnIGluIGNsaWVudCAmJlxuICAgICAgICB0eXBlb2YgY2xpZW50LmdldFJlcXVlc3RIZWFkZXJzID09PSAnZnVuY3Rpb24nKTtcbn1cbi8qKlxuICogQSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBnZW5lcmljIG1ldGhvZCBvZiBhZGRpbmcgYXV0aGVudGljYXRpb24tcmVsYXRlZFxuICogbWV0YWRhdGEgb24gYSBwZXItcmVxdWVzdCBiYXNpcy5cbiAqL1xuY2xhc3MgQ2FsbENyZWRlbnRpYWxzIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IENhbGxDcmVkZW50aWFscyBvYmplY3QgZnJvbSBhIGdpdmVuIGZ1bmN0aW9uIHRoYXQgZ2VuZXJhdGVzXG4gICAgICogTWV0YWRhdGEgb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0gbWV0YWRhdGFHZW5lcmF0b3IgQSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYSBzZXQgb2Ygb3B0aW9ucywgYW5kXG4gICAgICogZ2VuZXJhdGVzIGEgTWV0YWRhdGEgb2JqZWN0IGJhc2VkIG9uIHRoZXNlIG9wdGlvbnMsIHdoaWNoIGlzIHBhc3NlZCBiYWNrXG4gICAgICogdG8gdGhlIGNhbGxlciB2aWEgYSBzdXBwbGllZCAoZXJyLCBtZXRhZGF0YSkgY2FsbGJhY2suXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUZyb21NZXRhZGF0YUdlbmVyYXRvcihtZXRhZGF0YUdlbmVyYXRvcikge1xuICAgICAgICByZXR1cm4gbmV3IFNpbmdsZUNhbGxDcmVkZW50aWFscyhtZXRhZGF0YUdlbmVyYXRvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIGdSUEMgY3JlZGVudGlhbCBmcm9tIGEgR29vZ2xlIGNyZWRlbnRpYWwgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBnb29nbGVDcmVkZW50aWFscyBUaGUgYXV0aGVudGljYXRpb24gY2xpZW50IHRvIHVzZS5cbiAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQ2FsbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlRnJvbUdvb2dsZUNyZWRlbnRpYWwoZ29vZ2xlQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIENhbGxDcmVkZW50aWFscy5jcmVhdGVGcm9tTWV0YWRhdGFHZW5lcmF0b3IoKG9wdGlvbnMsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBsZXQgZ2V0SGVhZGVycztcbiAgICAgICAgICAgIGlmIChpc0N1cnJlbnRPYXV0aDJDbGllbnQoZ29vZ2xlQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgZ2V0SGVhZGVycyA9IGdvb2dsZUNyZWRlbnRpYWxzLmdldFJlcXVlc3RIZWFkZXJzKG9wdGlvbnMuc2VydmljZV91cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0SGVhZGVycyA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZ29vZ2xlQ3JlZGVudGlhbHMuZ2V0UmVxdWVzdE1ldGFkYXRhKG9wdGlvbnMuc2VydmljZV91cmwsIChlcnIsIGhlYWRlcnMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdIZWFkZXJzIG5vdCBzZXQgYnkgbWV0YWRhdGEgcGx1Z2luJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0SGVhZGVycy50aGVuKGhlYWRlcnMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YS5hZGQoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFbXB0eUNhbGxDcmVkZW50aWFscygpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2FsbENyZWRlbnRpYWxzID0gQ2FsbENyZWRlbnRpYWxzO1xuY2xhc3MgQ29tcG9zZWRDYWxsQ3JlZGVudGlhbHMgZXh0ZW5kcyBDYWxsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKGNyZWRzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY3JlZHMgPSBjcmVkcztcbiAgICB9XG4gICAgYXN5bmMgZ2VuZXJhdGVNZXRhZGF0YShvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGJhc2UgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICBjb25zdCBnZW5lcmF0ZWQgPSBhd2FpdCBQcm9taXNlLmFsbCh0aGlzLmNyZWRzLm1hcChjcmVkID0+IGNyZWQuZ2VuZXJhdGVNZXRhZGF0YShvcHRpb25zKSkpO1xuICAgICAgICBmb3IgKGNvbnN0IGdlbiBvZiBnZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIGJhc2UubWVyZ2UoZ2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmFzZTtcbiAgICB9XG4gICAgY29tcG9zZShvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvc2VkQ2FsbENyZWRlbnRpYWxzKHRoaXMuY3JlZHMuY29uY2F0KFtvdGhlcl0pKTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIENvbXBvc2VkQ2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jcmVkcy5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZS5fZXF1YWxzKG90aGVyLmNyZWRzW2luZGV4XSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU2luZ2xlQ2FsbENyZWRlbnRpYWxzIGV4dGVuZHMgQ2FsbENyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcihtZXRhZGF0YUdlbmVyYXRvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhR2VuZXJhdG9yID0gbWV0YWRhdGFHZW5lcmF0b3I7XG4gICAgfVxuICAgIGdlbmVyYXRlTWV0YWRhdGEob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YUdlbmVyYXRvcihvcHRpb25zLCAoZXJyLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChtZXRhZGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUobWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb21wb3NlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9zZWRDYWxsQ3JlZGVudGlhbHMoW3RoaXMsIG90aGVyXSk7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBTaW5nbGVDYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhR2VuZXJhdG9yID09PSBvdGhlci5tZXRhZGF0YUdlbmVyYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIEVtcHR5Q2FsbENyZWRlbnRpYWxzIGV4dGVuZHMgQ2FsbENyZWRlbnRpYWxzIHtcbiAgICBnZW5lcmF0ZU1ldGFkYXRhKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpKTtcbiAgICB9XG4gICAgY29tcG9zZShvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyIGluc3RhbmNlb2YgRW1wdHlDYWxsQ3JlZGVudGlhbHM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbC1jcmVkZW50aWFscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DSVBIRVJfU1VJVEVTID0gdm9pZCAwO1xuZXhwb3J0cy5nZXREZWZhdWx0Um9vdHNEYXRhID0gZ2V0RGVmYXVsdFJvb3RzRGF0YTtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuZXhwb3J0cy5DSVBIRVJfU1VJVEVTID0gcHJvY2Vzcy5lbnYuR1JQQ19TU0xfQ0lQSEVSX1NVSVRFUztcbmNvbnN0IERFRkFVTFRfUk9PVFNfRklMRV9QQVRIID0gcHJvY2Vzcy5lbnYuR1JQQ19ERUZBVUxUX1NTTF9ST09UU19GSUxFX1BBVEg7XG5sZXQgZGVmYXVsdFJvb3RzRGF0YSA9IG51bGw7XG5mdW5jdGlvbiBnZXREZWZhdWx0Um9vdHNEYXRhKCkge1xuICAgIGlmIChERUZBVUxUX1JPT1RTX0ZJTEVfUEFUSCkge1xuICAgICAgICBpZiAoZGVmYXVsdFJvb3RzRGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgZGVmYXVsdFJvb3RzRGF0YSA9IGZzLnJlYWRGaWxlU3luYyhERUZBVUxUX1JPT1RTX0ZJTEVfUEFUSCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRSb290c0RhdGE7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGxzLWhlbHBlcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjAgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VVcmkgPSBwYXJzZVVyaTtcbmV4cG9ydHMuc3BsaXRIb3N0UG9ydCA9IHNwbGl0SG9zdFBvcnQ7XG5leHBvcnRzLmNvbWJpbmVIb3N0UG9ydCA9IGNvbWJpbmVIb3N0UG9ydDtcbmV4cG9ydHMudXJpVG9TdHJpbmcgPSB1cmlUb1N0cmluZztcbi8qXG4gKiBUaGUgZ3JvdXBzIGNvcnJlc3BvbmQgdG8gVVJJIHBhcnRzIGFzIGZvbGxvd3M6XG4gKiAxLiBzY2hlbWVcbiAqIDIuIGF1dGhvcml0eVxuICogMy4gcGF0aFxuICovXG5jb25zdCBVUklfUkVHRVggPSAvXig/OihbQS1aYS16MC05Ky4tXSspOik/KD86XFwvXFwvKFteL10qKVxcLyk/KC4rKSQvO1xuZnVuY3Rpb24gcGFyc2VVcmkodXJpU3RyaW5nKSB7XG4gICAgY29uc3QgcGFyc2VkVXJpID0gVVJJX1JFR0VYLmV4ZWModXJpU3RyaW5nKTtcbiAgICBpZiAocGFyc2VkVXJpID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzY2hlbWU6IHBhcnNlZFVyaVsxXSxcbiAgICAgICAgYXV0aG9yaXR5OiBwYXJzZWRVcmlbMl0sXG4gICAgICAgIHBhdGg6IHBhcnNlZFVyaVszXSxcbiAgICB9O1xufVxuY29uc3QgTlVNQkVSX1JFR0VYID0gL15cXGQrJC87XG5mdW5jdGlvbiBzcGxpdEhvc3RQb3J0KHBhdGgpIHtcbiAgICBpZiAocGF0aC5zdGFydHNXaXRoKCdbJykpIHtcbiAgICAgICAgY29uc3QgaG9zdEVuZCA9IHBhdGguaW5kZXhPZignXScpO1xuICAgICAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvc3QgPSBwYXRoLnN1YnN0cmluZygxLCBob3N0RW5kKTtcbiAgICAgICAgLyogT25seSBhbiBJUHY2IGFkZHJlc3Mgc2hvdWxkIGJlIGluIGJyYWNrZXRlZCBub3RhdGlvbiwgYW5kIGFuIElQdjZcbiAgICAgICAgICogYWRkcmVzcyBzaG91bGQgaGF2ZSBhdCBsZWFzdCBvbmUgY29sb24gKi9cbiAgICAgICAgaWYgKGhvc3QuaW5kZXhPZignOicpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gaG9zdEVuZCArIDEpIHtcbiAgICAgICAgICAgIGlmIChwYXRoW2hvc3RFbmQgKyAxXSA9PT0gJzonKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydFN0cmluZyA9IHBhdGguc3Vic3RyaW5nKGhvc3RFbmQgKyAyKTtcbiAgICAgICAgICAgICAgICBpZiAoTlVNQkVSX1JFR0VYLnRlc3QocG9ydFN0cmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvc3Q6IGhvc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiArcG9ydFN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBob3N0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgc3BsaXRQYXRoID0gcGF0aC5zcGxpdCgnOicpO1xuICAgICAgICAvKiBFeGFjdGx5IG9uZSBjb2xvbiBtZWFucyB0aGF0IHRoaXMgaXMgaG9zdDpwb3J0LiBaZXJvIGNvbG9ucyBtZWFucyB0aGF0XG4gICAgICAgICAqIHRoZXJlIGlzIG5vIHBvcnQuIEFuZCBtdWx0aXBsZSBjb2xvbnMgbWVhbnMgdGhhdCB0aGlzIGlzIGEgYmFyZSBJUHY2XG4gICAgICAgICAqIGFkZHJlc3Mgd2l0aCBubyBwb3J0ICovXG4gICAgICAgIGlmIChzcGxpdFBhdGgubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBpZiAoTlVNQkVSX1JFR0VYLnRlc3Qoc3BsaXRQYXRoWzFdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3Q6IHNwbGl0UGF0aFswXSxcbiAgICAgICAgICAgICAgICAgICAgcG9ydDogK3NwbGl0UGF0aFsxXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGhvc3Q6IHBhdGgsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gY29tYmluZUhvc3RQb3J0KGhvc3RQb3J0KSB7XG4gICAgaWYgKGhvc3RQb3J0LnBvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gaG9zdFBvcnQuaG9zdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIE9ubHkgYW4gSVB2NiBob3N0IHNob3VsZCBpbmNsdWRlIGEgY29sb25cbiAgICAgICAgaWYgKGhvc3RQb3J0Lmhvc3QuaW5jbHVkZXMoJzonKSkge1xuICAgICAgICAgICAgcmV0dXJuIGBbJHtob3N0UG9ydC5ob3N0fV06JHtob3N0UG9ydC5wb3J0fWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7aG9zdFBvcnQuaG9zdH06JHtob3N0UG9ydC5wb3J0fWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiB1cmlUb1N0cmluZyh1cmkpIHtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgaWYgKHVyaS5zY2hlbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgKz0gdXJpLnNjaGVtZSArICc6JztcbiAgICB9XG4gICAgaWYgKHVyaS5hdXRob3JpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXN1bHQgKz0gJy8vJyArIHVyaS5hdXRob3JpdHkgKyAnLyc7XG4gICAgfVxuICAgIHJlc3VsdCArPSB1cmkucGF0aDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJpLXBhcnNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DSEFOTkVMX0FSR1NfQ09ORklHX1NFTEVDVE9SX0tFWSA9IHZvaWQgMDtcbmV4cG9ydHMucmVnaXN0ZXJSZXNvbHZlciA9IHJlZ2lzdGVyUmVzb2x2ZXI7XG5leHBvcnRzLnJlZ2lzdGVyRGVmYXVsdFNjaGVtZSA9IHJlZ2lzdGVyRGVmYXVsdFNjaGVtZTtcbmV4cG9ydHMuY3JlYXRlUmVzb2x2ZXIgPSBjcmVhdGVSZXNvbHZlcjtcbmV4cG9ydHMuZ2V0RGVmYXVsdEF1dGhvcml0eSA9IGdldERlZmF1bHRBdXRob3JpdHk7XG5leHBvcnRzLm1hcFVyaURlZmF1bHRTY2hlbWUgPSBtYXBVcmlEZWZhdWx0U2NoZW1lO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmV4cG9ydHMuQ0hBTk5FTF9BUkdTX0NPTkZJR19TRUxFQ1RPUl9LRVkgPSAnZ3JwYy5pbnRlcm5hbC5jb25maWdfc2VsZWN0b3InO1xuY29uc3QgcmVnaXN0ZXJlZFJlc29sdmVycyA9IHt9O1xubGV0IGRlZmF1bHRTY2hlbWUgPSBudWxsO1xuLyoqXG4gKiBSZWdpc3RlciBhIHJlc29sdmVyIGNsYXNzIHRvIGhhbmRsZSB0YXJnZXQgbmFtZXMgcHJlZml4ZWQgd2l0aCB0aGUgYHByZWZpeGBcbiAqIHN0cmluZy4gVGhpcyBwcmVmaXggc2hvdWxkIGNvcnJlc3BvbmQgdG8gYSBVUkkgc2NoZW1lIG5hbWUgbGlzdGVkIGluIHRoZVxuICogW2dSUEMgTmFtZSBSZXNvbHV0aW9uIGRvY3VtZW50XShodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjL2Jsb2IvbWFzdGVyL2RvYy9uYW1pbmcubWQpXG4gKiBAcGFyYW0gcHJlZml4XG4gKiBAcGFyYW0gcmVzb2x2ZXJDbGFzc1xuICovXG5mdW5jdGlvbiByZWdpc3RlclJlc29sdmVyKHNjaGVtZSwgcmVzb2x2ZXJDbGFzcykge1xuICAgIHJlZ2lzdGVyZWRSZXNvbHZlcnNbc2NoZW1lXSA9IHJlc29sdmVyQ2xhc3M7XG59XG4vKipcbiAqIFJlZ2lzdGVyIGEgZGVmYXVsdCByZXNvbHZlciB0byBoYW5kbGUgdGFyZ2V0IG5hbWVzIHRoYXQgZG8gbm90IHN0YXJ0IHdpdGhcbiAqIGFueSByZWdpc3RlcmVkIHByZWZpeC5cbiAqIEBwYXJhbSByZXNvbHZlckNsYXNzXG4gKi9cbmZ1bmN0aW9uIHJlZ2lzdGVyRGVmYXVsdFNjaGVtZShzY2hlbWUpIHtcbiAgICBkZWZhdWx0U2NoZW1lID0gc2NoZW1lO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBuYW1lIHJlc29sdmVyIGZvciB0aGUgc3BlY2lmaWVkIHRhcmdldCwgaWYgcG9zc2libGUuIFRocm93cyBhblxuICogZXJyb3IgaWYgbm8gc3VjaCBuYW1lIHJlc29sdmVyIGNhbiBiZSBjcmVhdGVkLlxuICogQHBhcmFtIHRhcmdldFxuICogQHBhcmFtIGxpc3RlbmVyXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVJlc29sdmVyKHRhcmdldCwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBpZiAodGFyZ2V0LnNjaGVtZSAhPT0gdW5kZWZpbmVkICYmIHRhcmdldC5zY2hlbWUgaW4gcmVnaXN0ZXJlZFJlc29sdmVycykge1xuICAgICAgICByZXR1cm4gbmV3IHJlZ2lzdGVyZWRSZXNvbHZlcnNbdGFyZ2V0LnNjaGVtZV0odGFyZ2V0LCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHJlc29sdmVyIGNvdWxkIGJlIGNyZWF0ZWQgZm9yIHRhcmdldCAkeygwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCl9YCk7XG4gICAgfVxufVxuLyoqXG4gKiBHZXQgdGhlIGRlZmF1bHQgYXV0aG9yaXR5IGZvciB0aGUgc3BlY2lmaWVkIHRhcmdldCwgaWYgcG9zc2libGUuIFRocm93cyBhblxuICogZXJyb3IgaWYgbm8gcmVnaXN0ZXJlZCBuYW1lIHJlc29sdmVyIGNhbiBwYXJzZSB0aGF0IHRhcmdldCBzdHJpbmcuXG4gKiBAcGFyYW0gdGFyZ2V0XG4gKi9cbmZ1bmN0aW9uIGdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KSB7XG4gICAgaWYgKHRhcmdldC5zY2hlbWUgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXQuc2NoZW1lIGluIHJlZ2lzdGVyZWRSZXNvbHZlcnMpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyZWRSZXNvbHZlcnNbdGFyZ2V0LnNjaGVtZV0uZ2V0RGVmYXVsdEF1dGhvcml0eSh0YXJnZXQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRhcmdldCAkeygwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCl9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwVXJpRGVmYXVsdFNjaGVtZSh0YXJnZXQpIHtcbiAgICBpZiAodGFyZ2V0LnNjaGVtZSA9PT0gdW5kZWZpbmVkIHx8ICEodGFyZ2V0LnNjaGVtZSBpbiByZWdpc3RlcmVkUmVzb2x2ZXJzKSkge1xuICAgICAgICBpZiAoZGVmYXVsdFNjaGVtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzY2hlbWU6IGRlZmF1bHRTY2hlbWUsXG4gICAgICAgICAgICAgICAgYXV0aG9yaXR5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgcGF0aDogKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2ZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2hhbm5lbENyZWRlbnRpYWxzID0gdm9pZCAwO1xuZXhwb3J0cy5jcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzID0gY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFscztcbmNvbnN0IHRsc18xID0gcmVxdWlyZShcInRsc1wiKTtcbmNvbnN0IGNhbGxfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL2NhbGwtY3JlZGVudGlhbHNcIik7XG5jb25zdCB0bHNfaGVscGVyc18xID0gcmVxdWlyZShcIi4vdGxzLWhlbHBlcnNcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIHZlcmlmeUlzQnVmZmVyT3JOdWxsKG9iaiwgZnJpZW5kbHlOYW1lKSB7XG4gICAgaWYgKG9iaiAmJiAhKG9iaiBpbnN0YW5jZW9mIEJ1ZmZlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtmcmllbmRseU5hbWV9LCBpZiBwcm92aWRlZCwgbXVzdCBiZSBhIEJ1ZmZlci5gKTtcbiAgICB9XG59XG4vKipcbiAqIEEgY2xhc3MgdGhhdCBjb250YWlucyBjcmVkZW50aWFscyBmb3IgY29tbXVuaWNhdGluZyBvdmVyIGEgY2hhbm5lbCwgYXMgd2VsbFxuICogYXMgYSBzZXQgb2YgcGVyLWNhbGwgY3JlZGVudGlhbHMsIHdoaWNoIGFyZSBhcHBsaWVkIHRvIGV2ZXJ5IG1ldGhvZCBjYWxsIG1hZGVcbiAqIG92ZXIgYSBjaGFubmVsIGluaXRpYWxpemVkIHdpdGggYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAqL1xuY2xhc3MgQ2hhbm5lbENyZWRlbnRpYWxzIHtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgY29weSBvZiB0aGlzIG9iamVjdCB3aXRoIHRoZSBpbmNsdWRlZCBzZXQgb2YgcGVyLWNhbGwgY3JlZGVudGlhbHNcbiAgICAgKiBleHBhbmRlZCB0byBpbmNsdWRlIGNhbGxDcmVkZW50aWFscy5cbiAgICAgKiBAcGFyYW0gY2FsbENyZWRlbnRpYWxzIEEgQ2FsbENyZWRlbnRpYWxzIG9iamVjdCB0byBhc3NvY2lhdGUgd2l0aCB0aGlzXG4gICAgICogaW5zdGFuY2UuXG4gICAgICovXG4gICAgY29tcG9zZShjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NlZENoYW5uZWxDcmVkZW50aWFsc0ltcGwodGhpcywgY2FsbENyZWRlbnRpYWxzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgbmV3IENoYW5uZWxDcmVkZW50aWFscyBpbnN0YW5jZSB3aXRoIGEgZ2l2ZW4gc2V0IG9mIGNyZWRlbnRpYWxzLlxuICAgICAqIFRoZSByZXN1bHRpbmcgaW5zdGFuY2UgY2FuIGJlIHVzZWQgdG8gY29uc3RydWN0IGEgQ2hhbm5lbCB0aGF0IGNvbW11bmljYXRlc1xuICAgICAqIG92ZXIgVExTLlxuICAgICAqIEBwYXJhbSByb290Q2VydHMgVGhlIHJvb3QgY2VydGlmaWNhdGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gcHJpdmF0ZUtleSBUaGUgY2xpZW50IGNlcnRpZmljYXRlIHByaXZhdGUga2V5LCBpZiBhdmFpbGFibGUuXG4gICAgICogQHBhcmFtIGNlcnRDaGFpbiBUaGUgY2xpZW50IGNlcnRpZmljYXRlIGtleSBjaGFpbiwgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBwYXJhbSB2ZXJpZnlPcHRpb25zIEFkZGl0aW9uYWwgb3B0aW9ucyB0byBtb2RpZnkgY2VydGlmaWNhdGUgdmVyaWZpY2F0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVNzbChyb290Q2VydHMsIHByaXZhdGVLZXksIGNlcnRDaGFpbiwgdmVyaWZ5T3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZlcmlmeUlzQnVmZmVyT3JOdWxsKHJvb3RDZXJ0cywgJ1Jvb3QgY2VydGlmaWNhdGUnKTtcbiAgICAgICAgdmVyaWZ5SXNCdWZmZXJPck51bGwocHJpdmF0ZUtleSwgJ1ByaXZhdGUga2V5Jyk7XG4gICAgICAgIHZlcmlmeUlzQnVmZmVyT3JOdWxsKGNlcnRDaGFpbiwgJ0NlcnRpZmljYXRlIGNoYWluJyk7XG4gICAgICAgIGlmIChwcml2YXRlS2V5ICYmICFjZXJ0Q2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJpdmF0ZSBrZXkgbXVzdCBiZSBnaXZlbiB3aXRoIGFjY29tcGFueWluZyBjZXJ0aWZpY2F0ZSBjaGFpbicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJpdmF0ZUtleSAmJiBjZXJ0Q2hhaW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2VydGlmaWNhdGUgY2hhaW4gbXVzdCBiZSBnaXZlbiB3aXRoIGFjY29tcGFueWluZyBwcml2YXRlIGtleScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlY3VyZUNvbnRleHQgPSAoMCwgdGxzXzEuY3JlYXRlU2VjdXJlQ29udGV4dCkoe1xuICAgICAgICAgICAgY2E6IChfYSA9IHJvb3RDZXJ0cyAhPT0gbnVsbCAmJiByb290Q2VydHMgIT09IHZvaWQgMCA/IHJvb3RDZXJ0cyA6ICgwLCB0bHNfaGVscGVyc18xLmdldERlZmF1bHRSb290c0RhdGEpKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGtleTogcHJpdmF0ZUtleSAhPT0gbnVsbCAmJiBwcml2YXRlS2V5ICE9PSB2b2lkIDAgPyBwcml2YXRlS2V5IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2VydDogY2VydENoYWluICE9PSBudWxsICYmIGNlcnRDaGFpbiAhPT0gdm9pZCAwID8gY2VydENoYWluIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2lwaGVyczogdGxzX2hlbHBlcnNfMS5DSVBIRVJfU1VJVEVTLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsKHNlY3VyZUNvbnRleHQsIHZlcmlmeU9wdGlvbnMgIT09IG51bGwgJiYgdmVyaWZ5T3B0aW9ucyAhPT0gdm9pZCAwID8gdmVyaWZ5T3B0aW9ucyA6IHt9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgbmV3IENoYW5uZWxDcmVkZW50aWFscyBpbnN0YW5jZSB3aXRoIGNyZWRlbnRpYWxzIGNyZWF0ZWQgdXNpbmdcbiAgICAgKiB0aGUgcHJvdmlkZWQgc2VjdXJlQ29udGV4dC4gVGhlIHJlc3VsdGluZyBpbnN0YW5jZXMgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiBjb25zdHJ1Y3QgYSBDaGFubmVsIHRoYXQgY29tbXVuaWNhdGVzIG92ZXIgVExTLiBnUlBDIHdpbGwgbm90IG92ZXJyaWRlXG4gICAgICogYW55dGhpbmcgaW4gdGhlIHByb3ZpZGVkIHNlY3VyZUNvbnRleHQsIHNvIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAgICAgKiBHUlBDX1NTTF9DSVBIRVJfU1VJVEVTIGFuZCBHUlBDX0RFRkFVTFRfU1NMX1JPT1RTX0ZJTEVfUEFUSCB3aWxsXG4gICAgICogbm90IGJlIGFwcGxpZWQuXG4gICAgICogQHBhcmFtIHNlY3VyZUNvbnRleHQgVGhlIHJldHVybiB2YWx1ZSBvZiB0bHMuY3JlYXRlU2VjdXJlQ29udGV4dCgpXG4gICAgICogQHBhcmFtIHZlcmlmeU9wdGlvbnMgQWRkaXRpb25hbCBvcHRpb25zIHRvIG1vZGlmeSBjZXJ0aWZpY2F0ZSB2ZXJpZmljYXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlRnJvbVNlY3VyZUNvbnRleHQoc2VjdXJlQ29udGV4dCwgdmVyaWZ5T3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IFNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwoc2VjdXJlQ29udGV4dCwgdmVyaWZ5T3B0aW9ucyAhPT0gbnVsbCAmJiB2ZXJpZnlPcHRpb25zICE9PSB2b2lkIDAgPyB2ZXJpZnlPcHRpb25zIDoge30pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYSBuZXcgQ2hhbm5lbENyZWRlbnRpYWxzIGluc3RhbmNlIHdpdGggbm8gY3JlZGVudGlhbHMuXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUluc2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gbmV3IEluc2VjdXJlQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbENyZWRlbnRpYWxzID0gQ2hhbm5lbENyZWRlbnRpYWxzO1xuY2xhc3MgSW5zZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsIGV4dGVuZHMgQ2hhbm5lbENyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgY29tcG9zZShjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcG9zZSBpbnNlY3VyZSBjcmVkZW50aWFscycpO1xuICAgIH1cbiAgICBfaXNTZWN1cmUoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBJbnNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGw7XG4gICAgfVxuICAgIF9jcmVhdGVTZWN1cmVDb25uZWN0b3IoY2hhbm5lbFRhcmdldCwgb3B0aW9ucywgY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25uZWN0KHNvY2tldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQsXG4gICAgICAgICAgICAgICAgICAgIHNlY3VyZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3YWl0Rm9yUmVhZHk6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2FsbENyZWRlbnRpYWxzOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxDcmVkZW50aWFscyAhPT0gbnVsbCAmJiBjYWxsQ3JlZGVudGlhbHMgIT09IHZvaWQgMCA/IGNhbGxDcmVkZW50aWFscyA6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHkoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZXN0cm95KCkgeyB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q29ubmVjdGlvbk9wdGlvbnMoc2VjdXJlQ29udGV4dCwgdmVyaWZ5T3B0aW9ucywgY2hhbm5lbFRhcmdldCwgb3B0aW9ucykge1xuICAgIHZhciBfYSwgX2I7XG4gICAgY29uc3QgY29ubmVjdGlvbk9wdGlvbnMgPSB7XG4gICAgICAgIHNlY3VyZUNvbnRleHQ6IHNlY3VyZUNvbnRleHRcbiAgICB9O1xuICAgIGxldCByZWFsVGFyZ2V0ID0gY2hhbm5lbFRhcmdldDtcbiAgICBpZiAoJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCcgaW4gb3B0aW9ucykge1xuICAgICAgICBjb25zdCBwYXJzZWRUYXJnZXQgPSAoMCwgdXJpX3BhcnNlcl8xLnBhcnNlVXJpKShvcHRpb25zWydncnBjLmh0dHBfY29ubmVjdF90YXJnZXQnXSk7XG4gICAgICAgIGlmIChwYXJzZWRUYXJnZXQpIHtcbiAgICAgICAgICAgIHJlYWxUYXJnZXQgPSBwYXJzZWRUYXJnZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0UGF0aCA9ICgwLCByZXNvbHZlcl8xLmdldERlZmF1bHRBdXRob3JpdHkpKHJlYWxUYXJnZXQpO1xuICAgIGNvbnN0IGhvc3RQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KSh0YXJnZXRQYXRoKTtcbiAgICBjb25zdCByZW1vdGVIb3N0ID0gKF9hID0gaG9zdFBvcnQgPT09IG51bGwgfHwgaG9zdFBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGhvc3RQb3J0Lmhvc3QpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRhcmdldFBhdGg7XG4gICAgY29ubmVjdGlvbk9wdGlvbnMuaG9zdCA9IHJlbW90ZUhvc3Q7XG4gICAgaWYgKHZlcmlmeU9wdGlvbnMuY2hlY2tTZXJ2ZXJJZGVudGl0eSkge1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5ID0gdmVyaWZ5T3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5O1xuICAgIH1cbiAgICBpZiAodmVyaWZ5T3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQgPSB2ZXJpZnlPcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZDtcbiAgICB9XG4gICAgY29ubmVjdGlvbk9wdGlvbnMuQUxQTlByb3RvY29scyA9IFsnaDInXTtcbiAgICBpZiAob3B0aW9uc1snZ3JwYy5zc2xfdGFyZ2V0X25hbWVfb3ZlcnJpZGUnXSkge1xuICAgICAgICBjb25zdCBzc2xUYXJnZXROYW1lT3ZlcnJpZGUgPSBvcHRpb25zWydncnBjLnNzbF90YXJnZXRfbmFtZV9vdmVycmlkZSddO1xuICAgICAgICBjb25zdCBvcmlnaW5hbENoZWNrU2VydmVySWRlbnRpdHkgPSAoX2IgPSBjb25uZWN0aW9uT3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0bHNfMS5jaGVja1NlcnZlcklkZW50aXR5O1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5ID0gKGhvc3QsIGNlcnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbENoZWNrU2VydmVySWRlbnRpdHkoc3NsVGFyZ2V0TmFtZU92ZXJyaWRlLCBjZXJ0KTtcbiAgICAgICAgfTtcbiAgICAgICAgY29ubmVjdGlvbk9wdGlvbnMuc2VydmVybmFtZSA9IHNzbFRhcmdldE5hbWVPdmVycmlkZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbm5lY3Rpb25PcHRpb25zLnNlcnZlcm5hbWUgPSByZW1vdGVIb3N0O1xuICAgIH1cbiAgICBpZiAob3B0aW9uc1snZ3JwYy1ub2RlLnRsc19lbmFibGVfdHJhY2UnXSkge1xuICAgICAgICBjb25uZWN0aW9uT3B0aW9ucy5lbmFibGVUcmFjZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBjb25uZWN0aW9uT3B0aW9ucztcbn1cbmNsYXNzIFNlY3VyZUNvbm5lY3RvckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb25PcHRpb25zLCBjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uT3B0aW9ucyA9IGNvbm5lY3Rpb25PcHRpb25zO1xuICAgICAgICB0aGlzLmNhbGxDcmVkZW50aWFscyA9IGNhbGxDcmVkZW50aWFscztcbiAgICB9XG4gICAgY29ubmVjdChzb2NrZXQpIHtcbiAgICAgICAgY29uc3QgdGxzQ29ubmVjdE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgc29ja2V0OiBzb2NrZXQgfSwgdGhpcy5jb25uZWN0aW9uT3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0bHNTb2NrZXQgPSAoMCwgdGxzXzEuY29ubmVjdCkodGxzQ29ubmVjdE9wdGlvbnMsICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLmNvbm5lY3Rpb25PcHRpb25zLnJlamVjdFVuYXV0aG9yaXplZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZSkgJiYgIXRsc1NvY2tldC5hdXRob3JpemVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh0bHNTb2NrZXQuYXV0aG9yaXphdGlvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0OiB0bHNTb2NrZXQsXG4gICAgICAgICAgICAgICAgICAgIHNlY3VyZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0bHNTb2NrZXQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgd2FpdEZvclJlYWR5KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldENhbGxDcmVkZW50aWFscygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbENyZWRlbnRpYWxzO1xuICAgIH1cbiAgICBkZXN0cm95KCkgeyB9XG59XG5jbGFzcyBTZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsIGV4dGVuZHMgQ2hhbm5lbENyZWRlbnRpYWxzIHtcbiAgICBjb25zdHJ1Y3RvcihzZWN1cmVDb250ZXh0LCB2ZXJpZnlPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2VjdXJlQ29udGV4dCA9IHNlY3VyZUNvbnRleHQ7XG4gICAgICAgIHRoaXMudmVyaWZ5T3B0aW9ucyA9IHZlcmlmeU9wdGlvbnM7XG4gICAgfVxuICAgIF9pc1NlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIF9lcXVhbHMob3RoZXIpIHtcbiAgICAgICAgaWYgKHRoaXMgPT09IG90aGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXIgaW5zdGFuY2VvZiBTZWN1cmVDaGFubmVsQ3JlZGVudGlhbHNJbXBsKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuc2VjdXJlQ29udGV4dCA9PT0gb3RoZXIuc2VjdXJlQ29udGV4dCAmJlxuICAgICAgICAgICAgICAgIHRoaXMudmVyaWZ5T3B0aW9ucy5jaGVja1NlcnZlcklkZW50aXR5ID09PVxuICAgICAgICAgICAgICAgICAgICBvdGhlci52ZXJpZnlPcHRpb25zLmNoZWNrU2VydmVySWRlbnRpdHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9jcmVhdGVTZWN1cmVDb25uZWN0b3IoY2hhbm5lbFRhcmdldCwgb3B0aW9ucywgY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IGNvbm5lY3Rpb25PcHRpb25zID0gZ2V0Q29ubmVjdGlvbk9wdGlvbnModGhpcy5zZWN1cmVDb250ZXh0LCB0aGlzLnZlcmlmeU9wdGlvbnMsIGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gbmV3IFNlY3VyZUNvbm5lY3RvckltcGwoY29ubmVjdGlvbk9wdGlvbnMsIGNhbGxDcmVkZW50aWFscyAhPT0gbnVsbCAmJiBjYWxsQ3JlZGVudGlhbHMgIT09IHZvaWQgMCA/IGNhbGxDcmVkZW50aWFscyA6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHkoKSk7XG4gICAgfVxufVxuY2xhc3MgQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFsc0ltcGwgZXh0ZW5kcyBDaGFubmVsQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKGNhQ2VydGlmaWNhdGVQcm92aWRlciwgaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLCB2ZXJpZnlPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciA9IGlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlcjtcbiAgICAgICAgdGhpcy52ZXJpZnlPcHRpb25zID0gdmVyaWZ5T3B0aW9ucztcbiAgICAgICAgdGhpcy5yZWZjb3VudCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdW5kZWZpbmVkYCBtZWFucyB0aGF0IHRoZSBjZXJ0aWZpY2F0ZXMgaGF2ZSBub3QgeWV0IGJlZW4gbG9hZGVkLiBgbnVsbGBcbiAgICAgICAgICogbWVhbnMgdGhhdCBhbiBhdHRlbXB0IHRvIGxvYWQgdGhlbSBoYXMgY29tcGxldGVkLCBhbmQgaGFzIGZhaWxlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBgdW5kZWZpbmVkYCBtZWFucyB0aGF0IHRoZSBjZXJ0aWZpY2F0ZXMgaGF2ZSBub3QgeWV0IGJlZW4gbG9hZGVkLiBgbnVsbGBcbiAgICAgICAgICogbWVhbnMgdGhhdCBhbiBhdHRlbXB0IHRvIGxvYWQgdGhlbSBoYXMgY29tcGxldGVkLCBhbmQgaGFzIGZhaWxlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyID0gdGhpcy5oYW5kbGVDYUNlcnRpZmljYXRlVXBkYXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyID0gdGhpcy5oYW5kbGVJZGVudGl0eUNlcnRpdGlmaWNhdGVVcGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zZWN1cmVDb250ZXh0V2F0Y2hlcnMgPSBbXTtcbiAgICB9XG4gICAgX2lzU2VjdXJlKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciBpbnN0YW5jZW9mIENlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNJbXBsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIgPT09IG90aGVyLmNhQ2VydGlmaWNhdGVQcm92aWRlciAmJlxuICAgICAgICAgICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyID09PSBvdGhlci5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIgJiZcbiAgICAgICAgICAgICAgICAoKF9hID0gdGhpcy52ZXJpZnlPcHRpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2hlY2tTZXJ2ZXJJZGVudGl0eSkgPT09ICgoX2IgPSBvdGhlci52ZXJpZnlPcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2hlY2tTZXJ2ZXJJZGVudGl0eSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVmKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLnJlZmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNhQ2VydGlmaWNhdGVQcm92aWRlci5hZGRDYUNlcnRpZmljYXRlTGlzdGVuZXIodGhpcy5jYUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRJZGVudGl0eUNlcnRpZmljYXRlTGlzdGVuZXIodGhpcy5pZGVudGl0eUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVmY291bnQgKz0gMTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5yZWZjb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5yZWZjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIucmVtb3ZlQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlSWRlbnRpdHlDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY3JlYXRlU2VjdXJlQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLnJlZigpO1xuICAgICAgICByZXR1cm4gbmV3IENlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHNJbXBsLlNlY3VyZUNvbm5lY3RvckltcGwodGhpcywgY2hhbm5lbFRhcmdldCwgb3B0aW9ucywgY2FsbENyZWRlbnRpYWxzICE9PSBudWxsICYmIGNhbGxDcmVkZW50aWFscyAhPT0gdm9pZCAwID8gY2FsbENyZWRlbnRpYWxzIDogY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVFbXB0eSgpKTtcbiAgICB9XG4gICAgbWF5YmVVcGRhdGVXYXRjaGVycygpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUmVjZWl2ZWRVcGRhdGVzKCkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgd2F0Y2hlciBvZiB0aGlzLnNlY3VyZUNvbnRleHRXYXRjaGVycykge1xuICAgICAgICAgICAgICAgIHdhdGNoZXIodGhpcy5nZXRMYXRlc3RTZWN1cmVDb250ZXh0KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWN1cmVDb250ZXh0V2F0Y2hlcnMgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVDYUNlcnRpZmljYXRlVXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLmxhdGVzdENhVXBkYXRlID0gdXBkYXRlO1xuICAgICAgICB0aGlzLm1heWJlVXBkYXRlV2F0Y2hlcnMoKTtcbiAgICB9XG4gICAgaGFuZGxlSWRlbnRpdHlDZXJ0aXRpZmljYXRlVXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gdXBkYXRlO1xuICAgICAgICB0aGlzLm1heWJlVXBkYXRlV2F0Y2hlcnMoKTtcbiAgICB9XG4gICAgaGFzUmVjZWl2ZWRVcGRhdGVzKCkge1xuICAgICAgICBpZiAodGhpcy5sYXRlc3RDYVVwZGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyICYmIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXRTZWN1cmVDb250ZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5oYXNSZWNlaXZlZFVwZGF0ZXMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmdldExhdGVzdFNlY3VyZUNvbnRleHQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWN1cmVDb250ZXh0V2F0Y2hlcnMucHVzaChyZXNvbHZlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldExhdGVzdFNlY3VyZUNvbnRleHQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghdGhpcy5sYXRlc3RDYVVwZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyICE9PSBudWxsICYmICF0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCB0bHNfMS5jcmVhdGVTZWN1cmVDb250ZXh0KSh7XG4gICAgICAgICAgICAgICAgY2E6IHRoaXMubGF0ZXN0Q2FVcGRhdGUuY2FDZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgICAgICBrZXk6IChfYSA9IHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcml2YXRlS2V5LFxuICAgICAgICAgICAgICAgIGNlcnQ6IChfYiA9IHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgICAgICBjaXBoZXJzOiB0bHNfaGVscGVyc18xLkNJUEhFUl9TVUlURVNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmxvZykoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCAnRmFpbGVkIHRvIGNyZWF0ZVNlY3VyZUNvbnRleHQgd2l0aCBlcnJvciAnICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFsc0ltcGwuU2VjdXJlQ29ubmVjdG9ySW1wbCA9IGNsYXNzIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNhbGxDcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5jaGFubmVsVGFyZ2V0ID0gY2hhbm5lbFRhcmdldDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jYWxsQ3JlZGVudGlhbHMgPSBjYWxsQ3JlZGVudGlhbHM7XG4gICAgfVxuICAgIGNvbm5lY3Qoc29ja2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWN1cmVDb250ZXh0ID0gdGhpcy5wYXJlbnQuZ2V0TGF0ZXN0U2VjdXJlQ29udGV4dCgpO1xuICAgICAgICAgICAgaWYgKCFzZWN1cmVDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgY3JlZGVudGlhbHMnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvY2tldC5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdTb2NrZXQgY2xvc2VkIHdoaWxlIGxvYWRpbmcgY3JlZGVudGlhbHMnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb25ubmVjdGlvbk9wdGlvbnMgPSBnZXRDb25uZWN0aW9uT3B0aW9ucyhzZWN1cmVDb250ZXh0LCB0aGlzLnBhcmVudC52ZXJpZnlPcHRpb25zLCB0aGlzLmNoYW5uZWxUYXJnZXQsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCB0bHNDb25uZWN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oeyBzb2NrZXQ6IHNvY2tldCB9LCBjb25ubmVjdGlvbk9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgY2xvc2VDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdTb2NrZXQgY2xvc2VkJykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ2FsbGJhY2sgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHRsc1NvY2tldCA9ICgwLCB0bHNfMS5jb25uZWN0KSh0bHNDb25uZWN0T3B0aW9ucywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0bHNTb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgdGxzU29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5wYXJlbnQudmVyaWZ5T3B0aW9ucy5yZWplY3RVbmF1dGhvcml6ZWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWUpICYmICF0bHNTb2NrZXQuYXV0aG9yaXplZCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QodGxzU29ja2V0LmF1dGhvcml6YXRpb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldDogdGxzU29ja2V0LFxuICAgICAgICAgICAgICAgICAgICBzZWN1cmU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGxzU29ja2V0Lm9uY2UoJ2Nsb3NlJywgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICB0bHNTb2NrZXQub25jZSgnZXJyb3InLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHdhaXRGb3JSZWFkeSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5wYXJlbnQuZ2V0U2VjdXJlQ29udGV4dCgpO1xuICAgIH1cbiAgICBnZXRDYWxsQ3JlZGVudGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxDcmVkZW50aWFscztcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudW5yZWYoKTtcbiAgICB9XG59O1xuZnVuY3Rpb24gY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFscyhjYUNlcnRpZmljYXRlUHJvdmlkZXIsIGlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciwgdmVyaWZ5T3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFsc0ltcGwoY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyLCBpZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIsIHZlcmlmeU9wdGlvbnMgIT09IG51bGwgJiYgdmVyaWZ5T3B0aW9ucyAhPT0gdm9pZCAwID8gdmVyaWZ5T3B0aW9ucyA6IHt9KTtcbn1cbmNsYXNzIENvbXBvc2VkQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCBleHRlbmRzIENoYW5uZWxDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbENyZWRlbnRpYWxzLCBjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ3JlZGVudGlhbHMgPSBjaGFubmVsQ3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMuY2FsbENyZWRlbnRpYWxzID0gY2FsbENyZWRlbnRpYWxzO1xuICAgICAgICBpZiAoIWNoYW5uZWxDcmVkZW50aWFscy5faXNTZWN1cmUoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY29tcG9zZSBpbnNlY3VyZSBjcmVkZW50aWFscycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBvc2UoY2FsbENyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzID0gdGhpcy5jYWxsQ3JlZGVudGlhbHMuY29tcG9zZShjYWxsQ3JlZGVudGlhbHMpO1xuICAgICAgICByZXR1cm4gbmV3IENvbXBvc2VkQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCh0aGlzLmNoYW5uZWxDcmVkZW50aWFscywgY29tYmluZWRDYWxsQ3JlZGVudGlhbHMpO1xuICAgIH1cbiAgICBfaXNTZWN1cmUoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQ29tcG9zZWRDaGFubmVsQ3JlZGVudGlhbHNJbXBsKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuY2hhbm5lbENyZWRlbnRpYWxzLl9lcXVhbHMob3RoZXIuY2hhbm5lbENyZWRlbnRpYWxzKSAmJlxuICAgICAgICAgICAgICAgIHRoaXMuY2FsbENyZWRlbnRpYWxzLl9lcXVhbHMob3RoZXIuY2FsbENyZWRlbnRpYWxzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NyZWF0ZVNlY3VyZUNvbm5lY3RvcihjaGFubmVsVGFyZ2V0LCBvcHRpb25zLCBjYWxsQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgY29uc3QgY29tYmluZWRDYWxsQ3JlZGVudGlhbHMgPSB0aGlzLmNhbGxDcmVkZW50aWFscy5jb21wb3NlKGNhbGxDcmVkZW50aWFscyAhPT0gbnVsbCAmJiBjYWxsQ3JlZGVudGlhbHMgIT09IHZvaWQgMCA/IGNhbGxDcmVkZW50aWFscyA6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHkoKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5uZWxDcmVkZW50aWFscy5fY3JlYXRlU2VjdXJlQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXQsIG9wdGlvbnMsIGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGFubmVsLWNyZWRlbnRpYWxzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIgPSBjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyO1xuZXhwb3J0cy5yZWdpc3RlckxvYWRCYWxhbmNlclR5cGUgPSByZWdpc3RlckxvYWRCYWxhbmNlclR5cGU7XG5leHBvcnRzLnJlZ2lzdGVyRGVmYXVsdExvYWRCYWxhbmNlclR5cGUgPSByZWdpc3RlckRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlO1xuZXhwb3J0cy5jcmVhdGVMb2FkQmFsYW5jZXIgPSBjcmVhdGVMb2FkQmFsYW5jZXI7XG5leHBvcnRzLmlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQgPSBpc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkO1xuZXhwb3J0cy5wYXJzZUxvYWRCYWxhbmNpbmdDb25maWcgPSBwYXJzZUxvYWRCYWxhbmNpbmdDb25maWc7XG5leHBvcnRzLmdldERlZmF1bHRDb25maWcgPSBnZXREZWZhdWx0Q29uZmlnO1xuZXhwb3J0cy5zZWxlY3RMYkNvbmZpZ0Zyb21MaXN0ID0gc2VsZWN0TGJDb25maWdGcm9tTGlzdDtcbmNvbnN0IGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8qKlxuICogQ3JlYXRlIGEgY2hpbGQgQ2hhbm5lbENvbnRyb2xIZWxwZXIgdGhhdCBvdmVycmlkZXMgc29tZSBtZXRob2RzIG9mIHRoZVxuICogcGFyZW50IHdoaWxlIGxldHRpbmcgb3RoZXJzIHBhc3MgdGhyb3VnaCB0byB0aGUgcGFyZW50IHVubW9kaWZpZWQuIFRoaXNcbiAqIGFsbG93cyBvdGhlciBjb2RlIHRvIGNyZWF0ZSB0aGVzZSBjaGlsZHJlbiB3aXRob3V0IG5lZWRpbmcgdG8ga25vdyBhYm91dFxuICogYWxsIG9mIHRoZSBtZXRob2RzIHRvIGJlIHBhc3NlZCB0aHJvdWdoLlxuICogQHBhcmFtIHBhcmVudFxuICogQHBhcmFtIG92ZXJyaWRlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyKHBhcmVudCwgb3ZlcnJpZGVzKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IChfYiA9IChfYSA9IG92ZXJyaWRlcy5jcmVhdGVTdWJjaGFubmVsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBwYXJlbnQuY3JlYXRlU3ViY2hhbm5lbC5iaW5kKHBhcmVudCksXG4gICAgICAgIHVwZGF0ZVN0YXRlOiAoX2QgPSAoX2MgPSBvdmVycmlkZXMudXBkYXRlU3RhdGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5iaW5kKG92ZXJyaWRlcykpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHBhcmVudC51cGRhdGVTdGF0ZS5iaW5kKHBhcmVudCksXG4gICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb246IChfZiA9IChfZSA9IG92ZXJyaWRlcy5yZXF1ZXN0UmVyZXNvbHV0aW9uKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBwYXJlbnQucmVxdWVzdFJlcmVzb2x1dGlvbi5iaW5kKHBhcmVudCksXG4gICAgICAgIGFkZENoYW5uZWx6Q2hpbGQ6IChfaCA9IChfZyA9IG92ZXJyaWRlcy5hZGRDaGFubmVsekNoaWxkKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiBwYXJlbnQuYWRkQ2hhbm5lbHpDaGlsZC5iaW5kKHBhcmVudCksXG4gICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQ6IChfayA9IChfaiA9IG92ZXJyaWRlcy5yZW1vdmVDaGFubmVsekNoaWxkKSA9PT0gbnVsbCB8fCBfaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2ouYmluZChvdmVycmlkZXMpKSAhPT0gbnVsbCAmJiBfayAhPT0gdm9pZCAwID8gX2sgOiBwYXJlbnQucmVtb3ZlQ2hhbm5lbHpDaGlsZC5iaW5kKHBhcmVudCksXG4gICAgfTtcbn1cbmNvbnN0IHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlcyA9IHt9O1xubGV0IGRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlID0gbnVsbDtcbmZ1bmN0aW9uIHJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSh0eXBlTmFtZSwgbG9hZEJhbGFuY2VyVHlwZSwgbG9hZEJhbGFuY2luZ0NvbmZpZ1R5cGUpIHtcbiAgICByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbdHlwZU5hbWVdID0ge1xuICAgICAgICBMb2FkQmFsYW5jZXI6IGxvYWRCYWxhbmNlclR5cGUsXG4gICAgICAgIExvYWRCYWxhbmNpbmdDb25maWc6IGxvYWRCYWxhbmNpbmdDb25maWdUeXBlLFxuICAgIH07XG59XG5mdW5jdGlvbiByZWdpc3RlckRlZmF1bHRMb2FkQmFsYW5jZXJUeXBlKHR5cGVOYW1lKSB7XG4gICAgZGVmYXVsdExvYWRCYWxhbmNlclR5cGUgPSB0eXBlTmFtZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvYWRCYWxhbmNlcihjb25maWcsIGNoYW5uZWxDb250cm9sSGVscGVyKSB7XG4gICAgY29uc3QgdHlwZU5hbWUgPSBjb25maWcuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpO1xuICAgIGlmICh0eXBlTmFtZSBpbiByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbdHlwZU5hbWVdLkxvYWRCYWxhbmNlcihjaGFubmVsQ29udHJvbEhlbHBlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkKHR5cGVOYW1lKSB7XG4gICAgcmV0dXJuIHR5cGVOYW1lIGluIHJlZ2lzdGVyZWRMb2FkQmFsYW5jZXJUeXBlcztcbn1cbmZ1bmN0aW9uIHBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZyhyYXdDb25maWcpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocmF3Q29uZmlnKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBsb2FkIGJhbGFuY2luZyBjb25maWcgaGFzIG11bHRpcGxlIGNvbmZsaWN0aW5nIGVudHJpZXMnKTtcbiAgICB9XG4gICAgY29uc3QgdHlwZU5hbWUgPSBrZXlzWzBdO1xuICAgIGlmICh0eXBlTmFtZSBpbiByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbdHlwZU5hbWVdLkxvYWRCYWxhbmNpbmdDb25maWcuY3JlYXRlRnJvbUpzb24ocmF3Q29uZmlnW3R5cGVOYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHt0eXBlTmFtZX06ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBsb2FkIGJhbGFuY2luZyBjb25maWcgbmFtZSAke3R5cGVOYW1lfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRDb25maWcoKSB7XG4gICAgaWYgKCFkZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGRlZmF1bHQgbG9hZCBiYWxhbmNlciB0eXBlIHJlZ2lzdGVyZWQnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyByZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXNbZGVmYXVsdExvYWRCYWxhbmNlclR5cGVdLkxvYWRCYWxhbmNpbmdDb25maWcoKTtcbn1cbmZ1bmN0aW9uIHNlbGVjdExiQ29uZmlnRnJvbUxpc3QoY29uZmlncywgZmFsbGJhY2tUb2RlZmF1bHQgPSBmYWxzZSkge1xuICAgIGZvciAoY29uc3QgY29uZmlnIG9mIGNvbmZpZ3MpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUxvYWRCYWxhbmNpbmdDb25maWcoY29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgJ0NvbmZpZyBwYXJzaW5nIGZhaWxlZCB3aXRoIGVycm9yJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChmYWxsYmFja1RvZGVmYXVsdCkge1xuICAgICAgICBpZiAoZGVmYXVsdExvYWRCYWxhbmNlclR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgcmVnaXN0ZXJlZExvYWRCYWxhbmNlclR5cGVzW2RlZmF1bHRMb2FkQmFsYW5jZXJUeXBlXS5Mb2FkQmFsYW5jaW5nQ29uZmlnKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZC1iYWxhbmNlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52YWxpZGF0ZVJldHJ5VGhyb3R0bGluZyA9IHZhbGlkYXRlUmV0cnlUaHJvdHRsaW5nO1xuZXhwb3J0cy52YWxpZGF0ZVNlcnZpY2VDb25maWcgPSB2YWxpZGF0ZVNlcnZpY2VDb25maWc7XG5leHBvcnRzLmV4dHJhY3RBbmRTZWxlY3RTZXJ2aWNlQ29uZmlnID0gZXh0cmFjdEFuZFNlbGVjdFNlcnZpY2VDb25maWc7XG4vKiBUaGlzIGZpbGUgaW1wbGVtZW50cyBnUkZDIEEyIGFuZCB0aGUgc2VydmljZSBjb25maWcgc3BlYzpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL3Byb3Bvc2FsL2Jsb2IvbWFzdGVyL0EyLXNlcnZpY2UtY29uZmlncy1pbi1kbnMubWRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ncnBjL2dycGMvYmxvYi9tYXN0ZXIvZG9jL3NlcnZpY2VfY29uZmlnLm1kLiBFYWNoXG4gKiBmdW5jdGlvbiBoZXJlIHRha2VzIGFuIG9iamVjdCB3aXRoIHVua25vd24gc3RydWN0dXJlIGFuZCByZXR1cm5zIGl0c1xuICogc3BlY2lmaWMgb2JqZWN0IHR5cGUgaWYgdGhlIGlucHV0IGhhcyB0aGUgcmlnaHQgc3RydWN0dXJlLCBhbmQgdGhyb3dzIGFuXG4gKiBlcnJvciBvdGhlcndpc2UuICovXG4vKiBUaGUgYW55IHR5cGUgaXMgcHVycG9zZWx5IHVzZWQgaGVyZS4gQWxsIGZ1bmN0aW9ucyB2YWxpZGF0ZSB0aGVpciBpbnB1dCBhdFxuICogcnVudGltZSAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuY29uc3Qgb3MgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8qKlxuICogUmVjb2duaXplcyBhIG51bWJlciB3aXRoIHVwIHRvIDkgZGlnaXRzIGFmdGVyIHRoZSBkZWNpbWFsIHBvaW50LCBmb2xsb3dlZCBieVxuICogYW4gXCJzXCIsIHJlcHJlc2VudGluZyBhIG51bWJlciBvZiBzZWNvbmRzLlxuICovXG5jb25zdCBEVVJBVElPTl9SRUdFWCA9IC9eXFxkKyhcXC5cXGR7MSw5fSk/cyQvO1xuLyoqXG4gKiBDbGllbnQgbGFuZ3VhZ2UgbmFtZSB1c2VkIGZvciBkZXRlcm1pbmluZyB3aGV0aGVyIHRoaXMgY2xpZW50IG1hdGNoZXMgYVxuICogYFNlcnZpY2VDb25maWdDYW5hcnlDb25maWdgJ3MgYGNsaWVudExhbmd1YWdlYCBsaXN0LlxuICovXG5jb25zdCBDTElFTlRfTEFOR1VBR0VfU1RSSU5HID0gJ25vZGUnO1xuZnVuY3Rpb24gdmFsaWRhdGVOYW1lKG9iaikge1xuICAgIC8vIEluIHRoaXMgY29udGV4dCwgYW5kIHVuc2V0IGZpZWxkIGFuZCAnJyBhcmUgY29uc2lkZXJlZCB0aGUgc2FtZVxuICAgIGlmICgnc2VydmljZScgaW4gb2JqICYmIG9iai5zZXJ2aWNlICE9PSAnJykge1xuICAgICAgICBpZiAodHlwZW9mIG9iai5zZXJ2aWNlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1ldGhvZCBjb25maWcgbmFtZTogaW52YWxpZCBzZXJ2aWNlOiBleHBlY3RlZCB0eXBlIHN0cmluZywgZ290ICR7dHlwZW9mIG9iai5zZXJ2aWNlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnbWV0aG9kJyBpbiBvYmogJiYgb2JqLm1ldGhvZCAhPT0gJycpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqLm1ldGhvZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWV0aG9kIGNvbmZpZyBuYW1lOiBpbnZhbGlkIG1ldGhvZDogZXhwZWN0ZWQgdHlwZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvYmouc2VydmljZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogb2JqLnNlcnZpY2UsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBvYmoubWV0aG9kLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2VydmljZTogb2JqLnNlcnZpY2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoJ21ldGhvZCcgaW4gb2JqICYmIG9iai5tZXRob2QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1ldGhvZCBjb25maWcgbmFtZTogbWV0aG9kIHNldCB3aXRoIGVtcHR5IG9yIHVuc2V0IHNlcnZpY2VgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVSZXRyeVBvbGljeShvYmopIHtcbiAgICBpZiAoISgnbWF4QXR0ZW1wdHMnIGluIG9iaikgfHxcbiAgICAgICAgIU51bWJlci5pc0ludGVnZXIob2JqLm1heEF0dGVtcHRzKSB8fFxuICAgICAgICBvYmoubWF4QXR0ZW1wdHMgPCAyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogbWF4QXR0ZW1wdHMgbXVzdCBiZSBhbiBpbnRlZ2VyIGF0IGxlYXN0IDInKTtcbiAgICB9XG4gICAgaWYgKCEoJ2luaXRpYWxCYWNrb2ZmJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmouaW5pdGlhbEJhY2tvZmYgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICFEVVJBVElPTl9SRUdFWC50ZXN0KG9iai5pbml0aWFsQmFja29mZikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiBpbml0aWFsQmFja29mZiBtdXN0IGJlIGEgc3RyaW5nIGNvbnNpc3Rpbmcgb2YgYSBwb3NpdGl2ZSBpbnRlZ2VyIG9yIGRlY2ltYWwgZm9sbG93ZWQgYnkgcycpO1xuICAgIH1cbiAgICBpZiAoISgnbWF4QmFja29mZicgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLm1heEJhY2tvZmYgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICFEVVJBVElPTl9SRUdFWC50ZXN0KG9iai5tYXhCYWNrb2ZmKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyByZXRyeSBwb2xpY3k6IG1heEJhY2tvZmYgbXVzdCBiZSBhIHN0cmluZyBjb25zaXN0aW5nIG9mIGEgcG9zaXRpdmUgaW50ZWdlciBvciBkZWNpbWFsIGZvbGxvd2VkIGJ5IHMnKTtcbiAgICB9XG4gICAgaWYgKCEoJ2JhY2tvZmZNdWx0aXBsaWVyJyBpbiBvYmopIHx8XG4gICAgICAgIHR5cGVvZiBvYmouYmFja29mZk11bHRpcGxpZXIgIT09ICdudW1iZXInIHx8XG4gICAgICAgIG9iai5iYWNrb2ZmTXVsdGlwbGllciA8PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogYmFja29mZk11bHRpcGxpZXIgbXVzdCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMCcpO1xuICAgIH1cbiAgICBpZiAoISgncmV0cnlhYmxlU3RhdHVzQ29kZXMnIGluIG9iaiAmJiBBcnJheS5pc0FycmF5KG9iai5yZXRyeWFibGVTdGF0dXNDb2RlcykpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogcmV0cnlhYmxlU3RhdHVzQ29kZXMgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG4gICAgaWYgKG9iai5yZXRyeWFibGVTdGF0dXNDb2Rlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyBtdXN0IGJlIG5vbi1lbXB0eScpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIG9iai5yZXRyeWFibGVTdGF0dXNDb2Rlcykge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKGNvbnN0YW50c18xLlN0YXR1cykuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyB2YWx1ZSBub3QgaW4gc3RhdHVzIGNvZGUgcmFuZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoY29uc3RhbnRzXzEuU3RhdHVzKS5pbmNsdWRlcyh2YWx1ZS50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIHJldHJ5IHBvbGljeTogcmV0cnlhYmxlU3RhdHVzQ29kZXMgdmFsdWUgbm90IGEgc3RhdHVzIGNvZGUgbmFtZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgcmV0cnkgcG9saWN5OiByZXRyeWFibGVTdGF0dXNDb2RlcyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlcicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1heEF0dGVtcHRzOiBvYmoubWF4QXR0ZW1wdHMsXG4gICAgICAgIGluaXRpYWxCYWNrb2ZmOiBvYmouaW5pdGlhbEJhY2tvZmYsXG4gICAgICAgIG1heEJhY2tvZmY6IG9iai5tYXhCYWNrb2ZmLFxuICAgICAgICBiYWNrb2ZmTXVsdGlwbGllcjogb2JqLmJhY2tvZmZNdWx0aXBsaWVyLFxuICAgICAgICByZXRyeWFibGVTdGF0dXNDb2Rlczogb2JqLnJldHJ5YWJsZVN0YXR1c0NvZGVzLFxuICAgIH07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUhlZGdpbmdQb2xpY3kob2JqKSB7XG4gICAgaWYgKCEoJ21heEF0dGVtcHRzJyBpbiBvYmopIHx8XG4gICAgICAgICFOdW1iZXIuaXNJbnRlZ2VyKG9iai5tYXhBdHRlbXB0cykgfHxcbiAgICAgICAgb2JqLm1heEF0dGVtcHRzIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbWF4QXR0ZW1wdHMgbXVzdCBiZSBhbiBpbnRlZ2VyIGF0IGxlYXN0IDInKTtcbiAgICB9XG4gICAgaWYgKCdoZWRnaW5nRGVsYXknIGluIG9iaiAmJlxuICAgICAgICAodHlwZW9mIG9iai5oZWRnaW5nRGVsYXkgIT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAhRFVSQVRJT05fUkVHRVgudGVzdChvYmouaGVkZ2luZ0RlbGF5KSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgaGVkZ2luZyBwb2xpY3k6IGhlZGdpbmdEZWxheSBtdXN0IGJlIGEgc3RyaW5nIGNvbnNpc3Rpbmcgb2YgYSBwb3NpdGl2ZSBpbnRlZ2VyIGZvbGxvd2VkIGJ5IHMnKTtcbiAgICB9XG4gICAgaWYgKCdub25GYXRhbFN0YXR1c0NvZGVzJyBpbiBvYmogJiYgQXJyYXkuaXNBcnJheShvYmoubm9uRmF0YWxTdGF0dXNDb2RlcykpIHtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBvYmoubm9uRmF0YWxTdGF0dXNDb2Rlcykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoY29uc3RhbnRzXzEuU3RhdHVzKS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWcgaGVkZ2luZyBwb2xpY3k6IG5vbkZhdGFsU3RhdHVzQ29kZXMgdmFsdWUgbm90IGluIHN0YXR1cyBjb2RlIHJhbmdlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGlmICghT2JqZWN0LnZhbHVlcyhjb25zdGFudHNfMS5TdGF0dXMpLmluY2x1ZGVzKHZhbHVlLnRvVXBwZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnIGhlZGdpbmcgcG9saWN5OiBub25GYXRhbFN0YXR1c0NvZGVzIHZhbHVlIG5vdCBhIHN0YXR1cyBjb2RlIG5hbWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZyBoZWRnaW5nIHBvbGljeTogbm9uRmF0YWxTdGF0dXNDb2RlcyB2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIG9yIG51bWJlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgbWF4QXR0ZW1wdHM6IG9iai5tYXhBdHRlbXB0cyxcbiAgICB9O1xuICAgIGlmIChvYmouaGVkZ2luZ0RlbGF5KSB7XG4gICAgICAgIHJlc3VsdC5oZWRnaW5nRGVsYXkgPSBvYmouaGVkZ2luZ0RlbGF5O1xuICAgIH1cbiAgICBpZiAob2JqLm5vbkZhdGFsU3RhdHVzQ29kZXMpIHtcbiAgICAgICAgcmVzdWx0Lm5vbkZhdGFsU3RhdHVzQ29kZXMgPSBvYmoubm9uRmF0YWxTdGF0dXNDb2RlcztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTWV0aG9kQ29uZmlnKG9iaikge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIG5hbWU6IFtdLFxuICAgIH07XG4gICAgaWYgKCEoJ25hbWUnIGluIG9iaikgfHwgIUFycmF5LmlzQXJyYXkob2JqLm5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIG5hbWUgYXJyYXknKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBuYW1lIG9mIG9iai5uYW1lKSB7XG4gICAgICAgIHJlc3VsdC5uYW1lLnB1c2godmFsaWRhdGVOYW1lKG5hbWUpKTtcbiAgICB9XG4gICAgaWYgKCd3YWl0Rm9yUmVhZHknIGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iai53YWl0Rm9yUmVhZHkgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IGludmFsaWQgd2FpdEZvclJlYWR5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0LndhaXRGb3JSZWFkeSA9IG9iai53YWl0Rm9yUmVhZHk7XG4gICAgfVxuICAgIGlmICgndGltZW91dCcgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLnRpbWVvdXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoISgnc2Vjb25kcycgaW4gb2JqLnRpbWVvdXQpIHx8XG4gICAgICAgICAgICAgICAgISh0eXBlb2Ygb2JqLnRpbWVvdXQuc2Vjb25kcyA9PT0gJ251bWJlcicpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IGludmFsaWQgdGltZW91dC5zZWNvbmRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoISgnbmFub3MnIGluIG9iai50aW1lb3V0KSB8fFxuICAgICAgICAgICAgICAgICEodHlwZW9mIG9iai50aW1lb3V0Lm5hbm9zID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCB0aW1lb3V0Lm5hbm9zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXN1bHQudGltZW91dCA9IG9iai50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmoudGltZW91dCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIERVUkFUSU9OX1JFR0VYLnRlc3Qob2JqLnRpbWVvdXQpKSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lb3V0UGFydHMgPSBvYmoudGltZW91dFxuICAgICAgICAgICAgICAgIC5zdWJzdHJpbmcoMCwgb2JqLnRpbWVvdXQubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgICAgICAuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIHJlc3VsdC50aW1lb3V0ID0ge1xuICAgICAgICAgICAgICAgIHNlY29uZHM6IHRpbWVvdXRQYXJ0c1swXSB8IDAsXG4gICAgICAgICAgICAgICAgbmFub3M6ICgoX2EgPSB0aW1lb3V0UGFydHNbMV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDApIHwgMCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCB0aW1lb3V0Jyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdtYXhSZXF1ZXN0Qnl0ZXMnIGluIG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iai5tYXhSZXF1ZXN0Qnl0ZXMgIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbWV0aG9kIGNvbmZpZzogaW52YWxpZCBtYXhSZXF1ZXN0Qnl0ZXMnKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQubWF4UmVxdWVzdEJ5dGVzID0gb2JqLm1heFJlcXVlc3RCeXRlcztcbiAgICB9XG4gICAgaWYgKCdtYXhSZXNwb25zZUJ5dGVzJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvYmoubWF4UmVzcG9uc2VCeXRlcyAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBtZXRob2QgY29uZmlnOiBpbnZhbGlkIG1heFJlcXVlc3RCeXRlcycpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5tYXhSZXNwb25zZUJ5dGVzID0gb2JqLm1heFJlc3BvbnNlQnl0ZXM7XG4gICAgfVxuICAgIGlmICgncmV0cnlQb2xpY3knIGluIG9iaikge1xuICAgICAgICBpZiAoJ2hlZGdpbmdQb2xpY3knIGluIG9iaikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIG1ldGhvZCBjb25maWc6IHJldHJ5UG9saWN5IGFuZCBoZWRnaW5nUG9saWN5IGNhbm5vdCBib3RoIGJlIHNwZWNpZmllZCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnJldHJ5UG9saWN5ID0gdmFsaWRhdGVSZXRyeVBvbGljeShvYmoucmV0cnlQb2xpY3kpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKCdoZWRnaW5nUG9saWN5JyBpbiBvYmopIHtcbiAgICAgICAgcmVzdWx0LmhlZGdpbmdQb2xpY3kgPSB2YWxpZGF0ZUhlZGdpbmdQb2xpY3kob2JqLmhlZGdpbmdQb2xpY3kpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVSZXRyeVRocm90dGxpbmcob2JqKSB7XG4gICAgaWYgKCEoJ21heFRva2VucycgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLm1heFRva2VucyAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgb2JqLm1heFRva2VucyA8PSAwIHx8XG4gICAgICAgIG9iai5tYXhUb2tlbnMgPiAxMDAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCByZXRyeVRocm90dGxpbmc6IG1heFRva2VucyBtdXN0IGJlIGEgbnVtYmVyIGluICgwLCAxMDAwXScpO1xuICAgIH1cbiAgICBpZiAoISgndG9rZW5SYXRpbycgaW4gb2JqKSB8fFxuICAgICAgICB0eXBlb2Ygb2JqLnRva2VuUmF0aW8gIT09ICdudW1iZXInIHx8XG4gICAgICAgIG9iai50b2tlblJhdGlvIDw9IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHJldHJ5VGhyb3R0bGluZzogdG9rZW5SYXRpbyBtdXN0IGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1heFRva2VuczogK29iai5tYXhUb2tlbnMudG9GaXhlZCgzKSxcbiAgICAgICAgdG9rZW5SYXRpbzogK29iai50b2tlblJhdGlvLnRvRml4ZWQoMyksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTG9hZEJhbGFuY2luZ0NvbmZpZyhvYmopIHtcbiAgICBpZiAoISh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsb2FkQmFsYW5jaW5nQ29uZmlnOiB1bmV4cGVjdGVkIHR5cGUgJHt0eXBlb2Ygb2JqfWApO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBpZiAoa2V5cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBsb2FkQmFsYW5jaW5nQ29uZmlnOiB1bmV4cGVjdGVkIG11bHRpcGxlIGtleXMgJHtrZXlzfWApO1xuICAgIH1cbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxvYWRCYWxhbmNpbmdDb25maWc6IGxvYWQgYmFsYW5jaW5nIHBvbGljeSBuYW1lIHJlcXVpcmVkJyk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIFtrZXlzWzBdXTogb2JqW2tleXNbMF1dLFxuICAgIH07XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVNlcnZpY2VDb25maWcob2JqKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICBsb2FkQmFsYW5jaW5nQ29uZmlnOiBbXSxcbiAgICAgICAgbWV0aG9kQ29uZmlnOiBbXSxcbiAgICB9O1xuICAgIGlmICgnbG9hZEJhbGFuY2luZ1BvbGljeScgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLmxvYWRCYWxhbmNpbmdQb2xpY3kgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXN1bHQubG9hZEJhbGFuY2luZ1BvbGljeSA9IG9iai5sb2FkQmFsYW5jaW5nUG9saWN5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnOiBpbnZhbGlkIGxvYWRCYWxhbmNpbmdQb2xpY3knKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoJ2xvYWRCYWxhbmNpbmdDb25maWcnIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmoubG9hZEJhbGFuY2luZ0NvbmZpZykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29uZmlnIG9mIG9iai5sb2FkQmFsYW5jaW5nQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmxvYWRCYWxhbmNpbmdDb25maWcucHVzaCh2YWxpZGF0ZUxvYWRCYWxhbmNpbmdDb25maWcoY29uZmlnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWc6IGludmFsaWQgbG9hZEJhbGFuY2luZ0NvbmZpZycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgnbWV0aG9kQ29uZmlnJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqLm1ldGhvZENvbmZpZykpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWV0aG9kQ29uZmlnIG9mIG9iai5tZXRob2RDb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQubWV0aG9kQ29uZmlnLnB1c2godmFsaWRhdGVNZXRob2RDb25maWcobWV0aG9kQ29uZmlnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdyZXRyeVRocm90dGxpbmcnIGluIG9iaikge1xuICAgICAgICByZXN1bHQucmV0cnlUaHJvdHRsaW5nID0gdmFsaWRhdGVSZXRyeVRocm90dGxpbmcob2JqLnJldHJ5VGhyb3R0bGluZyk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIG1ldGhvZCBuYW1lIHVuaXF1ZW5lc3NcbiAgICBjb25zdCBzZWVuTWV0aG9kTmFtZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZENvbmZpZyBvZiByZXN1bHQubWV0aG9kQ29uZmlnKSB7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBtZXRob2RDb25maWcubmFtZSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBzZWVuTmFtZSBvZiBzZWVuTWV0aG9kTmFtZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZS5zZXJ2aWNlID09PSBzZWVuTmFtZS5zZXJ2aWNlICYmXG4gICAgICAgICAgICAgICAgICAgIG5hbWUubWV0aG9kID09PSBzZWVuTmFtZS5tZXRob2QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNlcnZpY2UgY29uZmlnOiBkdXBsaWNhdGUgbmFtZSAke25hbWUuc2VydmljZX0vJHtuYW1lLm1ldGhvZH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWVuTWV0aG9kTmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gdmFsaWRhdGVDYW5hcnlDb25maWcob2JqKSB7XG4gICAgaWYgKCEoJ3NlcnZpY2VDb25maWcnIGluIG9iaikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogbWlzc2luZyBzZXJ2aWNlIGNvbmZpZycpO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHNlcnZpY2VDb25maWc6IHZhbGlkYXRlU2VydmljZUNvbmZpZyhvYmouc2VydmljZUNvbmZpZyksXG4gICAgfTtcbiAgICBpZiAoJ2NsaWVudExhbmd1YWdlJyBpbiBvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqLmNsaWVudExhbmd1YWdlKSkge1xuICAgICAgICAgICAgcmVzdWx0LmNsaWVudExhbmd1YWdlID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxhbmcgb2Ygb2JqLmNsaWVudExhbmd1YWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsYW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQuY2xpZW50TGFuZ3VhZ2UucHVzaChsYW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBjaG9pY2U6IGludmFsaWQgY2xpZW50TGFuZ3VhZ2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBpbnZhbGlkIGNsaWVudExhbmd1YWdlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCdjbGllbnRIb3N0bmFtZScgaW4gb2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iai5jbGllbnRIb3N0bmFtZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5jbGllbnRIb3N0bmFtZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBsYW5nIG9mIG9iai5jbGllbnRIb3N0bmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGFuZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmNsaWVudEhvc3RuYW1lLnB1c2gobGFuZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBpbnZhbGlkIGNsaWVudEhvc3RuYW1lJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgY29uZmlnIGNob2ljZTogaW52YWxpZCBjbGllbnRIb3N0bmFtZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICgncGVyY2VudGFnZScgaW4gb2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqLnBlcmNlbnRhZ2UgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICAwIDw9IG9iai5wZXJjZW50YWdlICYmXG4gICAgICAgICAgICBvYmoucGVyY2VudGFnZSA8PSAxMDApIHtcbiAgICAgICAgICAgIHJlc3VsdC5wZXJjZW50YWdlID0gb2JqLnBlcmNlbnRhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiBpbnZhbGlkIHBlcmNlbnRhZ2UnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBWYWxpZGF0ZSB0aGF0IG5vIHVuZXhwZWN0ZWQgZmllbGRzIGFyZSBwcmVzZW50XG4gICAgY29uc3QgYWxsb3dlZEZpZWxkcyA9IFtcbiAgICAgICAgJ2NsaWVudExhbmd1YWdlJyxcbiAgICAgICAgJ3BlcmNlbnRhZ2UnLFxuICAgICAgICAnY2xpZW50SG9zdG5hbWUnLFxuICAgICAgICAnc2VydmljZUNvbmZpZycsXG4gICAgXTtcbiAgICBmb3IgKGNvbnN0IGZpZWxkIGluIG9iaikge1xuICAgICAgICBpZiAoIWFsbG93ZWRGaWVsZHMuaW5jbHVkZXMoZmllbGQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VydmljZSBjb25maWcgY2hvaWNlOiB1bmV4cGVjdGVkIGZpZWxkICR7ZmllbGR9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlQW5kU2VsZWN0Q2FuYXJ5Q29uZmlnKG9iaiwgcGVyY2VudGFnZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJ2aWNlIGNvbmZpZyBsaXN0Jyk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY29uZmlnIG9mIG9iaikge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRDb25maWcgPSB2YWxpZGF0ZUNhbmFyeUNvbmZpZyhjb25maWcpO1xuICAgICAgICAvKiBGb3IgZWFjaCBmaWVsZCwgd2UgY2hlY2sgaWYgaXQgaXMgcHJlc2VudCwgdGhlbiBvbmx5IGRpc2NhcmQgdGhlXG4gICAgICAgICAqIGNvbmZpZyBpZiB0aGUgZmllbGQgdmFsdWUgZG9lcyBub3QgbWF0Y2ggdGhlIGN1cnJlbnQgY2xpZW50ICovXG4gICAgICAgIGlmICh0eXBlb2YgdmFsaWRhdGVkQ29uZmlnLnBlcmNlbnRhZ2UgPT09ICdudW1iZXInICYmXG4gICAgICAgICAgICBwZXJjZW50YWdlID4gdmFsaWRhdGVkQ29uZmlnLnBlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbGlkYXRlZENvbmZpZy5jbGllbnRIb3N0bmFtZSkpIHtcbiAgICAgICAgICAgIGxldCBob3N0bmFtZU1hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaG9zdG5hbWUgb2YgdmFsaWRhdGVkQ29uZmlnLmNsaWVudEhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhvc3RuYW1lID09PSBvcy5ob3N0bmFtZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RuYW1lTWF0Y2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFob3N0bmFtZU1hdGNoZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWxpZGF0ZWRDb25maWcuY2xpZW50TGFuZ3VhZ2UpKSB7XG4gICAgICAgICAgICBsZXQgbGFuZ3VhZ2VNYXRjaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxhbmd1YWdlIG9mIHZhbGlkYXRlZENvbmZpZy5jbGllbnRMYW5ndWFnZSkge1xuICAgICAgICAgICAgICAgIGlmIChsYW5ndWFnZSA9PT0gQ0xJRU5UX0xBTkdVQUdFX1NUUklORykge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZU1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbGFuZ3VhZ2VNYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZENvbmZpZy5zZXJ2aWNlQ29uZmlnO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1hdGNoaW5nIHNlcnZpY2UgY29uZmlnIGZvdW5kJyk7XG59XG4vKipcbiAqIEZpbmQgdGhlIFwiZ3JwY19jb25maWdcIiByZWNvcmQgYW1vbmcgdGhlIFRYVCByZWNvcmRzLCBwYXJzZSBpdHMgdmFsdWUgYXMgSlNPTiwgdmFsaWRhdGUgaXRzIGNvbnRlbnRzLFxuICogYW5kIHNlbGVjdCBhIHNlcnZpY2UgY29uZmlnIHdpdGggc2VsZWN0aW9uIGZpZWxkcyB0aGF0IGFsbCBtYXRjaCB0aGlzIGNsaWVudC4gTW9zdCBvZiB0aGVzZSBzdGVwc1xuICogY2FuIGZhaWwgd2l0aCBhbiBlcnJvcjsgdGhlIGNhbGxlciBtdXN0IGhhbmRsZSBhbnkgZXJyb3JzIHRocm93biB0aGlzIHdheS5cbiAqIEBwYXJhbSB0eHRSZWNvcmQgVGhlIFRYVCByZWNvcmQgYXJyYXkgdGhhdCBpcyBvdXRwdXQgZnJvbSBhIHN1Y2Nlc3NmdWwgY2FsbCB0byBkbnMucmVzb2x2ZVR4dFxuICogQHBhcmFtIHBlcmNlbnRhZ2UgQSBudW1iZXIgY2hvc2VuIGZyb20gdGhlIHJhbmdlIFswLCAxMDApIHRoYXQgaXMgdXNlZCB0byBzZWxlY3Qgd2hpY2ggY29uZmlnIHRvIHVzZVxuICogQHJldHVybiBUaGUgc2VydmljZSBjb25maWd1cmF0aW9uIHRvIHVzZSwgZ2l2ZW4gdGhlIHBlcmNlbnRhZ2UgdmFsdWUsIG9yIG51bGwgaWYgdGhlIHNlcnZpY2UgY29uZmlnXG4gKiAgICAgZGF0YSBoYXMgYSB2YWxpZCBmb3JtYXQgYnV0IG5vbmUgb2YgdGhlIG9wdGlvbnMgbWF0Y2ggdGhlIGN1cnJlbnQgY2xpZW50LlxuICovXG5mdW5jdGlvbiBleHRyYWN0QW5kU2VsZWN0U2VydmljZUNvbmZpZyh0eHRSZWNvcmQsIHBlcmNlbnRhZ2UpIHtcbiAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiB0eHRSZWNvcmQpIHtcbiAgICAgICAgaWYgKHJlY29yZC5sZW5ndGggPiAwICYmIHJlY29yZFswXS5zdGFydHNXaXRoKCdncnBjX2NvbmZpZz0nKSkge1xuICAgICAgICAgICAgLyogVHJlYXQgdGhlIGxpc3Qgb2Ygc3RyaW5ncyBpbiB0aGlzIHJlY29yZCBhcyBhIHNpbmdsZSBzdHJpbmcgYW5kIHJlbW92ZVxuICAgICAgICAgICAgICogXCJncnBjX2NvbmZpZz1cIiBmcm9tIHRoZSBiZWdpbm5pbmcuIFRoZSByZXN0IHNob3VsZCBiZSBhIEpTT04gc3RyaW5nICovXG4gICAgICAgICAgICBjb25zdCByZWNvcmRTdHJpbmcgPSByZWNvcmQuam9pbignJykuc3Vic3RyaW5nKCdncnBjX2NvbmZpZz0nLmxlbmd0aCk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRKc29uID0gSlNPTi5wYXJzZShyZWNvcmRTdHJpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkYXRlQW5kU2VsZWN0Q2FuYXJ5Q29uZmlnKHJlY29yZEpzb24sIHBlcmNlbnRhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmljZS1jb25maWcuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjEgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29ubmVjdGl2aXR5U3RhdGUgPSB2b2lkIDA7XG52YXIgQ29ubmVjdGl2aXR5U3RhdGU7XG4oZnVuY3Rpb24gKENvbm5lY3Rpdml0eVN0YXRlKSB7XG4gICAgQ29ubmVjdGl2aXR5U3RhdGVbQ29ubmVjdGl2aXR5U3RhdGVbXCJJRExFXCJdID0gMF0gPSBcIklETEVcIjtcbiAgICBDb25uZWN0aXZpdHlTdGF0ZVtDb25uZWN0aXZpdHlTdGF0ZVtcIkNPTk5FQ1RJTkdcIl0gPSAxXSA9IFwiQ09OTkVDVElOR1wiO1xuICAgIENvbm5lY3Rpdml0eVN0YXRlW0Nvbm5lY3Rpdml0eVN0YXRlW1wiUkVBRFlcIl0gPSAyXSA9IFwiUkVBRFlcIjtcbiAgICBDb25uZWN0aXZpdHlTdGF0ZVtDb25uZWN0aXZpdHlTdGF0ZVtcIlRSQU5TSUVOVF9GQUlMVVJFXCJdID0gM10gPSBcIlRSQU5TSUVOVF9GQUlMVVJFXCI7XG4gICAgQ29ubmVjdGl2aXR5U3RhdGVbQ29ubmVjdGl2aXR5U3RhdGVbXCJTSFVURE9XTlwiXSA9IDRdID0gXCJTSFVURE9XTlwiO1xufSkoQ29ubmVjdGl2aXR5U3RhdGUgfHwgKGV4cG9ydHMuQ29ubmVjdGl2aXR5U3RhdGUgPSBDb25uZWN0aXZpdHlTdGF0ZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25uZWN0aXZpdHktc3RhdGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUXVldWVQaWNrZXIgPSBleHBvcnRzLlVuYXZhaWxhYmxlUGlja2VyID0gZXhwb3J0cy5QaWNrUmVzdWx0VHlwZSA9IHZvaWQgMDtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xudmFyIFBpY2tSZXN1bHRUeXBlO1xuKGZ1bmN0aW9uIChQaWNrUmVzdWx0VHlwZSkge1xuICAgIFBpY2tSZXN1bHRUeXBlW1BpY2tSZXN1bHRUeXBlW1wiQ09NUExFVEVcIl0gPSAwXSA9IFwiQ09NUExFVEVcIjtcbiAgICBQaWNrUmVzdWx0VHlwZVtQaWNrUmVzdWx0VHlwZVtcIlFVRVVFXCJdID0gMV0gPSBcIlFVRVVFXCI7XG4gICAgUGlja1Jlc3VsdFR5cGVbUGlja1Jlc3VsdFR5cGVbXCJUUkFOU0lFTlRfRkFJTFVSRVwiXSA9IDJdID0gXCJUUkFOU0lFTlRfRkFJTFVSRVwiO1xuICAgIFBpY2tSZXN1bHRUeXBlW1BpY2tSZXN1bHRUeXBlW1wiRFJPUFwiXSA9IDNdID0gXCJEUk9QXCI7XG59KShQaWNrUmVzdWx0VHlwZSB8fCAoZXhwb3J0cy5QaWNrUmVzdWx0VHlwZSA9IFBpY2tSZXN1bHRUeXBlID0ge30pKTtcbi8qKlxuICogQSBzdGFuZGFyZCBwaWNrZXIgcmVwcmVzZW50aW5nIGEgbG9hZCBiYWxhbmNlciBpbiB0aGUgVFJBTlNJRU5UX0ZBSUxVUkVcbiAqIHN0YXRlLiBBbHdheXMgcmVzcG9uZHMgdG8gZXZlcnkgcGljayByZXF1ZXN0IHdpdGggYW4gVU5BVkFJTEFCTEUgc3RhdHVzLlxuICovXG5jbGFzcyBVbmF2YWlsYWJsZVBpY2tlciB7XG4gICAgY29uc3RydWN0b3Ioc3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gT2JqZWN0LmFzc2lnbih7IGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSwgZGV0YWlsczogJ05vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQnLCBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9LCBzdGF0dXMpO1xuICAgIH1cbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaWNrUmVzdWx0VHlwZTogUGlja1Jlc3VsdFR5cGUuVFJBTlNJRU5UX0ZBSUxVUkUsXG4gICAgICAgICAgICBzdWJjaGFubmVsOiBudWxsLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIG9uQ2FsbFN0YXJ0ZWQ6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxFbmRlZDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlVuYXZhaWxhYmxlUGlja2VyID0gVW5hdmFpbGFibGVQaWNrZXI7XG4vKipcbiAqIEEgc3RhbmRhcmQgcGlja2VyIHJlcHJlc2VudGluZyBhIGxvYWQgYmFsYW5jZXIgaW4gdGhlIElETEUgb3IgQ09OTkVDVElOR1xuICogc3RhdGUuIEFsd2F5cyByZXNwb25kcyB0byBldmVyeSBwaWNrIHJlcXVlc3Qgd2l0aCBhIFFVRVVFIHBpY2sgcmVzdWx0XG4gKiBpbmRpY2F0aW5nIHRoYXQgdGhlIHBpY2sgc2hvdWxkIGJlIHRyaWVkIGFnYWluIHdpdGggdGhlIG5leHQgYFBpY2tlcmAuIEFsc29cbiAqIHJlcG9ydHMgYmFjayB0byB0aGUgbG9hZCBiYWxhbmNlciB0aGF0IGEgY29ubmVjdGlvbiBzaG91bGQgYmUgZXN0YWJsaXNoZWRcbiAqIG9uY2UgYW55IHBpY2sgaXMgYXR0ZW1wdGVkLlxuICogSWYgdGhlIGNoaWxkUGlja2VyIGlzIHByb3ZpZGVkLCBkZWxlZ2F0ZSB0byBpdCBpbnN0ZWFkIG9mIHJldHVybmluZyB0aGVcbiAqIGhhcmRjb2RlZCBRVUVVRSBwaWNrIHJlc3VsdCwgYnV0IHN0aWxsIGNhbGxzIGV4aXRJZGxlLlxuICovXG5jbGFzcyBRdWV1ZVBpY2tlciB7XG4gICAgLy8gQ29uc3RydWN0ZWQgd2l0aCBhIGxvYWQgYmFsYW5jZXIuIENhbGxzIGV4aXRJZGxlIG9uIGl0IHRoZSBmaXJzdCB0aW1lIHBpY2sgaXMgY2FsbGVkXG4gICAgY29uc3RydWN0b3IobG9hZEJhbGFuY2VyLCBjaGlsZFBpY2tlcikge1xuICAgICAgICB0aGlzLmxvYWRCYWxhbmNlciA9IGxvYWRCYWxhbmNlcjtcbiAgICAgICAgdGhpcy5jaGlsZFBpY2tlciA9IGNoaWxkUGlja2VyO1xuICAgICAgICB0aGlzLmNhbGxlZEV4aXRJZGxlID0gZmFsc2U7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhbGxlZEV4aXRJZGxlKSB7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNhbGxlZEV4aXRJZGxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jaGlsZFBpY2tlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRQaWNrZXIucGljayhwaWNrQXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHBpY2tSZXN1bHRUeXBlOiBQaWNrUmVzdWx0VHlwZS5RVUVVRSxcbiAgICAgICAgICAgICAgICBzdWJjaGFubmVsOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXR1czogbnVsbCxcbiAgICAgICAgICAgICAgICBvbkNhbGxTdGFydGVkOiBudWxsLFxuICAgICAgICAgICAgICAgIG9uQ2FsbEVuZGVkOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUXVldWVQaWNrZXIgPSBRdWV1ZVBpY2tlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpY2tlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYWNrb2ZmVGltZW91dCA9IHZvaWQgMDtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdiYWNrb2ZmJztcbmNvbnN0IElOSVRJQUxfQkFDS09GRl9NUyA9IDEwMDA7XG5jb25zdCBCQUNLT0ZGX01VTFRJUExJRVIgPSAxLjY7XG5jb25zdCBNQVhfQkFDS09GRl9NUyA9IDEyMDAwMDtcbmNvbnN0IEJBQ0tPRkZfSklUVEVSID0gMC4yO1xuLyoqXG4gKiBHZXQgYSBudW1iZXIgdW5pZm9ybWx5IGF0IHJhbmRvbSBpbiB0aGUgcmFuZ2UgW21pbiwgbWF4KVxuICogQHBhcmFtIG1pblxuICogQHBhcmFtIG1heFxuICovXG5mdW5jdGlvbiB1bmlmb3JtUmFuZG9tKG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbn1cbmNsYXNzIEJhY2tvZmZUaW1lb3V0IHtcbiAgICBjb25zdHJ1Y3RvcihjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVsYXkgdGltZSBhdCB0aGUgc3RhcnQsIGFuZCBhZnRlciBlYWNoIHJlc2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbml0aWFsRGVsYXkgPSBJTklUSUFMX0JBQ0tPRkZfTVM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXhwb25lbnRpYWwgYmFja29mZiBtdWx0aXBsaWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyID0gQkFDS09GRl9NVUxUSVBMSUVSO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gZGVsYXkgdGltZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhEZWxheSA9IE1BWF9CQUNLT0ZGX01TO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heGltdW0gZnJhY3Rpb24gYnkgd2hpY2ggdGhlIGRlbGF5IHRpbWUgY2FuIHJhbmRvbWx5IHZhcnkgYWZ0ZXJcbiAgICAgICAgICogYXBwbHlpbmcgdGhlIG11bHRpcGxpZXIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmppdHRlciA9IEJBQ0tPRkZfSklUVEVSO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRpbWVyIGlzIGN1cnJlbnRseSBydW5uaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGltZXIgc2hvdWxkIGtlZXAgdGhlIE5vZGUgcHJvY2VzcyBydW5uaW5nIGlmIG5vXG4gICAgICAgICAqIG90aGVyIGFzeW5jIG9wZXJhdGlvbiBpcyBkb2luZyBzby5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzUmVmID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lIHRoYXQgdGhlIGN1cnJlbnRseSBydW5uaW5nIHRpbWVyIHdhcyBzdGFydGVkLiBPbmx5IHZhbGlkIGlmXG4gICAgICAgICAqIHJ1bm5pbmcgaXMgdHJ1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhcHByb3hpbWF0ZSB0aW1lIHRoYXQgdGhlIGN1cnJlbnRseSBydW5uaW5nIHRpbWVyIHdpbGwgZW5kLiBPbmx5IHZhbGlkXG4gICAgICAgICAqIGlmIHJ1bm5pbmcgaXMgdHJ1ZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZW5kVGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuaWQgPSBCYWNrb2ZmVGltZW91dC5nZXROZXh0SWQoKTtcbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmluaXRpYWxEZWxheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbERlbGF5ID0gb3B0aW9ucy5pbml0aWFsRGVsYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5tdWx0aXBsaWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyID0gb3B0aW9ucy5tdWx0aXBsaWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaml0dGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qaXR0ZXIgPSBvcHRpb25zLmppdHRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1heERlbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhEZWxheSA9IG9wdGlvbnMubWF4RGVsYXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnY29uc3RydWN0ZWQgaW5pdGlhbERlbGF5PScgKyB0aGlzLmluaXRpYWxEZWxheSArICcgbXVsdGlwbGllcj0nICsgdGhpcy5tdWx0aXBsaWVyICsgJyBqaXR0ZXI9JyArIHRoaXMuaml0dGVyICsgJyBtYXhEZWxheT0nICsgdGhpcy5tYXhEZWxheSk7XG4gICAgICAgIHRoaXMubmV4dERlbGF5ID0gdGhpcy5pbml0aWFsRGVsYXk7XG4gICAgICAgIHRoaXMudGltZXJJZCA9IHNldFRpbWVvdXQoKCkgPT4geyB9LCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXJJZCk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXROZXh0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRJZCsrO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ3snICsgdGhpcy5pZCArICd9ICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgcnVuVGltZXIoZGVsYXkpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy50cmFjZSgncnVuVGltZXIoZGVsYXk9JyArIGRlbGF5ICsgJyknKTtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gdGhpcy5zdGFydFRpbWU7XG4gICAgICAgIHRoaXMuZW5kVGltZS5zZXRNaWxsaXNlY29uZHModGhpcy5lbmRUaW1lLmdldE1pbGxpc2Vjb25kcygpICsgZGVsYXkpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICAgICAgdGhpcy50aW1lcklkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCd0aW1lciBmaXJlZCcpO1xuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrKCk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1JlZikge1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy50aW1lcklkKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgdGhlIGNhbGxiYWNrIGFmdGVyIHRoZSBjdXJyZW50IGFtb3VudCBvZiBkZWxheSB0aW1lXG4gICAgICovXG4gICAgcnVuT25jZSgpIHtcbiAgICAgICAgdGhpcy50cmFjZSgncnVuT25jZSgpJyk7XG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5ydW5UaW1lcih0aGlzLm5leHREZWxheSk7XG4gICAgICAgIGNvbnN0IG5leHRCYWNrb2ZmID0gTWF0aC5taW4odGhpcy5uZXh0RGVsYXkgKiB0aGlzLm11bHRpcGxpZXIsIHRoaXMubWF4RGVsYXkpO1xuICAgICAgICBjb25zdCBqaXR0ZXJNYWduaXR1ZGUgPSBuZXh0QmFja29mZiAqIHRoaXMuaml0dGVyO1xuICAgICAgICB0aGlzLm5leHREZWxheSA9XG4gICAgICAgICAgICBuZXh0QmFja29mZiArIHVuaWZvcm1SYW5kb20oLWppdHRlck1hZ25pdHVkZSwgaml0dGVyTWFnbml0dWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcCB0aGUgdGltZXIuIFRoZSBjYWxsYmFjayB3aWxsIG5vdCBiZSBjYWxsZWQgdW50aWwgYHJ1bk9uY2VgIGlzIGNhbGxlZFxuICAgICAqIGFnYWluLlxuICAgICAqL1xuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0b3AoKScpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRoZSBkZWxheSB0aW1lIHRvIGl0cyBpbml0aWFsIHZhbHVlLiBJZiB0aGUgdGltZXIgaXMgc3RpbGwgcnVubmluZyxcbiAgICAgKiByZXRyb2FjdGl2ZWx5IGFwcGx5IHRoYXQgcmVzZXQgdG8gdGhlIGN1cnJlbnQgdGltZXIuXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3Jlc2V0KCkgcnVubmluZz0nICsgdGhpcy5ydW5uaW5nKTtcbiAgICAgICAgdGhpcy5uZXh0RGVsYXkgPSB0aGlzLmluaXRpYWxEZWxheTtcbiAgICAgICAgaWYgKHRoaXMucnVubmluZykge1xuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0VuZFRpbWUgPSB0aGlzLnN0YXJ0VGltZTtcbiAgICAgICAgICAgIG5ld0VuZFRpbWUuc2V0TWlsbGlzZWNvbmRzKG5ld0VuZFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgKyB0aGlzLm5leHREZWxheSk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcklkKTtcbiAgICAgICAgICAgIGlmIChub3cgPCBuZXdFbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5UaW1lcihuZXdFbmRUaW1lLmdldFRpbWUoKSAtIG5vdy5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hldGhlciB0aGUgdGltZXIgaXMgY3VycmVudGx5IHJ1bm5pbmcuXG4gICAgICovXG4gICAgaXNSdW5uaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5uaW5nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdGhhdCB3aGlsZSB0aGUgdGltZXIgaXMgcnVubmluZywgaXQgc2hvdWxkIGtlZXAgdGhlIE5vZGUgcHJvY2Vzc1xuICAgICAqIHJ1bm5pbmcuXG4gICAgICovXG4gICAgcmVmKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmhhc1JlZiA9IHRydWU7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMudGltZXJJZCkucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCB0aGF0IHdoaWxlIHRoZSB0aW1lciBpcyBydW5uaW5nLCBpdCBzaG91bGQgbm90IGtlZXAgdGhlIE5vZGUgcHJvY2Vzc1xuICAgICAqIHJ1bm5pbmcuXG4gICAgICovXG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuaGFzUmVmID0gZmFsc2U7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMudGltZXJJZCkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBhcHByb3hpbWF0ZSB0aW1lc3RhbXAgb2Ygd2hlbiB0aGUgdGltZXIgd2lsbCBmaXJlLiBPbmx5IHZhbGlkIGlmXG4gICAgICogdGhpcy5pc1J1bm5pbmcoKSBpcyB0cnVlLlxuICAgICAqL1xuICAgIGdldEVuZFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZFRpbWU7XG4gICAgfVxufVxuZXhwb3J0cy5CYWNrb2ZmVGltZW91dCA9IEJhY2tvZmZUaW1lb3V0O1xuQmFja29mZlRpbWVvdXQubmV4dElkID0gMDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhY2tvZmYtdGltZW91dC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIgPSB2b2lkIDA7XG5jb25zdCBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBUWVBFX05BTUUgPSAnY2hpbGRfbG9hZF9iYWxhbmNlcl9oZWxwZXInO1xuY2xhc3MgQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIHRoaXMuY3VycmVudENoaWxkID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGQgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdENvbmZpZyA9IG51bGw7XG4gICAgICAgIHRoaXMuQ2hpbGRQb2xpY3lIZWxwZXIgPSBjbGFzcyB7XG4gICAgICAgICAgICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWF0ZVN1YmNoYW5uZWwoc3ViY2hhbm5lbEFkZHJlc3MsIHN1YmNoYW5uZWxBcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50LmNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwoc3ViY2hhbm5lbEFkZHJlc3MsIHN1YmNoYW5uZWxBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYWxsZWRCeVBlbmRpbmdDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHRoaXMucGFyZW50LmN1cnJlbnRDaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuY3VycmVudENoaWxkID0gdGhpcy5wYXJlbnQucGVuZGluZ0NoaWxkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5wZW5kaW5nQ2hpbGQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghdGhpcy5jYWxsZWRCeUN1cnJlbnRDaGlsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQuY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdENoaWxkID0gKF9hID0gdGhpcy5wYXJlbnQucGVuZGluZ0NoaWxkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnBhcmVudC5jdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGQgPT09IGxhdGVzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LmNoYW5uZWxDb250cm9sSGVscGVyLnJlcXVlc3RSZXJlc29sdXRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRDaGlsZChuZXdDaGlsZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQgPSBuZXdDaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZENoYW5uZWx6Q2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci5hZGRDaGFubmVsekNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5jaGFubmVsQ29udHJvbEhlbHBlci5yZW1vdmVDaGFubmVsekNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbGxlZEJ5UGVuZGluZ0NoaWxkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkID09PSB0aGlzLnBhcmVudC5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYWxsZWRCeUN1cnJlbnRDaGlsZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZCA9PT0gdGhpcy5wYXJlbnQuY3VycmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25maWdVcGRhdGVSZXF1aXJlc05ld1BvbGljeUluc3RhbmNlKG9sZENvbmZpZywgbmV3Q29uZmlnKSB7XG4gICAgICAgIHJldHVybiBvbGRDb25maWcuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpICE9PSBuZXdDb25maWcuZ2V0TG9hZEJhbGFuY2VyTmFtZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmVyZXF1aXNpdGVzOiBsYkNvbmZpZyAhPT0gbnVsbCBhbmQgbGJDb25maWcubmFtZSBpcyByZWdpc3RlcmVkXG4gICAgICogQHBhcmFtIGVuZHBvaW50TGlzdFxuICAgICAqIEBwYXJhbSBsYkNvbmZpZ1xuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgdXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsYkNvbmZpZywgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpIHtcbiAgICAgICAgbGV0IGNoaWxkVG9VcGRhdGU7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPT09IG51bGwgfHxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnVXBkYXRlUmVxdWlyZXNOZXdQb2xpY3lJbnN0YW5jZSh0aGlzLmxhdGVzdENvbmZpZywgbGJDb25maWcpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdIZWxwZXIgPSBuZXcgdGhpcy5DaGlsZFBvbGljeUhlbHBlcih0aGlzKTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0NoaWxkID0gKDAsIGxvYWRfYmFsYW5jZXJfMS5jcmVhdGVMb2FkQmFsYW5jZXIpKGxiQ29uZmlnLCBuZXdIZWxwZXIpO1xuICAgICAgICAgICAgbmV3SGVscGVyLnNldENoaWxkKG5ld0NoaWxkKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENoaWxkID0gbmV3Q2hpbGQ7XG4gICAgICAgICAgICAgICAgY2hpbGRUb1VwZGF0ZSA9IHRoaXMuY3VycmVudENoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGQgPSBuZXdDaGlsZDtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hpbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5jdXJyZW50Q2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGlsZFRvVXBkYXRlID0gdGhpcy5wZW5kaW5nQ2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBsYkNvbmZpZztcbiAgICAgICAgcmV0dXJuIGNoaWxkVG9VcGRhdGUudXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsYkNvbmZpZywgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpO1xuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZC5leGl0SWRsZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGQuZXhpdElkbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDaGlsZCkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q2hpbGQucmVzZXRCYWNrb2ZmKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ2hpbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZC5yZXNldEJhY2tvZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICAvKiBOb3RlOiBzdGF0ZSB1cGRhdGVzIGFyZSBvbmx5IHByb3BhZ2F0ZWQgZnJvbSB0aGUgY2hpbGQgYmFsYW5jZXIgaWYgdGhhdFxuICAgICAgICAgKiBvYmplY3QgaXMgZXF1YWwgdG8gdGhpcy5jdXJyZW50Q2hpbGQgb3IgdGhpcy5wZW5kaW5nQ2hpbGQuIFNpbmNlIHRoaXNcbiAgICAgICAgICogZnVuY3Rpb24gc2V0cyBib3RoIG9mIHRob3NlIHRvIG51bGwsIG5vIGZ1cnRoZXIgc3RhdGUgdXBkYXRlcyB3aWxsXG4gICAgICAgICAqIG9jY3VyIGFmdGVyIHRoaXMgZnVuY3Rpb24gcmV0dXJucy4gKi9cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudENoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0NoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX05BTUU7XG4gICAgfVxufVxuZXhwb3J0cy5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIgPSBDaGlsZExvYWRCYWxhbmNlckhhbmRsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLWNoaWxkLWhhbmRsZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVzb2x2aW5nTG9hZEJhbGFuY2VyID0gdm9pZCAwO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IHNlcnZpY2VfY29uZmlnXzEgPSByZXF1aXJlKFwiLi9zZXJ2aWNlLWNvbmZpZ1wiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBiYWNrb2ZmX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL2JhY2tvZmYtdGltZW91dFwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMiA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX2NoaWxkX2hhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItY2hpbGQtaGFuZGxlclwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3Jlc29sdmluZ19sb2FkX2JhbGFuY2VyJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18yLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuLyoqXG4gKiBOYW1lIG1hdGNoIGxldmVscyBpbiBvcmRlciBmcm9tIG1vc3QgdG8gbGVhc3Qgc3BlY2lmaWMuIFRoaXMgaXMgdGhlIG9yZGVyIGluXG4gKiB3aGljaCBzZWFyY2hlcyB3aWxsIGJlIHBlcmZvcm1lZC5cbiAqL1xuY29uc3QgTkFNRV9NQVRDSF9MRVZFTF9PUkRFUiA9IFtcbiAgICAnU0VSVklDRV9BTkRfTUVUSE9EJyxcbiAgICAnU0VSVklDRScsXG4gICAgJ0VNUFRZJyxcbl07XG5mdW5jdGlvbiBoYXNNYXRjaGluZ05hbWUoc2VydmljZSwgbWV0aG9kLCBtZXRob2RDb25maWcsIG1hdGNoTGV2ZWwpIHtcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgbWV0aG9kQ29uZmlnLm5hbWUpIHtcbiAgICAgICAgc3dpdGNoIChtYXRjaExldmVsKSB7XG4gICAgICAgICAgICBjYXNlICdFTVBUWSc6XG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lLnNlcnZpY2UgJiYgIW5hbWUubWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NFUlZJQ0UnOlxuICAgICAgICAgICAgICAgIGlmIChuYW1lLnNlcnZpY2UgPT09IHNlcnZpY2UgJiYgIW5hbWUubWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1NFUlZJQ0VfQU5EX01FVEhPRCc6XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUuc2VydmljZSA9PT0gc2VydmljZSAmJiBuYW1lLm1ldGhvZCA9PT0gbWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBmaW5kTWF0Y2hpbmdDb25maWcoc2VydmljZSwgbWV0aG9kLCBtZXRob2RDb25maWdzLCBtYXRjaExldmVsKSB7XG4gICAgZm9yIChjb25zdCBjb25maWcgb2YgbWV0aG9kQ29uZmlncykge1xuICAgICAgICBpZiAoaGFzTWF0Y2hpbmdOYW1lKHNlcnZpY2UsIG1ldGhvZCwgY29uZmlnLCBtYXRjaExldmVsKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIGdldERlZmF1bHRDb25maWdTZWxlY3RvcihzZXJ2aWNlQ29uZmlnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW52b2tlKG1ldGhvZE5hbWUsIG1ldGFkYXRhKSB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgY29uc3Qgc3BsaXROYW1lID0gbWV0aG9kTmFtZS5zcGxpdCgnLycpLmZpbHRlcih4ID0+IHgubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICBjb25zdCBzZXJ2aWNlID0gKF9hID0gc3BsaXROYW1lWzBdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnJztcbiAgICAgICAgICAgIGNvbnN0IG1ldGhvZCA9IChfYiA9IHNwbGl0TmFtZVsxXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJyc7XG4gICAgICAgICAgICBpZiAoc2VydmljZUNvbmZpZyAmJiBzZXJ2aWNlQ29uZmlnLm1ldGhvZENvbmZpZykge1xuICAgICAgICAgICAgICAgIC8qIENoZWNrIGZvciB0aGUgZm9sbG93aW5nIGluIG9yZGVyLCBhbmQgcmV0dXJuIHRoZSBmaXJzdCBtZXRob2RcbiAgICAgICAgICAgICAgICAqIGNvbmZpZyB0aGF0IG1hdGNoZXM6XG4gICAgICAgICAgICAgICAgKiAxLiBBIG5hbWUgdGhhdCBleGFjdGx5IG1hdGNoZXMgdGhlIHNlcnZpY2UgYW5kIG1ldGhvZFxuICAgICAgICAgICAgICAgICogMi4gQSBuYW1lIHdpdGggbm8gbWV0aG9kIHNldCB0aGF0IG1hdGNoZXMgdGhlIHNlcnZpY2VcbiAgICAgICAgICAgICAgICAqIDMuIEFuIGVtcHR5IG5hbWVcbiAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbWF0Y2hMZXZlbCBvZiBOQU1FX01BVENIX0xFVkVMX09SREVSKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nQ29uZmlnID0gZmluZE1hdGNoaW5nQ29uZmlnKHNlcnZpY2UsIG1ldGhvZCwgc2VydmljZUNvbmZpZy5tZXRob2RDb25maWcsIG1hdGNoTGV2ZWwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hpbmdDb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kQ29uZmlnOiBtYXRjaGluZ0NvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNrSW5mb3JtYXRpb246IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR5bmFtaWNGaWx0ZXJGYWN0b3JpZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kQ29uZmlnOiB7IG5hbWU6IFtdIH0sXG4gICAgICAgICAgICAgICAgcGlja0luZm9ybWF0aW9uOiB7fSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNvbnN0YW50c18xLlN0YXR1cy5PSyxcbiAgICAgICAgICAgICAgICBkeW5hbWljRmlsdGVyRmFjdG9yaWVzOiBbXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIHVucmVmKCkgeyB9XG4gICAgfTtcbn1cbmNsYXNzIFJlc29sdmluZ0xvYWRCYWxhbmNlciB7XG4gICAgLyoqXG4gICAgICogV3JhcHBlciBjbGFzcyB0aGF0IGJlaGF2ZXMgbGlrZSBhIGBMb2FkQmFsYW5jZXJgIGFuZCBhbHNvIGhhbmRsZXMgbmFtZVxuICAgICAqIHJlc29sdXRpb24gaW50ZXJuYWxseS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSBhZGRyZXNzIG9mIHRoZSBiYWNrZW5kIHRvIGNvbm5lY3QgdG8uXG4gICAgICogQHBhcmFtIGNoYW5uZWxDb250cm9sSGVscGVyIGBDaGFubmVsQ29udHJvbEhlbHBlcmAgaW5zdGFuY2UgcHJvdmlkZWQgYnlcbiAgICAgKiAgICAgdGhpcyBsb2FkIGJhbGFuY2VyJ3Mgb3duZXIuXG4gICAgICogQHBhcmFtIGRlZmF1bHRTZXJ2aWNlQ29uZmlnIFRoZSBkZWZhdWx0IHNlcnZpY2UgY29uZmlndXJhdGlvbiB0byBiZSB1c2VkXG4gICAgICogICAgIGlmIG5vbmUgaXMgcHJvdmlkZWQgYnkgdGhlIG5hbWUgcmVzb2x2ZXIuIEEgYG51bGxgIHZhbHVlIGluZGljYXRlc1xuICAgICAqICAgICB0aGF0IHRoZSBkZWZhdWx0IGJlaGF2aW9yIHNob3VsZCBiZSB0aGUgZGVmYXVsdCB1bmNvbmZpZ3VyZWQgYmVoYXZpb3IuXG4gICAgICogICAgIEluIHByYWN0aWNlLCB0aGF0IG1lYW5zIHVzaW5nIHRoZSBcInBpY2sgZmlyc3RcIiBsb2FkIGJhbGFuY2VyXG4gICAgICogICAgIGltcGxtZW50YXRpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGNoYW5uZWxDb250cm9sSGVscGVyLCBjaGFubmVsT3B0aW9ucywgb25TdWNjZXNzZnVsUmVzb2x1dGlvbiwgb25GYWlsZWRSZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIHRoaXMuY2hhbm5lbE9wdGlvbnMgPSBjaGFubmVsT3B0aW9ucztcbiAgICAgICAgdGhpcy5vblN1Y2Nlc3NmdWxSZXNvbHV0aW9uID0gb25TdWNjZXNzZnVsUmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5vbkZhaWxlZFJlc29sdXRpb24gPSBvbkZhaWxlZFJlc29sdXRpb247XG4gICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRQaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyk7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRFcnJvck1lc3NhZ2UgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyByZXNvbHZpbmcgbG9hZCBiYWxhbmNlcidzIGN1cnJlbnQgY29ubmVjdGl2aXR5IHN0YXRlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNlcnZpY2UgY29uZmlnIG9iamVjdCBmcm9tIHRoZSBsYXN0IHN1Y2Nlc3NmdWwgcmVzb2x1dGlvbiwgaWZcbiAgICAgICAgICogYXZhaWxhYmxlLiBBIHZhbHVlIG9mIG51bGwgaW5kaWNhdGVzIHRoYXQgd2UgaGF2ZSBub3QgeWV0IHJlY2VpdmVkIGEgdmFsaWRcbiAgICAgICAgICogc2VydmljZSBjb25maWcgZnJvbSB0aGUgcmVzb2x2ZXIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXZpb3VzU2VydmljZUNvbmZpZyA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB3ZSBzaG91bGQgYXR0ZW1wdCB0byByZXNvbHZlIGFnYWluIGFmdGVyIHRoZSBiYWNrb2ZmXG4gICAgICAgICAqIHRpbWVyIHJ1bnMgb3V0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IGZhbHNlO1xuICAgICAgICBpZiAoY2hhbm5lbE9wdGlvbnNbJ2dycGMuc2VydmljZV9jb25maWcnXSkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0U2VydmljZUNvbmZpZyA9ICgwLCBzZXJ2aWNlX2NvbmZpZ18xLnZhbGlkYXRlU2VydmljZUNvbmZpZykoSlNPTi5wYXJzZShjaGFubmVsT3B0aW9uc1snZ3JwYy5zZXJ2aWNlX2NvbmZpZyddKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRTZXJ2aWNlQ29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGxvYWRCYWxhbmNpbmdDb25maWc6IFtdLFxuICAgICAgICAgICAgICAgIG1ldGhvZENvbmZpZzogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSwgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpLCBudWxsKTtcbiAgICAgICAgdGhpcy5jaGlsZExvYWRCYWxhbmNlciA9IG5ldyBsb2FkX2JhbGFuY2VyX2NoaWxkX2hhbmRsZXJfMS5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIoe1xuICAgICAgICAgICAgY3JlYXRlU3ViY2hhbm5lbDogY2hhbm5lbENvbnRyb2xIZWxwZXIuY3JlYXRlU3ViY2hhbm5lbC5iaW5kKGNoYW5uZWxDb250cm9sSGVscGVyKSxcbiAgICAgICAgICAgIHJlcXVlc3RSZXJlc29sdXRpb246ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvKiBJZiB0aGUgYmFja29mZlRpbWVvdXQgaXMgcnVubmluZywgd2UncmUgc3RpbGwgYmFja2luZyBvZmYgZnJvbVxuICAgICAgICAgICAgICAgICAqIG1ha2luZyByZXNvbHZlIHJlcXVlc3RzLCBzbyB3ZSBzaG91bGRuJ3QgbWFrZSBhbm90aGVyIG9uZSBoZXJlLlxuICAgICAgICAgICAgICAgICAqIEluIHRoYXQgY2FzZSwgdGhlIGJhY2tvZmYgdGltZXIgY2FsbGJhY2sgd2lsbCBjYWxsXG4gICAgICAgICAgICAgICAgICogdXBkYXRlUmVzb2x1dGlvbiAqL1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhY2tvZmZUaW1lb3V0LmlzUnVubmluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXF1ZXN0UmVyZXNvbHV0aW9uIGRlbGF5ZWQgYnkgYmFja29mZiB0aW1lciB1bnRpbCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQuZ2V0RW5kVGltZSgpLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogKG5ld1N0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q2hpbGRQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDaGlsZEVycm9yTWVzc2FnZSA9IGVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKG5ld1N0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWRkQ2hhbm5lbHpDaGlsZDogY2hhbm5lbENvbnRyb2xIZWxwZXIuYWRkQ2hhbm5lbHpDaGlsZC5iaW5kKGNoYW5uZWxDb250cm9sSGVscGVyKSxcbiAgICAgICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQ6IGNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQuYmluZChjaGFubmVsQ29udHJvbEhlbHBlciksXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlubmVyUmVzb2x2ZXIgPSAoMCwgcmVzb2x2ZXJfMS5jcmVhdGVSZXNvbHZlcikodGFyZ2V0LCB0aGlzLmhhbmRsZVJlc29sdmVyUmVzdWx0LmJpbmQodGhpcyksIGNoYW5uZWxPcHRpb25zKTtcbiAgICAgICAgY29uc3QgYmFja29mZk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBpbml0aWFsRGVsYXk6IGNoYW5uZWxPcHRpb25zWydncnBjLmluaXRpYWxfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgICAgIG1heERlbGF5OiBjaGFubmVsT3B0aW9uc1snZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dCA9IG5ldyBiYWNrb2ZmX3RpbWVvdXRfMS5CYWNrb2ZmVGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250aW51ZVJlc29sdmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUodGhpcy5sYXRlc3RDaGlsZFN0YXRlLCB0aGlzLmxhdGVzdENoaWxkUGlja2VyLCB0aGlzLmxhdGVzdENoaWxkRXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYmFja29mZk9wdGlvbnMpO1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnVucmVmKCk7XG4gICAgfVxuICAgIGhhbmRsZVJlc29sdmVyUmVzdWx0KGVuZHBvaW50TGlzdCwgYXR0cmlidXRlcywgc2VydmljZUNvbmZpZywgcmVzb2x1dGlvbk5vdGUpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5zdG9wKCk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQucmVzZXQoKTtcbiAgICAgICAgbGV0IHJlc3VsdEFjY2VwdGVkID0gdHJ1ZTtcbiAgICAgICAgbGV0IHdvcmtpbmdTZXJ2aWNlQ29uZmlnID0gbnVsbDtcbiAgICAgICAgaWYgKHNlcnZpY2VDb25maWcgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHdvcmtpbmdTZXJ2aWNlQ29uZmlnID0gdGhpcy5kZWZhdWx0U2VydmljZUNvbmZpZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzZXJ2aWNlQ29uZmlnLm9rKSB7XG4gICAgICAgICAgICB3b3JraW5nU2VydmljZUNvbmZpZyA9IHNlcnZpY2VDb25maWcudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2aW91c1NlcnZpY2VDb25maWcgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB3b3JraW5nU2VydmljZUNvbmZpZyA9IHRoaXMucHJldmlvdXNTZXJ2aWNlQ29uZmlnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0QWNjZXB0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc29sdXRpb25GYWlsdXJlKHNlcnZpY2VDb25maWcuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh3b3JraW5nU2VydmljZUNvbmZpZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3Qgd29ya2luZ0NvbmZpZ0xpc3QgPSAoX2EgPSB3b3JraW5nU2VydmljZUNvbmZpZyA9PT0gbnVsbCB8fCB3b3JraW5nU2VydmljZUNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd29ya2luZ1NlcnZpY2VDb25maWcubG9hZEJhbGFuY2luZ0NvbmZpZykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICBjb25zdCBsb2FkQmFsYW5jaW5nQ29uZmlnID0gKDAsIGxvYWRfYmFsYW5jZXJfMS5zZWxlY3RMYkNvbmZpZ0Zyb21MaXN0KSh3b3JraW5nQ29uZmlnTGlzdCwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAobG9hZEJhbGFuY2luZ0NvbmZpZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdEFjY2VwdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSZXNvbHV0aW9uRmFpbHVyZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ0FsbCBsb2FkIGJhbGFuY2VyIG9wdGlvbnMgaW4gc2VydmljZSBjb25maWcgYXJlIG5vdCBjb21wYXRpYmxlJyxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHRBY2NlcHRlZCA9IHRoaXMuY2hpbGRMb2FkQmFsYW5jZXIudXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsb2FkQmFsYW5jaW5nQ29uZmlnLCBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY2hhbm5lbE9wdGlvbnMpLCBhdHRyaWJ1dGVzKSwgcmVzb2x1dGlvbk5vdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHRBY2NlcHRlZCkge1xuICAgICAgICAgICAgdGhpcy5vblN1Y2Nlc3NmdWxSZXNvbHV0aW9uKHdvcmtpbmdTZXJ2aWNlQ29uZmlnLCAoX2IgPSBhdHRyaWJ1dGVzW3Jlc29sdmVyXzEuQ0hBTk5FTF9BUkdTX0NPTkZJR19TRUxFQ1RPUl9LRVldKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBnZXREZWZhdWx0Q29uZmlnU2VsZWN0b3Iod29ya2luZ1NlcnZpY2VDb25maWcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0QWNjZXB0ZWQ7XG4gICAgfVxuICAgIHVwZGF0ZVJlc29sdXRpb24oKSB7XG4gICAgICAgIHRoaXMuaW5uZXJSZXNvbHZlci51cGRhdGVSZXNvbHV0aW9uKCk7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgLyogdGhpcy5sYXRlc3RDaGlsZFBpY2tlciBpcyBpbml0aWFsaXplZCBhcyBuZXcgUXVldWVQaWNrZXIodGhpcyksIHdoaWNoXG4gICAgICAgICAgICAgKiBpcyBhbiBhcHByb3ByaWF0ZSB2YWx1ZSBoZXJlIGlmIHRoZSBjaGlsZCBMQiBwb2xpY3kgaXMgdW5zZXQuXG4gICAgICAgICAgICAgKiBPdGhlcndpc2UsIHdlIHdhbnQgdG8gZGVsZWdhdGUgdG8gdGhlIGNoaWxkIGhlcmUsIGluIGNhc2UgdGhhdFxuICAgICAgICAgICAgICogdHJpZ2dlcnMgc29tZXRoaW5nLiAqL1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HLCB0aGlzLmxhdGVzdENoaWxkUGlja2VyLCB0aGlzLmxhdGVzdENoaWxkRXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnJ1bk9uY2UoKTtcbiAgICB9XG4gICAgdXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRyYWNlKCgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbdGhpcy5jdXJyZW50U3RhdGVdICtcbiAgICAgICAgICAgICcgLT4gJyArXG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtjb25uZWN0aXZpdHlTdGF0ZV0pO1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGlzLmV4aXRJZGxlKCkgaXMgY2FsbGVkIGJ5IHRoZSBwaWNrZXJcbiAgICAgICAgaWYgKGNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKSB7XG4gICAgICAgICAgICBwaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcywgcGlja2VyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGNvbm5lY3Rpdml0eVN0YXRlO1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIGhhbmRsZVJlc29sdXRpb25GYWlsdXJlKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLmxhdGVzdENoaWxkU3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcihlcnJvciksIGVycm9yLmRldGFpbHMpO1xuICAgICAgICAgICAgdGhpcy5vbkZhaWxlZFJlc29sdXRpb24oZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGV4aXRJZGxlKCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUgfHxcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYmFja29mZlRpbWVvdXQuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUmVzb2x1dGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hpbGRMb2FkQmFsYW5jZXIuZXhpdElkbGUoKTtcbiAgICB9XG4gICAgdXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBsYkNvbmZpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VwZGF0ZUFkZHJlc3NMaXN0IG5vdCBzdXBwb3J0ZWQgb24gUmVzb2x2aW5nTG9hZEJhbGFuY2VyJyk7XG4gICAgfVxuICAgIHJlc2V0QmFja29mZigpIHtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5yZXNldCgpO1xuICAgICAgICB0aGlzLmNoaWxkTG9hZEJhbGFuY2VyLnJlc2V0QmFja29mZigpO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmNoaWxkTG9hZEJhbGFuY2VyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5pbm5lclJlc29sdmVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5yZXNldCgpO1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnN0b3AoKTtcbiAgICAgICAgdGhpcy5sYXRlc3RDaGlsZFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgdGhpcy5sYXRlc3RDaGlsZFBpY2tlciA9IG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICB0aGlzLnByZXZpb3VzU2VydmljZUNvbmZpZyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0VHlwZU5hbWUoKSB7XG4gICAgICAgIHJldHVybiAncmVzb2x2aW5nX2xvYWRfYmFsYW5jZXInO1xuICAgIH1cbn1cbmV4cG9ydHMuUmVzb2x2aW5nTG9hZEJhbGFuY2VyID0gUmVzb2x2aW5nTG9hZEJhbGFuY2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzb2x2aW5nLWxvYWQtYmFsYW5jZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucmVjb2duaXplZE9wdGlvbnMgPSB2b2lkIDA7XG5leHBvcnRzLmNoYW5uZWxPcHRpb25zRXF1YWwgPSBjaGFubmVsT3B0aW9uc0VxdWFsO1xuLyoqXG4gKiBUaGlzIGlzIGZvciBjaGVja2luZyBwcm92aWRlZCBvcHRpb25zIGF0IHJ1bnRpbWUuIFRoaXMgaXMgYW4gb2JqZWN0IGZvclxuICogZWFzaWVyIG1lbWJlcnNoaXAgY2hlY2tpbmcuXG4gKi9cbmV4cG9ydHMucmVjb2duaXplZE9wdGlvbnMgPSB7XG4gICAgJ2dycGMuc3NsX3RhcmdldF9uYW1lX292ZXJyaWRlJzogdHJ1ZSxcbiAgICAnZ3JwYy5wcmltYXJ5X3VzZXJfYWdlbnQnOiB0cnVlLFxuICAgICdncnBjLnNlY29uZGFyeV91c2VyX2FnZW50JzogdHJ1ZSxcbiAgICAnZ3JwYy5kZWZhdWx0X2F1dGhvcml0eSc6IHRydWUsXG4gICAgJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnOiB0cnVlLFxuICAgICdncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5rZWVwYWxpdmVfcGVybWl0X3dpdGhvdXRfY2FsbHMnOiB0cnVlLFxuICAgICdncnBjLnNlcnZpY2VfY29uZmlnJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfY29uY3VycmVudF9zdHJlYW1zJzogdHJ1ZSxcbiAgICAnZ3JwYy5pbml0aWFsX3JlY29ubmVjdF9iYWNrb2ZmX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnOiB0cnVlLFxuICAgICdncnBjLnVzZV9sb2NhbF9zdWJjaGFubmVsX3Bvb2wnOiB0cnVlLFxuICAgICdncnBjLm1heF9zZW5kX21lc3NhZ2VfbGVuZ3RoJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCc6IHRydWUsXG4gICAgJ2dycGMuZW5hYmxlX2h0dHBfcHJveHknOiB0cnVlLFxuICAgICdncnBjLmVuYWJsZV9jaGFubmVseic6IHRydWUsXG4gICAgJ2dycGMuZG5zX21pbl90aW1lX2JldHdlZW5fcmVzb2x1dGlvbnNfbXMnOiB0cnVlLFxuICAgICdncnBjLmVuYWJsZV9yZXRyaWVzJzogdHJ1ZSxcbiAgICAnZ3JwYy5wZXJfcnBjX3JldHJ5X2J1ZmZlcl9zaXplJzogdHJ1ZSxcbiAgICAnZ3JwYy5yZXRyeV9idWZmZXJfc2l6ZSc6IHRydWUsXG4gICAgJ2dycGMubWF4X2Nvbm5lY3Rpb25fYWdlX21zJzogdHJ1ZSxcbiAgICAnZ3JwYy5tYXhfY29ubmVjdGlvbl9hZ2VfZ3JhY2VfbXMnOiB0cnVlLFxuICAgICdncnBjLW5vZGUubWF4X3Nlc3Npb25fbWVtb3J5JzogdHJ1ZSxcbiAgICAnZ3JwYy5zZXJ2aWNlX2NvbmZpZ19kaXNhYmxlX3Jlc29sdXRpb24nOiB0cnVlLFxuICAgICdncnBjLmNsaWVudF9pZGxlX3RpbWVvdXRfbXMnOiB0cnVlLFxuICAgICdncnBjLW5vZGUudGxzX2VuYWJsZV90cmFjZSc6IHRydWUsXG4gICAgJ2dycGMubGIucmluZ19oYXNoLnJpbmdfc2l6ZV9jYXAnOiB0cnVlLFxuICAgICdncnBjLW5vZGUucmV0cnlfbWF4X2F0dGVtcHRzX2xpbWl0JzogdHJ1ZSxcbiAgICAnZ3JwYy1ub2RlLmZsb3dfY29udHJvbF93aW5kb3cnOiB0cnVlLFxuICAgICdncnBjLnNlcnZlcl9jYWxsX21ldHJpY19yZWNvcmRpbmcnOiB0cnVlXG59O1xuZnVuY3Rpb24gY2hhbm5lbE9wdGlvbnNFcXVhbChvcHRpb25zMSwgb3B0aW9uczIpIHtcbiAgICBjb25zdCBrZXlzMSA9IE9iamVjdC5rZXlzKG9wdGlvbnMxKS5zb3J0KCk7XG4gICAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhvcHRpb25zMikuc29ydCgpO1xuICAgIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5czEubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGtleXMxW2ldICE9PSBrZXlzMltpXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zMVtrZXlzMVtpXV0gIT09IG9wdGlvbnMyW2tleXMyW2ldXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC1vcHRpb25zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIxIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkVuZHBvaW50TWFwID0gdm9pZCAwO1xuZXhwb3J0cy5pc1RjcFN1YmNoYW5uZWxBZGRyZXNzID0gaXNUY3BTdWJjaGFubmVsQWRkcmVzcztcbmV4cG9ydHMuc3ViY2hhbm5lbEFkZHJlc3NFcXVhbCA9IHN1YmNoYW5uZWxBZGRyZXNzRXF1YWw7XG5leHBvcnRzLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcgPSBzdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nO1xuZXhwb3J0cy5zdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzID0gc3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcztcbmV4cG9ydHMuZW5kcG9pbnRFcXVhbCA9IGVuZHBvaW50RXF1YWw7XG5leHBvcnRzLmVuZHBvaW50VG9TdHJpbmcgPSBlbmRwb2ludFRvU3RyaW5nO1xuZXhwb3J0cy5lbmRwb2ludEhhc0FkZHJlc3MgPSBlbmRwb2ludEhhc0FkZHJlc3M7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5mdW5jdGlvbiBpc1RjcFN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICByZXR1cm4gJ3BvcnQnIGluIGFkZHJlc3M7XG59XG5mdW5jdGlvbiBzdWJjaGFubmVsQWRkcmVzc0VxdWFsKGFkZHJlc3MxLCBhZGRyZXNzMikge1xuICAgIGlmICghYWRkcmVzczEgJiYgIWFkZHJlc3MyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIWFkZHJlc3MxIHx8ICFhZGRyZXNzMikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc1RjcFN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MxKSkge1xuICAgICAgICByZXR1cm4gKGlzVGNwU3ViY2hhbm5lbEFkZHJlc3MoYWRkcmVzczIpICYmXG4gICAgICAgICAgICBhZGRyZXNzMS5ob3N0ID09PSBhZGRyZXNzMi5ob3N0ICYmXG4gICAgICAgICAgICBhZGRyZXNzMS5wb3J0ID09PSBhZGRyZXNzMi5wb3J0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiAhaXNUY3BTdWJjaGFubmVsQWRkcmVzcyhhZGRyZXNzMikgJiYgYWRkcmVzczEucGF0aCA9PT0gYWRkcmVzczIucGF0aDtcbiAgICB9XG59XG5mdW5jdGlvbiBzdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKGFkZHJlc3MpIHtcbiAgICBpZiAoaXNUY3BTdWJjaGFubmVsQWRkcmVzcyhhZGRyZXNzKSkge1xuICAgICAgICBpZiAoKDAsIG5ldF8xLmlzSVB2NikoYWRkcmVzcy5ob3N0KSkge1xuICAgICAgICAgICAgcmV0dXJuICdbJyArIGFkZHJlc3MuaG9zdCArICddOicgKyBhZGRyZXNzLnBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYWRkcmVzcy5ob3N0ICsgJzonICsgYWRkcmVzcy5wb3J0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gYWRkcmVzcy5wYXRoO1xuICAgIH1cbn1cbmNvbnN0IERFRkFVTFRfUE9SVCA9IDQ0MztcbmZ1bmN0aW9uIHN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MoYWRkcmVzc1N0cmluZywgcG9ydCkge1xuICAgIGlmICgoMCwgbmV0XzEuaXNJUCkoYWRkcmVzc1N0cmluZykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhvc3Q6IGFkZHJlc3NTdHJpbmcsXG4gICAgICAgICAgICBwb3J0OiBwb3J0ICE9PSBudWxsICYmIHBvcnQgIT09IHZvaWQgMCA/IHBvcnQgOiBERUZBVUxUX1BPUlQsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGF0aDogYWRkcmVzc1N0cmluZyxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbmRwb2ludEVxdWFsKGVuZHBvaW50MSwgZW5kcG9pbnQyKSB7XG4gICAgaWYgKGVuZHBvaW50MS5hZGRyZXNzZXMubGVuZ3RoICE9PSBlbmRwb2ludDIuYWRkcmVzc2VzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZW5kcG9pbnQxLmFkZHJlc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIXN1YmNoYW5uZWxBZGRyZXNzRXF1YWwoZW5kcG9pbnQxLmFkZHJlc3Nlc1tpXSwgZW5kcG9pbnQyLmFkZHJlc3Nlc1tpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuZHBvaW50VG9TdHJpbmcoZW5kcG9pbnQpIHtcbiAgICByZXR1cm4gKCdbJyArIGVuZHBvaW50LmFkZHJlc3Nlcy5tYXAoc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykuam9pbignLCAnKSArICddJyk7XG59XG5mdW5jdGlvbiBlbmRwb2ludEhhc0FkZHJlc3MoZW5kcG9pbnQsIGV4cGVjdGVkQWRkcmVzcykge1xuICAgIGZvciAoY29uc3QgYWRkcmVzcyBvZiBlbmRwb2ludC5hZGRyZXNzZXMpIHtcbiAgICAgICAgaWYgKHN1YmNoYW5uZWxBZGRyZXNzRXF1YWwoYWRkcmVzcywgZXhwZWN0ZWRBZGRyZXNzKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gZW5kcG9pbnRFcXVhbFVub3JkZXJlZChlbmRwb2ludDEsIGVuZHBvaW50Mikge1xuICAgIGlmIChlbmRwb2ludDEuYWRkcmVzc2VzLmxlbmd0aCAhPT0gZW5kcG9pbnQyLmFkZHJlc3Nlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGFkZHJlc3MxIG9mIGVuZHBvaW50MS5hZGRyZXNzZXMpIHtcbiAgICAgICAgbGV0IG1hdGNoRm91bmQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBhZGRyZXNzMiBvZiBlbmRwb2ludDIuYWRkcmVzc2VzKSB7XG4gICAgICAgICAgICBpZiAoc3ViY2hhbm5lbEFkZHJlc3NFcXVhbChhZGRyZXNzMSwgYWRkcmVzczIpKSB7XG4gICAgICAgICAgICAgICAgbWF0Y2hGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXRjaEZvdW5kKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5jbGFzcyBFbmRwb2ludE1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IFNldCgpO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLnNpemU7XG4gICAgfVxuICAgIGdldEZvclN1YmNoYW5uZWxBZGRyZXNzKGFkZHJlc3MpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50SGFzQWRkcmVzcyhlbnRyeS5rZXksIGFkZHJlc3MpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhbnkgZW50cmllcyBpbiB0aGlzIG1hcCB3aXRoIGtleXMgdGhhdCBhcmUgbm90IGluIGVuZHBvaW50c1xuICAgICAqIEBwYXJhbSBlbmRwb2ludHNcbiAgICAgKi9cbiAgICBkZWxldGVNaXNzaW5nKGVuZHBvaW50cykge1xuICAgICAgICBjb25zdCByZW1vdmVkVmFsdWVzID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIGxldCBmb3VuZEVudHJ5ID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVuZHBvaW50IG9mIGVuZHBvaW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbmRwb2ludEVxdWFsVW5vcmRlcmVkKGVuZHBvaW50LCBlbnRyeS5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvdW5kRW50cnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZm91bmRFbnRyeSkge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRWYWx1ZXMucHVzaChlbnRyeS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZGVsZXRlKGVudHJ5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVtb3ZlZFZhbHVlcztcbiAgICB9XG4gICAgZ2V0KGVuZHBvaW50KSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIGlmIChlbmRwb2ludEVxdWFsVW5vcmRlcmVkKGVuZHBvaW50LCBlbnRyeS5rZXkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5LnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHNldChlbmRwb2ludCwgbWFwRW50cnkpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50RXF1YWxVbm9yZGVyZWQoZW5kcG9pbnQsIGVudHJ5LmtleSkpIHtcbiAgICAgICAgICAgICAgICBlbnRyeS52YWx1ZSA9IG1hcEVudHJ5O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1hcC5hZGQoeyBrZXk6IGVuZHBvaW50LCB2YWx1ZTogbWFwRW50cnkgfSk7XG4gICAgfVxuICAgIGRlbGV0ZShlbmRwb2ludCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRFcXVhbFVub3JkZXJlZChlbmRwb2ludCwgZW50cnkua2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWFwLmRlbGV0ZShlbnRyeSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGhhcyhlbmRwb2ludCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnRFcXVhbFVub3JkZXJlZChlbmRwb2ludCwgZW50cnkua2V5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMubWFwLmNsZWFyKCk7XG4gICAgfVxuICAgICprZXlzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICB5aWVsZCBlbnRyeS5rZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKnZhbHVlcygpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgeWllbGQgZW50cnkudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmVudHJpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXApIHtcbiAgICAgICAgICAgIHlpZWxkIFtlbnRyeS5rZXksIGVudHJ5LnZhbHVlXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuRW5kcG9pbnRNYXAgPSBFbmRwb2ludE1hcDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwtYWRkcmVzcy5qcy5tYXAiLCJ2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGUsIHIpIHtcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHtcbiAgICAgICAgX19wcm90b19fOiBbXVxuICAgIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbihlLCByKSB7XG4gICAgICAgIGUuX19wcm90b19fID0gcjtcbiAgICB9IHx8IGZ1bmN0aW9uKGUsIHIpIHtcbiAgICAgICAgZm9yICh2YXIgdCBpbiByKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsIHQpKSBlW3RdID0gclt0XTtcbiAgICB9O1xuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGUsIHIpO1xufTtcblxuZnVuY3Rpb24gX19leHRlbmRzKGUsIHIpIHtcbiAgICBpZiAodHlwZW9mIHIgIT09IFwiZnVuY3Rpb25cIiAmJiByICE9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhyKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgZXh0ZW5kU3RhdGljcyhlLCByKTtcbiAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGU7XG4gICAgfVxuICAgIGUucHJvdG90eXBlID0gciA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUocikgOiAoX18ucHJvdG90eXBlID0gci5wcm90b3R5cGUsIG5ldyBfXyk7XG59XG5cbmZ1bmN0aW9uIF9fZ2VuZXJhdG9yKGUsIHIpIHtcbiAgICB2YXIgdCA9IHtcbiAgICAgICAgbGFiZWw6IDAsXG4gICAgICAgIHNlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHNbMF0gJiAxKSB0aHJvdyBzWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHNbMV07XG4gICAgICAgIH0sXG4gICAgICAgIHRyeXM6IFtdLFxuICAgICAgICBvcHM6IFtdXG4gICAgfSwgaSwgbiwgcywgaDtcbiAgICByZXR1cm4gaCA9IHtcbiAgICAgICAgbmV4dDogdmVyYigwKSxcbiAgICAgICAgdGhyb3c6IHZlcmIoMSksXG4gICAgICAgIHJldHVybjogdmVyYigyKVxuICAgIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoaFtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0pLCBoO1xuICAgIGZ1bmN0aW9uIHZlcmIoZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXAoWyBlLCByIF0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGVwKGEpIHtcbiAgICAgICAgaWYgKGkpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICB3aGlsZSAoaCAmJiAoaCA9IDAsIGFbMF0gJiYgKHQgPSAwKSksIHQpIHRyeSB7XG4gICAgICAgICAgICBpZiAoaSA9IDEsIG4gJiYgKHMgPSBhWzBdICYgMiA/IG5bXCJyZXR1cm5cIl0gOiBhWzBdID8gbltcInRocm93XCJdIHx8ICgocyA9IG5bXCJyZXR1cm5cIl0pICYmIHMuY2FsbChuKSwgXG4gICAgICAgICAgICAwKSA6IG4ubmV4dCkgJiYgIShzID0gcy5jYWxsKG4sIGFbMV0pKS5kb25lKSByZXR1cm4gcztcbiAgICAgICAgICAgIGlmIChuID0gMCwgcykgYSA9IFsgYVswXSAmIDIsIHMudmFsdWUgXTtcbiAgICAgICAgICAgIHN3aXRjaCAoYVswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBzID0gYTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdC5sYWJlbCsrO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhWzFdLFxuICAgICAgICAgICAgICAgICAgICBkb25lOiBmYWxzZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHQubGFiZWwrKztcbiAgICAgICAgICAgICAgICBuID0gYVsxXTtcbiAgICAgICAgICAgICAgICBhID0gWyAwIF07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgIGEgPSB0Lm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICB0LnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoIShzID0gdC50cnlzLCBzID0gcy5sZW5ndGggPiAwICYmIHNbcy5sZW5ndGggLSAxXSkgJiYgKGFbMF0gPT09IDYgfHwgYVswXSA9PT0gMikpIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYVswXSA9PT0gMyAmJiAoIXMgfHwgYVsxXSA+IHNbMF0gJiYgYVsxXSA8IHNbM10pKSB7XG4gICAgICAgICAgICAgICAgICAgIHQubGFiZWwgPSBhWzFdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFbMF0gPT09IDYgJiYgdC5sYWJlbCA8IHNbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdC5sYWJlbCA9IHNbMV07XG4gICAgICAgICAgICAgICAgICAgIHMgPSBhO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHMgJiYgdC5sYWJlbCA8IHNbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgdC5sYWJlbCA9IHNbMl07XG4gICAgICAgICAgICAgICAgICAgIHQub3BzLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc1syXSkgdC5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgdC50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYSA9IHIuY2FsbChlLCB0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgYSA9IFsgNiwgZSBdO1xuICAgICAgICAgICAgbiA9IDA7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpID0gcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFbMF0gJiA1KSB0aHJvdyBhWzFdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IGFbMF0gPyBhWzFdIDogdm9pZCAwLFxuICAgICAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24oZSwgciwgdCkge1xuICAgIHZhciBpID0gbmV3IEVycm9yKHQpO1xuICAgIHJldHVybiBpLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBpLmVycm9yID0gZSwgaS5zdXBwcmVzc2VkID0gciwgaTtcbn07XG5cbnZhciBUcmVlTm9kZSA9IGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFRyZWVOb2RlKGUsIHIsIHQpIHtcbiAgICAgICAgaWYgKHQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdCA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmkgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy51ID0gZTtcbiAgICAgICAgdGhpcy5vID0gcjtcbiAgICAgICAgdGhpcy5sID0gdDtcbiAgICB9XG4gICAgVHJlZU5vZGUucHJvdG90eXBlLnYgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICB2YXIgciA9IGUuaC5oID09PSBlO1xuICAgICAgICBpZiAociAmJiBlLmwgPT09IDEpIHtcbiAgICAgICAgICAgIGUgPSBlLmk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS50KSB7XG4gICAgICAgICAgICBlID0gZS50O1xuICAgICAgICAgICAgd2hpbGUgKGUuaSkge1xuICAgICAgICAgICAgICAgIGUgPSBlLmk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIHJldHVybiBlLmg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdCA9IGUuaDtcbiAgICAgICAgICAgIHdoaWxlICh0LnQgPT09IGUpIHtcbiAgICAgICAgICAgICAgICBlID0gdDtcbiAgICAgICAgICAgICAgICB0ID0gZS5oO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZSA9IHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfTtcbiAgICBUcmVlTm9kZS5wcm90b3R5cGUucCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSA9IHRoaXM7XG4gICAgICAgIGlmIChlLmkpIHtcbiAgICAgICAgICAgIGUgPSBlLmk7XG4gICAgICAgICAgICB3aGlsZSAoZS50KSB7XG4gICAgICAgICAgICAgICAgZSA9IGUudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHIgPSBlLmg7XG4gICAgICAgICAgICB3aGlsZSAoci5pID09PSBlKSB7XG4gICAgICAgICAgICAgICAgZSA9IHI7XG4gICAgICAgICAgICAgICAgciA9IGUuaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlLmkgIT09IHIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVHJlZU5vZGUucHJvdG90eXBlLlQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGUgPSB0aGlzLmg7XG4gICAgICAgIHZhciByID0gdGhpcy5pO1xuICAgICAgICB2YXIgdCA9IHIudDtcbiAgICAgICAgaWYgKGUuaCA9PT0gdGhpcykgZS5oID0gcjsgZWxzZSBpZiAoZS50ID09PSB0aGlzKSBlLnQgPSByOyBlbHNlIGUuaSA9IHI7XG4gICAgICAgIHIuaCA9IGU7XG4gICAgICAgIHIudCA9IHRoaXM7XG4gICAgICAgIHRoaXMuaCA9IHI7XG4gICAgICAgIHRoaXMuaSA9IHQ7XG4gICAgICAgIGlmICh0KSB0LmggPSB0aGlzO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIFRyZWVOb2RlLnByb3RvdHlwZS5JID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlID0gdGhpcy5oO1xuICAgICAgICB2YXIgciA9IHRoaXMudDtcbiAgICAgICAgdmFyIHQgPSByLmk7XG4gICAgICAgIGlmIChlLmggPT09IHRoaXMpIGUuaCA9IHI7IGVsc2UgaWYgKGUudCA9PT0gdGhpcykgZS50ID0gcjsgZWxzZSBlLmkgPSByO1xuICAgICAgICByLmggPSBlO1xuICAgICAgICByLmkgPSB0aGlzO1xuICAgICAgICB0aGlzLmggPSByO1xuICAgICAgICB0aGlzLnQgPSB0O1xuICAgICAgICBpZiAodCkgdC5oID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgfTtcbiAgICByZXR1cm4gVHJlZU5vZGU7XG59KCk7XG5cbnZhciBUcmVlTm9kZUVuYWJsZUluZGV4ID0gZnVuY3Rpb24oZSkge1xuICAgIF9fZXh0ZW5kcyhUcmVlTm9kZUVuYWJsZUluZGV4LCBlKTtcbiAgICBmdW5jdGlvbiBUcmVlTm9kZUVuYWJsZUluZGV4KCkge1xuICAgICAgICB2YXIgciA9IGUgIT09IG51bGwgJiYgZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIHIuTyA9IDE7XG4gICAgICAgIHJldHVybiByO1xuICAgIH1cbiAgICBUcmVlTm9kZUVuYWJsZUluZGV4LnByb3RvdHlwZS5UID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByID0gZS5wcm90b3R5cGUuVC5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLk0oKTtcbiAgICAgICAgci5NKCk7XG4gICAgICAgIHJldHVybiByO1xuICAgIH07XG4gICAgVHJlZU5vZGVFbmFibGVJbmRleC5wcm90b3R5cGUuSSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgciA9IGUucHJvdG90eXBlLkkuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5NKCk7XG4gICAgICAgIHIuTSgpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9O1xuICAgIFRyZWVOb2RlRW5hYmxlSW5kZXgucHJvdG90eXBlLk0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5PID0gMTtcbiAgICAgICAgaWYgKHRoaXMudCkge1xuICAgICAgICAgICAgdGhpcy5PICs9IHRoaXMudC5PO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmkpIHtcbiAgICAgICAgICAgIHRoaXMuTyArPSB0aGlzLmkuTztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRyZWVOb2RlRW5hYmxlSW5kZXg7XG59KFRyZWVOb2RlKTtcblxudmFyIENvbnRhaW5lckl0ZXJhdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gQ29udGFpbmVySXRlcmF0b3IoZSkge1xuICAgICAgICBpZiAoZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBlID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZXJhdG9yVHlwZSA9IGU7XG4gICAgfVxuICAgIENvbnRhaW5lckl0ZXJhdG9yLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkMgPT09IGUuQztcbiAgICB9O1xuICAgIHJldHVybiBDb250YWluZXJJdGVyYXRvcjtcbn0oKTtcblxudmFyIEJhc2UgPSBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBCYXNlKCkge1xuICAgICAgICB0aGlzLl8gPSAwO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFzZS5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl87XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCYXNlLnByb3RvdHlwZS5zaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl87XG4gICAgfTtcbiAgICBCYXNlLnByb3RvdHlwZS5lbXB0eSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fID09PSAwO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2U7XG59KCk7XG5cbnZhciBDb250YWluZXIgPSBmdW5jdGlvbihlKSB7XG4gICAgX19leHRlbmRzKENvbnRhaW5lciwgZSk7XG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKCkge1xuICAgICAgICByZXR1cm4gZSAhPT0gbnVsbCAmJiBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIENvbnRhaW5lcjtcbn0oQmFzZSk7XG5cbmZ1bmN0aW9uIHRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcigpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkl0ZXJhdG9yIGFjY2VzcyBkZW5pZWQhXCIpO1xufVxuXG52YXIgVHJlZUNvbnRhaW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBfX2V4dGVuZHMoVHJlZUNvbnRhaW5lciwgZSk7XG4gICAgZnVuY3Rpb24gVHJlZUNvbnRhaW5lcihyLCB0KSB7XG4gICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHIgPSBmdW5jdGlvbihlLCByKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUgPCByKSByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgaWYgKGUgPiByKSByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpID0gZS5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIGkuTiA9IHVuZGVmaW5lZDtcbiAgICAgICAgaS5nID0gcjtcbiAgICAgICAgaS5lbmFibGVJbmRleCA9IHQ7XG4gICAgICAgIGkuUyA9IHQgPyBUcmVlTm9kZUVuYWJsZUluZGV4IDogVHJlZU5vZGU7XG4gICAgICAgIGkuQSA9IG5ldyBpLlM7XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5tID0gZnVuY3Rpb24oZSwgcikge1xuICAgICAgICB2YXIgdCA9IHRoaXMuQTtcbiAgICAgICAgd2hpbGUgKGUpIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5nKGUudSwgcik7XG4gICAgICAgICAgICBpZiAoaSA8IDApIHtcbiAgICAgICAgICAgICAgICBlID0gZS5pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgIHQgPSBlO1xuICAgICAgICAgICAgICAgIGUgPSBlLnQ7XG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5CID0gZnVuY3Rpb24oZSwgcikge1xuICAgICAgICB2YXIgdCA9IHRoaXMuQTtcbiAgICAgICAgd2hpbGUgKGUpIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5nKGUudSwgcik7XG4gICAgICAgICAgICBpZiAoaSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgZSA9IGUuaTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdCA9IGU7XG4gICAgICAgICAgICAgICAgZSA9IGUudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLmogPSBmdW5jdGlvbihlLCByKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5BO1xuICAgICAgICB3aGlsZSAoZSkge1xuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmcoZS51LCByKTtcbiAgICAgICAgICAgIGlmIChpIDwgMCkge1xuICAgICAgICAgICAgICAgIHQgPSBlO1xuICAgICAgICAgICAgICAgIGUgPSBlLmk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZSA9IGUudDtcbiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLmsgPSBmdW5jdGlvbihlLCByKSB7XG4gICAgICAgIHZhciB0ID0gdGhpcy5BO1xuICAgICAgICB3aGlsZSAoZSkge1xuICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmcoZS51LCByKTtcbiAgICAgICAgICAgIGlmIChpIDwgMCkge1xuICAgICAgICAgICAgICAgIHQgPSBlO1xuICAgICAgICAgICAgICAgIGUgPSBlLmk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUgPSBlLnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5SID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHIgPSBlLmg7XG4gICAgICAgICAgICBpZiAociA9PT0gdGhpcy5BKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoZS5sID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZS5sID0gMDtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZSA9PT0gci50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHQgPSByLmk7XG4gICAgICAgICAgICAgICAgaWYgKHQubCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0LmwgPSAwO1xuICAgICAgICAgICAgICAgICAgICByLmwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAociA9PT0gdGhpcy5OKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk4gPSByLlQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHIuVCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0LmkgJiYgdC5pLmwgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQubCA9IHIubDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHIubCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LmkubCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAociA9PT0gdGhpcy5OKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5OID0gci5UKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugci5UKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodC50ICYmIHQudC5sID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LmwgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdC50LmwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5JKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LmwgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IHI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0ID0gci50O1xuICAgICAgICAgICAgICAgIGlmICh0LmwgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgci5sID0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIgPT09IHRoaXMuTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5OID0gci5JKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSByLkkoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodC50ICYmIHQudC5sID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LmwgPSByLmw7XG4gICAgICAgICAgICAgICAgICAgICAgICByLmwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdC50LmwgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgPT09IHRoaXMuTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTiA9IHIuSSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHIuSSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQuaSAmJiB0LmkubCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5sID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuaS5sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuVCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5sID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSByO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5HID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAodGhpcy5fID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIgPSBlO1xuICAgICAgICB3aGlsZSAoci50IHx8IHIuaSkge1xuICAgICAgICAgICAgaWYgKHIuaSkge1xuICAgICAgICAgICAgICAgIHIgPSByLmk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHIudCkgciA9IHIudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgciA9IHIudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0ID0gZS51O1xuICAgICAgICAgICAgZS51ID0gci51O1xuICAgICAgICAgICAgci51ID0gdDtcbiAgICAgICAgICAgIHZhciBpID0gZS5vO1xuICAgICAgICAgICAgZS5vID0gci5vO1xuICAgICAgICAgICAgci5vID0gaTtcbiAgICAgICAgICAgIGUgPSByO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLkEudCA9PT0gcikge1xuICAgICAgICAgICAgdGhpcy5BLnQgPSByLmg7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5BLmkgPT09IHIpIHtcbiAgICAgICAgICAgIHRoaXMuQS5pID0gci5oO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuUihyKTtcbiAgICAgICAgdmFyIG4gPSByLmg7XG4gICAgICAgIGlmIChyID09PSBuLnQpIHtcbiAgICAgICAgICAgIG4udCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSBlbHNlIG4uaSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fIC09IDE7XG4gICAgICAgIHRoaXMuTi5sID0gMDtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5kZXgpIHtcbiAgICAgICAgICAgIHdoaWxlIChuICE9PSB0aGlzLkEpIHtcbiAgICAgICAgICAgICAgICBuLk8gLT0gMTtcbiAgICAgICAgICAgICAgICBuID0gbi5oO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5QID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgciA9IHR5cGVvZiBlID09PSBcIm51bWJlclwiID8gZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIHQgPSB0eXBlb2YgZSA9PT0gXCJmdW5jdGlvblwiID8gZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGkgPSB0eXBlb2YgZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFtdIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgbiA9IDA7XG4gICAgICAgIHZhciBzID0gdGhpcy5OO1xuICAgICAgICB2YXIgaCA9IFtdO1xuICAgICAgICB3aGlsZSAoaC5sZW5ndGggfHwgcykge1xuICAgICAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgICAgICBoLnB1c2gocyk7XG4gICAgICAgICAgICAgICAgcyA9IHMudDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcyA9IGgucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKG4gPT09IHIpIHJldHVybiBzO1xuICAgICAgICAgICAgICAgIGkgJiYgaS5wdXNoKHMpO1xuICAgICAgICAgICAgICAgIHQgJiYgdChzLCBuLCB0aGlzKTtcbiAgICAgICAgICAgICAgICBuICs9IDE7XG4gICAgICAgICAgICAgICAgcyA9IHMuaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9O1xuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLnEgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB2YXIgciA9IGUuaDtcbiAgICAgICAgICAgIGlmIChyLmwgPT09IDApIHJldHVybjtcbiAgICAgICAgICAgIHZhciB0ID0gci5oO1xuICAgICAgICAgICAgaWYgKHIgPT09IHQudCkge1xuICAgICAgICAgICAgICAgIHZhciBpID0gdC5pO1xuICAgICAgICAgICAgICAgIGlmIChpICYmIGkubCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBpLmwgPSByLmwgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gdGhpcy5OKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHQubCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGUgPSB0O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUgPT09IHIuaSkge1xuICAgICAgICAgICAgICAgICAgICBlLmwgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnQuaCA9IHI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5pLmggPSB0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHIuaSA9IGUudDtcbiAgICAgICAgICAgICAgICAgICAgdC50ID0gZS5pO1xuICAgICAgICAgICAgICAgICAgICBlLnQgPSByO1xuICAgICAgICAgICAgICAgICAgICBlLmkgPSB0O1xuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gdGhpcy5OKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk4gPSBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5BLmggPSBlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSB0Lmg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobi50ID09PSB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi50ID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBuLmkgPSBlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUuaCA9IHQuaDtcbiAgICAgICAgICAgICAgICAgICAgci5oID0gZTtcbiAgICAgICAgICAgICAgICAgICAgdC5oID0gZTtcbiAgICAgICAgICAgICAgICAgICAgdC5sID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByLmwgPSAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gdGhpcy5OKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk4gPSB0LkkoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHQuSSgpO1xuICAgICAgICAgICAgICAgICAgICB0LmwgPSAxO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHQudDtcbiAgICAgICAgICAgICAgICBpZiAoaSAmJiBpLmwgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaS5sID0gci5sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IHRoaXMuTikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB0LmwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlID0gdDtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlID09PSByLnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS50LmggPSB0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuaS5oID0gcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0LmkgPSBlLnQ7XG4gICAgICAgICAgICAgICAgICAgIHIudCA9IGUuaTtcbiAgICAgICAgICAgICAgICAgICAgZS50ID0gdDtcbiAgICAgICAgICAgICAgICAgICAgZS5pID0gcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IHRoaXMuTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5OID0gZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQS5oID0gZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdC5oO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4udCA9PT0gdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4udCA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugbi5pID0gZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlLmggPSB0Lmg7XG4gICAgICAgICAgICAgICAgICAgIHIuaCA9IGU7XG4gICAgICAgICAgICAgICAgICAgIHQuaCA9IGU7XG4gICAgICAgICAgICAgICAgICAgIHQubCA9IDE7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgci5sID0gMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IHRoaXMuTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5OID0gdC5UKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB0LlQoKTtcbiAgICAgICAgICAgICAgICAgICAgdC5sID0gMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgci5NKCk7XG4gICAgICAgICAgICAgICAgdC5NKCk7XG4gICAgICAgICAgICAgICAgZS5NKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLkQgPSBmdW5jdGlvbihlLCByLCB0KSB7XG4gICAgICAgIGlmICh0aGlzLk4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fICs9IDE7XG4gICAgICAgICAgICB0aGlzLk4gPSBuZXcgdGhpcy5TKGUsIHIsIDApO1xuICAgICAgICAgICAgdGhpcy5OLmggPSB0aGlzLkE7XG4gICAgICAgICAgICB0aGlzLkEuaCA9IHRoaXMuQS50ID0gdGhpcy5BLmkgPSB0aGlzLk47XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgbiA9IHRoaXMuQS50O1xuICAgICAgICB2YXIgcyA9IHRoaXMuZyhuLnUsIGUpO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgbi5vID0gcjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl87XG4gICAgICAgIH0gZWxzZSBpZiAocyA+IDApIHtcbiAgICAgICAgICAgIG4udCA9IG5ldyB0aGlzLlMoZSwgcik7XG4gICAgICAgICAgICBuLnQuaCA9IG47XG4gICAgICAgICAgICBpID0gbi50O1xuICAgICAgICAgICAgdGhpcy5BLnQgPSBpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGggPSB0aGlzLkEuaTtcbiAgICAgICAgICAgIHZhciBhID0gdGhpcy5nKGgudSwgZSk7XG4gICAgICAgICAgICBpZiAoYSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGgubyA9IHI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuXztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYSA8IDApIHtcbiAgICAgICAgICAgICAgICBoLmkgPSBuZXcgdGhpcy5TKGUsIHIpO1xuICAgICAgICAgICAgICAgIGguaS5oID0gaDtcbiAgICAgICAgICAgICAgICBpID0gaC5pO1xuICAgICAgICAgICAgICAgIHRoaXMuQS5pID0gaTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IHQuQztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgIT09IHRoaXMuQSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSB0aGlzLmcodS51LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdS5vID0gcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvID0gdS52KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmcoby51LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLm8gPSByO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IG5ldyB0aGlzLlMoZSwgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5pID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuaCA9IG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1LnQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5oID0gdTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSB0aGlzLk47XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuZyhpLnUsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkudCA9IG5ldyB0aGlzLlMoZSwgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkudC5oID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGMgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkuaSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuaSA9IG5ldyB0aGlzLlMoZSwgcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuaS5oID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkuaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLmk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkubyA9IHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuXztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbmFibGVJbmRleCkge1xuICAgICAgICAgICAgdmFyIGwgPSBpLmg7XG4gICAgICAgICAgICB3aGlsZSAobCAhPT0gdGhpcy5BKSB7XG4gICAgICAgICAgICAgICAgbC5PICs9IDE7XG4gICAgICAgICAgICAgICAgbCA9IGwuaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnEoaSk7XG4gICAgICAgIHRoaXMuXyArPSAxO1xuICAgICAgICByZXR1cm4gdGhpcy5fO1xuICAgIH07XG4gICAgVHJlZUNvbnRhaW5lci5wcm90b3R5cGUuRiA9IGZ1bmN0aW9uKGUsIHIpIHtcbiAgICAgICAgd2hpbGUgKGUpIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy5nKGUudSwgcik7XG4gICAgICAgICAgICBpZiAodCA8IDApIHtcbiAgICAgICAgICAgICAgICBlID0gZS5pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0ID4gMCkge1xuICAgICAgICAgICAgICAgIGUgPSBlLnQ7XG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUgfHwgdGhpcy5BO1xuICAgIH07XG4gICAgVHJlZUNvbnRhaW5lci5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fID0gMDtcbiAgICAgICAgdGhpcy5OID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLkEuaCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5BLnQgPSB0aGlzLkEuaSA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZUtleUJ5SXRlcmF0b3IgPSBmdW5jdGlvbihlLCByKSB7XG4gICAgICAgIHZhciB0ID0gZS5DO1xuICAgICAgICBpZiAodCA9PT0gdGhpcy5BKSB7XG4gICAgICAgICAgICB0aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fID09PSAxKSB7XG4gICAgICAgICAgICB0LnUgPSByO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGkgPSB0LnAoKS51O1xuICAgICAgICBpZiAodCA9PT0gdGhpcy5BLnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmcoaSwgcikgPiAwKSB7XG4gICAgICAgICAgICAgICAgdC51ID0gcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbiA9IHQudigpLnU7XG4gICAgICAgIGlmICh0ID09PSB0aGlzLkEuaSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZyhuLCByKSA8IDApIHtcbiAgICAgICAgICAgICAgICB0LnUgPSByO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmcobiwgcikgPj0gMCB8fCB0aGlzLmcoaSwgcikgPD0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0LnUgPSByO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLmVyYXNlRWxlbWVudEJ5UG9zID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZSA8IDAgfHwgZSA+IHRoaXMuXyAtIDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHZhciByID0gdGhpcy5QKGUpO1xuICAgICAgICB0aGlzLkcocik7XG4gICAgICAgIHJldHVybiB0aGlzLl87XG4gICAgfTtcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5lcmFzZUVsZW1lbnRCeUtleSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuXyA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgciA9IHRoaXMuRih0aGlzLk4sIGUpO1xuICAgICAgICBpZiAociA9PT0gdGhpcy5BKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMuRyhyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgciA9IGUuQztcbiAgICAgICAgaWYgKHIgPT09IHRoaXMuQSkge1xuICAgICAgICAgICAgdGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHQgPSByLmkgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGkgPSBlLml0ZXJhdG9yVHlwZSA9PT0gMDtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgIGlmICh0KSBlLm5leHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghdCB8fCByLnQgPT09IHVuZGVmaW5lZCkgZS5uZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5HKHIpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICB9O1xuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fID09PSAwKSByZXR1cm4gMDtcbiAgICAgICAgZnVuY3Rpb24gdHJhdmVyc2FsKGUpIHtcbiAgICAgICAgICAgIGlmICghZSkgcmV0dXJuIDA7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodHJhdmVyc2FsKGUudCksIHRyYXZlcnNhbChlLmkpKSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRyYXZlcnNhbCh0aGlzLk4pO1xuICAgIH07XG4gICAgcmV0dXJuIFRyZWVDb250YWluZXI7XG59KENvbnRhaW5lcik7XG5cbnZhciBUcmVlSXRlcmF0b3IgPSBmdW5jdGlvbihlKSB7XG4gICAgX19leHRlbmRzKFRyZWVJdGVyYXRvciwgZSk7XG4gICAgZnVuY3Rpb24gVHJlZUl0ZXJhdG9yKHIsIHQsIGkpIHtcbiAgICAgICAgdmFyIG4gPSBlLmNhbGwodGhpcywgaSkgfHwgdGhpcztcbiAgICAgICAgbi5DID0gcjtcbiAgICAgICAgbi5BID0gdDtcbiAgICAgICAgaWYgKG4uaXRlcmF0b3JUeXBlID09PSAwKSB7XG4gICAgICAgICAgICBuLnByZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLkMgPT09IHRoaXMuQS50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLkMgPSB0aGlzLkMudigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG4ubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLkMgPT09IHRoaXMuQSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5DID0gdGhpcy5DLnAoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuLnByZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLkMgPT09IHRoaXMuQS5pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLkMgPSB0aGlzLkMucCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG4ubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLkMgPT09IHRoaXMuQSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5DID0gdGhpcy5DLnYoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShUcmVlSXRlcmF0b3IucHJvdG90eXBlLCBcImluZGV4XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlID0gdGhpcy5DO1xuICAgICAgICAgICAgdmFyIHIgPSB0aGlzLkEuaDtcbiAgICAgICAgICAgIGlmIChlID09PSB0aGlzLkEpIHtcbiAgICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5PIC0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdCA9IDA7XG4gICAgICAgICAgICBpZiAoZS50KSB7XG4gICAgICAgICAgICAgICAgdCArPSBlLnQuTztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChlICE9PSByKSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSBlLmg7XG4gICAgICAgICAgICAgICAgaWYgKGUgPT09IGkuaSkge1xuICAgICAgICAgICAgICAgICAgICB0ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpLnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgKz0gaS50Lk87XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFRyZWVJdGVyYXRvci5wcm90b3R5cGUuaXNBY2Nlc3NpYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkMgIT09IHRoaXMuQTtcbiAgICB9O1xuICAgIHJldHVybiBUcmVlSXRlcmF0b3I7XG59KENvbnRhaW5lckl0ZXJhdG9yKTtcblxudmFyIE9yZGVyZWRNYXBJdGVyYXRvciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBfX2V4dGVuZHMoT3JkZXJlZE1hcEl0ZXJhdG9yLCBlKTtcbiAgICBmdW5jdGlvbiBPcmRlcmVkTWFwSXRlcmF0b3IociwgdCwgaSwgbikge1xuICAgICAgICB2YXIgcyA9IGUuY2FsbCh0aGlzLCByLCB0LCBuKSB8fCB0aGlzO1xuICAgICAgICBzLmNvbnRhaW5lciA9IGk7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT3JkZXJlZE1hcEl0ZXJhdG9yLnByb3RvdHlwZSwgXCJwb2ludGVyXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLkMgPT09IHRoaXMuQSkge1xuICAgICAgICAgICAgICAgIHRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGUgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShbXSwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24ociwgdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gXCIwXCIpIHJldHVybiBlLkMudTsgZWxzZSBpZiAodCA9PT0gXCIxXCIpIHJldHVybiBlLkMubztcbiAgICAgICAgICAgICAgICAgICAgclswXSA9IGUuQy51O1xuICAgICAgICAgICAgICAgICAgICByWzFdID0gZS5DLm87XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByW3RdO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihyLCB0LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICE9PSBcIjFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcInByb3AgbXVzdCBiZSAxXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGUuQy5vID0gaTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPcmRlcmVkTWFwSXRlcmF0b3IucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwSXRlcmF0b3IodGhpcy5DLCB0aGlzLkEsIHRoaXMuY29udGFpbmVyLCB0aGlzLml0ZXJhdG9yVHlwZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT3JkZXJlZE1hcEl0ZXJhdG9yO1xufShUcmVlSXRlcmF0b3IpO1xuXG52YXIgT3JkZXJlZE1hcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICBfX2V4dGVuZHMoT3JkZXJlZE1hcCwgZSk7XG4gICAgZnVuY3Rpb24gT3JkZXJlZE1hcChyLCB0LCBpKSB7XG4gICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHIgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbiA9IGUuY2FsbCh0aGlzLCB0LCBpKSB8fCB0aGlzO1xuICAgICAgICB2YXIgcyA9IG47XG4gICAgICAgIHIuZm9yRWFjaCgoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcy5zZXRFbGVtZW50KGVbMF0sIGVbMV0pO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5iZWdpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXBJdGVyYXRvcih0aGlzLkEudCB8fCB0aGlzLkEsIHRoaXMuQSwgdGhpcyk7XG4gICAgfTtcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwSXRlcmF0b3IodGhpcy5BLCB0aGlzLkEsIHRoaXMpO1xuICAgIH07XG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuckJlZ2luID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcEl0ZXJhdG9yKHRoaXMuQS5pIHx8IHRoaXMuQSwgdGhpcy5BLCB0aGlzLCAxKTtcbiAgICB9O1xuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnJFbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwSXRlcmF0b3IodGhpcy5BLCB0aGlzLkEsIHRoaXMsIDEpO1xuICAgIH07XG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuZnJvbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuXyA9PT0gMCkgcmV0dXJuO1xuICAgICAgICB2YXIgZSA9IHRoaXMuQS50O1xuICAgICAgICByZXR1cm4gWyBlLnUsIGUubyBdO1xuICAgIH07XG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuYmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fID09PSAwKSByZXR1cm47XG4gICAgICAgIHZhciBlID0gdGhpcy5BLmk7XG4gICAgICAgIHJldHVybiBbIGUudSwgZS5vIF07XG4gICAgfTtcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5sb3dlckJvdW5kID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgciA9IHRoaXMubSh0aGlzLk4sIGUpO1xuICAgICAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXBJdGVyYXRvcihyLCB0aGlzLkEsIHRoaXMpO1xuICAgIH07XG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUudXBwZXJCb3VuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzLkIodGhpcy5OLCBlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwSXRlcmF0b3IociwgdGhpcy5BLCB0aGlzKTtcbiAgICB9O1xuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnJldmVyc2VMb3dlckJvdW5kID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgciA9IHRoaXMuaih0aGlzLk4sIGUpO1xuICAgICAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXBJdGVyYXRvcihyLCB0aGlzLkEsIHRoaXMpO1xuICAgIH07XG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUucmV2ZXJzZVVwcGVyQm91bmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5rKHRoaXMuTiwgZSk7XG4gICAgICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcEl0ZXJhdG9yKHIsIHRoaXMuQSwgdGhpcyk7XG4gICAgfTtcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZSkge1xuICAgICAgICB0aGlzLlAoKGZ1bmN0aW9uKHIsIHQsIGkpIHtcbiAgICAgICAgICAgIGUoWyByLnUsIHIubyBdLCB0LCBpKTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuc2V0RWxlbWVudCA9IGZ1bmN0aW9uKGUsIHIsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuRChlLCByLCB0KTtcbiAgICB9O1xuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLmdldEVsZW1lbnRCeVBvcyA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGUgPCAwIHx8IGUgPiB0aGlzLl8gLSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgciA9IHRoaXMuUChlKTtcbiAgICAgICAgcmV0dXJuIFsgci51LCByLm8gXTtcbiAgICB9O1xuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5GKHRoaXMuTiwgZSk7XG4gICAgICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcEl0ZXJhdG9yKHIsIHRoaXMuQSwgdGhpcyk7XG4gICAgfTtcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5nZXRFbGVtZW50QnlLZXkgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciByID0gdGhpcy5GKHRoaXMuTiwgZSk7XG4gICAgICAgIHJldHVybiByLm87XG4gICAgfTtcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS51bmlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHIgPSB0aGlzO1xuICAgICAgICBlLmZvckVhY2goKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHIuc2V0RWxlbWVudChlWzBdLCBlWzFdKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fO1xuICAgIH07XG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZSwgciwgdCwgaTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIChmdW5jdGlvbihuKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG4ubGFiZWwpIHtcbiAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIGUgPSB0aGlzLl87XG4gICAgICAgICAgICAgICAgciA9IHRoaXMuUCgpO1xuICAgICAgICAgICAgICAgIHQgPSAwO1xuICAgICAgICAgICAgICAgIG4ubGFiZWwgPSAxO1xuXG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoISh0IDwgZSkpIHJldHVybiBbIDMsIDQgXTtcbiAgICAgICAgICAgICAgICBpID0gclt0XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gWyA0LCBbIGkudSwgaS5vIF0gXTtcblxuICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgbi5zZW50KCk7XG4gICAgICAgICAgICAgICAgbi5sYWJlbCA9IDM7XG5cbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICsrdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gWyAzLCAxIF07XG5cbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiBbIDIgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE9yZGVyZWRNYXA7XG59KFRyZWVDb250YWluZXIpO1xuXG5leHBvcnQgeyBPcmRlcmVkTWFwIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIxIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlZ2lzdGVyQWRtaW5TZXJ2aWNlID0gcmVnaXN0ZXJBZG1pblNlcnZpY2U7XG5leHBvcnRzLmFkZEFkbWluU2VydmljZXNUb1NlcnZlciA9IGFkZEFkbWluU2VydmljZXNUb1NlcnZlcjtcbmNvbnN0IHJlZ2lzdGVyZWRBZG1pblNlcnZpY2VzID0gW107XG5mdW5jdGlvbiByZWdpc3RlckFkbWluU2VydmljZShnZXRTZXJ2aWNlRGVmaW5pdGlvbiwgZ2V0SGFuZGxlcnMpIHtcbiAgICByZWdpc3RlcmVkQWRtaW5TZXJ2aWNlcy5wdXNoKHsgZ2V0U2VydmljZURlZmluaXRpb24sIGdldEhhbmRsZXJzIH0pO1xufVxuZnVuY3Rpb24gYWRkQWRtaW5TZXJ2aWNlc1RvU2VydmVyKHNlcnZlcikge1xuICAgIGZvciAoY29uc3QgeyBnZXRTZXJ2aWNlRGVmaW5pdGlvbiwgZ2V0SGFuZGxlcnMgfSBvZiByZWdpc3RlcmVkQWRtaW5TZXJ2aWNlcykge1xuICAgICAgICBzZXJ2ZXIuYWRkU2VydmljZShnZXRTZXJ2aWNlRGVmaW5pdGlvbigpLCBnZXRIYW5kbGVycygpKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hZG1pbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DbGllbnREdXBsZXhTdHJlYW1JbXBsID0gZXhwb3J0cy5DbGllbnRXcml0YWJsZVN0cmVhbUltcGwgPSBleHBvcnRzLkNsaWVudFJlYWRhYmxlU3RyZWFtSW1wbCA9IGV4cG9ydHMuQ2xpZW50VW5hcnlDYWxsSW1wbCA9IHZvaWQgMDtcbmV4cG9ydHMuY2FsbEVycm9yRnJvbVN0YXR1cyA9IGNhbGxFcnJvckZyb21TdGF0dXM7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbi8qKlxuICogQ29uc3RydWN0IGEgU2VydmljZUVycm9yIGZyb20gYSBTdGF0dXNPYmplY3QuIFRoaXMgZnVuY3Rpb24gZXhpc3RzIHByaW1hcmlseVxuICogYXMgYW4gYXR0ZW1wdCB0byBtYWtlIHRoZSBlcnJvciBzdGFjayB0cmFjZSBjbGVhcmx5IGNvbW11bmljYXRlIHRoYXQgdGhlXG4gKiBlcnJvciBpcyBub3QgbmVjZXNzYXJpbHkgYSBwcm9ibGVtIGluIGdSUEMgaXRzZWxmLlxuICogQHBhcmFtIHN0YXR1c1xuICovXG5mdW5jdGlvbiBjYWxsRXJyb3JGcm9tU3RhdHVzKHN0YXR1cywgY2FsbGVyU3RhY2spIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYCR7c3RhdHVzLmNvZGV9ICR7Y29uc3RhbnRzXzEuU3RhdHVzW3N0YXR1cy5jb2RlXX06ICR7c3RhdHVzLmRldGFpbHN9YDtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICBjb25zdCBzdGFjayA9IGAke2Vycm9yLnN0YWNrfVxcbmZvciBjYWxsIGF0XFxuJHtjYWxsZXJTdGFja31gO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG5ldyBFcnJvcihtZXNzYWdlKSwgc3RhdHVzLCB7IHN0YWNrIH0pO1xufVxuY2xhc3MgQ2xpZW50VW5hcnlDYWxsSW1wbCBleHRlbmRzIGV2ZW50c18xLkV2ZW50RW1pdHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgb24gY2xpZW50Jyk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICd1bmtub3duJztcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBdXRoQ29udGV4dCgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50VW5hcnlDYWxsSW1wbCA9IENsaWVudFVuYXJ5Q2FsbEltcGw7XG5jbGFzcyBDbGllbnRSZWFkYWJsZVN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5SZWFkYWJsZSB7XG4gICAgY29uc3RydWN0b3IoZGVzZXJpYWxpemUpIHtcbiAgICAgICAgc3VwZXIoeyBvYmplY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLmRlc2VyaWFsaXplID0gZGVzZXJpYWxpemU7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgb24gY2xpZW50Jyk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICd1bmtub3duJztcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiAoX2IgPSAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBdXRoQ29udGV4dCgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsO1xuICAgIH1cbiAgICBfcmVhZChfc2l6ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXJ0UmVhZCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsID0gQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsO1xuY2xhc3MgQ2xpZW50V3JpdGFibGVTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuV3JpdGFibGUge1xuICAgIGNvbnN0cnVjdG9yKHNlcmlhbGl6ZSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnQ2FuY2VsbGVkIG9uIGNsaWVudCcpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndW5rbm93bic7XG4gICAgfVxuICAgIGdldEF1dGhDb250ZXh0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QXV0aENvbnRleHQoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmbGFncyA9IE51bWJlcihlbmNvZGluZyk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzTmFOKGZsYWdzKSkge1xuICAgICAgICAgICAgY29udGV4dC5mbGFncyA9IGZsYWdzO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgY2h1bmspO1xuICAgIH1cbiAgICBfZmluYWwoY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYWxmQ2xvc2UoKTtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudFdyaXRhYmxlU3RyZWFtSW1wbCA9IENsaWVudFdyaXRhYmxlU3RyZWFtSW1wbDtcbmNsYXNzIENsaWVudER1cGxleFN0cmVhbUltcGwgZXh0ZW5kcyBzdHJlYW1fMS5EdXBsZXgge1xuICAgIGNvbnN0cnVjdG9yKHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUpIHtcbiAgICAgICAgc3VwZXIoeyBvYmplY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbiAgICAgICAgdGhpcy5kZXNlcmlhbGl6ZSA9IGRlc2VyaWFsaXplO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVELCAnQ2FuY2VsbGVkIG9uIGNsaWVudCcpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAndW5rbm93bic7XG4gICAgfVxuICAgIGdldEF1dGhDb250ZXh0KCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QXV0aENvbnRleHQoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogbnVsbDtcbiAgICB9XG4gICAgX3JlYWQoX3NpemUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0ge1xuICAgICAgICAgICAgY2FsbGJhY2s6IGNiLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBmbGFncyA9IE51bWJlcihlbmNvZGluZyk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzTmFOKGZsYWdzKSkge1xuICAgICAgICAgICAgY29udGV4dC5mbGFncyA9IGZsYWdzO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuY2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgY2h1bmspO1xuICAgIH1cbiAgICBfZmluYWwoY2IpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLmNhbGwpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYWxmQ2xvc2UoKTtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnRzLkNsaWVudER1cGxleFN0cmVhbUltcGwgPSBDbGllbnREdXBsZXhTdHJlYW1JbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JbnRlcmNlcHRpbmdMaXN0ZW5lckltcGwgPSB2b2lkIDA7XG5leHBvcnRzLnN0YXR1c09yRnJvbVZhbHVlID0gc3RhdHVzT3JGcm9tVmFsdWU7XG5leHBvcnRzLnN0YXR1c09yRnJvbUVycm9yID0gc3RhdHVzT3JGcm9tRXJyb3I7XG5leHBvcnRzLmlzSW50ZXJjZXB0aW5nTGlzdGVuZXIgPSBpc0ludGVyY2VwdGluZ0xpc3RlbmVyO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuZnVuY3Rpb24gc3RhdHVzT3JGcm9tVmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0YXR1c09yRnJvbUVycm9yKGVycm9yKSB7XG4gICAgdmFyIF9hO1xuICAgIHJldHVybiB7XG4gICAgICAgIG9rOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZXJyb3IpLCB7IG1ldGFkYXRhOiAoX2EgPSBlcnJvci5tZXRhZGF0YSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9KVxuICAgIH07XG59XG5mdW5jdGlvbiBpc0ludGVyY2VwdGluZ0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIChsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhLmxlbmd0aCA9PT0gMSk7XG59XG5jbGFzcyBJbnRlcmNlcHRpbmdMaXN0ZW5lckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGxpc3RlbmVyLCBuZXh0TGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICB0aGlzLm5leHRMaXN0ZW5lciA9IG5leHRMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IG51bGw7XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UodGhpcy5wZW5kaW5nTWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwcm9jZXNzUGVuZGluZ1N0YXR1cygpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1N0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHRoaXMucGVuZGluZ1N0YXR1cyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhLCBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ01lc3NhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIC8qIElmIHRoaXMgbGlzdGVuZXIgcHJvY2Vzc2VzIG1lc3NhZ2VzIGFzeW5jaHJvbm91c2x5LCB0aGUgbGFzdCBtZXNzYWdlIG1heVxuICAgICAgICAgKiBiZSByZW9yZGVyZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBzdGF0dXMgKi9cbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlLCBtc2cgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG1zZztcbiAgICAgICAgICAgICAgICB0aGlzLmhhc1BlbmRpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nU3RhdHVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHN0YXR1cywgcHJvY2Vzc2VkU3RhdHVzID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSB8fCB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gcHJvY2Vzc2VkU3RhdHVzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHByb2Nlc3NlZFN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJjZXB0aW5nTGlzdGVuZXJJbXBsID0gSW50ZXJjZXB0aW5nTGlzdGVuZXJJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsbC1pbnRlcmZhY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW50ZXJjZXB0aW5nQ2FsbCA9IGV4cG9ydHMuUmVxdWVzdGVyQnVpbGRlciA9IGV4cG9ydHMuTGlzdGVuZXJCdWlsZGVyID0gZXhwb3J0cy5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciA9IHZvaWQgMDtcbmV4cG9ydHMuZ2V0SW50ZXJjZXB0aW5nQ2FsbCA9IGdldEludGVyY2VwdGluZ0NhbGw7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBjYWxsX2ludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vY2FsbC1pbnRlcmZhY2VcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGVycm9yXzEgPSByZXF1aXJlKFwiLi9lcnJvclwiKTtcbi8qKlxuICogRXJyb3IgY2xhc3MgYXNzb2NpYXRlZCB3aXRoIHBhc3NpbmcgYm90aCBpbnRlcmNlcHRvcnMgYW5kIGludGVyY2VwdG9yXG4gKiBwcm92aWRlcnMgdG8gYSBjbGllbnQgY29uc3RydWN0b3Igb3IgYXMgY2FsbCBvcHRpb25zLlxuICovXG5jbGFzcyBJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3InO1xuICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvcik7XG4gICAgfVxufVxuZXhwb3J0cy5JbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvciA9IEludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yO1xuY2xhc3MgTGlzdGVuZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgd2l0aE9uUmVjZWl2ZU1ldGFkYXRhKG9uUmVjZWl2ZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvblJlY2VpdmVNZXRhZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVNZXNzYWdlKG9uUmVjZWl2ZU1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gb25SZWNlaXZlTWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVTdGF0dXMob25SZWNlaXZlU3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gb25SZWNlaXZlU3RhdHVzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogdGhpcy5tZXRhZGF0YSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5MaXN0ZW5lckJ1aWxkZXIgPSBMaXN0ZW5lckJ1aWxkZXI7XG5jbGFzcyBSZXF1ZXN0ZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmhhbGZDbG9zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5jYW5jZWwgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHdpdGhTdGFydChzdGFydCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoU2VuZE1lc3NhZ2Uoc2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gc2VuZE1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoSGFsZkNsb3NlKGhhbGZDbG9zZSkge1xuICAgICAgICB0aGlzLmhhbGZDbG9zZSA9IGhhbGZDbG9zZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhDYW5jZWwoY2FuY2VsKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYnVpbGQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogdGhpcy5zdGFydCxcbiAgICAgICAgICAgIHNlbmRNZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICAgICAgICBoYWxmQ2xvc2U6IHRoaXMuaGFsZkNsb3NlLFxuICAgICAgICAgICAgY2FuY2VsOiB0aGlzLmNhbmNlbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlJlcXVlc3RlckJ1aWxkZXIgPSBSZXF1ZXN0ZXJCdWlsZGVyO1xuLyoqXG4gKiBBIExpc3RlbmVyIHdpdGggYSBkZWZhdWx0IHBhc3MtdGhyb3VnaCBpbXBsZW1lbnRhdGlvbiBvZiBlYWNoIG1ldGhvZC4gVXNlZFxuICogZm9yIGZpbGxpbmcgb3V0IExpc3RlbmVycyB3aXRoIHNvbWUgbWV0aG9kcyBvbWl0dGVkLlxuICovXG5jb25zdCBkZWZhdWx0TGlzdGVuZXIgPSB7XG4gICAgb25SZWNlaXZlTWV0YWRhdGE6IChtZXRhZGF0YSwgbmV4dCkgPT4ge1xuICAgICAgICBuZXh0KG1ldGFkYXRhKTtcbiAgICB9LFxuICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IChtZXNzYWdlLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBvblJlY2VpdmVTdGF0dXM6IChzdGF0dXMsIG5leHQpID0+IHtcbiAgICAgICAgbmV4dChzdGF0dXMpO1xuICAgIH0sXG59O1xuLyoqXG4gKiBBIFJlcXVlc3RlciB3aXRoIGEgZGVmYXVsdCBwYXNzLXRocm91Z2ggaW1wbGVtZW50YXRpb24gb2YgZWFjaCBtZXRob2QuIFVzZWRcbiAqIGZvciBmaWxsaW5nIG91dCBSZXF1ZXN0ZXJzIHdpdGggc29tZSBtZXRob2RzIG9taXR0ZWQuXG4gKi9cbmNvbnN0IGRlZmF1bHRSZXF1ZXN0ZXIgPSB7XG4gICAgc3RhcnQ6IChtZXRhZGF0YSwgbGlzdGVuZXIsIG5leHQpID0+IHtcbiAgICAgICAgbmV4dChtZXRhZGF0YSwgbGlzdGVuZXIpO1xuICAgIH0sXG4gICAgc2VuZE1lc3NhZ2U6IChtZXNzYWdlLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBoYWxmQ2xvc2U6IG5leHQgPT4ge1xuICAgICAgICBuZXh0KCk7XG4gICAgfSxcbiAgICBjYW5jZWw6IG5leHQgPT4ge1xuICAgICAgICBuZXh0KCk7XG4gICAgfSxcbn07XG5jbGFzcyBJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihuZXh0Q2FsbCwgcmVxdWVzdGVyKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdGhpcy5uZXh0Q2FsbCA9IG5leHRDYWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgbWV0YWRhdGEgaGFzIGJlZW4gcGFzc2VkIHRvIHRoZSByZXF1ZXN0ZXIncyBzdGFydFxuICAgICAgICAgKiBtZXRob2QgYnV0IGl0IGhhcyBub3QgYmVlbiBwYXNzZWQgdG8gdGhlIGNvcnJlc3BvbmRpbmcgbmV4dCBjYWxsYmFja1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1lc3NhZ2UgY29udGV4dCBmb3IgYSBwZW5kaW5nIG1lc3NhZ2UgdGhhdCBpcyB3YWl0aW5nIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZUNvbnRleHQgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIHRoYXQgYSBtZXNzYWdlIGhhcyBiZWVuIHBhc3NlZCB0byB0aGUgcmVxdWVzdGVyJ3Mgc2VuZE1lc3NhZ2VcbiAgICAgICAgICogbWV0aG9kIGJ1dCBpdCBoYXMgbm90IGJlZW4gcGFzc2VkIHRvIHRoZSBjb3JyZXNwb25kaW5nIG5leHQgY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IGEgc3RhdHVzIHdhcyByZWNlaXZlZCBidXQgY291bGQgbm90IGJlIHByb3BhZ2F0ZWQgYmVjYXVzZVxuICAgICAgICAgKiBhIG1lc3NhZ2Ugd2FzIHN0aWxsIGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGVuZGluZ0hhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICBpZiAocmVxdWVzdGVyKSB7XG4gICAgICAgICAgICB0aGlzLnJlcXVlc3RlciA9IHtcbiAgICAgICAgICAgICAgICBzdGFydDogKF9hID0gcmVxdWVzdGVyLnN0YXJ0KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0UmVxdWVzdGVyLnN0YXJ0LFxuICAgICAgICAgICAgICAgIHNlbmRNZXNzYWdlOiAoX2IgPSByZXF1ZXN0ZXIuc2VuZE1lc3NhZ2UpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGRlZmF1bHRSZXF1ZXN0ZXIuc2VuZE1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgaGFsZkNsb3NlOiAoX2MgPSByZXF1ZXN0ZXIuaGFsZkNsb3NlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0UmVxdWVzdGVyLmhhbGZDbG9zZSxcbiAgICAgICAgICAgICAgICBjYW5jZWw6IChfZCA9IHJlcXVlc3Rlci5jYW5jZWwpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRSZXF1ZXN0ZXIuY2FuY2VsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWVzdGVyID0gZGVmYXVsdFJlcXVlc3RlcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscykge1xuICAgICAgICB0aGlzLnJlcXVlc3Rlci5jYW5jZWwoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2VDb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQodGhpcy5wZW5kaW5nTWVzc2FnZUNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZUNvbnRleHQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdIYWxmQ2xvc2UpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dENhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGludGVyY2VwdGluZ0xpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICAgICAgICBjb25zdCBmdWxsSW50ZXJjZXB0aW5nTGlzdGVuZXIgPSB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogKF9iID0gKF9hID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYmluZChpbnRlcmNlcHRpbmdMaXN0ZW5lcikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IChtZXRhZGF0YSA9PiB7IH0pLFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogKF9kID0gKF9jID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5iaW5kKGludGVyY2VwdGluZ0xpc3RlbmVyKSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogKG1lc3NhZ2UgPT4geyB9KSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogKF9mID0gKF9lID0gaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IG51bGwgfHwgaW50ZXJjZXB0aW5nTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGluZ0xpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmJpbmQoaW50ZXJjZXB0aW5nTGlzdGVuZXIpKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiAoc3RhdHVzID0+IHsgfSksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZXIuc3RhcnQobWV0YWRhdGEsIGZ1bGxJbnRlcmNlcHRpbmdMaXN0ZW5lciwgKG1kLCBsaXN0ZW5lcikgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGZpbmFsSW50ZXJjZXB0aW5nTGlzdGVuZXI7XG4gICAgICAgICAgICBpZiAoKDAsIGNhbGxfaW50ZXJmYWNlXzEuaXNJbnRlcmNlcHRpbmdMaXN0ZW5lcikobGlzdGVuZXIpKSB7XG4gICAgICAgICAgICAgICAgZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZnVsbExpc3RlbmVyID0ge1xuICAgICAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogKF9hID0gbGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRMaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogKF9iID0gbGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdExpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogKF9jID0gbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0TGlzdGVuZXIub25SZWNlaXZlU3RhdHVzLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZmluYWxJbnRlcmNlcHRpbmdMaXN0ZW5lciA9IG5ldyBjYWxsX2ludGVyZmFjZV8xLkludGVyY2VwdGluZ0xpc3RlbmVySW1wbChmdWxsTGlzdGVuZXIsIGZ1bGxJbnRlcmNlcHRpbmdMaXN0ZW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLnN0YXJ0KG1kLCBmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdNZXNzYWdlKCk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nSGFsZkNsb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSwgZmluYWxNZXNzYWdlID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2VDb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dENhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBmaW5hbE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdIYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB0aGlzLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe30sIG1lc3NhZ2UpO1xuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMubmV4dENhbGwuc3RhcnRSZWFkKCk7XG4gICAgfVxuICAgIGhhbGZDbG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZXIuaGFsZkNsb3NlKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSB8fCB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nSGFsZkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dENhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0QXV0aENvbnRleHQoKTtcbiAgICB9XG59XG5leHBvcnRzLkludGVyY2VwdGluZ0NhbGwgPSBJbnRlcmNlcHRpbmdDYWxsO1xuZnVuY3Rpb24gZ2V0Q2FsbChjaGFubmVsLCBwYXRoLCBvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBkZWFkbGluZSA9IChfYSA9IG9wdGlvbnMuZGVhZGxpbmUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IEluZmluaXR5O1xuICAgIGNvbnN0IGhvc3QgPSBvcHRpb25zLmhvc3Q7XG4gICAgY29uc3QgcGFyZW50ID0gKF9iID0gb3B0aW9ucy5wYXJlbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGw7XG4gICAgY29uc3QgcHJvcGFnYXRlRmxhZ3MgPSBvcHRpb25zLnByb3BhZ2F0ZV9mbGFncztcbiAgICBjb25zdCBjcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHM7XG4gICAgY29uc3QgY2FsbCA9IGNoYW5uZWwuY3JlYXRlQ2FsbChwYXRoLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50LCBwcm9wYWdhdGVGbGFncyk7XG4gICAgaWYgKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIGNhbGwuc2V0Q3JlZGVudGlhbHMoY3JlZGVudGlhbHMpO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbDtcbn1cbi8qKlxuICogSW50ZXJjZXB0aW5nQ2FsbCBpbXBsZW1lbnRhdGlvbiB0aGF0IGRpcmVjdGx5IG93bnMgdGhlIHVuZGVybHlpbmcgQ2FsbFxuICogb2JqZWN0IGFuZCBoYW5kbGVzIHNlcmlhbGl6YXRpb24gYW5kIGRlc2VyYWl6bGlhdGlvbi5cbiAqL1xuY2xhc3MgQmFzZUludGVyY2VwdGluZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKGNhbGwsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbWV0aG9kRGVmaW5pdGlvbikge1xuICAgICAgICB0aGlzLmNhbGwgPSBjYWxsO1xuICAgICAgICB0aGlzLm1ldGhvZERlZmluaXRpb24gPSBtZXRob2REZWZpbml0aW9uO1xuICAgIH1cbiAgICBjYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscykge1xuICAgICAgICB0aGlzLmNhbGwuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldFBlZXIoKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICAgICAgbGV0IHNlcmlhbGl6ZWQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXJpYWxpemVkID0gdGhpcy5tZXRob2REZWZpbml0aW9uLnJlcXVlc3RTZXJpYWxpemUobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbC5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCwgYFJlcXVlc3QgbWVzc2FnZSBzZXJpYWxpemF0aW9uIGZhaWx1cmU6ICR7KDAsIGVycm9yXzEuZ2V0RXJyb3JNZXNzYWdlKShlKX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBzZXJpYWxpemVkKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh7fSwgbWVzc2FnZSk7XG4gICAgfVxuICAgIHN0YXJ0KG1ldGFkYXRhLCBpbnRlcmNlcHRpbmdMaXN0ZW5lcikge1xuICAgICAgICBsZXQgcmVhZEVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYWxsLnN0YXJ0KG1ldGFkYXRhLCB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogbWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJjZXB0aW5nTGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGludGVyY2VwdGluZ0xpc3RlbmVyLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogbWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgbGV0IGRlc2VyaWFsaXplZDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBkZXNlcmlhbGl6ZWQgPSB0aGlzLm1ldGhvZERlZmluaXRpb24ucmVzcG9uc2VEZXNlcmlhbGl6ZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVhZEVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlc3BvbnNlIG1lc3NhZ2UgcGFyc2luZyBlcnJvcjogJHsoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGUpfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsLmNhbmNlbFdpdGhTdGF0dXMocmVhZEVycm9yLmNvZGUsIHJlYWRFcnJvci5kZXRhaWxzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoX2EgPSBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJjZXB0aW5nTGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaW50ZXJjZXB0aW5nTGlzdGVuZXIsIGRlc2VyaWFsaXplZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgaWYgKHJlYWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gbnVsbCB8fCBpbnRlcmNlcHRpbmdMaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW50ZXJjZXB0aW5nTGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChpbnRlcmNlcHRpbmdMaXN0ZW5lciwgcmVhZEVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIChfYiA9IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGluZ0xpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnRlcmNlcHRpbmdMaXN0ZW5lci5vblJlY2VpdmVTdGF0dXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGludGVyY2VwdGluZ0xpc3RlbmVyLCBzdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgaGFsZkNsb3NlKCkge1xuICAgICAgICB0aGlzLmNhbGwuaGFsZkNsb3NlKCk7XG4gICAgfVxuICAgIGdldEF1dGhDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldEF1dGhDb250ZXh0KCk7XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlSW50ZXJjZXB0aW5nQ2FsbCB3aXRoIHNwZWNpYWwtY2FzZWQgYmVoYXZpb3IgZm9yIG1ldGhvZHMgd2l0aCB1bmFyeVxuICogcmVzcG9uc2VzLlxuICovXG5jbGFzcyBCYXNlVW5hcnlJbnRlcmNlcHRpbmdDYWxsIGV4dGVuZHMgQmFzZUludGVyY2VwdGluZ0NhbGwge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY29uc3RydWN0b3IoY2FsbCwgbWV0aG9kRGVmaW5pdGlvbikge1xuICAgICAgICBzdXBlcihjYWxsLCBtZXRob2REZWZpbml0aW9uKTtcbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGxldCByZWNlaXZlZE1lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgd3JhcHBlckxpc3RlbmVyID0ge1xuICAgICAgICAgICAgb25SZWNlaXZlTWV0YWRhdGE6IChfYiA9IChfYSA9IGxpc3RlbmVyID09PSBudWxsIHx8IGxpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmJpbmQobGlzdGVuZXIpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAobWV0YWRhdGEgPT4geyB9KSxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICByZWNlaXZlZE1lc3NhZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgIChfYSA9IGxpc3RlbmVyID09PSBudWxsIHx8IGxpc3RlbmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChsaXN0ZW5lciwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgICAgICBpZiAoIXJlY2VpdmVkTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBsaXN0ZW5lciA9PT0gbnVsbCB8fCBsaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwobGlzdGVuZXIsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoX2IgPSBsaXN0ZW5lciA9PT0gbnVsbCB8fCBsaXN0ZW5lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChsaXN0ZW5lciwgc3RhdHVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHN1cGVyLnN0YXJ0KG1ldGFkYXRhLCB3cmFwcGVyTGlzdGVuZXIpO1xuICAgICAgICB0aGlzLmNhbGwuc3RhcnRSZWFkKCk7XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlSW50ZXJjZXB0aW5nQ2FsbCB3aXRoIHNwZWNpYWwtY2FzZWQgYmVoYXZpb3IgZm9yIG1ldGhvZHMgd2l0aCBzdHJlYW1pbmdcbiAqIHJlc3BvbnNlcy5cbiAqL1xuY2xhc3MgQmFzZVN0cmVhbWluZ0ludGVyY2VwdGluZ0NhbGwgZXh0ZW5kcyBCYXNlSW50ZXJjZXB0aW5nQ2FsbCB7XG59XG5mdW5jdGlvbiBnZXRCb3R0b21JbnRlcmNlcHRpbmdDYWxsKGNoYW5uZWwsIG9wdGlvbnMsIFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbm1ldGhvZERlZmluaXRpb24pIHtcbiAgICBjb25zdCBjYWxsID0gZ2V0Q2FsbChjaGFubmVsLCBtZXRob2REZWZpbml0aW9uLnBhdGgsIG9wdGlvbnMpO1xuICAgIGlmIChtZXRob2REZWZpbml0aW9uLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmFzZVN0cmVhbWluZ0ludGVyY2VwdGluZ0NhbGwoY2FsbCwgbWV0aG9kRGVmaW5pdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEJhc2VVbmFyeUludGVyY2VwdGluZ0NhbGwoY2FsbCwgbWV0aG9kRGVmaW5pdGlvbik7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0SW50ZXJjZXB0aW5nQ2FsbChpbnRlcmNlcHRvckFyZ3MsIFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbm1ldGhvZERlZmluaXRpb24sIG9wdGlvbnMsIGNoYW5uZWwpIHtcbiAgICBpZiAoaW50ZXJjZXB0b3JBcmdzLmNsaWVudEludGVyY2VwdG9ycy5sZW5ndGggPiAwICYmXG4gICAgICAgIGludGVyY2VwdG9yQXJncy5jbGllbnRJbnRlcmNlcHRvclByb3ZpZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnRlcmNlcHRvckNvbmZpZ3VyYXRpb25FcnJvcignQm90aCBpbnRlcmNlcHRvcnMgYW5kIGludGVyY2VwdG9yX3Byb3ZpZGVycyB3ZXJlIHBhc3NlZCBhcyBvcHRpb25zICcgK1xuICAgICAgICAgICAgJ3RvIHRoZSBjbGllbnQgY29uc3RydWN0b3IuIE9ubHkgb25lIG9mIHRoZXNlIGlzIGFsbG93ZWQuJyk7XG4gICAgfVxuICAgIGlmIChpbnRlcmNlcHRvckFyZ3MuY2FsbEludGVyY2VwdG9ycy5sZW5ndGggPiAwICYmXG4gICAgICAgIGludGVyY2VwdG9yQXJncy5jYWxsSW50ZXJjZXB0b3JQcm92aWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IoJ0JvdGggaW50ZXJjZXB0b3JzIGFuZCBpbnRlcmNlcHRvcl9wcm92aWRlcnMgd2VyZSBwYXNzZWQgYXMgY2FsbCAnICtcbiAgICAgICAgICAgICdvcHRpb25zLiBPbmx5IG9uZSBvZiB0aGVzZSBpcyBhbGxvd2VkLicpO1xuICAgIH1cbiAgICBsZXQgaW50ZXJjZXB0b3JzID0gW107XG4gICAgLy8gSW50ZXJjZXB0b3JzIHBhc3NlZCB0byB0aGUgY2FsbCBvdmVycmlkZSBpbnRlcmNlcHRvcnMgcGFzc2VkIHRvIHRoZSBjbGllbnQgY29uc3RydWN0b3JcbiAgICBpZiAoaW50ZXJjZXB0b3JBcmdzLmNhbGxJbnRlcmNlcHRvcnMubGVuZ3RoID4gMCB8fFxuICAgICAgICBpbnRlcmNlcHRvckFyZ3MuY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaW50ZXJjZXB0b3JzID0gW11cbiAgICAgICAgICAgIC5jb25jYXQoaW50ZXJjZXB0b3JBcmdzLmNhbGxJbnRlcmNlcHRvcnMsIGludGVyY2VwdG9yQXJncy5jYWxsSW50ZXJjZXB0b3JQcm92aWRlcnMubWFwKHByb3ZpZGVyID0+IHByb3ZpZGVyKG1ldGhvZERlZmluaXRpb24pKSlcbiAgICAgICAgICAgIC5maWx0ZXIoaW50ZXJjZXB0b3IgPT4gaW50ZXJjZXB0b3IpO1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IGZhbHN5IHZhbHVlcyB3aGVuIHByb3ZpZGVycyByZXR1cm4gbm90aGluZ1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW50ZXJjZXB0b3JzID0gW11cbiAgICAgICAgICAgIC5jb25jYXQoaW50ZXJjZXB0b3JBcmdzLmNsaWVudEludGVyY2VwdG9ycywgaW50ZXJjZXB0b3JBcmdzLmNsaWVudEludGVyY2VwdG9yUHJvdmlkZXJzLm1hcChwcm92aWRlciA9PiBwcm92aWRlcihtZXRob2REZWZpbml0aW9uKSkpXG4gICAgICAgICAgICAuZmlsdGVyKGludGVyY2VwdG9yID0+IGludGVyY2VwdG9yKTtcbiAgICAgICAgLy8gRmlsdGVyIG91dCBmYWxzeSB2YWx1ZXMgd2hlbiBwcm92aWRlcnMgcmV0dXJuIG5vdGhpbmdcbiAgICB9XG4gICAgY29uc3QgaW50ZXJjZXB0b3JPcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywge1xuICAgICAgICBtZXRob2RfZGVmaW5pdGlvbjogbWV0aG9kRGVmaW5pdGlvbixcbiAgICB9KTtcbiAgICAvKiBGb3IgZWFjaCBpbnRlcmNlcHRvciBpbiB0aGUgbGlzdCwgdGhlIG5leHRDYWxsIGZ1bmN0aW9uIHBhc3NlZCB0byBpdCBpc1xuICAgICAqIGJhc2VkIG9uIHRoZSBuZXh0IGludGVyY2VwdG9yIGluIHRoZSBsaXN0LCB1c2luZyBhIG5leHRDYWxsIGZ1bmN0aW9uXG4gICAgICogY29uc3RydWN0ZWQgd2l0aCB0aGUgZm9sbG93aW5nIGludGVyY2VwdG9yIGluIHRoZSBsaXN0LCBhbmQgc28gb24uIFRoZVxuICAgICAqIGluaXRpYWxWYWx1ZSwgd2hpY2ggaXMgZWZmZWN0aXZlbHkgYXQgdGhlIGVuZCBvZiB0aGUgbGlzdCwgaXMgYSBuZXh0Q2FsbFxuICAgICAqIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBnZXRCb3R0b21JbnRlcmNlcHRpbmdDYWxsLCB0aGUgcmVzdWx0IG9mIHdoaWNoXG4gICAgICogaGFuZGxlcyAoZGUpc2VyaWFsaXphdGlvbiBhbmQgYWxzbyBnZXRzIHRoZSB1bmRlcmx5aW5nIGNhbGwgZnJvbSB0aGVcbiAgICAgKiBjaGFubmVsLiAqL1xuICAgIGNvbnN0IGdldENhbGwgPSBpbnRlcmNlcHRvcnMucmVkdWNlUmlnaHQoKG5leHRDYWxsLCBuZXh0SW50ZXJjZXB0b3IpID0+IHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRPcHRpb25zID0+IG5leHRJbnRlcmNlcHRvcihjdXJyZW50T3B0aW9ucywgbmV4dENhbGwpO1xuICAgIH0sIChmaW5hbE9wdGlvbnMpID0+IGdldEJvdHRvbUludGVyY2VwdGluZ0NhbGwoY2hhbm5lbCwgZmluYWxPcHRpb25zLCBtZXRob2REZWZpbml0aW9uKSk7XG4gICAgcmV0dXJuIGdldENhbGwoaW50ZXJjZXB0b3JPcHRpb25zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC1pbnRlcmNlcHRvcnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2xpZW50ID0gdm9pZCAwO1xuY29uc3QgY2FsbF8xID0gcmVxdWlyZShcIi4vY2FsbFwiKTtcbmNvbnN0IGNoYW5uZWxfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWxcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgY2xpZW50X2ludGVyY2VwdG9yc18xID0gcmVxdWlyZShcIi4vY2xpZW50LWludGVyY2VwdG9yc1wiKTtcbmNvbnN0IENIQU5ORUxfU1lNQk9MID0gU3ltYm9sKCk7XG5jb25zdCBJTlRFUkNFUFRPUl9TWU1CT0wgPSBTeW1ib2woKTtcbmNvbnN0IElOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTCA9IFN5bWJvbCgpO1xuY29uc3QgQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTCA9IFN5bWJvbCgpO1xuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGdldEVycm9yU3RhY2tTdHJpbmcoZXJyb3IpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuICgoX2EgPSBlcnJvci5zdGFjaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNwbGl0KCdcXG4nKS5zbGljZSgxKS5qb2luKCdcXG4nKSkgfHwgJ25vIHN0YWNrIHRyYWNlIGF2YWlsYWJsZSc7XG59XG4vKipcbiAqIEEgZ2VuZXJpYyBnUlBDIGNsaWVudC4gUHJpbWFyaWx5IHVzZWZ1bCBhcyBhIGJhc2UgY2xhc3MgZm9yIGFsbCBnZW5lcmF0ZWRcbiAqIGNsaWVudHMuXG4gKi9cbmNsYXNzIENsaWVudCB7XG4gICAgY29uc3RydWN0b3IoYWRkcmVzcywgY3JlZGVudGlhbHMsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXSA9IChfYSA9IG9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgZGVsZXRlIG9wdGlvbnMuaW50ZXJjZXB0b3JzO1xuICAgICAgICB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0gPSAoX2IgPSBvcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW107XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycztcbiAgICAgICAgaWYgKHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIGludGVyY2VwdG9ycyBhbmQgaW50ZXJjZXB0b3JfcHJvdmlkZXJzIHdlcmUgcGFzc2VkIGFzIG9wdGlvbnMgJyArXG4gICAgICAgICAgICAgICAgJ3RvIHRoZSBjbGllbnQgY29uc3RydWN0b3IuIE9ubHkgb25lIG9mIHRoZXNlIGlzIGFsbG93ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXSA9XG4gICAgICAgICAgICBvcHRpb25zLmNhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXI7XG4gICAgICAgIGRlbGV0ZSBvcHRpb25zLmNhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXI7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYW5uZWxPdmVycmlkZSkge1xuICAgICAgICAgICAgdGhpc1tDSEFOTkVMX1NZTUJPTF0gPSBvcHRpb25zLmNoYW5uZWxPdmVycmlkZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvcHRpb25zLmNoYW5uZWxGYWN0b3J5T3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxGYWN0b3J5T3ZlcnJpZGUgPSBvcHRpb25zLmNoYW5uZWxGYWN0b3J5T3ZlcnJpZGU7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5jaGFubmVsRmFjdG9yeU92ZXJyaWRlO1xuICAgICAgICAgICAgdGhpc1tDSEFOTkVMX1NZTUJPTF0gPSBjaGFubmVsRmFjdG9yeU92ZXJyaWRlKGFkZHJlc3MsIGNyZWRlbnRpYWxzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXNbQ0hBTk5FTF9TWU1CT0xdID0gbmV3IGNoYW5uZWxfMS5DaGFubmVsSW1wbGVtZW50YXRpb24oYWRkcmVzcywgY3JlZGVudGlhbHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzW0NIQU5ORUxfU1lNQk9MXS5jbG9zZSgpO1xuICAgIH1cbiAgICBnZXRDaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpc1tDSEFOTkVMX1NZTUJPTF07XG4gICAgfVxuICAgIHdhaXRGb3JSZWFkeShkZWFkbGluZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2hlY2tTdGF0ZSA9IChlcnIpID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb25uZWN0IGJlZm9yZSB0aGUgZGVhZGxpbmUnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG5ld1N0YXRlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHRoaXNbQ0hBTk5FTF9TWU1CT0xdLmdldENvbm5lY3Rpdml0eVN0YXRlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1RoZSBjaGFubmVsIGhhcyBiZWVuIGNsb3NlZCcpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbQ0hBTk5FTF9TWU1CT0xdLndhdGNoQ29ubmVjdGl2aXR5U3RhdGUobmV3U3RhdGUsIGRlYWRsaW5lLCBjaGVja1N0YXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUaGUgY2hhbm5lbCBoYXMgYmVlbiBjbG9zZWQnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZXRJbW1lZGlhdGUoY2hlY2tTdGF0ZSk7XG4gICAgfVxuICAgIGNoZWNrT3B0aW9uYWxVbmFyeVJlc3BvbnNlQXJndW1lbnRzKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oYXJnMSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLCBvcHRpb25zOiB7fSwgY2FsbGJhY2s6IGFyZzEgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGFyZzIpKSB7XG4gICAgICAgICAgICBpZiAoYXJnMSBpbnN0YW5jZW9mIG1ldGFkYXRhXzEuTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXRhZGF0YTogYXJnMSwgb3B0aW9uczoge30sIGNhbGxiYWNrOiBhcmcyIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSwgb3B0aW9uczogYXJnMSwgY2FsbGJhY2s6IGFyZzIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghKGFyZzEgaW5zdGFuY2VvZiBtZXRhZGF0YV8xLk1ldGFkYXRhICYmXG4gICAgICAgICAgICAgICAgYXJnMiBpbnN0YW5jZW9mIE9iamVjdCAmJlxuICAgICAgICAgICAgICAgIGlzRnVuY3Rpb24oYXJnMykpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgYXJndW1lbnRzIHBhc3NlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgbWV0YWRhdGE6IGFyZzEsIG9wdGlvbnM6IGFyZzIsIGNhbGxiYWNrOiBhcmczIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWFrZVVuYXJ5UmVxdWVzdChtZXRob2QsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIGFyZ3VtZW50LCBtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgY2hlY2tlZEFyZ3VtZW50cyA9IHRoaXMuY2hlY2tPcHRpb25hbFVuYXJ5UmVzcG9uc2VBcmd1bWVudHMobWV0YWRhdGEsIG9wdGlvbnMsIGNhbGxiYWNrKTtcbiAgICAgICAgY29uc3QgbWV0aG9kRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIHBhdGg6IG1ldGhvZCxcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgcmVzcG9uc2VTdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgcmVxdWVzdFNlcmlhbGl6ZTogc2VyaWFsaXplLFxuICAgICAgICAgICAgcmVzcG9uc2VEZXNlcmlhbGl6ZTogZGVzZXJpYWxpemUsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBjYWxsUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIGFyZ3VtZW50OiBhcmd1bWVudCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBjaGVja2VkQXJndW1lbnRzLm1ldGFkYXRhLFxuICAgICAgICAgICAgY2FsbDogbmV3IGNhbGxfMS5DbGllbnRVbmFyeUNhbGxJbXBsKCksXG4gICAgICAgICAgICBjaGFubmVsOiB0aGlzW0NIQU5ORUxfU1lNQk9MXSxcbiAgICAgICAgICAgIG1ldGhvZERlZmluaXRpb246IG1ldGhvZERlZmluaXRpb24sXG4gICAgICAgICAgICBjYWxsT3B0aW9uczogY2hlY2tlZEFyZ3VtZW50cy5vcHRpb25zLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGNoZWNrZWRBcmd1bWVudHMuY2FsbGJhY2ssXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKSB7XG4gICAgICAgICAgICBjYWxsUHJvcGVydGllcyA9IHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0oY2FsbFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjYWxsUHJvcGVydGllcy5jYWxsO1xuICAgICAgICBjb25zdCBpbnRlcmNlcHRvckFyZ3MgPSB7XG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvcnM6IHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXSxcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yUHJvdmlkZXJzOiB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JzOiAoX2EgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzOiAoX2IgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcl9wcm92aWRlcnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsID0gKDAsIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5nZXRJbnRlcmNlcHRpbmdDYWxsKShpbnRlcmNlcHRvckFyZ3MsIGNhbGxQcm9wZXJ0aWVzLm1ldGhvZERlZmluaXRpb24sIGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLCBjYWxsUHJvcGVydGllcy5jaGFubmVsKTtcbiAgICAgICAgLyogVGhpcyBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIHRoZSBlbWl0dGVyIGlzIHVzZWQuIFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3RcbiAgICAgICAgICogZW5mb3JjZSB0aGlzIHdpdGggdGhlIHR5cGUgc3lzdGVtLiBXZSBuZWVkIHRvIGNvbnN0cnVjdCB0aGlzIGVtaXR0ZXJcbiAgICAgICAgICogYmVmb3JlIGNhbGxpbmcgdGhlIENhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXIsIGFuZCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGVcbiAgICAgICAgICogY2FsbCBhZnRlciB0aGF0LiAqL1xuICAgICAgICBlbWl0dGVyLmNhbGwgPSBjYWxsO1xuICAgICAgICBsZXQgcmVzcG9uc2VNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgbGV0IHJlY2VpdmVkU3RhdHVzID0gZmFsc2U7XG4gICAgICAgIGxldCBjYWxsZXJTdGFja0Vycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIGNhbGwuc3RhcnQoY2FsbFByb3BlcnRpZXMubWV0YWRhdGEsIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdtZXRhZGF0YScsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlTWVzc2FnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsICdUb28gbWFueSByZXNwb25zZXMgcmVjZWl2ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblJlY2VpdmVTdGF0dXMoc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlY2VpdmVkU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRTdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZU1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlclN0YWNrID0gZ2V0RXJyb3JTdGFja1N0cmluZyhjYWxsZXJTdGFja0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzLmNhbGxiYWNrKCgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdObyBtZXNzYWdlIHJlY2VpdmVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogc3RhdHVzLm1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2FsbGVyU3RhY2spKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxQcm9wZXJ0aWVzLmNhbGxiYWNrKG51bGwsIHJlc3BvbnNlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxlclN0YWNrID0gZ2V0RXJyb3JTdGFja1N0cmluZyhjYWxsZXJTdGFja0Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMuY2FsbGJhY2soKDAsIGNhbGxfMS5jYWxsRXJyb3JGcm9tU3RhdHVzKShzdGF0dXMsIGNhbGxlclN0YWNrKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEF2b2lkIHJldGFpbmluZyB0aGUgY2FsbGVyU3RhY2tFcnJvciBvYmplY3QgaW4gdGhlIGNhbGwgY29udGV4dCBvZlxuICAgICAgICAgICAgICAgICAqIHRoZSBzdGF0dXMgZXZlbnQgaGFuZGxlci4gKi9cbiAgICAgICAgICAgICAgICBjYWxsZXJTdGFja0Vycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoJ3N0YXR1cycsIHN0YXR1cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbC5zZW5kTWVzc2FnZShhcmd1bWVudCk7XG4gICAgICAgIGNhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgIHJldHVybiBlbWl0dGVyO1xuICAgIH1cbiAgICBtYWtlQ2xpZW50U3RyZWFtUmVxdWVzdChtZXRob2QsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIG1ldGFkYXRhLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBjaGVja2VkQXJndW1lbnRzID0gdGhpcy5jaGVja09wdGlvbmFsVW5hcnlSZXNwb25zZUFyZ3VtZW50cyhtZXRhZGF0YSwgb3B0aW9ucywgY2FsbGJhY2spO1xuICAgICAgICBjb25zdCBtZXRob2REZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgcGF0aDogbWV0aG9kLFxuICAgICAgICAgICAgcmVxdWVzdFN0cmVhbTogdHJ1ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlU3RyZWFtOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcXVlc3RTZXJpYWxpemU6IHNlcmlhbGl6ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlRGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgY2FsbFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBtZXRhZGF0YTogY2hlY2tlZEFyZ3VtZW50cy5tZXRhZGF0YSxcbiAgICAgICAgICAgIGNhbGw6IG5ldyBjYWxsXzEuQ2xpZW50V3JpdGFibGVTdHJlYW1JbXBsKHNlcmlhbGl6ZSksXG4gICAgICAgICAgICBjaGFubmVsOiB0aGlzW0NIQU5ORUxfU1lNQk9MXSxcbiAgICAgICAgICAgIG1ldGhvZERlZmluaXRpb246IG1ldGhvZERlZmluaXRpb24sXG4gICAgICAgICAgICBjYWxsT3B0aW9uczogY2hlY2tlZEFyZ3VtZW50cy5vcHRpb25zLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGNoZWNrZWRBcmd1bWVudHMuY2FsbGJhY2ssXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKSB7XG4gICAgICAgICAgICBjYWxsUHJvcGVydGllcyA9IHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0oY2FsbFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBjYWxsUHJvcGVydGllcy5jYWxsO1xuICAgICAgICBjb25zdCBpbnRlcmNlcHRvckFyZ3MgPSB7XG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvcnM6IHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXSxcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yUHJvdmlkZXJzOiB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JzOiAoX2EgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzOiAoX2IgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcl9wcm92aWRlcnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsID0gKDAsIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5nZXRJbnRlcmNlcHRpbmdDYWxsKShpbnRlcmNlcHRvckFyZ3MsIGNhbGxQcm9wZXJ0aWVzLm1ldGhvZERlZmluaXRpb24sIGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLCBjYWxsUHJvcGVydGllcy5jaGFubmVsKTtcbiAgICAgICAgLyogVGhpcyBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIHRoZSBlbWl0dGVyIGlzIHVzZWQuIFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3RcbiAgICAgICAgICogZW5mb3JjZSB0aGlzIHdpdGggdGhlIHR5cGUgc3lzdGVtLiBXZSBuZWVkIHRvIGNvbnN0cnVjdCB0aGlzIGVtaXR0ZXJcbiAgICAgICAgICogYmVmb3JlIGNhbGxpbmcgdGhlIENhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXIsIGFuZCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGVcbiAgICAgICAgICogY2FsbCBhZnRlciB0aGF0LiAqL1xuICAgICAgICBlbWl0dGVyLmNhbGwgPSBjYWxsO1xuICAgICAgICBsZXQgcmVzcG9uc2VNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgbGV0IHJlY2VpdmVkU3RhdHVzID0gZmFsc2U7XG4gICAgICAgIGxldCBjYWxsZXJTdGFja0Vycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIGNhbGwuc3RhcnQoY2FsbFByb3BlcnRpZXMubWV0YWRhdGEsIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdtZXRhZGF0YScsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlTWVzc2FnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsICdUb28gbWFueSByZXNwb25zZXMgcmVjZWl2ZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICBjYWxsLnN0YXJ0UmVhZCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZWRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNlaXZlZFN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5jb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlTWVzc2FnZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGVyU3RhY2sgPSBnZXRFcnJvclN0YWNrU3RyaW5nKGNhbGxlclN0YWNrRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMuY2FsbGJhY2soKDAsIGNhbGxfMS5jYWxsRXJyb3JGcm9tU3RhdHVzKSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ05vIG1lc3NhZ2UgcmVjZWl2ZWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBzdGF0dXMubWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMuY2FsbGJhY2sobnVsbCwgcmVzcG9uc2VNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGVyU3RhY2sgPSBnZXRFcnJvclN0YWNrU3RyaW5nKGNhbGxlclN0YWNrRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsUHJvcGVydGllcy5jYWxsYmFjaygoMCwgY2FsbF8xLmNhbGxFcnJvckZyb21TdGF0dXMpKHN0YXR1cywgY2FsbGVyU3RhY2spKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogQXZvaWQgcmV0YWluaW5nIHRoZSBjYWxsZXJTdGFja0Vycm9yIG9iamVjdCBpbiB0aGUgY2FsbCBjb250ZXh0IG9mXG4gICAgICAgICAgICAgICAgICogdGhlIHN0YXR1cyBldmVudCBoYW5kbGVyLiAqL1xuICAgICAgICAgICAgICAgIGNhbGxlclN0YWNrRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZW1pdCgnc3RhdHVzJywgc3RhdHVzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZW1pdHRlcjtcbiAgICB9XG4gICAgY2hlY2tNZXRhZGF0YUFuZE9wdGlvbnMoYXJnMSwgYXJnMikge1xuICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgIGxldCBvcHRpb25zO1xuICAgICAgICBpZiAoYXJnMSBpbnN0YW5jZW9mIG1ldGFkYXRhXzEuTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhID0gYXJnMTtcbiAgICAgICAgICAgIGlmIChhcmcyKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFyZzI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXJnMSkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBhcmcxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IG1ldGFkYXRhLCBvcHRpb25zIH07XG4gICAgfVxuICAgIG1ha2VTZXJ2ZXJTdHJlYW1SZXF1ZXN0KG1ldGhvZCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSwgYXJndW1lbnQsIG1ldGFkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGNoZWNrZWRBcmd1bWVudHMgPSB0aGlzLmNoZWNrTWV0YWRhdGFBbmRPcHRpb25zKG1ldGFkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgbWV0aG9kRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIHBhdGg6IG1ldGhvZCxcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW06IGZhbHNlLFxuICAgICAgICAgICAgcmVzcG9uc2VTdHJlYW06IHRydWUsXG4gICAgICAgICAgICByZXF1ZXN0U2VyaWFsaXplOiBzZXJpYWxpemUsXG4gICAgICAgICAgICByZXNwb25zZURlc2VyaWFsaXplOiBkZXNlcmlhbGl6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGNhbGxQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgYXJndW1lbnQ6IGFyZ3VtZW50LFxuICAgICAgICAgICAgbWV0YWRhdGE6IGNoZWNrZWRBcmd1bWVudHMubWV0YWRhdGEsXG4gICAgICAgICAgICBjYWxsOiBuZXcgY2FsbF8xLkNsaWVudFJlYWRhYmxlU3RyZWFtSW1wbChkZXNlcmlhbGl6ZSksXG4gICAgICAgICAgICBjaGFubmVsOiB0aGlzW0NIQU5ORUxfU1lNQk9MXSxcbiAgICAgICAgICAgIG1ldGhvZERlZmluaXRpb246IG1ldGhvZERlZmluaXRpb24sXG4gICAgICAgICAgICBjYWxsT3B0aW9uczogY2hlY2tlZEFyZ3VtZW50cy5vcHRpb25zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpc1tDQUxMX0lOVk9DQVRJT05fVFJBTlNGT1JNRVJfU1lNQk9MXSkge1xuICAgICAgICAgICAgY2FsbFByb3BlcnRpZXMgPSB0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKGNhbGxQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHJlYW0gPSBjYWxsUHJvcGVydGllcy5jYWxsO1xuICAgICAgICBjb25zdCBpbnRlcmNlcHRvckFyZ3MgPSB7XG4gICAgICAgICAgICBjbGllbnRJbnRlcmNlcHRvcnM6IHRoaXNbSU5URVJDRVBUT1JfU1lNQk9MXSxcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yUHJvdmlkZXJzOiB0aGlzW0lOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTF0sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JzOiAoX2EgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdLFxuICAgICAgICAgICAgY2FsbEludGVyY2VwdG9yUHJvdmlkZXJzOiAoX2IgPSBjYWxsUHJvcGVydGllcy5jYWxsT3B0aW9ucy5pbnRlcmNlcHRvcl9wcm92aWRlcnMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjYWxsID0gKDAsIGNsaWVudF9pbnRlcmNlcHRvcnNfMS5nZXRJbnRlcmNlcHRpbmdDYWxsKShpbnRlcmNlcHRvckFyZ3MsIGNhbGxQcm9wZXJ0aWVzLm1ldGhvZERlZmluaXRpb24sIGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLCBjYWxsUHJvcGVydGllcy5jaGFubmVsKTtcbiAgICAgICAgLyogVGhpcyBuZWVkcyB0byBoYXBwZW4gYmVmb3JlIHRoZSBlbWl0dGVyIGlzIHVzZWQuIFVuZm9ydHVuYXRlbHkgd2UgY2FuJ3RcbiAgICAgICAgICogZW5mb3JjZSB0aGlzIHdpdGggdGhlIHR5cGUgc3lzdGVtLiBXZSBuZWVkIHRvIGNvbnN0cnVjdCB0aGlzIGVtaXR0ZXJcbiAgICAgICAgICogYmVmb3JlIGNhbGxpbmcgdGhlIENhbGxJbnZvY2F0aW9uVHJhbnNmb3JtZXIsIGFuZCB3ZSBuZWVkIHRvIGNyZWF0ZSB0aGVcbiAgICAgICAgICogY2FsbCBhZnRlciB0aGF0LiAqL1xuICAgICAgICBzdHJlYW0uY2FsbCA9IGNhbGw7XG4gICAgICAgIGxldCByZWNlaXZlZFN0YXR1cyA9IGZhbHNlO1xuICAgICAgICBsZXQgY2FsbGVyU3RhY2tFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgICAgICBjYWxsLnN0YXJ0KGNhbGxQcm9wZXJ0aWVzLm1ldGFkYXRhLCB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdtZXRhZGF0YScsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnB1c2gobWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGlmIChyZWNlaXZlZFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlY2VpdmVkU3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHJlYW0ucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgIT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxsZXJTdGFjayA9IGdldEVycm9yU3RhY2tTdHJpbmcoY2FsbGVyU3RhY2tFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsICgwLCBjYWxsXzEuY2FsbEVycm9yRnJvbVN0YXR1cykoc3RhdHVzLCBjYWxsZXJTdGFjaykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKiBBdm9pZCByZXRhaW5pbmcgdGhlIGNhbGxlclN0YWNrRXJyb3Igb2JqZWN0IGluIHRoZSBjYWxsIGNvbnRleHQgb2ZcbiAgICAgICAgICAgICAgICAgKiB0aGUgc3RhdHVzIGV2ZW50IGhhbmRsZXIuICovXG4gICAgICAgICAgICAgICAgY2FsbGVyU3RhY2tFcnJvciA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ3N0YXR1cycsIHN0YXR1cyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbC5zZW5kTWVzc2FnZShhcmd1bWVudCk7XG4gICAgICAgIGNhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfVxuICAgIG1ha2VCaWRpU3RyZWFtUmVxdWVzdChtZXRob2QsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIG1ldGFkYXRhLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGNoZWNrZWRBcmd1bWVudHMgPSB0aGlzLmNoZWNrTWV0YWRhdGFBbmRPcHRpb25zKG1ldGFkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgbWV0aG9kRGVmaW5pdGlvbiA9IHtcbiAgICAgICAgICAgIHBhdGg6IG1ldGhvZCxcbiAgICAgICAgICAgIHJlcXVlc3RTdHJlYW06IHRydWUsXG4gICAgICAgICAgICByZXNwb25zZVN0cmVhbTogdHJ1ZSxcbiAgICAgICAgICAgIHJlcXVlc3RTZXJpYWxpemU6IHNlcmlhbGl6ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlRGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgY2FsbFByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBtZXRhZGF0YTogY2hlY2tlZEFyZ3VtZW50cy5tZXRhZGF0YSxcbiAgICAgICAgICAgIGNhbGw6IG5ldyBjYWxsXzEuQ2xpZW50RHVwbGV4U3RyZWFtSW1wbChzZXJpYWxpemUsIGRlc2VyaWFsaXplKSxcbiAgICAgICAgICAgIGNoYW5uZWw6IHRoaXNbQ0hBTk5FTF9TWU1CT0xdLFxuICAgICAgICAgICAgbWV0aG9kRGVmaW5pdGlvbjogbWV0aG9kRGVmaW5pdGlvbixcbiAgICAgICAgICAgIGNhbGxPcHRpb25zOiBjaGVja2VkQXJndW1lbnRzLm9wdGlvbnMsXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzW0NBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0xdKSB7XG4gICAgICAgICAgICBjYWxsUHJvcGVydGllcyA9IHRoaXNbQ0FMTF9JTlZPQ0FUSU9OX1RSQU5TRk9STUVSX1NZTUJPTF0oY2FsbFByb3BlcnRpZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGw7XG4gICAgICAgIGNvbnN0IGludGVyY2VwdG9yQXJncyA9IHtcbiAgICAgICAgICAgIGNsaWVudEludGVyY2VwdG9yczogdGhpc1tJTlRFUkNFUFRPUl9TWU1CT0xdLFxuICAgICAgICAgICAgY2xpZW50SW50ZXJjZXB0b3JQcm92aWRlcnM6IHRoaXNbSU5URVJDRVBUT1JfUFJPVklERVJfU1lNQk9MXSxcbiAgICAgICAgICAgIGNhbGxJbnRlcmNlcHRvcnM6IChfYSA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sXG4gICAgICAgICAgICBjYWxsSW50ZXJjZXB0b3JQcm92aWRlcnM6IChfYiA9IGNhbGxQcm9wZXJ0aWVzLmNhbGxPcHRpb25zLmludGVyY2VwdG9yX3Byb3ZpZGVycykgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogW10sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgY2xpZW50X2ludGVyY2VwdG9yc18xLmdldEludGVyY2VwdGluZ0NhbGwpKGludGVyY2VwdG9yQXJncywgY2FsbFByb3BlcnRpZXMubWV0aG9kRGVmaW5pdGlvbiwgY2FsbFByb3BlcnRpZXMuY2FsbE9wdGlvbnMsIGNhbGxQcm9wZXJ0aWVzLmNoYW5uZWwpO1xuICAgICAgICAvKiBUaGlzIG5lZWRzIHRvIGhhcHBlbiBiZWZvcmUgdGhlIGVtaXR0ZXIgaXMgdXNlZC4gVW5mb3J0dW5hdGVseSB3ZSBjYW4ndFxuICAgICAgICAgKiBlbmZvcmNlIHRoaXMgd2l0aCB0aGUgdHlwZSBzeXN0ZW0uIFdlIG5lZWQgdG8gY29uc3RydWN0IHRoaXMgZW1pdHRlclxuICAgICAgICAgKiBiZWZvcmUgY2FsbGluZyB0aGUgQ2FsbEludm9jYXRpb25UcmFuc2Zvcm1lciwgYW5kIHdlIG5lZWQgdG8gY3JlYXRlIHRoZVxuICAgICAgICAgKiBjYWxsIGFmdGVyIHRoYXQuICovXG4gICAgICAgIHN0cmVhbS5jYWxsID0gY2FsbDtcbiAgICAgICAgbGV0IHJlY2VpdmVkU3RhdHVzID0gZmFsc2U7XG4gICAgICAgIGxldCBjYWxsZXJTdGFja0Vycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIGNhbGwuc3RhcnQoY2FsbFByb3BlcnRpZXMubWV0YWRhdGEsIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ21ldGFkYXRhJywgbWV0YWRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjZWl2ZWRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWNlaXZlZFN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RyZWFtLnB1c2gobnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5jb2RlICE9PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FsbGVyU3RhY2sgPSBnZXRFcnJvclN0YWNrU3RyaW5nKGNhbGxlclN0YWNrRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCAoMCwgY2FsbF8xLmNhbGxFcnJvckZyb21TdGF0dXMpKHN0YXR1cywgY2FsbGVyU3RhY2spKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogQXZvaWQgcmV0YWluaW5nIHRoZSBjYWxsZXJTdGFja0Vycm9yIG9iamVjdCBpbiB0aGUgY2FsbCBjb250ZXh0IG9mXG4gICAgICAgICAgICAgICAgICogdGhlIHN0YXR1cyBldmVudCBoYW5kbGVyLiAqL1xuICAgICAgICAgICAgICAgIGNhbGxlclN0YWNrRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdzdGF0dXMnLCBzdGF0dXMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdHJlYW07XG4gICAgfVxufVxuZXhwb3J0cy5DbGllbnQgPSBDbGllbnQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWFrZUNsaWVudENvbnN0cnVjdG9yID0gbWFrZUNsaWVudENvbnN0cnVjdG9yO1xuZXhwb3J0cy5sb2FkUGFja2FnZURlZmluaXRpb24gPSBsb2FkUGFja2FnZURlZmluaXRpb247XG5jb25zdCBjbGllbnRfMSA9IHJlcXVpcmUoXCIuL2NsaWVudFwiKTtcbi8qKlxuICogTWFwIHdpdGggc2hvcnQgbmFtZXMgZm9yIGVhY2ggb2YgdGhlIHJlcXVlc3RlciBtYWtlciBmdW5jdGlvbnMuIFVzZWQgaW5cbiAqIG1ha2VDbGllbnRDb25zdHJ1Y3RvclxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgcmVxdWVzdGVyRnVuY3MgPSB7XG4gICAgdW5hcnk6IGNsaWVudF8xLkNsaWVudC5wcm90b3R5cGUubWFrZVVuYXJ5UmVxdWVzdCxcbiAgICBzZXJ2ZXJfc3RyZWFtOiBjbGllbnRfMS5DbGllbnQucHJvdG90eXBlLm1ha2VTZXJ2ZXJTdHJlYW1SZXF1ZXN0LFxuICAgIGNsaWVudF9zdHJlYW06IGNsaWVudF8xLkNsaWVudC5wcm90b3R5cGUubWFrZUNsaWVudFN0cmVhbVJlcXVlc3QsXG4gICAgYmlkaTogY2xpZW50XzEuQ2xpZW50LnByb3RvdHlwZS5tYWtlQmlkaVN0cmVhbVJlcXVlc3QsXG59O1xuLyoqXG4gKiBSZXR1cm5zIHRydWUsIGlmIGdpdmVuIGtleSBpcyBpbmNsdWRlZCBpbiB0aGUgYmxhY2tsaXN0ZWRcbiAqIGtleXMuXG4gKiBAcGFyYW0ga2V5IGtleSBmb3IgY2hlY2ssIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gaXNQcm90b3R5cGVQb2xsdXRlZChrZXkpIHtcbiAgICByZXR1cm4gWydfX3Byb3RvX18nLCAncHJvdG90eXBlJywgJ2NvbnN0cnVjdG9yJ10uaW5jbHVkZXMoa2V5KTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIGNvbnN0cnVjdG9yIGZvciBhIGNsaWVudCB3aXRoIHRoZSBnaXZlbiBtZXRob2RzLCBhcyBzcGVjaWZpZWQgaW5cbiAqIHRoZSBtZXRob2RzIGFyZ3VtZW50LiBUaGUgcmVzdWx0aW5nIGNsYXNzIHdpbGwgaGF2ZSBhbiBpbnN0YW5jZSBtZXRob2QgZm9yXG4gKiBlYWNoIG1ldGhvZCBpbiB0aGUgc2VydmljZSwgd2hpY2ggaXMgYSBwYXJ0aWFsIGFwcGxpY2F0aW9uIG9mIG9uZSBvZiB0aGVcbiAqIFtDbGllbnRde0BsaW5rIGdycGMuQ2xpZW50fSByZXF1ZXN0IG1ldGhvZHMsIGRlcGVuZGluZyBvbiBgcmVxdWVzdFNlcmlhbGl6ZWBcbiAqIGFuZCBgcmVzcG9uc2VTZXJpYWxpemVgLCB3aXRoIHRoZSBgbWV0aG9kYCwgYHNlcmlhbGl6ZWAsIGFuZCBgZGVzZXJpYWxpemVgXG4gKiBhcmd1bWVudHMgcHJlZGVmaW5lZC5cbiAqIEBwYXJhbSBtZXRob2RzIEFuIG9iamVjdCBtYXBwaW5nIG1ldGhvZCBuYW1lcyB0b1xuICogICAgIG1ldGhvZCBhdHRyaWJ1dGVzXG4gKiBAcGFyYW0gc2VydmljZU5hbWUgVGhlIGZ1bGx5IHF1YWxpZmllZCBuYW1lIG9mIHRoZSBzZXJ2aWNlXG4gKiBAcGFyYW0gY2xhc3NPcHRpb25zIEFuIG9wdGlvbnMgb2JqZWN0LlxuICogQHJldHVybiBOZXcgY2xpZW50IGNvbnN0cnVjdG9yLCB3aGljaCBpcyBhIHN1YmNsYXNzIG9mXG4gKiAgICAge0BsaW5rIGdycGMuQ2xpZW50fSwgYW5kIGhhcyB0aGUgc2FtZSBhcmd1bWVudHMgYXMgdGhhdCBjb25zdHJ1Y3Rvci5cbiAqL1xuZnVuY3Rpb24gbWFrZUNsaWVudENvbnN0cnVjdG9yKG1ldGhvZHMsIHNlcnZpY2VOYW1lLCBjbGFzc09wdGlvbnMpIHtcbiAgICBpZiAoIWNsYXNzT3B0aW9ucykge1xuICAgICAgICBjbGFzc09wdGlvbnMgPSB7fTtcbiAgICB9XG4gICAgY2xhc3MgU2VydmljZUNsaWVudEltcGwgZXh0ZW5kcyBjbGllbnRfMS5DbGllbnQge1xuICAgIH1cbiAgICBPYmplY3Qua2V5cyhtZXRob2RzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBpZiAoaXNQcm90b3R5cGVQb2xsdXRlZChuYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0dHJzID0gbWV0aG9kc1tuYW1lXTtcbiAgICAgICAgbGV0IG1ldGhvZFR5cGU7XG4gICAgICAgIC8vIFRPRE8obXVyZ2F0cm9pZDk5KTogVmVyaWZ5IHRoYXQgd2UgZG9uJ3QgbmVlZCB0aGlzIGFueW1vcmVcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyAmJiBuYW1lLmNoYXJBdCgwKSA9PT0gJyQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01ldGhvZCBuYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCAkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0dHJzLnJlcXVlc3RTdHJlYW0pIHtcbiAgICAgICAgICAgIGlmIChhdHRycy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAnYmlkaSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXRob2RUeXBlID0gJ2NsaWVudF9zdHJlYW0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGF0dHJzLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdzZXJ2ZXJfc3RyZWFtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAndW5hcnknO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlcmlhbGl6ZSA9IGF0dHJzLnJlcXVlc3RTZXJpYWxpemU7XG4gICAgICAgIGNvbnN0IGRlc2VyaWFsaXplID0gYXR0cnMucmVzcG9uc2VEZXNlcmlhbGl6ZTtcbiAgICAgICAgY29uc3QgbWV0aG9kRnVuYyA9IHBhcnRpYWwocmVxdWVzdGVyRnVuY3NbbWV0aG9kVHlwZV0sIGF0dHJzLnBhdGgsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUpO1xuICAgICAgICBTZXJ2aWNlQ2xpZW50SW1wbC5wcm90b3R5cGVbbmFtZV0gPSBtZXRob2RGdW5jO1xuICAgICAgICAvLyBBc3NvY2lhdGUgYWxsIHByb3ZpZGVkIGF0dHJpYnV0ZXMgd2l0aCB0aGUgbWV0aG9kXG4gICAgICAgIE9iamVjdC5hc3NpZ24oU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlW25hbWVdLCBhdHRycyk7XG4gICAgICAgIGlmIChhdHRycy5vcmlnaW5hbE5hbWUgJiYgIWlzUHJvdG90eXBlUG9sbHV0ZWQoYXR0cnMub3JpZ2luYWxOYW1lKSkge1xuICAgICAgICAgICAgU2VydmljZUNsaWVudEltcGwucHJvdG90eXBlW2F0dHJzLm9yaWdpbmFsTmFtZV0gPVxuICAgICAgICAgICAgICAgIFNlcnZpY2VDbGllbnRJbXBsLnByb3RvdHlwZVtuYW1lXTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIFNlcnZpY2VDbGllbnRJbXBsLnNlcnZpY2UgPSBtZXRob2RzO1xuICAgIFNlcnZpY2VDbGllbnRJbXBsLnNlcnZpY2VOYW1lID0gc2VydmljZU5hbWU7XG4gICAgcmV0dXJuIFNlcnZpY2VDbGllbnRJbXBsO1xufVxuZnVuY3Rpb24gcGFydGlhbChmbiwgcGF0aCwgc2VyaWFsaXplLCBkZXNlcmlhbGl6ZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHBhdGgsIHNlcmlhbGl6ZSwgZGVzZXJpYWxpemUsIC4uLmFyZ3MpO1xuICAgIH07XG59XG5mdW5jdGlvbiBpc1Byb3RvYnVmVHlwZURlZmluaXRpb24ob2JqKSB7XG4gICAgcmV0dXJuICdmb3JtYXQnIGluIG9iajtcbn1cbi8qKlxuICogTG9hZCBhIGdSUEMgcGFja2FnZSBkZWZpbml0aW9uIGFzIGEgZ1JQQyBvYmplY3QgaGllcmFyY2h5LlxuICogQHBhcmFtIHBhY2thZ2VEZWYgVGhlIHBhY2thZ2UgZGVmaW5pdGlvbiBvYmplY3QuXG4gKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgZ1JQQyBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGxvYWRQYWNrYWdlRGVmaW5pdGlvbihwYWNrYWdlRGVmKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBzZXJ2aWNlRnFuIGluIHBhY2thZ2VEZWYpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYWNrYWdlRGVmLCBzZXJ2aWNlRnFuKSkge1xuICAgICAgICAgICAgY29uc3Qgc2VydmljZSA9IHBhY2thZ2VEZWZbc2VydmljZUZxbl07XG4gICAgICAgICAgICBjb25zdCBuYW1lQ29tcG9uZW50cyA9IHNlcnZpY2VGcW4uc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGlmIChuYW1lQ29tcG9uZW50cy5zb21lKChjb21wKSA9PiBpc1Byb3RvdHlwZVBvbGx1dGVkKGNvbXApKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2VydmljZU5hbWUgPSBuYW1lQ29tcG9uZW50c1tuYW1lQ29tcG9uZW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gcmVzdWx0O1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYWNrYWdlTmFtZSBvZiBuYW1lQ29tcG9uZW50cy5zbGljZSgwLCAtMSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRbcGFja2FnZU5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRbcGFja2FnZU5hbWVdID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50W3BhY2thZ2VOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1Byb3RvYnVmVHlwZURlZmluaXRpb24oc2VydmljZSkpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50W3NlcnZpY2VOYW1lXSA9IHNlcnZpY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50W3NlcnZpY2VOYW1lXSA9IG1ha2VDbGllbnRDb25zdHJ1Y3RvcihzZXJ2aWNlLCBzZXJ2aWNlTmFtZSwge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYWtlLWNsaWVudC5qcy5tYXAiLCIvKipcbiAqIGxvZGFzaCAoQ3VzdG9tIEJ1aWxkKSA8aHR0cHM6Ly9sb2Rhc2guY29tLz5cbiAqIEJ1aWxkOiBgbG9kYXNoIG1vZHVsYXJpemUgZXhwb3J0cz1cIm5wbVwiIC1vIC4vYFxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vanF1ZXJ5Lm9yZy8+XG4gKiBSZWxlYXNlZCB1bmRlciBNSVQgbGljZW5zZSA8aHR0cHM6Ly9sb2Rhc2guY29tL2xpY2Vuc2U+XG4gKiBCYXNlZCBvbiBVbmRlcnNjb3JlLmpzIDEuOC4zIDxodHRwOi8vdW5kZXJzY29yZWpzLm9yZy9MSUNFTlNFPlxuICogQ29weXJpZ2h0IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4gKi9cblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKiogVXNlZCB0byBtYXRjaCB3b3JkcyBjb21wb3NlZCBvZiBhbHBoYW51bWVyaWMgY2hhcmFjdGVycy4gKi9cbnZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggTGF0aW4gVW5pY29kZSBsZXR0ZXJzIChleGNsdWRpbmcgbWF0aGVtYXRpY2FsIG9wZXJhdG9ycykuICovXG52YXIgcmVMYXRpbiA9IC9bXFx4YzAtXFx4ZDZcXHhkOC1cXHhmNlxceGY4LVxceGZmXFx1MDEwMC1cXHUwMTdmXS9nO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2hhcmFjdGVyIGNsYXNzZXMuICovXG52YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICByc0NvbWJvTWFya3NSYW5nZSA9ICdcXFxcdTAzMDAtXFxcXHUwMzZmXFxcXHVmZTIwLVxcXFx1ZmUyMycsXG4gICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGYwJyxcbiAgICByc0RpbmdiYXRSYW5nZSA9ICdcXFxcdTI3MDAtXFxcXHUyN2JmJyxcbiAgICByc0xvd2VyUmFuZ2UgPSAnYS16XFxcXHhkZi1cXFxceGY2XFxcXHhmOC1cXFxceGZmJyxcbiAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgIHJzTm9uQ2hhclJhbmdlID0gJ1xcXFx4MDAtXFxcXHgyZlxcXFx4M2EtXFxcXHg0MFxcXFx4NWItXFxcXHg2MFxcXFx4N2ItXFxcXHhiZicsXG4gICAgcnNQdW5jdHVhdGlvblJhbmdlID0gJ1xcXFx1MjAwMC1cXFxcdTIwNmYnLFxuICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgcnNVcHBlclJhbmdlID0gJ0EtWlxcXFx4YzAtXFxcXHhkNlxcXFx4ZDgtXFxcXHhkZScsXG4gICAgcnNWYXJSYW5nZSA9ICdcXFxcdWZlMGVcXFxcdWZlMGYnLFxuICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNhcHR1cmUgZ3JvdXBzLiAqL1xudmFyIHJzQXBvcyA9IFwiWydcXHUyMDE5XVwiLFxuICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICByc0JyZWFrID0gJ1snICsgcnNCcmVha1JhbmdlICsgJ10nLFxuICAgIHJzQ29tYm8gPSAnWycgKyByc0NvbWJvTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UgKyAnXScsXG4gICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICByc0RpbmdiYXQgPSAnWycgKyByc0RpbmdiYXRSYW5nZSArICddJyxcbiAgICByc0xvd2VyID0gJ1snICsgcnNMb3dlclJhbmdlICsgJ10nLFxuICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICByc0ZpdHogPSAnXFxcXHVkODNjW1xcXFx1ZGZmYi1cXFxcdWRmZmZdJyxcbiAgICByc01vZGlmaWVyID0gJyg/OicgKyByc0NvbWJvICsgJ3wnICsgcnNGaXR6ICsgJyknLFxuICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgcnNSZWdpb25hbCA9ICcoPzpcXFxcdWQ4M2NbXFxcXHVkZGU2LVxcXFx1ZGRmZl0pezJ9JyxcbiAgICByc1N1cnJQYWlyID0gJ1tcXFxcdWQ4MDAtXFxcXHVkYmZmXVtcXFxcdWRjMDAtXFxcXHVkZmZmXScsXG4gICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICByc1pXSiA9ICdcXFxcdTIwMGQnO1xuXG4vKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgcmVnZXhlcy4gKi9cbnZhciByc0xvd2VyTWlzYyA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICByc1VwcGVyTWlzYyA9ICcoPzonICsgcnNVcHBlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICByc09wdExvd2VyQ29udHIgPSAnKD86JyArIHJzQXBvcyArICcoPzpkfGxsfG18cmV8c3x0fHZlKSk/JyxcbiAgICByc09wdFVwcGVyQ29udHIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICByZU9wdE1vZCA9IHJzTW9kaWZpZXIgKyAnPycsXG4gICAgcnNPcHRWYXIgPSAnWycgKyByc1ZhclJhbmdlICsgJ10/JyxcbiAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgIHJzU2VxID0gcnNPcHRWYXIgKyByZU9wdE1vZCArIHJzT3B0Sm9pbixcbiAgICByc0Vtb2ppID0gJyg/OicgKyBbcnNEaW5nYmF0LCByc1JlZ2lvbmFsLCByc1N1cnJQYWlyXS5qb2luKCd8JykgKyAnKScgKyByc1NlcSxcbiAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuLyoqIFVzZWQgdG8gbWF0Y2ggYXBvc3Ryb3BoZXMuICovXG52YXIgcmVBcG9zID0gUmVnRXhwKHJzQXBvcywgJ2cnKTtcblxuLyoqXG4gKiBVc2VkIHRvIG1hdGNoIFtjb21iaW5pbmcgZGlhY3JpdGljYWwgbWFya3NdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbWJpbmluZ19EaWFjcml0aWNhbF9NYXJrcykgYW5kXG4gKiBbY29tYmluaW5nIGRpYWNyaXRpY2FsIG1hcmtzIGZvciBzeW1ib2xzXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db21iaW5pbmdfRGlhY3JpdGljYWxfTWFya3NfZm9yX1N5bWJvbHMpLlxuICovXG52YXIgcmVDb21ib01hcmsgPSBSZWdFeHAocnNDb21ibywgJ2cnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggW3N0cmluZyBzeW1ib2xzXShodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC11bmljb2RlKS4gKi9cbnZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggY29tcGxleCBvciBjb21wb3VuZCB3b3Jkcy4gKi9cbnZhciByZVVuaWNvZGVXb3JkID0gUmVnRXhwKFtcbiAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdExvd2VyQ29udHIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgcnNVcHBlck1pc2MgKyAnKycgKyByc09wdFVwcGVyQ29udHIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyICsgcnNMb3dlck1pc2MsICckJ10uam9pbignfCcpICsgJyknLFxuICByc1VwcGVyICsgJz8nICsgcnNMb3dlck1pc2MgKyAnKycgKyByc09wdExvd2VyQ29udHIsXG4gIHJzVXBwZXIgKyAnKycgKyByc09wdFVwcGVyQ29udHIsXG4gIHJzRGlnaXRzLFxuICByc0Vtb2ppXG5dLmpvaW4oJ3wnKSwgJ2cnKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG52YXIgcmVIYXNVbmljb2RlID0gUmVnRXhwKCdbJyArIHJzWldKICsgcnNBc3RyYWxSYW5nZSAgKyByc0NvbWJvTWFya3NSYW5nZSArIHJzQ29tYm9TeW1ib2xzUmFuZ2UgKyByc1ZhclJhbmdlICsgJ10nKTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3MgdGhhdCBuZWVkIGEgbW9yZSByb2J1c3QgcmVnZXhwIHRvIG1hdGNoIHdvcmRzLiAqL1xudmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyLH1bYS16XXxbMC05XVthLXpBLVpdfFthLXpBLVpdWzAtOV18W15hLXpBLVowLTkgXS87XG5cbi8qKiBVc2VkIHRvIG1hcCBMYXRpbiBVbmljb2RlIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy4gKi9cbnZhciBkZWJ1cnJlZExldHRlcnMgPSB7XG4gIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgJ1xceGMwJzogJ0EnLCAgJ1xceGMxJzogJ0EnLCAnXFx4YzInOiAnQScsICdcXHhjMyc6ICdBJywgJ1xceGM0JzogJ0EnLCAnXFx4YzUnOiAnQScsXG4gICdcXHhlMCc6ICdhJywgICdcXHhlMSc6ICdhJywgJ1xceGUyJzogJ2EnLCAnXFx4ZTMnOiAnYScsICdcXHhlNCc6ICdhJywgJ1xceGU1JzogJ2EnLFxuICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICdcXHhkMCc6ICdEJywgICdcXHhmMCc6ICdkJyxcbiAgJ1xceGM4JzogJ0UnLCAgJ1xceGM5JzogJ0UnLCAnXFx4Y2EnOiAnRScsICdcXHhjYic6ICdFJyxcbiAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgJ1xceGNjJzogJ0knLCAgJ1xceGNkJzogJ0knLCAnXFx4Y2UnOiAnSScsICdcXHhjZic6ICdJJyxcbiAgJ1xceGVjJzogJ2knLCAgJ1xceGVkJzogJ2knLCAnXFx4ZWUnOiAnaScsICdcXHhlZic6ICdpJyxcbiAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAnXFx4ZDInOiAnTycsICAnXFx4ZDMnOiAnTycsICdcXHhkNCc6ICdPJywgJ1xceGQ1JzogJ08nLCAnXFx4ZDYnOiAnTycsICdcXHhkOCc6ICdPJyxcbiAgJ1xceGYyJzogJ28nLCAgJ1xceGYzJzogJ28nLCAnXFx4ZjQnOiAnbycsICdcXHhmNSc6ICdvJywgJ1xceGY2JzogJ28nLCAnXFx4ZjgnOiAnbycsXG4gICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICdcXHhmOSc6ICd1JywgICdcXHhmYSc6ICd1JywgJ1xceGZiJzogJ3UnLCAnXFx4ZmMnOiAndScsXG4gICdcXHhkZCc6ICdZJywgICdcXHhmZCc6ICd5JywgJ1xceGZmJzogJ3knLFxuICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAnXFx4ZGUnOiAnVGgnLCAnXFx4ZmUnOiAndGgnLFxuICAnXFx4ZGYnOiAnc3MnLFxuICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAnXFx1MDEwMCc6ICdBJywgICdcXHUwMTAyJzogJ0EnLCAnXFx1MDEwNCc6ICdBJyxcbiAgJ1xcdTAxMDEnOiAnYScsICAnXFx1MDEwMyc6ICdhJywgJ1xcdTAxMDUnOiAnYScsXG4gICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgJ1xcdTAxMDcnOiAnYycsICAnXFx1MDEwOSc6ICdjJywgJ1xcdTAxMGInOiAnYycsICdcXHUwMTBkJzogJ2MnLFxuICAnXFx1MDEwZSc6ICdEJywgICdcXHUwMTEwJzogJ0QnLCAnXFx1MDEwZic6ICdkJywgJ1xcdTAxMTEnOiAnZCcsXG4gICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICdcXHUwMTEzJzogJ2UnLCAgJ1xcdTAxMTUnOiAnZScsICdcXHUwMTE3JzogJ2UnLCAnXFx1MDExOSc6ICdlJywgJ1xcdTAxMWInOiAnZScsXG4gICdcXHUwMTFjJzogJ0cnLCAgJ1xcdTAxMWUnOiAnRycsICdcXHUwMTIwJzogJ0cnLCAnXFx1MDEyMic6ICdHJyxcbiAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAnXFx1MDEyNCc6ICdIJywgICdcXHUwMTI2JzogJ0gnLCAnXFx1MDEyNSc6ICdoJywgJ1xcdTAxMjcnOiAnaCcsXG4gICdcXHUwMTI4JzogJ0knLCAgJ1xcdTAxMmEnOiAnSScsICdcXHUwMTJjJzogJ0knLCAnXFx1MDEyZSc6ICdJJywgJ1xcdTAxMzAnOiAnSScsXG4gICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICdcXHUwMTM0JzogJ0onLCAgJ1xcdTAxMzUnOiAnaicsXG4gICdcXHUwMTM2JzogJ0snLCAgJ1xcdTAxMzcnOiAnaycsICdcXHUwMTM4JzogJ2snLFxuICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAnXFx1MDEzYSc6ICdsJywgICdcXHUwMTNjJzogJ2wnLCAnXFx1MDEzZSc6ICdsJywgJ1xcdTAxNDAnOiAnbCcsICdcXHUwMTQyJzogJ2wnLFxuICAnXFx1MDE0Myc6ICdOJywgICdcXHUwMTQ1JzogJ04nLCAnXFx1MDE0Nyc6ICdOJywgJ1xcdTAxNGEnOiAnTicsXG4gICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgJ1xcdTAxNGMnOiAnTycsICAnXFx1MDE0ZSc6ICdPJywgJ1xcdTAxNTAnOiAnTycsXG4gICdcXHUwMTRkJzogJ28nLCAgJ1xcdTAxNGYnOiAnbycsICdcXHUwMTUxJzogJ28nLFxuICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgJ1xcdTAxNTUnOiAncicsICAnXFx1MDE1Nyc6ICdyJywgJ1xcdTAxNTknOiAncicsXG4gICdcXHUwMTVhJzogJ1MnLCAgJ1xcdTAxNWMnOiAnUycsICdcXHUwMTVlJzogJ1MnLCAnXFx1MDE2MCc6ICdTJyxcbiAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAnXFx1MDE2Mic6ICdUJywgICdcXHUwMTY0JzogJ1QnLCAnXFx1MDE2Nic6ICdUJyxcbiAgJ1xcdTAxNjMnOiAndCcsICAnXFx1MDE2NSc6ICd0JywgJ1xcdTAxNjcnOiAndCcsXG4gICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAnXFx1MDE2OSc6ICd1JywgICdcXHUwMTZiJzogJ3UnLCAnXFx1MDE2ZCc6ICd1JywgJ1xcdTAxNmYnOiAndScsICdcXHUwMTcxJzogJ3UnLCAnXFx1MDE3Myc6ICd1JyxcbiAgJ1xcdTAxNzQnOiAnVycsICAnXFx1MDE3NSc6ICd3JyxcbiAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICdcXHUwMTc5JzogJ1onLCAgJ1xcdTAxN2InOiAnWicsICdcXHUwMTdkJzogJ1onLFxuICAnXFx1MDE3YSc6ICd6JywgICdcXHUwMTdjJzogJ3onLCAnXFx1MDE3ZSc6ICd6JyxcbiAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICdcXHUwMTUyJzogJ09lJywgJ1xcdTAxNTMnOiAnb2UnLFxuICAnXFx1MDE0OSc6IFwiJ25cIiwgJ1xcdTAxN2YnOiAnc3MnXG59O1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGdsb2JhbGAgZnJvbSBOb2RlLmpzLiAqL1xudmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4vKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYHNlbGZgLiAqL1xudmFyIGZyZWVTZWxmID0gdHlwZW9mIHNlbGYgPT0gJ29iamVjdCcgJiYgc2VsZiAmJiBzZWxmLk9iamVjdCA9PT0gT2JqZWN0ICYmIHNlbGY7XG5cbi8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xudmFyIHJvb3QgPSBmcmVlR2xvYmFsIHx8IGZyZWVTZWxmIHx8IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICogQHBhcmFtIHtib29sZWFufSBbaW5pdEFjY3VtXSBTcGVjaWZ5IHVzaW5nIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAqICB0aGUgaW5pdGlhbCB2YWx1ZS5cbiAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlSZWR1Y2UoYXJyYXksIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPyBhcnJheS5sZW5ndGggOiAwO1xuXG4gIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgYWNjdW11bGF0b3IgPSBhcnJheVsrK2luZGV4XTtcbiAgfVxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGFjY3VtdWxhdG9yID0gaXRlcmF0ZWUoYWNjdW11bGF0b3IsIGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbi8qKlxuICogQ29udmVydHMgYW4gQVNDSUkgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIGFzY2lpVG9BcnJheShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG59XG5cbi8qKlxuICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqL1xuZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5tYXRjaChyZUFzY2lpV29yZCkgfHwgW107XG59XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHJvcGVydHlPZmAgd2l0aG91dCBzdXBwb3J0IGZvciBkZWVwIHBhdGhzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gYmFzZVByb3BlcnR5T2Yob2JqZWN0KSB7XG4gIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgfTtcbn1cblxuLyoqXG4gKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAqIGxldHRlcnMgdG8gYmFzaWMgTGF0aW4gbGV0dGVycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGxldHRlciBUaGUgbWF0Y2hlZCBsZXR0ZXIgdG8gZGVidXJyLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgbGV0dGVyLlxuICovXG52YXIgZGVidXJyTGV0dGVyID0gYmFzZVByb3BlcnR5T2YoZGVidXJyZWRMZXR0ZXJzKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgVW5pY29kZSBzeW1ib2xzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNVbmljb2RlKHN0cmluZykge1xuICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYSB3b3JkIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICByZXR1cm4gcmVIYXNVbmljb2RlV29yZC50ZXN0KHN0cmluZyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYHN0cmluZ2AgdG8gYW4gYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gKi9cbmZ1bmN0aW9uIHN0cmluZ1RvQXJyYXkoc3RyaW5nKSB7XG4gIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICA6IGFzY2lpVG9BcnJheShzdHJpbmcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEgVW5pY29kZSBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gdW5pY29kZVRvQXJyYXkoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcubWF0Y2gocmVVbmljb2RlKSB8fCBbXTtcbn1cblxuLyoqXG4gKiBTcGxpdHMgYSBVbmljb2RlIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqL1xuZnVuY3Rpb24gdW5pY29kZVdvcmRzKHN0cmluZykge1xuICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xufVxuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbi8qKiBVc2VkIHRvIGNvbnZlcnQgc3ltYm9scyB0byBwcmltaXRpdmVzIGFuZCBzdHJpbmdzLiAqL1xudmFyIHN5bWJvbFByb3RvID0gU3ltYm9sID8gU3ltYm9sLnByb3RvdHlwZSA6IHVuZGVmaW5lZCxcbiAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2xpY2VgIHdpdGhvdXQgYW4gaXRlcmF0ZWUgY2FsbCBndWFyZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNsaWNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgfVxuICBlbmQgPSBlbmQgPiBsZW5ndGggPyBsZW5ndGggOiBlbmQ7XG4gIGlmIChlbmQgPCAwKSB7XG4gICAgZW5kICs9IGxlbmd0aDtcbiAgfVxuICBsZW5ndGggPSBzdGFydCA+IGVuZCA/IDAgOiAoKGVuZCAtIHN0YXJ0KSA+Pj4gMCk7XG4gIHN0YXJ0ID4+Pj0gMDtcblxuICB2YXIgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgfVxuICB2YXIgcmVzdWx0ID0gKHZhbHVlICsgJycpO1xuICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG59XG5cbi8qKlxuICogQ2FzdHMgYGFycmF5YCB0byBhIHNsaWNlIGlmIGl0J3MgbmVlZGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3Qgc2xpY2UuXG4gKi9cbmZ1bmN0aW9uIGNhc3RTbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgcmV0dXJuICghc3RhcnQgJiYgZW5kID49IGxlbmd0aCkgPyBhcnJheSA6IGJhc2VTbGljZShhcnJheSwgc3RhcnQsIGVuZCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ubG93ZXJGaXJzdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lIFRoZSBuYW1lIG9mIHRoZSBgU3RyaW5nYCBjYXNlIG1ldGhvZCB0byB1c2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXNlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVDYXNlRmlyc3QobWV0aG9kTmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgIHZhciBzdHJTeW1ib2xzID0gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHN0cmluZ1RvQXJyYXkoc3RyaW5nKVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICB2YXIgY2hyID0gc3RyU3ltYm9sc1xuICAgICAgPyBzdHJTeW1ib2xzWzBdXG4gICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICB2YXIgdHJhaWxpbmcgPSBzdHJTeW1ib2xzXG4gICAgICA/IGNhc3RTbGljZShzdHJTeW1ib2xzLCAxKS5qb2luKCcnKVxuICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICByZXR1cm4gY2hyW21ldGhvZE5hbWVdKCkgKyB0cmFpbGluZztcbiAgfTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5jYW1lbENhc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY29tYmluZSBlYWNoIHdvcmQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjcmVhdGVDb21wb3VuZGVyKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICByZXR1cm4gYXJyYXlSZWR1Y2Uod29yZHMoZGVidXJyKHN0cmluZykucmVwbGFjZShyZUFwb3MsICcnKSksIGNhbGxiYWNrLCAnJyk7XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UuIEEgdmFsdWUgaXMgb2JqZWN0LWxpa2UgaWYgaXQncyBub3QgYG51bGxgXG4gKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgb2JqZWN0LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5pc09iamVjdExpa2Uoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoXy5ub29wKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc09iamVjdExpa2UobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09ICdvYmplY3QnO1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvY2Vzcy5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy50b1N0cmluZyhudWxsKTtcbiAqIC8vID0+ICcnXG4gKlxuICogXy50b1N0cmluZygtMCk7XG4gKiAvLyA9PiAnLTAnXG4gKlxuICogXy50b1N0cmluZyhbMSwgMiwgM10pO1xuICogLy8gPT4gJzEsMiwzJ1xuICovXG5mdW5jdGlvbiB0b1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogYmFzZVRvU3RyaW5nKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBbY2FtZWwgY2FzZV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ2FtZWxDYXNlKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICogLy8gPT4gJ2Zvb0JhcidcbiAqXG4gKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAqIC8vID0+ICdmb29CYXInXG4gKlxuICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gKiAvLyA9PiAnZm9vQmFyJ1xuICovXG52YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gIHdvcmQgPSB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyBjYXBpdGFsaXplKHdvcmQpIDogd29yZCk7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UgYW5kIHRoZSByZW1haW5pbmdcbiAqIHRvIGxvd2VyIGNhc2UuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAzLjAuMFxuICogQGNhdGVnb3J5IFN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNhcGl0YWxpemVkIHN0cmluZy5cbiAqIEBleGFtcGxlXG4gKlxuICogXy5jYXBpdGFsaXplKCdGUkVEJyk7XG4gKiAvLyA9PiAnRnJlZCdcbiAqL1xuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHVwcGVyRmlyc3QodG9TdHJpbmcoc3RyaW5nKS50b0xvd2VyQ2FzZSgpKTtcbn1cblxuLyoqXG4gKiBEZWJ1cnJzIGBzdHJpbmdgIGJ5IGNvbnZlcnRpbmdcbiAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICogYW5kIFtMYXRpbiBFeHRlbmRlZC1BXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MYXRpbl9FeHRlbmRlZC1BKVxuICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzIGFuZCByZW1vdmluZ1xuICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBkZWJ1cnJlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uZGVidXJyKCdkw6lqw6AgdnUnKTtcbiAqIC8vID0+ICdkZWphIHZ1J1xuICovXG5mdW5jdGlvbiBkZWJ1cnIoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBgc3RyaW5nYCB0byB1cHBlciBjYXNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBTdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAqIC8vID0+ICdGcmVkJ1xuICpcbiAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICogLy8gPT4gJ0ZSRUQnXG4gKi9cbnZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4vKipcbiAqIFNwbGl0cyBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuMC4wXG4gKiBAY2F0ZWdvcnkgU3RyaW5nXG4gKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAqIEBleGFtcGxlXG4gKlxuICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gKlxuICogXy53b3JkcygnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnLCAvW14sIF0rL2cpO1xuICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICovXG5mdW5jdGlvbiB3b3JkcyhzdHJpbmcsIHBhdHRlcm4sIGd1YXJkKSB7XG4gIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gIHBhdHRlcm4gPSBndWFyZCA/IHVuZGVmaW5lZCA6IHBhdHRlcm47XG5cbiAgaWYgKHBhdHRlcm4gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIHN0cmluZy5tYXRjaChwYXR0ZXJuKSB8fCBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjYW1lbENhc2U7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxubW9kdWxlLmV4cG9ydHMgPSBhc1Byb21pc2U7XHJcblxyXG4vKipcclxuICogQ2FsbGJhY2sgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5hc1Byb21pc2V9LlxyXG4gKiBAdHlwZWRlZiBhc1Byb21pc2VDYWxsYmFja1xyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7RXJyb3J8bnVsbH0gZXJyb3IgRXJyb3IsIGlmIGFueVxyXG4gKiBAcGFyYW0gey4uLip9IHBhcmFtcyBBZGRpdGlvbmFsIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBmcm9tIGEgbm9kZS1zdHlsZSBjYWxsYmFjayBmdW5jdGlvbi5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHthc1Byb21pc2VDYWxsYmFja30gZm4gRnVuY3Rpb24gdG8gY2FsbFxyXG4gKiBAcGFyYW0geyp9IGN0eCBGdW5jdGlvbiBjb250ZXh0XHJcbiAqIEBwYXJhbSB7Li4uKn0gcGFyYW1zIEZ1bmN0aW9uIGFyZ3VtZW50c1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTwqPn0gUHJvbWlzaWZpZWQgZnVuY3Rpb25cclxuICovXHJcbmZ1bmN0aW9uIGFzUHJvbWlzZShmbiwgY3R4LyosIHZhcmFyZ3MgKi8pIHtcclxuICAgIHZhciBwYXJhbXMgID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKSxcclxuICAgICAgICBvZmZzZXQgID0gMCxcclxuICAgICAgICBpbmRleCAgID0gMixcclxuICAgICAgICBwZW5kaW5nID0gdHJ1ZTtcclxuICAgIHdoaWxlIChpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGgpXHJcbiAgICAgICAgcGFyYW1zW29mZnNldCsrXSA9IGFyZ3VtZW50c1tpbmRleCsrXTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBleGVjdXRvcihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBwYXJhbXNbb2Zmc2V0XSA9IGZ1bmN0aW9uIGNhbGxiYWNrKGVyci8qLCB2YXJhcmdzICovKSB7XHJcbiAgICAgICAgICAgIGlmIChwZW5kaW5nKSB7XHJcbiAgICAgICAgICAgICAgICBwZW5kaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IHBhcmFtcy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtc1tvZmZzZXQrK10gPSBhcmd1bWVudHNbb2Zmc2V0XTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlLmFwcGx5KG51bGwsIHBhcmFtcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGZuLmFwcGx5KGN0eCB8fCBudWxsLCBwYXJhbXMpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xyXG4gICAgICAgICAgICAgICAgcGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qKlxyXG4gKiBBIG1pbmltYWwgYmFzZTY0IGltcGxlbWVudGF0aW9uIGZvciBudW1iZXIgYXJyYXlzLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAbmFtZXNwYWNlXHJcbiAqL1xyXG52YXIgYmFzZTY0ID0gZXhwb3J0cztcclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGVzIHRoZSBieXRlIGxlbmd0aCBvZiBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBCYXNlNjQgZW5jb2RlZCBzdHJpbmdcclxuICogQHJldHVybnMge251bWJlcn0gQnl0ZSBsZW5ndGhcclxuICovXHJcbmJhc2U2NC5sZW5ndGggPSBmdW5jdGlvbiBsZW5ndGgoc3RyaW5nKSB7XHJcbiAgICB2YXIgcCA9IHN0cmluZy5sZW5ndGg7XHJcbiAgICBpZiAoIXApXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB2YXIgbiA9IDA7XHJcbiAgICB3aGlsZSAoLS1wICUgNCA+IDEgJiYgc3RyaW5nLmNoYXJBdChwKSA9PT0gXCI9XCIpXHJcbiAgICAgICAgKytuO1xyXG4gICAgcmV0dXJuIE1hdGguY2VpbChzdHJpbmcubGVuZ3RoICogMykgLyA0IC0gbjtcclxufTtcclxuXHJcbi8vIEJhc2U2NCBlbmNvZGluZyB0YWJsZVxyXG52YXIgYjY0ID0gbmV3IEFycmF5KDY0KTtcclxuXHJcbi8vIEJhc2U2NCBkZWNvZGluZyB0YWJsZVxyXG52YXIgczY0ID0gbmV3IEFycmF5KDEyMyk7XHJcblxyXG4vLyA2NS4uOTAsIDk3Li4xMjIsIDQ4Li41NywgNDMsIDQ3XHJcbmZvciAodmFyIGkgPSAwOyBpIDwgNjQ7KVxyXG4gICAgczY0W2I2NFtpXSA9IGkgPCAyNiA/IGkgKyA2NSA6IGkgPCA1MiA/IGkgKyA3MSA6IGkgPCA2MiA/IGkgLSA0IDogaSAtIDU5IHwgNDNdID0gaSsrO1xyXG5cclxuLyoqXHJcbiAqIEVuY29kZXMgYSBidWZmZXIgdG8gYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFNvdXJjZSBzdGFydFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIFNvdXJjZSBlbmRcclxuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IGVuY29kZWQgc3RyaW5nXHJcbiAqL1xyXG5iYXNlNjQuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKGJ1ZmZlciwgc3RhcnQsIGVuZCkge1xyXG4gICAgdmFyIHBhcnRzID0gbnVsbCxcclxuICAgICAgICBjaHVuayA9IFtdO1xyXG4gICAgdmFyIGkgPSAwLCAvLyBvdXRwdXQgaW5kZXhcclxuICAgICAgICBqID0gMCwgLy8gZ290byBpbmRleFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIHZhciBiID0gYnVmZmVyW3N0YXJ0KytdO1xyXG4gICAgICAgIHN3aXRjaCAoaikge1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBjaHVua1tpKytdID0gYjY0W2IgPj4gMl07XHJcbiAgICAgICAgICAgICAgICB0ID0gKGIgJiAzKSA8PCA0O1xyXG4gICAgICAgICAgICAgICAgaiA9IDE7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFt0IHwgYiA+PiA0XTtcclxuICAgICAgICAgICAgICAgIHQgPSAoYiAmIDE1KSA8PCAyO1xyXG4gICAgICAgICAgICAgICAgaiA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgY2h1bmtbaSsrXSA9IGI2NFt0IHwgYiA+PiA2XTtcclxuICAgICAgICAgICAgICAgIGNodW5rW2krK10gPSBiNjRbYiAmIDYzXTtcclxuICAgICAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpID4gODE5MSkge1xyXG4gICAgICAgICAgICAocGFydHMgfHwgKHBhcnRzID0gW10pKS5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBjaHVuaykpO1xyXG4gICAgICAgICAgICBpID0gMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoaikge1xyXG4gICAgICAgIGNodW5rW2krK10gPSBiNjRbdF07XHJcbiAgICAgICAgY2h1bmtbaSsrXSA9IDYxO1xyXG4gICAgICAgIGlmIChqID09PSAxKVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gNjE7XHJcbiAgICB9XHJcbiAgICBpZiAocGFydHMpIHtcclxuICAgICAgICBpZiAoaSlcclxuICAgICAgICAgICAgcGFydHMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpKTtcclxuICAgICAgICByZXR1cm4gcGFydHMuam9pbihcIlwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmsuc2xpY2UoMCwgaSkpO1xyXG59O1xyXG5cclxudmFyIGludmFsaWRFbmNvZGluZyA9IFwiaW52YWxpZCBlbmNvZGluZ1wiO1xyXG5cclxuLyoqXHJcbiAqIERlY29kZXMgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgdG8gYSBidWZmZXIuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU291cmNlIHN0cmluZ1xyXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGJ1ZmZlciBEZXN0aW5hdGlvbiBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCBEZXN0aW5hdGlvbiBvZmZzZXRcclxuICogQHJldHVybnMge251bWJlcn0gTnVtYmVyIG9mIGJ5dGVzIHdyaXR0ZW5cclxuICogQHRocm93cyB7RXJyb3J9IElmIGVuY29kaW5nIGlzIGludmFsaWRcclxuICovXHJcbmJhc2U2NC5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUoc3RyaW5nLCBidWZmZXIsIG9mZnNldCkge1xyXG4gICAgdmFyIHN0YXJ0ID0gb2Zmc2V0O1xyXG4gICAgdmFyIGogPSAwLCAvLyBnb3RvIGluZGV4XHJcbiAgICAgICAgdDsgICAgIC8vIHRlbXBvcmFyeVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOykge1xyXG4gICAgICAgIHZhciBjID0gc3RyaW5nLmNoYXJDb2RlQXQoaSsrKTtcclxuICAgICAgICBpZiAoYyA9PT0gNjEgJiYgaiA+IDEpXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGlmICgoYyA9IHM2NFtjXSkgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEVuY29kaW5nKTtcclxuICAgICAgICBzd2l0Y2ggKGopIHtcclxuICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgdCA9IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gdCA8PCAyIHwgKGMgJiA0OCkgPj4gNDtcclxuICAgICAgICAgICAgICAgIHQgPSBjO1xyXG4gICAgICAgICAgICAgICAgaiA9IDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9ICh0ICYgMTUpIDw8IDQgfCAoYyAmIDYwKSA+PiAyO1xyXG4gICAgICAgICAgICAgICAgdCA9IGM7XHJcbiAgICAgICAgICAgICAgICBqID0gMztcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gKHQgJiAzKSA8PCA2IHwgYztcclxuICAgICAgICAgICAgICAgIGogPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGogPT09IDEpXHJcbiAgICAgICAgdGhyb3cgRXJyb3IoaW52YWxpZEVuY29kaW5nKTtcclxuICAgIHJldHVybiBvZmZzZXQgLSBzdGFydDtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIHN0cmluZyBhcHBlYXJzIHRvIGJlIGJhc2U2NCBlbmNvZGVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFN0cmluZyB0byB0ZXN0XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgcHJvYmFibHkgYmFzZTY0IGVuY29kZWQsIG90aGVyd2lzZSBmYWxzZVxyXG4gKi9cclxuYmFzZTY0LnRlc3QgPSBmdW5jdGlvbiB0ZXN0KHN0cmluZykge1xyXG4gICAgcmV0dXJuIC9eKD86W0EtWmEtejAtOSsvXXs0fSkqKD86W0EtWmEtejAtOSsvXXsyfT09fFtBLVphLXowLTkrL117M309KT8kLy50ZXN0KHN0cmluZyk7XHJcbn07XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGV2ZW50IGVtaXR0ZXIgaW5zdGFuY2UuXHJcbiAqIEBjbGFzc2Rlc2MgQSBtaW5pbWFsIGV2ZW50IGVtaXR0ZXIuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJlZCBsaXN0ZW5lcnMuXHJcbiAgICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsKj59XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lci5cclxuICogQHBhcmFtIHtzdHJpbmd9IGV2dCBFdmVudCBuYW1lXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIExpc3RlbmVyXHJcbiAqIEBwYXJhbSB7Kn0gW2N0eF0gTGlzdGVuZXIgY29udGV4dFxyXG4gKiBAcmV0dXJucyB7dXRpbC5FdmVudEVtaXR0ZXJ9IGB0aGlzYFxyXG4gKi9cclxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2dCwgZm4sIGN0eCkge1xyXG4gICAgKHRoaXMuX2xpc3RlbmVyc1tldnRdIHx8ICh0aGlzLl9saXN0ZW5lcnNbZXZ0XSA9IFtdKSkucHVzaCh7XHJcbiAgICAgICAgZm4gIDogZm4sXHJcbiAgICAgICAgY3R4IDogY3R4IHx8IHRoaXNcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVtb3ZlcyBhbiBldmVudCBsaXN0ZW5lciBvciBhbnkgbWF0Y2hpbmcgbGlzdGVuZXJzIGlmIGFyZ3VtZW50cyBhcmUgb21pdHRlZC5cclxuICogQHBhcmFtIHtzdHJpbmd9IFtldnRdIEV2ZW50IG5hbWUuIFJlbW92ZXMgYWxsIGxpc3RlbmVycyBpZiBvbWl0dGVkLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbZm5dIExpc3RlbmVyIHRvIHJlbW92ZS4gUmVtb3ZlcyBhbGwgbGlzdGVuZXJzIG9mIGBldnRgIGlmIG9taXR0ZWQuXHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uIG9mZihldnQsIGZuKSB7XHJcbiAgICBpZiAoZXZ0ID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0ge307XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBpZiAoZm4gPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzW2V2dF0gPSBbXTtcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldnRdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7KVxyXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS5mbiA9PT0gZm4pXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICArK2k7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG4vKipcclxuICogRW1pdHMgYW4gZXZlbnQgYnkgY2FsbGluZyBpdHMgbGlzdGVuZXJzIHdpdGggdGhlIHNwZWNpZmllZCBhcmd1bWVudHMuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBldnQgRXZlbnQgbmFtZVxyXG4gKiBAcGFyYW0gey4uLip9IGFyZ3MgQXJndW1lbnRzXHJcbiAqIEByZXR1cm5zIHt1dGlsLkV2ZW50RW1pdHRlcn0gYHRoaXNgXHJcbiAqL1xyXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KGV2dCkge1xyXG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVyc1tldnRdO1xyXG4gICAgaWYgKGxpc3RlbmVycykge1xyXG4gICAgICAgIHZhciBhcmdzID0gW10sXHJcbiAgICAgICAgICAgIGkgPSAxO1xyXG4gICAgICAgIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDspXHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7KVxyXG4gICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2krK10uY3R4LCBhcmdzKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzO1xyXG59O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShmYWN0b3J5KTtcclxuXHJcbi8qKlxyXG4gKiBSZWFkcyAvIHdyaXRlcyBmbG9hdHMgLyBkb3VibGVzIGZyb20gLyB0byBidWZmZXJzLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0XHJcbiAqIEBuYW1lc3BhY2VcclxuICovXHJcblxyXG4vKipcclxuICogV3JpdGVzIGEgMzIgYml0IGZsb2F0IHRvIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC53cml0ZUZsb2F0TEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDMyIGJpdCBmbG9hdCB0byBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQud3JpdGVGbG9hdEJFXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIFZhbHVlIHRvIHdyaXRlXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFRhcmdldCBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBUYXJnZXQgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBSZWFkcyBhIDMyIGJpdCBmbG9hdCBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRmxvYXRMRVxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgU291cmNlIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFNvdXJjZSBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcclxuICovXHJcblxyXG4vKipcclxuICogUmVhZHMgYSAzMiBiaXQgZmxvYXQgZnJvbSBhIGJ1ZmZlciB1c2luZyBiaWcgZW5kaWFuIGJ5dGUgb3JkZXIuXHJcbiAqIEBuYW1lIHV0aWwuZmxvYXQucmVhZEZsb2F0QkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgbGl0dGxlIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFdyaXRlcyBhIDY0IGJpdCBkb3VibGUgdG8gYSBidWZmZXIgdXNpbmcgYmlnIGVuZGlhbiBieXRlIG9yZGVyLlxyXG4gKiBAbmFtZSB1dGlsLmZsb2F0LndyaXRlRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWwgVmFsdWUgdG8gd3JpdGVcclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWYgVGFyZ2V0IGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gcG9zIFRhcmdldCBidWZmZXIgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGxpdHRsZSBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlTEVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIGEgNjQgYml0IGRvdWJsZSBmcm9tIGEgYnVmZmVyIHVzaW5nIGJpZyBlbmRpYW4gYnl0ZSBvcmRlci5cclxuICogQG5hbWUgdXRpbC5mbG9hdC5yZWFkRG91YmxlQkVcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHBvcyBTb3VyY2UgYnVmZmVyIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXHJcbiAqL1xyXG5cclxuLy8gRmFjdG9yeSBmdW5jdGlvbiBmb3IgdGhlIHB1cnBvc2Ugb2Ygbm9kZS1iYXNlZCB0ZXN0aW5nIGluIG1vZGlmaWVkIGdsb2JhbCBlbnZpcm9ubWVudHNcclxuZnVuY3Rpb24gZmFjdG9yeShleHBvcnRzKSB7XHJcblxyXG4gICAgLy8gZmxvYXQ6IHR5cGVkIGFycmF5XHJcbiAgICBpZiAodHlwZW9mIEZsb2F0MzJBcnJheSAhPT0gXCJ1bmRlZmluZWRcIikgKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICB2YXIgZjMyID0gbmV3IEZsb2F0MzJBcnJheShbIC0wIF0pLFxyXG4gICAgICAgICAgICBmOGIgPSBuZXcgVWludDhBcnJheShmMzIuYnVmZmVyKSxcclxuICAgICAgICAgICAgbGUgID0gZjhiWzNdID09PSAxMjg7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlRmxvYXRfZjMyX2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGYzMlswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9mMzJfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjMyWzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbM107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzFdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVGbG9hdExFID0gbGUgPyB3cml0ZUZsb2F0X2YzMl9jcHkgOiB3cml0ZUZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IGxlID8gd3JpdGVGbG9hdF9mMzJfcmV2IDogd3JpdGVGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWFkRmxvYXRfZjMyX3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsyXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzFdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIHJldHVybiBmMzJbMF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSBsZSA/IHJlYWRGbG9hdF9mMzJfY3B5IDogcmVhZEZsb2F0X2YzMl9yZXY7XHJcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cclxuICAgICAgICBleHBvcnRzLnJlYWRGbG9hdEJFID0gbGUgPyByZWFkRmxvYXRfZjMyX3JldiA6IHJlYWRGbG9hdF9mMzJfY3B5O1xyXG5cclxuICAgIC8vIGZsb2F0OiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVGbG9hdF9pZWVlNzU0KHdyaXRlVWludCwgdmFsLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IHZhbCA8IDAgPyAxIDogMDtcclxuICAgICAgICAgICAgaWYgKHNpZ24pXHJcbiAgICAgICAgICAgICAgICB2YWwgPSAtdmFsO1xyXG4gICAgICAgICAgICBpZiAodmFsID09PSAwKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDEgLyB2YWwgPiAwID8gLyogcG9zaXRpdmUgKi8gMCA6IC8qIG5lZ2F0aXZlIDAgKi8gMjE0NzQ4MzY0OCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChpc05hTih2YWwpKVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDMyODkzNDQsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsID4gMy40MDI4MjM0NjYzODUyODg2ZSszOCkgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgMjEzOTA5NTA0MCkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodmFsIDwgMS4xNzU0OTQzNTA4MjIyODc1ZS0zOCkgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgoc2lnbiA8PCAzMSB8IE1hdGgucm91bmQodmFsIC8gMS40MDEyOTg0NjQzMjQ4MTdlLTQ1KSkgPj4+IDAsIGJ1ZiwgcG9zKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMiksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSBNYXRoLnJvdW5kKHZhbCAqIE1hdGgucG93KDIsIC1leHBvbmVudCkgKiA4Mzg4NjA4KSAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBleHBvbmVudCArIDEyNyA8PCAyMyB8IG1hbnRpc3NhKSA+Pj4gMCwgYnVmLCBwb3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRMRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludExFKTtcclxuICAgICAgICBleHBvcnRzLndyaXRlRmxvYXRCRSA9IHdyaXRlRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZEZsb2F0X2llZWU3NTQocmVhZFVpbnQsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIHZhciB1aW50ID0gcmVhZFVpbnQoYnVmLCBwb3MpLFxyXG4gICAgICAgICAgICAgICAgc2lnbiA9ICh1aW50ID4+IDMxKSAqIDIgKyAxLFxyXG4gICAgICAgICAgICAgICAgZXhwb25lbnQgPSB1aW50ID4+PiAyMyAmIDI1NSxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdWludCAmIDgzODg2MDc7XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjU1XHJcbiAgICAgICAgICAgICAgICA/IG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA/IE5hTlxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogSW5maW5pdHlcclxuICAgICAgICAgICAgICAgIDogZXhwb25lbnQgPT09IDAgLy8gZGVub3JtYWxcclxuICAgICAgICAgICAgICAgID8gc2lnbiAqIDEuNDAxMjk4NDY0MzI0ODE3ZS00NSAqIG1hbnRpc3NhXHJcbiAgICAgICAgICAgICAgICA6IHNpZ24gKiBNYXRoLnBvdygyLCBleHBvbmVudCAtIDE1MCkgKiAobWFudGlzc2EgKyA4Mzg4NjA4KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0TEUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50TEUpO1xyXG4gICAgICAgIGV4cG9ydHMucmVhZEZsb2F0QkUgPSByZWFkRmxvYXRfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUpO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8gZG91YmxlOiB0eXBlZCBhcnJheVxyXG4gICAgaWYgKHR5cGVvZiBGbG9hdDY0QXJyYXkgIT09IFwidW5kZWZpbmVkXCIpIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGY2NCA9IG5ldyBGbG9hdDY0QXJyYXkoWy0wXSksXHJcbiAgICAgICAgICAgIGY4YiA9IG5ldyBVaW50OEFycmF5KGY2NC5idWZmZXIpLFxyXG4gICAgICAgICAgICBsZSAgPSBmOGJbN10gPT09IDEyODtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfZjY0X2NweSh2YWwsIGJ1ZiwgcG9zKSB7XHJcbiAgICAgICAgICAgIGY2NFswXSA9IHZhbDtcclxuICAgICAgICAgICAgYnVmW3BvcyAgICBdID0gZjhiWzBdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgMV0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAyXSA9IGY4YlsyXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDNdID0gZjhiWzNdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNF0gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA1XSA9IGY4Yls1XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDZdID0gZjhiWzZdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgN10gPSBmOGJbN107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZURvdWJsZV9mNjRfcmV2KHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgZjY0WzBdID0gdmFsO1xyXG4gICAgICAgICAgICBidWZbcG9zICAgIF0gPSBmOGJbN107XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyAxXSA9IGY4Yls2XTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDJdID0gZjhiWzVdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgM10gPSBmOGJbNF07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA0XSA9IGY4YlszXTtcclxuICAgICAgICAgICAgYnVmW3BvcyArIDVdID0gZjhiWzJdO1xyXG4gICAgICAgICAgICBidWZbcG9zICsgNl0gPSBmOGJbMV07XHJcbiAgICAgICAgICAgIGJ1Zltwb3MgKyA3XSA9IGY4YlswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUxFID0gbGUgPyB3cml0ZURvdWJsZV9mNjRfY3B5IDogd3JpdGVEb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVCRSA9IGxlID8gd3JpdGVEb3VibGVfZjY0X3JldiA6IHdyaXRlRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X2NweShidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbMF0gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4YlsxXSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbM10gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4Yls0XSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbNl0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4Yls3XSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlYWREb3VibGVfZjY0X3JldihidWYsIHBvcykge1xyXG4gICAgICAgICAgICBmOGJbN10gPSBidWZbcG9zICAgIF07XHJcbiAgICAgICAgICAgIGY4Yls2XSA9IGJ1Zltwb3MgKyAxXTtcclxuICAgICAgICAgICAgZjhiWzVdID0gYnVmW3BvcyArIDJdO1xyXG4gICAgICAgICAgICBmOGJbNF0gPSBidWZbcG9zICsgM107XHJcbiAgICAgICAgICAgIGY4YlszXSA9IGJ1Zltwb3MgKyA0XTtcclxuICAgICAgICAgICAgZjhiWzJdID0gYnVmW3BvcyArIDVdO1xyXG4gICAgICAgICAgICBmOGJbMV0gPSBidWZbcG9zICsgNl07XHJcbiAgICAgICAgICAgIGY4YlswXSA9IGJ1Zltwb3MgKyA3XTtcclxuICAgICAgICAgICAgcmV0dXJuIGY2NFswXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSBsZSA/IHJlYWREb3VibGVfZjY0X2NweSA6IHJlYWREb3VibGVfZjY0X3JldjtcclxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xyXG4gICAgICAgIGV4cG9ydHMucmVhZERvdWJsZUJFID0gbGUgPyByZWFkRG91YmxlX2Y2NF9yZXYgOiByZWFkRG91YmxlX2Y2NF9jcHk7XHJcblxyXG4gICAgLy8gZG91YmxlOiBpZWVlNzU0XHJcbiAgICB9KSgpOyBlbHNlIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gd3JpdGVEb3VibGVfaWVlZTc1NCh3cml0ZVVpbnQsIG9mZjAsIG9mZjEsIHZhbCwgYnVmLCBwb3MpIHtcclxuICAgICAgICAgICAgdmFyIHNpZ24gPSB2YWwgPCAwID8gMSA6IDA7XHJcbiAgICAgICAgICAgIGlmIChzaWduKVxyXG4gICAgICAgICAgICAgICAgdmFsID0gLXZhbDtcclxuICAgICAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoMSAvIHZhbCA+IDAgPyAvKiBwb3NpdGl2ZSAqLyAwIDogLyogbmVnYXRpdmUgMCAqLyAyMTQ3NDgzNjQ4LCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTmFOKHZhbCkpIHtcclxuICAgICAgICAgICAgICAgIHdyaXRlVWludCgwLCBidWYsIHBvcyArIG9mZjApO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDIxNDY5NTkzNjAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsID4gMS43OTc2OTMxMzQ4NjIzMTU3ZSszMDgpIHsgLy8gKy1JbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgd3JpdGVVaW50KDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCAyMTQ2NDM1MDcyKSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYW50aXNzYTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAyLjIyNTA3Mzg1ODUwNzIwMTRlLTMwOCkgeyAvLyBkZW5vcm1hbFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gdmFsIC8gNWUtMzI0O1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSA+Pj4gMCwgYnVmLCBwb3MgKyBvZmYwKTtcclxuICAgICAgICAgICAgICAgICAgICB3cml0ZVVpbnQoKHNpZ24gPDwgMzEgfCBtYW50aXNzYSAvIDQyOTQ5NjcyOTYpID4+PiAwLCBidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXhwb25lbnQgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbCkgLyBNYXRoLkxOMik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cG9uZW50ID09PSAxMDI0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvbmVudCA9IDEwMjM7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFudGlzc2EgPSB2YWwgKiBNYXRoLnBvdygyLCAtZXhwb25lbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlVWludChtYW50aXNzYSAqIDQ1MDM1OTk2MjczNzA0OTYgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVVaW50KChzaWduIDw8IDMxIHwgZXhwb25lbnQgKyAxMDIzIDw8IDIwIHwgbWFudGlzc2EgKiAxMDQ4NTc2ICYgMTA0ODU3NSkgPj4+IDAsIGJ1ZiwgcG9zICsgb2ZmMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV4cG9ydHMud3JpdGVEb3VibGVMRSA9IHdyaXRlRG91YmxlX2llZWU3NTQuYmluZChudWxsLCB3cml0ZVVpbnRMRSwgMCwgNCk7XHJcbiAgICAgICAgZXhwb3J0cy53cml0ZURvdWJsZUJFID0gd3JpdGVEb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHdyaXRlVWludEJFLCA0LCAwKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVhZERvdWJsZV9pZWVlNzU0KHJlYWRVaW50LCBvZmYwLCBvZmYxLCBidWYsIHBvcykge1xyXG4gICAgICAgICAgICB2YXIgbG8gPSByZWFkVWludChidWYsIHBvcyArIG9mZjApLFxyXG4gICAgICAgICAgICAgICAgaGkgPSByZWFkVWludChidWYsIHBvcyArIG9mZjEpO1xyXG4gICAgICAgICAgICB2YXIgc2lnbiA9IChoaSA+PiAzMSkgKiAyICsgMSxcclxuICAgICAgICAgICAgICAgIGV4cG9uZW50ID0gaGkgPj4+IDIwICYgMjA0NyxcclxuICAgICAgICAgICAgICAgIG1hbnRpc3NhID0gNDI5NDk2NzI5NiAqIChoaSAmIDEwNDg1NzUpICsgbG87XHJcbiAgICAgICAgICAgIHJldHVybiBleHBvbmVudCA9PT0gMjA0N1xyXG4gICAgICAgICAgICAgICAgPyBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgPyBOYU5cclxuICAgICAgICAgICAgICAgIDogc2lnbiAqIEluZmluaXR5XHJcbiAgICAgICAgICAgICAgICA6IGV4cG9uZW50ID09PSAwIC8vIGRlbm9ybWFsXHJcbiAgICAgICAgICAgICAgICA/IHNpZ24gKiA1ZS0zMjQgKiBtYW50aXNzYVxyXG4gICAgICAgICAgICAgICAgOiBzaWduICogTWF0aC5wb3coMiwgZXhwb25lbnQgLSAxMDc1KSAqIChtYW50aXNzYSArIDQ1MDM1OTk2MjczNzA0OTYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZXhwb3J0cy5yZWFkRG91YmxlTEUgPSByZWFkRG91YmxlX2llZWU3NTQuYmluZChudWxsLCByZWFkVWludExFLCAwLCA0KTtcclxuICAgICAgICBleHBvcnRzLnJlYWREb3VibGVCRSA9IHJlYWREb3VibGVfaWVlZTc1NC5iaW5kKG51bGwsIHJlYWRVaW50QkUsIDQsIDApO1xyXG5cclxuICAgIH0pKCk7XHJcblxyXG4gICAgcmV0dXJuIGV4cG9ydHM7XHJcbn1cclxuXHJcbi8vIHVpbnQgaGVscGVyc1xyXG5cclxuZnVuY3Rpb24gd3JpdGVVaW50TEUodmFsLCBidWYsIHBvcykge1xyXG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMV0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAyXSA9ICB2YWwgPj4+IDE2ICYgMjU1O1xyXG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlVWludEJFKHZhbCwgYnVmLCBwb3MpIHtcclxuICAgIGJ1Zltwb3MgICAgXSA9ICB2YWwgPj4+IDI0O1xyXG4gICAgYnVmW3BvcyArIDFdID0gIHZhbCA+Pj4gMTYgJiAyNTU7XHJcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiA4ICAmIDI1NTtcclxuICAgIGJ1Zltwb3MgKyAzXSA9ICB2YWwgICAgICAgICYgMjU1O1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVWludExFKGJ1ZiwgcG9zKSB7XHJcbiAgICByZXR1cm4gKGJ1Zltwb3MgICAgXVxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMV0gPDwgOFxyXG4gICAgICAgICAgfCBidWZbcG9zICsgMl0gPDwgMTZcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDNdIDw8IDI0KSA+Pj4gMDtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVpbnRCRShidWYsIHBvcykge1xyXG4gICAgcmV0dXJuIChidWZbcG9zICAgIF0gPDwgMjRcclxuICAgICAgICAgIHwgYnVmW3BvcyArIDFdIDw8IDE2XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAyXSA8PCA4XHJcbiAgICAgICAgICB8IGJ1Zltwb3MgKyAzXSkgPj4+IDA7XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gaW5xdWlyZTtcclxuXHJcbi8qKlxyXG4gKiBSZXF1aXJlcyBhIG1vZHVsZSBvbmx5IGlmIGF2YWlsYWJsZS5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZU5hbWUgTW9kdWxlIHRvIHJlcXVpcmVcclxuICogQHJldHVybnMgez9PYmplY3R9IFJlcXVpcmVkIG1vZHVsZSBpZiBhdmFpbGFibGUgYW5kIG5vdCBlbXB0eSwgb3RoZXJ3aXNlIGBudWxsYFxyXG4gKi9cclxuZnVuY3Rpb24gaW5xdWlyZShtb2R1bGVOYW1lKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHZhciBtb2QgPSBldmFsKFwicXVpcmVcIi5yZXBsYWNlKC9eLyxcInJlXCIpKShtb2R1bGVOYW1lKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXHJcbiAgICAgICAgaWYgKG1vZCAmJiAobW9kLmxlbmd0aCB8fCBPYmplY3Qua2V5cyhtb2QpLmxlbmd0aCkpXHJcbiAgICAgICAgICAgIHJldHVybiBtb2Q7XHJcbiAgICB9IGNhdGNoIChlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qKlxyXG4gKiBBIG1pbmltYWwgVVRGOCBpbXBsZW1lbnRhdGlvbiBmb3IgbnVtYmVyIGFycmF5cy5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQG5hbWVzcGFjZVxyXG4gKi9cclxudmFyIHV0ZjggPSBleHBvcnRzO1xyXG5cclxuLyoqXHJcbiAqIENhbGN1bGF0ZXMgdGhlIFVURjggYnl0ZSBsZW5ndGggb2YgYSBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU3RyaW5nXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9IEJ5dGUgbGVuZ3RoXHJcbiAqL1xyXG51dGY4Lmxlbmd0aCA9IGZ1bmN0aW9uIHV0ZjhfbGVuZ3RoKHN0cmluZykge1xyXG4gICAgdmFyIGxlbiA9IDAsXHJcbiAgICAgICAgYyA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOClcclxuICAgICAgICAgICAgbGVuICs9IDE7XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpXHJcbiAgICAgICAgICAgIGxlbiArPSAyO1xyXG4gICAgICAgIGVsc2UgaWYgKChjICYgMHhGQzAwKSA9PT0gMHhEODAwICYmIChzdHJpbmcuY2hhckNvZGVBdChpICsgMSkgJiAweEZDMDApID09PSAweERDMDApIHtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBsZW4gKz0gNDtcclxuICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgbGVuICs9IDM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVuO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlYWRzIFVURjggYnl0ZXMgYXMgYSBzdHJpbmcuXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIFNvdXJjZSBidWZmZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0IFNvdXJjZSBzdGFydFxyXG4gKiBAcGFyYW0ge251bWJlcn0gZW5kIFNvdXJjZSBlbmRcclxuICogQHJldHVybnMge3N0cmluZ30gU3RyaW5nIHJlYWRcclxuICovXHJcbnV0ZjgucmVhZCA9IGZ1bmN0aW9uIHV0ZjhfcmVhZChidWZmZXIsIHN0YXJ0LCBlbmQpIHtcclxuICAgIHZhciBsZW4gPSBlbmQgLSBzdGFydDtcclxuICAgIGlmIChsZW4gPCAxKVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgdmFyIHBhcnRzID0gbnVsbCxcclxuICAgICAgICBjaHVuayA9IFtdLFxyXG4gICAgICAgIGkgPSAwLCAvLyBjaGFyIG9mZnNldFxyXG4gICAgICAgIHQ7ICAgICAvLyB0ZW1wb3JhcnlcclxuICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xyXG4gICAgICAgIHQgPSBidWZmZXJbc3RhcnQrK107XHJcbiAgICAgICAgaWYgKHQgPCAxMjgpXHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSB0O1xyXG4gICAgICAgIGVsc2UgaWYgKHQgPiAxOTEgJiYgdCA8IDIyNClcclxuICAgICAgICAgICAgY2h1bmtbaSsrXSA9ICh0ICYgMzEpIDw8IDYgfCBidWZmZXJbc3RhcnQrK10gJiA2MztcclxuICAgICAgICBlbHNlIGlmICh0ID4gMjM5ICYmIHQgPCAzNjUpIHtcclxuICAgICAgICAgICAgdCA9ICgodCAmIDcpIDw8IDE4IHwgKGJ1ZmZlcltzdGFydCsrXSAmIDYzKSA8PCAxMiB8IChidWZmZXJbc3RhcnQrK10gJiA2MykgPDwgNiB8IGJ1ZmZlcltzdGFydCsrXSAmIDYzKSAtIDB4MTAwMDA7XHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAweEQ4MDAgKyAodCA+PiAxMCk7XHJcbiAgICAgICAgICAgIGNodW5rW2krK10gPSAweERDMDAgKyAodCAmIDEwMjMpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgICAgICBjaHVua1tpKytdID0gKHQgJiAxNSkgPDwgMTIgfCAoYnVmZmVyW3N0YXJ0KytdICYgNjMpIDw8IDYgfCBidWZmZXJbc3RhcnQrK10gJiA2MztcclxuICAgICAgICBpZiAoaSA+IDgxOTEpIHtcclxuICAgICAgICAgICAgKHBhcnRzIHx8IChwYXJ0cyA9IFtdKSkucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY2h1bmspKTtcclxuICAgICAgICAgICAgaSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHBhcnRzKSB7XHJcbiAgICAgICAgaWYgKGkpXHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oXCJcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNodW5rLnNsaWNlKDAsIGkpKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBXcml0ZXMgYSBzdHJpbmcgYXMgVVRGOCBieXRlcy5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTb3VyY2Ugc3RyaW5nXHJcbiAqIEBwYXJhbSB7VWludDhBcnJheX0gYnVmZmVyIERlc3RpbmF0aW9uIGJ1ZmZlclxyXG4gKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IERlc3RpbmF0aW9uIG9mZnNldFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBCeXRlcyB3cml0dGVuXHJcbiAqL1xyXG51dGY4LndyaXRlID0gZnVuY3Rpb24gdXRmOF93cml0ZShzdHJpbmcsIGJ1ZmZlciwgb2Zmc2V0KSB7XHJcbiAgICB2YXIgc3RhcnQgPSBvZmZzZXQsXHJcbiAgICAgICAgYzEsIC8vIGNoYXJhY3RlciAxXHJcbiAgICAgICAgYzI7IC8vIGNoYXJhY3RlciAyXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGMxID0gc3RyaW5nLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGMxIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gNiAgICAgICB8IDE5MjtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxICAgICAgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgfSBlbHNlIGlmICgoYzEgJiAweEZDMDApID09PSAweEQ4MDAgJiYgKChjMiA9IHN0cmluZy5jaGFyQ29kZUF0KGkgKyAxKSkgJiAweEZDMDApID09PSAweERDMDApIHtcclxuICAgICAgICAgICAgYzEgPSAweDEwMDAwICsgKChjMSAmIDB4MDNGRikgPDwgMTApICsgKGMyICYgMHgwM0ZGKTtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTggICAgICB8IDI0MDtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDEyICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSA+PiA2ICAmIDYzIHwgMTI4O1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgICAgICAgJiA2MyB8IDEyODtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0KytdID0gYzEgPj4gMTIgICAgICB8IDIyNDtcclxuICAgICAgICAgICAgYnVmZmVyW29mZnNldCsrXSA9IGMxID4+IDYgICYgNjMgfCAxMjg7XHJcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQrK10gPSBjMSAgICAgICAmIDYzIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvZmZzZXQgLSBzdGFydDtcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gcG9vbDtcclxuXHJcbi8qKlxyXG4gKiBBbiBhbGxvY2F0b3IgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbEFsbG9jYXRvclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIEJ1ZmZlciBzaXplXHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXJcclxuICovXHJcblxyXG4vKipcclxuICogQSBzbGljZXIgYXMgdXNlZCBieSB7QGxpbmsgdXRpbC5wb29sfS5cclxuICogQHR5cGVkZWYgUG9vbFNsaWNlclxyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBTdGFydCBvZmZzZXRcclxuICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgb2Zmc2V0XHJcbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBCdWZmZXIgc2xpY2VcclxuICogQHRoaXMge1VpbnQ4QXJyYXl9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEEgZ2VuZXJhbCBwdXJwb3NlIGJ1ZmZlciBwb29sLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAZnVuY3Rpb25cclxuICogQHBhcmFtIHtQb29sQWxsb2NhdG9yfSBhbGxvYyBBbGxvY2F0b3JcclxuICogQHBhcmFtIHtQb29sU2xpY2VyfSBzbGljZSBTbGljZXJcclxuICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTgxOTJdIFNsYWIgc2l6ZVxyXG4gKiBAcmV0dXJucyB7UG9vbEFsbG9jYXRvcn0gUG9vbGVkIGFsbG9jYXRvclxyXG4gKi9cclxuZnVuY3Rpb24gcG9vbChhbGxvYywgc2xpY2UsIHNpemUpIHtcclxuICAgIHZhciBTSVpFICAgPSBzaXplIHx8IDgxOTI7XHJcbiAgICB2YXIgTUFYICAgID0gU0laRSA+Pj4gMTtcclxuICAgIHZhciBzbGFiICAgPSBudWxsO1xyXG4gICAgdmFyIG9mZnNldCA9IFNJWkU7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gcG9vbF9hbGxvYyhzaXplKSB7XHJcbiAgICAgICAgaWYgKHNpemUgPCAxIHx8IHNpemUgPiBNQVgpXHJcbiAgICAgICAgICAgIHJldHVybiBhbGxvYyhzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICsgc2l6ZSA+IFNJWkUpIHtcclxuICAgICAgICAgICAgc2xhYiA9IGFsbG9jKFNJWkUpO1xyXG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYnVmID0gc2xpY2UuY2FsbChzbGFiLCBvZmZzZXQsIG9mZnNldCArPSBzaXplKTtcclxuICAgICAgICBpZiAob2Zmc2V0ICYgNykgLy8gYWxpZ24gdG8gMzIgYml0XHJcbiAgICAgICAgICAgIG9mZnNldCA9IChvZmZzZXQgfCA3KSArIDE7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZjtcclxuICAgIH07XHJcbn1cclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IExvbmdCaXRzO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuLi91dGlsL21pbmltYWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBuZXcgbG9uZyBiaXRzLlxuICogQGNsYXNzZGVzYyBIZWxwZXIgY2xhc3MgZm9yIHdvcmtpbmcgd2l0aCB0aGUgbG93IGFuZCBoaWdoIGJpdHMgb2YgYSA2NCBiaXQgdmFsdWUuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge251bWJlcn0gbG8gTG93IDMyIGJpdHMsIHVuc2lnbmVkXG4gKiBAcGFyYW0ge251bWJlcn0gaGkgSGlnaCAzMiBiaXRzLCB1bnNpZ25lZFxuICovXG5mdW5jdGlvbiBMb25nQml0cyhsbywgaGkpIHtcblxuICAgIC8vIG5vdGUgdGhhdCB0aGUgY2FzdHMgYmVsb3cgYXJlIHRoZW9yZXRpY2FsbHkgdW5uZWNlc3NhcnkgYXMgb2YgdG9kYXksIGJ1dCBvbGRlciBzdGF0aWNhbGx5XG4gICAgLy8gZ2VuZXJhdGVkIGNvbnZlcnRlciBjb2RlIG1pZ2h0IHN0aWxsIGNhbGwgdGhlIGN0b3Igd2l0aCBzaWduZWQgMzJiaXRzLiBrZXB0IGZvciBjb21wYXQuXG5cbiAgICAvKipcbiAgICAgKiBMb3cgYml0cy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubG8gPSBsbyA+Pj4gMDtcblxuICAgIC8qKlxuICAgICAqIEhpZ2ggYml0cy5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaGkgPSBoaSA+Pj4gMDtcbn1cblxuLyoqXG4gKiBaZXJvIGJpdHMuXG4gKiBAbWVtYmVyb2YgdXRpbC5Mb25nQml0c1xuICogQHR5cGUge3V0aWwuTG9uZ0JpdHN9XG4gKi9cbnZhciB6ZXJvID0gTG9uZ0JpdHMuemVybyA9IG5ldyBMb25nQml0cygwLCAwKTtcblxuemVyby50b051bWJlciA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbnplcm8uenpFbmNvZGUgPSB6ZXJvLnp6RGVjb2RlID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9O1xuemVyby5sZW5ndGggPSBmdW5jdGlvbigpIHsgcmV0dXJuIDE7IH07XG5cbi8qKlxuICogWmVybyBoYXNoLlxuICogQG1lbWJlcm9mIHV0aWwuTG9uZ0JpdHNcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbnZhciB6ZXJvSGFzaCA9IExvbmdCaXRzLnplcm9IYXNoID0gXCJcXDBcXDBcXDBcXDBcXDBcXDBcXDBcXDBcIjtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSB0aGUgc3BlY2lmaWVkIG51bWJlci5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZVxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEluc3RhbmNlXG4gKi9cbkxvbmdCaXRzLmZyb21OdW1iZXIgPSBmdW5jdGlvbiBmcm9tTnVtYmVyKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICByZXR1cm4gemVybztcbiAgICB2YXIgc2lnbiA9IHZhbHVlIDwgMDtcbiAgICBpZiAoc2lnbilcbiAgICAgICAgdmFsdWUgPSAtdmFsdWU7XG4gICAgdmFyIGxvID0gdmFsdWUgPj4+IDAsXG4gICAgICAgIGhpID0gKHZhbHVlIC0gbG8pIC8gNDI5NDk2NzI5NiA+Pj4gMDtcbiAgICBpZiAoc2lnbikge1xuICAgICAgICBoaSA9IH5oaSA+Pj4gMDtcbiAgICAgICAgbG8gPSB+bG8gPj4+IDA7XG4gICAgICAgIGlmICgrK2xvID4gNDI5NDk2NzI5NSkge1xuICAgICAgICAgICAgbG8gPSAwO1xuICAgICAgICAgICAgaWYgKCsraGkgPiA0Mjk0OTY3Mjk1KVxuICAgICAgICAgICAgICAgIGhpID0gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IExvbmdCaXRzKGxvLCBoaSk7XG59O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgbmV3IGxvbmcgYml0cyBmcm9tIGEgbnVtYmVyLCBsb25nIG9yIHN0cmluZy5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZVxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IEluc3RhbmNlXG4gKi9cbkxvbmdCaXRzLmZyb20gPSBmdW5jdGlvbiBmcm9tKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgcmV0dXJuIExvbmdCaXRzLmZyb21OdW1iZXIodmFsdWUpO1xuICAgIGlmICh1dGlsLmlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAodXRpbC5Mb25nKVxuICAgICAgICAgICAgdmFsdWUgPSB1dGlsLkxvbmcuZnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBMb25nQml0cy5mcm9tTnVtYmVyKHBhcnNlSW50KHZhbHVlLCAxMCkpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWUubG93IHx8IHZhbHVlLmhpZ2ggPyBuZXcgTG9uZ0JpdHModmFsdWUubG93ID4+PiAwLCB2YWx1ZS5oaWdoID4+PiAwKSA6IHplcm87XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgcG9zc2libHkgdW5zYWZlIEphdmFTY3JpcHQgbnVtYmVyLlxuICogQHBhcmFtIHtib29sZWFufSBbdW5zaWduZWQ9ZmFsc2VdIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKiBAcmV0dXJucyB7bnVtYmVyfSBQb3NzaWJseSB1bnNhZmUgbnVtYmVyXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uIHRvTnVtYmVyKHVuc2lnbmVkKSB7XG4gICAgaWYgKCF1bnNpZ25lZCAmJiB0aGlzLmhpID4+PiAzMSkge1xuICAgICAgICB2YXIgbG8gPSB+dGhpcy5sbyArIDEgPj4+IDAsXG4gICAgICAgICAgICBoaSA9IH50aGlzLmhpICAgICA+Pj4gMDtcbiAgICAgICAgaWYgKCFsbylcbiAgICAgICAgICAgIGhpID0gaGkgKyAxID4+PiAwO1xuICAgICAgICByZXR1cm4gLShsbyArIGhpICogNDI5NDk2NzI5Nik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmxvICsgdGhpcy5oaSAqIDQyOTQ5NjcyOTY7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgbG9uZy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge0xvbmd9IExvbmdcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnRvTG9uZyA9IGZ1bmN0aW9uIHRvTG9uZyh1bnNpZ25lZCkge1xuICAgIHJldHVybiB1dGlsLkxvbmdcbiAgICAgICAgPyBuZXcgdXRpbC5Mb25nKHRoaXMubG8gfCAwLCB0aGlzLmhpIHwgMCwgQm9vbGVhbih1bnNpZ25lZCkpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIDogeyBsb3c6IHRoaXMubG8gfCAwLCBoaWdoOiB0aGlzLmhpIHwgMCwgdW5zaWduZWQ6IEJvb2xlYW4odW5zaWduZWQpIH07XG59O1xuXG52YXIgY2hhckNvZGVBdCA9IFN0cmluZy5wcm90b3R5cGUuY2hhckNvZGVBdDtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIG5ldyBsb25nIGJpdHMgZnJvbSB0aGUgc3BlY2lmaWVkIDggY2hhcmFjdGVycyBsb25nIGhhc2guXG4gKiBAcGFyYW0ge3N0cmluZ30gaGFzaCBIYXNoXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gQml0c1xuICovXG5Mb25nQml0cy5mcm9tSGFzaCA9IGZ1bmN0aW9uIGZyb21IYXNoKGhhc2gpIHtcbiAgICBpZiAoaGFzaCA9PT0gemVyb0hhc2gpXG4gICAgICAgIHJldHVybiB6ZXJvO1xuICAgIHJldHVybiBuZXcgTG9uZ0JpdHMoXG4gICAgICAgICggY2hhckNvZGVBdC5jYWxsKGhhc2gsIDApXG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDEpIDw8IDhcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgMikgPDwgMTZcbiAgICAgICAgfCBjaGFyQ29kZUF0LmNhbGwoaGFzaCwgMykgPDwgMjQpID4+PiAwXG4gICAgLFxuICAgICAgICAoIGNoYXJDb2RlQXQuY2FsbChoYXNoLCA0KVxuICAgICAgICB8IGNoYXJDb2RlQXQuY2FsbChoYXNoLCA1KSA8PCA4XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDYpIDw8IDE2XG4gICAgICAgIHwgY2hhckNvZGVBdC5jYWxsKGhhc2gsIDcpIDw8IDI0KSA+Pj4gMFxuICAgICk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbG9uZyBiaXRzIHRvIGEgOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IEhhc2hcbiAqL1xuTG9uZ0JpdHMucHJvdG90eXBlLnRvSGFzaCA9IGZ1bmN0aW9uIHRvSGFzaCgpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShcbiAgICAgICAgdGhpcy5sbyAgICAgICAgJiAyNTUsXG4gICAgICAgIHRoaXMubG8gPj4+IDggICYgMjU1LFxuICAgICAgICB0aGlzLmxvID4+PiAxNiAmIDI1NSxcbiAgICAgICAgdGhpcy5sbyA+Pj4gMjQgICAgICAsXG4gICAgICAgIHRoaXMuaGkgICAgICAgICYgMjU1LFxuICAgICAgICB0aGlzLmhpID4+PiA4ICAmIDI1NSxcbiAgICAgICAgdGhpcy5oaSA+Pj4gMTYgJiAyNTUsXG4gICAgICAgIHRoaXMuaGkgPj4+IDI0XG4gICAgKTtcbn07XG5cbi8qKlxuICogWmlnLXphZyBlbmNvZGVzIHRoaXMgbG9uZyBiaXRzLlxuICogQHJldHVybnMge3V0aWwuTG9uZ0JpdHN9IGB0aGlzYFxuICovXG5Mb25nQml0cy5wcm90b3R5cGUuenpFbmNvZGUgPSBmdW5jdGlvbiB6ekVuY29kZSgpIHtcbiAgICB2YXIgbWFzayA9ICAgdGhpcy5oaSA+PiAzMTtcbiAgICB0aGlzLmhpICA9ICgodGhpcy5oaSA8PCAxIHwgdGhpcy5sbyA+Pj4gMzEpIF4gbWFzaykgPj4+IDA7XG4gICAgdGhpcy5sbyAgPSAoIHRoaXMubG8gPDwgMSAgICAgICAgICAgICAgICAgICBeIG1hc2spID4+PiAwO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBaaWctemFnIGRlY29kZXMgdGhpcyBsb25nIGJpdHMuXG4gKiBAcmV0dXJucyB7dXRpbC5Mb25nQml0c30gYHRoaXNgXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS56ekRlY29kZSA9IGZ1bmN0aW9uIHp6RGVjb2RlKCkge1xuICAgIHZhciBtYXNrID0gLSh0aGlzLmxvICYgMSk7XG4gICAgdGhpcy5sbyAgPSAoKHRoaXMubG8gPj4+IDEgfCB0aGlzLmhpIDw8IDMxKSBeIG1hc2spID4+PiAwO1xuICAgIHRoaXMuaGkgID0gKCB0aGlzLmhpID4+PiAxICAgICAgICAgICAgICAgICAgXiBtYXNrKSA+Pj4gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbGVuZ3RoIG9mIHRoaXMgbG9uZ2JpdHMgd2hlbiBlbmNvZGVkIGFzIGEgdmFyaW50LlxuICogQHJldHVybnMge251bWJlcn0gTGVuZ3RoXG4gKi9cbkxvbmdCaXRzLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiBsZW5ndGgoKSB7XG4gICAgdmFyIHBhcnQwID0gIHRoaXMubG8sXG4gICAgICAgIHBhcnQxID0gKHRoaXMubG8gPj4+IDI4IHwgdGhpcy5oaSA8PCA0KSA+Pj4gMCxcbiAgICAgICAgcGFydDIgPSAgdGhpcy5oaSA+Pj4gMjQ7XG4gICAgcmV0dXJuIHBhcnQyID09PSAwXG4gICAgICAgICA/IHBhcnQxID09PSAwXG4gICAgICAgICAgID8gcGFydDAgPCAxNjM4NFxuICAgICAgICAgICAgID8gcGFydDAgPCAxMjggPyAxIDogMlxuICAgICAgICAgICAgIDogcGFydDAgPCAyMDk3MTUyID8gMyA6IDRcbiAgICAgICAgICAgOiBwYXJ0MSA8IDE2Mzg0XG4gICAgICAgICAgICAgPyBwYXJ0MSA8IDEyOCA/IDUgOiA2XG4gICAgICAgICAgICAgOiBwYXJ0MSA8IDIwOTcxNTIgPyA3IDogOFxuICAgICAgICAgOiBwYXJ0MiA8IDEyOCA/IDkgOiAxMDtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciB1dGlsID0gZXhwb3J0cztcblxuLy8gdXNlZCB0byByZXR1cm4gYSBQcm9taXNlIHdoZXJlIGNhbGxiYWNrIGlzIG9taXR0ZWRcbnV0aWwuYXNQcm9taXNlID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2FzcHJvbWlzZVwiKTtcblxuLy8gY29udmVydHMgdG8gLyBmcm9tIGJhc2U2NCBlbmNvZGVkIHN0cmluZ3NcbnV0aWwuYmFzZTY0ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2Jhc2U2NFwiKTtcblxuLy8gYmFzZSBjbGFzcyBvZiBycGMuU2VydmljZVxudXRpbC5FdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvZXZlbnRlbWl0dGVyXCIpO1xuXG4vLyBmbG9hdCBoYW5kbGluZyBhY2Nyb3NzIGJyb3dzZXJzXG51dGlsLmZsb2F0ID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2Zsb2F0XCIpO1xuXG4vLyByZXF1aXJlcyBtb2R1bGVzIG9wdGlvbmFsbHkgYW5kIGhpZGVzIHRoZSBjYWxsIGZyb20gYnVuZGxlcnNcbnV0aWwuaW5xdWlyZSA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9pbnF1aXJlXCIpO1xuXG4vLyBjb252ZXJ0cyB0byAvIGZyb20gdXRmOCBlbmNvZGVkIHN0cmluZ3NcbnV0aWwudXRmOCA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy91dGY4XCIpO1xuXG4vLyBwcm92aWRlcyBhIG5vZGUtbGlrZSBidWZmZXIgcG9vbCBpbiB0aGUgYnJvd3NlclxudXRpbC5wb29sID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL3Bvb2xcIik7XG5cbi8vIHV0aWxpdHkgdG8gd29yayB3aXRoIHRoZSBsb3cgYW5kIGhpZ2ggYml0cyBvZiBhIDY0IGJpdCB2YWx1ZVxudXRpbC5Mb25nQml0cyA9IHJlcXVpcmUoXCIuL2xvbmdiaXRzXCIpO1xuXG4vKipcbiAqIFdoZXRoZXIgcnVubmluZyB3aXRoaW4gbm9kZSBvciBub3QuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHR5cGUge2Jvb2xlYW59XG4gKi9cbnV0aWwuaXNOb2RlID0gQm9vbGVhbih0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsXG4gICAgICAgICAgICAgICAgICAgJiYgZ2xvYmFsLnByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAmJiBnbG9iYWwucHJvY2Vzcy52ZXJzaW9uc1xuICAgICAgICAgICAgICAgICAgICYmIGdsb2JhbC5wcm9jZXNzLnZlcnNpb25zLm5vZGUpO1xuXG4vKipcbiAqIEdsb2JhbCBvYmplY3QgcmVmZXJlbmNlLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbnV0aWwuZ2xvYmFsID0gdXRpbC5pc05vZGUgJiYgZ2xvYmFsXG4gICAgICAgICAgIHx8IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93XG4gICAgICAgICAgIHx8IHR5cGVvZiBzZWxmICAgIT09IFwidW5kZWZpbmVkXCIgJiYgc2VsZlxuICAgICAgICAgICB8fCB0aGlzOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xuXG4vKipcbiAqIEFuIGltbXVhYmxlIGVtcHR5IGFycmF5LlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEB0eXBlIHtBcnJheS48Kj59XG4gKiBAY29uc3RcbiAqL1xudXRpbC5lbXB0eUFycmF5ID0gT2JqZWN0LmZyZWV6ZSA/IE9iamVjdC5mcmVlemUoW10pIDogLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gW107IC8vIHVzZWQgb24gcHJvdG90eXBlc1xuXG4vKipcbiAqIEFuIGltbXV0YWJsZSBlbXB0eSBvYmplY3QuXG4gKiBAdHlwZSB7T2JqZWN0fVxuICogQGNvbnN0XG4gKi9cbnV0aWwuZW1wdHlPYmplY3QgPSBPYmplY3QuZnJlZXplID8gT2JqZWN0LmZyZWV6ZSh7fSkgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB7fTsgLy8gdXNlZCBvbiBwcm90b3R5cGVzXG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhbiBpbnRlZ2VyLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgdGhlIHZhbHVlIGlzIGFuIGludGVnZXJcbiAqL1xudXRpbC5pc0ludGVnZXIgPSBOdW1iZXIuaXNJbnRlZ2VyIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgaXNGaW5pdGUodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSBzdHJpbmdcbiAqL1xudXRpbC5pc1N0cmluZyA9IGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiB8fCB2YWx1ZSBpbnN0YW5jZW9mIFN0cmluZztcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIG5vbi1udWxsIG9iamVjdC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgYSBub24tbnVsbCBvYmplY3RcbiAqL1xudXRpbC5pc09iamVjdCA9IGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIjtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcHJvcGVydHkgb24gYSBtZXNzYWdlIGlzIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudC5cbiAqIFRoaXMgaXMgYW4gYWxpYXMgb2Yge0BsaW5rIHV0aWwuaXNTZXR9LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqIFBsYWluIG9iamVjdCBvciBtZXNzYWdlIGluc3RhbmNlXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSBuYW1lXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudCwgb3RoZXJ3aXNlIGBmYWxzZWBcbiAqL1xudXRpbC5pc3NldCA9XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgcHJvcGVydHkgb24gYSBtZXNzYWdlIGlzIGNvbnNpZGVyZWQgdG8gYmUgcHJlc2VudC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogUGxhaW4gb2JqZWN0IG9yIG1lc3NhZ2UgaW5zdGFuY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IG5hbWVcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgY29uc2lkZXJlZCB0byBiZSBwcmVzZW50LCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG51dGlsLmlzU2V0ID0gZnVuY3Rpb24gaXNTZXQob2JqLCBwcm9wKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgIGlmICh2YWx1ZSAhPSBudWxsICYmIG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBlcWVxZXEsIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8IChBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLmxlbmd0aCA6IE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGgpID4gMDtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIEFueSBjb21wYXRpYmxlIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIFRoaXMgaXMgYSBtaW5pbWFsIHN0YW5kLWFsb25lIGRlZmluaXRpb24gb2YgYSBCdWZmZXIgaW5zdGFuY2UuIFRoZSBhY3R1YWwgdHlwZSBpcyB0aGF0IGV4cG9ydGVkIGJ5IG5vZGUncyB0eXBpbmdzLlxuICogQGludGVyZmFjZSBCdWZmZXJcbiAqIEBleHRlbmRzIFVpbnQ4QXJyYXlcbiAqL1xuXG4vKipcbiAqIE5vZGUncyBCdWZmZXIgY2xhc3MgaWYgYXZhaWxhYmxlLlxuICogQHR5cGUge0NvbnN0cnVjdG9yPEJ1ZmZlcj59XG4gKi9cbnV0aWwuQnVmZmVyID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBCdWZmZXIgPSB1dGlsLmlucXVpcmUoXCJidWZmZXJcIikuQnVmZmVyO1xuICAgICAgICAvLyByZWZ1c2UgdG8gdXNlIG5vbi1ub2RlIGJ1ZmZlcnMgaWYgbm90IGV4cGxpY2l0bHkgYXNzaWduZWQgKHBlcmYgcmVhc29ucyk6XG4gICAgICAgIHJldHVybiBCdWZmZXIucHJvdG90eXBlLnV0ZjhXcml0ZSA/IEJ1ZmZlciA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIG51bGw7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59KSgpO1xuXG4vLyBJbnRlcm5hbCBhbGlhcyBvZiBvciBwb2x5ZnVsbCBmb3IgQnVmZmVyLmZyb20uXG51dGlsLl9CdWZmZXJfZnJvbSA9IG51bGw7XG5cbi8vIEludGVybmFsIGFsaWFzIG9mIG9yIHBvbHlmaWxsIGZvciBCdWZmZXIuYWxsb2NVbnNhZmUuXG51dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBudWxsO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgYnVmZmVyIG9mIHdoYXRldmVyIHR5cGUgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudC5cbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBbc2l6ZU9yQXJyYXk9MF0gQnVmZmVyIHNpemUgb3IgbnVtYmVyIGFycmF5XG4gKiBAcmV0dXJucyB7VWludDhBcnJheXxCdWZmZXJ9IEJ1ZmZlclxuICovXG51dGlsLm5ld0J1ZmZlciA9IGZ1bmN0aW9uIG5ld0J1ZmZlcihzaXplT3JBcnJheSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHR5cGVvZiBzaXplT3JBcnJheSA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IHV0aWwuQnVmZmVyXG4gICAgICAgICAgICA/IHV0aWwuX0J1ZmZlcl9hbGxvY1Vuc2FmZShzaXplT3JBcnJheSlcbiAgICAgICAgICAgIDogbmV3IHV0aWwuQXJyYXkoc2l6ZU9yQXJyYXkpXG4gICAgICAgIDogdXRpbC5CdWZmZXJcbiAgICAgICAgICAgID8gdXRpbC5fQnVmZmVyX2Zyb20oc2l6ZU9yQXJyYXkpXG4gICAgICAgICAgICA6IHR5cGVvZiBVaW50OEFycmF5ID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgICAgICAgPyBzaXplT3JBcnJheVxuICAgICAgICAgICAgICAgIDogbmV3IFVpbnQ4QXJyYXkoc2l6ZU9yQXJyYXkpO1xufTtcblxuLyoqXG4gKiBBcnJheSBpbXBsZW1lbnRhdGlvbiB1c2VkIGluIHRoZSBicm93c2VyLiBgVWludDhBcnJheWAgaWYgc3VwcG9ydGVkLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEB0eXBlIHtDb25zdHJ1Y3RvcjxVaW50OEFycmF5Pn1cbiAqL1xudXRpbC5BcnJheSA9IHR5cGVvZiBVaW50OEFycmF5ICE9PSBcInVuZGVmaW5lZFwiID8gVWludDhBcnJheSAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyA6IEFycmF5O1xuXG4vKipcbiAqIEFueSBjb21wYXRpYmxlIExvbmcgaW5zdGFuY2UuXG4gKiBUaGlzIGlzIGEgbWluaW1hbCBzdGFuZC1hbG9uZSBkZWZpbml0aW9uIG9mIGEgTG9uZyBpbnN0YW5jZS4gVGhlIGFjdHVhbCB0eXBlIGlzIHRoYXQgZXhwb3J0ZWQgYnkgbG9uZy5qcy5cbiAqIEBpbnRlcmZhY2UgTG9uZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGxvdyBMb3cgYml0c1xuICogQHByb3BlcnR5IHtudW1iZXJ9IGhpZ2ggSGlnaCBiaXRzXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHVuc2lnbmVkIFdoZXRoZXIgdW5zaWduZWQgb3Igbm90XG4gKi9cblxuLyoqXG4gKiBMb25nLmpzJ3MgTG9uZyBjbGFzcyBpZiBhdmFpbGFibGUuXG4gKiBAdHlwZSB7Q29uc3RydWN0b3I8TG9uZz59XG4gKi9cbnV0aWwuTG9uZyA9IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuZ2xvYmFsLmRjb2RlSU8gJiYgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdXRpbC5nbG9iYWwuZGNvZGVJTy5Mb25nXG4gICAgICAgICB8fCAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB1dGlsLmdsb2JhbC5Mb25nXG4gICAgICAgICB8fCB1dGlsLmlucXVpcmUoXCJsb25nXCIpO1xuXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHZlcmlmeSAyIGJpdCAoYGJvb2xgKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXkyUmUgPSAvXnRydWV8ZmFsc2V8MHwxJC87XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDMyIGJpdCAoYGludDMyYCBldGMuKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXkzMlJlID0gL14tPyg/OjB8WzEtOV1bMC05XSopJC87XG5cbi8qKlxuICogUmVndWxhciBleHByZXNzaW9uIHVzZWQgdG8gdmVyaWZ5IDY0IGJpdCAoYGludDY0YCBldGMuKSBtYXAga2V5cy5cbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAY29uc3RcbiAqL1xudXRpbC5rZXk2NFJlID0gL14oPzpbXFxcXHgwMC1cXFxceGZmXXs4fXwtPyg/OjB8WzEtOV1bMC05XSopKSQvO1xuXG4vKipcbiAqIENvbnZlcnRzIGEgbnVtYmVyIG9yIGxvbmcgdG8gYW4gOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaCBzdHJpbmcuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byBjb252ZXJ0XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBIYXNoXG4gKi9cbnV0aWwubG9uZ1RvSGFzaCA9IGZ1bmN0aW9uIGxvbmdUb0hhc2godmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyB1dGlsLkxvbmdCaXRzLmZyb20odmFsdWUpLnRvSGFzaCgpXG4gICAgICAgIDogdXRpbC5Mb25nQml0cy56ZXJvSGFzaDtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYW4gOCBjaGFyYWN0ZXJzIGxvbmcgaGFzaCBzdHJpbmcgdG8gYSBsb25nIG9yIG51bWJlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoIEhhc2hcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Vuc2lnbmVkPWZhbHNlXSBXaGV0aGVyIHVuc2lnbmVkIG9yIG5vdFxuICogQHJldHVybnMge0xvbmd8bnVtYmVyfSBPcmlnaW5hbCB2YWx1ZVxuICovXG51dGlsLmxvbmdGcm9tSGFzaCA9IGZ1bmN0aW9uIGxvbmdGcm9tSGFzaChoYXNoLCB1bnNpZ25lZCkge1xuICAgIHZhciBiaXRzID0gdXRpbC5Mb25nQml0cy5mcm9tSGFzaChoYXNoKTtcbiAgICBpZiAodXRpbC5Mb25nKVxuICAgICAgICByZXR1cm4gdXRpbC5Mb25nLmZyb21CaXRzKGJpdHMubG8sIGJpdHMuaGksIHVuc2lnbmVkKTtcbiAgICByZXR1cm4gYml0cy50b051bWJlcihCb29sZWFuKHVuc2lnbmVkKSk7XG59O1xuXG4vKipcbiAqIE1lcmdlcyB0aGUgcHJvcGVydGllcyBvZiB0aGUgc291cmNlIG9iamVjdCBpbnRvIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gKiBAbWVtYmVyb2YgdXRpbFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gZHN0IERlc3RpbmF0aW9uIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gc3JjIFNvdXJjZSBvYmplY3RcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lmTm90U2V0PWZhbHNlXSBNZXJnZXMgb25seSBpZiB0aGUga2V5IGlzIG5vdCBhbHJlYWR5IHNldFxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBEZXN0aW5hdGlvbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoZHN0LCBzcmMsIGlmTm90U2V0KSB7IC8vIHVzZWQgYnkgY29udmVydGVyc1xuICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhzcmMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmIChkc3Rba2V5c1tpXV0gPT09IHVuZGVmaW5lZCB8fCAhaWZOb3RTZXQpXG4gICAgICAgICAgICBkc3Rba2V5c1tpXV0gPSBzcmNba2V5c1tpXV07XG4gICAgcmV0dXJuIGRzdDtcbn1cblxudXRpbC5tZXJnZSA9IG1lcmdlO1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYSBzdHJpbmcgdG8gbG93ZXIgY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgU3RyaW5nIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvbnZlcnRlZCBzdHJpbmdcbiAqL1xudXRpbC5sY0ZpcnN0ID0gZnVuY3Rpb24gbGNGaXJzdChzdHIpIHtcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyLnN1YnN0cmluZygxKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGN1c3RvbSBlcnJvciBjb25zdHJ1Y3Rvci5cbiAqIEBtZW1iZXJvZiB1dGlsXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFcnJvciBuYW1lXG4gKiBAcmV0dXJucyB7Q29uc3RydWN0b3I8RXJyb3I+fSBDdXN0b20gZXJyb3IgY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gbmV3RXJyb3IobmFtZSkge1xuXG4gICAgZnVuY3Rpb24gQ3VzdG9tRXJyb3IobWVzc2FnZSwgcHJvcGVydGllcykge1xuXG4gICAgICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBDdXN0b21FcnJvcikpXG4gICAgICAgICAgICByZXR1cm4gbmV3IEN1c3RvbUVycm9yKG1lc3NhZ2UsIHByb3BlcnRpZXMpO1xuXG4gICAgICAgIC8vIEVycm9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG4gICAgICAgIC8vIF4ganVzdCByZXR1cm5zIGEgbmV3IGVycm9yIGluc3RhbmNlIGJlY2F1c2UgdGhlIGN0b3IgY2FuIGJlIGNhbGxlZCBhcyBhIGZ1bmN0aW9uXG5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibWVzc2FnZVwiLCB7IGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtZXNzYWdlOyB9IH0pO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkgLy8gbm9kZVxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQ3VzdG9tRXJyb3IpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJzdGFja1wiLCB7IHZhbHVlOiBuZXcgRXJyb3IoKS5zdGFjayB8fCBcIlwiIH0pO1xuXG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICAgICAgbWVyZ2UodGhpcywgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgQ3VzdG9tRXJyb3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvcixcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgeyByZXR1cm4gbmFtZTsgfSxcbiAgICAgICAgICAgIHNldDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAvLyBjb25maWd1cmFibGU6IGZhbHNlIHdvdWxkIGFjY3VyYXRlbHkgcHJlc2VydmUgdGhlIGJlaGF2aW9yIG9mXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwsIGJ1dCBJJ20gZ3Vlc3NpbmcgdGhhdCB3YXMgbm90IGludGVudGlvbmFsLlxuICAgICAgICAgICAgLy8gRm9yIGFuIGFjdHVhbCBlcnJvciBzdWJjbGFzcywgdGhpcyBwcm9wZXJ0eSB3b3VsZFxuICAgICAgICAgICAgLy8gYmUgY29uZmlndXJhYmxlLlxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICB0b1N0cmluZzoge1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkgeyByZXR1cm4gdGhpcy5uYW1lICsgXCI6IFwiICsgdGhpcy5tZXNzYWdlOyB9LFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiBDdXN0b21FcnJvcjtcbn1cblxudXRpbC5uZXdFcnJvciA9IG5ld0Vycm9yO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgcHJvdG9jb2wgZXJyb3IuXG4gKiBAY2xhc3NkZXNjIEVycm9yIHN1YmNsYXNzIGluZGljYXRpbmcgYSBwcm90b2NvbCBzcGVjaWZjIGVycm9yLlxuICogQG1lbWJlcm9mIHV0aWxcbiAqIEBleHRlbmRzIEVycm9yXG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIE1lc3NhZ2U8VD5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgRXJyb3IgbWVzc2FnZVxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gW3Byb3BlcnRpZXNdIEFkZGl0aW9uYWwgcHJvcGVydGllc1xuICogQGV4YW1wbGVcbiAqIHRyeSB7XG4gKiAgICAgTXlNZXNzYWdlLmRlY29kZShzb21lQnVmZmVyKTsgLy8gdGhyb3dzIGlmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICogfSBjYXRjaCAoZSkge1xuICogICAgIGlmIChlIGluc3RhbmNlb2YgUHJvdG9jb2xFcnJvciAmJiBlLmluc3RhbmNlKVxuICogICAgICAgICBjb25zb2xlLmxvZyhcImRlY29kZWQgc28gZmFyOiBcIiArIEpTT04uc3RyaW5naWZ5KGUuaW5zdGFuY2UpKTtcbiAqIH1cbiAqL1xudXRpbC5Qcm90b2NvbEVycm9yID0gbmV3RXJyb3IoXCJQcm90b2NvbEVycm9yXCIpO1xuXG4vKipcbiAqIFNvIGZhciBkZWNvZGVkIG1lc3NhZ2UgaW5zdGFuY2UuXG4gKiBAbmFtZSB1dGlsLlByb3RvY29sRXJyb3IjaW5zdGFuY2VcbiAqIEB0eXBlIHtNZXNzYWdlPFQ+fVxuICovXG5cbi8qKlxuICogQSBPbmVPZiBnZXR0ZXIgYXMgcmV0dXJuZWQgYnkge0BsaW5rIHV0aWwub25lT2ZHZXR0ZXJ9LlxuICogQHR5cGVkZWYgT25lT2ZHZXR0ZXJcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBTZXQgZmllbGQgbmFtZSwgaWYgYW55XG4gKi9cblxuLyoqXG4gKiBCdWlsZHMgYSBnZXR0ZXIgZm9yIGEgb25lb2YncyBwcmVzZW50IGZpZWxkIG5hbWUuXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBmaWVsZE5hbWVzIEZpZWxkIG5hbWVzXG4gKiBAcmV0dXJucyB7T25lT2ZHZXR0ZXJ9IFVuYm91bmQgZ2V0dGVyXG4gKi9cbnV0aWwub25lT2ZHZXR0ZXIgPSBmdW5jdGlvbiBnZXRPbmVPZihmaWVsZE5hbWVzKSB7XG4gICAgdmFyIGZpZWxkTWFwID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZE5hbWVzLmxlbmd0aDsgKytpKVxuICAgICAgICBmaWVsZE1hcFtmaWVsZE5hbWVzW2ldXSA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHVuZGVmaW5lZH0gU2V0IGZpZWxkIG5hbWUsIGlmIGFueVxuICAgICAqIEB0aGlzIE9iamVjdFxuICAgICAqIEBpZ25vcmVcbiAgICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMpLCBpID0ga2V5cy5sZW5ndGggLSAxOyBpID4gLTE7IC0taSlcbiAgICAgICAgICAgIGlmIChmaWVsZE1hcFtrZXlzW2ldXSA9PT0gMSAmJiB0aGlzW2tleXNbaV1dICE9PSB1bmRlZmluZWQgJiYgdGhpc1trZXlzW2ldXSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5c1tpXTtcbiAgICB9O1xufTtcblxuLyoqXG4gKiBBIE9uZU9mIHNldHRlciBhcyByZXR1cm5lZCBieSB7QGxpbmsgdXRpbC5vbmVPZlNldHRlcn0uXG4gKiBAdHlwZWRlZiBPbmVPZlNldHRlclxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSB2YWx1ZSBGaWVsZCBuYW1lXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbi8qKlxuICogQnVpbGRzIGEgc2V0dGVyIGZvciBhIG9uZW9mJ3MgcHJlc2VudCBmaWVsZCBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmdbXX0gZmllbGROYW1lcyBGaWVsZCBuYW1lc1xuICogQHJldHVybnMge09uZU9mU2V0dGVyfSBVbmJvdW5kIHNldHRlclxuICovXG51dGlsLm9uZU9mU2V0dGVyID0gZnVuY3Rpb24gc2V0T25lT2YoZmllbGROYW1lcykge1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRmllbGQgbmFtZVxuICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gICAgICogQHRoaXMgT2JqZWN0XG4gICAgICogQGlnbm9yZVxuICAgICAqL1xuICAgIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGROYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGlmIChmaWVsZE5hbWVzW2ldICE9PSBuYW1lKVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2ZpZWxkTmFtZXNbaV1dO1xuICAgIH07XG59O1xuXG4vKipcbiAqIERlZmF1bHQgY29udmVyc2lvbiBvcHRpb25zIHVzZWQgZm9yIHtAbGluayBNZXNzYWdlI3RvSlNPTn0gaW1wbGVtZW50YXRpb25zLlxuICpcbiAqIFRoZXNlIG9wdGlvbnMgYXJlIGNsb3NlIHRvIHByb3RvMydzIEpTT04gbWFwcGluZyB3aXRoIHRoZSBleGNlcHRpb24gdGhhdCBpbnRlcm5hbCB0eXBlcyBsaWtlIEFueSBhcmUgaGFuZGxlZCBqdXN0IGxpa2UgbWVzc2FnZXMuIE1vcmUgcHJlY2lzZWx5OlxuICpcbiAqIC0gTG9uZ3MgYmVjb21lIHN0cmluZ3NcbiAqIC0gRW51bXMgYmVjb21lIHN0cmluZyBrZXlzXG4gKiAtIEJ5dGVzIGJlY29tZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmdzXG4gKiAtIChTdWItKU1lc3NhZ2VzIGJlY29tZSBwbGFpbiBvYmplY3RzXG4gKiAtIE1hcHMgYmVjb21lIHBsYWluIG9iamVjdHMgd2l0aCBhbGwgc3RyaW5nIGtleXNcbiAqIC0gUmVwZWF0ZWQgZmllbGRzIGJlY29tZSBhcnJheXNcbiAqIC0gTmFOIGFuZCBJbmZpbml0eSBmb3IgZmxvYXQgYW5kIGRvdWJsZSBmaWVsZHMgYmVjb21lIHN0cmluZ3NcbiAqXG4gKiBAdHlwZSB7SUNvbnZlcnNpb25PcHRpb25zfVxuICogQHNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL2RvY3MvcHJvdG8zP2hsPWVuI2pzb25cbiAqL1xudXRpbC50b0pTT05PcHRpb25zID0ge1xuICAgIGxvbmdzOiBTdHJpbmcsXG4gICAgZW51bXM6IFN0cmluZyxcbiAgICBieXRlczogU3RyaW5nLFxuICAgIGpzb246IHRydWVcbn07XG5cbi8vIFNldHMgdXAgYnVmZmVyIHV0aWxpdHkgYWNjb3JkaW5nIHRvIHRoZSBlbnZpcm9ubWVudCAoY2FsbGVkIGluIGluZGV4LW1pbmltYWwpXG51dGlsLl9jb25maWd1cmUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgQnVmZmVyID0gdXRpbC5CdWZmZXI7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFCdWZmZXIpIHtcbiAgICAgICAgdXRpbC5fQnVmZmVyX2Zyb20gPSB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmUgPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGJlY2F1c2Ugbm9kZSA0LnggYnVmZmVycyBhcmUgaW5jb21wYXRpYmxlICYgaW1tdXRhYmxlXG4gICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGNvZGVJTy9wcm90b2J1Zi5qcy9wdWxsLzY2NVxuICAgIHV0aWwuX0J1ZmZlcl9mcm9tID0gQnVmZmVyLmZyb20gIT09IFVpbnQ4QXJyYXkuZnJvbSAmJiBCdWZmZXIuZnJvbSB8fFxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBmdW5jdGlvbiBCdWZmZXJfZnJvbSh2YWx1ZSwgZW5jb2RpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnVmZmVyKHZhbHVlLCBlbmNvZGluZyk7XG4gICAgICAgIH07XG4gICAgdXRpbC5fQnVmZmVyX2FsbG9jVW5zYWZlID0gQnVmZmVyLmFsbG9jVW5zYWZlIHx8XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGZ1bmN0aW9uIEJ1ZmZlcl9hbGxvY1Vuc2FmZShzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcihzaXplKTtcbiAgICAgICAgfTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gV3JpdGVyO1xuXG52YXIgdXRpbCAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgQnVmZmVyV3JpdGVyOyAvLyBjeWNsaWNcblxudmFyIExvbmdCaXRzICA9IHV0aWwuTG9uZ0JpdHMsXG4gICAgYmFzZTY0ICAgID0gdXRpbC5iYXNlNjQsXG4gICAgdXRmOCAgICAgID0gdXRpbC51dGY4O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHdyaXRlciBvcGVyYXRpb24uXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgVWludDhBcnJheSwgbnVtYmVyKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHsqfSB2YWwgVmFsdWUgdG8gd3JpdGVcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gT3AoZm4sIGxlbiwgdmFsKSB7XG5cbiAgICAvKipcbiAgICAgKiBGdW5jdGlvbiB0byBjYWxsLlxuICAgICAqIEB0eXBlIHtmdW5jdGlvbihVaW50OEFycmF5LCBudW1iZXIsICopfVxuICAgICAqL1xuICAgIHRoaXMuZm4gPSBmbjtcblxuICAgIC8qKlxuICAgICAqIFZhbHVlIGJ5dGUgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBsZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IG9wZXJhdGlvbi5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSB0byB3cml0ZS5cbiAgICAgKiBAdHlwZSB7Kn1cbiAgICAgKi9cbiAgICB0aGlzLnZhbCA9IHZhbDsgLy8gdHlwZSB2YXJpZXNcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIG5vb3AoKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5LWZ1bmN0aW9uXG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgc3RhdGUgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIENvcGllZCB3cml0ZXIgc3RhdGUuXG4gKiBAbWVtYmVyb2YgV3JpdGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7V3JpdGVyfSB3cml0ZXIgV3JpdGVyIHRvIGNvcHkgc3RhdGUgZnJvbVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBTdGF0ZSh3cml0ZXIpIHtcblxuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgaGVhZC5cbiAgICAgKiBAdHlwZSB7V3JpdGVyLk9wfVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IHdyaXRlci5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0YWlsLlxuICAgICAqIEB0eXBlIHtXcml0ZXIuT3B9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gd3JpdGVyLnRhaWw7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJ1ZmZlciBsZW5ndGguXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxlbiA9IHdyaXRlci5sZW47XG5cbiAgICAvKipcbiAgICAgKiBOZXh0IHN0YXRlLlxuICAgICAqIEB0eXBlIHtTdGF0ZXxudWxsfVxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IHdyaXRlci5zdGF0ZXM7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB3cml0ZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHdyaXRlciB1c2luZyBgVWludDhBcnJheWAgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBXcml0ZXIoKSB7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGxlbmd0aC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMubGVuID0gMDtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgaGVhZC5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuaGVhZCA9IG5ldyBPcChub29wLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnMgdGFpbFxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YWlsID0gdGhpcy5oZWFkO1xuXG4gICAgLyoqXG4gICAgICogTGlua2VkIGZvcmtlZCBzdGF0ZXMuXG4gICAgICogQHR5cGUge09iamVjdHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGVzID0gbnVsbDtcblxuICAgIC8vIFdoZW4gYSB2YWx1ZSBpcyB3cml0dGVuLCB0aGUgd3JpdGVyIGNhbGN1bGF0ZXMgaXRzIGJ5dGUgbGVuZ3RoIGFuZCBwdXRzIGl0IGludG8gYSBsaW5rZWRcbiAgICAvLyBsaXN0IG9mIG9wZXJhdGlvbnMgdG8gcGVyZm9ybSB3aGVuIGZpbmlzaCgpIGlzIGNhbGxlZC4gVGhpcyBib3RoIGFsbG93cyB1cyB0byBhbGxvY2F0ZVxuICAgIC8vIGJ1ZmZlcnMgb2YgdGhlIGV4YWN0IHJlcXVpcmVkIHNpemUgYW5kIHJlZHVjZXMgdGhlIGFtb3VudCBvZiB3b3JrIHdlIGhhdmUgdG8gZG8gY29tcGFyZWRcbiAgICAvLyB0byBmaXJzdCBjYWxjdWxhdGluZyBvdmVyIG9iamVjdHMgYW5kIHRoZW4gZW5jb2Rpbmcgb3ZlciBvYmplY3RzLiBJbiBvdXIgY2FzZSwgdGhlIGVuY29kaW5nXG4gICAgLy8gcGFydCBpcyBqdXN0IGEgbGlua2VkIGxpc3Qgd2FsayBjYWxsaW5nIG9wZXJhdGlvbnMgd2l0aCBhbHJlYWR5IHByZXBhcmVkIHZhbHVlcy5cbn1cblxudmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gdXRpbC5CdWZmZXJcbiAgICAgICAgPyBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyX3NldHVwKCkge1xuICAgICAgICAgICAgcmV0dXJuIChXcml0ZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1ZmZlcldyaXRlcigpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGZ1bmN0aW9uIGNyZWF0ZV9hcnJheSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgV3JpdGVyKCk7XG4gICAgICAgIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgd3JpdGVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyV3JpdGVyfFdyaXRlcn0gQSB7QGxpbmsgQnVmZmVyV3JpdGVyfSB3aGVuIEJ1ZmZlcnMgYXJlIHN1cHBvcnRlZCwgb3RoZXJ3aXNlIGEge0BsaW5rIFdyaXRlcn1cbiAqL1xuV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuXG4vKipcbiAqIEFsbG9jYXRlcyBhIGJ1ZmZlciBvZiB0aGUgc3BlY2lmaWVkIHNpemUuXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBCdWZmZXIgc2l6ZVxuICogQHJldHVybnMge1VpbnQ4QXJyYXl9IEJ1ZmZlclxuICovXG5Xcml0ZXIuYWxsb2MgPSBmdW5jdGlvbiBhbGxvYyhzaXplKSB7XG4gICAgcmV0dXJuIG5ldyB1dGlsLkFycmF5KHNpemUpO1xufTtcblxuLy8gVXNlIFVpbnQ4QXJyYXkgYnVmZmVyIHBvb2wgaW4gdGhlIGJyb3dzZXIsIGp1c3QgbGlrZSBub2RlIGRvZXMgd2l0aCBidWZmZXJzXG4vKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuaWYgKHV0aWwuQXJyYXkgIT09IEFycmF5KVxuICAgIFdyaXRlci5hbGxvYyA9IHV0aWwucG9vbChXcml0ZXIuYWxsb2MsIHV0aWwuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5KTtcblxuLyoqXG4gKiBQdXNoZXMgYSBuZXcgb3BlcmF0aW9uIHRvIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVWludDhBcnJheSwgbnVtYmVyLCAqKX0gZm4gRnVuY3Rpb24gdG8gY2FsbFxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAcHJpdmF0ZVxuICovXG5Xcml0ZXIucHJvdG90eXBlLl9wdXNoID0gZnVuY3Rpb24gcHVzaChmbiwgbGVuLCB2YWwpIHtcbiAgICB0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBPcChmbiwgbGVuLCB2YWwpO1xuICAgIHRoaXMubGVuICs9IGxlbjtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIHdyaXRlQnl0ZSh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3Bvc10gPSB2YWwgJiAyNTU7XG59XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50MzIodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwgPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbCAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsID4+Pj0gNztcbiAgICB9XG4gICAgYnVmW3Bvc10gPSB2YWw7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyB2YXJpbnQgd3JpdGVyIG9wZXJhdGlvbiBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgU2NoZWR1bGVkIHZhcmludCB3cml0ZXIgb3BlcmF0aW9uLlxuICogQGV4dGVuZHMgT3BcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IGxlbiBWYWx1ZSBieXRlIGxlbmd0aFxuICogQHBhcmFtIHtudW1iZXJ9IHZhbCBWYWx1ZSB0byB3cml0ZVxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBWYXJpbnRPcChsZW4sIHZhbCkge1xuICAgIHRoaXMubGVuID0gbGVuO1xuICAgIHRoaXMubmV4dCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnZhbCA9IHZhbDtcbn1cblxuVmFyaW50T3AucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShPcC5wcm90b3R5cGUpO1xuVmFyaW50T3AucHJvdG90eXBlLmZuID0gd3JpdGVWYXJpbnQzMjtcblxuLyoqXG4gKiBXcml0ZXMgYW4gdW5zaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50MzIgPSBmdW5jdGlvbiB3cml0ZV91aW50MzIodmFsdWUpIHtcbiAgICAvLyBoZXJlLCB0aGUgY2FsbCB0byB0aGlzLnB1c2ggaGFzIGJlZW4gaW5saW5lZCBhbmQgYSB2YXJpbnQgc3BlY2lmaWMgT3Agc3ViY2xhc3MgaXMgdXNlZC5cbiAgICAvLyB1aW50MzIgaXMgYnkgZmFyIHRoZSBtb3N0IGZyZXF1ZW50bHkgdXNlZCBvcGVyYXRpb24gYW5kIGJlbmVmaXRzIHNpZ25pZmljYW50bHkgZnJvbSB0aGlzLlxuICAgIHRoaXMubGVuICs9ICh0aGlzLnRhaWwgPSB0aGlzLnRhaWwubmV4dCA9IG5ldyBWYXJpbnRPcChcbiAgICAgICAgKHZhbHVlID0gdmFsdWUgPj4+IDApXG4gICAgICAgICAgICAgICAgPCAxMjggICAgICAgPyAxXG4gICAgICAgIDogdmFsdWUgPCAxNjM4NCAgICAgPyAyXG4gICAgICAgIDogdmFsdWUgPCAyMDk3MTUyICAgPyAzXG4gICAgICAgIDogdmFsdWUgPCAyNjg0MzU0NTYgPyA0XG4gICAgICAgIDogICAgICAgICAgICAgICAgICAgICA1LFxuICAgIHZhbHVlKSkubGVuO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmludDMyID0gZnVuY3Rpb24gd3JpdGVfaW50MzIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPCAwXG4gICAgICAgID8gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCAxMCwgTG9uZ0JpdHMuZnJvbU51bWJlcih2YWx1ZSkpIC8vIDEwIGJ5dGVzIHBlciBzcGVjXG4gICAgICAgIDogdGhpcy51aW50MzIodmFsdWUpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSAzMiBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ludDMyID0gZnVuY3Rpb24gd3JpdGVfc2ludDMyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCh2YWx1ZSA8PCAxIF4gdmFsdWUgPj4gMzEpID4+PiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlVmFyaW50NjQodmFsLCBidWYsIHBvcykge1xuICAgIHdoaWxlICh2YWwuaGkpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gKHZhbC5sbyA+Pj4gNyB8IHZhbC5oaSA8PCAyNSkgPj4+IDA7XG4gICAgICAgIHZhbC5oaSA+Pj49IDc7XG4gICAgfVxuICAgIHdoaWxlICh2YWwubG8gPiAxMjcpIHtcbiAgICAgICAgYnVmW3BvcysrXSA9IHZhbC5sbyAmIDEyNyB8IDEyODtcbiAgICAgICAgdmFsLmxvID0gdmFsLmxvID4+PiA3O1xuICAgIH1cbiAgICBidWZbcG9zKytdID0gdmFsLmxvO1xufVxuXG4vKipcbiAqIFdyaXRlcyBhbiB1bnNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQuXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS51aW50NjQgPSBmdW5jdGlvbiB3cml0ZV91aW50NjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlVmFyaW50NjQsIGJpdHMubGVuZ3RoKCksIGJpdHMpO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgNjQgYml0IHZhbHVlIGFzIGEgdmFyaW50LlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5pbnQ2NCA9IFdyaXRlci5wcm90b3R5cGUudWludDY0O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUgYXMgYSB2YXJpbnQsIHppZy16YWcgZW5jb2RlZC5cbiAqIEBwYXJhbSB7TG9uZ3xudW1iZXJ8c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGB2YWx1ZWAgaXMgYSBzdHJpbmcgYW5kIG5vIGxvbmcgbGlicmFyeSBpcyBwcmVzZW50LlxuICovXG5Xcml0ZXIucHJvdG90eXBlLnNpbnQ2NCA9IGZ1bmN0aW9uIHdyaXRlX3NpbnQ2NCh2YWx1ZSkge1xuICAgIHZhciBiaXRzID0gTG9uZ0JpdHMuZnJvbSh2YWx1ZSkuenpFbmNvZGUoKTtcbiAgICByZXR1cm4gdGhpcy5fcHVzaCh3cml0ZVZhcmludDY0LCBiaXRzLmxlbmd0aCgpLCBiaXRzKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgYm9vbGlzaCB2YWx1ZSBhcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmJvb2wgPSBmdW5jdGlvbiB3cml0ZV9ib29sKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCB2YWx1ZSA/IDEgOiAwKTtcbn07XG5cbmZ1bmN0aW9uIHdyaXRlRml4ZWQzMih2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgYnVmW3BvcyAgICBdID0gIHZhbCAgICAgICAgICYgMjU1O1xuICAgIGJ1Zltwb3MgKyAxXSA9ICB2YWwgPj4+IDggICAmIDI1NTtcbiAgICBidWZbcG9zICsgMl0gPSAgdmFsID4+PiAxNiAgJiAyNTU7XG4gICAgYnVmW3BvcyArIDNdID0gIHZhbCA+Pj4gMjQ7XG59XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZSBhcyBmaXhlZCAzMiBiaXRzLlxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maXhlZDMyID0gZnVuY3Rpb24gd3JpdGVfZml4ZWQzMih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgdmFsdWUgPj4+IDApO1xufTtcblxuLyoqXG4gKiBXcml0ZXMgYSBzaWduZWQgMzIgYml0IHZhbHVlIGFzIGZpeGVkIDMyIGJpdHMuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc2ZpeGVkMzIgPSBXcml0ZXIucHJvdG90eXBlLmZpeGVkMzI7XG5cbi8qKlxuICogV3JpdGVzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQHBhcmFtIHtMb25nfG51bWJlcnxzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYHZhbHVlYCBpcyBhIHN0cmluZyBhbmQgbm8gbG9uZyBsaWJyYXJ5IGlzIHByZXNlbnQuXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZml4ZWQ2NCA9IGZ1bmN0aW9uIHdyaXRlX2ZpeGVkNjQodmFsdWUpIHtcbiAgICB2YXIgYml0cyA9IExvbmdCaXRzLmZyb20odmFsdWUpO1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlRml4ZWQzMiwgNCwgYml0cy5sbykuX3B1c2god3JpdGVGaXhlZDMyLCA0LCBiaXRzLmhpKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgc2lnbmVkIDY0IGJpdCB2YWx1ZSBhcyBmaXhlZCA2NCBiaXRzLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0xvbmd8bnVtYmVyfHN0cmluZ30gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBgdmFsdWVgIGlzIGEgc3RyaW5nIGFuZCBubyBsb25nIGxpYnJhcnkgaXMgcHJlc2VudC5cbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5zZml4ZWQ2NCA9IFdyaXRlci5wcm90b3R5cGUuZml4ZWQ2NDtcblxuLyoqXG4gKiBXcml0ZXMgYSBmbG9hdCAoMzIgYml0KS5cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlIFZhbHVlIHRvIHdyaXRlXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5mbG9hdCA9IGZ1bmN0aW9uIHdyaXRlX2Zsb2F0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX3B1c2godXRpbC5mbG9hdC53cml0ZUZsb2F0TEUsIDQsIHZhbHVlKTtcbn07XG5cbi8qKlxuICogV3JpdGVzIGEgZG91YmxlICg2NCBiaXQgZmxvYXQpLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgVmFsdWUgdG8gd3JpdGVcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmRvdWJsZSA9IGZ1bmN0aW9uIHdyaXRlX2RvdWJsZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLl9wdXNoKHV0aWwuZmxvYXQud3JpdGVEb3VibGVMRSwgOCwgdmFsdWUpO1xufTtcblxudmFyIHdyaXRlQnl0ZXMgPSB1dGlsLkFycmF5LnByb3RvdHlwZS5zZXRcbiAgICA/IGZ1bmN0aW9uIHdyaXRlQnl0ZXNfc2V0KHZhbCwgYnVmLCBwb3MpIHtcbiAgICAgICAgYnVmLnNldCh2YWwsIHBvcyk7IC8vIGFsc28gd29ya3MgZm9yIHBsYWluIGFycmF5IHZhbHVlc1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIDogZnVuY3Rpb24gd3JpdGVCeXRlc19mb3IodmFsLCBidWYsIHBvcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGJ1Zltwb3MgKyBpXSA9IHZhbFtpXTtcbiAgICB9O1xuXG4vKipcbiAqIFdyaXRlcyBhIHNlcXVlbmNlIG9mIGJ5dGVzLlxuICogQHBhcmFtIHtVaW50OEFycmF5fHN0cmluZ30gdmFsdWUgQnVmZmVyIG9yIGJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuYnl0ZXMgPSBmdW5jdGlvbiB3cml0ZV9ieXRlcyh2YWx1ZSkge1xuICAgIHZhciBsZW4gPSB2YWx1ZS5sZW5ndGggPj4+IDA7XG4gICAgaWYgKCFsZW4pXG4gICAgICAgIHJldHVybiB0aGlzLl9wdXNoKHdyaXRlQnl0ZSwgMSwgMCk7XG4gICAgaWYgKHV0aWwuaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHZhciBidWYgPSBXcml0ZXIuYWxsb2MobGVuID0gYmFzZTY0Lmxlbmd0aCh2YWx1ZSkpO1xuICAgICAgICBiYXNlNjQuZGVjb2RlKHZhbHVlLCBidWYsIDApO1xuICAgICAgICB2YWx1ZSA9IGJ1ZjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudWludDMyKGxlbikuX3B1c2god3JpdGVCeXRlcywgbGVuLCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIFdyaXRlcyBhIHN0cmluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byB3cml0ZVxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gd3JpdGVfc3RyaW5nKHZhbHVlKSB7XG4gICAgdmFyIGxlbiA9IHV0ZjgubGVuZ3RoKHZhbHVlKTtcbiAgICByZXR1cm4gbGVuXG4gICAgICAgID8gdGhpcy51aW50MzIobGVuKS5fcHVzaCh1dGY4LndyaXRlLCBsZW4sIHZhbHVlKVxuICAgICAgICA6IHRoaXMuX3B1c2god3JpdGVCeXRlLCAxLCAwKTtcbn07XG5cbi8qKlxuICogRm9ya3MgdGhpcyB3cml0ZXIncyBzdGF0ZSBieSBwdXNoaW5nIGl0IHRvIGEgc3RhY2suXG4gKiBDYWxsaW5nIHtAbGluayBXcml0ZXIjcmVzZXR8cmVzZXR9IG9yIHtAbGluayBXcml0ZXIjbGRlbGltfGxkZWxpbX0gcmVzZXRzIHRoZSB3cml0ZXIgdG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICogQHJldHVybnMge1dyaXRlcn0gYHRoaXNgXG4gKi9cbldyaXRlci5wcm90b3R5cGUuZm9yayA9IGZ1bmN0aW9uIGZvcmsoKSB7XG4gICAgdGhpcy5zdGF0ZXMgPSBuZXcgU3RhdGUodGhpcyk7XG4gICAgdGhpcy5oZWFkID0gdGhpcy50YWlsID0gbmV3IE9wKG5vb3AsIDAsIDApO1xuICAgIHRoaXMubGVuID0gMDtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoaXMgaW5zdGFuY2UgdG8gdGhlIGxhc3Qgc3RhdGUuXG4gKiBAcmV0dXJucyB7V3JpdGVyfSBgdGhpc2BcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgIGlmICh0aGlzLnN0YXRlcykge1xuICAgICAgICB0aGlzLmhlYWQgICA9IHRoaXMuc3RhdGVzLmhlYWQ7XG4gICAgICAgIHRoaXMudGFpbCAgID0gdGhpcy5zdGF0ZXMudGFpbDtcbiAgICAgICAgdGhpcy5sZW4gICAgPSB0aGlzLnN0YXRlcy5sZW47XG4gICAgICAgIHRoaXMuc3RhdGVzID0gdGhpcy5zdGF0ZXMubmV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBuZXcgT3Aobm9vcCwgMCwgMCk7XG4gICAgICAgIHRoaXMubGVuICA9IDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdG8gdGhlIGxhc3Qgc3RhdGUgYW5kIGFwcGVuZHMgdGhlIGZvcmsgc3RhdGUncyBjdXJyZW50IHdyaXRlIGxlbmd0aCBhcyBhIHZhcmludCBmb2xsb3dlZCBieSBpdHMgb3BlcmF0aW9ucy5cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IGB0aGlzYFxuICovXG5Xcml0ZXIucHJvdG90eXBlLmxkZWxpbSA9IGZ1bmN0aW9uIGxkZWxpbSgpIHtcbiAgICB2YXIgaGVhZCA9IHRoaXMuaGVhZCxcbiAgICAgICAgdGFpbCA9IHRoaXMudGFpbCxcbiAgICAgICAgbGVuICA9IHRoaXMubGVuO1xuICAgIHRoaXMucmVzZXQoKS51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKSB7XG4gICAgICAgIHRoaXMudGFpbC5uZXh0ID0gaGVhZC5uZXh0OyAvLyBza2lwIG5vb3BcbiAgICAgICAgdGhpcy50YWlsID0gdGFpbDtcbiAgICAgICAgdGhpcy5sZW4gKz0gbGVuO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRmluaXNoZXMgdGhlIHdyaXRlIG9wZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtVaW50OEFycmF5fSBGaW5pc2hlZCBidWZmZXJcbiAqL1xuV3JpdGVyLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgdmFyIGhlYWQgPSB0aGlzLmhlYWQubmV4dCwgLy8gc2tpcCBub29wXG4gICAgICAgIGJ1ZiAgPSB0aGlzLmNvbnN0cnVjdG9yLmFsbG9jKHRoaXMubGVuKSxcbiAgICAgICAgcG9zICA9IDA7XG4gICAgd2hpbGUgKGhlYWQpIHtcbiAgICAgICAgaGVhZC5mbihoZWFkLnZhbCwgYnVmLCBwb3MpO1xuICAgICAgICBwb3MgKz0gaGVhZC5sZW47XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIC8vIHRoaXMuaGVhZCA9IHRoaXMudGFpbCA9IG51bGw7XG4gICAgcmV0dXJuIGJ1Zjtcbn07XG5cbldyaXRlci5fY29uZmlndXJlID0gZnVuY3Rpb24oQnVmZmVyV3JpdGVyXykge1xuICAgIEJ1ZmZlcldyaXRlciA9IEJ1ZmZlcldyaXRlcl87XG4gICAgV3JpdGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgIEJ1ZmZlcldyaXRlci5fY29uZmlndXJlKCk7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IEJ1ZmZlcldyaXRlcjtcblxuLy8gZXh0ZW5kcyBXcml0ZXJcbnZhciBXcml0ZXIgPSByZXF1aXJlKFwiLi93cml0ZXJcIik7XG4oQnVmZmVyV3JpdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoV3JpdGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gQnVmZmVyV3JpdGVyO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGJ1ZmZlciB3cml0ZXIgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHdyaXRlciB1c2luZyBub2RlIGJ1ZmZlcnMuXG4gKiBAZXh0ZW5kcyBXcml0ZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBCdWZmZXJXcml0ZXIoKSB7XG4gICAgV3JpdGVyLmNhbGwodGhpcyk7XG59XG5cbkJ1ZmZlcldyaXRlci5fY29uZmlndXJlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEFsbG9jYXRlcyBhIGJ1ZmZlciBvZiB0aGUgc3BlY2lmaWVkIHNpemUuXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemUgQnVmZmVyIHNpemVcbiAgICAgKiBAcmV0dXJucyB7QnVmZmVyfSBCdWZmZXJcbiAgICAgKi9cbiAgICBCdWZmZXJXcml0ZXIuYWxsb2MgPSB1dGlsLl9CdWZmZXJfYWxsb2NVbnNhZmU7XG5cbiAgICBCdWZmZXJXcml0ZXIud3JpdGVCeXRlc0J1ZmZlciA9IHV0aWwuQnVmZmVyICYmIHV0aWwuQnVmZmVyLnByb3RvdHlwZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiYgdXRpbC5CdWZmZXIucHJvdG90eXBlLnNldC5uYW1lID09PSBcInNldFwiXG4gICAgICAgID8gZnVuY3Rpb24gd3JpdGVCeXRlc0J1ZmZlcl9zZXQodmFsLCBidWYsIHBvcykge1xuICAgICAgICAgIGJ1Zi5zZXQodmFsLCBwb3MpOyAvLyBmYXN0ZXIgdGhhbiBjb3B5IChyZXF1aXJlcyBub2RlID49IDQgd2hlcmUgQnVmZmVycyBleHRlbmQgVWludDhBcnJheSBhbmQgc2V0IGlzIHByb3Blcmx5IGluaGVyaXRlZClcbiAgICAgICAgICAvLyBhbHNvIHdvcmtzIGZvciBwbGFpbiBhcnJheSB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGZ1bmN0aW9uIHdyaXRlQnl0ZXNCdWZmZXJfY29weSh2YWwsIGJ1ZiwgcG9zKSB7XG4gICAgICAgICAgaWYgKHZhbC5jb3B5KSAvLyBCdWZmZXIgdmFsdWVzXG4gICAgICAgICAgICB2YWwuY29weShidWYsIHBvcywgMCwgdmFsLmxlbmd0aCk7XG4gICAgICAgICAgZWxzZSBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7KSAvLyBwbGFpbiBhcnJheSB2YWx1ZXNcbiAgICAgICAgICAgIGJ1Zltwb3MrK10gPSB2YWxbaSsrXTtcbiAgICAgICAgfTtcbn07XG5cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuQnVmZmVyV3JpdGVyLnByb3RvdHlwZS5ieXRlcyA9IGZ1bmN0aW9uIHdyaXRlX2J5dGVzX2J1ZmZlcih2YWx1ZSkge1xuICAgIGlmICh1dGlsLmlzU3RyaW5nKHZhbHVlKSlcbiAgICAgICAgdmFsdWUgPSB1dGlsLl9CdWZmZXJfZnJvbSh2YWx1ZSwgXCJiYXNlNjRcIik7XG4gICAgdmFyIGxlbiA9IHZhbHVlLmxlbmd0aCA+Pj4gMDtcbiAgICB0aGlzLnVpbnQzMihsZW4pO1xuICAgIGlmIChsZW4pXG4gICAgICAgIHRoaXMuX3B1c2goQnVmZmVyV3JpdGVyLndyaXRlQnl0ZXNCdWZmZXIsIGxlbiwgdmFsdWUpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gd3JpdGVTdHJpbmdCdWZmZXIodmFsLCBidWYsIHBvcykge1xuICAgIGlmICh2YWwubGVuZ3RoIDwgNDApIC8vIHBsYWluIGpzIGlzIGZhc3RlciBmb3Igc2hvcnQgc3RyaW5ncyAocHJvYmFibHkgZHVlIHRvIHJlZHVuZGFudCBhc3NlcnRpb25zKVxuICAgICAgICB1dGlsLnV0Zjgud3JpdGUodmFsLCBidWYsIHBvcyk7XG4gICAgZWxzZSBpZiAoYnVmLnV0ZjhXcml0ZSlcbiAgICAgICAgYnVmLnV0ZjhXcml0ZSh2YWwsIHBvcyk7XG4gICAgZWxzZVxuICAgICAgICBidWYud3JpdGUodmFsLCBwb3MpO1xufVxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5CdWZmZXJXcml0ZXIucHJvdG90eXBlLnN0cmluZyA9IGZ1bmN0aW9uIHdyaXRlX3N0cmluZ19idWZmZXIodmFsdWUpIHtcbiAgICB2YXIgbGVuID0gdXRpbC5CdWZmZXIuYnl0ZUxlbmd0aCh2YWx1ZSk7XG4gICAgdGhpcy51aW50MzIobGVuKTtcbiAgICBpZiAobGVuKVxuICAgICAgICB0aGlzLl9wdXNoKHdyaXRlU3RyaW5nQnVmZmVyLCBsZW4sIHZhbHVlKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cblxuLyoqXG4gKiBGaW5pc2hlcyB0aGUgd3JpdGUgb3BlcmF0aW9uLlxuICogQG5hbWUgQnVmZmVyV3JpdGVyI2ZpbmlzaFxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBGaW5pc2hlZCBidWZmZXJcbiAqL1xuXG5CdWZmZXJXcml0ZXIuX2NvbmZpZ3VyZSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFJlYWRlcjtcblxudmFyIHV0aWwgICAgICA9IHJlcXVpcmUoXCIuL3V0aWwvbWluaW1hbFwiKTtcblxudmFyIEJ1ZmZlclJlYWRlcjsgLy8gY3ljbGljXG5cbnZhciBMb25nQml0cyAgPSB1dGlsLkxvbmdCaXRzLFxuICAgIHV0ZjggICAgICA9IHV0aWwudXRmODtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGluZGV4T3V0T2ZSYW5nZShyZWFkZXIsIHdyaXRlTGVuZ3RoKSB7XG4gICAgcmV0dXJuIFJhbmdlRXJyb3IoXCJpbmRleCBvdXQgb2YgcmFuZ2U6IFwiICsgcmVhZGVyLnBvcyArIFwiICsgXCIgKyAod3JpdGVMZW5ndGggfHwgMSkgKyBcIiA+IFwiICsgcmVhZGVyLmxlbik7XG59XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyByZWFkZXIgaW5zdGFuY2UgdXNpbmcgdGhlIHNwZWNpZmllZCBidWZmZXIuXG4gKiBAY2xhc3NkZXNjIFdpcmUgZm9ybWF0IHJlYWRlciB1c2luZyBgVWludDhBcnJheWAgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgYEFycmF5YC5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtVaW50OEFycmF5fSBidWZmZXIgQnVmZmVyIHRvIHJlYWQgZnJvbVxuICovXG5mdW5jdGlvbiBSZWFkZXIoYnVmZmVyKSB7XG5cbiAgICAvKipcbiAgICAgKiBSZWFkIGJ1ZmZlci5cbiAgICAgKiBAdHlwZSB7VWludDhBcnJheX1cbiAgICAgKi9cbiAgICB0aGlzLmJ1ZiA9IGJ1ZmZlcjtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyIHBvc2l0aW9uLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5wb3MgPSAwO1xuXG4gICAgLyoqXG4gICAgICogUmVhZCBidWZmZXIgbGVuZ3RoLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5sZW4gPSBidWZmZXIubGVuZ3RoO1xufVxuXG52YXIgY3JlYXRlX2FycmF5ID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09IFwidW5kZWZpbmVkXCJcbiAgICA/IGZ1bmN0aW9uIGNyZWF0ZV90eXBlZF9hcnJheShidWZmZXIpIHtcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgQXJyYXkuaXNBcnJheShidWZmZXIpKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWFkZXIoYnVmZmVyKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJpbGxlZ2FsIGJ1ZmZlclwiKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICA6IGZ1bmN0aW9uIGNyZWF0ZV9hcnJheShidWZmZXIpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYnVmZmVyKSlcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVhZGVyKGJ1ZmZlcik7XG4gICAgICAgIHRocm93IEVycm9yKFwiaWxsZWdhbCBidWZmZXJcIik7XG4gICAgfTtcblxudmFyIGNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgICByZXR1cm4gdXRpbC5CdWZmZXJcbiAgICAgICAgPyBmdW5jdGlvbiBjcmVhdGVfYnVmZmVyX3NldHVwKGJ1ZmZlcikge1xuICAgICAgICAgICAgcmV0dXJuIChSZWFkZXIuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlX2J1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbC5CdWZmZXIuaXNCdWZmZXIoYnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICA/IG5ldyBCdWZmZXJSZWFkZXIoYnVmZmVyKVxuICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgICAgICA6IGNyZWF0ZV9hcnJheShidWZmZXIpO1xuICAgICAgICAgICAgfSkoYnVmZmVyKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICA6IGNyZWF0ZV9hcnJheTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyByZWFkZXIgdXNpbmcgdGhlIHNwZWNpZmllZCBidWZmZXIuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7VWludDhBcnJheXxCdWZmZXJ9IGJ1ZmZlciBCdWZmZXIgdG8gcmVhZCBmcm9tXG4gKiBAcmV0dXJucyB7UmVhZGVyfEJ1ZmZlclJlYWRlcn0gQSB7QGxpbmsgQnVmZmVyUmVhZGVyfSBpZiBgYnVmZmVyYCBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGEge0BsaW5rIFJlYWRlcn1cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBgYnVmZmVyYCBpcyBub3QgYSB2YWxpZCBidWZmZXJcbiAqL1xuUmVhZGVyLmNyZWF0ZSA9IGNyZWF0ZSgpO1xuXG5SZWFkZXIucHJvdG90eXBlLl9zbGljZSA9IHV0aWwuQXJyYXkucHJvdG90eXBlLnN1YmFycmF5IHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHV0aWwuQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGFuIHVuc2lnbmVkIDMyIGJpdCB2YWx1ZS5cbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnVpbnQzMiA9IChmdW5jdGlvbiByZWFkX3VpbnQzMl9zZXR1cCgpIHtcbiAgICB2YXIgdmFsdWUgPSA0Mjk0OTY3Mjk1OyAvLyBvcHRpbWl6ZXIgdHlwZS1oaW50LCB0ZW5kcyB0byBkZW9wdCBvdGhlcndpc2UgKD8hKVxuICAgIHJldHVybiBmdW5jdGlvbiByZWFkX3VpbnQzMigpIHtcbiAgICAgICAgdmFsdWUgPSAoICAgICAgICAgdGhpcy5idWZbdGhpcy5wb3NdICYgMTI3ICAgICAgICkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8ICA3KSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgMTQpID4+PiAwOyBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpIHJldHVybiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSAodmFsdWUgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCAyMSkgPj4+IDA7IGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICB2YWx1ZSA9ICh2YWx1ZSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAgMTUpIDw8IDI4KSA+Pj4gMDsgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KSByZXR1cm4gdmFsdWU7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICgodGhpcy5wb3MgKz0gNSkgPiB0aGlzLmxlbikge1xuICAgICAgICAgICAgdGhpcy5wb3MgPSB0aGlzLmxlbjtcbiAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG59KSgpO1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGEgc2lnbmVkIDMyIGJpdCB2YWx1ZS5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5pbnQzMiA9IGZ1bmN0aW9uIHJlYWRfaW50MzIoKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCkgfCAwO1xufTtcblxuLyoqXG4gKiBSZWFkcyBhIHppZy16YWcgZW5jb2RlZCB2YXJpbnQgYXMgYSBzaWduZWQgMzIgYml0IHZhbHVlLlxuICogQHJldHVybnMge251bWJlcn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNpbnQzMiA9IGZ1bmN0aW9uIHJlYWRfc2ludDMyKCkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMudWludDMyKCk7XG4gICAgcmV0dXJuIHZhbHVlID4+PiAxIF4gLSh2YWx1ZSAmIDEpIHwgMDtcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG5mdW5jdGlvbiByZWFkTG9uZ1ZhcmludCgpIHtcbiAgICAvLyB0ZW5kcyB0byBkZW9wdCB3aXRoIGxvY2FsIHZhcnMgZm9yIG9jdGV0IGV0Yy5cbiAgICB2YXIgYml0cyA9IG5ldyBMb25nQml0cygwLCAwKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgaWYgKHRoaXMubGVuIC0gdGhpcy5wb3MgPiA0KSB7IC8vIGZhc3Qgcm91dGUgKGxvKVxuICAgICAgICBmb3IgKDsgaSA8IDQ7ICsraSkge1xuICAgICAgICAgICAgLy8gMXN0Li40dGhcbiAgICAgICAgICAgIGJpdHMubG8gPSAoYml0cy5sbyB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLyA1dGhcbiAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zXSAmIDEyNykgPDwgMjgpID4+PiAwO1xuICAgICAgICBiaXRzLmhpID0gKGJpdHMuaGkgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA+PiAgNCkgPj4+IDA7XG4gICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICBpID0gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKDsgaSA8IDM7ICsraSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICAgICAgLy8gMXN0Li4zdGhcbiAgICAgICAgICAgIGJpdHMubG8gPSAoYml0cy5sbyB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3KSA+Pj4gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSA8IDEyOClcbiAgICAgICAgICAgICAgICByZXR1cm4gYml0cztcbiAgICAgICAgfVxuICAgICAgICAvLyA0dGhcbiAgICAgICAgYml0cy5sbyA9IChiaXRzLmxvIHwgKHRoaXMuYnVmW3RoaXMucG9zKytdICYgMTI3KSA8PCBpICogNykgPj4+IDA7XG4gICAgICAgIHJldHVybiBiaXRzO1xuICAgIH1cbiAgICBpZiAodGhpcy5sZW4gLSB0aGlzLnBvcyA+IDQpIHsgLy8gZmFzdCByb3V0ZSAoaGkpXG4gICAgICAgIGZvciAoOyBpIDwgNTsgKytpKSB7XG4gICAgICAgICAgICAvLyA2dGguLjEwdGhcbiAgICAgICAgICAgIGJpdHMuaGkgPSAoYml0cy5oaSB8ICh0aGlzLmJ1Zlt0aGlzLnBvc10gJiAxMjcpIDw8IGkgKiA3ICsgMykgPj4+IDA7XG4gICAgICAgICAgICBpZiAodGhpcy5idWZbdGhpcy5wb3MrK10gPCAxMjgpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJpdHM7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKDsgaSA8IDU7ICsraSkge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICAgICAgLy8gNnRoLi4xMHRoXG4gICAgICAgICAgICBiaXRzLmhpID0gKGJpdHMuaGkgfCAodGhpcy5idWZbdGhpcy5wb3NdICYgMTI3KSA8PCBpICogNyArIDMpID4+PiAwO1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVmW3RoaXMucG9zKytdIDwgMTI4KVxuICAgICAgICAgICAgICAgIHJldHVybiBiaXRzO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgRXJyb3IoXCJpbnZhbGlkIHZhcmludCBlbmNvZGluZ1wiKTtcbn1cblxuLyogZXNsaW50LWVuYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUuXG4gKiBAbmFtZSBSZWFkZXIjaW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgdmFyaW50IGFzIGFuIHVuc2lnbmVkIDY0IGJpdCB2YWx1ZS5cbiAqIEBuYW1lIFJlYWRlciN1aW50NjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIGEgemlnLXphZyBlbmNvZGVkIHZhcmludCBhcyBhIHNpZ25lZCA2NCBiaXQgdmFsdWUuXG4gKiBAbmFtZSBSZWFkZXIjc2ludDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyBhIHZhcmludCBhcyBhIGJvb2xlYW4uXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmJvb2wgPSBmdW5jdGlvbiByZWFkX2Jvb2woKSB7XG4gICAgcmV0dXJuIHRoaXMudWludDMyKCkgIT09IDA7XG59O1xuXG5mdW5jdGlvbiByZWFkRml4ZWQzMl9lbmQoYnVmLCBlbmQpIHsgLy8gbm90ZSB0aGF0IHRoaXMgdXNlcyBgZW5kYCwgbm90IGBwb3NgXG4gICAgcmV0dXJuIChidWZbZW5kIC0gNF1cbiAgICAgICAgICB8IGJ1ZltlbmQgLSAzXSA8PCA4XG4gICAgICAgICAgfCBidWZbZW5kIC0gMl0gPDwgMTZcbiAgICAgICAgICB8IGJ1ZltlbmQgLSAxXSA8PCAyNCkgPj4+IDA7XG59XG5cbi8qKlxuICogUmVhZHMgZml4ZWQgMzIgYml0cyBhcyBhbiB1bnNpZ25lZCAzMiBiaXQgaW50ZWdlci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5maXhlZDMyID0gZnVuY3Rpb24gcmVhZF9maXhlZDMyKCkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgNCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgNCk7XG5cbiAgICByZXR1cm4gcmVhZEZpeGVkMzJfZW5kKHRoaXMuYnVmLCB0aGlzLnBvcyArPSA0KTtcbn07XG5cbi8qKlxuICogUmVhZHMgZml4ZWQgMzIgYml0cyBhcyBhIHNpZ25lZCAzMiBiaXQgaW50ZWdlci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFZhbHVlIHJlYWRcbiAqL1xuUmVhZGVyLnByb3RvdHlwZS5zZml4ZWQzMiA9IGZ1bmN0aW9uIHJlYWRfc2ZpeGVkMzIoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA0ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHJldHVybiByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpIHwgMDtcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWludmFsaWQtdGhpcyAqL1xuXG5mdW5jdGlvbiByZWFkRml4ZWQ2NCgvKiB0aGlzOiBSZWFkZXIgKi8pIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcyArIDggPiB0aGlzLmxlbilcbiAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMsIDgpO1xuXG4gICAgcmV0dXJuIG5ldyBMb25nQml0cyhyZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpLCByZWFkRml4ZWQzMl9lbmQodGhpcy5idWYsIHRoaXMucG9zICs9IDQpKTtcbn1cblxuLyogZXNsaW50LWVuYWJsZSBuby1pbnZhbGlkLXRoaXMgKi9cblxuLyoqXG4gKiBSZWFkcyBmaXhlZCA2NCBiaXRzLlxuICogQG5hbWUgUmVhZGVyI2ZpeGVkNjRcbiAqIEBmdW5jdGlvblxuICogQHJldHVybnMge0xvbmd9IFZhbHVlIHJlYWRcbiAqL1xuXG4vKipcbiAqIFJlYWRzIHppZy16YWcgZW5jb2RlZCBmaXhlZCA2NCBiaXRzLlxuICogQG5hbWUgUmVhZGVyI3NmaXhlZDY0XG4gKiBAZnVuY3Rpb25cbiAqIEByZXR1cm5zIHtMb25nfSBWYWx1ZSByZWFkXG4gKi9cblxuLyoqXG4gKiBSZWFkcyBhIGZsb2F0ICgzMiBiaXQpIGFzIGEgbnVtYmVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuZmxvYXQgPSBmdW5jdGlvbiByZWFkX2Zsb2F0KCkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHRoaXMucG9zICsgNCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgNCk7XG5cbiAgICB2YXIgdmFsdWUgPSB1dGlsLmZsb2F0LnJlYWRGbG9hdExFKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG4gICAgdGhpcy5wb3MgKz0gNDtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgZG91YmxlICg2NCBiaXQgZmxvYXQpIGFzIGEgbnVtYmVyLlxuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuZG91YmxlID0gZnVuY3Rpb24gcmVhZF9kb3VibGUoKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5wb3MgKyA4ID4gdGhpcy5sZW4pXG4gICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCA0KTtcblxuICAgIHZhciB2YWx1ZSA9IHV0aWwuZmxvYXQucmVhZERvdWJsZUxFKHRoaXMuYnVmLCB0aGlzLnBvcyk7XG4gICAgdGhpcy5wb3MgKz0gODtcbiAgICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc2VxdWVuY2Ugb2YgYnl0ZXMgcHJlY2VlZGVkIGJ5IGl0cyBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAcmV0dXJucyB7VWludDhBcnJheX0gVmFsdWUgcmVhZFxuICovXG5SZWFkZXIucHJvdG90eXBlLmJ5dGVzID0gZnVuY3Rpb24gcmVhZF9ieXRlcygpIHtcbiAgICB2YXIgbGVuZ3RoID0gdGhpcy51aW50MzIoKSxcbiAgICAgICAgc3RhcnQgID0gdGhpcy5wb3MsXG4gICAgICAgIGVuZCAgICA9IHRoaXMucG9zICsgbGVuZ3RoO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVuZCA+IHRoaXMubGVuKVxuICAgICAgICB0aHJvdyBpbmRleE91dE9mUmFuZ2UodGhpcywgbGVuZ3RoKTtcblxuICAgIHRoaXMucG9zICs9IGxlbmd0aDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmJ1ZikpIC8vIHBsYWluIGFycmF5XG4gICAgICAgIHJldHVybiB0aGlzLmJ1Zi5zbGljZShzdGFydCwgZW5kKTtcblxuICAgIGlmIChzdGFydCA9PT0gZW5kKSB7IC8vIGZpeCBmb3IgSUUgMTAvV2luOCBhbmQgb3RoZXJzJyBzdWJhcnJheSByZXR1cm5pbmcgYXJyYXkgb2Ygc2l6ZSAxXG4gICAgICAgIHZhciBuYXRpdmVCdWZmZXIgPSB1dGlsLkJ1ZmZlcjtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUJ1ZmZlclxuICAgICAgICAgICAgPyBuYXRpdmVCdWZmZXIuYWxsb2MoMClcbiAgICAgICAgICAgIDogbmV3IHRoaXMuYnVmLmNvbnN0cnVjdG9yKDApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fc2xpY2UuY2FsbCh0aGlzLmJ1Ziwgc3RhcnQsIGVuZCk7XG59O1xuXG4vKipcbiAqIFJlYWRzIGEgc3RyaW5nIHByZWNlZWRlZCBieSBpdHMgYnl0ZSBsZW5ndGggYXMgYSB2YXJpbnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBWYWx1ZSByZWFkXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gcmVhZF9zdHJpbmcoKSB7XG4gICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlcygpO1xuICAgIHJldHVybiB1dGY4LnJlYWQoYnl0ZXMsIDAsIGJ5dGVzLmxlbmd0aCk7XG59O1xuXG4vKipcbiAqIFNraXBzIHRoZSBzcGVjaWZpZWQgbnVtYmVyIG9mIGJ5dGVzIGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIHNraXBzIGEgdmFyaW50LlxuICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGhdIExlbmd0aCBpZiBrbm93biwgb3RoZXJ3aXNlIGEgdmFyaW50IGlzIGFzc3VtZWRcbiAqIEByZXR1cm5zIHtSZWFkZXJ9IGB0aGlzYFxuICovXG5SZWFkZXIucHJvdG90eXBlLnNraXAgPSBmdW5jdGlvbiBza2lwKGxlbmd0aCkge1xuICAgIGlmICh0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodGhpcy5wb3MgKyBsZW5ndGggPiB0aGlzLmxlbilcbiAgICAgICAgICAgIHRocm93IGluZGV4T3V0T2ZSYW5nZSh0aGlzLCBsZW5ndGgpO1xuICAgICAgICB0aGlzLnBvcyArPSBsZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAodGhpcy5wb3MgPj0gdGhpcy5sZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgaW5kZXhPdXRPZlJhbmdlKHRoaXMpO1xuICAgICAgICB9IHdoaWxlICh0aGlzLmJ1Zlt0aGlzLnBvcysrXSAmIDEyOCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTa2lwcyB0aGUgbmV4dCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgd2lyZSB0eXBlLlxuICogQHBhcmFtIHtudW1iZXJ9IHdpcmVUeXBlIFdpcmUgdHlwZSByZWNlaXZlZFxuICogQHJldHVybnMge1JlYWRlcn0gYHRoaXNgXG4gKi9cblJlYWRlci5wcm90b3R5cGUuc2tpcFR5cGUgPSBmdW5jdGlvbih3aXJlVHlwZSkge1xuICAgIHN3aXRjaCAod2lyZVR5cGUpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgdGhpcy5za2lwKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdGhpcy5za2lwKDgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHRoaXMuc2tpcCh0aGlzLnVpbnQzMigpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB3aGlsZSAoKHdpcmVUeXBlID0gdGhpcy51aW50MzIoKSAmIDcpICE9PSA0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5za2lwVHlwZSh3aXJlVHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgdGhpcy5za2lwKDQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiaW52YWxpZCB3aXJlIHR5cGUgXCIgKyB3aXJlVHlwZSArIFwiIGF0IG9mZnNldCBcIiArIHRoaXMucG9zKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG5SZWFkZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKEJ1ZmZlclJlYWRlcl8pIHtcbiAgICBCdWZmZXJSZWFkZXIgPSBCdWZmZXJSZWFkZXJfO1xuICAgIFJlYWRlci5jcmVhdGUgPSBjcmVhdGUoKTtcbiAgICBCdWZmZXJSZWFkZXIuX2NvbmZpZ3VyZSgpO1xuXG4gICAgdmFyIGZuID0gdXRpbC5Mb25nID8gXCJ0b0xvbmdcIiA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIFwidG9OdW1iZXJcIjtcbiAgICB1dGlsLm1lcmdlKFJlYWRlci5wcm90b3R5cGUsIHtcblxuICAgICAgICBpbnQ2NDogZnVuY3Rpb24gcmVhZF9pbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpW2ZuXShmYWxzZSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgdWludDY0OiBmdW5jdGlvbiByZWFkX3VpbnQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkTG9uZ1ZhcmludC5jYWxsKHRoaXMpW2ZuXSh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzaW50NjQ6IGZ1bmN0aW9uIHJlYWRfc2ludDY0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlYWRMb25nVmFyaW50LmNhbGwodGhpcykuenpEZWNvZGUoKVtmbl0oZmFsc2UpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpeGVkNjQ6IGZ1bmN0aW9uIHJlYWRfZml4ZWQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkRml4ZWQ2NC5jYWxsKHRoaXMpW2ZuXSh0cnVlKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZml4ZWQ2NDogZnVuY3Rpb24gcmVhZF9zZml4ZWQ2NCgpIHtcbiAgICAgICAgICAgIHJldHVybiByZWFkRml4ZWQ2NC5jYWxsKHRoaXMpW2ZuXShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgIH0pO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBCdWZmZXJSZWFkZXI7XG5cbi8vIGV4dGVuZHMgUmVhZGVyXG52YXIgUmVhZGVyID0gcmVxdWlyZShcIi4vcmVhZGVyXCIpO1xuKEJ1ZmZlclJlYWRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJlYWRlci5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IEJ1ZmZlclJlYWRlcjtcblxudmFyIHV0aWwgPSByZXF1aXJlKFwiLi91dGlsL21pbmltYWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBidWZmZXIgcmVhZGVyIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBXaXJlIGZvcm1hdCByZWFkZXIgdXNpbmcgbm9kZSBidWZmZXJzLlxuICogQGV4dGVuZHMgUmVhZGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7QnVmZmVyfSBidWZmZXIgQnVmZmVyIHRvIHJlYWQgZnJvbVxuICovXG5mdW5jdGlvbiBCdWZmZXJSZWFkZXIoYnVmZmVyKSB7XG4gICAgUmVhZGVyLmNhbGwodGhpcywgYnVmZmVyKTtcblxuICAgIC8qKlxuICAgICAqIFJlYWQgYnVmZmVyLlxuICAgICAqIEBuYW1lIEJ1ZmZlclJlYWRlciNidWZcbiAgICAgKiBAdHlwZSB7QnVmZmVyfVxuICAgICAqL1xufVxuXG5CdWZmZXJSZWFkZXIuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICh1dGlsLkJ1ZmZlcilcbiAgICAgICAgQnVmZmVyUmVhZGVyLnByb3RvdHlwZS5fc2xpY2UgPSB1dGlsLkJ1ZmZlci5wcm90b3R5cGUuc2xpY2U7XG59O1xuXG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbkJ1ZmZlclJlYWRlci5wcm90b3R5cGUuc3RyaW5nID0gZnVuY3Rpb24gcmVhZF9zdHJpbmdfYnVmZmVyKCkge1xuICAgIHZhciBsZW4gPSB0aGlzLnVpbnQzMigpOyAvLyBtb2RpZmllcyBwb3NcbiAgICByZXR1cm4gdGhpcy5idWYudXRmOFNsaWNlXG4gICAgICAgID8gdGhpcy5idWYudXRmOFNsaWNlKHRoaXMucG9zLCB0aGlzLnBvcyA9IE1hdGgubWluKHRoaXMucG9zICsgbGVuLCB0aGlzLmxlbikpXG4gICAgICAgIDogdGhpcy5idWYudG9TdHJpbmcoXCJ1dGYtOFwiLCB0aGlzLnBvcywgdGhpcy5wb3MgPSBNYXRoLm1pbih0aGlzLnBvcyArIGxlbiwgdGhpcy5sZW4pKTtcbn07XG5cbi8qKlxuICogUmVhZHMgYSBzZXF1ZW5jZSBvZiBieXRlcyBwcmVjZWVkZWQgYnkgaXRzIGxlbmd0aCBhcyBhIHZhcmludC5cbiAqIEBuYW1lIEJ1ZmZlclJlYWRlciNieXRlc1xuICogQGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7QnVmZmVyfSBWYWx1ZSByZWFkXG4gKi9cblxuQnVmZmVyUmVhZGVyLl9jb25maWd1cmUoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBTZXJ2aWNlO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuLi91dGlsL21pbmltYWxcIik7XG5cbi8vIEV4dGVuZHMgRXZlbnRFbWl0dGVyXG4oU2VydmljZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHV0aWwuRXZlbnRFbWl0dGVyLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gU2VydmljZTtcblxuLyoqXG4gKiBBIHNlcnZpY2UgbWV0aG9kIGNhbGxiYWNrIGFzIHVzZWQgYnkge0BsaW5rIHJwYy5TZXJ2aWNlTWV0aG9kfFNlcnZpY2VNZXRob2R9LlxuICpcbiAqIERpZmZlcnMgZnJvbSB7QGxpbmsgUlBDSW1wbENhbGxiYWNrfSBpbiB0aGF0IGl0IGlzIGFuIGFjdHVhbCBjYWxsYmFjayBvZiBhIHNlcnZpY2UgbWV0aG9kIHdoaWNoIG1heSBub3QgcmV0dXJuIGByZXNwb25zZSA9IG51bGxgLlxuICogQHR5cGVkZWYgcnBjLlNlcnZpY2VNZXRob2RDYWxsYmFja1xuICogQHRlbXBsYXRlIFRSZXMgZXh0ZW5kcyBNZXNzYWdlPFRSZXM+XG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge0Vycm9yfG51bGx9IGVycm9yIEVycm9yLCBpZiBhbnlcbiAqIEBwYXJhbSB7VFJlc30gW3Jlc3BvbnNlXSBSZXNwb25zZSBtZXNzYWdlXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbi8qKlxuICogQSBzZXJ2aWNlIG1ldGhvZCBwYXJ0IG9mIGEge0BsaW5rIHJwYy5TZXJ2aWNlfSBhcyBjcmVhdGVkIGJ5IHtAbGluayBTZXJ2aWNlLmNyZWF0ZX0uXG4gKiBAdHlwZWRlZiBycGMuU2VydmljZU1ldGhvZFxuICogQHRlbXBsYXRlIFRSZXEgZXh0ZW5kcyBNZXNzYWdlPFRSZXE+XG4gKiBAdGVtcGxhdGUgVFJlcyBleHRlbmRzIE1lc3NhZ2U8VFJlcz5cbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7VFJlcXxQcm9wZXJ0aWVzPFRSZXE+fSByZXF1ZXN0IFJlcXVlc3QgbWVzc2FnZSBvciBwbGFpbiBvYmplY3RcbiAqIEBwYXJhbSB7cnBjLlNlcnZpY2VNZXRob2RDYWxsYmFjazxUUmVzPn0gW2NhbGxiYWNrXSBOb2RlLXN0eWxlIGNhbGxiYWNrIGNhbGxlZCB3aXRoIHRoZSBlcnJvciwgaWYgYW55LCBhbmQgdGhlIHJlc3BvbnNlIG1lc3NhZ2VcbiAqIEByZXR1cm5zIHtQcm9taXNlPE1lc3NhZ2U8VFJlcz4+fSBQcm9taXNlIGlmIGBjYWxsYmFja2AgaGFzIGJlZW4gb21pdHRlZCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IFJQQyBzZXJ2aWNlIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBBbiBSUEMgc2VydmljZSBhcyByZXR1cm5lZCBieSB7QGxpbmsgU2VydmljZSNjcmVhdGV9LlxuICogQGV4cG9ydHMgcnBjLlNlcnZpY2VcbiAqIEBleHRlbmRzIHV0aWwuRXZlbnRFbWl0dGVyXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7UlBDSW1wbH0gcnBjSW1wbCBSUEMgaW1wbGVtZW50YXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlcXVlc3REZWxpbWl0ZWQ9ZmFsc2VdIFdoZXRoZXIgcmVxdWVzdHMgYXJlIGxlbmd0aC1kZWxpbWl0ZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3Jlc3BvbnNlRGVsaW1pdGVkPWZhbHNlXSBXaGV0aGVyIHJlc3BvbnNlcyBhcmUgbGVuZ3RoLWRlbGltaXRlZFxuICovXG5mdW5jdGlvbiBTZXJ2aWNlKHJwY0ltcGwsIHJlcXVlc3REZWxpbWl0ZWQsIHJlc3BvbnNlRGVsaW1pdGVkKSB7XG5cbiAgICBpZiAodHlwZW9mIHJwY0ltcGwgIT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwicnBjSW1wbCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG5cbiAgICB1dGlsLkV2ZW50RW1pdHRlci5jYWxsKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogUlBDIGltcGxlbWVudGF0aW9uLiBCZWNvbWVzIGBudWxsYCBvbmNlIHRoZSBzZXJ2aWNlIGlzIGVuZGVkLlxuICAgICAqIEB0eXBlIHtSUENJbXBsfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5ycGNJbXBsID0gcnBjSW1wbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgcmVxdWVzdHMgYXJlIGxlbmd0aC1kZWxpbWl0ZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0RGVsaW1pdGVkID0gQm9vbGVhbihyZXF1ZXN0RGVsaW1pdGVkKTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBsZW5ndGgtZGVsaW1pdGVkLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVzcG9uc2VEZWxpbWl0ZWQgPSBCb29sZWFuKHJlc3BvbnNlRGVsaW1pdGVkKTtcbn1cblxuLyoqXG4gKiBDYWxscyBhIHNlcnZpY2UgbWV0aG9kIHRocm91Z2gge0BsaW5rIHJwYy5TZXJ2aWNlI3JwY0ltcGx8cnBjSW1wbH0uXG4gKiBAcGFyYW0ge01ldGhvZHxycGMuU2VydmljZU1ldGhvZDxUUmVxLFRSZXM+fSBtZXRob2QgUmVmbGVjdGVkIG9yIHN0YXRpYyBtZXRob2RcbiAqIEBwYXJhbSB7Q29uc3RydWN0b3I8VFJlcT59IHJlcXVlc3RDdG9yIFJlcXVlc3QgY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7Q29uc3RydWN0b3I8VFJlcz59IHJlc3BvbnNlQ3RvciBSZXNwb25zZSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtUUmVxfFByb3BlcnRpZXM8VFJlcT59IHJlcXVlc3QgUmVxdWVzdCBtZXNzYWdlIG9yIHBsYWluIG9iamVjdFxuICogQHBhcmFtIHtycGMuU2VydmljZU1ldGhvZENhbGxiYWNrPFRSZXM+fSBjYWxsYmFjayBTZXJ2aWNlIGNhbGxiYWNrXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQHRlbXBsYXRlIFRSZXEgZXh0ZW5kcyBNZXNzYWdlPFRSZXE+XG4gKiBAdGVtcGxhdGUgVFJlcyBleHRlbmRzIE1lc3NhZ2U8VFJlcz5cbiAqL1xuU2VydmljZS5wcm90b3R5cGUucnBjQ2FsbCA9IGZ1bmN0aW9uIHJwY0NhbGwobWV0aG9kLCByZXF1ZXN0Q3RvciwgcmVzcG9uc2VDdG9yLCByZXF1ZXN0LCBjYWxsYmFjaykge1xuXG4gICAgaWYgKCFyZXF1ZXN0KVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJyZXF1ZXN0IG11c3QgYmUgc3BlY2lmaWVkXCIpO1xuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICghY2FsbGJhY2spXG4gICAgICAgIHJldHVybiB1dGlsLmFzUHJvbWlzZShycGNDYWxsLCBzZWxmLCBtZXRob2QsIHJlcXVlc3RDdG9yLCByZXNwb25zZUN0b3IsIHJlcXVlc3QpO1xuXG4gICAgaWYgKCFzZWxmLnJwY0ltcGwpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soRXJyb3IoXCJhbHJlYWR5IGVuZGVkXCIpKTsgfSwgMCk7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHNlbGYucnBjSW1wbChcbiAgICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICAgIHJlcXVlc3RDdG9yW3NlbGYucmVxdWVzdERlbGltaXRlZCA/IFwiZW5jb2RlRGVsaW1pdGVkXCIgOiBcImVuY29kZVwiXShyZXF1ZXN0KS5maW5pc2goKSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJwY0NhbGxiYWNrKGVyciwgcmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbmQoLyogZW5kZWRCeVJQQyAqLyB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZSBpbnN0YW5jZW9mIHJlc3BvbnNlQ3RvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gcmVzcG9uc2VDdG9yW3NlbGYucmVzcG9uc2VEZWxpbWl0ZWQgPyBcImRlY29kZURlbGltaXRlZFwiIDogXCJkZWNvZGVcIl0ocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIGVyciwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2VsZi5lbWl0KFwiZGF0YVwiLCByZXNwb25zZSwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCBlcnIsIG1ldGhvZCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKGVycik7IH0sIDApO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG5cbi8qKlxuICogRW5kcyB0aGlzIHNlcnZpY2UgYW5kIGVtaXRzIHRoZSBgZW5kYCBldmVudC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2VuZGVkQnlSUEM9ZmFsc2VdIFdoZXRoZXIgdGhlIHNlcnZpY2UgaGFzIGJlZW4gZW5kZWQgYnkgdGhlIFJQQyBpbXBsZW1lbnRhdGlvbi5cbiAqIEByZXR1cm5zIHtycGMuU2VydmljZX0gYHRoaXNgXG4gKi9cblNlcnZpY2UucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIGVuZChlbmRlZEJ5UlBDKSB7XG4gICAgaWYgKHRoaXMucnBjSW1wbCkge1xuICAgICAgICBpZiAoIWVuZGVkQnlSUEMpIC8vIHNpZ25hbCBlbmQgdG8gcnBjSW1wbFxuICAgICAgICAgICAgdGhpcy5ycGNJbXBsKG51bGwsIG51bGwsIG51bGwpO1xuICAgICAgICB0aGlzLnJwY0ltcGwgPSBudWxsO1xuICAgICAgICB0aGlzLmVtaXQoXCJlbmRcIikub2ZmKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIFN0cmVhbWluZyBSUEMgaGVscGVycy5cbiAqIEBuYW1lc3BhY2VcbiAqL1xudmFyIHJwYyA9IGV4cG9ydHM7XG5cbi8qKlxuICogUlBDIGltcGxlbWVudGF0aW9uIHBhc3NlZCB0byB7QGxpbmsgU2VydmljZSNjcmVhdGV9IHBlcmZvcm1pbmcgYSBzZXJ2aWNlIHJlcXVlc3Qgb24gbmV0d29yayBsZXZlbCwgaS5lLiBieSB1dGlsaXppbmcgaHR0cCByZXF1ZXN0cyBvciB3ZWJzb2NrZXRzLlxuICogQHR5cGVkZWYgUlBDSW1wbFxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtNZXRob2R8cnBjLlNlcnZpY2VNZXRob2Q8TWVzc2FnZTx7fT4sTWVzc2FnZTx7fT4+fSBtZXRob2QgUmVmbGVjdGVkIG9yIHN0YXRpYyBtZXRob2QgYmVpbmcgY2FsbGVkXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHJlcXVlc3REYXRhIFJlcXVlc3QgZGF0YVxuICogQHBhcmFtIHtSUENJbXBsQ2FsbGJhY2t9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQGV4YW1wbGVcbiAqIGZ1bmN0aW9uIHJwY0ltcGwobWV0aG9kLCByZXF1ZXN0RGF0YSwgY2FsbGJhY2spIHtcbiAqICAgICBpZiAocHJvdG9idWYudXRpbC5sY0ZpcnN0KG1ldGhvZC5uYW1lKSAhPT0gXCJteU1ldGhvZFwiKSAvLyBjb21wYXRpYmxlIHdpdGggc3RhdGljIGNvZGVcbiAqICAgICAgICAgdGhyb3cgRXJyb3IoXCJubyBzdWNoIG1ldGhvZFwiKTtcbiAqICAgICBhc3luY2hyb25vdXNseU9idGFpbkFSZXNwb25zZShyZXF1ZXN0RGF0YSwgZnVuY3Rpb24oZXJyLCByZXNwb25zZURhdGEpIHtcbiAqICAgICAgICAgY2FsbGJhY2soZXJyLCByZXNwb25zZURhdGEpO1xuICogICAgIH0pO1xuICogfVxuICovXG5cbi8qKlxuICogTm9kZS1zdHlsZSBjYWxsYmFjayBhcyB1c2VkIGJ5IHtAbGluayBSUENJbXBsfS5cbiAqIEB0eXBlZGVmIFJQQ0ltcGxDYWxsYmFja1xuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtFcnJvcnxudWxsfSBlcnJvciBFcnJvciwgaWYgYW55LCBvdGhlcndpc2UgYG51bGxgXG4gKiBAcGFyYW0ge1VpbnQ4QXJyYXl8bnVsbH0gW3Jlc3BvbnNlXSBSZXNwb25zZSBkYXRhIG9yIGBudWxsYCB0byBzaWduYWwgZW5kIG9mIHN0cmVhbSwgaWYgdGhlcmUgaGFzbid0IGJlZW4gYW4gZXJyb3JcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKi9cblxucnBjLlNlcnZpY2UgPSByZXF1aXJlKFwiLi9ycGMvc2VydmljZVwiKTtcbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLyoqXG4gKiBOYW1lZCByb290cy5cbiAqIFRoaXMgaXMgd2hlcmUgcGJqcyBzdG9yZXMgZ2VuZXJhdGVkIHN0cnVjdHVyZXMgKHRoZSBvcHRpb24gYC1yLCAtLXJvb3RgIHNwZWNpZmllcyBhIG5hbWUpLlxuICogQ2FuIGFsc28gYmUgdXNlZCBtYW51YWxseSB0byBtYWtlIHJvb3RzIGF2YWlsYWJsZSBhY3Jvc3MgbW9kdWxlcy5cbiAqIEBuYW1lIHJvb3RzXG4gKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsUm9vdD59XG4gKiBAZXhhbXBsZVxuICogLy8gcGJqcyAtciBteXJvb3QgLW8gY29tcGlsZWQuanMgLi4uXG4gKlxuICogLy8gaW4gYW5vdGhlciBtb2R1bGU6XG4gKiByZXF1aXJlKFwiLi9jb21waWxlZC5qc1wiKTtcbiAqXG4gKiAvLyBpbiBhbnkgc3Vic2VxdWVudCBtb2R1bGU6XG4gKiB2YXIgcm9vdCA9IHByb3RvYnVmLnJvb3RzW1wibXlyb290XCJdO1xuICovXG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBwcm90b2J1ZiA9IGV4cG9ydHM7XG5cbi8qKlxuICogQnVpbGQgdHlwZSwgb25lIG9mIGBcImZ1bGxcImAsIGBcImxpZ2h0XCJgIG9yIGBcIm1pbmltYWxcImAuXG4gKiBAbmFtZSBidWlsZFxuICogQHR5cGUge3N0cmluZ31cbiAqIEBjb25zdFxuICovXG5wcm90b2J1Zi5idWlsZCA9IFwibWluaW1hbFwiO1xuXG4vLyBTZXJpYWxpemF0aW9uXG5wcm90b2J1Zi5Xcml0ZXIgICAgICAgPSByZXF1aXJlKFwiLi93cml0ZXJcIik7XG5wcm90b2J1Zi5CdWZmZXJXcml0ZXIgPSByZXF1aXJlKFwiLi93cml0ZXJfYnVmZmVyXCIpO1xucHJvdG9idWYuUmVhZGVyICAgICAgID0gcmVxdWlyZShcIi4vcmVhZGVyXCIpO1xucHJvdG9idWYuQnVmZmVyUmVhZGVyID0gcmVxdWlyZShcIi4vcmVhZGVyX2J1ZmZlclwiKTtcblxuLy8gVXRpbGl0eVxucHJvdG9idWYudXRpbCAgICAgICAgID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xucHJvdG9idWYucnBjICAgICAgICAgID0gcmVxdWlyZShcIi4vcnBjXCIpO1xucHJvdG9idWYucm9vdHMgICAgICAgID0gcmVxdWlyZShcIi4vcm9vdHNcIik7XG5wcm90b2J1Zi5jb25maWd1cmUgICAgPSBjb25maWd1cmU7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4vKipcbiAqIFJlY29uZmlndXJlcyB0aGUgbGlicmFyeSBhY2NvcmRpbmcgdG8gdGhlIGVudmlyb25tZW50LlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuZnVuY3Rpb24gY29uZmlndXJlKCkge1xuICAgIHByb3RvYnVmLnV0aWwuX2NvbmZpZ3VyZSgpO1xuICAgIHByb3RvYnVmLldyaXRlci5fY29uZmlndXJlKHByb3RvYnVmLkJ1ZmZlcldyaXRlcik7XG4gICAgcHJvdG9idWYuUmVhZGVyLl9jb25maWd1cmUocHJvdG9idWYuQnVmZmVyUmVhZGVyKTtcbn1cblxuLy8gU2V0IHVwIGJ1ZmZlciB1dGlsaXR5IGFjY29yZGluZyB0byB0aGUgZW52aXJvbm1lbnRcbmNvbmZpZ3VyZSgpO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gY29kZWdlbjtcclxuXHJcbi8qKlxyXG4gKiBCZWdpbnMgZ2VuZXJhdGluZyBhIGZ1bmN0aW9uLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBmdW5jdGlvblBhcmFtcyBGdW5jdGlvbiBwYXJhbWV0ZXIgbmFtZXNcclxuICogQHBhcmFtIHtzdHJpbmd9IFtmdW5jdGlvbk5hbWVdIEZ1bmN0aW9uIG5hbWUgaWYgbm90IGFub255bW91c1xyXG4gKiBAcmV0dXJucyB7Q29kZWdlbn0gQXBwZW5kZXIgdGhhdCBhcHBlbmRzIGNvZGUgdG8gdGhlIGZ1bmN0aW9uJ3MgYm9keVxyXG4gKi9cclxuZnVuY3Rpb24gY29kZWdlbihmdW5jdGlvblBhcmFtcywgZnVuY3Rpb25OYW1lKSB7XHJcblxyXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXHJcbiAgICBpZiAodHlwZW9mIGZ1bmN0aW9uUGFyYW1zID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgZnVuY3Rpb25OYW1lID0gZnVuY3Rpb25QYXJhbXM7XHJcbiAgICAgICAgZnVuY3Rpb25QYXJhbXMgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGJvZHkgPSBbXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZHMgY29kZSB0byB0aGUgZnVuY3Rpb24ncyBib2R5IG9yIGZpbmlzaGVzIGdlbmVyYXRpb24uXHJcbiAgICAgKiBAdHlwZWRlZiBDb2RlZ2VuXHJcbiAgICAgKiBAdHlwZSB7ZnVuY3Rpb259XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3QuPHN0cmluZywqPn0gW2Zvcm1hdFN0cmluZ09yU2NvcGVdIEZvcm1hdCBzdHJpbmcgb3IsIHRvIGZpbmlzaCB0aGUgZnVuY3Rpb24sIGFuIG9iamVjdCBvZiBhZGRpdGlvbmFsIHNjb3BlIHZhcmlhYmxlcywgaWYgYW55XHJcbiAgICAgKiBAcGFyYW0gey4uLip9IFtmb3JtYXRQYXJhbXNdIEZvcm1hdCBwYXJhbWV0ZXJzXHJcbiAgICAgKiBAcmV0dXJucyB7Q29kZWdlbnxGdW5jdGlvbn0gSXRzZWxmIG9yIHRoZSBnZW5lcmF0ZWQgZnVuY3Rpb24gaWYgZmluaXNoZWRcclxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiBmb3JtYXQgcGFyYW1ldGVyIGNvdW50cyBkbyBub3QgbWF0Y2hcclxuICAgICAqL1xyXG5cclxuICAgIGZ1bmN0aW9uIENvZGVnZW4oZm9ybWF0U3RyaW5nT3JTY29wZSkge1xyXG4gICAgICAgIC8vIG5vdGUgdGhhdCBleHBsaWNpdCBhcnJheSBoYW5kbGluZyBiZWxvdyBtYWtlcyB0aGlzIH41MCUgZmFzdGVyXHJcblxyXG4gICAgICAgIC8vIGZpbmlzaCB0aGUgZnVuY3Rpb25cclxuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdFN0cmluZ09yU2NvcGUgIT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgIGlmIChjb2RlZ2VuLnZlcmJvc2UpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNvZGVnZW46IFwiICsgc291cmNlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgIHNvdXJjZSA9IFwicmV0dXJuIFwiICsgc291cmNlO1xyXG4gICAgICAgICAgICBpZiAoZm9ybWF0U3RyaW5nT3JTY29wZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjb3BlS2V5cyAgID0gT2JqZWN0LmtleXMoZm9ybWF0U3RyaW5nT3JTY29wZSksXHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGVQYXJhbXMgPSBuZXcgQXJyYXkoc2NvcGVLZXlzLmxlbmd0aCArIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlVmFsdWVzID0gbmV3IEFycmF5KHNjb3BlS2V5cy5sZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlT2Zmc2V0ID0gMDtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChzY29wZU9mZnNldCA8IHNjb3BlS2V5cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZVBhcmFtc1tzY29wZU9mZnNldF0gPSBzY29wZUtleXNbc2NvcGVPZmZzZXRdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlVmFsdWVzW3Njb3BlT2Zmc2V0XSA9IGZvcm1hdFN0cmluZ09yU2NvcGVbc2NvcGVLZXlzW3Njb3BlT2Zmc2V0KytdXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNjb3BlUGFyYW1zW3Njb3BlT2Zmc2V0XSA9IHNvdXJjZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBGdW5jdGlvbi5hcHBseShudWxsLCBzY29wZVBhcmFtcykuYXBwbHkobnVsbCwgc2NvcGVWYWx1ZXMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy1mdW5jXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIEZ1bmN0aW9uKHNvdXJjZSkoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXctZnVuY1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGFwcGVuZCB0byBib2R5XHJcbiAgICAgICAgdmFyIGZvcm1hdFBhcmFtcyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSksXHJcbiAgICAgICAgICAgIGZvcm1hdE9mZnNldCA9IDA7XHJcbiAgICAgICAgd2hpbGUgKGZvcm1hdE9mZnNldCA8IGZvcm1hdFBhcmFtcy5sZW5ndGgpXHJcbiAgICAgICAgICAgIGZvcm1hdFBhcmFtc1tmb3JtYXRPZmZzZXRdID0gYXJndW1lbnRzWysrZm9ybWF0T2Zmc2V0XTtcclxuICAgICAgICBmb3JtYXRPZmZzZXQgPSAwO1xyXG4gICAgICAgIGZvcm1hdFN0cmluZ09yU2NvcGUgPSBmb3JtYXRTdHJpbmdPclNjb3BlLnJlcGxhY2UoLyUoWyVkZmlqc10pL2csIGZ1bmN0aW9uIHJlcGxhY2UoJDAsICQxKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFBhcmFtc1tmb3JtYXRPZmZzZXQrK107XHJcbiAgICAgICAgICAgIHN3aXRjaCAoJDEpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJkXCI6IGNhc2UgXCJmXCI6IHJldHVybiBTdHJpbmcoTnVtYmVyKHZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiaVwiOiByZXR1cm4gU3RyaW5nKE1hdGguZmxvb3IodmFsdWUpKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJqXCI6IHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic1wiOiByZXR1cm4gU3RyaW5nKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gXCIlXCI7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGZvcm1hdE9mZnNldCAhPT0gZm9ybWF0UGFyYW1zLmxlbmd0aClcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJwYXJhbWV0ZXIgY291bnQgbWlzbWF0Y2hcIik7XHJcbiAgICAgICAgYm9keS5wdXNoKGZvcm1hdFN0cmluZ09yU2NvcGUpO1xyXG4gICAgICAgIHJldHVybiBDb2RlZ2VuO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvU3RyaW5nKGZ1bmN0aW9uTmFtZU92ZXJyaWRlKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiZnVuY3Rpb24gXCIgKyAoZnVuY3Rpb25OYW1lT3ZlcnJpZGUgfHwgZnVuY3Rpb25OYW1lIHx8IFwiXCIpICsgXCIoXCIgKyAoZnVuY3Rpb25QYXJhbXMgJiYgZnVuY3Rpb25QYXJhbXMuam9pbihcIixcIikgfHwgXCJcIikgKyBcIil7XFxuICBcIiArIGJvZHkuam9pbihcIlxcbiAgXCIpICsgXCJcXG59XCI7XHJcbiAgICB9XHJcblxyXG4gICAgQ29kZWdlbi50b1N0cmluZyA9IHRvU3RyaW5nO1xyXG4gICAgcmV0dXJuIENvZGVnZW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBCZWdpbnMgZ2VuZXJhdGluZyBhIGZ1bmN0aW9uLlxyXG4gKiBAbWVtYmVyb2YgdXRpbFxyXG4gKiBAZnVuY3Rpb24gY29kZWdlblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2Z1bmN0aW9uTmFtZV0gRnVuY3Rpb24gbmFtZSBpZiBub3QgYW5vbnltb3VzXHJcbiAqIEByZXR1cm5zIHtDb2RlZ2VufSBBcHBlbmRlciB0aGF0IGFwcGVuZHMgY29kZSB0byB0aGUgZnVuY3Rpb24ncyBib2R5XHJcbiAqIEB2YXJpYXRpb24gMlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBXaGVuIHNldCB0byBgdHJ1ZWAsIGNvZGVnZW4gd2lsbCBsb2cgZ2VuZXJhdGVkIGNvZGUgdG8gY29uc29sZS4gVXNlZnVsIGZvciBkZWJ1Z2dpbmcuXHJcbiAqIEBuYW1lIHV0aWwuY29kZWdlbi52ZXJib3NlXHJcbiAqIEB0eXBlIHtib29sZWFufVxyXG4gKi9cclxuY29kZWdlbi52ZXJib3NlID0gZmFsc2U7XHJcbiIsIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZldGNoO1xyXG5cclxudmFyIGFzUHJvbWlzZSA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9hc3Byb21pc2VcIiksXHJcbiAgICBpbnF1aXJlICAgPSByZXF1aXJlKFwiQHByb3RvYnVmanMvaW5xdWlyZVwiKTtcclxuXHJcbnZhciBmcyA9IGlucXVpcmUoXCJmc1wiKTtcclxuXHJcbi8qKlxyXG4gKiBOb2RlLXN0eWxlIGNhbGxiYWNrIGFzIHVzZWQgYnkge0BsaW5rIHV0aWwuZmV0Y2h9LlxyXG4gKiBAdHlwZWRlZiBGZXRjaENhbGxiYWNrXHJcbiAqIEB0eXBlIHtmdW5jdGlvbn1cclxuICogQHBhcmFtIHs/RXJyb3J9IGVycm9yIEVycm9yLCBpZiBhbnksIG90aGVyd2lzZSBgbnVsbGBcclxuICogQHBhcmFtIHtzdHJpbmd9IFtjb250ZW50c10gRmlsZSBjb250ZW50cywgaWYgdGhlcmUgaGFzbid0IGJlZW4gYW4gZXJyb3JcclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cclxuICovXHJcblxyXG4vKipcclxuICogT3B0aW9ucyBhcyB1c2VkIGJ5IHtAbGluayB1dGlsLmZldGNofS5cclxuICogQHR5cGVkZWYgRmV0Y2hPcHRpb25zXHJcbiAqIEB0eXBlIHtPYmplY3R9XHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2JpbmFyeT1mYWxzZV0gV2hldGhlciBleHBlY3RpbmcgYSBiaW5hcnkgcmVzcG9uc2VcclxuICogQHByb3BlcnR5IHtib29sZWFufSBbeGhyPWZhbHNlXSBJZiBgdHJ1ZWAsIGZvcmNlcyB0aGUgdXNlIG9mIFhNTEh0dHBSZXF1ZXN0XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEZldGNoZXMgdGhlIGNvbnRlbnRzIG9mIGEgZmlsZS5cclxuICogQG1lbWJlcm9mIHV0aWxcclxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVuYW1lIEZpbGUgcGF0aCBvciB1cmxcclxuICogQHBhcmFtIHtGZXRjaE9wdGlvbnN9IG9wdGlvbnMgRmV0Y2ggb3B0aW9uc1xyXG4gKiBAcGFyYW0ge0ZldGNoQ2FsbGJhY2t9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXHJcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XHJcbiAqL1xyXG5mdW5jdGlvbiBmZXRjaChmaWxlbmFtZSwgb3B0aW9ucywgY2FsbGJhY2spIHtcclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xyXG4gICAgICAgIG9wdGlvbnMgPSB7fTtcclxuICAgIH0gZWxzZSBpZiAoIW9wdGlvbnMpXHJcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xyXG5cclxuICAgIGlmICghY2FsbGJhY2spXHJcbiAgICAgICAgcmV0dXJuIGFzUHJvbWlzZShmZXRjaCwgdGhpcywgZmlsZW5hbWUsIG9wdGlvbnMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWludmFsaWQtdGhpc1xyXG5cclxuICAgIC8vIGlmIGEgbm9kZS1saWtlIGZpbGVzeXN0ZW0gaXMgcHJlc2VudCwgdHJ5IGl0IGZpcnN0IGJ1dCBmYWxsIGJhY2sgdG8gWEhSIGlmIG5vdGhpbmcgaXMgZm91bmQuXHJcbiAgICBpZiAoIW9wdGlvbnMueGhyICYmIGZzICYmIGZzLnJlYWRGaWxlKVxyXG4gICAgICAgIHJldHVybiBmcy5yZWFkRmlsZShmaWxlbmFtZSwgZnVuY3Rpb24gZmV0Y2hSZWFkRmlsZUNhbGxiYWNrKGVyciwgY29udGVudHMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVyciAmJiB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09IFwidW5kZWZpbmVkXCJcclxuICAgICAgICAgICAgICAgID8gZmV0Y2gueGhyKGZpbGVuYW1lLCBvcHRpb25zLCBjYWxsYmFjaylcclxuICAgICAgICAgICAgICAgIDogZXJyXHJcbiAgICAgICAgICAgICAgICA/IGNhbGxiYWNrKGVycilcclxuICAgICAgICAgICAgICAgIDogY2FsbGJhY2sobnVsbCwgb3B0aW9ucy5iaW5hcnkgPyBjb250ZW50cyA6IGNvbnRlbnRzLnRvU3RyaW5nKFwidXRmOFwiKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gdXNlIHRoZSBYSFIgdmVyc2lvbiBvdGhlcndpc2UuXHJcbiAgICByZXR1cm4gZmV0Y2gueGhyKGZpbGVuYW1lLCBvcHRpb25zLCBjYWxsYmFjayk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGZXRjaGVzIHRoZSBjb250ZW50cyBvZiBhIGZpbGUuXHJcbiAqIEBuYW1lIHV0aWwuZmV0Y2hcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIEZpbGUgcGF0aCBvciB1cmxcclxuICogQHBhcmFtIHtGZXRjaENhbGxiYWNrfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxyXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxyXG4gKiBAdmFyaWF0aW9uIDJcclxuICovXHJcblxyXG4vKipcclxuICogRmV0Y2hlcyB0aGUgY29udGVudHMgb2YgYSBmaWxlLlxyXG4gKiBAbmFtZSB1dGlsLmZldGNoXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBGaWxlIHBhdGggb3IgdXJsXHJcbiAqIEBwYXJhbSB7RmV0Y2hPcHRpb25zfSBbb3B0aW9uc10gRmV0Y2ggb3B0aW9uc1xyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxzdHJpbmd8VWludDhBcnJheT59IFByb21pc2VcclxuICogQHZhcmlhdGlvbiAzXHJcbiAqL1xyXG5cclxuLyoqL1xyXG5mZXRjaC54aHIgPSBmdW5jdGlvbiBmZXRjaF94aHIoZmlsZW5hbWUsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlIC8qIHdvcmtzIGV2ZXJ5d2hlcmUgKi8gPSBmdW5jdGlvbiBmZXRjaE9uUmVhZHlTdGF0ZUNoYW5nZSgpIHtcclxuXHJcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlICE9PSA0KVxyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAvLyBsb2NhbCBjb3JzIHNlY3VyaXR5IGVycm9ycyByZXR1cm4gc3RhdHVzIDAgLyBlbXB0eSBzdHJpbmcsIHRvby4gYWZhaWsgdGhpcyBjYW5ub3QgYmVcclxuICAgICAgICAvLyByZWxpYWJseSBkaXN0aW5ndWlzaGVkIGZyb20gYW4gYWN0dWFsbHkgZW1wdHkgZmlsZSBmb3Igc2VjdXJpdHkgcmVhc29ucy4gZmVlbCBmcmVlXHJcbiAgICAgICAgLy8gdG8gc2VuZCBhIHB1bGwgcmVxdWVzdCBpZiB5b3UgYXJlIGF3YXJlIG9mIGEgc29sdXRpb24uXHJcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgIT09IDAgJiYgeGhyLnN0YXR1cyAhPT0gMjAwKVxyXG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soRXJyb3IoXCJzdGF0dXMgXCIgKyB4aHIuc3RhdHVzKSk7XHJcblxyXG4gICAgICAgIC8vIGlmIGJpbmFyeSBkYXRhIGlzIGV4cGVjdGVkLCBtYWtlIHN1cmUgdGhhdCBzb21lIHNvcnQgb2YgYXJyYXkgaXMgcmV0dXJuZWQsIGV2ZW4gaWZcclxuICAgICAgICAvLyBBcnJheUJ1ZmZlcnMgYXJlIG5vdCBzdXBwb3J0ZWQuIHRoZSBiaW5hcnkgc3RyaW5nIGZhbGxiYWNrLCBob3dldmVyLCBpcyB1bnNhZmUuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYmluYXJ5KSB7XHJcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSB4aHIucmVzcG9uc2U7XHJcbiAgICAgICAgICAgIGlmICghYnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeGhyLnJlc3BvbnNlVGV4dC5sZW5ndGg7ICsraSlcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXIucHVzaCh4aHIucmVzcG9uc2VUZXh0LmNoYXJDb2RlQXQoaSkgJiAyNTUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB0eXBlb2YgVWludDhBcnJheSAhPT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBVaW50OEFycmF5KGJ1ZmZlcikgOiBidWZmZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgeGhyLnJlc3BvbnNlVGV4dCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChvcHRpb25zLmJpbmFyeSkge1xyXG4gICAgICAgIC8vIHJlZjogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1hNTEh0dHBSZXF1ZXN0L1NlbmRpbmdfYW5kX1JlY2VpdmluZ19CaW5hcnlfRGF0YSNSZWNlaXZpbmdfYmluYXJ5X2RhdGFfaW5fb2xkZXJfYnJvd3NlcnNcclxuICAgICAgICBpZiAoXCJvdmVycmlkZU1pbWVUeXBlXCIgaW4geGhyKVxyXG4gICAgICAgICAgICB4aHIub3ZlcnJpZGVNaW1lVHlwZShcInRleHQvcGxhaW47IGNoYXJzZXQ9eC11c2VyLWRlZmluZWRcIik7XHJcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcclxuICAgIH1cclxuXHJcbiAgICB4aHIub3BlbihcIkdFVFwiLCBmaWxlbmFtZSk7XHJcbiAgICB4aHIuc2VuZCgpO1xyXG59O1xyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qKlxyXG4gKiBBIG1pbmltYWwgcGF0aCBtb2R1bGUgdG8gcmVzb2x2ZSBVbml4LCBXaW5kb3dzIGFuZCBVUkwgcGF0aHMgYWxpa2UuXHJcbiAqIEBtZW1iZXJvZiB1dGlsXHJcbiAqIEBuYW1lc3BhY2VcclxuICovXHJcbnZhciBwYXRoID0gZXhwb3J0cztcclxuXHJcbnZhciBpc0Fic29sdXRlID1cclxuLyoqXHJcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgcGF0aCBpcyBhYnNvbHV0ZS5cclxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byB0ZXN0XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgcGF0aCBpcyBhYnNvbHV0ZVxyXG4gKi9cclxucGF0aC5pc0Fic29sdXRlID0gZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRoKSB7XHJcbiAgICByZXR1cm4gL14oPzpcXC98XFx3KzopLy50ZXN0KHBhdGgpO1xyXG59O1xyXG5cclxudmFyIG5vcm1hbGl6ZSA9XHJcbi8qKlxyXG4gKiBOb3JtYWxpemVzIHRoZSBzcGVjaWZpZWQgcGF0aC5cclxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byBub3JtYWxpemVcclxuICogQHJldHVybnMge3N0cmluZ30gTm9ybWFsaXplZCBwYXRoXHJcbiAqL1xyXG5wYXRoLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZShwYXRoKSB7XHJcbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXFxcL2csIFwiL1wiKVxyXG4gICAgICAgICAgICAgICAucmVwbGFjZSgvXFwvezIsfS9nLCBcIi9cIik7XHJcbiAgICB2YXIgcGFydHMgICAgPSBwYXRoLnNwbGl0KFwiL1wiKSxcclxuICAgICAgICBhYnNvbHV0ZSA9IGlzQWJzb2x1dGUocGF0aCksXHJcbiAgICAgICAgcHJlZml4ICAgPSBcIlwiO1xyXG4gICAgaWYgKGFic29sdXRlKVxyXG4gICAgICAgIHByZWZpeCA9IHBhcnRzLnNoaWZ0KCkgKyBcIi9cIjtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOykge1xyXG4gICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gXCIuLlwiKSB7XHJcbiAgICAgICAgICAgIGlmIChpID4gMCAmJiBwYXJ0c1tpIC0gMV0gIT09IFwiLi5cIilcclxuICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZSgtLWksIDIpO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChhYnNvbHV0ZSlcclxuICAgICAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgKytpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV0gPT09IFwiLlwiKVxyXG4gICAgICAgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICArK2k7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJlZml4ICsgcGFydHMuam9pbihcIi9cIik7XHJcbn07XHJcblxyXG4vKipcclxuICogUmVzb2x2ZXMgdGhlIHNwZWNpZmllZCBpbmNsdWRlIHBhdGggYWdhaW5zdCB0aGUgc3BlY2lmaWVkIG9yaWdpbiBwYXRoLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luUGF0aCBQYXRoIHRvIHRoZSBvcmlnaW4gZmlsZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaW5jbHVkZVBhdGggSW5jbHVkZSBwYXRoIHJlbGF0aXZlIHRvIG9yaWdpbiBwYXRoXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FscmVhZHlOb3JtYWxpemVkPWZhbHNlXSBgdHJ1ZWAgaWYgYm90aCBwYXRocyBhcmUgYWxyZWFkeSBrbm93biB0byBiZSBub3JtYWxpemVkXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFBhdGggdG8gdGhlIGluY2x1ZGUgZmlsZVxyXG4gKi9cclxucGF0aC5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZShvcmlnaW5QYXRoLCBpbmNsdWRlUGF0aCwgYWxyZWFkeU5vcm1hbGl6ZWQpIHtcclxuICAgIGlmICghYWxyZWFkeU5vcm1hbGl6ZWQpXHJcbiAgICAgICAgaW5jbHVkZVBhdGggPSBub3JtYWxpemUoaW5jbHVkZVBhdGgpO1xyXG4gICAgaWYgKGlzQWJzb2x1dGUoaW5jbHVkZVBhdGgpKVxyXG4gICAgICAgIHJldHVybiBpbmNsdWRlUGF0aDtcclxuICAgIGlmICghYWxyZWFkeU5vcm1hbGl6ZWQpXHJcbiAgICAgICAgb3JpZ2luUGF0aCA9IG5vcm1hbGl6ZShvcmlnaW5QYXRoKTtcclxuICAgIHJldHVybiAob3JpZ2luUGF0aCA9IG9yaWdpblBhdGgucmVwbGFjZSgvKD86XFwvfF4pW14vXSskLywgXCJcIikpLmxlbmd0aCA/IG5vcm1hbGl6ZShvcmlnaW5QYXRoICsgXCIvXCIgKyBpbmNsdWRlUGF0aCkgOiBpbmNsdWRlUGF0aDtcclxufTtcclxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IE5hbWVzcGFjZTtcblxuLy8gZXh0ZW5kcyBSZWZsZWN0aW9uT2JqZWN0XG52YXIgUmVmbGVjdGlvbk9iamVjdCA9IHJlcXVpcmUoXCIuL29iamVjdFwiKTtcbigoTmFtZXNwYWNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IE5hbWVzcGFjZSkuY2xhc3NOYW1lID0gXCJOYW1lc3BhY2VcIjtcblxudmFyIEZpZWxkICAgID0gcmVxdWlyZShcIi4vZmllbGRcIiksXG4gICAgdXRpbCAgICAgPSByZXF1aXJlKFwiLi91dGlsXCIpLFxuICAgIE9uZU9mICAgID0gcmVxdWlyZShcIi4vb25lb2ZcIik7XG5cbnZhciBUeXBlLCAgICAvLyBjeWNsaWNcbiAgICBTZXJ2aWNlLFxuICAgIEVudW07XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBuYW1lc3BhY2UgaW5zdGFuY2UuXG4gKiBAbmFtZSBOYW1lc3BhY2VcbiAqIEBjbGFzc2Rlc2MgUmVmbGVjdGVkIG5hbWVzcGFjZS5cbiAqIEBleHRlbmRzIE5hbWVzcGFjZUJhc2VcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZXNwYWNlIG5hbWVcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IFtvcHRpb25zXSBEZWNsYXJlZCBvcHRpb25zXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmFtZXNwYWNlIGZyb20gSlNPTi5cbiAqIEBtZW1iZXJvZiBOYW1lc3BhY2VcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZXNwYWNlIG5hbWVcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IGpzb24gSlNPTiBvYmplY3RcbiAqIEByZXR1cm5zIHtOYW1lc3BhY2V9IENyZWF0ZWQgbmFtZXNwYWNlXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGFyZ3VtZW50cyBhcmUgaW52YWxpZFxuICovXG5OYW1lc3BhY2UuZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTihuYW1lLCBqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBOYW1lc3BhY2UobmFtZSwganNvbi5vcHRpb25zKS5hZGRKU09OKGpzb24ubmVzdGVkKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYW4gYXJyYXkgb2YgcmVmbGVjdGlvbiBvYmplY3RzIHRvIEpTT04uXG4gKiBAbWVtYmVyb2YgTmFtZXNwYWNlXG4gKiBAcGFyYW0ge1JlZmxlY3Rpb25PYmplY3RbXX0gYXJyYXkgT2JqZWN0IGFycmF5XG4gKiBAcGFyYW0ge0lUb0pTT05PcHRpb25zfSBbdG9KU09OT3B0aW9uc10gSlNPTiBjb252ZXJzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPnx1bmRlZmluZWR9IEpTT04gb2JqZWN0IG9yIGB1bmRlZmluZWRgIHdoZW4gYXJyYXkgaXMgZW1wdHlcbiAqL1xuZnVuY3Rpb24gYXJyYXlUb0pTT04oYXJyYXksIHRvSlNPTk9wdGlvbnMpIHtcbiAgICBpZiAoIShhcnJheSAmJiBhcnJheS5sZW5ndGgpKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHZhciBvYmogPSB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICBvYmpbYXJyYXlbaV0ubmFtZV0gPSBhcnJheVtpXS50b0pTT04odG9KU09OT3B0aW9ucyk7XG4gICAgcmV0dXJuIG9iajtcbn1cblxuTmFtZXNwYWNlLmFycmF5VG9KU09OID0gYXJyYXlUb0pTT047XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCBpZCBpcyByZXNlcnZlZC5cbiAqIEBwYXJhbSB7QXJyYXkuPG51bWJlcltdfHN0cmluZz58dW5kZWZpbmVkfSByZXNlcnZlZCBBcnJheSBvZiByZXNlcnZlZCByYW5nZXMgYW5kIG5hbWVzXG4gKiBAcGFyYW0ge251bWJlcn0gaWQgSWQgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiByZXNlcnZlZCwgb3RoZXJ3aXNlIGBmYWxzZWBcbiAqL1xuTmFtZXNwYWNlLmlzUmVzZXJ2ZWRJZCA9IGZ1bmN0aW9uIGlzUmVzZXJ2ZWRJZChyZXNlcnZlZCwgaWQpIHtcbiAgICBpZiAocmVzZXJ2ZWQpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzZXJ2ZWQubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc2VydmVkW2ldICE9PSBcInN0cmluZ1wiICYmIHJlc2VydmVkW2ldWzBdIDw9IGlkICYmIHJlc2VydmVkW2ldWzFdID4gaWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIG5hbWUgaXMgcmVzZXJ2ZWQuXG4gKiBAcGFyYW0ge0FycmF5LjxudW1iZXJbXXxzdHJpbmc+fHVuZGVmaW5lZH0gcmVzZXJ2ZWQgQXJyYXkgb2YgcmVzZXJ2ZWQgcmFuZ2VzIGFuZCBuYW1lc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHJlc2VydmVkLCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG5OYW1lc3BhY2UuaXNSZXNlcnZlZE5hbWUgPSBmdW5jdGlvbiBpc1Jlc2VydmVkTmFtZShyZXNlcnZlZCwgbmFtZSkge1xuICAgIGlmIChyZXNlcnZlZClcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNlcnZlZC5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGlmIChyZXNlcnZlZFtpXSA9PT0gbmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIE5vdCBhbiBhY3R1YWwgY29uc3RydWN0b3IuIFVzZSB7QGxpbmsgTmFtZXNwYWNlfSBpbnN0ZWFkLlxuICogQGNsYXNzZGVzYyBCYXNlIGNsYXNzIG9mIGFsbCByZWZsZWN0aW9uIG9iamVjdHMgY29udGFpbmluZyBuZXN0ZWQgb2JqZWN0cy4gVGhpcyBpcyBub3QgYW4gYWN0dWFsIGNsYXNzIGJ1dCBoZXJlIGZvciB0aGUgc2FrZSBvZiBoYXZpbmcgY29uc2lzdGVudCB0eXBlIGRlZmluaXRpb25zLlxuICogQGV4cG9ydHMgTmFtZXNwYWNlQmFzZVxuICogQGV4dGVuZHMgUmVmbGVjdGlvbk9iamVjdFxuICogQGFic3RyYWN0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWVzcGFjZSBuYW1lXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBbb3B0aW9uc10gRGVjbGFyZWQgb3B0aW9uc1xuICogQHNlZSB7QGxpbmsgTmFtZXNwYWNlfVxuICovXG5mdW5jdGlvbiBOYW1lc3BhY2UobmFtZSwgb3B0aW9ucykge1xuICAgIFJlZmxlY3Rpb25PYmplY3QuY2FsbCh0aGlzLCBuYW1lLCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIE5lc3RlZCBvYmplY3RzIGJ5IG5hbWUuXG4gICAgICogQHR5cGUge09iamVjdC48c3RyaW5nLFJlZmxlY3Rpb25PYmplY3Q+fHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICB0aGlzLm5lc3RlZCA9IHVuZGVmaW5lZDsgLy8gdG9KU09OXG5cbiAgICAvKipcbiAgICAgKiBDYWNoZWQgbmVzdGVkIG9iamVjdHMgYXMgYW4gYXJyYXkuXG4gICAgICogQHR5cGUge1JlZmxlY3Rpb25PYmplY3RbXXxudWxsfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbmVzdGVkQXJyYXkgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ2FjaGUgbG9va3VwIGNhbGxzIGZvciBhbnkgb2JqZWN0cyBjb250YWlucyBhbnl3aGVyZSB1bmRlciB0aGlzIG5hbWVzcGFjZS5cbiAgICAgKiBUaGlzIGRyYXN0aWNhbGx5IHNwZWVkcyB1cCByZXNvbHZlIGZvciBsYXJnZSBjcm9zcy1saW5rZWQgcHJvdG9zIHdoZXJlIHRoZSBzYW1lXG4gICAgICogdHlwZXMgYXJlIGxvb2tlZCB1cCByZXBlYXRlZGx5LlxuICAgICAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxSZWZsZWN0aW9uT2JqZWN0fG51bGw+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbG9va3VwQ2FjaGUgPSB7fTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IG9iamVjdHMgY29udGFpbmVkIGluIHRoaXMgbmFtZXNwYWNlIG5lZWQgZmVhdHVyZSByZXNvbHV0aW9uLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl9uZWVkc1JlY3Vyc2l2ZUZlYXR1cmVSZXNvbHV0aW9uID0gdHJ1ZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IG9iamVjdHMgY29udGFpbmVkIGluIHRoaXMgbmFtZXNwYWNlIG5lZWQgYSByZXNvbHZlLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl9uZWVkc1JlY3Vyc2l2ZVJlc29sdmUgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBjbGVhckNhY2hlKG5hbWVzcGFjZSkge1xuICAgIG5hbWVzcGFjZS5fbmVzdGVkQXJyYXkgPSBudWxsO1xuICAgIG5hbWVzcGFjZS5fbG9va3VwQ2FjaGUgPSB7fTtcblxuICAgIC8vIEFsc28gY2xlYXIgcGFyZW50IGNhY2hlcywgc2luY2UgdGhleSBpbmNsdWRlIG5lc3RlZCBsb29rdXBzLlxuICAgIHZhciBwYXJlbnQgPSBuYW1lc3BhY2U7XG4gICAgd2hpbGUocGFyZW50ID0gcGFyZW50LnBhcmVudCkge1xuICAgICAgICBwYXJlbnQuX2xvb2t1cENhY2hlID0ge307XG4gICAgfVxuICAgIHJldHVybiBuYW1lc3BhY2U7XG59XG5cbi8qKlxuICogTmVzdGVkIG9iamVjdHMgb2YgdGhpcyBuYW1lc3BhY2UgYXMgYW4gYXJyYXkgZm9yIGl0ZXJhdGlvbi5cbiAqIEBuYW1lIE5hbWVzcGFjZUJhc2UjbmVzdGVkQXJyYXlcbiAqIEB0eXBlIHtSZWZsZWN0aW9uT2JqZWN0W119XG4gKiBAcmVhZG9ubHlcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KE5hbWVzcGFjZS5wcm90b3R5cGUsIFwibmVzdGVkQXJyYXlcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZXN0ZWRBcnJheSB8fCAodGhpcy5fbmVzdGVkQXJyYXkgPSB1dGlsLnRvQXJyYXkodGhpcy5uZXN0ZWQpKTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBOYW1lc3BhY2UgZGVzY3JpcHRvci5cbiAqIEBpbnRlcmZhY2UgSU5hbWVzcGFjZVxuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywqPn0gW29wdGlvbnNdIE5hbWVzcGFjZSBvcHRpb25zXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLEFueU5lc3RlZE9iamVjdD59IFtuZXN0ZWRdIE5lc3RlZCBvYmplY3QgZGVzY3JpcHRvcnNcbiAqL1xuXG4vKipcbiAqIEFueSBleHRlbnNpb24gZmllbGQgZGVzY3JpcHRvci5cbiAqIEB0eXBlZGVmIEFueUV4dGVuc2lvbkZpZWxkXG4gKiBAdHlwZSB7SUV4dGVuc2lvbkZpZWxkfElFeHRlbnNpb25NYXBGaWVsZH1cbiAqL1xuXG4vKipcbiAqIEFueSBuZXN0ZWQgb2JqZWN0IGRlc2NyaXB0b3IuXG4gKiBAdHlwZWRlZiBBbnlOZXN0ZWRPYmplY3RcbiAqIEB0eXBlIHtJRW51bXxJVHlwZXxJU2VydmljZXxBbnlFeHRlbnNpb25GaWVsZHxJTmFtZXNwYWNlfElPbmVPZn1cbiAqL1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbmFtZXNwYWNlIHRvIGEgbmFtZXNwYWNlIGRlc2NyaXB0b3IuXG4gKiBAcGFyYW0ge0lUb0pTT05PcHRpb25zfSBbdG9KU09OT3B0aW9uc10gSlNPTiBjb252ZXJzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtJTmFtZXNwYWNlfSBOYW1lc3BhY2UgZGVzY3JpcHRvclxuICovXG5OYW1lc3BhY2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTih0b0pTT05PcHRpb25zKSB7XG4gICAgcmV0dXJuIHV0aWwudG9PYmplY3QoW1xuICAgICAgICBcIm9wdGlvbnNcIiAsIHRoaXMub3B0aW9ucyxcbiAgICAgICAgXCJuZXN0ZWRcIiAgLCBhcnJheVRvSlNPTih0aGlzLm5lc3RlZEFycmF5LCB0b0pTT05PcHRpb25zKVxuICAgIF0pO1xufTtcblxuLyoqXG4gKiBBZGRzIG5lc3RlZCBvYmplY3RzIHRvIHRoaXMgbmFtZXNwYWNlIGZyb20gbmVzdGVkIG9iamVjdCBkZXNjcmlwdG9ycy5cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsQW55TmVzdGVkT2JqZWN0Pn0gbmVzdGVkSnNvbiBBbnkgbmVzdGVkIG9iamVjdCBkZXNjcmlwdG9yc1xuICogQHJldHVybnMge05hbWVzcGFjZX0gYHRoaXNgXG4gKi9cbk5hbWVzcGFjZS5wcm90b3R5cGUuYWRkSlNPTiA9IGZ1bmN0aW9uIGFkZEpTT04obmVzdGVkSnNvbikge1xuICAgIHZhciBucyA9IHRoaXM7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAobmVzdGVkSnNvbikge1xuICAgICAgICBmb3IgKHZhciBuYW1lcyA9IE9iamVjdC5rZXlzKG5lc3RlZEpzb24pLCBpID0gMCwgbmVzdGVkOyBpIDwgbmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIG5lc3RlZCA9IG5lc3RlZEpzb25bbmFtZXNbaV1dO1xuICAgICAgICAgICAgbnMuYWRkKCAvLyBtb3N0IHRvIGxlYXN0IGxpa2VseVxuICAgICAgICAgICAgICAgICggbmVzdGVkLmZpZWxkcyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBUeXBlLmZyb21KU09OXG4gICAgICAgICAgICAgICAgOiBuZXN0ZWQudmFsdWVzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IEVudW0uZnJvbUpTT05cbiAgICAgICAgICAgICAgICA6IG5lc3RlZC5tZXRob2RzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IFNlcnZpY2UuZnJvbUpTT05cbiAgICAgICAgICAgICAgICA6IG5lc3RlZC5pZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBGaWVsZC5mcm9tSlNPTlxuICAgICAgICAgICAgICAgIDogTmFtZXNwYWNlLmZyb21KU09OICkobmFtZXNbaV0sIG5lc3RlZClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEdldHMgdGhlIG5lc3RlZCBvYmplY3Qgb2YgdGhlIHNwZWNpZmllZCBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmVzdGVkIG9iamVjdCBuYW1lXG4gKiBAcmV0dXJucyB7UmVmbGVjdGlvbk9iamVjdHxudWxsfSBUaGUgcmVmbGVjdGlvbiBvYmplY3Qgb3IgYG51bGxgIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAqL1xuTmFtZXNwYWNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQobmFtZSkge1xuICAgIHJldHVybiB0aGlzLm5lc3RlZCAmJiB0aGlzLm5lc3RlZFtuYW1lXVxuICAgICAgICB8fCBudWxsO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSB2YWx1ZXMgb2YgdGhlIG5lc3RlZCB7QGxpbmsgRW51bXxlbnVtfSBvZiB0aGUgc3BlY2lmaWVkIG5hbWUuXG4gKiBUaGlzIG1ldGhvZHMgZGlmZmVycyBmcm9tIHtAbGluayBOYW1lc3BhY2UjZ2V0fGdldH0gaW4gdGhhdCBpdCByZXR1cm5zIGFuIGVudW0ncyB2YWx1ZXMgZGlyZWN0bHkgYW5kIHRocm93cyBpbnN0ZWFkIG9mIHJldHVybmluZyBgbnVsbGAuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOZXN0ZWQgZW51bSBuYW1lXG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsbnVtYmVyPn0gRW51bSB2YWx1ZXNcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGVyZSBpcyBubyBzdWNoIGVudW1cbiAqL1xuTmFtZXNwYWNlLnByb3RvdHlwZS5nZXRFbnVtID0gZnVuY3Rpb24gZ2V0RW51bShuYW1lKSB7XG4gICAgaWYgKHRoaXMubmVzdGVkICYmIHRoaXMubmVzdGVkW25hbWVdIGluc3RhbmNlb2YgRW51bSlcbiAgICAgICAgcmV0dXJuIHRoaXMubmVzdGVkW25hbWVdLnZhbHVlcztcbiAgICB0aHJvdyBFcnJvcihcIm5vIHN1Y2ggZW51bTogXCIgKyBuYW1lKTtcbn07XG5cbi8qKlxuICogQWRkcyBhIG5lc3RlZCBvYmplY3QgdG8gdGhpcyBuYW1lc3BhY2UuXG4gKiBAcGFyYW0ge1JlZmxlY3Rpb25PYmplY3R9IG9iamVjdCBOZXN0ZWQgb2JqZWN0IHRvIGFkZFxuICogQHJldHVybnMge05hbWVzcGFjZX0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGFyZ3VtZW50cyBhcmUgaW52YWxpZFxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIGlzIGFscmVhZHkgYSBuZXN0ZWQgb2JqZWN0IHdpdGggdGhpcyBuYW1lXG4gKi9cbk5hbWVzcGFjZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKG9iamVjdCkge1xuXG4gICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgRmllbGQgJiYgb2JqZWN0LmV4dGVuZCAhPT0gdW5kZWZpbmVkIHx8IG9iamVjdCBpbnN0YW5jZW9mIFR5cGUgIHx8IG9iamVjdCBpbnN0YW5jZW9mIE9uZU9mIHx8IG9iamVjdCBpbnN0YW5jZW9mIEVudW0gfHwgb2JqZWN0IGluc3RhbmNlb2YgU2VydmljZSB8fCBvYmplY3QgaW5zdGFuY2VvZiBOYW1lc3BhY2UpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJvYmplY3QgbXVzdCBiZSBhIHZhbGlkIG5lc3RlZCBvYmplY3RcIik7XG5cbiAgICBpZiAoIXRoaXMubmVzdGVkKVxuICAgICAgICB0aGlzLm5lc3RlZCA9IHt9O1xuICAgIGVsc2Uge1xuICAgICAgICB2YXIgcHJldiA9IHRoaXMuZ2V0KG9iamVjdC5uYW1lKTtcbiAgICAgICAgaWYgKHByZXYpIHtcbiAgICAgICAgICAgIGlmIChwcmV2IGluc3RhbmNlb2YgTmFtZXNwYWNlICYmIG9iamVjdCBpbnN0YW5jZW9mIE5hbWVzcGFjZSAmJiAhKHByZXYgaW5zdGFuY2VvZiBUeXBlIHx8IHByZXYgaW5zdGFuY2VvZiBTZXJ2aWNlKSkge1xuICAgICAgICAgICAgICAgIC8vIHJlcGxhY2UgcGxhaW4gbmFtZXNwYWNlIGJ1dCBrZWVwIGV4aXN0aW5nIG5lc3RlZCBlbGVtZW50cyBhbmQgb3B0aW9uc1xuICAgICAgICAgICAgICAgIHZhciBuZXN0ZWQgPSBwcmV2Lm5lc3RlZEFycmF5O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmVzdGVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICBvYmplY3QuYWRkKG5lc3RlZFtpXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUocHJldik7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm5lc3RlZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXN0ZWQgPSB7fTtcbiAgICAgICAgICAgICAgICBvYmplY3Quc2V0T3B0aW9ucyhwcmV2Lm9wdGlvbnMsIHRydWUpO1xuXG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBuYW1lICdcIiArIG9iamVjdC5uYW1lICsgXCInIGluIFwiICsgdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5uZXN0ZWRbb2JqZWN0Lm5hbWVdID0gb2JqZWN0O1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFR5cGUgfHwgdGhpcyBpbnN0YW5jZW9mIFNlcnZpY2UgfHwgdGhpcyBpbnN0YW5jZW9mIEVudW0gfHwgdGhpcyBpbnN0YW5jZW9mIEZpZWxkKSkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgcGFja2FnZSBvciBhIHJvb3QgbmFtZXNwYWNlLlxuICAgICAgICBpZiAoIW9iamVjdC5fZWRpdGlvbikge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgc29tZSBlZGl0aW9uIGlzIHNldCBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIHNwZWNpZmllZC5cbiAgICAgICAgICAgIG9iamVjdC5fZWRpdGlvbiA9IG9iamVjdC5fZGVmYXVsdEVkaXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9uZWVkc1JlY3Vyc2l2ZUZlYXR1cmVSZXNvbHV0aW9uID0gdHJ1ZTtcbiAgICB0aGlzLl9uZWVkc1JlY3Vyc2l2ZVJlc29sdmUgPSB0cnVlO1xuXG4gICAgLy8gQWxzbyBjbGVhciBwYXJlbnQgY2FjaGVzLCBzaW5jZSB0aGV5IG5lZWQgdG8gcmVjdXJzZSBkb3duLlxuICAgIHZhciBwYXJlbnQgPSB0aGlzO1xuICAgIHdoaWxlKHBhcmVudCA9IHBhcmVudC5wYXJlbnQpIHtcbiAgICAgICAgcGFyZW50Ll9uZWVkc1JlY3Vyc2l2ZUZlYXR1cmVSZXNvbHV0aW9uID0gdHJ1ZTtcbiAgICAgICAgcGFyZW50Ll9uZWVkc1JlY3Vyc2l2ZVJlc29sdmUgPSB0cnVlO1xuICAgIH1cblxuICAgIG9iamVjdC5vbkFkZCh0aGlzKTtcbiAgICByZXR1cm4gY2xlYXJDYWNoZSh0aGlzKTtcbn07XG5cbi8qKlxuICogUmVtb3ZlcyBhIG5lc3RlZCBvYmplY3QgZnJvbSB0aGlzIG5hbWVzcGFjZS5cbiAqIEBwYXJhbSB7UmVmbGVjdGlvbk9iamVjdH0gb2JqZWN0IE5lc3RlZCBvYmplY3QgdG8gcmVtb3ZlXG4gKiBAcmV0dXJucyB7TmFtZXNwYWNlfSBgdGhpc2BcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYXJndW1lbnRzIGFyZSBpbnZhbGlkXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgYG9iamVjdGAgaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgbmFtZXNwYWNlXG4gKi9cbk5hbWVzcGFjZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG9iamVjdCkge1xuXG4gICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgUmVmbGVjdGlvbk9iamVjdCkpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcIm9iamVjdCBtdXN0IGJlIGEgUmVmbGVjdGlvbk9iamVjdFwiKTtcbiAgICBpZiAob2JqZWN0LnBhcmVudCAhPT0gdGhpcylcbiAgICAgICAgdGhyb3cgRXJyb3Iob2JqZWN0ICsgXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiICsgdGhpcyk7XG5cbiAgICBkZWxldGUgdGhpcy5uZXN0ZWRbb2JqZWN0Lm5hbWVdO1xuICAgIGlmICghT2JqZWN0LmtleXModGhpcy5uZXN0ZWQpLmxlbmd0aClcbiAgICAgICAgdGhpcy5uZXN0ZWQgPSB1bmRlZmluZWQ7XG5cbiAgICBvYmplY3Qub25SZW1vdmUodGhpcyk7XG4gICAgcmV0dXJuIGNsZWFyQ2FjaGUodGhpcyk7XG59O1xuXG4vKipcbiAqIERlZmluZXMgYWRkaXRpYWwgbmFtZXNwYWNlcyB3aXRoaW4gdGhpcyBvbmUgaWYgbm90IHlldCBleGlzdGluZy5cbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBwYXRoIFBhdGggdG8gY3JlYXRlXG4gKiBAcGFyYW0geyp9IFtqc29uXSBOZXN0ZWQgdHlwZXMgdG8gY3JlYXRlIGZyb20gSlNPTlxuICogQHJldHVybnMge05hbWVzcGFjZX0gUG9pbnRlciB0byB0aGUgbGFzdCBuYW1lc3BhY2UgY3JlYXRlZCBvciBgdGhpc2AgaWYgcGF0aCBpcyBlbXB0eVxuICovXG5OYW1lc3BhY2UucHJvdG90eXBlLmRlZmluZSA9IGZ1bmN0aW9uIGRlZmluZShwYXRoLCBqc29uKSB7XG5cbiAgICBpZiAodXRpbC5pc1N0cmluZyhwYXRoKSlcbiAgICAgICAgcGF0aCA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICAgIGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KHBhdGgpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJpbGxlZ2FsIHBhdGhcIik7XG4gICAgaWYgKHBhdGggJiYgcGF0aC5sZW5ndGggJiYgcGF0aFswXSA9PT0gXCJcIilcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJwYXRoIG11c3QgYmUgcmVsYXRpdmVcIik7XG5cbiAgICB2YXIgcHRyID0gdGhpcztcbiAgICB3aGlsZSAocGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gcGF0aC5zaGlmdCgpO1xuICAgICAgICBpZiAocHRyLm5lc3RlZCAmJiBwdHIubmVzdGVkW3BhcnRdKSB7XG4gICAgICAgICAgICBwdHIgPSBwdHIubmVzdGVkW3BhcnRdO1xuICAgICAgICAgICAgaWYgKCEocHRyIGluc3RhbmNlb2YgTmFtZXNwYWNlKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcInBhdGggY29uZmxpY3RzIHdpdGggbm9uLW5hbWVzcGFjZSBvYmplY3RzXCIpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHB0ci5hZGQocHRyID0gbmV3IE5hbWVzcGFjZShwYXJ0KSk7XG4gICAgfVxuICAgIGlmIChqc29uKVxuICAgICAgICBwdHIuYWRkSlNPTihqc29uKTtcbiAgICByZXR1cm4gcHRyO1xufTtcblxuLyoqXG4gKiBSZXNvbHZlcyB0aGlzIG5hbWVzcGFjZSdzIGFuZCBhbGwgaXRzIG5lc3RlZCBvYmplY3RzJyB0eXBlIHJlZmVyZW5jZXMuIFVzZWZ1bCB0byB2YWxpZGF0ZSBhIHJlZmxlY3Rpb24gdHJlZSwgYnV0IGNvbWVzIGF0IGEgY29zdC5cbiAqIEByZXR1cm5zIHtOYW1lc3BhY2V9IGB0aGlzYFxuICovXG5OYW1lc3BhY2UucHJvdG90eXBlLnJlc29sdmVBbGwgPSBmdW5jdGlvbiByZXNvbHZlQWxsKCkge1xuICAgIGlmICghdGhpcy5fbmVlZHNSZWN1cnNpdmVSZXNvbHZlKSByZXR1cm4gdGhpcztcblxuICAgIHRoaXMuX3Jlc29sdmVGZWF0dXJlc1JlY3Vyc2l2ZSh0aGlzLl9lZGl0aW9uKTtcblxuICAgIHZhciBuZXN0ZWQgPSB0aGlzLm5lc3RlZEFycmF5LCBpID0gMDtcbiAgICB0aGlzLnJlc29sdmUoKTtcbiAgICB3aGlsZSAoaSA8IG5lc3RlZC5sZW5ndGgpXG4gICAgICAgIGlmIChuZXN0ZWRbaV0gaW5zdGFuY2VvZiBOYW1lc3BhY2UpXG4gICAgICAgICAgICBuZXN0ZWRbaSsrXS5yZXNvbHZlQWxsKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG5lc3RlZFtpKytdLnJlc29sdmUoKTtcbiAgICB0aGlzLl9uZWVkc1JlY3Vyc2l2ZVJlc29sdmUgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbk5hbWVzcGFjZS5wcm90b3R5cGUuX3Jlc29sdmVGZWF0dXJlc1JlY3Vyc2l2ZSA9IGZ1bmN0aW9uIF9yZXNvbHZlRmVhdHVyZXNSZWN1cnNpdmUoZWRpdGlvbikge1xuICAgIGlmICghdGhpcy5fbmVlZHNSZWN1cnNpdmVGZWF0dXJlUmVzb2x1dGlvbikgcmV0dXJuIHRoaXM7XG4gICAgdGhpcy5fbmVlZHNSZWN1cnNpdmVGZWF0dXJlUmVzb2x1dGlvbiA9IGZhbHNlO1xuXG4gICAgZWRpdGlvbiA9IHRoaXMuX2VkaXRpb24gfHwgZWRpdGlvbjtcblxuICAgIFJlZmxlY3Rpb25PYmplY3QucHJvdG90eXBlLl9yZXNvbHZlRmVhdHVyZXNSZWN1cnNpdmUuY2FsbCh0aGlzLCBlZGl0aW9uKTtcbiAgICB0aGlzLm5lc3RlZEFycmF5LmZvckVhY2gobmVzdGVkID0+IHtcbiAgICAgICAgbmVzdGVkLl9yZXNvbHZlRmVhdHVyZXNSZWN1cnNpdmUoZWRpdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IGxvb2tzIHVwIHRoZSByZWZsZWN0aW9uIG9iamVjdCBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIHBhdGggaW4gdGhlIHNjb3BlIG9mIHRoaXMgbmFtZXNwYWNlLlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHBhdGggUGF0aCB0byBsb29rIHVwXG4gKiBAcGFyYW0geyp8QXJyYXkuPCo+fSBmaWx0ZXJUeXBlcyBGaWx0ZXIgdHlwZXMsIGFueSBjb21iaW5hdGlvbiBvZiB0aGUgY29uc3RydWN0b3JzIG9mIGBwcm90b2J1Zi5UeXBlYCwgYHByb3RvYnVmLkVudW1gLCBgcHJvdG9idWYuU2VydmljZWAgZXRjLlxuICogQHBhcmFtIHtib29sZWFufSBbcGFyZW50QWxyZWFkeUNoZWNrZWQ9ZmFsc2VdIElmIGtub3duLCB3aGV0aGVyIHRoZSBwYXJlbnQgaGFzIGFscmVhZHkgYmVlbiBjaGVja2VkXG4gKiBAcmV0dXJucyB7UmVmbGVjdGlvbk9iamVjdHxudWxsfSBMb29rZWQgdXAgb2JqZWN0IG9yIGBudWxsYCBpZiBub25lIGNvdWxkIGJlIGZvdW5kXG4gKi9cbk5hbWVzcGFjZS5wcm90b3R5cGUubG9va3VwID0gZnVuY3Rpb24gbG9va3VwKHBhdGgsIGZpbHRlclR5cGVzLCBwYXJlbnRBbHJlYWR5Q2hlY2tlZCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBmaWx0ZXJUeXBlcyA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgcGFyZW50QWxyZWFkeUNoZWNrZWQgPSBmaWx0ZXJUeXBlcztcbiAgICAgICAgZmlsdGVyVHlwZXMgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChmaWx0ZXJUeXBlcyAmJiAhQXJyYXkuaXNBcnJheShmaWx0ZXJUeXBlcykpXG4gICAgICAgIGZpbHRlclR5cGVzID0gWyBmaWx0ZXJUeXBlcyBdO1xuXG4gICAgaWYgKHV0aWwuaXNTdHJpbmcocGF0aCkgJiYgcGF0aC5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHBhdGggPT09IFwiLlwiKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm9vdDtcbiAgICAgICAgcGF0aCA9IHBhdGguc3BsaXQoXCIuXCIpO1xuICAgIH0gZWxzZSBpZiAoIXBhdGgubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIHZhciBmbGF0UGF0aCA9IHBhdGguam9pbihcIi5cIik7XG5cbiAgICAvLyBTdGFydCBhdCByb290IGlmIHBhdGggaXMgYWJzb2x1dGVcbiAgICBpZiAocGF0aFswXSA9PT0gXCJcIilcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5sb29rdXAocGF0aC5zbGljZSgxKSwgZmlsdGVyVHlwZXMpO1xuXG4gICAgLy8gRWFybHkgYmFpbG91dCBmb3Igb2JqZWN0cyB3aXRoIG1hdGNoaW5nIGFic29sdXRlIHBhdGhzXG4gICAgdmFyIGZvdW5kID0gdGhpcy5yb290Ll9mdWxseVF1YWxpZmllZE9iamVjdHMgJiYgdGhpcy5yb290Ll9mdWxseVF1YWxpZmllZE9iamVjdHNbXCIuXCIgKyBmbGF0UGF0aF07XG4gICAgaWYgKGZvdW5kICYmICghZmlsdGVyVHlwZXMgfHwgZmlsdGVyVHlwZXMuaW5kZXhPZihmb3VuZC5jb25zdHJ1Y3RvcikgPiAtMSkpIHtcbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuICAgIC8vIERvIGEgcmVndWxhciBsb29rdXAgYXQgdGhpcyBuYW1lc3BhY2UgYW5kIGJlbG93XG4gICAgZm91bmQgPSB0aGlzLl9sb29rdXBJbXBsKHBhdGgsIGZsYXRQYXRoKTtcbiAgICBpZiAoZm91bmQgJiYgKCFmaWx0ZXJUeXBlcyB8fCBmaWx0ZXJUeXBlcy5pbmRleE9mKGZvdW5kLmNvbnN0cnVjdG9yKSA+IC0xKSkge1xuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuXG4gICAgaWYgKHBhcmVudEFscmVhZHlDaGVja2VkKVxuICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgIC8vIElmIHRoZXJlIGhhc24ndCBiZWVuIGEgbWF0Y2gsIHdhbGsgdXAgdGhlIHRyZWUgYW5kIGxvb2sgbW9yZSBicm9hZGx5XG4gICAgdmFyIGN1cnJlbnQgPSB0aGlzO1xuICAgIHdoaWxlIChjdXJyZW50LnBhcmVudCkge1xuICAgICAgICBmb3VuZCA9IGN1cnJlbnQucGFyZW50Ll9sb29rdXBJbXBsKHBhdGgsIGZsYXRQYXRoKTtcbiAgICAgICAgaWYgKGZvdW5kICYmICghZmlsdGVyVHlwZXMgfHwgZmlsdGVyVHlwZXMuaW5kZXhPZihmb3VuZC5jb25zdHJ1Y3RvcikgPiAtMSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufTtcblxuLyoqXG4gKiBJbnRlcm5hbCBoZWxwZXIgZm9yIGxvb2t1cCB0aGF0IGhhbmRsZXMgc2VhcmNoaW5nIGp1c3QgYXQgdGhpcyBuYW1lc3BhY2UgYW5kIGJlbG93IGFsb25nIHdpdGggY2FjaGluZy5cbiAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGggUGF0aCB0byBsb29rIHVwXG4gKiBAcGFyYW0ge3N0cmluZ30gZmxhdFBhdGggRmxhdHRlbmVkIHZlcnNpb24gb2YgdGhlIHBhdGggdG8gdXNlIGFzIGEgY2FjaGUga2V5XG4gKiBAcmV0dXJucyB7UmVmbGVjdGlvbk9iamVjdHxudWxsfSBMb29rZWQgdXAgb2JqZWN0IG9yIGBudWxsYCBpZiBub25lIGNvdWxkIGJlIGZvdW5kXG4gKiBAcHJpdmF0ZVxuICovXG5OYW1lc3BhY2UucHJvdG90eXBlLl9sb29rdXBJbXBsID0gZnVuY3Rpb24gbG9va3VwKHBhdGgsIGZsYXRQYXRoKSB7XG4gICAgaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2xvb2t1cENhY2hlLCBmbGF0UGF0aCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvb2t1cENhY2hlW2ZsYXRQYXRoXTtcbiAgICB9XG5cbiAgICAvLyBUZXN0IGlmIHRoZSBmaXJzdCBwYXJ0IG1hdGNoZXMgYW55IG5lc3RlZCBvYmplY3QsIGFuZCBpZiBzbywgdHJhdmVyc2UgaWYgcGF0aCBjb250YWlucyBtb3JlXG4gICAgdmFyIGZvdW5kID0gdGhpcy5nZXQocGF0aFswXSk7XG4gICAgdmFyIGV4YWN0ID0gbnVsbDtcbiAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBleGFjdCA9IGZvdW5kO1xuICAgICAgICB9IGVsc2UgaWYgKGZvdW5kIGluc3RhbmNlb2YgTmFtZXNwYWNlKSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aC5zbGljZSgxKTtcbiAgICAgICAgICAgIGV4YWN0ID0gZm91bmQuX2xvb2t1cEltcGwocGF0aCwgcGF0aC5qb2luKFwiLlwiKSk7XG4gICAgICAgIH1cblxuICAgIC8vIE90aGVyd2lzZSB0cnkgZWFjaCBuZXN0ZWQgbmFtZXNwYWNlXG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm5lc3RlZEFycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgaWYgKHRoaXMuX25lc3RlZEFycmF5W2ldIGluc3RhbmNlb2YgTmFtZXNwYWNlICYmIChmb3VuZCA9IHRoaXMuX25lc3RlZEFycmF5W2ldLl9sb29rdXBJbXBsKHBhdGgsIGZsYXRQYXRoKSkpXG4gICAgICAgICAgICAgICAgZXhhY3QgPSBmb3VuZDtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhpcyBldmVuIHdoZW4gbnVsbCwgc28gdGhhdCB3aGVuIHdlIHdhbGsgdXAgdGhlIHRyZWUgd2UgY2FuIHF1aWNrbHkgYmFpbCBvbiByZXBlYXRlZCBjaGVja3MgYmFjayBkb3duLlxuICAgIHRoaXMuX2xvb2t1cENhY2hlW2ZsYXRQYXRoXSA9IGV4YWN0O1xuICAgIHJldHVybiBleGFjdDtcbn07XG5cbi8qKlxuICogTG9va3MgdXAgdGhlIHJlZmxlY3Rpb24gb2JqZWN0IGF0IHRoZSBzcGVjaWZpZWQgcGF0aCwgcmVsYXRpdmUgdG8gdGhpcyBuYW1lc3BhY2UuXG4gKiBAbmFtZSBOYW1lc3BhY2VCYXNlI2xvb2t1cFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gcGF0aCBQYXRoIHRvIGxvb2sgdXBcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3BhcmVudEFscmVhZHlDaGVja2VkPWZhbHNlXSBXaGV0aGVyIHRoZSBwYXJlbnQgaGFzIGFscmVhZHkgYmVlbiBjaGVja2VkXG4gKiBAcmV0dXJucyB7UmVmbGVjdGlvbk9iamVjdHxudWxsfSBMb29rZWQgdXAgb2JqZWN0IG9yIGBudWxsYCBpZiBub25lIGNvdWxkIGJlIGZvdW5kXG4gKiBAdmFyaWF0aW9uIDJcbiAqL1xuLy8gbG9va3VwKHBhdGg6IHN0cmluZywgW3BhcmVudEFscmVhZHlDaGVja2VkOiBib29sZWFuXSlcblxuLyoqXG4gKiBMb29rcyB1cCB0aGUge0BsaW5rIFR5cGV8dHlwZX0gYXQgdGhlIHNwZWNpZmllZCBwYXRoLCByZWxhdGl2ZSB0byB0aGlzIG5hbWVzcGFjZS5cbiAqIEJlc2lkZXMgaXRzIHNpZ25hdHVyZSwgdGhpcyBtZXRob2RzIGRpZmZlcnMgZnJvbSB7QGxpbmsgTmFtZXNwYWNlI2xvb2t1cHxsb29rdXB9IGluIHRoYXQgaXQgdGhyb3dzIGluc3RlYWQgb2YgcmV0dXJuaW5nIGBudWxsYC5cbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBwYXRoIFBhdGggdG8gbG9vayB1cFxuICogQHJldHVybnMge1R5cGV9IExvb2tlZCB1cCB0eXBlXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgYHBhdGhgIGRvZXMgbm90IHBvaW50IHRvIGEgdHlwZVxuICovXG5OYW1lc3BhY2UucHJvdG90eXBlLmxvb2t1cFR5cGUgPSBmdW5jdGlvbiBsb29rdXBUeXBlKHBhdGgpIHtcbiAgICB2YXIgZm91bmQgPSB0aGlzLmxvb2t1cChwYXRoLCBbIFR5cGUgXSk7XG4gICAgaWYgKCFmb3VuZClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJubyBzdWNoIHR5cGU6IFwiICsgcGF0aCk7XG4gICAgcmV0dXJuIGZvdW5kO1xufTtcblxuLyoqXG4gKiBMb29rcyB1cCB0aGUgdmFsdWVzIG9mIHRoZSB7QGxpbmsgRW51bXxlbnVtfSBhdCB0aGUgc3BlY2lmaWVkIHBhdGgsIHJlbGF0aXZlIHRvIHRoaXMgbmFtZXNwYWNlLlxuICogQmVzaWRlcyBpdHMgc2lnbmF0dXJlLCB0aGlzIG1ldGhvZHMgZGlmZmVycyBmcm9tIHtAbGluayBOYW1lc3BhY2UjbG9va3VwfGxvb2t1cH0gaW4gdGhhdCBpdCB0aHJvd3MgaW5zdGVhZCBvZiByZXR1cm5pbmcgYG51bGxgLlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHBhdGggUGF0aCB0byBsb29rIHVwXG4gKiBAcmV0dXJucyB7RW51bX0gTG9va2VkIHVwIGVudW1cbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBgcGF0aGAgZG9lcyBub3QgcG9pbnQgdG8gYW4gZW51bVxuICovXG5OYW1lc3BhY2UucHJvdG90eXBlLmxvb2t1cEVudW0gPSBmdW5jdGlvbiBsb29rdXBFbnVtKHBhdGgpIHtcbiAgICB2YXIgZm91bmQgPSB0aGlzLmxvb2t1cChwYXRoLCBbIEVudW0gXSk7XG4gICAgaWYgKCFmb3VuZClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJubyBzdWNoIEVudW0gJ1wiICsgcGF0aCArIFwiJyBpbiBcIiArIHRoaXMpO1xuICAgIHJldHVybiBmb3VuZDtcbn07XG5cbi8qKlxuICogTG9va3MgdXAgdGhlIHtAbGluayBUeXBlfHR5cGV9IG9yIHtAbGluayBFbnVtfGVudW19IGF0IHRoZSBzcGVjaWZpZWQgcGF0aCwgcmVsYXRpdmUgdG8gdGhpcyBuYW1lc3BhY2UuXG4gKiBCZXNpZGVzIGl0cyBzaWduYXR1cmUsIHRoaXMgbWV0aG9kcyBkaWZmZXJzIGZyb20ge0BsaW5rIE5hbWVzcGFjZSNsb29rdXB8bG9va3VwfSBpbiB0aGF0IGl0IHRocm93cyBpbnN0ZWFkIG9mIHJldHVybmluZyBgbnVsbGAuXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gcGF0aCBQYXRoIHRvIGxvb2sgdXBcbiAqIEByZXR1cm5zIHtUeXBlfSBMb29rZWQgdXAgdHlwZSBvciBlbnVtXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgYHBhdGhgIGRvZXMgbm90IHBvaW50IHRvIGEgdHlwZSBvciBlbnVtXG4gKi9cbk5hbWVzcGFjZS5wcm90b3R5cGUubG9va3VwVHlwZU9yRW51bSA9IGZ1bmN0aW9uIGxvb2t1cFR5cGVPckVudW0ocGF0aCkge1xuICAgIHZhciBmb3VuZCA9IHRoaXMubG9va3VwKHBhdGgsIFsgVHlwZSwgRW51bSBdKTtcbiAgICBpZiAoIWZvdW5kKVxuICAgICAgICB0aHJvdyBFcnJvcihcIm5vIHN1Y2ggVHlwZSBvciBFbnVtICdcIiArIHBhdGggKyBcIicgaW4gXCIgKyB0aGlzKTtcbiAgICByZXR1cm4gZm91bmQ7XG59O1xuXG4vKipcbiAqIExvb2tzIHVwIHRoZSB7QGxpbmsgU2VydmljZXxzZXJ2aWNlfSBhdCB0aGUgc3BlY2lmaWVkIHBhdGgsIHJlbGF0aXZlIHRvIHRoaXMgbmFtZXNwYWNlLlxuICogQmVzaWRlcyBpdHMgc2lnbmF0dXJlLCB0aGlzIG1ldGhvZHMgZGlmZmVycyBmcm9tIHtAbGluayBOYW1lc3BhY2UjbG9va3VwfGxvb2t1cH0gaW4gdGhhdCBpdCB0aHJvd3MgaW5zdGVhZCBvZiByZXR1cm5pbmcgYG51bGxgLlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHBhdGggUGF0aCB0byBsb29rIHVwXG4gKiBAcmV0dXJucyB7U2VydmljZX0gTG9va2VkIHVwIHNlcnZpY2VcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBgcGF0aGAgZG9lcyBub3QgcG9pbnQgdG8gYSBzZXJ2aWNlXG4gKi9cbk5hbWVzcGFjZS5wcm90b3R5cGUubG9va3VwU2VydmljZSA9IGZ1bmN0aW9uIGxvb2t1cFNlcnZpY2UocGF0aCkge1xuICAgIHZhciBmb3VuZCA9IHRoaXMubG9va3VwKHBhdGgsIFsgU2VydmljZSBdKTtcbiAgICBpZiAoIWZvdW5kKVxuICAgICAgICB0aHJvdyBFcnJvcihcIm5vIHN1Y2ggU2VydmljZSAnXCIgKyBwYXRoICsgXCInIGluIFwiICsgdGhpcyk7XG4gICAgcmV0dXJuIGZvdW5kO1xufTtcblxuLy8gU2V0cyB1cCBjeWNsaWMgZGVwZW5kZW5jaWVzIChjYWxsZWQgaW4gaW5kZXgtbGlnaHQpXG5OYW1lc3BhY2UuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKFR5cGVfLCBTZXJ2aWNlXywgRW51bV8pIHtcbiAgICBUeXBlICAgID0gVHlwZV87XG4gICAgU2VydmljZSA9IFNlcnZpY2VfO1xuICAgIEVudW0gICAgPSBFbnVtXztcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gTWFwRmllbGQ7XG5cbi8vIGV4dGVuZHMgRmllbGRcbnZhciBGaWVsZCA9IHJlcXVpcmUoXCIuL2ZpZWxkXCIpO1xuKChNYXBGaWVsZC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEZpZWxkLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gTWFwRmllbGQpLmNsYXNzTmFtZSA9IFwiTWFwRmllbGRcIjtcblxudmFyIHR5cGVzICAgPSByZXF1aXJlKFwiLi90eXBlc1wiKSxcbiAgICB1dGlsICAgID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IG1hcCBmaWVsZCBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgUmVmbGVjdGVkIG1hcCBmaWVsZC5cbiAqIEBleHRlbmRzIEZpZWxkQmFzZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBVbmlxdWUgbmFtZSB3aXRoaW4gaXRzIG5hbWVzcGFjZVxuICogQHBhcmFtIHtudW1iZXJ9IGlkIFVuaXF1ZSBpZCB3aXRoaW4gaXRzIG5hbWVzcGFjZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleVR5cGUgS2V5IHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFZhbHVlIHR5cGVcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IFtvcHRpb25zXSBEZWNsYXJlZCBvcHRpb25zXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvbW1lbnRdIENvbW1lbnQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZmllbGRcbiAqL1xuZnVuY3Rpb24gTWFwRmllbGQobmFtZSwgaWQsIGtleVR5cGUsIHR5cGUsIG9wdGlvbnMsIGNvbW1lbnQpIHtcbiAgICBGaWVsZC5jYWxsKHRoaXMsIG5hbWUsIGlkLCB0eXBlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgb3B0aW9ucywgY29tbWVudCk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIXV0aWwuaXNTdHJpbmcoa2V5VHlwZSkpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcImtleVR5cGUgbXVzdCBiZSBhIHN0cmluZ1wiKTtcblxuICAgIC8qKlxuICAgICAqIEtleSB0eXBlLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy5rZXlUeXBlID0ga2V5VHlwZTsgLy8gdG9KU09OLCBtYXJrZXJcblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVkIGtleSB0eXBlIGlmIG5vdCBhIGJhc2ljIHR5cGUuXG4gICAgICogQHR5cGUge1JlZmxlY3Rpb25PYmplY3R8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdmVkS2V5VHlwZSA9IG51bGw7XG5cbiAgICAvLyBPdmVycmlkZXMgRmllbGQjbWFwXG4gICAgdGhpcy5tYXAgPSB0cnVlO1xufVxuXG4vKipcbiAqIE1hcCBmaWVsZCBkZXNjcmlwdG9yLlxuICogQGludGVyZmFjZSBJTWFwRmllbGRcbiAqIEBleHRlbmRzIHtJRmllbGR9XG4gKiBAcHJvcGVydHkge3N0cmluZ30ga2V5VHlwZSBLZXkgdHlwZVxuICovXG5cbi8qKlxuICogRXh0ZW5zaW9uIG1hcCBmaWVsZCBkZXNjcmlwdG9yLlxuICogQGludGVyZmFjZSBJRXh0ZW5zaW9uTWFwRmllbGRcbiAqIEBleHRlbmRzIElNYXBGaWVsZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGV4dGVuZCBFeHRlbmRlZCB0eXBlXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbWFwIGZpZWxkIGZyb20gYSBtYXAgZmllbGQgZGVzY3JpcHRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEZpZWxkIG5hbWVcbiAqIEBwYXJhbSB7SU1hcEZpZWxkfSBqc29uIE1hcCBmaWVsZCBkZXNjcmlwdG9yXG4gKiBAcmV0dXJucyB7TWFwRmllbGR9IENyZWF0ZWQgbWFwIGZpZWxkXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGFyZ3VtZW50cyBhcmUgaW52YWxpZFxuICovXG5NYXBGaWVsZC5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OKG5hbWUsIGpzb24pIHtcbiAgICByZXR1cm4gbmV3IE1hcEZpZWxkKG5hbWUsIGpzb24uaWQsIGpzb24ua2V5VHlwZSwganNvbi50eXBlLCBqc29uLm9wdGlvbnMsIGpzb24uY29tbWVudCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbWFwIGZpZWxkIHRvIGEgbWFwIGZpZWxkIGRlc2NyaXB0b3IuXG4gKiBAcGFyYW0ge0lUb0pTT05PcHRpb25zfSBbdG9KU09OT3B0aW9uc10gSlNPTiBjb252ZXJzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtJTWFwRmllbGR9IE1hcCBmaWVsZCBkZXNjcmlwdG9yXG4gKi9cbk1hcEZpZWxkLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04odG9KU09OT3B0aW9ucykge1xuICAgIHZhciBrZWVwQ29tbWVudHMgPSB0b0pTT05PcHRpb25zID8gQm9vbGVhbih0b0pTT05PcHRpb25zLmtlZXBDb21tZW50cykgOiBmYWxzZTtcbiAgICByZXR1cm4gdXRpbC50b09iamVjdChbXG4gICAgICAgIFwia2V5VHlwZVwiICwgdGhpcy5rZXlUeXBlLFxuICAgICAgICBcInR5cGVcIiAgICAsIHRoaXMudHlwZSxcbiAgICAgICAgXCJpZFwiICAgICAgLCB0aGlzLmlkLFxuICAgICAgICBcImV4dGVuZFwiICAsIHRoaXMuZXh0ZW5kLFxuICAgICAgICBcIm9wdGlvbnNcIiAsIHRoaXMub3B0aW9ucyxcbiAgICAgICAgXCJjb21tZW50XCIgLCBrZWVwQ29tbWVudHMgPyB0aGlzLmNvbW1lbnQgOiB1bmRlZmluZWRcbiAgICBdKTtcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbk1hcEZpZWxkLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICBpZiAodGhpcy5yZXNvbHZlZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAvLyBCZXNpZGVzIGEgdmFsdWUgdHlwZSwgbWFwIGZpZWxkcyBoYXZlIGEga2V5IHR5cGUgdGhhdCBtYXkgYmUgXCJhbnkgc2NhbGFyIHR5cGUgZXhjZXB0IGZvciBmbG9hdGluZyBwb2ludCB0eXBlcyBhbmQgYnl0ZXNcIlxuICAgIGlmICh0eXBlcy5tYXBLZXlbdGhpcy5rZXlUeXBlXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB0aHJvdyBFcnJvcihcImludmFsaWQga2V5IHR5cGU6IFwiICsgdGhpcy5rZXlUeXBlKTtcblxuICAgIHJldHVybiBGaWVsZC5wcm90b3R5cGUucmVzb2x2ZS5jYWxsKHRoaXMpO1xufTtcblxuLyoqXG4gKiBNYXAgZmllbGQgZGVjb3JhdG9yIChUeXBlU2NyaXB0KS5cbiAqIEBuYW1lIE1hcEZpZWxkLmRcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGZpZWxkSWQgRmllbGQgaWRcbiAqIEBwYXJhbSB7XCJpbnQzMlwifFwidWludDMyXCJ8XCJzaW50MzJcInxcImZpeGVkMzJcInxcInNmaXhlZDMyXCJ8XCJpbnQ2NFwifFwidWludDY0XCJ8XCJzaW50NjRcInxcImZpeGVkNjRcInxcInNmaXhlZDY0XCJ8XCJib29sXCJ8XCJzdHJpbmdcIn0gZmllbGRLZXlUeXBlIEZpZWxkIGtleSB0eXBlXG4gKiBAcGFyYW0ge1wiZG91YmxlXCJ8XCJmbG9hdFwifFwiaW50MzJcInxcInVpbnQzMlwifFwic2ludDMyXCJ8XCJmaXhlZDMyXCJ8XCJzZml4ZWQzMlwifFwiaW50NjRcInxcInVpbnQ2NFwifFwic2ludDY0XCJ8XCJmaXhlZDY0XCJ8XCJzZml4ZWQ2NFwifFwiYm9vbFwifFwic3RyaW5nXCJ8XCJieXRlc1wifE9iamVjdHxDb25zdHJ1Y3Rvcjx7fT59IGZpZWxkVmFsdWVUeXBlIEZpZWxkIHZhbHVlIHR5cGVcbiAqIEByZXR1cm5zIHtGaWVsZERlY29yYXRvcn0gRGVjb3JhdG9yIGZ1bmN0aW9uXG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIHsgW2tleTogc3RyaW5nXTogbnVtYmVyIHwgTG9uZyB8IHN0cmluZyB8IGJvb2xlYW4gfCBVaW50OEFycmF5IHwgQnVmZmVyIHwgbnVtYmVyW10gfCBNZXNzYWdlPHt9PiB9XG4gKi9cbk1hcEZpZWxkLmQgPSBmdW5jdGlvbiBkZWNvcmF0ZU1hcEZpZWxkKGZpZWxkSWQsIGZpZWxkS2V5VHlwZSwgZmllbGRWYWx1ZVR5cGUpIHtcblxuICAgIC8vIHN1Ym1lc3NhZ2UgdmFsdWU6IGRlY29yYXRlIHRoZSBzdWJtZXNzYWdlIGFuZCB1c2UgaXRzIG5hbWUgYXMgdGhlIHR5cGVcbiAgICBpZiAodHlwZW9mIGZpZWxkVmFsdWVUeXBlID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZpZWxkVmFsdWVUeXBlID0gdXRpbC5kZWNvcmF0ZVR5cGUoZmllbGRWYWx1ZVR5cGUpLm5hbWU7XG5cbiAgICAvLyBlbnVtIHJlZmVyZW5jZSB2YWx1ZTogY3JlYXRlIGEgcmVmbGVjdGVkIGNvcHkgb2YgdGhlIGVudW0gYW5kIGtlZXAgcmV1c2VpbmcgaXRcbiAgICBlbHNlIGlmIChmaWVsZFZhbHVlVHlwZSAmJiB0eXBlb2YgZmllbGRWYWx1ZVR5cGUgPT09IFwib2JqZWN0XCIpXG4gICAgICAgIGZpZWxkVmFsdWVUeXBlID0gdXRpbC5kZWNvcmF0ZUVudW0oZmllbGRWYWx1ZVR5cGUpLm5hbWU7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gbWFwRmllbGREZWNvcmF0b3IocHJvdG90eXBlLCBmaWVsZE5hbWUpIHtcbiAgICAgICAgdXRpbC5kZWNvcmF0ZVR5cGUocHJvdG90eXBlLmNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgLmFkZChuZXcgTWFwRmllbGQoZmllbGROYW1lLCBmaWVsZElkLCBmaWVsZEtleVR5cGUsIGZpZWxkVmFsdWVUeXBlKSk7XG4gICAgfTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gTWV0aG9kO1xuXG4vLyBleHRlbmRzIFJlZmxlY3Rpb25PYmplY3RcbnZhciBSZWZsZWN0aW9uT2JqZWN0ID0gcmVxdWlyZShcIi4vb2JqZWN0XCIpO1xuKChNZXRob2QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSZWZsZWN0aW9uT2JqZWN0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gTWV0aG9kKS5jbGFzc05hbWUgPSBcIk1ldGhvZFwiO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5cbi8qKlxuICogQ29uc3RydWN0cyBhIG5ldyBzZXJ2aWNlIG1ldGhvZCBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgUmVmbGVjdGVkIHNlcnZpY2UgbWV0aG9kLlxuICogQGV4dGVuZHMgUmVmbGVjdGlvbk9iamVjdFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBNZXRob2QgbmFtZVxuICogQHBhcmFtIHtzdHJpbmd8dW5kZWZpbmVkfSB0eXBlIE1ldGhvZCB0eXBlLCB1c3VhbGx5IGBcInJwY1wiYFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RUeXBlIFJlcXVlc3QgbWVzc2FnZSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVzcG9uc2VUeXBlIFJlc3BvbnNlIG1lc3NhZ2UgdHlwZVxuICogQHBhcmFtIHtib29sZWFufE9iamVjdC48c3RyaW5nLCo+fSBbcmVxdWVzdFN0cmVhbV0gV2hldGhlciB0aGUgcmVxdWVzdCBpcyBzdHJlYW1lZFxuICogQHBhcmFtIHtib29sZWFufE9iamVjdC48c3RyaW5nLCo+fSBbcmVzcG9uc2VTdHJlYW1dIFdoZXRoZXIgdGhlIHJlc3BvbnNlIGlzIHN0cmVhbWVkXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBbb3B0aW9uc10gRGVjbGFyZWQgb3B0aW9uc1xuICogQHBhcmFtIHtzdHJpbmd9IFtjb21tZW50XSBUaGUgY29tbWVudCBmb3IgdGhpcyBtZXRob2RcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IFtwYXJzZWRPcHRpb25zXSBEZWNsYXJlZCBvcHRpb25zLCBwcm9wZXJseSBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xuZnVuY3Rpb24gTWV0aG9kKG5hbWUsIHR5cGUsIHJlcXVlc3RUeXBlLCByZXNwb25zZVR5cGUsIHJlcXVlc3RTdHJlYW0sIHJlc3BvbnNlU3RyZWFtLCBvcHRpb25zLCBjb21tZW50LCBwYXJzZWRPcHRpb25zKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh1dGlsLmlzT2JqZWN0KHJlcXVlc3RTdHJlYW0pKSB7XG4gICAgICAgIG9wdGlvbnMgPSByZXF1ZXN0U3RyZWFtO1xuICAgICAgICByZXF1ZXN0U3RyZWFtID0gcmVzcG9uc2VTdHJlYW0gPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmICh1dGlsLmlzT2JqZWN0KHJlc3BvbnNlU3RyZWFtKSkge1xuICAgICAgICBvcHRpb25zID0gcmVzcG9uc2VTdHJlYW07XG4gICAgICAgIHJlc3BvbnNlU3RyZWFtID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB1dGlsLmlzU3RyaW5nKHR5cGUpKSlcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwidHlwZSBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCF1dGlsLmlzU3RyaW5nKHJlcXVlc3RUeXBlKSlcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwicmVxdWVzdFR5cGUgbXVzdCBiZSBhIHN0cmluZ1wiKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghdXRpbC5pc1N0cmluZyhyZXNwb25zZVR5cGUpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJyZXNwb25zZVR5cGUgbXVzdCBiZSBhIHN0cmluZ1wiKTtcblxuICAgIFJlZmxlY3Rpb25PYmplY3QuY2FsbCh0aGlzLCBuYW1lLCBvcHRpb25zKTtcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0eXBlLlxuICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gdHlwZSB8fCBcInJwY1wiOyAvLyB0b0pTT05cblxuICAgIC8qKlxuICAgICAqIFJlcXVlc3QgdHlwZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucmVxdWVzdFR5cGUgPSByZXF1ZXN0VHlwZTsgLy8gdG9KU09OLCBtYXJrZXJcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgcmVxdWVzdHMgYXJlIHN0cmVhbWVkIG9yIG5vdC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5yZXF1ZXN0U3RyZWFtID0gcmVxdWVzdFN0cmVhbSA/IHRydWUgOiB1bmRlZmluZWQ7IC8vIHRvSlNPTlxuXG4gICAgLyoqXG4gICAgICogUmVzcG9uc2UgdHlwZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlOyAvLyB0b0pTT05cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBzdHJlYW1lZCBvciBub3QuXG4gICAgICogQHR5cGUge2Jvb2xlYW58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucmVzcG9uc2VTdHJlYW0gPSByZXNwb25zZVN0cmVhbSA/IHRydWUgOiB1bmRlZmluZWQ7IC8vIHRvSlNPTlxuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZWQgcmVxdWVzdCB0eXBlLlxuICAgICAqIEB0eXBlIHtUeXBlfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5yZXNvbHZlZFJlcXVlc3RUeXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVkIHJlc3BvbnNlIHR5cGUuXG4gICAgICogQHR5cGUge1R5cGV8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdmVkUmVzcG9uc2VUeXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENvbW1lbnQgZm9yIHRoaXMgbWV0aG9kXG4gICAgICogQHR5cGUge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIHRoaXMuY29tbWVudCA9IGNvbW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25zIHByb3Blcmx5IHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICAgICAqL1xuICAgIHRoaXMucGFyc2VkT3B0aW9ucyA9IHBhcnNlZE9wdGlvbnM7XG59XG5cbi8qKlxuICogTWV0aG9kIGRlc2NyaXB0b3IuXG4gKiBAaW50ZXJmYWNlIElNZXRob2RcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbdHlwZT1cInJwY1wiXSBNZXRob2QgdHlwZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJlcXVlc3RUeXBlIFJlcXVlc3QgdHlwZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJlc3BvbnNlVHlwZSBSZXNwb25zZSB0eXBlXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtyZXF1ZXN0U3RyZWFtPWZhbHNlXSBXaGV0aGVyIHJlcXVlc3RzIGFyZSBzdHJlYW1lZFxuICogQHByb3BlcnR5IHtib29sZWFufSBbcmVzcG9uc2VTdHJlYW09ZmFsc2VdIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBzdHJlYW1lZFxuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywqPn0gW29wdGlvbnNdIE1ldGhvZCBvcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gY29tbWVudCBNZXRob2QgY29tbWVudHNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsKj59IFtwYXJzZWRPcHRpb25zXSBNZXRob2Qgb3B0aW9ucyBwcm9wZXJseSBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBtZXRob2QgZnJvbSBhIG1ldGhvZCBkZXNjcmlwdG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTWV0aG9kIG5hbWVcbiAqIEBwYXJhbSB7SU1ldGhvZH0ganNvbiBNZXRob2QgZGVzY3JpcHRvclxuICogQHJldHVybnMge01ldGhvZH0gQ3JlYXRlZCBtZXRob2RcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYXJndW1lbnRzIGFyZSBpbnZhbGlkXG4gKi9cbk1ldGhvZC5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OKG5hbWUsIGpzb24pIHtcbiAgICByZXR1cm4gbmV3IE1ldGhvZChuYW1lLCBqc29uLnR5cGUsIGpzb24ucmVxdWVzdFR5cGUsIGpzb24ucmVzcG9uc2VUeXBlLCBqc29uLnJlcXVlc3RTdHJlYW0sIGpzb24ucmVzcG9uc2VTdHJlYW0sIGpzb24ub3B0aW9ucywganNvbi5jb21tZW50LCBqc29uLnBhcnNlZE9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIG1ldGhvZCB0byBhIG1ldGhvZCBkZXNjcmlwdG9yLlxuICogQHBhcmFtIHtJVG9KU09OT3B0aW9uc30gW3RvSlNPTk9wdGlvbnNdIEpTT04gY29udmVyc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyB7SU1ldGhvZH0gTWV0aG9kIGRlc2NyaXB0b3JcbiAqL1xuTWV0aG9kLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04odG9KU09OT3B0aW9ucykge1xuICAgIHZhciBrZWVwQ29tbWVudHMgPSB0b0pTT05PcHRpb25zID8gQm9vbGVhbih0b0pTT05PcHRpb25zLmtlZXBDb21tZW50cykgOiBmYWxzZTtcbiAgICByZXR1cm4gdXRpbC50b09iamVjdChbXG4gICAgICAgIFwidHlwZVwiICAgICAgICAgICAsIHRoaXMudHlwZSAhPT0gXCJycGNcIiAmJiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB0aGlzLnR5cGUgfHwgdW5kZWZpbmVkLFxuICAgICAgICBcInJlcXVlc3RUeXBlXCIgICAgLCB0aGlzLnJlcXVlc3RUeXBlLFxuICAgICAgICBcInJlcXVlc3RTdHJlYW1cIiAgLCB0aGlzLnJlcXVlc3RTdHJlYW0sXG4gICAgICAgIFwicmVzcG9uc2VUeXBlXCIgICAsIHRoaXMucmVzcG9uc2VUeXBlLFxuICAgICAgICBcInJlc3BvbnNlU3RyZWFtXCIgLCB0aGlzLnJlc3BvbnNlU3RyZWFtLFxuICAgICAgICBcIm9wdGlvbnNcIiAgICAgICAgLCB0aGlzLm9wdGlvbnMsXG4gICAgICAgIFwiY29tbWVudFwiICAgICAgICAsIGtlZXBDb21tZW50cyA/IHRoaXMuY29tbWVudCA6IHVuZGVmaW5lZCxcbiAgICAgICAgXCJwYXJzZWRPcHRpb25zXCIgICwgdGhpcy5wYXJzZWRPcHRpb25zLFxuICAgIF0pO1xufTtcblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuTWV0aG9kLnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSgpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnJlc29sdmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgIHRoaXMucmVzb2x2ZWRSZXF1ZXN0VHlwZSA9IHRoaXMucGFyZW50Lmxvb2t1cFR5cGUodGhpcy5yZXF1ZXN0VHlwZSk7XG4gICAgdGhpcy5yZXNvbHZlZFJlc3BvbnNlVHlwZSA9IHRoaXMucGFyZW50Lmxvb2t1cFR5cGUodGhpcy5yZXNwb25zZVR5cGUpO1xuXG4gICAgcmV0dXJuIFJlZmxlY3Rpb25PYmplY3QucHJvdG90eXBlLnJlc29sdmUuY2FsbCh0aGlzKTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gU2VydmljZTtcblxuLy8gZXh0ZW5kcyBOYW1lc3BhY2VcbnZhciBOYW1lc3BhY2UgPSByZXF1aXJlKFwiLi9uYW1lc3BhY2VcIik7XG4oKFNlcnZpY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShOYW1lc3BhY2UucHJvdG90eXBlKSkuY29uc3RydWN0b3IgPSBTZXJ2aWNlKS5jbGFzc05hbWUgPSBcIlNlcnZpY2VcIjtcblxudmFyIE1ldGhvZCA9IHJlcXVpcmUoXCIuL21ldGhvZFwiKSxcbiAgICB1dGlsICAgPSByZXF1aXJlKFwiLi91dGlsXCIpLFxuICAgIHJwYyAgICA9IHJlcXVpcmUoXCIuL3JwY1wiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHNlcnZpY2UgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFJlZmxlY3RlZCBzZXJ2aWNlLlxuICogQGV4dGVuZHMgTmFtZXNwYWNlQmFzZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBTZXJ2aWNlIG5hbWVcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IFtvcHRpb25zXSBTZXJ2aWNlIG9wdGlvbnNcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYXJndW1lbnRzIGFyZSBpbnZhbGlkXG4gKi9cbmZ1bmN0aW9uIFNlcnZpY2UobmFtZSwgb3B0aW9ucykge1xuICAgIE5hbWVzcGFjZS5jYWxsKHRoaXMsIG5hbWUsIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogU2VydmljZSBtZXRob2RzLlxuICAgICAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxNZXRob2Q+fVxuICAgICAqL1xuICAgIHRoaXMubWV0aG9kcyA9IHt9OyAvLyB0b0pTT04sIG1hcmtlclxuXG4gICAgLyoqXG4gICAgICogQ2FjaGVkIG1ldGhvZHMgYXMgYW4gYXJyYXkuXG4gICAgICogQHR5cGUge01ldGhvZFtdfG51bGx9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9tZXRob2RzQXJyYXkgPSBudWxsO1xufVxuXG4vKipcbiAqIFNlcnZpY2UgZGVzY3JpcHRvci5cbiAqIEBpbnRlcmZhY2UgSVNlcnZpY2VcbiAqIEBleHRlbmRzIElOYW1lc3BhY2VcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsSU1ldGhvZD59IG1ldGhvZHMgTWV0aG9kIGRlc2NyaXB0b3JzXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgc2VydmljZSBmcm9tIGEgc2VydmljZSBkZXNjcmlwdG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgU2VydmljZSBuYW1lXG4gKiBAcGFyYW0ge0lTZXJ2aWNlfSBqc29uIFNlcnZpY2UgZGVzY3JpcHRvclxuICogQHJldHVybnMge1NlcnZpY2V9IENyZWF0ZWQgc2VydmljZVxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBhcmd1bWVudHMgYXJlIGludmFsaWRcbiAqL1xuU2VydmljZS5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OKG5hbWUsIGpzb24pIHtcbiAgICB2YXIgc2VydmljZSA9IG5ldyBTZXJ2aWNlKG5hbWUsIGpzb24ub3B0aW9ucyk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoanNvbi5tZXRob2RzKVxuICAgICAgICBmb3IgKHZhciBuYW1lcyA9IE9iamVjdC5rZXlzKGpzb24ubWV0aG9kcyksIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBzZXJ2aWNlLmFkZChNZXRob2QuZnJvbUpTT04obmFtZXNbaV0sIGpzb24ubWV0aG9kc1tuYW1lc1tpXV0pKTtcbiAgICBpZiAoanNvbi5uZXN0ZWQpXG4gICAgICAgIHNlcnZpY2UuYWRkSlNPTihqc29uLm5lc3RlZCk7XG4gICAgaWYgKGpzb24uZWRpdGlvbilcbiAgICAgICAgc2VydmljZS5fZWRpdGlvbiA9IGpzb24uZWRpdGlvbjtcbiAgICBzZXJ2aWNlLmNvbW1lbnQgPSBqc29uLmNvbW1lbnQ7XG4gICAgc2VydmljZS5fZGVmYXVsdEVkaXRpb24gPSBcInByb3RvM1wiOyAgLy8gRm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LlxuICAgIHJldHVybiBzZXJ2aWNlO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIHNlcnZpY2UgdG8gYSBzZXJ2aWNlIGRlc2NyaXB0b3IuXG4gKiBAcGFyYW0ge0lUb0pTT05PcHRpb25zfSBbdG9KU09OT3B0aW9uc10gSlNPTiBjb252ZXJzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtJU2VydmljZX0gU2VydmljZSBkZXNjcmlwdG9yXG4gKi9cblNlcnZpY2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTih0b0pTT05PcHRpb25zKSB7XG4gICAgdmFyIGluaGVyaXRlZCA9IE5hbWVzcGFjZS5wcm90b3R5cGUudG9KU09OLmNhbGwodGhpcywgdG9KU09OT3B0aW9ucyk7XG4gICAgdmFyIGtlZXBDb21tZW50cyA9IHRvSlNPTk9wdGlvbnMgPyBCb29sZWFuKHRvSlNPTk9wdGlvbnMua2VlcENvbW1lbnRzKSA6IGZhbHNlO1xuICAgIHJldHVybiB1dGlsLnRvT2JqZWN0KFtcbiAgICAgICAgXCJlZGl0aW9uXCIgLCB0aGlzLl9lZGl0aW9uVG9KU09OKCksXG4gICAgICAgIFwib3B0aW9uc1wiICwgaW5oZXJpdGVkICYmIGluaGVyaXRlZC5vcHRpb25zIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgXCJtZXRob2RzXCIgLCBOYW1lc3BhY2UuYXJyYXlUb0pTT04odGhpcy5tZXRob2RzQXJyYXksIHRvSlNPTk9wdGlvbnMpIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIHt9LFxuICAgICAgICBcIm5lc3RlZFwiICAsIGluaGVyaXRlZCAmJiBpbmhlcml0ZWQubmVzdGVkIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgXCJjb21tZW50XCIgLCBrZWVwQ29tbWVudHMgPyB0aGlzLmNvbW1lbnQgOiB1bmRlZmluZWRcbiAgICBdKTtcbn07XG5cbi8qKlxuICogTWV0aG9kcyBvZiB0aGlzIHNlcnZpY2UgYXMgYW4gYXJyYXkgZm9yIGl0ZXJhdGlvbi5cbiAqIEBuYW1lIFNlcnZpY2UjbWV0aG9kc0FycmF5XG4gKiBAdHlwZSB7TWV0aG9kW119XG4gKiBAcmVhZG9ubHlcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNlcnZpY2UucHJvdG90eXBlLCBcIm1ldGhvZHNBcnJheVwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ldGhvZHNBcnJheSB8fCAodGhpcy5fbWV0aG9kc0FycmF5ID0gdXRpbC50b0FycmF5KHRoaXMubWV0aG9kcykpO1xuICAgIH1cbn0pO1xuXG5mdW5jdGlvbiBjbGVhckNhY2hlKHNlcnZpY2UpIHtcbiAgICBzZXJ2aWNlLl9tZXRob2RzQXJyYXkgPSBudWxsO1xuICAgIHJldHVybiBzZXJ2aWNlO1xufVxuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5TZXJ2aWNlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQobmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1ldGhvZHNbbmFtZV1cbiAgICAgICAgfHwgTmFtZXNwYWNlLnByb3RvdHlwZS5nZXQuY2FsbCh0aGlzLCBuYW1lKTtcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cblNlcnZpY2UucHJvdG90eXBlLnJlc29sdmVBbGwgPSBmdW5jdGlvbiByZXNvbHZlQWxsKCkge1xuICAgIGlmICghdGhpcy5fbmVlZHNSZWN1cnNpdmVSZXNvbHZlKSByZXR1cm4gdGhpcztcblxuICAgIE5hbWVzcGFjZS5wcm90b3R5cGUucmVzb2x2ZS5jYWxsKHRoaXMpO1xuICAgIHZhciBtZXRob2RzID0gdGhpcy5tZXRob2RzQXJyYXk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZXRob2RzLmxlbmd0aDsgKytpKVxuICAgICAgICBtZXRob2RzW2ldLnJlc29sdmUoKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cblNlcnZpY2UucHJvdG90eXBlLl9yZXNvbHZlRmVhdHVyZXNSZWN1cnNpdmUgPSBmdW5jdGlvbiBfcmVzb2x2ZUZlYXR1cmVzUmVjdXJzaXZlKGVkaXRpb24pIHtcbiAgICBpZiAoIXRoaXMuX25lZWRzUmVjdXJzaXZlRmVhdHVyZVJlc29sdXRpb24pIHJldHVybiB0aGlzO1xuXG4gICAgZWRpdGlvbiA9IHRoaXMuX2VkaXRpb24gfHwgZWRpdGlvbjtcblxuICAgIE5hbWVzcGFjZS5wcm90b3R5cGUuX3Jlc29sdmVGZWF0dXJlc1JlY3Vyc2l2ZS5jYWxsKHRoaXMsIGVkaXRpb24pO1xuICAgIHRoaXMubWV0aG9kc0FycmF5LmZvckVhY2gobWV0aG9kID0+IHtcbiAgICAgICAgbWV0aG9kLl9yZXNvbHZlRmVhdHVyZXNSZWN1cnNpdmUoZWRpdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5TZXJ2aWNlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQob2JqZWN0KSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5nZXQob2JqZWN0Lm5hbWUpKVxuICAgICAgICB0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBuYW1lICdcIiArIG9iamVjdC5uYW1lICsgXCInIGluIFwiICsgdGhpcyk7XG5cbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgTWV0aG9kKSB7XG4gICAgICAgIHRoaXMubWV0aG9kc1tvYmplY3QubmFtZV0gPSBvYmplY3Q7XG4gICAgICAgIG9iamVjdC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gY2xlYXJDYWNoZSh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIE5hbWVzcGFjZS5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgb2JqZWN0KTtcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cblNlcnZpY2UucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgTWV0aG9kKSB7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0aGlzLm1ldGhvZHNbb2JqZWN0Lm5hbWVdICE9PSBvYmplY3QpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihvYmplY3QgKyBcIiBpcyBub3QgYSBtZW1iZXIgb2YgXCIgKyB0aGlzKTtcblxuICAgICAgICBkZWxldGUgdGhpcy5tZXRob2RzW29iamVjdC5uYW1lXTtcbiAgICAgICAgb2JqZWN0LnBhcmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiBjbGVhckNhY2hlKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gTmFtZXNwYWNlLnByb3RvdHlwZS5yZW1vdmUuY2FsbCh0aGlzLCBvYmplY3QpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgcnVudGltZSBzZXJ2aWNlIHVzaW5nIHRoZSBzcGVjaWZpZWQgcnBjIGltcGxlbWVudGF0aW9uLlxuICogQHBhcmFtIHtSUENJbXBsfSBycGNJbXBsIFJQQyBpbXBsZW1lbnRhdGlvblxuICogQHBhcmFtIHtib29sZWFufSBbcmVxdWVzdERlbGltaXRlZD1mYWxzZV0gV2hldGhlciByZXF1ZXN0cyBhcmUgbGVuZ3RoLWRlbGltaXRlZFxuICogQHBhcmFtIHtib29sZWFufSBbcmVzcG9uc2VEZWxpbWl0ZWQ9ZmFsc2VdIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBsZW5ndGgtZGVsaW1pdGVkXG4gKiBAcmV0dXJucyB7cnBjLlNlcnZpY2V9IFJQQyBzZXJ2aWNlLiBVc2VmdWwgd2hlcmUgcmVxdWVzdHMgYW5kL29yIHJlc3BvbnNlcyBhcmUgc3RyZWFtZWQuXG4gKi9cblNlcnZpY2UucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShycGNJbXBsLCByZXF1ZXN0RGVsaW1pdGVkLCByZXNwb25zZURlbGltaXRlZCkge1xuICAgIHZhciBycGNTZXJ2aWNlID0gbmV3IHJwYy5TZXJ2aWNlKHJwY0ltcGwsIHJlcXVlc3REZWxpbWl0ZWQsIHJlc3BvbnNlRGVsaW1pdGVkKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbWV0aG9kOyBpIDwgLyogaW5pdGlhbGl6ZXMgKi8gdGhpcy5tZXRob2RzQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIG1ldGhvZE5hbWUgPSB1dGlsLmxjRmlyc3QoKG1ldGhvZCA9IHRoaXMuX21ldGhvZHNBcnJheVtpXSkucmVzb2x2ZSgpLm5hbWUpLnJlcGxhY2UoL1teJFxcd19dL2csIFwiXCIpO1xuICAgICAgICBycGNTZXJ2aWNlW21ldGhvZE5hbWVdID0gdXRpbC5jb2RlZ2VuKFtcInJcIixcImNcIl0sIHV0aWwuaXNSZXNlcnZlZChtZXRob2ROYW1lKSA/IG1ldGhvZE5hbWUgKyBcIl9cIiA6IG1ldGhvZE5hbWUpKFwicmV0dXJuIHRoaXMucnBjQ2FsbChtLHEscyxyLGMpXCIpKHtcbiAgICAgICAgICAgIG06IG1ldGhvZCxcbiAgICAgICAgICAgIHE6IG1ldGhvZC5yZXNvbHZlZFJlcXVlc3RUeXBlLmN0b3IsXG4gICAgICAgICAgICBzOiBtZXRob2QucmVzb2x2ZWRSZXNwb25zZVR5cGUuY3RvclxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJwY1NlcnZpY2U7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IE1lc3NhZ2U7XG5cbnZhciB1dGlsID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgbWVzc2FnZSBpbnN0YW5jZS5cbiAqIEBjbGFzc2Rlc2MgQWJzdHJhY3QgcnVudGltZSBtZXNzYWdlLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1Byb3BlcnRpZXM8VD59IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHRvIHNldFxuICogQHRlbXBsYXRlIFQgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3RcbiAqL1xuZnVuY3Rpb24gTWVzc2FnZShwcm9wZXJ0aWVzKSB7XG4gICAgLy8gbm90IHVzZWQgaW50ZXJuYWxseVxuICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcGVydGllcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHRoaXNba2V5c1tpXV0gPSBwcm9wZXJ0aWVzW2tleXNbaV1dO1xufVxuXG4vKipcbiAqIFJlZmVyZW5jZSB0byB0aGUgcmVmbGVjdGVkIHR5cGUuXG4gKiBAbmFtZSBNZXNzYWdlLiR0eXBlXG4gKiBAdHlwZSB7VHlwZX1cbiAqIEByZWFkb25seVxuICovXG5cbi8qKlxuICogUmVmZXJlbmNlIHRvIHRoZSByZWZsZWN0ZWQgdHlwZS5cbiAqIEBuYW1lIE1lc3NhZ2UjJHR5cGVcbiAqIEB0eXBlIHtUeXBlfVxuICogQHJlYWRvbmx5XG4gKi9cblxuLyplc2xpbnQtZGlzYWJsZSB2YWxpZC1qc2RvYyovXG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtZXNzYWdlIG9mIHRoaXMgdHlwZSB1c2luZyB0aGUgc3BlY2lmaWVkIHByb3BlcnRpZXMuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBbcHJvcGVydGllc10gUHJvcGVydGllcyB0byBzZXRcbiAqIEByZXR1cm5zIHtNZXNzYWdlPFQ+fSBNZXNzYWdlIGluc3RhbmNlXG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIE1lc3NhZ2U8VD5cbiAqIEB0aGlzIENvbnN0cnVjdG9yPFQ+XG4gKi9cbk1lc3NhZ2UuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gdGhpcy4kdHlwZS5jcmVhdGUocHJvcGVydGllcyk7XG59O1xuXG4vKipcbiAqIEVuY29kZXMgYSBtZXNzYWdlIG9mIHRoaXMgdHlwZS5cbiAqIEBwYXJhbSB7VHxPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBNZXNzYWdlIHRvIGVuY29kZVxuICogQHBhcmFtIHtXcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byB1c2VcbiAqIEByZXR1cm5zIHtXcml0ZXJ9IFdyaXRlclxuICogQHRlbXBsYXRlIFQgZXh0ZW5kcyBNZXNzYWdlPFQ+XG4gKiBAdGhpcyBDb25zdHJ1Y3RvcjxUPlxuICovXG5NZXNzYWdlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShtZXNzYWdlLCB3cml0ZXIpIHtcbiAgICByZXR1cm4gdGhpcy4kdHlwZS5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKTtcbn07XG5cbi8qKlxuICogRW5jb2RlcyBhIG1lc3NhZ2Ugb2YgdGhpcyB0eXBlIHByZWNlZWRlZCBieSBpdHMgbGVuZ3RoIGFzIGEgdmFyaW50LlxuICogQHBhcmFtIHtUfE9iamVjdC48c3RyaW5nLCo+fSBtZXNzYWdlIE1lc3NhZ2UgdG8gZW5jb2RlXG4gKiBAcGFyYW0ge1dyaXRlcn0gW3dyaXRlcl0gV3JpdGVyIHRvIHVzZVxuICogQHJldHVybnMge1dyaXRlcn0gV3JpdGVyXG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIE1lc3NhZ2U8VD5cbiAqIEB0aGlzIENvbnN0cnVjdG9yPFQ+XG4gKi9cbk1lc3NhZ2UuZW5jb2RlRGVsaW1pdGVkID0gZnVuY3Rpb24gZW5jb2RlRGVsaW1pdGVkKG1lc3NhZ2UsIHdyaXRlcikge1xuICAgIHJldHVybiB0aGlzLiR0eXBlLmVuY29kZURlbGltaXRlZChtZXNzYWdlLCB3cml0ZXIpO1xufTtcblxuLyoqXG4gKiBEZWNvZGVzIGEgbWVzc2FnZSBvZiB0aGlzIHR5cGUuXG4gKiBAbmFtZSBNZXNzYWdlLmRlY29kZVxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1JlYWRlcnxVaW50OEFycmF5fSByZWFkZXIgUmVhZGVyIG9yIGJ1ZmZlciB0byBkZWNvZGVcbiAqIEByZXR1cm5zIHtUfSBEZWNvZGVkIG1lc3NhZ2VcbiAqIEB0ZW1wbGF0ZSBUIGV4dGVuZHMgTWVzc2FnZTxUPlxuICogQHRoaXMgQ29uc3RydWN0b3I8VD5cbiAqL1xuTWVzc2FnZS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGUocmVhZGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuJHR5cGUuZGVjb2RlKHJlYWRlcik7XG59O1xuXG4vKipcbiAqIERlY29kZXMgYSBtZXNzYWdlIG9mIHRoaXMgdHlwZSBwcmVjZWVkZWQgYnkgaXRzIGxlbmd0aCBhcyBhIHZhcmludC5cbiAqIEBuYW1lIE1lc3NhZ2UuZGVjb2RlRGVsaW1pdGVkXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7UmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZVxuICogQHJldHVybnMge1R9IERlY29kZWQgbWVzc2FnZVxuICogQHRlbXBsYXRlIFQgZXh0ZW5kcyBNZXNzYWdlPFQ+XG4gKiBAdGhpcyBDb25zdHJ1Y3RvcjxUPlxuICovXG5NZXNzYWdlLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICByZXR1cm4gdGhpcy4kdHlwZS5kZWNvZGVEZWxpbWl0ZWQocmVhZGVyKTtcbn07XG5cbi8qKlxuICogVmVyaWZpZXMgYSBtZXNzYWdlIG9mIHRoaXMgdHlwZS5cbiAqIEBuYW1lIE1lc3NhZ2UudmVyaWZ5XG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICogQHJldHVybnMge3N0cmluZ3xudWxsfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAqL1xuTWVzc2FnZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobWVzc2FnZSkge1xuICAgIHJldHVybiB0aGlzLiR0eXBlLnZlcmlmeShtZXNzYWdlKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtZXNzYWdlIG9mIHRoaXMgdHlwZSBmcm9tIGEgcGxhaW4gb2JqZWN0LiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byB0aGVpciByZXNwZWN0aXZlIGludGVybmFsIHR5cGVzLlxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gb2JqZWN0IFBsYWluIG9iamVjdFxuICogQHJldHVybnMge1R9IE1lc3NhZ2UgaW5zdGFuY2VcbiAqIEB0ZW1wbGF0ZSBUIGV4dGVuZHMgTWVzc2FnZTxUPlxuICogQHRoaXMgQ29uc3RydWN0b3I8VD5cbiAqL1xuTWVzc2FnZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChvYmplY3QpIHtcbiAgICByZXR1cm4gdGhpcy4kdHlwZS5mcm9tT2JqZWN0KG9iamVjdCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIG1lc3NhZ2Ugb2YgdGhpcyB0eXBlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge1R9IG1lc3NhZ2UgTWVzc2FnZSBpbnN0YW5jZVxuICogQHBhcmFtIHtJQ29udmVyc2lvbk9wdGlvbnN9IFtvcHRpb25zXSBDb252ZXJzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gUGxhaW4gb2JqZWN0XG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIE1lc3NhZ2U8VD5cbiAqIEB0aGlzIENvbnN0cnVjdG9yPFQ+XG4gKi9cbk1lc3NhZ2UudG9PYmplY3QgPSBmdW5jdGlvbiB0b09iamVjdChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuJHR5cGUudG9PYmplY3QobWVzc2FnZSwgb3B0aW9ucyk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbWVzc2FnZSB0byBKU09OLlxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBKU09OIG9iamVjdFxuICovXG5NZXNzYWdlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuJHR5cGUudG9PYmplY3QodGhpcywgdXRpbC50b0pTT05PcHRpb25zKTtcbn07XG5cbi8qZXNsaW50LWVuYWJsZSB2YWxpZC1qc2RvYyovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGRlY29kZXI7XG5cbnZhciBFbnVtICAgID0gcmVxdWlyZShcIi4vZW51bVwiKSxcbiAgICB0eXBlcyAgID0gcmVxdWlyZShcIi4vdHlwZXNcIiksXG4gICAgdXRpbCAgICA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5cbmZ1bmN0aW9uIG1pc3NpbmcoZmllbGQpIHtcbiAgICByZXR1cm4gXCJtaXNzaW5nIHJlcXVpcmVkICdcIiArIGZpZWxkLm5hbWUgKyBcIidcIjtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBkZWNvZGVyIHNwZWNpZmljIHRvIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSB0eXBlLlxuICogQHBhcmFtIHtUeXBlfSBtdHlwZSBNZXNzYWdlIHR5cGVcbiAqIEByZXR1cm5zIHtDb2RlZ2VufSBDb2RlZ2VuIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGRlY29kZXIobXR5cGUpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bmV4cGVjdGVkLW11bHRpbGluZSAqL1xuICAgIHZhciBnZW4gPSB1dGlsLmNvZGVnZW4oW1wiclwiLCBcImxcIiwgXCJlXCJdLCBtdHlwZS5uYW1lICsgXCIkZGVjb2RlXCIpXG4gICAgKFwiaWYoIShyIGluc3RhbmNlb2YgUmVhZGVyKSlcIilcbiAgICAgICAgKFwicj1SZWFkZXIuY3JlYXRlKHIpXCIpXG4gICAgKFwidmFyIGM9bD09PXVuZGVmaW5lZD9yLmxlbjpyLnBvcytsLG09bmV3IHRoaXMuY3RvclwiICsgKG10eXBlLmZpZWxkc0FycmF5LmZpbHRlcihmdW5jdGlvbihmaWVsZCkgeyByZXR1cm4gZmllbGQubWFwOyB9KS5sZW5ndGggPyBcIixrLHZhbHVlXCIgOiBcIlwiKSlcbiAgICAoXCJ3aGlsZShyLnBvczxjKXtcIilcbiAgICAgICAgKFwidmFyIHQ9ci51aW50MzIoKVwiKVxuICAgICAgICAoXCJpZih0PT09ZSlcIilcbiAgICAgICAgICAgIChcImJyZWFrXCIpXG4gICAgICAgIChcInN3aXRjaCh0Pj4+Myl7XCIpO1xuXG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAoOyBpIDwgLyogaW5pdGlhbGl6ZXMgKi8gbXR5cGUuZmllbGRzQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGZpZWxkID0gbXR5cGUuX2ZpZWxkc0FycmF5W2ldLnJlc29sdmUoKSxcbiAgICAgICAgICAgIHR5cGUgID0gZmllbGQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgRW51bSA/IFwiaW50MzJcIiA6IGZpZWxkLnR5cGUsXG4gICAgICAgICAgICByZWYgICA9IFwibVwiICsgdXRpbC5zYWZlUHJvcChmaWVsZC5uYW1lKTsgZ2VuXG4gICAgICAgICAgICAoXCJjYXNlICVpOiB7XCIsIGZpZWxkLmlkKTtcblxuICAgICAgICAvLyBNYXAgZmllbGRzXG4gICAgICAgIGlmIChmaWVsZC5tYXApIHsgZ2VuXG4gICAgICAgICAgICAgICAgKFwiaWYoJXM9PT11dGlsLmVtcHR5T2JqZWN0KVwiLCByZWYpXG4gICAgICAgICAgICAgICAgICAgIChcIiVzPXt9XCIsIHJlZilcbiAgICAgICAgICAgICAgICAoXCJ2YXIgYzIgPSByLnVpbnQzMigpK3IucG9zXCIpO1xuXG4gICAgICAgICAgICBpZiAodHlwZXMuZGVmYXVsdHNbZmllbGQua2V5VHlwZV0gIT09IHVuZGVmaW5lZCkgZ2VuXG4gICAgICAgICAgICAgICAgKFwiaz0lalwiLCB0eXBlcy5kZWZhdWx0c1tmaWVsZC5rZXlUeXBlXSk7XG4gICAgICAgICAgICBlbHNlIGdlblxuICAgICAgICAgICAgICAgIChcIms9bnVsbFwiKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVzLmRlZmF1bHRzW3R5cGVdICE9PSB1bmRlZmluZWQpIGdlblxuICAgICAgICAgICAgICAgIChcInZhbHVlPSVqXCIsIHR5cGVzLmRlZmF1bHRzW3R5cGVdKTtcbiAgICAgICAgICAgIGVsc2UgZ2VuXG4gICAgICAgICAgICAgICAgKFwidmFsdWU9bnVsbFwiKTtcblxuICAgICAgICAgICAgZ2VuXG4gICAgICAgICAgICAgICAgKFwid2hpbGUoci5wb3M8YzIpe1wiKVxuICAgICAgICAgICAgICAgICAgICAoXCJ2YXIgdGFnMj1yLnVpbnQzMigpXCIpXG4gICAgICAgICAgICAgICAgICAgIChcInN3aXRjaCh0YWcyPj4+Myl7XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAoXCJjYXNlIDE6IGs9ci4lcygpOyBicmVha1wiLCBmaWVsZC5rZXlUeXBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgKFwiY2FzZSAyOlwiKTtcblxuICAgICAgICAgICAgaWYgKHR5cGVzLmJhc2ljW3R5cGVdID09PSB1bmRlZmluZWQpIGdlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcInZhbHVlPXR5cGVzWyVpXS5kZWNvZGUocixyLnVpbnQzMigpKVwiLCBpKTsgLy8gY2FuJ3QgYmUgZ3JvdXBzXG4gICAgICAgICAgICBlbHNlIGdlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChcInZhbHVlPXIuJXMoKVwiLCB0eXBlKTtcblxuICAgICAgICAgICAgZ2VuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiYnJlYWtcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIChcImRlZmF1bHQ6XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwici5za2lwVHlwZSh0YWcyJjcpXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKFwiYnJlYWtcIilcbiAgICAgICAgICAgICAgICAgICAgKFwifVwiKVxuICAgICAgICAgICAgICAgIChcIn1cIik7XG5cbiAgICAgICAgICAgIGlmICh0eXBlcy5sb25nW2ZpZWxkLmtleVR5cGVdICE9PSB1bmRlZmluZWQpIGdlblxuICAgICAgICAgICAgICAgIChcIiVzW3R5cGVvZiBrPT09XFxcIm9iamVjdFxcXCI/dXRpbC5sb25nVG9IYXNoKGspOmtdPXZhbHVlXCIsIHJlZik7XG4gICAgICAgICAgICBlbHNlIGdlblxuICAgICAgICAgICAgICAgIChcIiVzW2tdPXZhbHVlXCIsIHJlZik7XG5cbiAgICAgICAgLy8gUmVwZWF0ZWQgZmllbGRzXG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQucmVwZWF0ZWQpIHsgZ2VuXG5cbiAgICAgICAgICAgICAgICAoXCJpZighKCVzJiYlcy5sZW5ndGgpKVwiLCByZWYsIHJlZilcbiAgICAgICAgICAgICAgICAgICAgKFwiJXM9W11cIiwgcmVmKTtcblxuICAgICAgICAgICAgLy8gUGFja2FibGUgKGFsd2F5cyBjaGVjayBmb3IgZm9yd2FyZCBhbmQgYmFja3dhcmQgY29tcGF0aWJsaXR5KVxuICAgICAgICAgICAgaWYgKHR5cGVzLnBhY2tlZFt0eXBlXSAhPT0gdW5kZWZpbmVkKSBnZW5cbiAgICAgICAgICAgICAgICAoXCJpZigodCY3KT09PTIpe1wiKVxuICAgICAgICAgICAgICAgICAgICAoXCJ2YXIgYzI9ci51aW50MzIoKStyLnBvc1wiKVxuICAgICAgICAgICAgICAgICAgICAoXCJ3aGlsZShyLnBvczxjMilcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIChcIiVzLnB1c2goci4lcygpKVwiLCByZWYsIHR5cGUpXG4gICAgICAgICAgICAgICAgKFwifWVsc2VcIik7XG5cbiAgICAgICAgICAgIC8vIE5vbi1wYWNrZWRcbiAgICAgICAgICAgIGlmICh0eXBlcy5iYXNpY1t0eXBlXSA9PT0gdW5kZWZpbmVkKSBnZW4oZmllbGQuZGVsaW1pdGVkXG4gICAgICAgICAgICAgICAgICAgID8gXCIlcy5wdXNoKHR5cGVzWyVpXS5kZWNvZGUocix1bmRlZmluZWQsKCh0Jn43KXw0KSkpXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIiVzLnB1c2godHlwZXNbJWldLmRlY29kZShyLHIudWludDMyKCkpKVwiLCByZWYsIGkpO1xuICAgICAgICAgICAgZWxzZSBnZW5cbiAgICAgICAgICAgICAgICAgICAgKFwiJXMucHVzaChyLiVzKCkpXCIsIHJlZiwgdHlwZSk7XG5cbiAgICAgICAgLy8gTm9uLXJlcGVhdGVkXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZXMuYmFzaWNbdHlwZV0gPT09IHVuZGVmaW5lZCkgZ2VuKGZpZWxkLmRlbGltaXRlZFxuICAgICAgICAgICAgICAgID8gXCIlcz10eXBlc1slaV0uZGVjb2RlKHIsdW5kZWZpbmVkLCgodCZ+Nyl8NCkpXCJcbiAgICAgICAgICAgICAgICA6IFwiJXM9dHlwZXNbJWldLmRlY29kZShyLHIudWludDMyKCkpXCIsIHJlZiwgaSk7XG4gICAgICAgIGVsc2UgZ2VuXG4gICAgICAgICAgICAgICAgKFwiJXM9ci4lcygpXCIsIHJlZiwgdHlwZSk7XG4gICAgICAgIGdlblxuICAgICAgICAgICAgICAgIChcImJyZWFrXCIpXG4gICAgICAgICAgICAoXCJ9XCIpO1xuICAgICAgICAvLyBVbmtub3duIGZpZWxkc1xuICAgIH0gZ2VuXG4gICAgICAgICAgICAoXCJkZWZhdWx0OlwiKVxuICAgICAgICAgICAgICAgIChcInIuc2tpcFR5cGUodCY3KVwiKVxuICAgICAgICAgICAgICAgIChcImJyZWFrXCIpXG5cbiAgICAgICAgKFwifVwiKVxuICAgIChcIn1cIik7XG5cbiAgICAvLyBGaWVsZCBwcmVzZW5jZVxuICAgIGZvciAoaSA9IDA7IGkgPCBtdHlwZS5fZmllbGRzQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHJmaWVsZCA9IG10eXBlLl9maWVsZHNBcnJheVtpXTtcbiAgICAgICAgaWYgKHJmaWVsZC5yZXF1aXJlZCkgZ2VuXG4gICAgKFwiaWYoIW0uaGFzT3duUHJvcGVydHkoJWopKVwiLCByZmllbGQubmFtZSlcbiAgICAgICAgKFwidGhyb3cgdXRpbC5Qcm90b2NvbEVycm9yKCVqLHtpbnN0YW5jZTptfSlcIiwgbWlzc2luZyhyZmllbGQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2VuXG4gICAgKFwicmV0dXJuIG1cIik7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bmV4cGVjdGVkLW11bHRpbGluZSAqL1xufVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHZlcmlmaWVyO1xuXG52YXIgRW51bSAgICAgID0gcmVxdWlyZShcIi4vZW51bVwiKSxcbiAgICB1dGlsICAgICAgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuXG5mdW5jdGlvbiBpbnZhbGlkKGZpZWxkLCBleHBlY3RlZCkge1xuICAgIHJldHVybiBmaWVsZC5uYW1lICsgXCI6IFwiICsgZXhwZWN0ZWQgKyAoZmllbGQucmVwZWF0ZWQgJiYgZXhwZWN0ZWQgIT09IFwiYXJyYXlcIiA/IFwiW11cIiA6IGZpZWxkLm1hcCAmJiBleHBlY3RlZCAhPT0gXCJvYmplY3RcIiA/IFwie2s6XCIrZmllbGQua2V5VHlwZStcIn1cIiA6IFwiXCIpICsgXCIgZXhwZWN0ZWRcIjtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwYXJ0aWFsIHZhbHVlIHZlcmlmaWVyLlxuICogQHBhcmFtIHtDb2RlZ2VufSBnZW4gQ29kZWdlbiBpbnN0YW5jZVxuICogQHBhcmFtIHtGaWVsZH0gZmllbGQgUmVmbGVjdGVkIGZpZWxkXG4gKiBAcGFyYW0ge251bWJlcn0gZmllbGRJbmRleCBGaWVsZCBpbmRleFxuICogQHBhcmFtIHtzdHJpbmd9IHJlZiBWYXJpYWJsZSByZWZlcmVuY2VcbiAqIEByZXR1cm5zIHtDb2RlZ2VufSBDb2RlZ2VuIGluc3RhbmNlXG4gKiBAaWdub3JlXG4gKi9cbmZ1bmN0aW9uIGdlblZlcmlmeVZhbHVlKGdlbiwgZmllbGQsIGZpZWxkSW5kZXgsIHJlZikge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lICovXG4gICAgaWYgKGZpZWxkLnJlc29sdmVkVHlwZSkge1xuICAgICAgICBpZiAoZmllbGQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgRW51bSkgeyBnZW5cbiAgICAgICAgICAgIChcInN3aXRjaCglcyl7XCIsIHJlZilcbiAgICAgICAgICAgICAgICAoXCJkZWZhdWx0OlwiKVxuICAgICAgICAgICAgICAgICAgICAoXCJyZXR1cm4lalwiLCBpbnZhbGlkKGZpZWxkLCBcImVudW0gdmFsdWVcIikpO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZpZWxkLnJlc29sdmVkVHlwZS52YWx1ZXMpLCBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIGdlblxuICAgICAgICAgICAgICAgIChcImNhc2UgJWk6XCIsIGZpZWxkLnJlc29sdmVkVHlwZS52YWx1ZXNba2V5c1tqXV0pO1xuICAgICAgICAgICAgZ2VuXG4gICAgICAgICAgICAgICAgICAgIChcImJyZWFrXCIpXG4gICAgICAgICAgICAoXCJ9XCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZ2VuXG4gICAgICAgICAgICAoXCJ7XCIpXG4gICAgICAgICAgICAgICAgKFwidmFyIGU9dHlwZXNbJWldLnZlcmlmeSglcyk7XCIsIGZpZWxkSW5kZXgsIHJlZilcbiAgICAgICAgICAgICAgICAoXCJpZihlKVwiKVxuICAgICAgICAgICAgICAgICAgICAoXCJyZXR1cm4laitlXCIsIGZpZWxkLm5hbWUgKyBcIi5cIilcbiAgICAgICAgICAgIChcIn1cIik7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnQzMlwiOlxuICAgICAgICAgICAgY2FzZSBcInVpbnQzMlwiOlxuICAgICAgICAgICAgY2FzZSBcInNpbnQzMlwiOlxuICAgICAgICAgICAgY2FzZSBcImZpeGVkMzJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzZml4ZWQzMlwiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJpZighdXRpbC5pc0ludGVnZXIoJXMpKVwiLCByZWYpXG4gICAgICAgICAgICAgICAgICAgIChcInJldHVybiVqXCIsIGludmFsaWQoZmllbGQsIFwiaW50ZWdlclwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiaW50NjRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ1aW50NjRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzaW50NjRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmaXhlZDY0XCI6XG4gICAgICAgICAgICBjYXNlIFwic2ZpeGVkNjRcIjogZ2VuXG4gICAgICAgICAgICAgICAgKFwiaWYoIXV0aWwuaXNJbnRlZ2VyKCVzKSYmISglcyYmdXRpbC5pc0ludGVnZXIoJXMubG93KSYmdXRpbC5pc0ludGVnZXIoJXMuaGlnaCkpKVwiLCByZWYsIHJlZiwgcmVmLCByZWYpXG4gICAgICAgICAgICAgICAgICAgIChcInJldHVybiVqXCIsIGludmFsaWQoZmllbGQsIFwiaW50ZWdlcnxMb25nXCIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmbG9hdFwiOlxuICAgICAgICAgICAgY2FzZSBcImRvdWJsZVwiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJpZih0eXBlb2YgJXMhPT1cXFwibnVtYmVyXFxcIilcIiwgcmVmKVxuICAgICAgICAgICAgICAgICAgICAoXCJyZXR1cm4lalwiLCBpbnZhbGlkKGZpZWxkLCBcIm51bWJlclwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm9vbFwiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJpZih0eXBlb2YgJXMhPT1cXFwiYm9vbGVhblxcXCIpXCIsIHJlZilcbiAgICAgICAgICAgICAgICAgICAgKFwicmV0dXJuJWpcIiwgaW52YWxpZChmaWVsZCwgXCJib29sZWFuXCIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjogZ2VuXG4gICAgICAgICAgICAgICAgKFwiaWYoIXV0aWwuaXNTdHJpbmcoJXMpKVwiLCByZWYpXG4gICAgICAgICAgICAgICAgICAgIChcInJldHVybiVqXCIsIGludmFsaWQoZmllbGQsIFwic3RyaW5nXCIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJieXRlc1wiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJpZighKCVzJiZ0eXBlb2YgJXMubGVuZ3RoPT09XFxcIm51bWJlclxcXCJ8fHV0aWwuaXNTdHJpbmcoJXMpKSlcIiwgcmVmLCByZWYsIHJlZilcbiAgICAgICAgICAgICAgICAgICAgKFwicmV0dXJuJWpcIiwgaW52YWxpZChmaWVsZCwgXCJidWZmZXJcIikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnZW47XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bmV4cGVjdGVkLW11bHRpbGluZSAqL1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHBhcnRpYWwga2V5IHZlcmlmaWVyLlxuICogQHBhcmFtIHtDb2RlZ2VufSBnZW4gQ29kZWdlbiBpbnN0YW5jZVxuICogQHBhcmFtIHtGaWVsZH0gZmllbGQgUmVmbGVjdGVkIGZpZWxkXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVmIFZhcmlhYmxlIHJlZmVyZW5jZVxuICogQHJldHVybnMge0NvZGVnZW59IENvZGVnZW4gaW5zdGFuY2VcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gZ2VuVmVyaWZ5S2V5KGdlbiwgZmllbGQsIHJlZikge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lICovXG4gICAgc3dpdGNoIChmaWVsZC5rZXlUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJpbnQzMlwiOlxuICAgICAgICBjYXNlIFwidWludDMyXCI6XG4gICAgICAgIGNhc2UgXCJzaW50MzJcIjpcbiAgICAgICAgY2FzZSBcImZpeGVkMzJcIjpcbiAgICAgICAgY2FzZSBcInNmaXhlZDMyXCI6IGdlblxuICAgICAgICAgICAgKFwiaWYoIXV0aWwua2V5MzJSZS50ZXN0KCVzKSlcIiwgcmVmKVxuICAgICAgICAgICAgICAgIChcInJldHVybiVqXCIsIGludmFsaWQoZmllbGQsIFwiaW50ZWdlciBrZXlcIikpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnQ2NFwiOlxuICAgICAgICBjYXNlIFwidWludDY0XCI6XG4gICAgICAgIGNhc2UgXCJzaW50NjRcIjpcbiAgICAgICAgY2FzZSBcImZpeGVkNjRcIjpcbiAgICAgICAgY2FzZSBcInNmaXhlZDY0XCI6IGdlblxuICAgICAgICAgICAgKFwiaWYoIXV0aWwua2V5NjRSZS50ZXN0KCVzKSlcIiwgcmVmKSAvLyBzZWUgY29tbWVudCBhYm92ZTogeCBpcyBvaywgZCBpcyBub3RcbiAgICAgICAgICAgICAgICAoXCJyZXR1cm4lalwiLCBpbnZhbGlkKGZpZWxkLCBcImludGVnZXJ8TG9uZyBrZXlcIikpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib29sXCI6IGdlblxuICAgICAgICAgICAgKFwiaWYoIXV0aWwua2V5MlJlLnRlc3QoJXMpKVwiLCByZWYpXG4gICAgICAgICAgICAgICAgKFwicmV0dXJuJWpcIiwgaW52YWxpZChmaWVsZCwgXCJib29sZWFuIGtleVwiKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGdlbjtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lICovXG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgdmVyaWZpZXIgc3BlY2lmaWMgdG8gdGhlIHNwZWNpZmllZCBtZXNzYWdlIHR5cGUuXG4gKiBAcGFyYW0ge1R5cGV9IG10eXBlIE1lc3NhZ2UgdHlwZVxuICogQHJldHVybnMge0NvZGVnZW59IENvZGVnZW4gaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gdmVyaWZpZXIobXR5cGUpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bmV4cGVjdGVkLW11bHRpbGluZSAqL1xuXG4gICAgdmFyIGdlbiA9IHV0aWwuY29kZWdlbihbXCJtXCJdLCBtdHlwZS5uYW1lICsgXCIkdmVyaWZ5XCIpXG4gICAgKFwiaWYodHlwZW9mIG0hPT1cXFwib2JqZWN0XFxcInx8bT09PW51bGwpXCIpXG4gICAgICAgIChcInJldHVybiVqXCIsIFwib2JqZWN0IGV4cGVjdGVkXCIpO1xuICAgIHZhciBvbmVvZnMgPSBtdHlwZS5vbmVvZnNBcnJheSxcbiAgICAgICAgc2VlbkZpcnN0RmllbGQgPSB7fTtcbiAgICBpZiAob25lb2ZzLmxlbmd0aCkgZ2VuXG4gICAgKFwidmFyIHA9e31cIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IC8qIGluaXRpYWxpemVzICovIG10eXBlLmZpZWxkc0FycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IG10eXBlLl9maWVsZHNBcnJheVtpXS5yZXNvbHZlKCksXG4gICAgICAgICAgICByZWYgICA9IFwibVwiICsgdXRpbC5zYWZlUHJvcChmaWVsZC5uYW1lKTtcblxuICAgICAgICBpZiAoZmllbGQub3B0aW9uYWwpIGdlblxuICAgICAgICAoXCJpZiglcyE9bnVsbCYmbS5oYXNPd25Qcm9wZXJ0eSglaikpe1wiLCByZWYsIGZpZWxkLm5hbWUpOyAvLyAhPT0gdW5kZWZpbmVkICYmICE9PSBudWxsXG5cbiAgICAgICAgLy8gbWFwIGZpZWxkc1xuICAgICAgICBpZiAoZmllbGQubWFwKSB7IGdlblxuICAgICAgICAgICAgKFwiaWYoIXV0aWwuaXNPYmplY3QoJXMpKVwiLCByZWYpXG4gICAgICAgICAgICAgICAgKFwicmV0dXJuJWpcIiwgaW52YWxpZChmaWVsZCwgXCJvYmplY3RcIikpXG4gICAgICAgICAgICAoXCJ2YXIgaz1PYmplY3Qua2V5cyglcylcIiwgcmVmKVxuICAgICAgICAgICAgKFwiZm9yKHZhciBpPTA7aTxrLmxlbmd0aDsrK2kpe1wiKTtcbiAgICAgICAgICAgICAgICBnZW5WZXJpZnlLZXkoZ2VuLCBmaWVsZCwgXCJrW2ldXCIpO1xuICAgICAgICAgICAgICAgIGdlblZlcmlmeVZhbHVlKGdlbiwgZmllbGQsIGksIHJlZiArIFwiW2tbaV1dXCIpXG4gICAgICAgICAgICAoXCJ9XCIpO1xuXG4gICAgICAgIC8vIHJlcGVhdGVkIGZpZWxkc1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkLnJlcGVhdGVkKSB7IGdlblxuICAgICAgICAgICAgKFwiaWYoIUFycmF5LmlzQXJyYXkoJXMpKVwiLCByZWYpXG4gICAgICAgICAgICAgICAgKFwicmV0dXJuJWpcIiwgaW52YWxpZChmaWVsZCwgXCJhcnJheVwiKSlcbiAgICAgICAgICAgIChcImZvcih2YXIgaT0wO2k8JXMubGVuZ3RoOysraSl7XCIsIHJlZik7XG4gICAgICAgICAgICAgICAgZ2VuVmVyaWZ5VmFsdWUoZ2VuLCBmaWVsZCwgaSwgcmVmICsgXCJbaV1cIilcbiAgICAgICAgICAgIChcIn1cIik7XG5cbiAgICAgICAgLy8gcmVxdWlyZWQgb3IgcHJlc2VudCBmaWVsZHNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmaWVsZC5wYXJ0T2YpIHtcbiAgICAgICAgICAgICAgICB2YXIgb25lb2ZQcm9wID0gdXRpbC5zYWZlUHJvcChmaWVsZC5wYXJ0T2YubmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlZW5GaXJzdEZpZWxkW2ZpZWxkLnBhcnRPZi5uYW1lXSA9PT0gMSkgZ2VuXG4gICAgICAgICAgICAoXCJpZihwJXM9PT0xKVwiLCBvbmVvZlByb3ApXG4gICAgICAgICAgICAgICAgKFwicmV0dXJuJWpcIiwgZmllbGQucGFydE9mLm5hbWUgKyBcIjogbXVsdGlwbGUgdmFsdWVzXCIpO1xuICAgICAgICAgICAgICAgIHNlZW5GaXJzdEZpZWxkW2ZpZWxkLnBhcnRPZi5uYW1lXSA9IDE7XG4gICAgICAgICAgICAgICAgZ2VuXG4gICAgICAgICAgICAoXCJwJXM9MVwiLCBvbmVvZlByb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2VuVmVyaWZ5VmFsdWUoZ2VuLCBmaWVsZCwgaSwgcmVmKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQub3B0aW9uYWwpIGdlblxuICAgICAgICAoXCJ9XCIpO1xuICAgIH1cbiAgICByZXR1cm4gZ2VuXG4gICAgKFwicmV0dXJuIG51bGxcIik7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bmV4cGVjdGVkLW11bHRpbGluZSAqL1xufSIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBSdW50aW1lIG1lc3NhZ2UgZnJvbS90byBwbGFpbiBvYmplY3QgY29udmVydGVycy5cbiAqIEBuYW1lc3BhY2VcbiAqL1xudmFyIGNvbnZlcnRlciA9IGV4cG9ydHM7XG5cbnZhciBFbnVtID0gcmVxdWlyZShcIi4vZW51bVwiKSxcbiAgICB1dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwYXJ0aWFsIHZhbHVlIGZyb21PYmplY3QgY29udmV0ZXIuXG4gKiBAcGFyYW0ge0NvZGVnZW59IGdlbiBDb2RlZ2VuIGluc3RhbmNlXG4gKiBAcGFyYW0ge0ZpZWxkfSBmaWVsZCBSZWZsZWN0ZWQgZmllbGRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmaWVsZEluZGV4IEZpZWxkIGluZGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBQcm9wZXJ0eSByZWZlcmVuY2VcbiAqIEByZXR1cm5zIHtDb2RlZ2VufSBDb2RlZ2VuIGluc3RhbmNlXG4gKiBAaWdub3JlXG4gKi9cbmZ1bmN0aW9uIGdlblZhbHVlUGFydGlhbF9mcm9tT2JqZWN0KGdlbiwgZmllbGQsIGZpZWxkSW5kZXgsIHByb3ApIHtcbiAgICB2YXIgZGVmYXVsdEFscmVhZHlFbWl0dGVkID0gZmFsc2U7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5leHBlY3RlZC1tdWx0aWxpbmUsIGJsb2NrLXNjb3BlZC12YXIsIG5vLXJlZGVjbGFyZSAqL1xuICAgIGlmIChmaWVsZC5yZXNvbHZlZFR5cGUpIHtcbiAgICAgICAgaWYgKGZpZWxkLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIEVudW0pIHsgZ2VuXG4gICAgICAgICAgICAoXCJzd2l0Y2goZCVzKXtcIiwgcHJvcCk7XG4gICAgICAgICAgICBmb3IgKHZhciB2YWx1ZXMgPSBmaWVsZC5yZXNvbHZlZFR5cGUudmFsdWVzLCBrZXlzID0gT2JqZWN0LmtleXModmFsdWVzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgLy8gZW51bSB1bmtub3duIHZhbHVlcyBwYXNzdGhyb3VnaFxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZXNba2V5c1tpXV0gPT09IGZpZWxkLnR5cGVEZWZhdWx0ICYmICFkZWZhdWx0QWxyZWFkeUVtaXR0ZWQpIHsgZ2VuXG4gICAgICAgICAgICAgICAgICAgIChcImRlZmF1bHQ6XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAoXCJpZih0eXBlb2YoZCVzKT09PVxcXCJudW1iZXJcXFwiKXttJXM9ZCVzO2JyZWFrfVwiLCBwcm9wLCBwcm9wLCBwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWVsZC5yZXBlYXRlZCkgZ2VuIC8vIGZhbGxiYWNrIHRvIGRlZmF1bHQgdmFsdWUgb25seSBmb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFycmF5cywgdG8gYXZvaWQgbGVhdmluZyBob2xlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIChcImJyZWFrXCIpOyAgICAgICAgICAgLy8gZm9yIG5vbi1yZXBlYXRlZCBmaWVsZHMsIGp1c3QgaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRBbHJlYWR5RW1pdHRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlblxuICAgICAgICAgICAgICAgIChcImNhc2UlajpcIiwga2V5c1tpXSlcbiAgICAgICAgICAgICAgICAoXCJjYXNlICVpOlwiLCB2YWx1ZXNba2V5c1tpXV0pXG4gICAgICAgICAgICAgICAgICAgIChcIm0lcz0lalwiLCBwcm9wLCB2YWx1ZXNba2V5c1tpXV0pXG4gICAgICAgICAgICAgICAgICAgIChcImJyZWFrXCIpO1xuICAgICAgICAgICAgfSBnZW5cbiAgICAgICAgICAgIChcIn1cIik7XG4gICAgICAgIH0gZWxzZSBnZW5cbiAgICAgICAgICAgIChcImlmKHR5cGVvZiBkJXMhPT1cXFwib2JqZWN0XFxcIilcIiwgcHJvcClcbiAgICAgICAgICAgICAgICAoXCJ0aHJvdyBUeXBlRXJyb3IoJWopXCIsIGZpZWxkLmZ1bGxOYW1lICsgXCI6IG9iamVjdCBleHBlY3RlZFwiKVxuICAgICAgICAgICAgKFwibSVzPXR5cGVzWyVpXS5mcm9tT2JqZWN0KGQlcylcIiwgcHJvcCwgZmllbGRJbmRleCwgcHJvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGlzVW5zaWduZWQgPSBmYWxzZTtcbiAgICAgICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiZG91YmxlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZmxvYXRcIjogZ2VuXG4gICAgICAgICAgICAgICAgKFwibSVzPU51bWJlcihkJXMpXCIsIHByb3AsIHByb3ApOyAvLyBhbHNvIGNhdGNoZXMgXCJOYU5cIiwgXCJJbmZpbml0eVwiXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidWludDMyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZml4ZWQzMlwiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJtJXM9ZCVzPj4+MFwiLCBwcm9wLCBwcm9wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJpbnQzMlwiOlxuICAgICAgICAgICAgY2FzZSBcInNpbnQzMlwiOlxuICAgICAgICAgICAgY2FzZSBcInNmaXhlZDMyXCI6IGdlblxuICAgICAgICAgICAgICAgIChcIm0lcz1kJXN8MFwiLCBwcm9wLCBwcm9wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ1aW50NjRcIjpcbiAgICAgICAgICAgICAgICBpc1Vuc2lnbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgICAgIGNhc2UgXCJpbnQ2NFwiOlxuICAgICAgICAgICAgY2FzZSBcInNpbnQ2NFwiOlxuICAgICAgICAgICAgY2FzZSBcImZpeGVkNjRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzZml4ZWQ2NFwiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJpZih1dGlsLkxvbmcpXCIpXG4gICAgICAgICAgICAgICAgICAgIChcIihtJXM9dXRpbC5Mb25nLmZyb21WYWx1ZShkJXMpKS51bnNpZ25lZD0lalwiLCBwcm9wLCBwcm9wLCBpc1Vuc2lnbmVkKVxuICAgICAgICAgICAgICAgIChcImVsc2UgaWYodHlwZW9mIGQlcz09PVxcXCJzdHJpbmdcXFwiKVwiLCBwcm9wKVxuICAgICAgICAgICAgICAgICAgICAoXCJtJXM9cGFyc2VJbnQoZCVzLDEwKVwiLCBwcm9wLCBwcm9wKVxuICAgICAgICAgICAgICAgIChcImVsc2UgaWYodHlwZW9mIGQlcz09PVxcXCJudW1iZXJcXFwiKVwiLCBwcm9wKVxuICAgICAgICAgICAgICAgICAgICAoXCJtJXM9ZCVzXCIsIHByb3AsIHByb3ApXG4gICAgICAgICAgICAgICAgKFwiZWxzZSBpZih0eXBlb2YgZCVzPT09XFxcIm9iamVjdFxcXCIpXCIsIHByb3ApXG4gICAgICAgICAgICAgICAgICAgIChcIm0lcz1uZXcgdXRpbC5Mb25nQml0cyhkJXMubG93Pj4+MCxkJXMuaGlnaD4+PjApLnRvTnVtYmVyKCVzKVwiLCBwcm9wLCBwcm9wLCBwcm9wLCBpc1Vuc2lnbmVkID8gXCJ0cnVlXCIgOiBcIlwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJieXRlc1wiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJpZih0eXBlb2YgZCVzPT09XFxcInN0cmluZ1xcXCIpXCIsIHByb3ApXG4gICAgICAgICAgICAgICAgICAgIChcInV0aWwuYmFzZTY0LmRlY29kZShkJXMsbSVzPXV0aWwubmV3QnVmZmVyKHV0aWwuYmFzZTY0Lmxlbmd0aChkJXMpKSwwKVwiLCBwcm9wLCBwcm9wLCBwcm9wKVxuICAgICAgICAgICAgICAgIChcImVsc2UgaWYoZCVzLmxlbmd0aCA+PSAwKVwiLCBwcm9wKVxuICAgICAgICAgICAgICAgICAgICAoXCJtJXM9ZCVzXCIsIHByb3AsIHByb3ApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJtJXM9U3RyaW5nKGQlcylcIiwgcHJvcCwgcHJvcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm9vbFwiOiBnZW5cbiAgICAgICAgICAgICAgICAoXCJtJXM9Qm9vbGVhbihkJXMpXCIsIHByb3AsIHByb3ApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLyogZGVmYXVsdDogZ2VuXG4gICAgICAgICAgICAgICAgKFwibSVzPWQlc1wiLCBwcm9wLCBwcm9wKTtcbiAgICAgICAgICAgICAgICBicmVhazsgKi9cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2VuO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW5leHBlY3RlZC1tdWx0aWxpbmUsIGJsb2NrLXNjb3BlZC12YXIsIG5vLXJlZGVjbGFyZSAqL1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHBsYWluIG9iamVjdCB0byBydW50aW1lIG1lc3NhZ2UgY29udmVydGVyIHNwZWNpZmljIHRvIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSB0eXBlLlxuICogQHBhcmFtIHtUeXBlfSBtdHlwZSBNZXNzYWdlIHR5cGVcbiAqIEByZXR1cm5zIHtDb2RlZ2VufSBDb2RlZ2VuIGluc3RhbmNlXG4gKi9cbmNvbnZlcnRlci5mcm9tT2JqZWN0ID0gZnVuY3Rpb24gZnJvbU9iamVjdChtdHlwZSkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lLCBibG9jay1zY29wZWQtdmFyLCBuby1yZWRlY2xhcmUgKi9cbiAgICB2YXIgZmllbGRzID0gbXR5cGUuZmllbGRzQXJyYXk7XG4gICAgdmFyIGdlbiA9IHV0aWwuY29kZWdlbihbXCJkXCJdLCBtdHlwZS5uYW1lICsgXCIkZnJvbU9iamVjdFwiKVxuICAgIChcImlmKGQgaW5zdGFuY2VvZiB0aGlzLmN0b3IpXCIpXG4gICAgICAgIChcInJldHVybiBkXCIpO1xuICAgIGlmICghZmllbGRzLmxlbmd0aCkgcmV0dXJuIGdlblxuICAgIChcInJldHVybiBuZXcgdGhpcy5jdG9yXCIpO1xuICAgIGdlblxuICAgIChcInZhciBtPW5ldyB0aGlzLmN0b3JcIik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGZpZWxkICA9IGZpZWxkc1tpXS5yZXNvbHZlKCksXG4gICAgICAgICAgICBwcm9wICAgPSB1dGlsLnNhZmVQcm9wKGZpZWxkLm5hbWUpO1xuXG4gICAgICAgIC8vIE1hcCBmaWVsZHNcbiAgICAgICAgaWYgKGZpZWxkLm1hcCkgeyBnZW5cbiAgICAoXCJpZihkJXMpe1wiLCBwcm9wKVxuICAgICAgICAoXCJpZih0eXBlb2YgZCVzIT09XFxcIm9iamVjdFxcXCIpXCIsIHByb3ApXG4gICAgICAgICAgICAoXCJ0aHJvdyBUeXBlRXJyb3IoJWopXCIsIGZpZWxkLmZ1bGxOYW1lICsgXCI6IG9iamVjdCBleHBlY3RlZFwiKVxuICAgICAgICAoXCJtJXM9e31cIiwgcHJvcClcbiAgICAgICAgKFwiZm9yKHZhciBrcz1PYmplY3Qua2V5cyhkJXMpLGk9MDtpPGtzLmxlbmd0aDsrK2kpe1wiLCBwcm9wKTtcbiAgICAgICAgICAgIGdlblZhbHVlUGFydGlhbF9mcm9tT2JqZWN0KGdlbiwgZmllbGQsIC8qIG5vdCBzb3J0ZWQgKi8gaSwgcHJvcCArIFwiW2tzW2ldXVwiKVxuICAgICAgICAoXCJ9XCIpXG4gICAgKFwifVwiKTtcblxuICAgICAgICAvLyBSZXBlYXRlZCBmaWVsZHNcbiAgICAgICAgfSBlbHNlIGlmIChmaWVsZC5yZXBlYXRlZCkgeyBnZW5cbiAgICAoXCJpZihkJXMpe1wiLCBwcm9wKVxuICAgICAgICAoXCJpZighQXJyYXkuaXNBcnJheShkJXMpKVwiLCBwcm9wKVxuICAgICAgICAgICAgKFwidGhyb3cgVHlwZUVycm9yKCVqKVwiLCBmaWVsZC5mdWxsTmFtZSArIFwiOiBhcnJheSBleHBlY3RlZFwiKVxuICAgICAgICAoXCJtJXM9W11cIiwgcHJvcClcbiAgICAgICAgKFwiZm9yKHZhciBpPTA7aTxkJXMubGVuZ3RoOysraSl7XCIsIHByb3ApO1xuICAgICAgICAgICAgZ2VuVmFsdWVQYXJ0aWFsX2Zyb21PYmplY3QoZ2VuLCBmaWVsZCwgLyogbm90IHNvcnRlZCAqLyBpLCBwcm9wICsgXCJbaV1cIilcbiAgICAgICAgKFwifVwiKVxuICAgIChcIn1cIik7XG5cbiAgICAgICAgLy8gTm9uLXJlcGVhdGVkIGZpZWxkc1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCEoZmllbGQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgRW51bSkpIGdlbiAvLyBubyBuZWVkIHRvIHRlc3QgZm9yIG51bGwvdW5kZWZpbmVkIGlmIGFuIGVudW0gKHVzZXMgc3dpdGNoKVxuICAgIChcImlmKGQlcyE9bnVsbCl7XCIsIHByb3ApOyAvLyAhPT0gdW5kZWZpbmVkICYmICE9PSBudWxsXG4gICAgICAgIGdlblZhbHVlUGFydGlhbF9mcm9tT2JqZWN0KGdlbiwgZmllbGQsIC8qIG5vdCBzb3J0ZWQgKi8gaSwgcHJvcCk7XG4gICAgICAgICAgICBpZiAoIShmaWVsZC5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBFbnVtKSkgZ2VuXG4gICAgKFwifVwiKTtcbiAgICAgICAgfVxuICAgIH0gcmV0dXJuIGdlblxuICAgIChcInJldHVybiBtXCIpO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW5leHBlY3RlZC1tdWx0aWxpbmUsIGJsb2NrLXNjb3BlZC12YXIsIG5vLXJlZGVjbGFyZSAqL1xufTtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYSBwYXJ0aWFsIHZhbHVlIHRvT2JqZWN0IGNvbnZlcnRlci5cbiAqIEBwYXJhbSB7Q29kZWdlbn0gZ2VuIENvZGVnZW4gaW5zdGFuY2VcbiAqIEBwYXJhbSB7RmllbGR9IGZpZWxkIFJlZmxlY3RlZCBmaWVsZFxuICogQHBhcmFtIHtudW1iZXJ9IGZpZWxkSW5kZXggRmllbGQgaW5kZXhcbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFByb3BlcnR5IHJlZmVyZW5jZVxuICogQHJldHVybnMge0NvZGVnZW59IENvZGVnZW4gaW5zdGFuY2VcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gZ2VuVmFsdWVQYXJ0aWFsX3RvT2JqZWN0KGdlbiwgZmllbGQsIGZpZWxkSW5kZXgsIHByb3ApIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby11bmV4cGVjdGVkLW11bHRpbGluZSwgYmxvY2stc2NvcGVkLXZhciwgbm8tcmVkZWNsYXJlICovXG4gICAgaWYgKGZpZWxkLnJlc29sdmVkVHlwZSkge1xuICAgICAgICBpZiAoZmllbGQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgRW51bSkgZ2VuXG4gICAgICAgICAgICAoXCJkJXM9by5lbnVtcz09PVN0cmluZz8odHlwZXNbJWldLnZhbHVlc1ttJXNdPT09dW5kZWZpbmVkP20lczp0eXBlc1slaV0udmFsdWVzW20lc10pOm0lc1wiLCBwcm9wLCBmaWVsZEluZGV4LCBwcm9wLCBwcm9wLCBmaWVsZEluZGV4LCBwcm9wLCBwcm9wKTtcbiAgICAgICAgZWxzZSBnZW5cbiAgICAgICAgICAgIChcImQlcz10eXBlc1slaV0udG9PYmplY3QobSVzLG8pXCIsIHByb3AsIGZpZWxkSW5kZXgsIHByb3ApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpc1Vuc2lnbmVkID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcImRvdWJsZVwiOlxuICAgICAgICAgICAgY2FzZSBcImZsb2F0XCI6IGdlblxuICAgICAgICAgICAgKFwiZCVzPW8uanNvbiYmIWlzRmluaXRlKG0lcyk/U3RyaW5nKG0lcyk6bSVzXCIsIHByb3AsIHByb3AsIHByb3AsIHByb3ApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInVpbnQ2NFwiOlxuICAgICAgICAgICAgICAgIGlzVW5zaWduZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgICAgICAgICAgY2FzZSBcImludDY0XCI6XG4gICAgICAgICAgICBjYXNlIFwic2ludDY0XCI6XG4gICAgICAgICAgICBjYXNlIFwiZml4ZWQ2NFwiOlxuICAgICAgICAgICAgY2FzZSBcInNmaXhlZDY0XCI6IGdlblxuICAgICAgICAgICAgKFwiaWYodHlwZW9mIG0lcz09PVxcXCJudW1iZXJcXFwiKVwiLCBwcm9wKVxuICAgICAgICAgICAgICAgIChcImQlcz1vLmxvbmdzPT09U3RyaW5nP1N0cmluZyhtJXMpOm0lc1wiLCBwcm9wLCBwcm9wLCBwcm9wKVxuICAgICAgICAgICAgKFwiZWxzZVwiKSAvLyBMb25nLWxpa2VcbiAgICAgICAgICAgICAgICAoXCJkJXM9by5sb25ncz09PVN0cmluZz91dGlsLkxvbmcucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobSVzKTpvLmxvbmdzPT09TnVtYmVyP25ldyB1dGlsLkxvbmdCaXRzKG0lcy5sb3c+Pj4wLG0lcy5oaWdoPj4+MCkudG9OdW1iZXIoJXMpOm0lc1wiLCBwcm9wLCBwcm9wLCBwcm9wLCBwcm9wLCBpc1Vuc2lnbmVkID8gXCJ0cnVlXCI6IFwiXCIsIHByb3ApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJ5dGVzXCI6IGdlblxuICAgICAgICAgICAgKFwiZCVzPW8uYnl0ZXM9PT1TdHJpbmc/dXRpbC5iYXNlNjQuZW5jb2RlKG0lcywwLG0lcy5sZW5ndGgpOm8uYnl0ZXM9PT1BcnJheT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChtJXMpOm0lc1wiLCBwcm9wLCBwcm9wLCBwcm9wLCBwcm9wLCBwcm9wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IGdlblxuICAgICAgICAgICAgKFwiZCVzPW0lc1wiLCBwcm9wLCBwcm9wKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ2VuO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW5leHBlY3RlZC1tdWx0aWxpbmUsIGJsb2NrLXNjb3BlZC12YXIsIG5vLXJlZGVjbGFyZSAqL1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHJ1bnRpbWUgbWVzc2FnZSB0byBwbGFpbiBvYmplY3QgY29udmVydGVyIHNwZWNpZmljIHRvIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSB0eXBlLlxuICogQHBhcmFtIHtUeXBlfSBtdHlwZSBNZXNzYWdlIHR5cGVcbiAqIEByZXR1cm5zIHtDb2RlZ2VufSBDb2RlZ2VuIGluc3RhbmNlXG4gKi9cbmNvbnZlcnRlci50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG10eXBlKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5leHBlY3RlZC1tdWx0aWxpbmUsIGJsb2NrLXNjb3BlZC12YXIsIG5vLXJlZGVjbGFyZSAqL1xuICAgIHZhciBmaWVsZHMgPSBtdHlwZS5maWVsZHNBcnJheS5zbGljZSgpLnNvcnQodXRpbC5jb21wYXJlRmllbGRzQnlJZCk7XG4gICAgaWYgKCFmaWVsZHMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gdXRpbC5jb2RlZ2VuKCkoXCJyZXR1cm4ge31cIik7XG4gICAgdmFyIGdlbiA9IHV0aWwuY29kZWdlbihbXCJtXCIsIFwib1wiXSwgbXR5cGUubmFtZSArIFwiJHRvT2JqZWN0XCIpXG4gICAgKFwiaWYoIW8pXCIpXG4gICAgICAgIChcIm89e31cIilcbiAgICAoXCJ2YXIgZD17fVwiKTtcblxuICAgIHZhciByZXBlYXRlZEZpZWxkcyA9IFtdLFxuICAgICAgICBtYXBGaWVsZHMgPSBbXSxcbiAgICAgICAgbm9ybWFsRmllbGRzID0gW10sXG4gICAgICAgIGkgPSAwO1xuICAgIGZvciAoOyBpIDwgZmllbGRzLmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAoIWZpZWxkc1tpXS5wYXJ0T2YpXG4gICAgICAgICAgICAoIGZpZWxkc1tpXS5yZXNvbHZlKCkucmVwZWF0ZWQgPyByZXBlYXRlZEZpZWxkc1xuICAgICAgICAgICAgOiBmaWVsZHNbaV0ubWFwID8gbWFwRmllbGRzXG4gICAgICAgICAgICA6IG5vcm1hbEZpZWxkcykucHVzaChmaWVsZHNbaV0pO1xuXG4gICAgaWYgKHJlcGVhdGVkRmllbGRzLmxlbmd0aCkgeyBnZW5cbiAgICAoXCJpZihvLmFycmF5c3x8by5kZWZhdWx0cyl7XCIpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVwZWF0ZWRGaWVsZHMubGVuZ3RoOyArK2kpIGdlblxuICAgICAgICAoXCJkJXM9W11cIiwgdXRpbC5zYWZlUHJvcChyZXBlYXRlZEZpZWxkc1tpXS5uYW1lKSk7XG4gICAgICAgIGdlblxuICAgIChcIn1cIik7XG4gICAgfVxuXG4gICAgaWYgKG1hcEZpZWxkcy5sZW5ndGgpIHsgZ2VuXG4gICAgKFwiaWYoby5vYmplY3RzfHxvLmRlZmF1bHRzKXtcIik7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBtYXBGaWVsZHMubGVuZ3RoOyArK2kpIGdlblxuICAgICAgICAoXCJkJXM9e31cIiwgdXRpbC5zYWZlUHJvcChtYXBGaWVsZHNbaV0ubmFtZSkpO1xuICAgICAgICBnZW5cbiAgICAoXCJ9XCIpO1xuICAgIH1cblxuICAgIGlmIChub3JtYWxGaWVsZHMubGVuZ3RoKSB7IGdlblxuICAgIChcImlmKG8uZGVmYXVsdHMpe1wiKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vcm1hbEZpZWxkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIGZpZWxkID0gbm9ybWFsRmllbGRzW2ldLFxuICAgICAgICAgICAgICAgIHByb3AgID0gdXRpbC5zYWZlUHJvcChmaWVsZC5uYW1lKTtcbiAgICAgICAgICAgIGlmIChmaWVsZC5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBFbnVtKSBnZW5cbiAgICAgICAgKFwiZCVzPW8uZW51bXM9PT1TdHJpbmc/JWo6JWpcIiwgcHJvcCwgZmllbGQucmVzb2x2ZWRUeXBlLnZhbHVlc0J5SWRbZmllbGQudHlwZURlZmF1bHRdLCBmaWVsZC50eXBlRGVmYXVsdCk7XG4gICAgICAgICAgICBlbHNlIGlmIChmaWVsZC5sb25nKSBnZW5cbiAgICAgICAgKFwiaWYodXRpbC5Mb25nKXtcIilcbiAgICAgICAgICAgIChcInZhciBuPW5ldyB1dGlsLkxvbmcoJWksJWksJWopXCIsIGZpZWxkLnR5cGVEZWZhdWx0LmxvdywgZmllbGQudHlwZURlZmF1bHQuaGlnaCwgZmllbGQudHlwZURlZmF1bHQudW5zaWduZWQpXG4gICAgICAgICAgICAoXCJkJXM9by5sb25ncz09PVN0cmluZz9uLnRvU3RyaW5nKCk6by5sb25ncz09PU51bWJlcj9uLnRvTnVtYmVyKCk6blwiLCBwcm9wKVxuICAgICAgICAoXCJ9ZWxzZVwiKVxuICAgICAgICAgICAgKFwiZCVzPW8ubG9uZ3M9PT1TdHJpbmc/JWo6JWlcIiwgcHJvcCwgZmllbGQudHlwZURlZmF1bHQudG9TdHJpbmcoKSwgZmllbGQudHlwZURlZmF1bHQudG9OdW1iZXIoKSk7XG4gICAgICAgICAgICBlbHNlIGlmIChmaWVsZC5ieXRlcykge1xuICAgICAgICAgICAgICAgIHZhciBhcnJheURlZmF1bHQgPSBcIltcIiArIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZpZWxkLnR5cGVEZWZhdWx0KS5qb2luKFwiLFwiKSArIFwiXVwiO1xuICAgICAgICAgICAgICAgIGdlblxuICAgICAgICAoXCJpZihvLmJ5dGVzPT09U3RyaW5nKWQlcz0lalwiLCBwcm9wLCBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgZmllbGQudHlwZURlZmF1bHQpKVxuICAgICAgICAoXCJlbHNle1wiKVxuICAgICAgICAgICAgKFwiZCVzPSVzXCIsIHByb3AsIGFycmF5RGVmYXVsdClcbiAgICAgICAgICAgIChcImlmKG8uYnl0ZXMhPT1BcnJheSlkJXM9dXRpbC5uZXdCdWZmZXIoZCVzKVwiLCBwcm9wLCBwcm9wKVxuICAgICAgICAoXCJ9XCIpO1xuICAgICAgICAgICAgfSBlbHNlIGdlblxuICAgICAgICAoXCJkJXM9JWpcIiwgcHJvcCwgZmllbGQudHlwZURlZmF1bHQpOyAvLyBhbHNvIG1lc3NhZ2VzICg9bnVsbClcbiAgICAgICAgfSBnZW5cbiAgICAoXCJ9XCIpO1xuICAgIH1cbiAgICB2YXIgaGFzS3MyID0gZmFsc2U7XG4gICAgZm9yIChpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV0sXG4gICAgICAgICAgICBpbmRleCA9IG10eXBlLl9maWVsZHNBcnJheS5pbmRleE9mKGZpZWxkKSxcbiAgICAgICAgICAgIHByb3AgID0gdXRpbC5zYWZlUHJvcChmaWVsZC5uYW1lKTtcbiAgICAgICAgaWYgKGZpZWxkLm1hcCkge1xuICAgICAgICAgICAgaWYgKCFoYXNLczIpIHsgaGFzS3MyID0gdHJ1ZTsgZ2VuXG4gICAgKFwidmFyIGtzMlwiKTtcbiAgICAgICAgICAgIH0gZ2VuXG4gICAgKFwiaWYobSVzJiYoa3MyPU9iamVjdC5rZXlzKG0lcykpLmxlbmd0aCl7XCIsIHByb3AsIHByb3ApXG4gICAgICAgIChcImQlcz17fVwiLCBwcm9wKVxuICAgICAgICAoXCJmb3IodmFyIGo9MDtqPGtzMi5sZW5ndGg7KytqKXtcIik7XG4gICAgICAgICAgICBnZW5WYWx1ZVBhcnRpYWxfdG9PYmplY3QoZ2VuLCBmaWVsZCwgLyogc29ydGVkICovIGluZGV4LCBwcm9wICsgXCJba3MyW2pdXVwiKVxuICAgICAgICAoXCJ9XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkLnJlcGVhdGVkKSB7IGdlblxuICAgIChcImlmKG0lcyYmbSVzLmxlbmd0aCl7XCIsIHByb3AsIHByb3ApXG4gICAgICAgIChcImQlcz1bXVwiLCBwcm9wKVxuICAgICAgICAoXCJmb3IodmFyIGo9MDtqPG0lcy5sZW5ndGg7KytqKXtcIiwgcHJvcCk7XG4gICAgICAgICAgICBnZW5WYWx1ZVBhcnRpYWxfdG9PYmplY3QoZ2VuLCBmaWVsZCwgLyogc29ydGVkICovIGluZGV4LCBwcm9wICsgXCJbal1cIilcbiAgICAgICAgKFwifVwiKTtcbiAgICAgICAgfSBlbHNlIHsgZ2VuXG4gICAgKFwiaWYobSVzIT1udWxsJiZtLmhhc093blByb3BlcnR5KCVqKSl7XCIsIHByb3AsIGZpZWxkLm5hbWUpOyAvLyAhPT0gdW5kZWZpbmVkICYmICE9PSBudWxsXG4gICAgICAgIGdlblZhbHVlUGFydGlhbF90b09iamVjdChnZW4sIGZpZWxkLCAvKiBzb3J0ZWQgKi8gaW5kZXgsIHByb3ApO1xuICAgICAgICBpZiAoZmllbGQucGFydE9mKSBnZW5cbiAgICAgICAgKFwiaWYoby5vbmVvZnMpXCIpXG4gICAgICAgICAgICAoXCJkJXM9JWpcIiwgdXRpbC5zYWZlUHJvcChmaWVsZC5wYXJ0T2YubmFtZSksIGZpZWxkLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGdlblxuICAgIChcIn1cIik7XG4gICAgfVxuICAgIHJldHVybiBnZW5cbiAgICAoXCJyZXR1cm4gZFwiKTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lLCBibG9jay1zY29wZWQtdmFyLCBuby1yZWRlY2xhcmUgKi9cbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBXcmFwcGVycyBmb3IgY29tbW9uIHR5cGVzLlxuICogQHR5cGUge09iamVjdC48c3RyaW5nLElXcmFwcGVyPn1cbiAqIEBjb25zdFxuICovXG52YXIgd3JhcHBlcnMgPSBleHBvcnRzO1xuXG52YXIgTWVzc2FnZSA9IHJlcXVpcmUoXCIuL21lc3NhZ2VcIik7XG5cbi8qKlxuICogRnJvbSBvYmplY3QgY29udmVydGVyIHBhcnQgb2YgYW4ge0BsaW5rIElXcmFwcGVyfS5cbiAqIEB0eXBlZGVmIFdyYXBwZXJGcm9tT2JqZWN0Q29udmVydGVyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgUGxhaW4gb2JqZWN0XG4gKiBAcmV0dXJucyB7TWVzc2FnZTx7fT59IE1lc3NhZ2UgaW5zdGFuY2VcbiAqIEB0aGlzIFR5cGVcbiAqL1xuXG4vKipcbiAqIFRvIG9iamVjdCBjb252ZXJ0ZXIgcGFydCBvZiBhbiB7QGxpbmsgSVdyYXBwZXJ9LlxuICogQHR5cGVkZWYgV3JhcHBlclRvT2JqZWN0Q29udmVydGVyXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge01lc3NhZ2U8e30+fSBtZXNzYWdlIE1lc3NhZ2UgaW5zdGFuY2VcbiAqIEBwYXJhbSB7SUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICogQHRoaXMgVHlwZVxuICovXG5cbi8qKlxuICogQ29tbW9uIHR5cGUgd3JhcHBlciBwYXJ0IG9mIHtAbGluayB3cmFwcGVyc30uXG4gKiBAaW50ZXJmYWNlIElXcmFwcGVyXG4gKiBAcHJvcGVydHkge1dyYXBwZXJGcm9tT2JqZWN0Q29udmVydGVyfSBbZnJvbU9iamVjdF0gRnJvbSBvYmplY3QgY29udmVydGVyXG4gKiBAcHJvcGVydHkge1dyYXBwZXJUb09iamVjdENvbnZlcnRlcn0gW3RvT2JqZWN0XSBUbyBvYmplY3QgY29udmVydGVyXG4gKi9cblxuLy8gQ3VzdG9tIHdyYXBwZXIgZm9yIEFueVxud3JhcHBlcnNbXCIuZ29vZ2xlLnByb3RvYnVmLkFueVwiXSA9IHtcblxuICAgIGZyb21PYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCkge1xuXG4gICAgICAgIC8vIHVud3JhcCB2YWx1ZSB0eXBlIGlmIG1hcHBlZFxuICAgICAgICBpZiAob2JqZWN0ICYmIG9iamVjdFtcIkB0eXBlXCJdKSB7XG4gICAgICAgICAgICAgLy8gT25seSB1c2UgZnVsbHkgcXVhbGlmaWVkIHR5cGUgbmFtZSBhZnRlciB0aGUgbGFzdCAnLydcbiAgICAgICAgICAgIHZhciBuYW1lID0gb2JqZWN0W1wiQHR5cGVcIl0uc3Vic3RyaW5nKG9iamVjdFtcIkB0eXBlXCJdLmxhc3RJbmRleE9mKFwiL1wiKSArIDEpO1xuICAgICAgICAgICAgdmFyIHR5cGUgPSB0aGlzLmxvb2t1cChuYW1lKTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIHR5cGVfdXJsIGRvZXMgbm90IGFjY2VwdCBsZWFkaW5nIFwiLlwiXG4gICAgICAgICAgICAgICAgdmFyIHR5cGVfdXJsID0gb2JqZWN0W1wiQHR5cGVcIl0uY2hhckF0KDApID09PSBcIi5cIiA/XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdFtcIkB0eXBlXCJdLnNsaWNlKDEpIDogb2JqZWN0W1wiQHR5cGVcIl07XG4gICAgICAgICAgICAgICAgLy8gdHlwZV91cmwgcHJlZml4IGlzIG9wdGlvbmFsLCBidXQgcGF0aCBzZXBlcmF0b3IgaXMgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICBpZiAodHlwZV91cmwuaW5kZXhPZihcIi9cIikgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGVfdXJsID0gXCIvXCIgKyB0eXBlX3VybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZV91cmw6IHR5cGVfdXJsLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHlwZS5lbmNvZGUodHlwZS5mcm9tT2JqZWN0KG9iamVjdCkpLmZpbmlzaCgpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tT2JqZWN0KG9iamVjdCk7XG4gICAgfSxcblxuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihtZXNzYWdlLCBvcHRpb25zKSB7XG5cbiAgICAgICAgLy8gRGVmYXVsdCBwcmVmaXhcbiAgICAgICAgdmFyIGdvb2dsZUFwaSA9IFwidHlwZS5nb29nbGVhcGlzLmNvbS9cIjtcbiAgICAgICAgdmFyIHByZWZpeCA9IFwiXCI7XG4gICAgICAgIHZhciBuYW1lID0gXCJcIjtcblxuICAgICAgICAvLyBkZWNvZGUgdmFsdWUgaWYgcmVxdWVzdGVkIGFuZCB1bm1hcHBlZFxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmpzb24gJiYgbWVzc2FnZS50eXBlX3VybCAmJiBtZXNzYWdlLnZhbHVlKSB7XG4gICAgICAgICAgICAvLyBPbmx5IHVzZSBmdWxseSBxdWFsaWZpZWQgdHlwZSBuYW1lIGFmdGVyIHRoZSBsYXN0ICcvJ1xuICAgICAgICAgICAgbmFtZSA9IG1lc3NhZ2UudHlwZV91cmwuc3Vic3RyaW5nKG1lc3NhZ2UudHlwZV91cmwubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG4gICAgICAgICAgICAvLyBTZXBhcmF0ZSB0aGUgcHJlZml4IHVzZWRcbiAgICAgICAgICAgIHByZWZpeCA9IG1lc3NhZ2UudHlwZV91cmwuc3Vic3RyaW5nKDAsIG1lc3NhZ2UudHlwZV91cmwubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMubG9va3VwKG5hbWUpO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICh0eXBlKVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSB0eXBlLmRlY29kZShtZXNzYWdlLnZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdyYXAgdmFsdWUgaWYgdW5tYXBwZWRcbiAgICAgICAgaWYgKCEobWVzc2FnZSBpbnN0YW5jZW9mIHRoaXMuY3RvcikgJiYgbWVzc2FnZSBpbnN0YW5jZW9mIE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSBtZXNzYWdlLiR0eXBlLnRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VOYW1lID0gbWVzc2FnZS4kdHlwZS5mdWxsTmFtZVswXSA9PT0gXCIuXCIgP1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuJHR5cGUuZnVsbE5hbWUuc2xpY2UoMSkgOiBtZXNzYWdlLiR0eXBlLmZ1bGxOYW1lO1xuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byB0eXBlLmdvb2dsZWFwaXMuY29tIHByZWZpeCBpZiBubyBwcmVmaXggaXMgdXNlZFxuICAgICAgICAgICAgaWYgKHByZWZpeCA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHByZWZpeCA9IGdvb2dsZUFwaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hbWUgPSBwcmVmaXggKyBtZXNzYWdlTmFtZTtcbiAgICAgICAgICAgIG9iamVjdFtcIkB0eXBlXCJdID0gbmFtZTtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy50b09iamVjdChtZXNzYWdlLCBvcHRpb25zKTtcbiAgICB9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFR5cGU7XG5cbi8vIGV4dGVuZHMgTmFtZXNwYWNlXG52YXIgTmFtZXNwYWNlID0gcmVxdWlyZShcIi4vbmFtZXNwYWNlXCIpO1xuKChUeXBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTmFtZXNwYWNlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gVHlwZSkuY2xhc3NOYW1lID0gXCJUeXBlXCI7XG5cbnZhciBFbnVtICAgICAgPSByZXF1aXJlKFwiLi9lbnVtXCIpLFxuICAgIE9uZU9mICAgICA9IHJlcXVpcmUoXCIuL29uZW9mXCIpLFxuICAgIEZpZWxkICAgICA9IHJlcXVpcmUoXCIuL2ZpZWxkXCIpLFxuICAgIE1hcEZpZWxkICA9IHJlcXVpcmUoXCIuL21hcGZpZWxkXCIpLFxuICAgIFNlcnZpY2UgICA9IHJlcXVpcmUoXCIuL3NlcnZpY2VcIiksXG4gICAgTWVzc2FnZSAgID0gcmVxdWlyZShcIi4vbWVzc2FnZVwiKSxcbiAgICBSZWFkZXIgICAgPSByZXF1aXJlKFwiLi9yZWFkZXJcIiksXG4gICAgV3JpdGVyICAgID0gcmVxdWlyZShcIi4vd3JpdGVyXCIpLFxuICAgIHV0aWwgICAgICA9IHJlcXVpcmUoXCIuL3V0aWxcIiksXG4gICAgZW5jb2RlciAgID0gcmVxdWlyZShcIi4vZW5jb2RlclwiKSxcbiAgICBkZWNvZGVyICAgPSByZXF1aXJlKFwiLi9kZWNvZGVyXCIpLFxuICAgIHZlcmlmaWVyICA9IHJlcXVpcmUoXCIuL3ZlcmlmaWVyXCIpLFxuICAgIGNvbnZlcnRlciA9IHJlcXVpcmUoXCIuL2NvbnZlcnRlclwiKSxcbiAgICB3cmFwcGVycyAgPSByZXF1aXJlKFwiLi93cmFwcGVyc1wiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IHJlZmxlY3RlZCBtZXNzYWdlIHR5cGUgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFJlZmxlY3RlZCBtZXNzYWdlIHR5cGUuXG4gKiBAZXh0ZW5kcyBOYW1lc3BhY2VCYXNlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE1lc3NhZ2UgbmFtZVxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gW29wdGlvbnNdIERlY2xhcmVkIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gVHlwZShuYW1lLCBvcHRpb25zKSB7XG4gICAgTmFtZXNwYWNlLmNhbGwodGhpcywgbmFtZSwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBNZXNzYWdlIGZpZWxkcy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsRmllbGQ+fVxuICAgICAqL1xuICAgIHRoaXMuZmllbGRzID0ge307ICAvLyB0b0pTT04sIG1hcmtlclxuXG4gICAgLyoqXG4gICAgICogT25lb2ZzIGRlY2xhcmVkIHdpdGhpbiB0aGlzIG5hbWVzcGFjZSwgaWYgYW55LlxuICAgICAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxPbmVPZj59XG4gICAgICovXG4gICAgdGhpcy5vbmVvZnMgPSB1bmRlZmluZWQ7IC8vIHRvSlNPTlxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5zaW9uIHJhbmdlcywgaWYgYW55LlxuICAgICAqIEB0eXBlIHtudW1iZXJbXVtdfVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW5zaW9ucyA9IHVuZGVmaW5lZDsgLy8gdG9KU09OXG5cbiAgICAvKipcbiAgICAgKiBSZXNlcnZlZCByYW5nZXMsIGlmIGFueS5cbiAgICAgKiBAdHlwZSB7QXJyYXkuPG51bWJlcltdfHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5yZXNlcnZlZCA9IHVuZGVmaW5lZDsgLy8gdG9KU09OXG5cbiAgICAvKj9cbiAgICAgKiBXaGV0aGVyIHRoaXMgdHlwZSBpcyBhIGxlZ2FjeSBncm91cC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbnx1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5ncm91cCA9IHVuZGVmaW5lZDsgLy8gdG9KU09OXG5cbiAgICAvKipcbiAgICAgKiBDYWNoZWQgZmllbGRzIGJ5IGlkLlxuICAgICAqIEB0eXBlIHtPYmplY3QuPG51bWJlcixGaWVsZD58bnVsbH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZpZWxkc0J5SWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ2FjaGVkIGZpZWxkcyBhcyBhbiBhcnJheS5cbiAgICAgKiBAdHlwZSB7RmllbGRbXXxudWxsfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZmllbGRzQXJyYXkgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ2FjaGVkIG9uZW9mcyBhcyBhbiBhcnJheS5cbiAgICAgKiBAdHlwZSB7T25lT2ZbXXxudWxsfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fb25lb2ZzQXJyYXkgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ2FjaGVkIGNvbnN0cnVjdG9yLlxuICAgICAqIEB0eXBlIHtDb25zdHJ1Y3Rvcjx7fT59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9jdG9yID0gbnVsbDtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVHlwZS5wcm90b3R5cGUsIHtcblxuICAgIC8qKlxuICAgICAqIE1lc3NhZ2UgZmllbGRzIGJ5IGlkLlxuICAgICAqIEBuYW1lIFR5cGUjZmllbGRzQnlJZFxuICAgICAqIEB0eXBlIHtPYmplY3QuPG51bWJlcixGaWVsZD59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgZmllbGRzQnlJZDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLl9maWVsZHNCeUlkKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9maWVsZHNCeUlkO1xuXG4gICAgICAgICAgICB0aGlzLl9maWVsZHNCeUlkID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBuYW1lcyA9IE9iamVjdC5rZXlzKHRoaXMuZmllbGRzKSwgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGRzW25hbWVzW2ldXSxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBmaWVsZC5pZDtcblxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9maWVsZHNCeUlkW2lkXSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgaWQgXCIgKyBpZCArIFwiIGluIFwiICsgdGhpcyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9maWVsZHNCeUlkW2lkXSA9IGZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpZWxkc0J5SWQ7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmllbGRzIG9mIHRoaXMgbWVzc2FnZSBhcyBhbiBhcnJheSBmb3IgaXRlcmF0aW9uLlxuICAgICAqIEBuYW1lIFR5cGUjZmllbGRzQXJyYXlcbiAgICAgKiBAdHlwZSB7RmllbGRbXX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBmaWVsZHNBcnJheToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZpZWxkc0FycmF5IHx8ICh0aGlzLl9maWVsZHNBcnJheSA9IHV0aWwudG9BcnJheSh0aGlzLmZpZWxkcykpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE9uZW9mcyBvZiB0aGlzIG1lc3NhZ2UgYXMgYW4gYXJyYXkgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAbmFtZSBUeXBlI29uZW9mc0FycmF5XG4gICAgICogQHR5cGUge09uZU9mW119XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgb25lb2ZzQXJyYXk6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbmVvZnNBcnJheSB8fCAodGhpcy5fb25lb2ZzQXJyYXkgPSB1dGlsLnRvQXJyYXkodGhpcy5vbmVvZnMpKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVnaXN0ZXJlZCBjb25zdHJ1Y3RvciwgaWYgYW55IHJlZ2lzdGVyZWQsIG90aGVyd2lzZSBhIGdlbmVyaWMgY29uc3RydWN0b3IuXG4gICAgICogQXNzaWduaW5nIGEgZnVuY3Rpb24gcmVwbGFjZXMgdGhlIGludGVybmFsIGNvbnN0cnVjdG9yLiBJZiB0aGUgZnVuY3Rpb24gZG9lcyBub3QgZXh0ZW5kIHtAbGluayBNZXNzYWdlfSB5ZXQsIGl0cyBwcm90b3R5cGUgd2lsbCBiZSBzZXR1cCBhY2NvcmRpbmdseSBhbmQgc3RhdGljIG1ldGhvZHMgd2lsbCBiZSBwb3B1bGF0ZWQuIElmIGl0IGFscmVhZHkgZXh0ZW5kcyB7QGxpbmsgTWVzc2FnZX0sIGl0IHdpbGwganVzdCByZXBsYWNlIHRoZSBpbnRlcm5hbCBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAbmFtZSBUeXBlI2N0b3JcbiAgICAgKiBAdHlwZSB7Q29uc3RydWN0b3I8e30+fVxuICAgICAqL1xuICAgIGN0b3I6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jdG9yIHx8ICh0aGlzLmN0b3IgPSBUeXBlLmdlbmVyYXRlQ29uc3RydWN0b3IodGhpcykoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oY3Rvcikge1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgcHJvcGVyIHByb3RvdHlwZVxuICAgICAgICAgICAgdmFyIHByb3RvdHlwZSA9IGN0b3IucHJvdG90eXBlO1xuICAgICAgICAgICAgaWYgKCEocHJvdG90eXBlIGluc3RhbmNlb2YgTWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAoY3Rvci5wcm90b3R5cGUgPSBuZXcgTWVzc2FnZSgpKS5jb25zdHJ1Y3RvciA9IGN0b3I7XG4gICAgICAgICAgICAgICAgdXRpbC5tZXJnZShjdG9yLnByb3RvdHlwZSwgcHJvdG90eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ2xhc3NlcyBhbmQgbWVzc2FnZXMgcmVmZXJlbmNlIHRoZWlyIHJlZmxlY3RlZCB0eXBlXG4gICAgICAgICAgICBjdG9yLiR0eXBlID0gY3Rvci5wcm90b3R5cGUuJHR5cGUgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBNaXggaW4gc3RhdGljIG1ldGhvZHNcbiAgICAgICAgICAgIHV0aWwubWVyZ2UoY3RvciwgTWVzc2FnZSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuX2N0b3IgPSBjdG9yO1xuXG4gICAgICAgICAgICAvLyBNZXNzYWdlcyBoYXZlIG5vbi1lbnVtZXJhYmxlIGRlZmF1bHQgdmFsdWVzIG9uIHRoZWlyIHByb3RvdHlwZVxuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yICg7IGkgPCAvKiBpbml0aWFsaXplcyAqLyB0aGlzLmZpZWxkc0FycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpZWxkc0FycmF5W2ldLnJlc29sdmUoKTsgLy8gZW5zdXJlcyBhIHByb3BlciB2YWx1ZVxuXG4gICAgICAgICAgICAvLyBNZXNzYWdlcyBoYXZlIG5vbi1lbnVtZXJhYmxlIGdldHRlcnMgYW5kIHNldHRlcnMgZm9yIGVhY2ggdmlydHVhbCBvbmVvZiBmaWVsZFxuICAgICAgICAgICAgdmFyIGN0b3JQcm9wZXJ0aWVzID0ge307XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgLyogaW5pdGlhbGl6ZXMgKi8gdGhpcy5vbmVvZnNBcnJheS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICBjdG9yUHJvcGVydGllc1t0aGlzLl9vbmVvZnNBcnJheVtpXS5yZXNvbHZlKCkubmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIGdldDogdXRpbC5vbmVPZkdldHRlcih0aGlzLl9vbmVvZnNBcnJheVtpXS5vbmVvZiksXG4gICAgICAgICAgICAgICAgICAgIHNldDogdXRpbC5vbmVPZlNldHRlcih0aGlzLl9vbmVvZnNBcnJheVtpXS5vbmVvZilcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGkpXG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY3Rvci5wcm90b3R5cGUsIGN0b3JQcm9wZXJ0aWVzKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGZvciB0aGUgc3BlY2lmaWVkIHR5cGUuXG4gKiBAcGFyYW0ge1R5cGV9IG10eXBlIE1lc3NhZ2UgdHlwZVxuICogQHJldHVybnMge0NvZGVnZW59IENvZGVnZW4gaW5zdGFuY2VcbiAqL1xuVHlwZS5nZW5lcmF0ZUNvbnN0cnVjdG9yID0gZnVuY3Rpb24gZ2VuZXJhdGVDb25zdHJ1Y3RvcihtdHlwZSkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lICovXG4gICAgdmFyIGdlbiA9IHV0aWwuY29kZWdlbihbXCJwXCJdLCBtdHlwZS5uYW1lKTtcbiAgICAvLyBleHBsaWNpdGx5IGluaXRpYWxpemUgbXV0YWJsZSBvYmplY3QvYXJyYXkgZmllbGRzIHNvIHRoYXQgdGhlc2UgYXJlbid0IGp1c3QgaW5oZXJpdGVkIGZyb20gdGhlIHByb3RvdHlwZVxuICAgIGZvciAodmFyIGkgPSAwLCBmaWVsZDsgaSA8IG10eXBlLmZpZWxkc0FycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAoKGZpZWxkID0gbXR5cGUuX2ZpZWxkc0FycmF5W2ldKS5tYXApIGdlblxuICAgICAgICAgICAgKFwidGhpcyVzPXt9XCIsIHV0aWwuc2FmZVByb3AoZmllbGQubmFtZSkpO1xuICAgICAgICBlbHNlIGlmIChmaWVsZC5yZXBlYXRlZCkgZ2VuXG4gICAgICAgICAgICAoXCJ0aGlzJXM9W11cIiwgdXRpbC5zYWZlUHJvcChmaWVsZC5uYW1lKSk7XG4gICAgcmV0dXJuIGdlblxuICAgIChcImlmKHApZm9yKHZhciBrcz1PYmplY3Qua2V5cyhwKSxpPTA7aTxrcy5sZW5ndGg7KytpKWlmKHBba3NbaV1dIT1udWxsKVwiKSAvLyBvbWl0IHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgIChcInRoaXNba3NbaV1dPXBba3NbaV1dXCIpO1xuICAgIC8qIGVzbGludC1lbmFibGUgbm8tdW5leHBlY3RlZC1tdWx0aWxpbmUgKi9cbn07XG5cbmZ1bmN0aW9uIGNsZWFyQ2FjaGUodHlwZSkge1xuICAgIHR5cGUuX2ZpZWxkc0J5SWQgPSB0eXBlLl9maWVsZHNBcnJheSA9IHR5cGUuX29uZW9mc0FycmF5ID0gbnVsbDtcbiAgICBkZWxldGUgdHlwZS5lbmNvZGU7XG4gICAgZGVsZXRlIHR5cGUuZGVjb2RlO1xuICAgIGRlbGV0ZSB0eXBlLnZlcmlmeTtcbiAgICByZXR1cm4gdHlwZTtcbn1cblxuLyoqXG4gKiBNZXNzYWdlIHR5cGUgZGVzY3JpcHRvci5cbiAqIEBpbnRlcmZhY2UgSVR5cGVcbiAqIEBleHRlbmRzIElOYW1lc3BhY2VcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsSU9uZU9mPn0gW29uZW9mc10gT25lb2YgZGVzY3JpcHRvcnNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsSUZpZWxkPn0gZmllbGRzIEZpZWxkIGRlc2NyaXB0b3JzXG4gKiBAcHJvcGVydHkge251bWJlcltdW119IFtleHRlbnNpb25zXSBFeHRlbnNpb24gcmFuZ2VzXG4gKiBAcHJvcGVydHkge0FycmF5LjxudW1iZXJbXXxzdHJpbmc+fSBbcmVzZXJ2ZWRdIFJlc2VydmVkIHJhbmdlc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbZ3JvdXA9ZmFsc2VdIFdoZXRoZXIgYSBsZWdhY3kgZ3JvdXAgb3Igbm90XG4gKi9cblxuLyoqXG4gKiBDcmVhdGVzIGEgbWVzc2FnZSB0eXBlIGZyb20gYSBtZXNzYWdlIHR5cGUgZGVzY3JpcHRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE1lc3NhZ2UgbmFtZVxuICogQHBhcmFtIHtJVHlwZX0ganNvbiBNZXNzYWdlIHR5cGUgZGVzY3JpcHRvclxuICogQHJldHVybnMge1R5cGV9IENyZWF0ZWQgbWVzc2FnZSB0eXBlXG4gKi9cblR5cGUuZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTihuYW1lLCBqc29uKSB7XG4gICAgdmFyIHR5cGUgPSBuZXcgVHlwZShuYW1lLCBqc29uLm9wdGlvbnMpO1xuICAgIHR5cGUuZXh0ZW5zaW9ucyA9IGpzb24uZXh0ZW5zaW9ucztcbiAgICB0eXBlLnJlc2VydmVkID0ganNvbi5yZXNlcnZlZDtcbiAgICB2YXIgbmFtZXMgPSBPYmplY3Qua2V5cyhqc29uLmZpZWxkcyksXG4gICAgICAgIGkgPSAwO1xuICAgIGZvciAoOyBpIDwgbmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHR5cGUuYWRkKFxuICAgICAgICAgICAgKCB0eXBlb2YganNvbi5maWVsZHNbbmFtZXNbaV1dLmtleVR5cGUgIT09IFwidW5kZWZpbmVkXCJcbiAgICAgICAgICAgID8gTWFwRmllbGQuZnJvbUpTT05cbiAgICAgICAgICAgIDogRmllbGQuZnJvbUpTT04gKShuYW1lc1tpXSwganNvbi5maWVsZHNbbmFtZXNbaV1dKVxuICAgICAgICApO1xuICAgIGlmIChqc29uLm9uZW9mcylcbiAgICAgICAgZm9yIChuYW1lcyA9IE9iamVjdC5rZXlzKGpzb24ub25lb2ZzKSwgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHR5cGUuYWRkKE9uZU9mLmZyb21KU09OKG5hbWVzW2ldLCBqc29uLm9uZW9mc1tuYW1lc1tpXV0pKTtcbiAgICBpZiAoanNvbi5uZXN0ZWQpXG4gICAgICAgIGZvciAobmFtZXMgPSBPYmplY3Qua2V5cyhqc29uLm5lc3RlZCksIGkgPSAwOyBpIDwgbmFtZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBuZXN0ZWQgPSBqc29uLm5lc3RlZFtuYW1lc1tpXV07XG4gICAgICAgICAgICB0eXBlLmFkZCggLy8gbW9zdCB0byBsZWFzdCBsaWtlbHlcbiAgICAgICAgICAgICAgICAoIG5lc3RlZC5pZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBGaWVsZC5mcm9tSlNPTlxuICAgICAgICAgICAgICAgIDogbmVzdGVkLmZpZWxkcyAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBUeXBlLmZyb21KU09OXG4gICAgICAgICAgICAgICAgOiBuZXN0ZWQudmFsdWVzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IEVudW0uZnJvbUpTT05cbiAgICAgICAgICAgICAgICA6IG5lc3RlZC5tZXRob2RzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IFNlcnZpY2UuZnJvbUpTT05cbiAgICAgICAgICAgICAgICA6IE5hbWVzcGFjZS5mcm9tSlNPTiApKG5hbWVzW2ldLCBuZXN0ZWQpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgaWYgKGpzb24uZXh0ZW5zaW9ucyAmJiBqc29uLmV4dGVuc2lvbnMubGVuZ3RoKVxuICAgICAgICB0eXBlLmV4dGVuc2lvbnMgPSBqc29uLmV4dGVuc2lvbnM7XG4gICAgaWYgKGpzb24ucmVzZXJ2ZWQgJiYganNvbi5yZXNlcnZlZC5sZW5ndGgpXG4gICAgICAgIHR5cGUucmVzZXJ2ZWQgPSBqc29uLnJlc2VydmVkO1xuICAgIGlmIChqc29uLmdyb3VwKVxuICAgICAgICB0eXBlLmdyb3VwID0gdHJ1ZTtcbiAgICBpZiAoanNvbi5jb21tZW50KVxuICAgICAgICB0eXBlLmNvbW1lbnQgPSBqc29uLmNvbW1lbnQ7XG4gICAgaWYgKGpzb24uZWRpdGlvbilcbiAgICAgICAgdHlwZS5fZWRpdGlvbiA9IGpzb24uZWRpdGlvbjtcbiAgICB0eXBlLl9kZWZhdWx0RWRpdGlvbiA9IFwicHJvdG8zXCI7ICAvLyBGb3IgYmFja3dhcmRzLWNvbXBhdGliaWxpdHkuXG4gICAgcmV0dXJuIHR5cGU7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgbWVzc2FnZSB0eXBlIHRvIGEgbWVzc2FnZSB0eXBlIGRlc2NyaXB0b3IuXG4gKiBAcGFyYW0ge0lUb0pTT05PcHRpb25zfSBbdG9KU09OT3B0aW9uc10gSlNPTiBjb252ZXJzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtJVHlwZX0gTWVzc2FnZSB0eXBlIGRlc2NyaXB0b3JcbiAqL1xuVHlwZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKHRvSlNPTk9wdGlvbnMpIHtcbiAgICB2YXIgaW5oZXJpdGVkID0gTmFtZXNwYWNlLnByb3RvdHlwZS50b0pTT04uY2FsbCh0aGlzLCB0b0pTT05PcHRpb25zKTtcbiAgICB2YXIga2VlcENvbW1lbnRzID0gdG9KU09OT3B0aW9ucyA/IEJvb2xlYW4odG9KU09OT3B0aW9ucy5rZWVwQ29tbWVudHMpIDogZmFsc2U7XG4gICAgcmV0dXJuIHV0aWwudG9PYmplY3QoW1xuICAgICAgICBcImVkaXRpb25cIiAgICAsIHRoaXMuX2VkaXRpb25Ub0pTT04oKSxcbiAgICAgICAgXCJvcHRpb25zXCIgICAgLCBpbmhlcml0ZWQgJiYgaW5oZXJpdGVkLm9wdGlvbnMgfHwgdW5kZWZpbmVkLFxuICAgICAgICBcIm9uZW9mc1wiICAgICAsIE5hbWVzcGFjZS5hcnJheVRvSlNPTih0aGlzLm9uZW9mc0FycmF5LCB0b0pTT05PcHRpb25zKSxcbiAgICAgICAgXCJmaWVsZHNcIiAgICAgLCBOYW1lc3BhY2UuYXJyYXlUb0pTT04odGhpcy5maWVsZHNBcnJheS5maWx0ZXIoZnVuY3Rpb24ob2JqKSB7IHJldHVybiAhb2JqLmRlY2xhcmluZ0ZpZWxkOyB9KSwgdG9KU09OT3B0aW9ucykgfHwge30sXG4gICAgICAgIFwiZXh0ZW5zaW9uc1wiICwgdGhpcy5leHRlbnNpb25zICYmIHRoaXMuZXh0ZW5zaW9ucy5sZW5ndGggPyB0aGlzLmV4dGVuc2lvbnMgOiB1bmRlZmluZWQsXG4gICAgICAgIFwicmVzZXJ2ZWRcIiAgICwgdGhpcy5yZXNlcnZlZCAmJiB0aGlzLnJlc2VydmVkLmxlbmd0aCA/IHRoaXMucmVzZXJ2ZWQgOiB1bmRlZmluZWQsXG4gICAgICAgIFwiZ3JvdXBcIiAgICAgICwgdGhpcy5ncm91cCB8fCB1bmRlZmluZWQsXG4gICAgICAgIFwibmVzdGVkXCIgICAgICwgaW5oZXJpdGVkICYmIGluaGVyaXRlZC5uZXN0ZWQgfHwgdW5kZWZpbmVkLFxuICAgICAgICBcImNvbW1lbnRcIiAgICAsIGtlZXBDb21tZW50cyA/IHRoaXMuY29tbWVudCA6IHVuZGVmaW5lZFxuICAgIF0pO1xufTtcblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuVHlwZS5wcm90b3R5cGUucmVzb2x2ZUFsbCA9IGZ1bmN0aW9uIHJlc29sdmVBbGwoKSB7XG4gICAgaWYgKCF0aGlzLl9uZWVkc1JlY3Vyc2l2ZVJlc29sdmUpIHJldHVybiB0aGlzO1xuXG4gICAgTmFtZXNwYWNlLnByb3RvdHlwZS5yZXNvbHZlQWxsLmNhbGwodGhpcyk7XG4gICAgdmFyIG9uZW9mcyA9IHRoaXMub25lb2ZzQXJyYXk7IGkgPSAwO1xuICAgIHdoaWxlIChpIDwgb25lb2ZzLmxlbmd0aClcbiAgICAgICAgb25lb2ZzW2krK10ucmVzb2x2ZSgpO1xuICAgIHZhciBmaWVsZHMgPSB0aGlzLmZpZWxkc0FycmF5LCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGZpZWxkcy5sZW5ndGgpXG4gICAgICAgIGZpZWxkc1tpKytdLnJlc29sdmUoKTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cblR5cGUucHJvdG90eXBlLl9yZXNvbHZlRmVhdHVyZXNSZWN1cnNpdmUgPSBmdW5jdGlvbiBfcmVzb2x2ZUZlYXR1cmVzUmVjdXJzaXZlKGVkaXRpb24pIHtcbiAgICBpZiAoIXRoaXMuX25lZWRzUmVjdXJzaXZlRmVhdHVyZVJlc29sdXRpb24pIHJldHVybiB0aGlzO1xuXG4gICAgZWRpdGlvbiA9IHRoaXMuX2VkaXRpb24gfHwgZWRpdGlvbjtcblxuICAgIE5hbWVzcGFjZS5wcm90b3R5cGUuX3Jlc29sdmVGZWF0dXJlc1JlY3Vyc2l2ZS5jYWxsKHRoaXMsIGVkaXRpb24pO1xuICAgIHRoaXMub25lb2ZzQXJyYXkuZm9yRWFjaChvbmVvZiA9PiB7XG4gICAgICAgIG9uZW9mLl9yZXNvbHZlRmVhdHVyZXMoZWRpdGlvbik7XG4gICAgfSk7XG4gICAgdGhpcy5maWVsZHNBcnJheS5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgICAgZmllbGQuX3Jlc29sdmVGZWF0dXJlcyhlZGl0aW9uKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cblR5cGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuZmllbGRzW25hbWVdXG4gICAgICAgIHx8IHRoaXMub25lb2ZzICYmIHRoaXMub25lb2ZzW25hbWVdXG4gICAgICAgIHx8IHRoaXMubmVzdGVkICYmIHRoaXMubmVzdGVkW25hbWVdXG4gICAgICAgIHx8IG51bGw7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBuZXN0ZWQgb2JqZWN0IHRvIHRoaXMgdHlwZS5cbiAqIEBwYXJhbSB7UmVmbGVjdGlvbk9iamVjdH0gb2JqZWN0IE5lc3RlZCBvYmplY3QgdG8gYWRkXG4gKiBAcmV0dXJucyB7VHlwZX0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGFyZ3VtZW50cyBhcmUgaW52YWxpZFxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIGlzIGFscmVhZHkgYSBuZXN0ZWQgb2JqZWN0IHdpdGggdGhpcyBuYW1lIG9yLCBpZiBhIGZpZWxkLCB3aGVuIHRoZXJlIGlzIGFscmVhZHkgYSBmaWVsZCB3aXRoIHRoaXMgaWRcbiAqL1xuVHlwZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKG9iamVjdCkge1xuXG4gICAgaWYgKHRoaXMuZ2V0KG9iamVjdC5uYW1lKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgbmFtZSAnXCIgKyBvYmplY3QubmFtZSArIFwiJyBpbiBcIiArIHRoaXMpO1xuXG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEZpZWxkICYmIG9iamVjdC5leHRlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBOT1RFOiBFeHRlbnNpb24gZmllbGRzIGFyZW4ndCBhY3R1YWwgZmllbGRzIG9uIHRoZSBkZWNsYXJpbmcgdHlwZSwgYnV0IG5lc3RlZCBvYmplY3RzLlxuICAgICAgICAvLyBUaGUgcm9vdCBvYmplY3QgdGFrZXMgY2FyZSBvZiBhZGRpbmcgZGlzdGluY3Qgc2lzdGVyLWZpZWxkcyB0byB0aGUgcmVzcGVjdGl2ZSBleHRlbmRlZFxuICAgICAgICAvLyB0eXBlIGluc3RlYWQuXG5cbiAgICAgICAgLy8gYXZvaWRzIGNhbGxpbmcgdGhlIGdldHRlciBpZiBub3QgYWJzb2x1dGVseSBuZWNlc3NhcnkgYmVjYXVzZSBpdCdzIGNhbGxlZCBxdWl0ZSBmcmVxdWVudGx5XG4gICAgICAgIGlmICh0aGlzLl9maWVsZHNCeUlkID8gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gdGhpcy5fZmllbGRzQnlJZFtvYmplY3QuaWRdIDogdGhpcy5maWVsZHNCeUlkW29iamVjdC5pZF0pXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcImR1cGxpY2F0ZSBpZCBcIiArIG9iamVjdC5pZCArIFwiIGluIFwiICsgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmlzUmVzZXJ2ZWRJZChvYmplY3QuaWQpKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJpZCBcIiArIG9iamVjdC5pZCArIFwiIGlzIHJlc2VydmVkIGluIFwiICsgdGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmlzUmVzZXJ2ZWROYW1lKG9iamVjdC5uYW1lKSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibmFtZSAnXCIgKyBvYmplY3QubmFtZSArIFwiJyBpcyByZXNlcnZlZCBpbiBcIiArIHRoaXMpO1xuXG4gICAgICAgIGlmIChvYmplY3QucGFyZW50KVxuICAgICAgICAgICAgb2JqZWN0LnBhcmVudC5yZW1vdmUob2JqZWN0KTtcbiAgICAgICAgdGhpcy5maWVsZHNbb2JqZWN0Lm5hbWVdID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QubWVzc2FnZSA9IHRoaXM7XG4gICAgICAgIG9iamVjdC5vbkFkZCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGNsZWFyQ2FjaGUodGhpcyk7XG4gICAgfVxuICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBPbmVPZikge1xuICAgICAgICBpZiAoIXRoaXMub25lb2ZzKVxuICAgICAgICAgICAgdGhpcy5vbmVvZnMgPSB7fTtcbiAgICAgICAgdGhpcy5vbmVvZnNbb2JqZWN0Lm5hbWVdID0gb2JqZWN0O1xuICAgICAgICBvYmplY3Qub25BZGQodGhpcyk7XG4gICAgICAgIHJldHVybiBjbGVhckNhY2hlKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gTmFtZXNwYWNlLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLCBvYmplY3QpO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGEgbmVzdGVkIG9iamVjdCBmcm9tIHRoaXMgdHlwZS5cbiAqIEBwYXJhbSB7UmVmbGVjdGlvbk9iamVjdH0gb2JqZWN0IE5lc3RlZCBvYmplY3QgdG8gcmVtb3ZlXG4gKiBAcmV0dXJucyB7VHlwZX0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGFyZ3VtZW50cyBhcmUgaW52YWxpZFxuICogQHRocm93cyB7RXJyb3J9IElmIGBvYmplY3RgIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHR5cGVcbiAqL1xuVHlwZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG9iamVjdCkge1xuICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBGaWVsZCAmJiBvYmplY3QuZXh0ZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gU2VlIFR5cGUjYWRkIGZvciB0aGUgcmVhc29uIHdoeSBleHRlbnNpb24gZmllbGRzIGFyZSBleGNsdWRlZCBoZXJlLlxuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIXRoaXMuZmllbGRzIHx8IHRoaXMuZmllbGRzW29iamVjdC5uYW1lXSAhPT0gb2JqZWN0KVxuICAgICAgICAgICAgdGhyb3cgRXJyb3Iob2JqZWN0ICsgXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiICsgdGhpcyk7XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuZmllbGRzW29iamVjdC5uYW1lXTtcbiAgICAgICAgb2JqZWN0LnBhcmVudCA9IG51bGw7XG4gICAgICAgIG9iamVjdC5vblJlbW92ZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGNsZWFyQ2FjaGUodGhpcyk7XG4gICAgfVxuICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBPbmVPZikge1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIXRoaXMub25lb2ZzIHx8IHRoaXMub25lb2ZzW29iamVjdC5uYW1lXSAhPT0gb2JqZWN0KVxuICAgICAgICAgICAgdGhyb3cgRXJyb3Iob2JqZWN0ICsgXCIgaXMgbm90IGEgbWVtYmVyIG9mIFwiICsgdGhpcyk7XG5cbiAgICAgICAgZGVsZXRlIHRoaXMub25lb2ZzW29iamVjdC5uYW1lXTtcbiAgICAgICAgb2JqZWN0LnBhcmVudCA9IG51bGw7XG4gICAgICAgIG9iamVjdC5vblJlbW92ZSh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGNsZWFyQ2FjaGUodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBOYW1lc3BhY2UucHJvdG90eXBlLnJlbW92ZS5jYWxsKHRoaXMsIG9iamVjdCk7XG59O1xuXG4vKipcbiAqIFRlc3RzIGlmIHRoZSBzcGVjaWZpZWQgaWQgaXMgcmVzZXJ2ZWQuXG4gKiBAcGFyYW0ge251bWJlcn0gaWQgSWQgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiByZXNlcnZlZCwgb3RoZXJ3aXNlIGBmYWxzZWBcbiAqL1xuVHlwZS5wcm90b3R5cGUuaXNSZXNlcnZlZElkID0gZnVuY3Rpb24gaXNSZXNlcnZlZElkKGlkKSB7XG4gICAgcmV0dXJuIE5hbWVzcGFjZS5pc1Jlc2VydmVkSWQodGhpcy5yZXNlcnZlZCwgaWQpO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIG5hbWUgaXMgcmVzZXJ2ZWQuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgcmVzZXJ2ZWQsIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cblR5cGUucHJvdG90eXBlLmlzUmVzZXJ2ZWROYW1lID0gZnVuY3Rpb24gaXNSZXNlcnZlZE5hbWUobmFtZSkge1xuICAgIHJldHVybiBOYW1lc3BhY2UuaXNSZXNlcnZlZE5hbWUodGhpcy5yZXNlcnZlZCwgbmFtZSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWVzc2FnZSBvZiB0aGlzIHR5cGUgdXNpbmcgdGhlIHNwZWNpZmllZCBwcm9wZXJ0aWVzLlxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gW3Byb3BlcnRpZXNdIFByb3BlcnRpZXMgdG8gc2V0XG4gKiBAcmV0dXJucyB7TWVzc2FnZTx7fT59IE1lc3NhZ2UgaW5zdGFuY2VcbiAqL1xuVHlwZS5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKHByb3BlcnRpZXMpIHtcbiAgICByZXR1cm4gbmV3IHRoaXMuY3Rvcihwcm9wZXJ0aWVzKTtcbn07XG5cbi8qKlxuICogU2V0cyB1cCB7QGxpbmsgVHlwZSNlbmNvZGV8ZW5jb2RlfSwge0BsaW5rIFR5cGUjZGVjb2RlfGRlY29kZX0gYW5kIHtAbGluayBUeXBlI3ZlcmlmeXx2ZXJpZnl9LlxuICogQHJldHVybnMge1R5cGV9IGB0aGlzYFxuICovXG5UeXBlLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIC8vIFNldHMgdXAgZXZlcnl0aGluZyBhdCBvbmNlIHNvIHRoYXQgdGhlIHByb3RvdHlwZSBjaGFpbiBkb2VzIG5vdCBoYXZlIHRvIGJlIHJlLWV2YWx1YXRlZFxuICAgIC8vIG11bHRpcGxlIHRpbWVzIChWOCwgc29mdC1kZW9wdCBwcm90b3R5cGUtY2hlY2spLlxuXG4gICAgdmFyIGZ1bGxOYW1lID0gdGhpcy5mdWxsTmFtZSxcbiAgICAgICAgdHlwZXMgICAgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IC8qIGluaXRpYWxpemVzICovIHRoaXMuZmllbGRzQXJyYXkubGVuZ3RoOyArK2kpXG4gICAgICAgIHR5cGVzLnB1c2godGhpcy5fZmllbGRzQXJyYXlbaV0ucmVzb2x2ZSgpLnJlc29sdmVkVHlwZSk7XG5cbiAgICAvLyBSZXBsYWNlIHNldHVwIG1ldGhvZHMgd2l0aCB0eXBlLXNwZWNpZmljIGdlbmVyYXRlZCBmdW5jdGlvbnNcbiAgICB0aGlzLmVuY29kZSA9IGVuY29kZXIodGhpcykoe1xuICAgICAgICBXcml0ZXIgOiBXcml0ZXIsXG4gICAgICAgIHR5cGVzICA6IHR5cGVzLFxuICAgICAgICB1dGlsICAgOiB1dGlsXG4gICAgfSk7XG4gICAgdGhpcy5kZWNvZGUgPSBkZWNvZGVyKHRoaXMpKHtcbiAgICAgICAgUmVhZGVyIDogUmVhZGVyLFxuICAgICAgICB0eXBlcyAgOiB0eXBlcyxcbiAgICAgICAgdXRpbCAgIDogdXRpbFxuICAgIH0pO1xuICAgIHRoaXMudmVyaWZ5ID0gdmVyaWZpZXIodGhpcykoe1xuICAgICAgICB0eXBlcyA6IHR5cGVzLFxuICAgICAgICB1dGlsICA6IHV0aWxcbiAgICB9KTtcbiAgICB0aGlzLmZyb21PYmplY3QgPSBjb252ZXJ0ZXIuZnJvbU9iamVjdCh0aGlzKSh7XG4gICAgICAgIHR5cGVzIDogdHlwZXMsXG4gICAgICAgIHV0aWwgIDogdXRpbFxuICAgIH0pO1xuICAgIHRoaXMudG9PYmplY3QgPSBjb252ZXJ0ZXIudG9PYmplY3QodGhpcykoe1xuICAgICAgICB0eXBlcyA6IHR5cGVzLFxuICAgICAgICB1dGlsICA6IHV0aWxcbiAgICB9KTtcblxuICAgIC8vIEluamVjdCBjdXN0b20gd3JhcHBlcnMgZm9yIGNvbW1vbiB0eXBlc1xuICAgIHZhciB3cmFwcGVyID0gd3JhcHBlcnNbZnVsbE5hbWVdO1xuICAgIGlmICh3cmFwcGVyKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFRoaXMgPSBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgICAgICAvLyBpZiAod3JhcHBlci5mcm9tT2JqZWN0KSB7XG4gICAgICAgICAgICBvcmlnaW5hbFRoaXMuZnJvbU9iamVjdCA9IHRoaXMuZnJvbU9iamVjdDtcbiAgICAgICAgICAgIHRoaXMuZnJvbU9iamVjdCA9IHdyYXBwZXIuZnJvbU9iamVjdC5iaW5kKG9yaWdpbmFsVGhpcyk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gaWYgKHdyYXBwZXIudG9PYmplY3QpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsVGhpcy50b09iamVjdCA9IHRoaXMudG9PYmplY3Q7XG4gICAgICAgICAgICB0aGlzLnRvT2JqZWN0ID0gd3JhcHBlci50b09iamVjdC5iaW5kKG9yaWdpbmFsVGhpcyk7XG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW5jb2RlcyBhIG1lc3NhZ2Ugb2YgdGhpcyB0eXBlLiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBUeXBlI3ZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICogQHBhcmFtIHtNZXNzYWdlPHt9PnxPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBNZXNzYWdlIGluc3RhbmNlIG9yIHBsYWluIG9iamVjdFxuICogQHBhcmFtIHtXcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IHdyaXRlclxuICovXG5UeXBlLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGVfc2V0dXAobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0dXAoKS5lbmNvZGUobWVzc2FnZSwgd3JpdGVyKTsgLy8gb3ZlcnJpZGVzIHRoaXMgbWV0aG9kXG59O1xuXG4vKipcbiAqIEVuY29kZXMgYSBtZXNzYWdlIG9mIHRoaXMgdHlwZSBwcmVjZWVkZWQgYnkgaXRzIGJ5dGUgbGVuZ3RoIGFzIGEgdmFyaW50LiBEb2VzIG5vdCBpbXBsaWNpdGx5IHtAbGluayBUeXBlI3ZlcmlmeXx2ZXJpZnl9IG1lc3NhZ2VzLlxuICogQHBhcmFtIHtNZXNzYWdlPHt9PnxPYmplY3QuPHN0cmluZywqPn0gbWVzc2FnZSBNZXNzYWdlIGluc3RhbmNlIG9yIHBsYWluIG9iamVjdFxuICogQHBhcmFtIHtXcml0ZXJ9IFt3cml0ZXJdIFdyaXRlciB0byBlbmNvZGUgdG9cbiAqIEByZXR1cm5zIHtXcml0ZXJ9IHdyaXRlclxuICovXG5UeXBlLnByb3RvdHlwZS5lbmNvZGVEZWxpbWl0ZWQgPSBmdW5jdGlvbiBlbmNvZGVEZWxpbWl0ZWQobWVzc2FnZSwgd3JpdGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5jb2RlKG1lc3NhZ2UsIHdyaXRlciAmJiB3cml0ZXIubGVuID8gd3JpdGVyLmZvcmsoKSA6IHdyaXRlcikubGRlbGltKCk7XG59O1xuXG4vKipcbiAqIERlY29kZXMgYSBtZXNzYWdlIG9mIHRoaXMgdHlwZS5cbiAqIEBwYXJhbSB7UmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gKiBAcGFyYW0ge251bWJlcn0gW2xlbmd0aF0gTGVuZ3RoIG9mIHRoZSBtZXNzYWdlLCBpZiBrbm93biBiZWZvcmVoYW5kXG4gKiBAcmV0dXJucyB7TWVzc2FnZTx7fT59IERlY29kZWQgbWVzc2FnZVxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAqIEB0aHJvd3Mge3V0aWwuUHJvdG9jb2xFcnJvcjx7fT59IElmIHJlcXVpcmVkIGZpZWxkcyBhcmUgbWlzc2luZ1xuICovXG5UeXBlLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiBkZWNvZGVfc2V0dXAocmVhZGVyLCBsZW5ndGgpIHtcbiAgICByZXR1cm4gdGhpcy5zZXR1cCgpLmRlY29kZShyZWFkZXIsIGxlbmd0aCk7IC8vIG92ZXJyaWRlcyB0aGlzIG1ldGhvZFxufTtcblxuLyoqXG4gKiBEZWNvZGVzIGEgbWVzc2FnZSBvZiB0aGlzIHR5cGUgcHJlY2VlZGVkIGJ5IGl0cyBieXRlIGxlbmd0aCBhcyBhIHZhcmludC5cbiAqIEBwYXJhbSB7UmVhZGVyfFVpbnQ4QXJyYXl9IHJlYWRlciBSZWFkZXIgb3IgYnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gKiBAcmV0dXJucyB7TWVzc2FnZTx7fT59IERlY29kZWQgbWVzc2FnZVxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZSBwYXlsb2FkIGlzIG5vdCBhIHJlYWRlciBvciB2YWxpZCBidWZmZXJcbiAqIEB0aHJvd3Mge3V0aWwuUHJvdG9jb2xFcnJvcn0gSWYgcmVxdWlyZWQgZmllbGRzIGFyZSBtaXNzaW5nXG4gKi9cblR5cGUucHJvdG90eXBlLmRlY29kZURlbGltaXRlZCA9IGZ1bmN0aW9uIGRlY29kZURlbGltaXRlZChyZWFkZXIpIHtcbiAgICBpZiAoIShyZWFkZXIgaW5zdGFuY2VvZiBSZWFkZXIpKVxuICAgICAgICByZWFkZXIgPSBSZWFkZXIuY3JlYXRlKHJlYWRlcik7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2RlKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpKTtcbn07XG5cbi8qKlxuICogVmVyaWZpZXMgdGhhdCBmaWVsZCB2YWx1ZXMgYXJlIHZhbGlkIGFuZCB0aGF0IHJlcXVpcmVkIGZpZWxkcyBhcmUgcHJlc2VudC5cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG1lc3NhZ2UgUGxhaW4gb2JqZWN0IHRvIHZlcmlmeVxuICogQHJldHVybnMge251bGx8c3RyaW5nfSBgbnVsbGAgaWYgdmFsaWQsIG90aGVyd2lzZSB0aGUgcmVhc29uIHdoeSBpdCBpcyBub3RcbiAqL1xuVHlwZS5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5X3NldHVwKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5zZXR1cCgpLnZlcmlmeShtZXNzYWdlKTsgLy8gb3ZlcnJpZGVzIHRoaXMgbWV0aG9kXG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWVzc2FnZSBvZiB0aGlzIHR5cGUgZnJvbSBhIHBsYWluIG9iamVjdC4gQWxzbyBjb252ZXJ0cyB2YWx1ZXMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCB0eXBlcy5cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IG9iamVjdCBQbGFpbiBvYmplY3QgdG8gY29udmVydFxuICogQHJldHVybnMge01lc3NhZ2U8e30+fSBNZXNzYWdlIGluc3RhbmNlXG4gKi9cblR5cGUucHJvdG90eXBlLmZyb21PYmplY3QgPSBmdW5jdGlvbiBmcm9tT2JqZWN0KG9iamVjdCkge1xuICAgIHJldHVybiB0aGlzLnNldHVwKCkuZnJvbU9iamVjdChvYmplY3QpO1xufTtcblxuLyoqXG4gKiBDb252ZXJzaW9uIG9wdGlvbnMgYXMgdXNlZCBieSB7QGxpbmsgVHlwZSN0b09iamVjdH0gYW5kIHtAbGluayBNZXNzYWdlLnRvT2JqZWN0fS5cbiAqIEBpbnRlcmZhY2UgSUNvbnZlcnNpb25PcHRpb25zXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbbG9uZ3NdIExvbmcgY29udmVyc2lvbiB0eXBlLlxuICogVmFsaWQgdmFsdWVzIGFyZSBgU3RyaW5nYCBhbmQgYE51bWJlcmAgKHRoZSBnbG9iYWwgdHlwZXMpLlxuICogRGVmYXVsdHMgdG8gY29weSB0aGUgcHJlc2VudCB2YWx1ZSwgd2hpY2ggaXMgYSBwb3NzaWJseSB1bnNhZmUgbnVtYmVyIHdpdGhvdXQgYW5kIGEge0BsaW5rIExvbmd9IHdpdGggYSBsb25nIGxpYnJhcnkuXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9ufSBbZW51bXNdIEVudW0gdmFsdWUgY29udmVyc2lvbiB0eXBlLlxuICogT25seSB2YWxpZCB2YWx1ZSBpcyBgU3RyaW5nYCAodGhlIGdsb2JhbCB0eXBlKS5cbiAqIERlZmF1bHRzIHRvIGNvcHkgdGhlIHByZXNlbnQgdmFsdWUsIHdoaWNoIGlzIHRoZSBudW1lcmljIGlkLlxuICogQHByb3BlcnR5IHtGdW5jdGlvbn0gW2J5dGVzXSBCeXRlcyB2YWx1ZSBjb252ZXJzaW9uIHR5cGUuXG4gKiBWYWxpZCB2YWx1ZXMgYXJlIGBBcnJheWAgYW5kIChhIGJhc2U2NCBlbmNvZGVkKSBgU3RyaW5nYCAodGhlIGdsb2JhbCB0eXBlcykuXG4gKiBEZWZhdWx0cyB0byBjb3B5IHRoZSBwcmVzZW50IHZhbHVlLCB3aGljaCB1c3VhbGx5IGlzIGEgQnVmZmVyIHVuZGVyIG5vZGUgYW5kIGFuIFVpbnQ4QXJyYXkgaW4gdGhlIGJyb3dzZXIuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtkZWZhdWx0cz1mYWxzZV0gQWxzbyBzZXRzIGRlZmF1bHQgdmFsdWVzIG9uIHRoZSByZXN1bHRpbmcgb2JqZWN0XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthcnJheXM9ZmFsc2VdIFNldHMgZW1wdHkgYXJyYXlzIGZvciBtaXNzaW5nIHJlcGVhdGVkIGZpZWxkcyBldmVuIGlmIGBkZWZhdWx0cz1mYWxzZWBcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW29iamVjdHM9ZmFsc2VdIFNldHMgZW1wdHkgb2JqZWN0cyBmb3IgbWlzc2luZyBtYXAgZmllbGRzIGV2ZW4gaWYgYGRlZmF1bHRzPWZhbHNlYFxuICogQHByb3BlcnR5IHtib29sZWFufSBbb25lb2ZzPWZhbHNlXSBJbmNsdWRlcyB2aXJ0dWFsIG9uZW9mIHByb3BlcnRpZXMgc2V0IHRvIHRoZSBwcmVzZW50IGZpZWxkJ3MgbmFtZSwgaWYgYW55XG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtqc29uPWZhbHNlXSBQZXJmb3JtcyBhZGRpdGlvbmFsIEpTT04gY29tcGF0aWJpbGl0eSBjb252ZXJzaW9ucywgaS5lLiBOYU4gYW5kIEluZmluaXR5IHRvIHN0cmluZ3NcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSBwbGFpbiBvYmplY3QgZnJvbSBhIG1lc3NhZ2Ugb2YgdGhpcyB0eXBlLiBBbHNvIGNvbnZlcnRzIHZhbHVlcyB0byBvdGhlciB0eXBlcyBpZiBzcGVjaWZpZWQuXG4gKiBAcGFyYW0ge01lc3NhZ2U8e30+fSBtZXNzYWdlIE1lc3NhZ2UgaW5zdGFuY2VcbiAqIEBwYXJhbSB7SUNvbnZlcnNpb25PcHRpb25zfSBbb3B0aW9uc10gQ29udmVyc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyB7T2JqZWN0LjxzdHJpbmcsKj59IFBsYWluIG9iamVjdFxuICovXG5UeXBlLnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIHRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5zZXR1cCgpLnRvT2JqZWN0KG1lc3NhZ2UsIG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBEZWNvcmF0b3IgZnVuY3Rpb24gYXMgcmV0dXJuZWQgYnkge0BsaW5rIFR5cGUuZH0gKFR5cGVTY3JpcHQpLlxuICogQHR5cGVkZWYgVHlwZURlY29yYXRvclxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtDb25zdHJ1Y3RvcjxUPn0gdGFyZ2V0IFRhcmdldCBjb25zdHJ1Y3RvclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEB0ZW1wbGF0ZSBUIGV4dGVuZHMgTWVzc2FnZTxUPlxuICovXG5cbi8qKlxuICogVHlwZSBkZWNvcmF0b3IgKFR5cGVTY3JpcHQpLlxuICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlTmFtZV0gVHlwZSBuYW1lLCBkZWZhdWx0cyB0byB0aGUgY29uc3RydWN0b3IncyBuYW1lXG4gKiBAcmV0dXJucyB7VHlwZURlY29yYXRvcjxUPn0gRGVjb3JhdG9yIGZ1bmN0aW9uXG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIE1lc3NhZ2U8VD5cbiAqL1xuVHlwZS5kID0gZnVuY3Rpb24gZGVjb3JhdGVUeXBlKHR5cGVOYW1lKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHR5cGVEZWNvcmF0b3IodGFyZ2V0KSB7XG4gICAgICAgIHV0aWwuZGVjb3JhdGVUeXBlKHRhcmdldCwgdHlwZU5hbWUpO1xuICAgIH07XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFJvb3Q7XG5cbi8vIGV4dGVuZHMgTmFtZXNwYWNlXG52YXIgTmFtZXNwYWNlID0gcmVxdWlyZShcIi4vbmFtZXNwYWNlXCIpO1xuKChSb290LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoTmFtZXNwYWNlLnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gUm9vdCkuY2xhc3NOYW1lID0gXCJSb290XCI7XG5cbnZhciBGaWVsZCAgID0gcmVxdWlyZShcIi4vZmllbGRcIiksXG4gICAgRW51bSAgICA9IHJlcXVpcmUoXCIuL2VudW1cIiksXG4gICAgT25lT2YgICA9IHJlcXVpcmUoXCIuL29uZW9mXCIpLFxuICAgIHV0aWwgICAgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuXG52YXIgVHlwZSwgICAvLyBjeWNsaWNcbiAgICBwYXJzZSwgIC8vIG1pZ2h0IGJlIGV4Y2x1ZGVkXG4gICAgY29tbW9uOyAvLyBcIlxuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgcm9vdCBuYW1lc3BhY2UgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFJvb3QgbmFtZXNwYWNlIHdyYXBwaW5nIGFsbCB0eXBlcywgZW51bXMsIHNlcnZpY2VzLCBzdWItbmFtZXNwYWNlcyBldGMuIHRoYXQgYmVsb25nIHRvZ2V0aGVyLlxuICogQGV4dGVuZHMgTmFtZXNwYWNlQmFzZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBbb3B0aW9uc10gVG9wIGxldmVsIG9wdGlvbnNcbiAqL1xuZnVuY3Rpb24gUm9vdChvcHRpb25zKSB7XG4gICAgTmFtZXNwYWNlLmNhbGwodGhpcywgXCJcIiwgb3B0aW9ucyk7XG5cbiAgICAvKipcbiAgICAgKiBEZWZlcnJlZCBleHRlbnNpb24gZmllbGRzLlxuICAgICAqIEB0eXBlIHtGaWVsZFtdfVxuICAgICAqL1xuICAgIHRoaXMuZGVmZXJyZWQgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdmVkIGZpbGUgbmFtZXMgb2YgbG9hZGVkIGZpbGVzLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBFZGl0aW9uLCBkZWZhdWx0cyB0byBwcm90bzIgaWYgdW5zcGVjaWZpZWQuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2VkaXRpb24gPSBcInByb3RvMlwiO1xuXG4gICAgLyoqXG4gICAgICogR2xvYmFsIGxvb2t1cCBjYWNoZSBvZiBmdWxseSBxdWFsaWZpZWQgbmFtZXMuXG4gICAgICogQHR5cGUge09iamVjdC48c3RyaW5nLFJlZmxlY3Rpb25PYmplY3Q+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZnVsbHlRdWFsaWZpZWRPYmplY3RzID0ge307XG59XG5cbi8qKlxuICogTG9hZHMgYSBuYW1lc3BhY2UgZGVzY3JpcHRvciBpbnRvIGEgcm9vdCBuYW1lc3BhY2UuXG4gKiBAcGFyYW0ge0lOYW1lc3BhY2V9IGpzb24gTmFtZXNwYWNlIGRlc2NyaXB0b3JcbiAqIEBwYXJhbSB7Um9vdH0gW3Jvb3RdIFJvb3QgbmFtZXNwYWNlLCBkZWZhdWx0cyB0byBjcmVhdGUgYSBuZXcgb25lIGlmIG9taXR0ZWRcbiAqIEByZXR1cm5zIHtSb290fSBSb290IG5hbWVzcGFjZVxuICovXG5Sb290LmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04oanNvbiwgcm9vdCkge1xuICAgIGlmICghcm9vdClcbiAgICAgICAgcm9vdCA9IG5ldyBSb290KCk7XG4gICAgaWYgKGpzb24ub3B0aW9ucylcbiAgICAgICAgcm9vdC5zZXRPcHRpb25zKGpzb24ub3B0aW9ucyk7XG4gICAgcmV0dXJuIHJvb3QuYWRkSlNPTihqc29uLm5lc3RlZCkucmVzb2x2ZUFsbCgpO1xufTtcblxuLyoqXG4gKiBSZXNvbHZlcyB0aGUgcGF0aCBvZiBhbiBpbXBvcnRlZCBmaWxlLCByZWxhdGl2ZSB0byB0aGUgaW1wb3J0aW5nIG9yaWdpbi5cbiAqIFRoaXMgbWV0aG9kIGV4aXN0cyBzbyB5b3UgY2FuIG92ZXJyaWRlIGl0IHdpdGggeW91ciBvd24gbG9naWMgaW4gY2FzZSB5b3VyIGltcG9ydHMgYXJlIHNjYXR0ZXJlZCBvdmVyIG11bHRpcGxlIGRpcmVjdG9yaWVzLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luIFRoZSBmaWxlIG5hbWUgb2YgdGhlIGltcG9ydGluZyBmaWxlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGFyZ2V0IFRoZSBmaWxlIG5hbWUgYmVpbmcgaW1wb3J0ZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gUmVzb2x2ZWQgcGF0aCB0byBgdGFyZ2V0YCBvciBgbnVsbGAgdG8gc2tpcCB0aGUgZmlsZVxuICovXG5Sb290LnByb3RvdHlwZS5yZXNvbHZlUGF0aCA9IHV0aWwucGF0aC5yZXNvbHZlO1xuXG4vKipcbiAqIEZldGNoIGNvbnRlbnQgZnJvbSBmaWxlIHBhdGggb3IgdXJsXG4gKiBUaGlzIG1ldGhvZCBleGlzdHMgc28geW91IGNhbiBvdmVycmlkZSBpdCB3aXRoIHlvdXIgb3duIGxvZ2ljLlxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBGaWxlIHBhdGggb3IgdXJsXG4gKiBAcGFyYW0ge0ZldGNoQ2FsbGJhY2t9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5Sb290LnByb3RvdHlwZS5mZXRjaCA9IHV0aWwuZmV0Y2g7XG5cbi8vIEEgc3ltYm9sLWxpa2UgZnVuY3Rpb24gdG8gc2FmZWx5IHNpZ25hbCBzeW5jaHJvbm91cyBsb2FkaW5nXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gU1lOQygpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHktZnVuY3Rpb25cblxuLyoqXG4gKiBMb2FkcyBvbmUgb3IgbXVsdGlwbGUgLnByb3RvIG9yIHByZXByb2Nlc3NlZCAuanNvbiBmaWxlcyBpbnRvIHRoaXMgcm9vdCBuYW1lc3BhY2UgYW5kIGNhbGxzIHRoZSBjYWxsYmFjay5cbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBmaWxlbmFtZSBOYW1lcyBvZiBvbmUgb3IgbXVsdGlwbGUgZmlsZXMgdG8gbG9hZFxuICogQHBhcmFtIHtJUGFyc2VPcHRpb25zfSBvcHRpb25zIFBhcnNlIG9wdGlvbnNcbiAqIEBwYXJhbSB7TG9hZENhbGxiYWNrfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuUm9vdC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQoZmlsZW5hbWUsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgICBvcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdXRpbC5hc1Byb21pc2UobG9hZCwgc2VsZiwgZmlsZW5hbWUsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHZhciBzeW5jID0gY2FsbGJhY2sgPT09IFNZTkM7IC8vIHVuZG9jdW1lbnRlZFxuXG4gICAgLy8gRmluaXNoZXMgbG9hZGluZyBieSBjYWxsaW5nIHRoZSBjYWxsYmFjayAoZXhhY3RseSBvbmNlKVxuICAgIGZ1bmN0aW9uIGZpbmlzaChlcnIsIHJvb3QpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3luYykge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb290KSB7XG4gICAgICAgICAgICByb290LnJlc29sdmVBbGwoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2IgPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICBjYihlcnIsIHJvb3QpO1xuICAgIH1cblxuICAgIC8vIEJ1bmRsZWQgZGVmaW5pdGlvbiBleGlzdGVuY2UgY2hlY2tpbmdcbiAgICBmdW5jdGlvbiBnZXRCdW5kbGVkRmlsZU5hbWUoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGlkeCA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKFwiZ29vZ2xlL3Byb3RvYnVmL1wiKTtcbiAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICB2YXIgYWx0bmFtZSA9IGZpbGVuYW1lLnN1YnN0cmluZyhpZHgpO1xuICAgICAgICAgICAgaWYgKGFsdG5hbWUgaW4gY29tbW9uKSByZXR1cm4gYWx0bmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBQcm9jZXNzZXMgYSBzaW5nbGUgZmlsZVxuICAgIGZ1bmN0aW9uIHByb2Nlc3MoZmlsZW5hbWUsIHNvdXJjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHV0aWwuaXNTdHJpbmcoc291cmNlKSAmJiBzb3VyY2UuY2hhckF0KDApID09PSBcIntcIilcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBKU09OLnBhcnNlKHNvdXJjZSk7XG4gICAgICAgICAgICBpZiAoIXV0aWwuaXNTdHJpbmcoc291cmNlKSlcbiAgICAgICAgICAgICAgICBzZWxmLnNldE9wdGlvbnMoc291cmNlLm9wdGlvbnMpLmFkZEpTT04oc291cmNlLm5lc3RlZCk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJzZS5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgICAgICAgICAgICAgIHZhciBwYXJzZWQgPSBwYXJzZShzb3VyY2UsIHNlbGYsIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZCxcbiAgICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZC5pbXBvcnRzKVxuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaSA8IHBhcnNlZC5pbXBvcnRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkID0gZ2V0QnVuZGxlZEZpbGVOYW1lKHBhcnNlZC5pbXBvcnRzW2ldKSB8fCBzZWxmLnJlc29sdmVQYXRoKGZpbGVuYW1lLCBwYXJzZWQuaW1wb3J0c1tpXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2gocmVzb2x2ZWQpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJzZWQud2Vha0ltcG9ydHMpXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJzZWQud2Vha0ltcG9ydHMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQgPSBnZXRCdW5kbGVkRmlsZU5hbWUocGFyc2VkLndlYWtJbXBvcnRzW2ldKSB8fCBzZWxmLnJlc29sdmVQYXRoKGZpbGVuYW1lLCBwYXJzZWQud2Vha0ltcG9ydHNbaV0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoKHJlc29sdmVkLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN5bmMgJiYgIXF1ZXVlZCkge1xuICAgICAgICAgICAgZmluaXNoKG51bGwsIHNlbGYpOyAvLyBvbmx5IG9uY2UgYW55d2F5XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGZXRjaGVzIGEgc2luZ2xlIGZpbGVcbiAgICBmdW5jdGlvbiBmZXRjaChmaWxlbmFtZSwgd2Vhaykge1xuICAgICAgICBmaWxlbmFtZSA9IGdldEJ1bmRsZWRGaWxlTmFtZShmaWxlbmFtZSkgfHwgZmlsZW5hbWU7XG5cbiAgICAgICAgLy8gU2tpcCBpZiBhbHJlYWR5IGxvYWRlZCAvIGF0dGVtcHRlZFxuICAgICAgICBpZiAoc2VsZi5maWxlcy5pbmRleE9mKGZpbGVuYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5maWxlcy5wdXNoKGZpbGVuYW1lKTtcblxuICAgICAgICAvLyBTaG9ydGN1dCBidW5kbGVkIGRlZmluaXRpb25zXG4gICAgICAgIGlmIChmaWxlbmFtZSBpbiBjb21tb24pIHtcbiAgICAgICAgICAgIGlmIChzeW5jKSB7XG4gICAgICAgICAgICAgICAgcHJvY2VzcyhmaWxlbmFtZSwgY29tbW9uW2ZpbGVuYW1lXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICsrcXVldWVkO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC0tcXVldWVkO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzKGZpbGVuYW1lLCBjb21tb25bZmlsZW5hbWVdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE90aGVyd2lzZSBmZXRjaCBmcm9tIGRpc2sgb3IgbmV0d29ya1xuICAgICAgICBpZiAoc3luYykge1xuICAgICAgICAgICAgdmFyIHNvdXJjZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gdXRpbC5mcy5yZWFkRmlsZVN5bmMoZmlsZW5hbWUpLnRvU3RyaW5nKFwidXRmOFwiKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmICghd2VhaylcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvY2VzcyhmaWxlbmFtZSwgc291cmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICsrcXVldWVkO1xuICAgICAgICAgICAgc2VsZi5mZXRjaChmaWxlbmFtZSwgZnVuY3Rpb24oZXJyLCBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAtLXF1ZXVlZDtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gdGVybWluYXRlZCBtZWFud2hpbGVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXdlYWspXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIXF1ZXVlZCkgLy8gY2FuJ3QgYmUgY292ZXJlZCByZWxpYWJseVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoKG51bGwsIHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHByb2Nlc3MoZmlsZW5hbWUsIHNvdXJjZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgcXVldWVkID0gMDtcblxuICAgIC8vIEFzc2VtYmxpbmcgdGhlIHJvb3QgbmFtZXNwYWNlIGRvZXNuJ3QgcmVxdWlyZSB3b3JraW5nIHR5cGVcbiAgICAvLyByZWZlcmVuY2VzIGFueW1vcmUsIHNvIHdlIGNhbiBsb2FkIGV2ZXJ5dGhpbmcgaW4gcGFyYWxsZWxcbiAgICBpZiAodXRpbC5pc1N0cmluZyhmaWxlbmFtZSkpIHtcbiAgICAgICAgZmlsZW5hbWUgPSBbIGZpbGVuYW1lIF07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCByZXNvbHZlZDsgaSA8IGZpbGVuYW1lLmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAocmVzb2x2ZWQgPSBzZWxmLnJlc29sdmVQYXRoKFwiXCIsIGZpbGVuYW1lW2ldKSlcbiAgICAgICAgICAgIGZldGNoKHJlc29sdmVkKTtcbiAgICBpZiAoc3luYykge1xuICAgICAgICBzZWxmLnJlc29sdmVBbGwoKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICghcXVldWVkKSB7XG4gICAgICAgIGZpbmlzaChudWxsLCBzZWxmKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbn07XG4vLyBmdW5jdGlvbiBsb2FkKGZpbGVuYW1lOnN0cmluZywgb3B0aW9uczpJUGFyc2VPcHRpb25zLCBjYWxsYmFjazpMb2FkQ2FsbGJhY2spOnVuZGVmaW5lZFxuXG4vKipcbiAqIExvYWRzIG9uZSBvciBtdWx0aXBsZSAucHJvdG8gb3IgcHJlcHJvY2Vzc2VkIC5qc29uIGZpbGVzIGludG8gdGhpcyByb290IG5hbWVzcGFjZSBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrLlxuICogQGZ1bmN0aW9uIFJvb3QjbG9hZFxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGZpbGVuYW1lIE5hbWVzIG9mIG9uZSBvciBtdWx0aXBsZSBmaWxlcyB0byBsb2FkXG4gKiBAcGFyYW0ge0xvYWRDYWxsYmFja30gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKiBAdmFyaWF0aW9uIDJcbiAqL1xuLy8gZnVuY3Rpb24gbG9hZChmaWxlbmFtZTpzdHJpbmcsIGNhbGxiYWNrOkxvYWRDYWxsYmFjayk6dW5kZWZpbmVkXG5cbi8qKlxuICogTG9hZHMgb25lIG9yIG11bHRpcGxlIC5wcm90byBvciBwcmVwcm9jZXNzZWQgLmpzb24gZmlsZXMgaW50byB0aGlzIHJvb3QgbmFtZXNwYWNlIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqIEBmdW5jdGlvbiBSb290I2xvYWRcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBmaWxlbmFtZSBOYW1lcyBvZiBvbmUgb3IgbXVsdGlwbGUgZmlsZXMgdG8gbG9hZFxuICogQHBhcmFtIHtJUGFyc2VPcHRpb25zfSBbb3B0aW9uc10gUGFyc2Ugb3B0aW9ucy4gRGVmYXVsdHMgdG8ge0BsaW5rIHBhcnNlLmRlZmF1bHRzfSB3aGVuIG9taXR0ZWQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxSb290Pn0gUHJvbWlzZVxuICogQHZhcmlhdGlvbiAzXG4gKi9cbi8vIGZ1bmN0aW9uIGxvYWQoZmlsZW5hbWU6c3RyaW5nLCBbb3B0aW9uczpJUGFyc2VPcHRpb25zXSk6UHJvbWlzZTxSb290PlxuXG4vKipcbiAqIFN5bmNocm9ub3VzbHkgbG9hZHMgb25lIG9yIG11bHRpcGxlIC5wcm90byBvciBwcmVwcm9jZXNzZWQgLmpzb24gZmlsZXMgaW50byB0aGlzIHJvb3QgbmFtZXNwYWNlIChub2RlIG9ubHkpLlxuICogQGZ1bmN0aW9uIFJvb3QjbG9hZFN5bmNcbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBmaWxlbmFtZSBOYW1lcyBvZiBvbmUgb3IgbXVsdGlwbGUgZmlsZXMgdG8gbG9hZFxuICogQHBhcmFtIHtJUGFyc2VPcHRpb25zfSBbb3B0aW9uc10gUGFyc2Ugb3B0aW9ucy4gRGVmYXVsdHMgdG8ge0BsaW5rIHBhcnNlLmRlZmF1bHRzfSB3aGVuIG9taXR0ZWQuXG4gKiBAcmV0dXJucyB7Um9vdH0gUm9vdCBuYW1lc3BhY2VcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBzeW5jaHJvbm91cyBmZXRjaGluZyBpcyBub3Qgc3VwcG9ydGVkIChpLmUuIGluIGJyb3dzZXJzKSBvciBpZiBhIGZpbGUncyBzeW50YXggaXMgaW52YWxpZFxuICovXG5Sb290LnByb3RvdHlwZS5sb2FkU3luYyA9IGZ1bmN0aW9uIGxvYWRTeW5jKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgaWYgKCF1dGlsLmlzTm9kZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJub3Qgc3VwcG9ydGVkXCIpO1xuICAgIHJldHVybiB0aGlzLmxvYWQoZmlsZW5hbWUsIG9wdGlvbnMsIFNZTkMpO1xufTtcblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuUm9vdC5wcm90b3R5cGUucmVzb2x2ZUFsbCA9IGZ1bmN0aW9uIHJlc29sdmVBbGwoKSB7XG4gICAgaWYgKCF0aGlzLl9uZWVkc1JlY3Vyc2l2ZVJlc29sdmUpIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKHRoaXMuZGVmZXJyZWQubGVuZ3RoKVxuICAgICAgICB0aHJvdyBFcnJvcihcInVucmVzb2x2YWJsZSBleHRlbnNpb25zOiBcIiArIHRoaXMuZGVmZXJyZWQubWFwKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gXCInZXh0ZW5kIFwiICsgZmllbGQuZXh0ZW5kICsgXCInIGluIFwiICsgZmllbGQucGFyZW50LmZ1bGxOYW1lO1xuICAgICAgICB9KS5qb2luKFwiLCBcIikpO1xuICAgIHJldHVybiBOYW1lc3BhY2UucHJvdG90eXBlLnJlc29sdmVBbGwuY2FsbCh0aGlzKTtcbn07XG5cbi8vIG9ubHkgdXBwZXJjYXNlZCAoYW5kIHRodXMgY29uZmxpY3QtZnJlZSkgY2hpbGRyZW4gYXJlIGV4cG9zZWQsIHNlZSBiZWxvd1xudmFyIGV4cG9zZVJlID0gL15bQS1aXS87XG5cbi8qKlxuICogSGFuZGxlcyBhIGRlZmVycmVkIGRlY2xhcmluZyBleHRlbnNpb24gZmllbGQgYnkgY3JlYXRpbmcgYSBzaXN0ZXIgZmllbGQgdG8gcmVwcmVzZW50IGl0IHdpdGhpbiBpdHMgZXh0ZW5kZWQgdHlwZS5cbiAqIEBwYXJhbSB7Um9vdH0gcm9vdCBSb290IGluc3RhbmNlXG4gKiBAcGFyYW0ge0ZpZWxkfSBmaWVsZCBEZWNsYXJpbmcgZXh0ZW5zaW9uIGZpZWxkIHdpdGluIHRoZSBkZWNsYXJpbmcgdHlwZVxuICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCBpZiBzdWNjZXNzZnVsbHkgYWRkZWQgdG8gdGhlIGV4dGVuZGVkIHR5cGUsIGBmYWxzZWAgb3RoZXJ3aXNlXG4gKiBAaW5uZXJcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gdHJ5SGFuZGxlRXh0ZW5zaW9uKHJvb3QsIGZpZWxkKSB7XG4gICAgdmFyIGV4dGVuZGVkVHlwZSA9IGZpZWxkLnBhcmVudC5sb29rdXAoZmllbGQuZXh0ZW5kKTtcbiAgICBpZiAoZXh0ZW5kZWRUeXBlKSB7XG4gICAgICAgIHZhciBzaXN0ZXJGaWVsZCA9IG5ldyBGaWVsZChmaWVsZC5mdWxsTmFtZSwgZmllbGQuaWQsIGZpZWxkLnR5cGUsIGZpZWxkLnJ1bGUsIHVuZGVmaW5lZCwgZmllbGQub3B0aW9ucyk7XG4gICAgICAgIC8vZG8gbm90IGFsbG93IHRvIGV4dGVuZCBzYW1lIGZpZWxkIHR3aWNlIHRvIHByZXZlbnQgdGhlIGVycm9yXG4gICAgICAgIGlmIChleHRlbmRlZFR5cGUuZ2V0KHNpc3RlckZpZWxkLm5hbWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBzaXN0ZXJGaWVsZC5kZWNsYXJpbmdGaWVsZCA9IGZpZWxkO1xuICAgICAgICBmaWVsZC5leHRlbnNpb25GaWVsZCA9IHNpc3RlckZpZWxkO1xuICAgICAgICBleHRlbmRlZFR5cGUuYWRkKHNpc3RlckZpZWxkKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDYWxsZWQgd2hlbiBhbnkgb2JqZWN0IGlzIGFkZGVkIHRvIHRoaXMgcm9vdCBvciBpdHMgc3ViLW5hbWVzcGFjZXMuXG4gKiBAcGFyYW0ge1JlZmxlY3Rpb25PYmplY3R9IG9iamVjdCBPYmplY3QgYWRkZWRcbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKiBAcHJpdmF0ZVxuICovXG5Sb290LnByb3RvdHlwZS5faGFuZGxlQWRkID0gZnVuY3Rpb24gX2hhbmRsZUFkZChvYmplY3QpIHtcbiAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRmllbGQpIHtcblxuICAgICAgICBpZiAoLyogYW4gZXh0ZW5zaW9uIGZpZWxkIChpbXBsaWVzIG5vdCBwYXJ0IG9mIGEgb25lb2YpICovIG9iamVjdC5leHRlbmQgIT09IHVuZGVmaW5lZCAmJiAvKiBub3QgYWxyZWFkeSBoYW5kbGVkICovICFvYmplY3QuZXh0ZW5zaW9uRmllbGQpXG4gICAgICAgICAgICBpZiAoIXRyeUhhbmRsZUV4dGVuc2lvbih0aGlzLCBvYmplY3QpKVxuICAgICAgICAgICAgICAgIHRoaXMuZGVmZXJyZWQucHVzaChvYmplY3QpO1xuXG4gICAgfSBlbHNlIGlmIChvYmplY3QgaW5zdGFuY2VvZiBFbnVtKSB7XG5cbiAgICAgICAgaWYgKGV4cG9zZVJlLnRlc3Qob2JqZWN0Lm5hbWUpKVxuICAgICAgICAgICAgb2JqZWN0LnBhcmVudFtvYmplY3QubmFtZV0gPSBvYmplY3QudmFsdWVzOyAvLyBleHBvc2UgZW51bSB2YWx1ZXMgYXMgcHJvcGVydHkgb2YgaXRzIHBhcmVudFxuXG4gICAgfSBlbHNlIGlmICghKG9iamVjdCBpbnN0YW5jZW9mIE9uZU9mKSkgLyogZXZlcnl0aGluZyBlbHNlIGlzIGEgbmFtZXNwYWNlICovIHtcblxuICAgICAgICBpZiAob2JqZWN0IGluc3RhbmNlb2YgVHlwZSkgLy8gVHJ5IHRvIGhhbmRsZSBhbnkgZGVmZXJyZWQgZXh0ZW5zaW9uc1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmRlZmVycmVkLmxlbmd0aDspXG4gICAgICAgICAgICAgICAgaWYgKHRyeUhhbmRsZUV4dGVuc2lvbih0aGlzLCB0aGlzLmRlZmVycmVkW2ldKSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZlcnJlZC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICArK2k7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgLyogaW5pdGlhbGl6ZXMgKi8gb2JqZWN0Lm5lc3RlZEFycmF5Lmxlbmd0aDsgKytqKSAvLyByZWN1cnNlIGludG8gdGhlIG5hbWVzcGFjZVxuICAgICAgICAgICAgdGhpcy5faGFuZGxlQWRkKG9iamVjdC5fbmVzdGVkQXJyYXlbal0pO1xuICAgICAgICBpZiAoZXhwb3NlUmUudGVzdChvYmplY3QubmFtZSkpXG4gICAgICAgICAgICBvYmplY3QucGFyZW50W29iamVjdC5uYW1lXSA9IG9iamVjdDsgLy8gZXhwb3NlIG5hbWVzcGFjZSBhcyBwcm9wZXJ0eSBvZiBpdHMgcGFyZW50XG4gICAgfVxuXG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFR5cGUgfHwgb2JqZWN0IGluc3RhbmNlb2YgRW51bSB8fCBvYmplY3QgaW5zdGFuY2VvZiBGaWVsZCkge1xuICAgICAgICAvLyBPbmx5IHN0b3JlIHR5cGVzIGFuZCBlbnVtcyBmb3IgcXVpY2sgbG9va3VwIGR1cmluZyByZXNvbHZlLlxuICAgICAgICB0aGlzLl9mdWxseVF1YWxpZmllZE9iamVjdHNbb2JqZWN0LmZ1bGxOYW1lXSA9IG9iamVjdDtcbiAgICB9XG5cbiAgICAvLyBUaGUgYWJvdmUgYWxzbyBhZGRzIHVwcGVyY2FzZWQgKGFuZCB0aHVzIGNvbmZsaWN0LWZyZWUpIG5lc3RlZCB0eXBlcywgc2VydmljZXMgYW5kIGVudW1zIGFzXG4gICAgLy8gcHJvcGVydGllcyBvZiBuYW1lc3BhY2VzIGp1c3QgbGlrZSBzdGF0aWMgY29kZSBkb2VzLiBUaGlzIGFsbG93cyB1c2luZyBhIC5kLnRzIGdlbmVyYXRlZCBmb3JcbiAgICAvLyBhIHN0YXRpYyBtb2R1bGUgd2l0aCByZWZsZWN0aW9uLWJhc2VkIHNvbHV0aW9ucyB3aGVyZSB0aGUgY29uZGl0aW9uIGlzIG1ldC5cbn07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gYW55IG9iamVjdCBpcyByZW1vdmVkIGZyb20gdGhpcyByb290IG9yIGl0cyBzdWItbmFtZXNwYWNlcy5cbiAqIEBwYXJhbSB7UmVmbGVjdGlvbk9iamVjdH0gb2JqZWN0IE9iamVjdCByZW1vdmVkXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQHByaXZhdGVcbiAqL1xuUm9vdC5wcm90b3R5cGUuX2hhbmRsZVJlbW92ZSA9IGZ1bmN0aW9uIF9oYW5kbGVSZW1vdmUob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEZpZWxkKSB7XG5cbiAgICAgICAgaWYgKC8qIGFuIGV4dGVuc2lvbiBmaWVsZCAqLyBvYmplY3QuZXh0ZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICgvKiBhbHJlYWR5IGhhbmRsZWQgKi8gb2JqZWN0LmV4dGVuc2lvbkZpZWxkKSB7IC8vIHJlbW92ZSBpdHMgc2lzdGVyIGZpZWxkXG4gICAgICAgICAgICAgICAgb2JqZWN0LmV4dGVuc2lvbkZpZWxkLnBhcmVudC5yZW1vdmUob2JqZWN0LmV4dGVuc2lvbkZpZWxkKTtcbiAgICAgICAgICAgICAgICBvYmplY3QuZXh0ZW5zaW9uRmllbGQgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gY2FuY2VsIHRoZSBleHRlbnNpb25cbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmRlZmVycmVkLmluZGV4T2Yob2JqZWN0KTtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmVycmVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0gZWxzZSBpZiAob2JqZWN0IGluc3RhbmNlb2YgRW51bSkge1xuXG4gICAgICAgIGlmIChleHBvc2VSZS50ZXN0KG9iamVjdC5uYW1lKSlcbiAgICAgICAgICAgIGRlbGV0ZSBvYmplY3QucGFyZW50W29iamVjdC5uYW1lXTsgLy8gdW5leHBvc2UgZW51bSB2YWx1ZXNcblxuICAgIH0gZWxzZSBpZiAob2JqZWN0IGluc3RhbmNlb2YgTmFtZXNwYWNlKSB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAvKiBpbml0aWFsaXplcyAqLyBvYmplY3QubmVzdGVkQXJyYXkubGVuZ3RoOyArK2kpIC8vIHJlY3Vyc2UgaW50byB0aGUgbmFtZXNwYWNlXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZW1vdmUob2JqZWN0Ll9uZXN0ZWRBcnJheVtpXSk7XG5cbiAgICAgICAgaWYgKGV4cG9zZVJlLnRlc3Qob2JqZWN0Lm5hbWUpKVxuICAgICAgICAgICAgZGVsZXRlIG9iamVjdC5wYXJlbnRbb2JqZWN0Lm5hbWVdOyAvLyB1bmV4cG9zZSBuYW1lc3BhY2VzXG5cbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy5fZnVsbHlRdWFsaWZpZWRPYmplY3RzW29iamVjdC5mdWxsTmFtZV07XG59O1xuXG4vLyBTZXRzIHVwIGN5Y2xpYyBkZXBlbmRlbmNpZXMgKGNhbGxlZCBpbiBpbmRleC1saWdodClcblJvb3QuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uKFR5cGVfLCBwYXJzZV8sIGNvbW1vbl8pIHtcbiAgICBUeXBlICAgPSBUeXBlXztcbiAgICBwYXJzZSAgPSBwYXJzZV87XG4gICAgY29tbW9uID0gY29tbW9uXztcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBWYXJpb3VzIHV0aWxpdHkgZnVuY3Rpb25zLlxuICogQG5hbWVzcGFjZVxuICovXG52YXIgdXRpbCA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vdXRpbC9taW5pbWFsXCIpO1xuXG52YXIgcm9vdHMgPSByZXF1aXJlKFwiLi9yb290c1wiKTtcblxudmFyIFR5cGUsIC8vIGN5Y2xpY1xuICAgIEVudW07XG5cbnV0aWwuY29kZWdlbiA9IHJlcXVpcmUoXCJAcHJvdG9idWZqcy9jb2RlZ2VuXCIpO1xudXRpbC5mZXRjaCAgID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL2ZldGNoXCIpO1xudXRpbC5wYXRoICAgID0gcmVxdWlyZShcIkBwcm90b2J1ZmpzL3BhdGhcIik7XG5cbi8qKlxuICogTm9kZSdzIGZzIG1vZHVsZSBpZiBhdmFpbGFibGUuXG4gKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsKj59XG4gKi9cbnV0aWwuZnMgPSB1dGlsLmlucXVpcmUoXCJmc1wiKTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBvYmplY3QncyB2YWx1ZXMgdG8gYW4gYXJyYXkuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvYmplY3QgT2JqZWN0IHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtBcnJheS48Kj59IENvbnZlcnRlZCBhcnJheVxuICovXG51dGlsLnRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KG9iamVjdCkge1xuICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgdmFyIGtleXMgID0gT2JqZWN0LmtleXMob2JqZWN0KSxcbiAgICAgICAgICAgIGFycmF5ID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwga2V5cy5sZW5ndGgpXG4gICAgICAgICAgICBhcnJheVtpbmRleF0gPSBvYmplY3Rba2V5c1tpbmRleCsrXV07XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgcmV0dXJuIFtdO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBhcnJheSBvZiBrZXlzIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IHRoZWlyIHJlc3BlY3RpdmUgdmFsdWUgdG8gYW4gb2JqZWN0LCBvbWl0dGluZyB1bmRlZmluZWQgdmFsdWVzLlxuICogQHBhcmFtIHtBcnJheS48Kj59IGFycmF5IEFycmF5IHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gQ29udmVydGVkIG9iamVjdFxuICovXG51dGlsLnRvT2JqZWN0ID0gZnVuY3Rpb24gdG9PYmplY3QoYXJyYXkpIHtcbiAgICB2YXIgb2JqZWN0ID0ge30sXG4gICAgICAgIGluZGV4ICA9IDA7XG4gICAgd2hpbGUgKGluZGV4IDwgYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBhcnJheVtpbmRleCsrXSxcbiAgICAgICAgICAgIHZhbCA9IGFycmF5W2luZGV4KytdO1xuICAgICAgICBpZiAodmFsICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBvYmplY3Rba2V5XSA9IHZhbDtcbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbnZhciBzYWZlUHJvcEJhY2tzbGFzaFJlID0gL1xcXFwvZyxcbiAgICBzYWZlUHJvcFF1b3RlUmUgICAgID0gL1wiL2c7XG5cbi8qKlxuICogVGVzdHMgd2hldGhlciB0aGUgc3BlY2lmaWVkIG5hbWUgaXMgYSByZXNlcnZlZCB3b3JkIGluIEpTLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHJlc2VydmVkLCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG51dGlsLmlzUmVzZXJ2ZWQgPSBmdW5jdGlvbiBpc1Jlc2VydmVkKG5hbWUpIHtcbiAgICByZXR1cm4gL14oPzpkb3xpZnxpbnxmb3J8bGV0fG5ld3x0cnl8dmFyfGNhc2V8ZWxzZXxlbnVtfGV2YWx8ZmFsc2V8bnVsbHx0aGlzfHRydWV8dm9pZHx3aXRofGJyZWFrfGNhdGNofGNsYXNzfGNvbnN0fHN1cGVyfHRocm93fHdoaWxlfHlpZWxkfGRlbGV0ZXxleHBvcnR8aW1wb3J0fHB1YmxpY3xyZXR1cm58c3RhdGljfHN3aXRjaHx0eXBlb2Z8ZGVmYXVsdHxleHRlbmRzfGZpbmFsbHl8cGFja2FnZXxwcml2YXRlfGNvbnRpbnVlfGRlYnVnZ2VyfGZ1bmN0aW9ufGFyZ3VtZW50c3xpbnRlcmZhY2V8cHJvdGVjdGVkfGltcGxlbWVudHN8aW5zdGFuY2VvZikkLy50ZXN0KG5hbWUpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgc2FmZSBwcm9wZXJ0eSBhY2Nlc3NvciBmb3IgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSBuYW1lLlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3AgUHJvcGVydHkgbmFtZVxuICogQHJldHVybnMge3N0cmluZ30gU2FmZSBhY2Nlc3NvclxuICovXG51dGlsLnNhZmVQcm9wID0gZnVuY3Rpb24gc2FmZVByb3AocHJvcCkge1xuICAgIGlmICghL15bJFxcd19dKyQvLnRlc3QocHJvcCkgfHwgdXRpbC5pc1Jlc2VydmVkKHByb3ApKVxuICAgICAgICByZXR1cm4gXCJbXFxcIlwiICsgcHJvcC5yZXBsYWNlKHNhZmVQcm9wQmFja3NsYXNoUmUsIFwiXFxcXFxcXFxcIikucmVwbGFjZShzYWZlUHJvcFF1b3RlUmUsIFwiXFxcXFxcXCJcIikgKyBcIlxcXCJdXCI7XG4gICAgcmV0dXJuIFwiLlwiICsgcHJvcDtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHN0cmluZyB0byB1cHBlciBjYXNlLlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBTdHJpbmcgdG8gY29udmVydFxuICogQHJldHVybnMge3N0cmluZ30gQ29udmVydGVkIHN0cmluZ1xuICovXG51dGlsLnVjRmlyc3QgPSBmdW5jdGlvbiB1Y0ZpcnN0KHN0cikge1xuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpO1xufTtcblxudmFyIGNhbWVsQ2FzZVJlID0gL18oW2Etel0pL2c7XG5cbi8qKlxuICogQ29udmVydHMgYSBzdHJpbmcgdG8gY2FtZWwgY2FzZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgU3RyaW5nIHRvIGNvbnZlcnRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IENvbnZlcnRlZCBzdHJpbmdcbiAqL1xudXRpbC5jYW1lbENhc2UgPSBmdW5jdGlvbiBjYW1lbENhc2Uoc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgMSlcbiAgICAgICAgICsgc3RyLnN1YnN0cmluZygxKVxuICAgICAgICAgICAgICAgLnJlcGxhY2UoY2FtZWxDYXNlUmUsIGZ1bmN0aW9uKCQwLCAkMSkgeyByZXR1cm4gJDEudG9VcHBlckNhc2UoKTsgfSk7XG59O1xuXG4vKipcbiAqIENvbXBhcmVzIHJlZmxlY3RlZCBmaWVsZHMgYnkgaWQuXG4gKiBAcGFyYW0ge0ZpZWxkfSBhIEZpcnN0IGZpZWxkXG4gKiBAcGFyYW0ge0ZpZWxkfSBiIFNlY29uZCBmaWVsZFxuICogQHJldHVybnMge251bWJlcn0gQ29tcGFyaXNvbiB2YWx1ZVxuICovXG51dGlsLmNvbXBhcmVGaWVsZHNCeUlkID0gZnVuY3Rpb24gY29tcGFyZUZpZWxkc0J5SWQoYSwgYikge1xuICAgIHJldHVybiBhLmlkIC0gYi5pZDtcbn07XG5cbi8qKlxuICogRGVjb3JhdG9yIGhlbHBlciBmb3IgdHlwZXMgKFR5cGVTY3JpcHQpLlxuICogQHBhcmFtIHtDb25zdHJ1Y3RvcjxUPn0gY3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IFt0eXBlTmFtZV0gVHlwZSBuYW1lLCBkZWZhdWx0cyB0byB0aGUgY29uc3RydWN0b3IncyBuYW1lXG4gKiBAcmV0dXJucyB7VHlwZX0gUmVmbGVjdGVkIHR5cGVcbiAqIEB0ZW1wbGF0ZSBUIGV4dGVuZHMgTWVzc2FnZTxUPlxuICogQHByb3BlcnR5IHtSb290fSByb290IERlY29yYXRvcnMgcm9vdFxuICovXG51dGlsLmRlY29yYXRlVHlwZSA9IGZ1bmN0aW9uIGRlY29yYXRlVHlwZShjdG9yLCB0eXBlTmFtZSkge1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGN0b3IuJHR5cGUpIHtcbiAgICAgICAgaWYgKHR5cGVOYW1lICYmIGN0b3IuJHR5cGUubmFtZSAhPT0gdHlwZU5hbWUpIHtcbiAgICAgICAgICAgIHV0aWwuZGVjb3JhdGVSb290LnJlbW92ZShjdG9yLiR0eXBlKTtcbiAgICAgICAgICAgIGN0b3IuJHR5cGUubmFtZSA9IHR5cGVOYW1lO1xuICAgICAgICAgICAgdXRpbC5kZWNvcmF0ZVJvb3QuYWRkKGN0b3IuJHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdG9yLiR0eXBlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKCFUeXBlKVxuICAgICAgICBUeXBlID0gcmVxdWlyZShcIi4vdHlwZVwiKTtcblxuICAgIHZhciB0eXBlID0gbmV3IFR5cGUodHlwZU5hbWUgfHwgY3Rvci5uYW1lKTtcbiAgICB1dGlsLmRlY29yYXRlUm9vdC5hZGQodHlwZSk7XG4gICAgdHlwZS5jdG9yID0gY3RvcjsgLy8gc2V0cyB1cCAuZW5jb2RlLCAuZGVjb2RlIGV0Yy5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3RvciwgXCIkdHlwZVwiLCB7IHZhbHVlOiB0eXBlLCBlbnVtZXJhYmxlOiBmYWxzZSB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3Rvci5wcm90b3R5cGUsIFwiJHR5cGVcIiwgeyB2YWx1ZTogdHlwZSwgZW51bWVyYWJsZTogZmFsc2UgfSk7XG4gICAgcmV0dXJuIHR5cGU7XG59O1xuXG52YXIgZGVjb3JhdGVFbnVtSW5kZXggPSAwO1xuXG4vKipcbiAqIERlY29yYXRvciBoZWxwZXIgZm9yIGVudW1zIChUeXBlU2NyaXB0KS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgRW51bSBvYmplY3RcbiAqIEByZXR1cm5zIHtFbnVtfSBSZWZsZWN0ZWQgZW51bVxuICovXG51dGlsLmRlY29yYXRlRW51bSA9IGZ1bmN0aW9uIGRlY29yYXRlRW51bShvYmplY3QpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvYmplY3QuJHR5cGUpXG4gICAgICAgIHJldHVybiBvYmplY3QuJHR5cGU7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICghRW51bSlcbiAgICAgICAgRW51bSA9IHJlcXVpcmUoXCIuL2VudW1cIik7XG5cbiAgICB2YXIgZW5tID0gbmV3IEVudW0oXCJFbnVtXCIgKyBkZWNvcmF0ZUVudW1JbmRleCsrLCBvYmplY3QpO1xuICAgIHV0aWwuZGVjb3JhdGVSb290LmFkZChlbm0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIFwiJHR5cGVcIiwgeyB2YWx1ZTogZW5tLCBlbnVtZXJhYmxlOiBmYWxzZSB9KTtcbiAgICByZXR1cm4gZW5tO1xufTtcblxuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIGEgcHJvcGVydHkgYnkgcHJvcGVydHkgcGF0aC4gSWYgYSB2YWx1ZSBhbHJlYWR5IGV4aXN0cywgaXQgaXMgdHVybmVkIHRvIGFuIGFycmF5XG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBkb3QgJy4nIGRlbGltaXRlZCBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXRcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZSB0aGUgdmFsdWUgdG8gc2V0XG4gKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBbaWZOb3RTZXRdIFNldHMgdGhlIG9wdGlvbiBvbmx5IGlmIGl0IGlzbid0IGN1cnJlbnRseSBzZXRcbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZywqPn0gRGVzdGluYXRpb24gb2JqZWN0XG4gKi9cbnV0aWwuc2V0UHJvcGVydHkgPSBmdW5jdGlvbiBzZXRQcm9wZXJ0eShkc3QsIHBhdGgsIHZhbHVlLCBpZk5vdFNldCkge1xuICAgIGZ1bmN0aW9uIHNldFByb3AoZHN0LCBwYXRoLCB2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydCA9IHBhdGguc2hpZnQoKTtcbiAgICAgICAgaWYgKHBhcnQgPT09IFwiX19wcm90b19fXCIgfHwgcGFydCA9PT0gXCJwcm90b3R5cGVcIikge1xuICAgICAgICAgIHJldHVybiBkc3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZHN0W3BhcnRdID0gc2V0UHJvcChkc3RbcGFydF0gfHwge30sIHBhdGgsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBwcmV2VmFsdWUgPSBkc3RbcGFydF07XG4gICAgICAgICAgICBpZiAocHJldlZhbHVlICYmIGlmTm90U2V0KVxuICAgICAgICAgICAgICAgIHJldHVybiBkc3Q7XG4gICAgICAgICAgICBpZiAocHJldlZhbHVlKVxuICAgICAgICAgICAgICAgIHZhbHVlID0gW10uY29uY2F0KHByZXZWYWx1ZSkuY29uY2F0KHZhbHVlKTtcbiAgICAgICAgICAgIGRzdFtwYXJ0XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkc3Q7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkc3QgIT09IFwib2JqZWN0XCIpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcImRzdCBtdXN0IGJlIGFuIG9iamVjdFwiKTtcbiAgICBpZiAoIXBhdGgpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcInBhdGggbXVzdCBiZSBzcGVjaWZpZWRcIik7XG5cbiAgICBwYXRoID0gcGF0aC5zcGxpdChcIi5cIik7XG4gICAgcmV0dXJuIHNldFByb3AoZHN0LCBwYXRoLCB2YWx1ZSk7XG59O1xuXG4vKipcbiAqIERlY29yYXRvciByb290IChUeXBlU2NyaXB0KS5cbiAqIEBuYW1lIHV0aWwuZGVjb3JhdGVSb290XG4gKiBAdHlwZSB7Um9vdH1cbiAqIEByZWFkb25seVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkodXRpbCwgXCJkZWNvcmF0ZVJvb3RcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiByb290c1tcImRlY29yYXRlZFwiXSB8fCAocm9vdHNbXCJkZWNvcmF0ZWRcIl0gPSBuZXcgKHJlcXVpcmUoXCIuL3Jvb3RcIikpKCkpO1xuICAgIH1cbn0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogQ29tbW9uIHR5cGUgY29uc3RhbnRzLlxuICogQG5hbWVzcGFjZVxuICovXG52YXIgdHlwZXMgPSBleHBvcnRzO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5cbnZhciBzID0gW1xuICAgIFwiZG91YmxlXCIsICAgLy8gMFxuICAgIFwiZmxvYXRcIiwgICAgLy8gMVxuICAgIFwiaW50MzJcIiwgICAgLy8gMlxuICAgIFwidWludDMyXCIsICAgLy8gM1xuICAgIFwic2ludDMyXCIsICAgLy8gNFxuICAgIFwiZml4ZWQzMlwiLCAgLy8gNVxuICAgIFwic2ZpeGVkMzJcIiwgLy8gNlxuICAgIFwiaW50NjRcIiwgICAgLy8gN1xuICAgIFwidWludDY0XCIsICAgLy8gOFxuICAgIFwic2ludDY0XCIsICAgLy8gOVxuICAgIFwiZml4ZWQ2NFwiLCAgLy8gMTBcbiAgICBcInNmaXhlZDY0XCIsIC8vIDExXG4gICAgXCJib29sXCIsICAgICAvLyAxMlxuICAgIFwic3RyaW5nXCIsICAgLy8gMTNcbiAgICBcImJ5dGVzXCIgICAgIC8vIDE0XG5dO1xuXG5mdW5jdGlvbiBiYWtlKHZhbHVlcywgb2Zmc2V0KSB7XG4gICAgdmFyIGkgPSAwLCBvID0ge307XG4gICAgb2Zmc2V0IHw9IDA7XG4gICAgd2hpbGUgKGkgPCB2YWx1ZXMubGVuZ3RoKSBvW3NbaSArIG9mZnNldF1dID0gdmFsdWVzW2krK107XG4gICAgcmV0dXJuIG87XG59XG5cbi8qKlxuICogQmFzaWMgdHlwZSB3aXJlIHR5cGVzLlxuICogQHR5cGUge09iamVjdC48c3RyaW5nLG51bWJlcj59XG4gKiBAY29uc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkb3VibGU9MSBGaXhlZDY0IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZsb2F0PTUgRml4ZWQzMiB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnQzMj0wIFZhcmludCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB1aW50MzI9MCBWYXJpbnQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2ludDMyPTAgVmFyaW50IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZpeGVkMzI9NSBGaXhlZDMyIHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNmaXhlZDMyPTUgRml4ZWQzMiB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnQ2ND0wIFZhcmludCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB1aW50NjQ9MCBWYXJpbnQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2ludDY0PTAgVmFyaW50IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZpeGVkNjQ9MSBGaXhlZDY0IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNmaXhlZDY0PTEgRml4ZWQ2NCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBib29sPTAgVmFyaW50IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0cmluZz0yIExkZWxpbSB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBieXRlcz0yIExkZWxpbSB3aXJlIHR5cGVcbiAqL1xudHlwZXMuYmFzaWMgPSBiYWtlKFtcbiAgICAvKiBkb3VibGUgICAqLyAxLFxuICAgIC8qIGZsb2F0ICAgICovIDUsXG4gICAgLyogaW50MzIgICAgKi8gMCxcbiAgICAvKiB1aW50MzIgICAqLyAwLFxuICAgIC8qIHNpbnQzMiAgICovIDAsXG4gICAgLyogZml4ZWQzMiAgKi8gNSxcbiAgICAvKiBzZml4ZWQzMiAqLyA1LFxuICAgIC8qIGludDY0ICAgICovIDAsXG4gICAgLyogdWludDY0ICAgKi8gMCxcbiAgICAvKiBzaW50NjQgICAqLyAwLFxuICAgIC8qIGZpeGVkNjQgICovIDEsXG4gICAgLyogc2ZpeGVkNjQgKi8gMSxcbiAgICAvKiBib29sICAgICAqLyAwLFxuICAgIC8qIHN0cmluZyAgICovIDIsXG4gICAgLyogYnl0ZXMgICAgKi8gMlxuXSk7XG5cbi8qKlxuICogQmFzaWMgdHlwZSBkZWZhdWx0cy5cbiAqIEB0eXBlIHtPYmplY3QuPHN0cmluZywqPn1cbiAqIEBjb25zdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGRvdWJsZT0wIERvdWJsZSBkZWZhdWx0XG4gKiBAcHJvcGVydHkge251bWJlcn0gZmxvYXQ9MCBGbG9hdCBkZWZhdWx0XG4gKiBAcHJvcGVydHkge251bWJlcn0gaW50MzI9MCBJbnQzMiBkZWZhdWx0XG4gKiBAcHJvcGVydHkge251bWJlcn0gdWludDMyPTAgVWludDMyIGRlZmF1bHRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaW50MzI9MCBTaW50MzIgZGVmYXVsdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZpeGVkMzI9MCBGaXhlZDMyIGRlZmF1bHRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZml4ZWQzMj0wIFNmaXhlZDMyIGRlZmF1bHRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnQ2ND0wIEludDY0IGRlZmF1bHRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB1aW50NjQ9MCBVaW50NjQgZGVmYXVsdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpbnQ2ND0wIFNpbnQzMiBkZWZhdWx0XG4gKiBAcHJvcGVydHkge251bWJlcn0gZml4ZWQ2ND0wIEZpeGVkNjQgZGVmYXVsdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNmaXhlZDY0PTAgU2ZpeGVkNjQgZGVmYXVsdFxuICogQHByb3BlcnR5IHtib29sZWFufSBib29sPWZhbHNlIEJvb2wgZGVmYXVsdFxuICogQHByb3BlcnR5IHtzdHJpbmd9IHN0cmluZz1cIlwiIFN0cmluZyBkZWZhdWx0XG4gKiBAcHJvcGVydHkge0FycmF5LjxudW1iZXI+fSBieXRlcz1BcnJheSgwKSBCeXRlcyBkZWZhdWx0XG4gKiBAcHJvcGVydHkge251bGx9IG1lc3NhZ2U9bnVsbCBNZXNzYWdlIGRlZmF1bHRcbiAqL1xudHlwZXMuZGVmYXVsdHMgPSBiYWtlKFtcbiAgICAvKiBkb3VibGUgICAqLyAwLFxuICAgIC8qIGZsb2F0ICAgICovIDAsXG4gICAgLyogaW50MzIgICAgKi8gMCxcbiAgICAvKiB1aW50MzIgICAqLyAwLFxuICAgIC8qIHNpbnQzMiAgICovIDAsXG4gICAgLyogZml4ZWQzMiAgKi8gMCxcbiAgICAvKiBzZml4ZWQzMiAqLyAwLFxuICAgIC8qIGludDY0ICAgICovIDAsXG4gICAgLyogdWludDY0ICAgKi8gMCxcbiAgICAvKiBzaW50NjQgICAqLyAwLFxuICAgIC8qIGZpeGVkNjQgICovIDAsXG4gICAgLyogc2ZpeGVkNjQgKi8gMCxcbiAgICAvKiBib29sICAgICAqLyBmYWxzZSxcbiAgICAvKiBzdHJpbmcgICAqLyBcIlwiLFxuICAgIC8qIGJ5dGVzICAgICovIHV0aWwuZW1wdHlBcnJheSxcbiAgICAvKiBtZXNzYWdlICAqLyBudWxsXG5dKTtcblxuLyoqXG4gKiBCYXNpYyBsb25nIHR5cGUgd2lyZSB0eXBlcy5cbiAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxudW1iZXI+fVxuICogQGNvbnN0XG4gKiBAcHJvcGVydHkge251bWJlcn0gaW50NjQ9MCBWYXJpbnQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gdWludDY0PTAgVmFyaW50IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpbnQ2ND0wIFZhcmludCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBmaXhlZDY0PTEgRml4ZWQ2NCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZml4ZWQ2ND0xIEZpeGVkNjQgd2lyZSB0eXBlXG4gKi9cbnR5cGVzLmxvbmcgPSBiYWtlKFtcbiAgICAvKiBpbnQ2NCAgICAqLyAwLFxuICAgIC8qIHVpbnQ2NCAgICovIDAsXG4gICAgLyogc2ludDY0ICAgKi8gMCxcbiAgICAvKiBmaXhlZDY0ICAqLyAxLFxuICAgIC8qIHNmaXhlZDY0ICovIDFcbl0sIDcpO1xuXG4vKipcbiAqIEFsbG93ZWQgdHlwZXMgZm9yIG1hcCBrZXlzIHdpdGggdGhlaXIgYXNzb2NpYXRlZCB3aXJlIHR5cGUuXG4gKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsbnVtYmVyPn1cbiAqIEBjb25zdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGludDMyPTAgVmFyaW50IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHVpbnQzMj0wIFZhcmludCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaW50MzI9MCBWYXJpbnQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZml4ZWQzMj01IEZpeGVkMzIgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2ZpeGVkMzI9NSBGaXhlZDMyIHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGludDY0PTAgVmFyaW50IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHVpbnQ2ND0wIFZhcmludCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzaW50NjQ9MCBWYXJpbnQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZml4ZWQ2ND0xIEZpeGVkNjQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2ZpeGVkNjQ9MSBGaXhlZDY0IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGJvb2w9MCBWYXJpbnQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc3RyaW5nPTIgTGRlbGltIHdpcmUgdHlwZVxuICovXG50eXBlcy5tYXBLZXkgPSBiYWtlKFtcbiAgICAvKiBpbnQzMiAgICAqLyAwLFxuICAgIC8qIHVpbnQzMiAgICovIDAsXG4gICAgLyogc2ludDMyICAgKi8gMCxcbiAgICAvKiBmaXhlZDMyICAqLyA1LFxuICAgIC8qIHNmaXhlZDMyICovIDUsXG4gICAgLyogaW50NjQgICAgKi8gMCxcbiAgICAvKiB1aW50NjQgICAqLyAwLFxuICAgIC8qIHNpbnQ2NCAgICovIDAsXG4gICAgLyogZml4ZWQ2NCAgKi8gMSxcbiAgICAvKiBzZml4ZWQ2NCAqLyAxLFxuICAgIC8qIGJvb2wgICAgICovIDAsXG4gICAgLyogc3RyaW5nICAgKi8gMlxuXSwgMik7XG5cbi8qKlxuICogQWxsb3dlZCB0eXBlcyBmb3IgcGFja2VkIHJlcGVhdGVkIGZpZWxkcyB3aXRoIHRoZWlyIGFzc29jaWF0ZWQgd2lyZSB0eXBlLlxuICogQHR5cGUge09iamVjdC48c3RyaW5nLG51bWJlcj59XG4gKiBAY29uc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBkb3VibGU9MSBGaXhlZDY0IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZsb2F0PTUgRml4ZWQzMiB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnQzMj0wIFZhcmludCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB1aW50MzI9MCBWYXJpbnQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2ludDMyPTAgVmFyaW50IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZpeGVkMzI9NSBGaXhlZDMyIHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNmaXhlZDMyPTUgRml4ZWQzMiB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpbnQ2ND0wIFZhcmludCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB1aW50NjQ9MCBWYXJpbnQgd2lyZSB0eXBlXG4gKiBAcHJvcGVydHkge251bWJlcn0gc2ludDY0PTAgVmFyaW50IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IGZpeGVkNjQ9MSBGaXhlZDY0IHdpcmUgdHlwZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNmaXhlZDY0PTEgRml4ZWQ2NCB3aXJlIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBib29sPTAgVmFyaW50IHdpcmUgdHlwZVxuICovXG50eXBlcy5wYWNrZWQgPSBiYWtlKFtcbiAgICAvKiBkb3VibGUgICAqLyAxLFxuICAgIC8qIGZsb2F0ICAgICovIDUsXG4gICAgLyogaW50MzIgICAgKi8gMCxcbiAgICAvKiB1aW50MzIgICAqLyAwLFxuICAgIC8qIHNpbnQzMiAgICovIDAsXG4gICAgLyogZml4ZWQzMiAgKi8gNSxcbiAgICAvKiBzZml4ZWQzMiAqLyA1LFxuICAgIC8qIGludDY0ICAgICovIDAsXG4gICAgLyogdWludDY0ICAgKi8gMCxcbiAgICAvKiBzaW50NjQgICAqLyAwLFxuICAgIC8qIGZpeGVkNjQgICovIDEsXG4gICAgLyogc2ZpeGVkNjQgKi8gMSxcbiAgICAvKiBib29sICAgICAqLyAwXG5dKTtcbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBGaWVsZDtcblxuLy8gZXh0ZW5kcyBSZWZsZWN0aW9uT2JqZWN0XG52YXIgUmVmbGVjdGlvbk9iamVjdCA9IHJlcXVpcmUoXCIuL29iamVjdFwiKTtcbigoRmllbGQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShSZWZsZWN0aW9uT2JqZWN0LnByb3RvdHlwZSkpLmNvbnN0cnVjdG9yID0gRmllbGQpLmNsYXNzTmFtZSA9IFwiRmllbGRcIjtcblxudmFyIEVudW0gID0gcmVxdWlyZShcIi4vZW51bVwiKSxcbiAgICB0eXBlcyA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpLFxuICAgIHV0aWwgID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcblxudmFyIFR5cGU7IC8vIGN5Y2xpY1xuXG52YXIgcnVsZVJlID0gL15yZXF1aXJlZHxvcHRpb25hbHxyZXBlYXRlZCQvO1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgbWVzc2FnZSBmaWVsZCBpbnN0YW5jZS4gTm90ZSB0aGF0IHtAbGluayBNYXBGaWVsZHxtYXAgZmllbGRzfSBoYXZlIHRoZWlyIG93biBjbGFzcy5cbiAqIEBuYW1lIEZpZWxkXG4gKiBAY2xhc3NkZXNjIFJlZmxlY3RlZCBtZXNzYWdlIGZpZWxkLlxuICogQGV4dGVuZHMgRmllbGRCYXNlXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFVuaXF1ZSBuYW1lIHdpdGhpbiBpdHMgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge251bWJlcn0gaWQgVW5pcXVlIGlkIHdpdGhpbiBpdHMgbmFtZXNwYWNlXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBWYWx1ZSB0eXBlXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3QuPHN0cmluZywqPn0gW3J1bGU9XCJvcHRpb25hbFwiXSBGaWVsZCBydWxlXG4gKiBAcGFyYW0ge3N0cmluZ3xPYmplY3QuPHN0cmluZywqPn0gW2V4dGVuZF0gRXh0ZW5kZWQgdHlwZSBpZiBkaWZmZXJlbnQgZnJvbSBwYXJlbnRcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IFtvcHRpb25zXSBEZWNsYXJlZCBvcHRpb25zXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgZmllbGQgZnJvbSBhIGZpZWxkIGRlc2NyaXB0b3IuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWVsZCBuYW1lXG4gKiBAcGFyYW0ge0lGaWVsZH0ganNvbiBGaWVsZCBkZXNjcmlwdG9yXG4gKiBAcmV0dXJucyB7RmllbGR9IENyZWF0ZWQgZmllbGRcbiAqIEB0aHJvd3Mge1R5cGVFcnJvcn0gSWYgYXJndW1lbnRzIGFyZSBpbnZhbGlkXG4gKi9cbkZpZWxkLmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04obmFtZSwganNvbikge1xuICAgIHZhciBmaWVsZCA9IG5ldyBGaWVsZChuYW1lLCBqc29uLmlkLCBqc29uLnR5cGUsIGpzb24ucnVsZSwganNvbi5leHRlbmQsIGpzb24ub3B0aW9ucywganNvbi5jb21tZW50KTtcbiAgICBpZiAoanNvbi5lZGl0aW9uKVxuICAgICAgICBmaWVsZC5fZWRpdGlvbiA9IGpzb24uZWRpdGlvbjtcbiAgICBmaWVsZC5fZGVmYXVsdEVkaXRpb24gPSBcInByb3RvM1wiOyAgLy8gRm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LlxuICAgIHJldHVybiBmaWVsZDtcbn07XG5cbi8qKlxuICogTm90IGFuIGFjdHVhbCBjb25zdHJ1Y3Rvci4gVXNlIHtAbGluayBGaWVsZH0gaW5zdGVhZC5cbiAqIEBjbGFzc2Rlc2MgQmFzZSBjbGFzcyBvZiBhbGwgcmVmbGVjdGVkIG1lc3NhZ2UgZmllbGRzLiBUaGlzIGlzIG5vdCBhbiBhY3R1YWwgY2xhc3MgYnV0IGhlcmUgZm9yIHRoZSBzYWtlIG9mIGhhdmluZyBjb25zaXN0ZW50IHR5cGUgZGVmaW5pdGlvbnMuXG4gKiBAZXhwb3J0cyBGaWVsZEJhc2VcbiAqIEBleHRlbmRzIFJlZmxlY3Rpb25PYmplY3RcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVW5pcXVlIG5hbWUgd2l0aGluIGl0cyBuYW1lc3BhY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBpZCBVbmlxdWUgaWQgd2l0aGluIGl0cyBuYW1lc3BhY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFZhbHVlIHR5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdC48c3RyaW5nLCo+fSBbcnVsZT1cIm9wdGlvbmFsXCJdIEZpZWxkIHJ1bGVcbiAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdC48c3RyaW5nLCo+fSBbZXh0ZW5kXSBFeHRlbmRlZCB0eXBlIGlmIGRpZmZlcmVudCBmcm9tIHBhcmVudFxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gW29wdGlvbnNdIERlY2xhcmVkIG9wdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29tbWVudF0gQ29tbWVudCBhc3NvY2lhdGVkIHdpdGggdGhpcyBmaWVsZFxuICovXG5mdW5jdGlvbiBGaWVsZChuYW1lLCBpZCwgdHlwZSwgcnVsZSwgZXh0ZW5kLCBvcHRpb25zLCBjb21tZW50KSB7XG5cbiAgICBpZiAodXRpbC5pc09iamVjdChydWxlKSkge1xuICAgICAgICBjb21tZW50ID0gZXh0ZW5kO1xuICAgICAgICBvcHRpb25zID0gcnVsZTtcbiAgICAgICAgcnVsZSA9IGV4dGVuZCA9IHVuZGVmaW5lZDtcbiAgICB9IGVsc2UgaWYgKHV0aWwuaXNPYmplY3QoZXh0ZW5kKSkge1xuICAgICAgICBjb21tZW50ID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IGV4dGVuZDtcbiAgICAgICAgZXh0ZW5kID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIFJlZmxlY3Rpb25PYmplY3QuY2FsbCh0aGlzLCBuYW1lLCBvcHRpb25zKTtcblxuICAgIGlmICghdXRpbC5pc0ludGVnZXIoaWQpIHx8IGlkIDwgMClcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiaWQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyXCIpO1xuXG4gICAgaWYgKCF1dGlsLmlzU3RyaW5nKHR5cGUpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJ0eXBlIG11c3QgYmUgYSBzdHJpbmdcIik7XG5cbiAgICBpZiAocnVsZSAhPT0gdW5kZWZpbmVkICYmICFydWxlUmUudGVzdChydWxlID0gcnVsZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJydWxlIG11c3QgYmUgYSBzdHJpbmcgcnVsZVwiKTtcblxuICAgIGlmIChleHRlbmQgIT09IHVuZGVmaW5lZCAmJiAhdXRpbC5pc1N0cmluZyhleHRlbmQpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJleHRlbmQgbXVzdCBiZSBhIHN0cmluZ1wiKTtcblxuICAgIC8qKlxuICAgICAqIEZpZWxkIHJ1bGUsIGlmIGFueS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfHVuZGVmaW5lZH1cbiAgICAgKi9cbiAgICBpZiAocnVsZSA9PT0gXCJwcm90bzNfb3B0aW9uYWxcIikge1xuICAgICAgICBydWxlID0gXCJvcHRpb25hbFwiO1xuICAgIH1cbiAgICB0aGlzLnJ1bGUgPSBydWxlICYmIHJ1bGUgIT09IFwib3B0aW9uYWxcIiA/IHJ1bGUgOiB1bmRlZmluZWQ7IC8vIHRvSlNPTlxuXG4gICAgLyoqXG4gICAgICogRmllbGQgdHlwZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IHR5cGU7IC8vIHRvSlNPTlxuXG4gICAgLyoqXG4gICAgICogVW5pcXVlIGZpZWxkIGlkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pZCA9IGlkOyAvLyB0b0pTT04sIG1hcmtlclxuXG4gICAgLyoqXG4gICAgICogRXh0ZW5kZWQgdHlwZSBpZiBkaWZmZXJlbnQgZnJvbSBwYXJlbnQuXG4gICAgICogQHR5cGUge3N0cmluZ3x1bmRlZmluZWR9XG4gICAgICovXG4gICAgdGhpcy5leHRlbmQgPSBleHRlbmQgfHwgdW5kZWZpbmVkOyAvLyB0b0pTT05cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBmaWVsZCBpcyByZXBlYXRlZC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlcGVhdGVkID0gcnVsZSA9PT0gXCJyZXBlYXRlZFwiO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGZpZWxkIGlzIGEgbWFwIG9yIG5vdC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLm1hcCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogTWVzc2FnZSB0aGlzIGZpZWxkIGJlbG9uZ3MgdG8uXG4gICAgICogQHR5cGUge1R5cGV8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLm1lc3NhZ2UgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogT25lT2YgdGhpcyBmaWVsZCBiZWxvbmdzIHRvLCBpZiBhbnksXG4gICAgICogQHR5cGUge09uZU9mfG51bGx9XG4gICAgICovXG4gICAgdGhpcy5wYXJ0T2YgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpZWxkIHR5cGUncyBkZWZhdWx0IHZhbHVlLlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqL1xuICAgIHRoaXMudHlwZURlZmF1bHQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZpZWxkJ3MgZGVmYXVsdCB2YWx1ZSBvbiBwcm90b3R5cGVzLlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqL1xuICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBmaWVsZCdzIHZhbHVlIHNob3VsZCBiZSB0cmVhdGVkIGFzIGEgbG9uZy5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmxvbmcgPSB1dGlsLkxvbmcgPyB0eXBlcy5sb25nW3R5cGVdICE9PSB1bmRlZmluZWQgOiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBmaWVsZCdzIHZhbHVlIGlzIGEgYnVmZmVyLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuYnl0ZXMgPSB0eXBlID09PSBcImJ5dGVzXCI7XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlZCB0eXBlIGlmIG5vdCBhIGJhc2ljIHR5cGUuXG4gICAgICogQHR5cGUge1R5cGV8RW51bXxudWxsfVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x2ZWRUeXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFNpc3Rlci1maWVsZCB3aXRoaW4gdGhlIGV4dGVuZGVkIHR5cGUgaWYgYSBkZWNsYXJpbmcgZXh0ZW5zaW9uIGZpZWxkLlxuICAgICAqIEB0eXBlIHtGaWVsZHxudWxsfVxuICAgICAqL1xuICAgIHRoaXMuZXh0ZW5zaW9uRmllbGQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogU2lzdGVyLWZpZWxkIHdpdGhpbiB0aGUgZGVjbGFyaW5nIG5hbWVzcGFjZSBpZiBhbiBleHRlbmRlZCBmaWVsZC5cbiAgICAgKiBAdHlwZSB7RmllbGR8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmRlY2xhcmluZ0ZpZWxkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENvbW1lbnQgZm9yIHRoaXMgZmllbGQuXG4gICAgICogQHR5cGUge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIHRoaXMuY29tbWVudCA9IGNvbW1lbnQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgZmllbGQgaXMgcmVxdWlyZWQuXG4gKiBAbmFtZSBGaWVsZCNyZXF1aXJlZFxuICogQHR5cGUge2Jvb2xlYW59XG4gKiBAcmVhZG9ubHlcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpZWxkLnByb3RvdHlwZSwgXCJyZXF1aXJlZFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZlYXR1cmVzLmZpZWxkX3ByZXNlbmNlID09PSBcIkxFR0FDWV9SRVFVSVJFRFwiO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGlzIGZpZWxkIGlzIG5vdCByZXF1aXJlZC5cbiAqIEBuYW1lIEZpZWxkI29wdGlvbmFsXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEByZWFkb25seVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRmllbGQucHJvdG90eXBlLCBcIm9wdGlvbmFsXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMucmVxdWlyZWQ7XG4gICAgfVxufSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgZmllbGQgdXNlcyB0YWctZGVsaW1pdGVkIGVuY29kaW5nLiAgSW4gcHJvdG8yIHRoaXNcbiAqIGNvcnJlc3BvbmRlZCB0byBncm91cCBzeW50YXguXG4gKiBAbmFtZSBGaWVsZCNkZWxpbWl0ZWRcbiAqIEB0eXBlIHtib29sZWFufVxuICogQHJlYWRvbmx5XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaWVsZC5wcm90b3R5cGUsIFwiZGVsaW1pdGVkXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBUeXBlICYmXG4gICAgICAgICAgICB0aGlzLl9mZWF0dXJlcy5tZXNzYWdlX2VuY29kaW5nID09PSBcIkRFTElNSVRFRFwiO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGlzIGZpZWxkIGlzIHBhY2tlZC4gT25seSByZWxldmFudCB3aGVuIHJlcGVhdGVkLlxuICogQG5hbWUgRmllbGQjcGFja2VkXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEByZWFkb25seVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRmllbGQucHJvdG90eXBlLCBcInBhY2tlZFwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZlYXR1cmVzLnJlcGVhdGVkX2ZpZWxkX2VuY29kaW5nID09PSBcIlBBQ0tFRFwiO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGlzIGZpZWxkIHRyYWNrcyBwcmVzZW5jZS5cbiAqIEBuYW1lIEZpZWxkI2hhc1ByZXNlbmNlXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEByZWFkb25seVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRmllbGQucHJvdG90eXBlLCBcImhhc1ByZXNlbmNlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5yZXBlYXRlZCB8fCB0aGlzLm1hcCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnRPZiB8fCAvLyBvbmVvZnNcbiAgICAgICAgICAgIHRoaXMuZGVjbGFyaW5nRmllbGQgfHwgdGhpcy5leHRlbnNpb25GaWVsZCB8fCAvLyBleHRlbnNpb25zXG4gICAgICAgICAgICB0aGlzLl9mZWF0dXJlcy5maWVsZF9wcmVzZW5jZSAhPT0gXCJJTVBMSUNJVFwiO1xuICAgIH1cbn0pO1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5GaWVsZC5wcm90b3R5cGUuc2V0T3B0aW9uID0gZnVuY3Rpb24gc2V0T3B0aW9uKG5hbWUsIHZhbHVlLCBpZk5vdFNldCkge1xuICAgIHJldHVybiBSZWZsZWN0aW9uT2JqZWN0LnByb3RvdHlwZS5zZXRPcHRpb24uY2FsbCh0aGlzLCBuYW1lLCB2YWx1ZSwgaWZOb3RTZXQpO1xufTtcblxuLyoqXG4gKiBGaWVsZCBkZXNjcmlwdG9yLlxuICogQGludGVyZmFjZSBJRmllbGRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbcnVsZT1cIm9wdGlvbmFsXCJdIEZpZWxkIHJ1bGVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSB0eXBlIEZpZWxkIHR5cGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBpZCBGaWVsZCBpZFxuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywqPn0gW29wdGlvbnNdIEZpZWxkIG9wdGlvbnNcbiAqL1xuXG4vKipcbiAqIEV4dGVuc2lvbiBmaWVsZCBkZXNjcmlwdG9yLlxuICogQGludGVyZmFjZSBJRXh0ZW5zaW9uRmllbGRcbiAqIEBleHRlbmRzIElGaWVsZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGV4dGVuZCBFeHRlbmRlZCB0eXBlXG4gKi9cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGZpZWxkIHRvIGEgZmllbGQgZGVzY3JpcHRvci5cbiAqIEBwYXJhbSB7SVRvSlNPTk9wdGlvbnN9IFt0b0pTT05PcHRpb25zXSBKU09OIGNvbnZlcnNpb24gb3B0aW9uc1xuICogQHJldHVybnMge0lGaWVsZH0gRmllbGQgZGVzY3JpcHRvclxuICovXG5GaWVsZC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKHRvSlNPTk9wdGlvbnMpIHtcbiAgICB2YXIga2VlcENvbW1lbnRzID0gdG9KU09OT3B0aW9ucyA/IEJvb2xlYW4odG9KU09OT3B0aW9ucy5rZWVwQ29tbWVudHMpIDogZmFsc2U7XG4gICAgcmV0dXJuIHV0aWwudG9PYmplY3QoW1xuICAgICAgICBcImVkaXRpb25cIiAsIHRoaXMuX2VkaXRpb25Ub0pTT04oKSxcbiAgICAgICAgXCJydWxlXCIgICAgLCB0aGlzLnJ1bGUgIT09IFwib3B0aW9uYWxcIiAmJiB0aGlzLnJ1bGUgfHwgdW5kZWZpbmVkLFxuICAgICAgICBcInR5cGVcIiAgICAsIHRoaXMudHlwZSxcbiAgICAgICAgXCJpZFwiICAgICAgLCB0aGlzLmlkLFxuICAgICAgICBcImV4dGVuZFwiICAsIHRoaXMuZXh0ZW5kLFxuICAgICAgICBcIm9wdGlvbnNcIiAsIHRoaXMub3B0aW9ucyxcbiAgICAgICAgXCJjb21tZW50XCIgLCBrZWVwQ29tbWVudHMgPyB0aGlzLmNvbW1lbnQgOiB1bmRlZmluZWRcbiAgICBdKTtcbn07XG5cbi8qKlxuICogUmVzb2x2ZXMgdGhpcyBmaWVsZCdzIHR5cGUgcmVmZXJlbmNlcy5cbiAqIEByZXR1cm5zIHtGaWVsZH0gYHRoaXNgXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgYW55IHJlZmVyZW5jZSBjYW5ub3QgYmUgcmVzb2x2ZWRcbiAqL1xuRmllbGQucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlKCkge1xuXG4gICAgaWYgKHRoaXMucmVzb2x2ZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKCh0aGlzLnR5cGVEZWZhdWx0ID0gdHlwZXMuZGVmYXVsdHNbdGhpcy50eXBlXSkgPT09IHVuZGVmaW5lZCkgeyAvLyBpZiBub3QgYSBiYXNpYyB0eXBlLCByZXNvbHZlIGl0XG4gICAgICAgIHRoaXMucmVzb2x2ZWRUeXBlID0gKHRoaXMuZGVjbGFyaW5nRmllbGQgPyB0aGlzLmRlY2xhcmluZ0ZpZWxkLnBhcmVudCA6IHRoaXMucGFyZW50KS5sb29rdXBUeXBlT3JFbnVtKHRoaXMudHlwZSk7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIFR5cGUpXG4gICAgICAgICAgICB0aGlzLnR5cGVEZWZhdWx0ID0gbnVsbDtcbiAgICAgICAgZWxzZSAvLyBpbnN0YW5jZW9mIEVudW1cbiAgICAgICAgICAgIHRoaXMudHlwZURlZmF1bHQgPSB0aGlzLnJlc29sdmVkVHlwZS52YWx1ZXNbT2JqZWN0LmtleXModGhpcy5yZXNvbHZlZFR5cGUudmFsdWVzKVswXV07IC8vIGZpcnN0IGRlZmluZWRcbiAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMucHJvdG8zX29wdGlvbmFsKSB7XG4gICAgICAgIC8vIHByb3RvMyBzY2FsYXIgdmFsdWUgbWFya2VkIG9wdGlvbmFsOyBzaG91bGQgZGVmYXVsdCB0byBudWxsXG4gICAgICAgIHRoaXMudHlwZURlZmF1bHQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vIHVzZSBleHBsaWNpdGx5IHNldCBkZWZhdWx0IHZhbHVlIGlmIHByZXNlbnRcbiAgICBpZiAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9uc1tcImRlZmF1bHRcIl0gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnR5cGVEZWZhdWx0ID0gdGhpcy5vcHRpb25zW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgaWYgKHRoaXMucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgRW51bSAmJiB0eXBlb2YgdGhpcy50eXBlRGVmYXVsdCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHRoaXMudHlwZURlZmF1bHQgPSB0aGlzLnJlc29sdmVkVHlwZS52YWx1ZXNbdGhpcy50eXBlRGVmYXVsdF07XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIHVubmVjZXNzYXJ5IG9wdGlvbnNcbiAgICBpZiAodGhpcy5vcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucGFja2VkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5yZXNvbHZlZFR5cGUgJiYgISh0aGlzLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIEVudW0pKVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5wYWNrZWQ7XG4gICAgICAgIGlmICghT2JqZWN0LmtleXModGhpcy5vcHRpb25zKS5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLy8gY29udmVydCB0byBpbnRlcm5hbCBkYXRhIHR5cGUgaWYgbmVjZXNzc2FyeVxuICAgIGlmICh0aGlzLmxvbmcpIHtcbiAgICAgICAgdGhpcy50eXBlRGVmYXVsdCA9IHV0aWwuTG9uZy5mcm9tTnVtYmVyKHRoaXMudHlwZURlZmF1bHQsIHRoaXMudHlwZS5jaGFyQXQoMCkgPT09IFwidVwiKTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSlcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUodGhpcy50eXBlRGVmYXVsdCk7IC8vIGxvbmcgaW5zdGFuY2VzIGFyZSBtZWFudCB0byBiZSBpbW11dGFibGUgYW55d2F5IChpLmUuIHVzZSBzbWFsbCBpbnQgY2FjaGUgdGhhdCBldmVuIHJlcXVpcmVzIGl0KVxuXG4gICAgfSBlbHNlIGlmICh0aGlzLmJ5dGVzICYmIHR5cGVvZiB0aGlzLnR5cGVEZWZhdWx0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhciBidWY7XG4gICAgICAgIGlmICh1dGlsLmJhc2U2NC50ZXN0KHRoaXMudHlwZURlZmF1bHQpKVxuICAgICAgICAgICAgdXRpbC5iYXNlNjQuZGVjb2RlKHRoaXMudHlwZURlZmF1bHQsIGJ1ZiA9IHV0aWwubmV3QnVmZmVyKHV0aWwuYmFzZTY0Lmxlbmd0aCh0aGlzLnR5cGVEZWZhdWx0KSksIDApO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB1dGlsLnV0Zjgud3JpdGUodGhpcy50eXBlRGVmYXVsdCwgYnVmID0gdXRpbC5uZXdCdWZmZXIodXRpbC51dGY4Lmxlbmd0aCh0aGlzLnR5cGVEZWZhdWx0KSksIDApO1xuICAgICAgICB0aGlzLnR5cGVEZWZhdWx0ID0gYnVmO1xuICAgIH1cblxuICAgIC8vIHRha2Ugc3BlY2lhbCBjYXJlIG9mIG1hcHMgYW5kIHJlcGVhdGVkIGZpZWxkc1xuICAgIGlmICh0aGlzLm1hcClcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSB1dGlsLmVtcHR5T2JqZWN0O1xuICAgIGVsc2UgaWYgKHRoaXMucmVwZWF0ZWQpXG4gICAgICAgIHRoaXMuZGVmYXVsdFZhbHVlID0gdXRpbC5lbXB0eUFycmF5O1xuICAgIGVsc2VcbiAgICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSB0aGlzLnR5cGVEZWZhdWx0O1xuXG4gICAgLy8gZW5zdXJlIHByb3BlciB2YWx1ZSBvbiBwcm90b3R5cGVcbiAgICBpZiAodGhpcy5wYXJlbnQgaW5zdGFuY2VvZiBUeXBlKVxuICAgICAgICB0aGlzLnBhcmVudC5jdG9yLnByb3RvdHlwZVt0aGlzLm5hbWVdID0gdGhpcy5kZWZhdWx0VmFsdWU7XG5cbiAgICByZXR1cm4gUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUucmVzb2x2ZS5jYWxsKHRoaXMpO1xufTtcblxuLyoqXG4gKiBJbmZlcnMgZmllbGQgZmVhdHVyZXMgZnJvbSBsZWdhY3kgc3ludGF4IHRoYXQgbWF5IGhhdmUgYmVlbiBzcGVjaWZpZWQgZGlmZmVyZW50bHkuXG4gKiBpbiBvbGRlciBlZGl0aW9ucy5cbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gZWRpdGlvbiBUaGUgZWRpdGlvbiB0aGlzIHByb3RvIGlzIG9uLCBvciB1bmRlZmluZWQgaWYgcHJlLWVkaXRpb25zXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgZmVhdHVyZSB2YWx1ZXMgdG8gb3ZlcnJpZGVcbiAqL1xuRmllbGQucHJvdG90eXBlLl9pbmZlckxlZ2FjeVByb3RvRmVhdHVyZXMgPSBmdW5jdGlvbiBfaW5mZXJMZWdhY3lQcm90b0ZlYXR1cmVzKGVkaXRpb24pIHtcbiAgICBpZiAoZWRpdGlvbiAhPT0gXCJwcm90bzJcIiAmJiBlZGl0aW9uICE9PSBcInByb3RvM1wiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB2YXIgZmVhdHVyZXMgPSB7fTtcblxuICAgIGlmICh0aGlzLnJ1bGUgPT09IFwicmVxdWlyZWRcIikge1xuICAgICAgICBmZWF0dXJlcy5maWVsZF9wcmVzZW5jZSA9IFwiTEVHQUNZX1JFUVVJUkVEXCI7XG4gICAgfVxuICAgIGlmICh0aGlzLnBhcmVudCAmJiB0eXBlcy5kZWZhdWx0c1t0aGlzLnR5cGVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gV2UgY2FuJ3QgdXNlIHJlc29sdmVkVHlwZSBiZWNhdXNlIHR5cGVzIG1heSBub3QgaGF2ZSBiZWVuIHJlc29sdmVkIHlldC4gIEhvd2V2ZXIsXG4gICAgICAgIC8vIGxlZ2FjeSBncm91cHMgYXJlIGFsd2F5cyBpbiB0aGUgc2FtZSBzY29wZSBhcyB0aGUgZmllbGQgc28gd2UgZG9uJ3QgaGF2ZSB0byBkbyBhXG4gICAgICAgIC8vIGZ1bGwgc2NhbiBvZiB0aGUgdHJlZS5cbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnBhcmVudC5nZXQodGhpcy50eXBlLnNwbGl0KFwiLlwiKS5wb3AoKSk7XG4gICAgICAgIGlmICh0eXBlICYmIHR5cGUgaW5zdGFuY2VvZiBUeXBlICYmIHR5cGUuZ3JvdXApIHtcbiAgICAgICAgICAgIGZlYXR1cmVzLm1lc3NhZ2VfZW5jb2RpbmcgPSBcIkRFTElNSVRFRFwiO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmdldE9wdGlvbihcInBhY2tlZFwiKSA9PT0gdHJ1ZSkge1xuICAgICAgICBmZWF0dXJlcy5yZXBlYXRlZF9maWVsZF9lbmNvZGluZyA9IFwiUEFDS0VEXCI7XG4gICAgfSBlbHNlIGlmICh0aGlzLmdldE9wdGlvbihcInBhY2tlZFwiKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZmVhdHVyZXMucmVwZWF0ZWRfZmllbGRfZW5jb2RpbmcgPSBcIkVYUEFOREVEXCI7XG4gICAgfVxuICAgIHJldHVybiBmZWF0dXJlcztcbn07XG5cbi8qKlxuICogQG92ZXJyaWRlXG4gKi9cbkZpZWxkLnByb3RvdHlwZS5fcmVzb2x2ZUZlYXR1cmVzID0gZnVuY3Rpb24gX3Jlc29sdmVGZWF0dXJlcyhlZGl0aW9uKSB7XG4gICAgcmV0dXJuIFJlZmxlY3Rpb25PYmplY3QucHJvdG90eXBlLl9yZXNvbHZlRmVhdHVyZXMuY2FsbCh0aGlzLCB0aGlzLl9lZGl0aW9uIHx8IGVkaXRpb24pO1xufTtcblxuLyoqXG4gKiBEZWNvcmF0b3IgZnVuY3Rpb24gYXMgcmV0dXJuZWQgYnkge0BsaW5rIEZpZWxkLmR9IGFuZCB7QGxpbmsgTWFwRmllbGQuZH0gKFR5cGVTY3JpcHQpLlxuICogQHR5cGVkZWYgRmllbGREZWNvcmF0b3JcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7T2JqZWN0fSBwcm90b3R5cGUgVGFyZ2V0IHByb3RvdHlwZVxuICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkTmFtZSBGaWVsZCBuYW1lXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5cbi8qKlxuICogRmllbGQgZGVjb3JhdG9yIChUeXBlU2NyaXB0KS5cbiAqIEBuYW1lIEZpZWxkLmRcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGZpZWxkSWQgRmllbGQgaWRcbiAqIEBwYXJhbSB7XCJkb3VibGVcInxcImZsb2F0XCJ8XCJpbnQzMlwifFwidWludDMyXCJ8XCJzaW50MzJcInxcImZpeGVkMzJcInxcInNmaXhlZDMyXCJ8XCJpbnQ2NFwifFwidWludDY0XCJ8XCJzaW50NjRcInxcImZpeGVkNjRcInxcInNmaXhlZDY0XCJ8XCJzdHJpbmdcInxcImJvb2xcInxcImJ5dGVzXCJ8T2JqZWN0fSBmaWVsZFR5cGUgRmllbGQgdHlwZVxuICogQHBhcmFtIHtcIm9wdGlvbmFsXCJ8XCJyZXF1aXJlZFwifFwicmVwZWF0ZWRcIn0gW2ZpZWxkUnVsZT1cIm9wdGlvbmFsXCJdIEZpZWxkIHJ1bGVcbiAqIEBwYXJhbSB7VH0gW2RlZmF1bHRWYWx1ZV0gRGVmYXVsdCB2YWx1ZVxuICogQHJldHVybnMge0ZpZWxkRGVjb3JhdG9yfSBEZWNvcmF0b3IgZnVuY3Rpb25cbiAqIEB0ZW1wbGF0ZSBUIGV4dGVuZHMgbnVtYmVyIHwgbnVtYmVyW10gfCBMb25nIHwgTG9uZ1tdIHwgc3RyaW5nIHwgc3RyaW5nW10gfCBib29sZWFuIHwgYm9vbGVhbltdIHwgVWludDhBcnJheSB8IFVpbnQ4QXJyYXlbXSB8IEJ1ZmZlciB8IEJ1ZmZlcltdXG4gKi9cbkZpZWxkLmQgPSBmdW5jdGlvbiBkZWNvcmF0ZUZpZWxkKGZpZWxkSWQsIGZpZWxkVHlwZSwgZmllbGRSdWxlLCBkZWZhdWx0VmFsdWUpIHtcblxuICAgIC8vIHN1Ym1lc3NhZ2U6IGRlY29yYXRlIHRoZSBzdWJtZXNzYWdlIGFuZCB1c2UgaXRzIG5hbWUgYXMgdGhlIHR5cGVcbiAgICBpZiAodHlwZW9mIGZpZWxkVHlwZSA9PT0gXCJmdW5jdGlvblwiKVxuICAgICAgICBmaWVsZFR5cGUgPSB1dGlsLmRlY29yYXRlVHlwZShmaWVsZFR5cGUpLm5hbWU7XG5cbiAgICAvLyBlbnVtIHJlZmVyZW5jZTogY3JlYXRlIGEgcmVmbGVjdGVkIGNvcHkgb2YgdGhlIGVudW0gYW5kIGtlZXAgcmV1c2VpbmcgaXRcbiAgICBlbHNlIGlmIChmaWVsZFR5cGUgJiYgdHlwZW9mIGZpZWxkVHlwZSA9PT0gXCJvYmplY3RcIilcbiAgICAgICAgZmllbGRUeXBlID0gdXRpbC5kZWNvcmF0ZUVudW0oZmllbGRUeXBlKS5uYW1lO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGZpZWxkRGVjb3JhdG9yKHByb3RvdHlwZSwgZmllbGROYW1lKSB7XG4gICAgICAgIHV0aWwuZGVjb3JhdGVUeXBlKHByb3RvdHlwZS5jb25zdHJ1Y3RvcilcbiAgICAgICAgICAgIC5hZGQobmV3IEZpZWxkKGZpZWxkTmFtZSwgZmllbGRJZCwgZmllbGRUeXBlLCBmaWVsZFJ1bGUsIHsgXCJkZWZhdWx0XCI6IGRlZmF1bHRWYWx1ZSB9KSk7XG4gICAgfTtcbn07XG5cbi8qKlxuICogRmllbGQgZGVjb3JhdG9yIChUeXBlU2NyaXB0KS5cbiAqIEBuYW1lIEZpZWxkLmRcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtudW1iZXJ9IGZpZWxkSWQgRmllbGQgaWRcbiAqIEBwYXJhbSB7Q29uc3RydWN0b3I8VD58c3RyaW5nfSBmaWVsZFR5cGUgRmllbGQgdHlwZVxuICogQHBhcmFtIHtcIm9wdGlvbmFsXCJ8XCJyZXF1aXJlZFwifFwicmVwZWF0ZWRcIn0gW2ZpZWxkUnVsZT1cIm9wdGlvbmFsXCJdIEZpZWxkIHJ1bGVcbiAqIEByZXR1cm5zIHtGaWVsZERlY29yYXRvcn0gRGVjb3JhdG9yIGZ1bmN0aW9uXG4gKiBAdGVtcGxhdGUgVCBleHRlbmRzIE1lc3NhZ2U8VD5cbiAqIEB2YXJpYXRpb24gMlxuICovXG4vLyBsaWtlIEZpZWxkLmQgYnV0IHdpdGhvdXQgYSBkZWZhdWx0IHZhbHVlXG5cbi8vIFNldHMgdXAgY3ljbGljIGRlcGVuZGVuY2llcyAoY2FsbGVkIGluIGluZGV4LWxpZ2h0KVxuRmllbGQuX2NvbmZpZ3VyZSA9IGZ1bmN0aW9uIGNvbmZpZ3VyZShUeXBlXykge1xuICAgIFR5cGUgPSBUeXBlXztcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gT25lT2Y7XG5cbi8vIGV4dGVuZHMgUmVmbGVjdGlvbk9iamVjdFxudmFyIFJlZmxlY3Rpb25PYmplY3QgPSByZXF1aXJlKFwiLi9vYmplY3RcIik7XG4oKE9uZU9mLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUpKS5jb25zdHJ1Y3RvciA9IE9uZU9mKS5jbGFzc05hbWUgPSBcIk9uZU9mXCI7XG5cbnZhciBGaWVsZCA9IHJlcXVpcmUoXCIuL2ZpZWxkXCIpLFxuICAgIHV0aWwgID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IG9uZW9mIGluc3RhbmNlLlxuICogQGNsYXNzZGVzYyBSZWZsZWN0ZWQgb25lb2YuXG4gKiBAZXh0ZW5kcyBSZWZsZWN0aW9uT2JqZWN0XG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE9uZW9mIG5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nW118T2JqZWN0LjxzdHJpbmcsKj59IFtmaWVsZE5hbWVzXSBGaWVsZCBuYW1lc1xuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0gW29wdGlvbnNdIERlY2xhcmVkIG9wdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29tbWVudF0gQ29tbWVudCBhc3NvY2lhdGVkIHdpdGggdGhpcyBmaWVsZFxuICovXG5mdW5jdGlvbiBPbmVPZihuYW1lLCBmaWVsZE5hbWVzLCBvcHRpb25zLCBjb21tZW50KSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpZWxkTmFtZXMpKSB7XG4gICAgICAgIG9wdGlvbnMgPSBmaWVsZE5hbWVzO1xuICAgICAgICBmaWVsZE5hbWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBSZWZsZWN0aW9uT2JqZWN0LmNhbGwodGhpcywgbmFtZSwgb3B0aW9ucyk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIShmaWVsZE5hbWVzID09PSB1bmRlZmluZWQgfHwgQXJyYXkuaXNBcnJheShmaWVsZE5hbWVzKSkpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcImZpZWxkTmFtZXMgbXVzdCBiZSBhbiBBcnJheVwiKTtcblxuICAgIC8qKlxuICAgICAqIEZpZWxkIG5hbWVzIHRoYXQgYmVsb25nIHRvIHRoaXMgb25lb2YuXG4gICAgICogQHR5cGUge3N0cmluZ1tdfVxuICAgICAqL1xuICAgIHRoaXMub25lb2YgPSBmaWVsZE5hbWVzIHx8IFtdOyAvLyB0b0pTT04sIG1hcmtlclxuXG4gICAgLyoqXG4gICAgICogRmllbGRzIHRoYXQgYmVsb25nIHRvIHRoaXMgb25lb2YgYXMgYW4gYXJyYXkgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAdHlwZSB7RmllbGRbXX1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICB0aGlzLmZpZWxkc0FycmF5ID0gW107IC8vIGRlY2xhcmVkIHJlYWRvbmx5IGZvciBjb25mb3JtYW5jZSwgcG9zc2libHkgbm90IHlldCBhZGRlZCB0byBwYXJlbnRcblxuICAgIC8qKlxuICAgICAqIENvbW1lbnQgZm9yIHRoaXMgZmllbGQuXG4gICAgICogQHR5cGUge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIHRoaXMuY29tbWVudCA9IGNvbW1lbnQ7XG59XG5cbi8qKlxuICogT25lb2YgZGVzY3JpcHRvci5cbiAqIEBpbnRlcmZhY2UgSU9uZU9mXG4gKiBAcHJvcGVydHkge0FycmF5LjxzdHJpbmc+fSBvbmVvZiBPbmVvZiBmaWVsZCBuYW1lc1xuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywqPn0gW29wdGlvbnNdIE9uZW9mIG9wdGlvbnNcbiAqL1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBvbmVvZiBmcm9tIGEgb25lb2YgZGVzY3JpcHRvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE9uZW9mIG5hbWVcbiAqIEBwYXJhbSB7SU9uZU9mfSBqc29uIE9uZW9mIGRlc2NyaXB0b3JcbiAqIEByZXR1cm5zIHtPbmVPZn0gQ3JlYXRlZCBvbmVvZlxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBhcmd1bWVudHMgYXJlIGludmFsaWRcbiAqL1xuT25lT2YuZnJvbUpTT04gPSBmdW5jdGlvbiBmcm9tSlNPTihuYW1lLCBqc29uKSB7XG4gICAgcmV0dXJuIG5ldyBPbmVPZihuYW1lLCBqc29uLm9uZW9mLCBqc29uLm9wdGlvbnMsIGpzb24uY29tbWVudCk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgb25lb2YgdG8gYSBvbmVvZiBkZXNjcmlwdG9yLlxuICogQHBhcmFtIHtJVG9KU09OT3B0aW9uc30gW3RvSlNPTk9wdGlvbnNdIEpTT04gY29udmVyc2lvbiBvcHRpb25zXG4gKiBAcmV0dXJucyB7SU9uZU9mfSBPbmVvZiBkZXNjcmlwdG9yXG4gKi9cbk9uZU9mLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04odG9KU09OT3B0aW9ucykge1xuICAgIHZhciBrZWVwQ29tbWVudHMgPSB0b0pTT05PcHRpb25zID8gQm9vbGVhbih0b0pTT05PcHRpb25zLmtlZXBDb21tZW50cykgOiBmYWxzZTtcbiAgICByZXR1cm4gdXRpbC50b09iamVjdChbXG4gICAgICAgIFwib3B0aW9uc1wiICwgdGhpcy5vcHRpb25zLFxuICAgICAgICBcIm9uZW9mXCIgICAsIHRoaXMub25lb2YsXG4gICAgICAgIFwiY29tbWVudFwiICwga2VlcENvbW1lbnRzID8gdGhpcy5jb21tZW50IDogdW5kZWZpbmVkXG4gICAgXSk7XG59O1xuXG4vKipcbiAqIEFkZHMgdGhlIGZpZWxkcyBvZiB0aGUgc3BlY2lmaWVkIG9uZW9mIHRvIHRoZSBwYXJlbnQgaWYgbm90IGFscmVhZHkgZG9uZSBzby5cbiAqIEBwYXJhbSB7T25lT2Z9IG9uZW9mIFRoZSBvbmVvZlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEBpbm5lclxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBhZGRGaWVsZHNUb1BhcmVudChvbmVvZikge1xuICAgIGlmIChvbmVvZi5wYXJlbnQpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb25lb2YuZmllbGRzQXJyYXkubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBpZiAoIW9uZW9mLmZpZWxkc0FycmF5W2ldLnBhcmVudClcbiAgICAgICAgICAgICAgICBvbmVvZi5wYXJlbnQuYWRkKG9uZW9mLmZpZWxkc0FycmF5W2ldKTtcbn1cblxuLyoqXG4gKiBBZGRzIGEgZmllbGQgdG8gdGhpcyBvbmVvZiBhbmQgcmVtb3ZlcyBpdCBmcm9tIGl0cyBjdXJyZW50IHBhcmVudCwgaWYgYW55LlxuICogQHBhcmFtIHtGaWVsZH0gZmllbGQgRmllbGQgdG8gYWRkXG4gKiBAcmV0dXJucyB7T25lT2Z9IGB0aGlzYFxuICovXG5PbmVPZi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKGZpZWxkKSB7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIShmaWVsZCBpbnN0YW5jZW9mIEZpZWxkKSlcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwiZmllbGQgbXVzdCBiZSBhIEZpZWxkXCIpO1xuXG4gICAgaWYgKGZpZWxkLnBhcmVudCAmJiBmaWVsZC5wYXJlbnQgIT09IHRoaXMucGFyZW50KVxuICAgICAgICBmaWVsZC5wYXJlbnQucmVtb3ZlKGZpZWxkKTtcbiAgICB0aGlzLm9uZW9mLnB1c2goZmllbGQubmFtZSk7XG4gICAgdGhpcy5maWVsZHNBcnJheS5wdXNoKGZpZWxkKTtcbiAgICBmaWVsZC5wYXJ0T2YgPSB0aGlzOyAvLyBmaWVsZC5wYXJlbnQgcmVtYWlucyBudWxsXG4gICAgYWRkRmllbGRzVG9QYXJlbnQodGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSBmaWVsZCBmcm9tIHRoaXMgb25lb2YgYW5kIHB1dHMgaXQgYmFjayB0byB0aGUgb25lb2YncyBwYXJlbnQuXG4gKiBAcGFyYW0ge0ZpZWxkfSBmaWVsZCBGaWVsZCB0byByZW1vdmVcbiAqIEByZXR1cm5zIHtPbmVPZn0gYHRoaXNgXG4gKi9cbk9uZU9mLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoZmllbGQpIHtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghKGZpZWxkIGluc3RhbmNlb2YgRmllbGQpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJmaWVsZCBtdXN0IGJlIGEgRmllbGRcIik7XG5cbiAgICB2YXIgaW5kZXggPSB0aGlzLmZpZWxkc0FycmF5LmluZGV4T2YoZmllbGQpO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGluZGV4IDwgMClcbiAgICAgICAgdGhyb3cgRXJyb3IoZmllbGQgKyBcIiBpcyBub3QgYSBtZW1iZXIgb2YgXCIgKyB0aGlzKTtcblxuICAgIHRoaXMuZmllbGRzQXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpbmRleCA9IHRoaXMub25lb2YuaW5kZXhPZihmaWVsZC5uYW1lKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGluZGV4ID4gLTEpIC8vIHRoZW9yZXRpY2FsXG4gICAgICAgIHRoaXMub25lb2Yuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgIGZpZWxkLnBhcnRPZiA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5PbmVPZi5wcm90b3R5cGUub25BZGQgPSBmdW5jdGlvbiBvbkFkZChwYXJlbnQpIHtcbiAgICBSZWZsZWN0aW9uT2JqZWN0LnByb3RvdHlwZS5vbkFkZC5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vIENvbGxlY3QgcHJlc2VudCBmaWVsZHNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub25lb2YubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGZpZWxkID0gcGFyZW50LmdldCh0aGlzLm9uZW9mW2ldKTtcbiAgICAgICAgaWYgKGZpZWxkICYmICFmaWVsZC5wYXJ0T2YpIHtcbiAgICAgICAgICAgIGZpZWxkLnBhcnRPZiA9IHNlbGY7XG4gICAgICAgICAgICBzZWxmLmZpZWxkc0FycmF5LnB1c2goZmllbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEFkZCBub3QgeWV0IHByZXNlbnQgZmllbGRzXG4gICAgYWRkRmllbGRzVG9QYXJlbnQodGhpcyk7XG59O1xuXG4vKipcbiAqIEBvdmVycmlkZVxuICovXG5PbmVPZi5wcm90b3R5cGUub25SZW1vdmUgPSBmdW5jdGlvbiBvblJlbW92ZShwYXJlbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZmllbGQ7IGkgPCB0aGlzLmZpZWxkc0FycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICBpZiAoKGZpZWxkID0gdGhpcy5maWVsZHNBcnJheVtpXSkucGFyZW50KVxuICAgICAgICAgICAgZmllbGQucGFyZW50LnJlbW92ZShmaWVsZCk7XG4gICAgUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUub25SZW1vdmUuY2FsbCh0aGlzLCBwYXJlbnQpO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhpcyBmaWVsZCBjb3JyZXNwb25kcyB0byBhIHN5bnRoZXRpYyBvbmVvZiBjcmVhdGVkIGZvclxuICogYSBwcm90bzMgb3B0aW9uYWwgZmllbGQuICBObyBiZWhhdmlvcmFsIGxvZ2ljIHNob3VsZCBkZXBlbmQgb24gdGhpcywgYnV0IGl0XG4gKiBjYW4gYmUgcmVsZXZhbnQgZm9yIHJlZmxlY3Rpb24uXG4gKiBAbmFtZSBPbmVPZiNpc1Byb3RvM09wdGlvbmFsXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEByZWFkb25seVxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoT25lT2YucHJvdG90eXBlLCBcImlzUHJvdG8zT3B0aW9uYWxcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmZpZWxkc0FycmF5ID09IG51bGwgfHwgdGhpcy5maWVsZHNBcnJheS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGRzQXJyYXlbMF07XG4gICAgICAgIHJldHVybiBmaWVsZC5vcHRpb25zICE9IG51bGwgJiYgZmllbGQub3B0aW9uc1tcInByb3RvM19vcHRpb25hbFwiXSA9PT0gdHJ1ZTtcbiAgICB9XG59KTtcblxuLyoqXG4gKiBEZWNvcmF0b3IgZnVuY3Rpb24gYXMgcmV0dXJuZWQgYnkge0BsaW5rIE9uZU9mLmR9IChUeXBlU2NyaXB0KS5cbiAqIEB0eXBlZGVmIE9uZU9mRGVjb3JhdG9yXG4gKiBAdHlwZSB7ZnVuY3Rpb259XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG90eXBlIFRhcmdldCBwcm90b3R5cGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBvbmVvZk5hbWUgT25lT2YgbmFtZVxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuXG4vKipcbiAqIE9uZU9mIGRlY29yYXRvciAoVHlwZVNjcmlwdCkuXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7Li4uc3RyaW5nfSBmaWVsZE5hbWVzIEZpZWxkIG5hbWVzXG4gKiBAcmV0dXJucyB7T25lT2ZEZWNvcmF0b3J9IERlY29yYXRvciBmdW5jdGlvblxuICogQHRlbXBsYXRlIFQgZXh0ZW5kcyBzdHJpbmdcbiAqL1xuT25lT2YuZCA9IGZ1bmN0aW9uIGRlY29yYXRlT25lT2YoKSB7XG4gICAgdmFyIGZpZWxkTmFtZXMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksXG4gICAgICAgIGluZGV4ID0gMDtcbiAgICB3aGlsZSAoaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoKVxuICAgICAgICBmaWVsZE5hbWVzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleCsrXTtcbiAgICByZXR1cm4gZnVuY3Rpb24gb25lT2ZEZWNvcmF0b3IocHJvdG90eXBlLCBvbmVvZk5hbWUpIHtcbiAgICAgICAgdXRpbC5kZWNvcmF0ZVR5cGUocHJvdG90eXBlLmNvbnN0cnVjdG9yKVxuICAgICAgICAgICAgLmFkZChuZXcgT25lT2Yob25lb2ZOYW1lLCBmaWVsZE5hbWVzKSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsIG9uZW9mTmFtZSwge1xuICAgICAgICAgICAgZ2V0OiB1dGlsLm9uZU9mR2V0dGVyKGZpZWxkTmFtZXMpLFxuICAgICAgICAgICAgc2V0OiB1dGlsLm9uZU9mU2V0dGVyKGZpZWxkTmFtZXMpXG4gICAgICAgIH0pO1xuICAgIH07XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IFJlZmxlY3Rpb25PYmplY3Q7XG5cblJlZmxlY3Rpb25PYmplY3QuY2xhc3NOYW1lID0gXCJSZWZsZWN0aW9uT2JqZWN0XCI7XG5cbmNvbnN0IE9uZU9mID0gcmVxdWlyZShcIi4vb25lb2ZcIik7XG52YXIgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5cbnZhciBSb290OyAvLyBjeWNsaWNcblxuLyogZXNsaW50LWRpc2FibGUgbm8td2FybmluZy1jb21tZW50cyAqL1xuLy8gVE9ETzogUmVwbGFjZSB3aXRoIGVtYmVkZGVkIHByb3RvLlxudmFyIGVkaXRpb25zMjAyM0RlZmF1bHRzID0ge2VudW1fdHlwZTogXCJPUEVOXCIsIGZpZWxkX3ByZXNlbmNlOiBcIkVYUExJQ0lUXCIsIGpzb25fZm9ybWF0OiBcIkFMTE9XXCIsIG1lc3NhZ2VfZW5jb2Rpbmc6IFwiTEVOR1RIX1BSRUZJWEVEXCIsIHJlcGVhdGVkX2ZpZWxkX2VuY29kaW5nOiBcIlBBQ0tFRFwiLCB1dGY4X3ZhbGlkYXRpb246IFwiVkVSSUZZXCJ9O1xudmFyIHByb3RvMkRlZmF1bHRzID0ge2VudW1fdHlwZTogXCJDTE9TRURcIiwgZmllbGRfcHJlc2VuY2U6IFwiRVhQTElDSVRcIiwganNvbl9mb3JtYXQ6IFwiTEVHQUNZX0JFU1RfRUZGT1JUXCIsIG1lc3NhZ2VfZW5jb2Rpbmc6IFwiTEVOR1RIX1BSRUZJWEVEXCIsIHJlcGVhdGVkX2ZpZWxkX2VuY29kaW5nOiBcIkVYUEFOREVEXCIsIHV0ZjhfdmFsaWRhdGlvbjogXCJOT05FXCJ9O1xudmFyIHByb3RvM0RlZmF1bHRzID0ge2VudW1fdHlwZTogXCJPUEVOXCIsIGZpZWxkX3ByZXNlbmNlOiBcIklNUExJQ0lUXCIsIGpzb25fZm9ybWF0OiBcIkFMTE9XXCIsIG1lc3NhZ2VfZW5jb2Rpbmc6IFwiTEVOR1RIX1BSRUZJWEVEXCIsIHJlcGVhdGVkX2ZpZWxkX2VuY29kaW5nOiBcIlBBQ0tFRFwiLCB1dGY4X3ZhbGlkYXRpb246IFwiVkVSSUZZXCJ9O1xuXG4vKipcbiAqIENvbnN0cnVjdHMgYSBuZXcgcmVmbGVjdGlvbiBvYmplY3QgaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIEJhc2UgY2xhc3Mgb2YgYWxsIHJlZmxlY3Rpb24gb2JqZWN0cy5cbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgT2JqZWN0IG5hbWVcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IFtvcHRpb25zXSBEZWNsYXJlZCBvcHRpb25zXG4gKiBAYWJzdHJhY3RcbiAqL1xuZnVuY3Rpb24gUmVmbGVjdGlvbk9iamVjdChuYW1lLCBvcHRpb25zKSB7XG5cbiAgICBpZiAoIXV0aWwuaXNTdHJpbmcobmFtZSkpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcIm5hbWUgbXVzdCBiZSBhIHN0cmluZ1wiKTtcblxuICAgIGlmIChvcHRpb25zICYmICF1dGlsLmlzT2JqZWN0KG9wdGlvbnMpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0XCIpO1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ucy5cbiAgICAgKiBAdHlwZSB7T2JqZWN0LjxzdHJpbmcsKj58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7IC8vIHRvSlNPTlxuXG4gICAgLyoqXG4gICAgICogUGFyc2VkIE9wdGlvbnMuXG4gICAgICogQHR5cGUge0FycmF5LjxPYmplY3QuPHN0cmluZywqPj58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMucGFyc2VkT3B0aW9ucyA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgbmFtZSB3aXRoaW4gaXRzIG5hbWVzcGFjZS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZWRpdGlvbiBzcGVjaWZpZWQgZm9yIHRoaXMgb2JqZWN0LiAgT25seSByZWxldmFudCBmb3IgdG9wLWxldmVsIG9iamVjdHMuXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2VkaXRpb24gPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgZWRpdGlvbiB0byB1c2UgZm9yIHRoaXMgb2JqZWN0IGlmIG5vbmUgaXMgc3BlY2lmaWVkLiAgRm9yIGxlZ2FjeSByZWFzb25zLFxuICAgICAqIHRoaXMgaXMgcHJvdG8yIGV4Y2VwdCBpbiB0aGUgSlNPTiBwYXJzaW5nIGNhc2Ugd2hlcmUgaXQgd2FzIHByb3RvMy5cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZGVmYXVsdEVkaXRpb24gPSBcInByb3RvMlwiO1xuXG4gICAgLyoqXG4gICAgICogUmVzb2x2ZWQgRmVhdHVyZXMuXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZlYXR1cmVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCBmZWF0dXJlcyBoYXZlIGJlZW4gcmVzb2x2ZWQuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9mZWF0dXJlc1Jlc29sdmVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBQYXJlbnQgbmFtZXNwYWNlLlxuICAgICAqIEB0eXBlIHtOYW1lc3BhY2V8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGFscmVhZHkgcmVzb2x2ZWQgb3Igbm90LlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMucmVzb2x2ZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIENvbW1lbnQgdGV4dCwgaWYgYW55LlxuICAgICAqIEB0eXBlIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmNvbW1lbnQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRGVmaW5pbmcgZmlsZSBuYW1lLlxuICAgICAqIEB0eXBlIHtzdHJpbmd8bnVsbH1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGVuYW1lID0gbnVsbDtcbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUsIHtcblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcm9vdCBuYW1lc3BhY2UuXG4gICAgICogQG5hbWUgUmVmbGVjdGlvbk9iamVjdCNyb290XG4gICAgICogQHR5cGUge1Jvb3R9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcm9vdDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHB0ciA9IHRoaXM7XG4gICAgICAgICAgICB3aGlsZSAocHRyLnBhcmVudCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICBwdHIgPSBwdHIucGFyZW50O1xuICAgICAgICAgICAgcmV0dXJuIHB0cjtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGdWxsIG5hbWUgaW5jbHVkaW5nIGxlYWRpbmcgZG90LlxuICAgICAqIEBuYW1lIFJlZmxlY3Rpb25PYmplY3QjZnVsbE5hbWVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIGZ1bGxOYW1lOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcGF0aCA9IFsgdGhpcy5uYW1lIF0sXG4gICAgICAgICAgICAgICAgcHRyID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAocHRyKSB7XG4gICAgICAgICAgICAgICAgcGF0aC51bnNoaWZ0KHB0ci5uYW1lKTtcbiAgICAgICAgICAgICAgICBwdHIgPSBwdHIucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhdGguam9pbihcIi5cIik7XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIHJlZmxlY3Rpb24gb2JqZWN0IHRvIGl0cyBkZXNjcmlwdG9yIHJlcHJlc2VudGF0aW9uLlxuICogQHJldHVybnMge09iamVjdC48c3RyaW5nLCo+fSBEZXNjcmlwdG9yXG4gKiBAYWJzdHJhY3RcbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUudG9KU09OID0gLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgIHRocm93IEVycm9yKCk7IC8vIG5vdCBpbXBsZW1lbnRlZCwgc2hvdWxkbid0IGhhcHBlblxufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiB0aGlzIG9iamVjdCBpcyBhZGRlZCB0byBhIHBhcmVudC5cbiAqIEBwYXJhbSB7UmVmbGVjdGlvbk9iamVjdH0gcGFyZW50IFBhcmVudCBhZGRlZCB0b1xuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUub25BZGQgPSBmdW5jdGlvbiBvbkFkZChwYXJlbnQpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQgIT09IHBhcmVudClcbiAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlKHRoaXMpO1xuICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgIHRoaXMucmVzb2x2ZWQgPSBmYWxzZTtcbiAgICB2YXIgcm9vdCA9IHBhcmVudC5yb290O1xuICAgIGlmIChyb290IGluc3RhbmNlb2YgUm9vdClcbiAgICAgICAgcm9vdC5faGFuZGxlQWRkKHRoaXMpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiB0aGlzIG9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBwYXJlbnQuXG4gKiBAcGFyYW0ge1JlZmxlY3Rpb25PYmplY3R9IHBhcmVudCBQYXJlbnQgcmVtb3ZlZCBmcm9tXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICovXG5SZWZsZWN0aW9uT2JqZWN0LnByb3RvdHlwZS5vblJlbW92ZSA9IGZ1bmN0aW9uIG9uUmVtb3ZlKHBhcmVudCkge1xuICAgIHZhciByb290ID0gcGFyZW50LnJvb3Q7XG4gICAgaWYgKHJvb3QgaW5zdGFuY2VvZiBSb290KVxuICAgICAgICByb290Ll9oYW5kbGVSZW1vdmUodGhpcyk7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIHRoaXMucmVzb2x2ZWQgPSBmYWxzZTtcbn07XG5cbi8qKlxuICogUmVzb2x2ZXMgdGhpcyBvYmplY3RzIHR5cGUgcmVmZXJlbmNlcy5cbiAqIEByZXR1cm5zIHtSZWZsZWN0aW9uT2JqZWN0fSBgdGhpc2BcbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gICAgaWYgKHRoaXMucmVzb2x2ZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIGlmICh0aGlzLnJvb3QgaW5zdGFuY2VvZiBSb290KVxuICAgICAgICB0aGlzLnJlc29sdmVkID0gdHJ1ZTsgLy8gb25seSBpZiBwYXJ0IG9mIGEgcm9vdFxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXNvbHZlcyB0aGlzIG9iamVjdHMgZWRpdGlvbnMgZmVhdHVyZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gZWRpdGlvbiBUaGUgZWRpdGlvbiB3ZSdyZSBjdXJyZW50bHkgcmVzb2x2aW5nIGZvci5cbiAqIEByZXR1cm5zIHtSZWZsZWN0aW9uT2JqZWN0fSBgdGhpc2BcbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUuX3Jlc29sdmVGZWF0dXJlc1JlY3Vyc2l2ZSA9IGZ1bmN0aW9uIF9yZXNvbHZlRmVhdHVyZXNSZWN1cnNpdmUoZWRpdGlvbikge1xuICAgIHJldHVybiB0aGlzLl9yZXNvbHZlRmVhdHVyZXModGhpcy5fZWRpdGlvbiB8fCBlZGl0aW9uKTtcbn07XG5cbi8qKlxuICogUmVzb2x2ZXMgY2hpbGQgZmVhdHVyZXMgZnJvbSBwYXJlbnQgZmVhdHVyZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBlZGl0aW9uIFRoZSBlZGl0aW9uIHdlJ3JlIGN1cnJlbnRseSByZXNvbHZpbmcgZm9yLlxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUuX3Jlc29sdmVGZWF0dXJlcyA9IGZ1bmN0aW9uIF9yZXNvbHZlRmVhdHVyZXMoZWRpdGlvbikge1xuICAgIGlmICh0aGlzLl9mZWF0dXJlc1Jlc29sdmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZGVmYXVsdHMgPSB7fTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghZWRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVkaXRpb24gZm9yIFwiICsgdGhpcy5mdWxsTmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIHByb3RvRmVhdHVyZXMgPSBPYmplY3QuYXNzaWduKHRoaXMub3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oe30sICB0aGlzLm9wdGlvbnMuZmVhdHVyZXMpIDoge30sXG4gICAgICAgIHRoaXMuX2luZmVyTGVnYWN5UHJvdG9GZWF0dXJlcyhlZGl0aW9uKSk7XG5cbiAgICBpZiAodGhpcy5fZWRpdGlvbikge1xuICAgICAgICAvLyBGb3IgYSBuYW1lc3BhY2UgbWFya2VkIHdpdGggYSBzcGVjaWZpYyBlZGl0aW9uLCByZXNldCBkZWZhdWx0cy5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKGVkaXRpb24gPT09IFwicHJvdG8yXCIpIHtcbiAgICAgICAgICAgIGRlZmF1bHRzID0gT2JqZWN0LmFzc2lnbih7fSwgcHJvdG8yRGVmYXVsdHMpO1xuICAgICAgICB9IGVsc2UgaWYgKGVkaXRpb24gPT09IFwicHJvdG8zXCIpIHtcbiAgICAgICAgICAgIGRlZmF1bHRzID0gT2JqZWN0LmFzc2lnbih7fSwgcHJvdG8zRGVmYXVsdHMpO1xuICAgICAgICB9IGVsc2UgaWYgKGVkaXRpb24gPT09IFwiMjAyM1wiKSB7XG4gICAgICAgICAgICBkZWZhdWx0cyA9IE9iamVjdC5hc3NpZ24oe30sIGVkaXRpb25zMjAyM0RlZmF1bHRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZWRpdGlvbjogXCIgKyBlZGl0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9mZWF0dXJlcyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdHMsIHByb3RvRmVhdHVyZXMgfHwge30pO1xuICAgICAgICB0aGlzLl9mZWF0dXJlc1Jlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGZpZWxkcyBpbiBPbmVvZnMgYXJlbid0IGFjdHVhbGx5IGNoaWxkcmVuIG9mIHRoZW0sIHNvIHdlIGhhdmUgdG9cbiAgICAvLyBzcGVjaWFsLWNhc2UgaXRcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICh0aGlzLnBhcnRPZiBpbnN0YW5jZW9mIE9uZU9mKSB7XG4gICAgICAgIHZhciBsZXhpY2FsUGFyZW50RmVhdHVyZXNDb3B5ID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wYXJ0T2YuX2ZlYXR1cmVzKTtcbiAgICAgICAgdGhpcy5fZmVhdHVyZXMgPSBPYmplY3QuYXNzaWduKGxleGljYWxQYXJlbnRGZWF0dXJlc0NvcHksIHByb3RvRmVhdHVyZXMgfHwge30pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kZWNsYXJpbmdGaWVsZCkge1xuICAgICAgICAvLyBTa2lwIGZlYXR1cmUgcmVzb2x1dGlvbiBvZiBzaXN0ZXIgZmllbGRzLlxuICAgIH0gZWxzZSBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdmFyIHBhcmVudEZlYXR1cmVzQ29weSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucGFyZW50Ll9mZWF0dXJlcyk7XG4gICAgICAgIHRoaXMuX2ZlYXR1cmVzID0gT2JqZWN0LmFzc2lnbihwYXJlbnRGZWF0dXJlc0NvcHksIHByb3RvRmVhdHVyZXMgfHwge30pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIGEgcGFyZW50IGZvciBcIiArIHRoaXMuZnVsbE5hbWUpO1xuICAgIH1cbiAgICBpZiAodGhpcy5leHRlbnNpb25GaWVsZCkge1xuICAgICAgICAvLyBTaXN0ZXIgZmllbGRzIHNob3VsZCBoYXZlIHRoZSBzYW1lIGZlYXR1cmVzIGFzIHRoZWlyIGV4dGVuc2lvbnMuXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uRmllbGQuX2ZlYXR1cmVzID0gdGhpcy5fZmVhdHVyZXM7XG4gICAgfVxuICAgIHRoaXMuX2ZlYXR1cmVzUmVzb2x2ZWQgPSB0cnVlO1xufTtcblxuLyoqXG4gKiBJbmZlcnMgZmVhdHVyZXMgZnJvbSBsZWdhY3kgc3ludGF4IHRoYXQgbWF5IGhhdmUgYmVlbiBzcGVjaWZpZWQgZGlmZmVyZW50bHkuXG4gKiBpbiBvbGRlciBlZGl0aW9ucy5cbiAqIEBwYXJhbSB7c3RyaW5nfHVuZGVmaW5lZH0gZWRpdGlvbiBUaGUgZWRpdGlvbiB0aGlzIHByb3RvIGlzIG9uLCBvciB1bmRlZmluZWQgaWYgcHJlLWVkaXRpb25zXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgZmVhdHVyZSB2YWx1ZXMgdG8gb3ZlcnJpZGVcbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUuX2luZmVyTGVnYWN5UHJvdG9GZWF0dXJlcyA9IGZ1bmN0aW9uIF9pbmZlckxlZ2FjeVByb3RvRmVhdHVyZXMoLyplZGl0aW9uKi8pIHtcbiAgICByZXR1cm4ge307XG59O1xuXG4vKipcbiAqIEdldHMgYW4gb3B0aW9uIHZhbHVlLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgT3B0aW9uIG5hbWVcbiAqIEByZXR1cm5zIHsqfSBPcHRpb24gdmFsdWUgb3IgYHVuZGVmaW5lZGAgaWYgbm90IHNldFxuICovXG5SZWZsZWN0aW9uT2JqZWN0LnByb3RvdHlwZS5nZXRPcHRpb24gPSBmdW5jdGlvbiBnZXRPcHRpb24obmFtZSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMpXG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbbmFtZV07XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn07XG5cbi8qKlxuICogU2V0cyBhbiBvcHRpb24uXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBPcHRpb24gbmFtZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBPcHRpb24gdmFsdWVcbiAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IFtpZk5vdFNldF0gU2V0cyB0aGUgb3B0aW9uIG9ubHkgaWYgaXQgaXNuJ3QgY3VycmVudGx5IHNldFxuICogQHJldHVybnMge1JlZmxlY3Rpb25PYmplY3R9IGB0aGlzYFxuICovXG5SZWZsZWN0aW9uT2JqZWN0LnByb3RvdHlwZS5zZXRPcHRpb24gPSBmdW5jdGlvbiBzZXRPcHRpb24obmFtZSwgdmFsdWUsIGlmTm90U2V0KSB7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMpXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHt9O1xuICAgIGlmICgvXmZlYXR1cmVzXFwuLy50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHV0aWwuc2V0UHJvcGVydHkodGhpcy5vcHRpb25zLCBuYW1lLCB2YWx1ZSwgaWZOb3RTZXQpO1xuICAgIH0gZWxzZSBpZiAoIWlmTm90U2V0IHx8IHRoaXMub3B0aW9uc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh0aGlzLmdldE9wdGlvbihuYW1lKSAhPT0gdmFsdWUpIHRoaXMucmVzb2x2ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vcHRpb25zW25hbWVdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldHMgYSBwYXJzZWQgb3B0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgcGFyc2VkIE9wdGlvbiBuYW1lXG4gKiBAcGFyYW0geyp9IHZhbHVlIE9wdGlvbiB2YWx1ZVxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BOYW1lIGRvdCAnLicgZGVsaW1pdGVkIGZ1bGwgcGF0aCBvZiBwcm9wZXJ0eSB3aXRoaW4gdGhlIG9wdGlvbiB0byBzZXQuIGlmIHVuZGVmaW5lZFxcZW1wdHksIHdpbGwgYWRkIGEgbmV3IG9wdGlvbiB3aXRoIHRoYXQgdmFsdWVcbiAqIEByZXR1cm5zIHtSZWZsZWN0aW9uT2JqZWN0fSBgdGhpc2BcbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUuc2V0UGFyc2VkT3B0aW9uID0gZnVuY3Rpb24gc2V0UGFyc2VkT3B0aW9uKG5hbWUsIHZhbHVlLCBwcm9wTmFtZSkge1xuICAgIGlmICghdGhpcy5wYXJzZWRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMucGFyc2VkT3B0aW9ucyA9IFtdO1xuICAgIH1cbiAgICB2YXIgcGFyc2VkT3B0aW9ucyA9IHRoaXMucGFyc2VkT3B0aW9ucztcbiAgICBpZiAocHJvcE5hbWUpIHtcbiAgICAgICAgLy8gSWYgc2V0dGluZyBhIHN1YiBwcm9wZXJ0eSBvZiBhbiBvcHRpb24gdGhlbiB0cnkgdG8gbWVyZ2UgaXRcbiAgICAgICAgLy8gd2l0aCBhbiBleGlzdGluZyBvcHRpb25cbiAgICAgICAgdmFyIG9wdCA9IHBhcnNlZE9wdGlvbnMuZmluZChmdW5jdGlvbiAob3B0KSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdCwgbmFtZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3B0KSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhbiBleGlzdGluZyBvcHRpb24gLSBqdXN0IG1lcmdlIHRoZSBwcm9wZXJ0eSB2YWx1ZVxuICAgICAgICAgICAgLy8gKElmIGl0J3MgYSBmZWF0dXJlLCB3aWxsIGp1c3Qgd3JpdGUgb3ZlcilcbiAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IG9wdFtuYW1lXTtcbiAgICAgICAgICAgIHV0aWwuc2V0UHJvcGVydHkobmV3VmFsdWUsIHByb3BOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIGNyZWF0ZSBhIG5ldyBvcHRpb24sIHNldCBpdHMgcHJvcGVydHkgYW5kIGFkZCBpdCB0byB0aGUgbGlzdFxuICAgICAgICAgICAgb3B0ID0ge307XG4gICAgICAgICAgICBvcHRbbmFtZV0gPSB1dGlsLnNldFByb3BlcnR5KHt9LCBwcm9wTmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgcGFyc2VkT3B0aW9ucy5wdXNoKG9wdCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBbHdheXMgY3JlYXRlIGEgbmV3IG9wdGlvbiB3aGVuIHNldHRpbmcgdGhlIHZhbHVlIG9mIHRoZSBvcHRpb24gaXRzZWxmXG4gICAgICAgIHZhciBuZXdPcHQgPSB7fTtcbiAgICAgICAgbmV3T3B0W25hbWVdID0gdmFsdWU7XG4gICAgICAgIHBhcnNlZE9wdGlvbnMucHVzaChuZXdPcHQpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXRzIG11bHRpcGxlIG9wdGlvbnMuXG4gKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCo+fSBvcHRpb25zIE9wdGlvbnMgdG8gc2V0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtpZk5vdFNldF0gU2V0cyBhbiBvcHRpb24gb25seSBpZiBpdCBpc24ndCBjdXJyZW50bHkgc2V0XG4gKiBAcmV0dXJucyB7UmVmbGVjdGlvbk9iamVjdH0gYHRoaXNgXG4gKi9cblJlZmxlY3Rpb25PYmplY3QucHJvdG90eXBlLnNldE9wdGlvbnMgPSBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMsIGlmTm90U2V0KSB7XG4gICAgaWYgKG9wdGlvbnMpXG4gICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgdGhpcy5zZXRPcHRpb24oa2V5c1tpXSwgb3B0aW9uc1trZXlzW2ldXSwgaWZOb3RTZXQpO1xuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGluc3RhbmNlIHRvIGl0cyBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBDbGFzcyBuYW1lWywgc3BhY2UsIGZ1bGwgbmFtZV1cbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gdGhpcy5jb25zdHJ1Y3Rvci5jbGFzc05hbWUsXG4gICAgICAgIGZ1bGxOYW1lICA9IHRoaXMuZnVsbE5hbWU7XG4gICAgaWYgKGZ1bGxOYW1lLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGNsYXNzTmFtZSArIFwiIFwiICsgZnVsbE5hbWU7XG4gICAgcmV0dXJuIGNsYXNzTmFtZTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIGVkaXRpb24gdGhpcyBvYmplY3QgaXMgcGlubmVkIHRvIGZvciBKU09OIGZvcm1hdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBUaGUgZWRpdGlvbiBzdHJpbmcgZm9yIEpTT04gcmVwcmVzZW50YXRpb25cbiAqL1xuUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUuX2VkaXRpb25Ub0pTT04gPSBmdW5jdGlvbiBfZWRpdGlvblRvSlNPTigpIHtcbiAgICBpZiAoIXRoaXMuX2VkaXRpb24gfHwgdGhpcy5fZWRpdGlvbiA9PT0gXCJwcm90bzNcIikge1xuICAgICAgICAvLyBBdm9pZCBlbWl0dGluZyBwcm90bzMgc2luY2Ugd2UgbmVlZCB0byBkZWZhdWx0IHRvIGl0IGZvciBiYWNrd2FyZHNcbiAgICAgICAgLy8gY29tcGF0aWJpbGl0eSBhbnl3YXkuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9lZGl0aW9uO1xufTtcblxuLy8gU2V0cyB1cCBjeWNsaWMgZGVwZW5kZW5jaWVzIChjYWxsZWQgaW4gaW5kZXgtbGlnaHQpXG5SZWZsZWN0aW9uT2JqZWN0Ll9jb25maWd1cmUgPSBmdW5jdGlvbihSb290Xykge1xuICAgIFJvb3QgPSBSb290Xztcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gRW51bTtcblxuLy8gZXh0ZW5kcyBSZWZsZWN0aW9uT2JqZWN0XG52YXIgUmVmbGVjdGlvbk9iamVjdCA9IHJlcXVpcmUoXCIuL29iamVjdFwiKTtcbigoRW51bS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJlZmxlY3Rpb25PYmplY3QucHJvdG90eXBlKSkuY29uc3RydWN0b3IgPSBFbnVtKS5jbGFzc05hbWUgPSBcIkVudW1cIjtcblxudmFyIE5hbWVzcGFjZSA9IHJlcXVpcmUoXCIuL25hbWVzcGFjZVwiKSxcbiAgICB1dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGEgbmV3IGVudW0gaW5zdGFuY2UuXG4gKiBAY2xhc3NkZXNjIFJlZmxlY3RlZCBlbnVtLlxuICogQGV4dGVuZHMgUmVmbGVjdGlvbk9iamVjdFxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBVbmlxdWUgbmFtZSB3aXRoaW4gaXRzIG5hbWVzcGFjZVxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZyxudW1iZXI+fSBbdmFsdWVzXSBFbnVtIHZhbHVlcyBhcyBhbiBvYmplY3QsIGJ5IG5hbWVcbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsKj59IFtvcHRpb25zXSBEZWNsYXJlZCBvcHRpb25zXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvbW1lbnRdIFRoZSBjb21tZW50IGZvciB0aGlzIGVudW1cbiAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsc3RyaW5nPn0gW2NvbW1lbnRzXSBUaGUgdmFsdWUgY29tbWVudHMgZm9yIHRoaXMgZW51bVxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZyxPYmplY3Q8c3RyaW5nLCo+Pnx1bmRlZmluZWR9IFt2YWx1ZXNPcHRpb25zXSBUaGUgdmFsdWUgb3B0aW9ucyBmb3IgdGhpcyBlbnVtXG4gKi9cbmZ1bmN0aW9uIEVudW0obmFtZSwgdmFsdWVzLCBvcHRpb25zLCBjb21tZW50LCBjb21tZW50cywgdmFsdWVzT3B0aW9ucykge1xuICAgIFJlZmxlY3Rpb25PYmplY3QuY2FsbCh0aGlzLCBuYW1lLCBvcHRpb25zKTtcblxuICAgIGlmICh2YWx1ZXMgJiYgdHlwZW9mIHZhbHVlcyAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwidmFsdWVzIG11c3QgYmUgYW4gb2JqZWN0XCIpO1xuXG4gICAgLyoqXG4gICAgICogRW51bSB2YWx1ZXMgYnkgaWQuXG4gICAgICogQHR5cGUge09iamVjdC48bnVtYmVyLHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy52YWx1ZXNCeUlkID0ge307XG5cbiAgICAvKipcbiAgICAgKiBFbnVtIHZhbHVlcyBieSBuYW1lLlxuICAgICAqIEB0eXBlIHtPYmplY3QuPHN0cmluZyxudW1iZXI+fVxuICAgICAqL1xuICAgIHRoaXMudmFsdWVzID0gT2JqZWN0LmNyZWF0ZSh0aGlzLnZhbHVlc0J5SWQpOyAvLyB0b0pTT04sIG1hcmtlclxuXG4gICAgLyoqXG4gICAgICogRW51bSBjb21tZW50IHRleHQuXG4gICAgICogQHR5cGUge3N0cmluZ3xudWxsfVxuICAgICAqL1xuICAgIHRoaXMuY29tbWVudCA9IGNvbW1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBWYWx1ZSBjb21tZW50IHRleHRzLCBpZiBhbnkuXG4gICAgICogQHR5cGUge09iamVjdC48c3RyaW5nLHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5jb21tZW50cyA9IGNvbW1lbnRzIHx8IHt9O1xuXG4gICAgLyoqXG4gICAgICogVmFsdWVzIG9wdGlvbnMsIGlmIGFueVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCAqPj58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMudmFsdWVzT3B0aW9ucyA9IHZhbHVlc09wdGlvbnM7XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlZCB2YWx1ZXMgZmVhdHVyZXMsIGlmIGFueVxuICAgICAqIEB0eXBlIHtPYmplY3Q8c3RyaW5nLCBPYmplY3Q8c3RyaW5nLCAqPj58dW5kZWZpbmVkfVxuICAgICAqL1xuICAgIHRoaXMuX3ZhbHVlc0ZlYXR1cmVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBSZXNlcnZlZCByYW5nZXMsIGlmIGFueS5cbiAgICAgKiBAdHlwZSB7QXJyYXkuPG51bWJlcltdfHN0cmluZz59XG4gICAgICovXG4gICAgdGhpcy5yZXNlcnZlZCA9IHVuZGVmaW5lZDsgLy8gdG9KU09OXG5cbiAgICAvLyBOb3RlIHRoYXQgdmFsdWVzIGluaGVyaXQgdmFsdWVzQnlJZCBvbiB0aGVpciBwcm90b3R5cGUgd2hpY2ggbWFrZXMgdGhlbSBhIFR5cGVTY3JpcHQtXG4gICAgLy8gY29tcGF0aWJsZSBlbnVtLiBUaGlzIGlzIHVzZWQgYnkgcGJ0cyB0byB3cml0ZSBhY3R1YWwgZW51bSBkZWZpbml0aW9ucyB0aGF0IHdvcmsgZm9yXG4gICAgLy8gc3RhdGljIGFuZCByZWZsZWN0aW9uIGNvZGUgYWxpa2UgaW5zdGVhZCBvZiBlbWl0dGluZyBnZW5lcmljIG9iamVjdCBkZWZpbml0aW9ucy5cblxuICAgIGlmICh2YWx1ZXMpXG4gICAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZXMpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1trZXlzW2ldXSA9PT0gXCJudW1iZXJcIikgLy8gdXNlIGZvcndhcmQgZW50cmllcyBvbmx5XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZXNCeUlkWyB0aGlzLnZhbHVlc1trZXlzW2ldXSA9IHZhbHVlc1trZXlzW2ldXSBdID0ga2V5c1tpXTtcbn1cblxuLyoqXG4gKiBAb3ZlcnJpZGVcbiAqL1xuRW51bS5wcm90b3R5cGUuX3Jlc29sdmVGZWF0dXJlcyA9IGZ1bmN0aW9uIF9yZXNvbHZlRmVhdHVyZXMoZWRpdGlvbikge1xuICAgIGVkaXRpb24gPSB0aGlzLl9lZGl0aW9uIHx8IGVkaXRpb247XG4gICAgUmVmbGVjdGlvbk9iamVjdC5wcm90b3R5cGUuX3Jlc29sdmVGZWF0dXJlcy5jYWxsKHRoaXMsIGVkaXRpb24pO1xuXG4gICAgT2JqZWN0LmtleXModGhpcy52YWx1ZXMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgdmFyIHBhcmVudEZlYXR1cmVzQ29weSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX2ZlYXR1cmVzKTtcbiAgICAgICAgdGhpcy5fdmFsdWVzRmVhdHVyZXNba2V5XSA9IE9iamVjdC5hc3NpZ24ocGFyZW50RmVhdHVyZXNDb3B5LCB0aGlzLnZhbHVlc09wdGlvbnMgJiYgdGhpcy52YWx1ZXNPcHRpb25zW2tleV0gJiYgdGhpcy52YWx1ZXNPcHRpb25zW2tleV0uZmVhdHVyZXMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVudW0gZGVzY3JpcHRvci5cbiAqIEBpbnRlcmZhY2UgSUVudW1cbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsbnVtYmVyPn0gdmFsdWVzIEVudW0gdmFsdWVzXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCo+fSBbb3B0aW9uc10gRW51bSBvcHRpb25zXG4gKi9cblxuLyoqXG4gKiBDb25zdHJ1Y3RzIGFuIGVudW0gZnJvbSBhbiBlbnVtIGRlc2NyaXB0b3IuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFbnVtIG5hbWVcbiAqIEBwYXJhbSB7SUVudW19IGpzb24gRW51bSBkZXNjcmlwdG9yXG4gKiBAcmV0dXJucyB7RW51bX0gQ3JlYXRlZCBlbnVtXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGFyZ3VtZW50cyBhcmUgaW52YWxpZFxuICovXG5FbnVtLmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04obmFtZSwganNvbikge1xuICAgIHZhciBlbm0gPSBuZXcgRW51bShuYW1lLCBqc29uLnZhbHVlcywganNvbi5vcHRpb25zLCBqc29uLmNvbW1lbnQsIGpzb24uY29tbWVudHMpO1xuICAgIGVubS5yZXNlcnZlZCA9IGpzb24ucmVzZXJ2ZWQ7XG4gICAgaWYgKGpzb24uZWRpdGlvbilcbiAgICAgICAgZW5tLl9lZGl0aW9uID0ganNvbi5lZGl0aW9uO1xuICAgIGVubS5fZGVmYXVsdEVkaXRpb24gPSBcInByb3RvM1wiOyAgLy8gRm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LlxuICAgIHJldHVybiBlbm07XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgZW51bSB0byBhbiBlbnVtIGRlc2NyaXB0b3IuXG4gKiBAcGFyYW0ge0lUb0pTT05PcHRpb25zfSBbdG9KU09OT3B0aW9uc10gSlNPTiBjb252ZXJzaW9uIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtJRW51bX0gRW51bSBkZXNjcmlwdG9yXG4gKi9cbkVudW0ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTih0b0pTT05PcHRpb25zKSB7XG4gICAgdmFyIGtlZXBDb21tZW50cyA9IHRvSlNPTk9wdGlvbnMgPyBCb29sZWFuKHRvSlNPTk9wdGlvbnMua2VlcENvbW1lbnRzKSA6IGZhbHNlO1xuICAgIHJldHVybiB1dGlsLnRvT2JqZWN0KFtcbiAgICAgICAgXCJlZGl0aW9uXCIgICAgICAgLCB0aGlzLl9lZGl0aW9uVG9KU09OKCksXG4gICAgICAgIFwib3B0aW9uc1wiICAgICAgICwgdGhpcy5vcHRpb25zLFxuICAgICAgICBcInZhbHVlc09wdGlvbnNcIiAsIHRoaXMudmFsdWVzT3B0aW9ucyxcbiAgICAgICAgXCJ2YWx1ZXNcIiAgICAgICAgLCB0aGlzLnZhbHVlcyxcbiAgICAgICAgXCJyZXNlcnZlZFwiICAgICAgLCB0aGlzLnJlc2VydmVkICYmIHRoaXMucmVzZXJ2ZWQubGVuZ3RoID8gdGhpcy5yZXNlcnZlZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgXCJjb21tZW50XCIgICAgICAgLCBrZWVwQ29tbWVudHMgPyB0aGlzLmNvbW1lbnQgOiB1bmRlZmluZWQsXG4gICAgICAgIFwiY29tbWVudHNcIiAgICAgICwga2VlcENvbW1lbnRzID8gdGhpcy5jb21tZW50cyA6IHVuZGVmaW5lZFxuICAgIF0pO1xufTtcblxuLyoqXG4gKiBBZGRzIGEgdmFsdWUgdG8gdGhpcyBlbnVtLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVmFsdWUgbmFtZVxuICogQHBhcmFtIHtudW1iZXJ9IGlkIFZhbHVlIGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gW2NvbW1lbnRdIENvbW1lbnQsIGlmIGFueVxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgKj58dW5kZWZpbmVkfSBbb3B0aW9uc10gT3B0aW9ucywgaWYgYW55XG4gKiBAcmV0dXJucyB7RW51bX0gYHRoaXNgXG4gKiBAdGhyb3dzIHtUeXBlRXJyb3J9IElmIGFyZ3VtZW50cyBhcmUgaW52YWxpZFxuICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIGlzIGFscmVhZHkgYSB2YWx1ZSB3aXRoIHRoaXMgbmFtZSBvciBpZFxuICovXG5FbnVtLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQobmFtZSwgaWQsIGNvbW1lbnQsIG9wdGlvbnMpIHtcbiAgICAvLyB1dGlsaXplZCBieSB0aGUgcGFyc2VyIGJ1dCBub3QgYnkgLmZyb21KU09OXG5cbiAgICBpZiAoIXV0aWwuaXNTdHJpbmcobmFtZSkpXG4gICAgICAgIHRocm93IFR5cGVFcnJvcihcIm5hbWUgbXVzdCBiZSBhIHN0cmluZ1wiKTtcblxuICAgIGlmICghdXRpbC5pc0ludGVnZXIoaWQpKVxuICAgICAgICB0aHJvdyBUeXBlRXJyb3IoXCJpZCBtdXN0IGJlIGFuIGludGVnZXJcIik7XG5cbiAgICBpZiAodGhpcy52YWx1ZXNbbmFtZV0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgbmFtZSAnXCIgKyBuYW1lICsgXCInIGluIFwiICsgdGhpcyk7XG5cbiAgICBpZiAodGhpcy5pc1Jlc2VydmVkSWQoaWQpKVxuICAgICAgICB0aHJvdyBFcnJvcihcImlkIFwiICsgaWQgKyBcIiBpcyByZXNlcnZlZCBpbiBcIiArIHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuaXNSZXNlcnZlZE5hbWUobmFtZSkpXG4gICAgICAgIHRocm93IEVycm9yKFwibmFtZSAnXCIgKyBuYW1lICsgXCInIGlzIHJlc2VydmVkIGluIFwiICsgdGhpcyk7XG5cbiAgICBpZiAodGhpcy52YWx1ZXNCeUlkW2lkXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICghKHRoaXMub3B0aW9ucyAmJiB0aGlzLm9wdGlvbnMuYWxsb3dfYWxpYXMpKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJkdXBsaWNhdGUgaWQgXCIgKyBpZCArIFwiIGluIFwiICsgdGhpcyk7XG4gICAgICAgIHRoaXMudmFsdWVzW25hbWVdID0gaWQ7XG4gICAgfSBlbHNlXG4gICAgICAgIHRoaXMudmFsdWVzQnlJZFt0aGlzLnZhbHVlc1tuYW1lXSA9IGlkXSA9IG5hbWU7XG5cbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy52YWx1ZXNPcHRpb25zID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aGlzLnZhbHVlc09wdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy52YWx1ZXNPcHRpb25zW25hbWVdID0gb3B0aW9ucyB8fCBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuY29tbWVudHNbbmFtZV0gPSBjb21tZW50IHx8IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIHRoaXMgZW51bVxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVmFsdWUgbmFtZVxuICogQHJldHVybnMge0VudW19IGB0aGlzYFxuICogQHRocm93cyB7VHlwZUVycm9yfSBJZiBhcmd1bWVudHMgYXJlIGludmFsaWRcbiAqIEB0aHJvd3Mge0Vycm9yfSBJZiBgbmFtZWAgaXMgbm90IGEgbmFtZSBvZiB0aGlzIGVudW1cbiAqL1xuRW51bS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG5hbWUpIHtcblxuICAgIGlmICghdXRpbC5pc1N0cmluZyhuYW1lKSlcbiAgICAgICAgdGhyb3cgVHlwZUVycm9yKFwibmFtZSBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuXG4gICAgdmFyIHZhbCA9IHRoaXMudmFsdWVzW25hbWVdO1xuICAgIGlmICh2YWwgPT0gbnVsbClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJuYW1lICdcIiArIG5hbWUgKyBcIicgZG9lcyBub3QgZXhpc3QgaW4gXCIgKyB0aGlzKTtcblxuICAgIGRlbGV0ZSB0aGlzLnZhbHVlc0J5SWRbdmFsXTtcbiAgICBkZWxldGUgdGhpcy52YWx1ZXNbbmFtZV07XG4gICAgZGVsZXRlIHRoaXMuY29tbWVudHNbbmFtZV07XG4gICAgaWYgKHRoaXMudmFsdWVzT3B0aW9ucylcbiAgICAgICAgZGVsZXRlIHRoaXMudmFsdWVzT3B0aW9uc1tuYW1lXTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBUZXN0cyBpZiB0aGUgc3BlY2lmaWVkIGlkIGlzIHJlc2VydmVkLlxuICogQHBhcmFtIHtudW1iZXJ9IGlkIElkIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaWYgcmVzZXJ2ZWQsIG90aGVyd2lzZSBgZmFsc2VgXG4gKi9cbkVudW0ucHJvdG90eXBlLmlzUmVzZXJ2ZWRJZCA9IGZ1bmN0aW9uIGlzUmVzZXJ2ZWRJZChpZCkge1xuICAgIHJldHVybiBOYW1lc3BhY2UuaXNSZXNlcnZlZElkKHRoaXMucmVzZXJ2ZWQsIGlkKTtcbn07XG5cbi8qKlxuICogVGVzdHMgaWYgdGhlIHNwZWNpZmllZCBuYW1lIGlzIHJlc2VydmVkLlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIHJlc2VydmVkLCBvdGhlcndpc2UgYGZhbHNlYFxuICovXG5FbnVtLnByb3RvdHlwZS5pc1Jlc2VydmVkTmFtZSA9IGZ1bmN0aW9uIGlzUmVzZXJ2ZWROYW1lKG5hbWUpIHtcbiAgICByZXR1cm4gTmFtZXNwYWNlLmlzUmVzZXJ2ZWROYW1lKHRoaXMucmVzZXJ2ZWQsIG5hbWUpO1xufTtcbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBlbmNvZGVyO1xuXG52YXIgRW51bSAgICAgPSByZXF1aXJlKFwiLi9lbnVtXCIpLFxuICAgIHR5cGVzICAgID0gcmVxdWlyZShcIi4vdHlwZXNcIiksXG4gICAgdXRpbCAgICAgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHBhcnRpYWwgbWVzc2FnZSB0eXBlIGVuY29kZXIuXG4gKiBAcGFyYW0ge0NvZGVnZW59IGdlbiBDb2RlZ2VuIGluc3RhbmNlXG4gKiBAcGFyYW0ge0ZpZWxkfSBmaWVsZCBSZWZsZWN0ZWQgZmllbGRcbiAqIEBwYXJhbSB7bnVtYmVyfSBmaWVsZEluZGV4IEZpZWxkIGluZGV4XG4gKiBAcGFyYW0ge3N0cmluZ30gcmVmIFZhcmlhYmxlIHJlZmVyZW5jZVxuICogQHJldHVybnMge0NvZGVnZW59IENvZGVnZW4gaW5zdGFuY2VcbiAqIEBpZ25vcmVcbiAqL1xuZnVuY3Rpb24gZ2VuVHlwZVBhcnRpYWwoZ2VuLCBmaWVsZCwgZmllbGRJbmRleCwgcmVmKSB7XG4gICAgcmV0dXJuIGZpZWxkLmRlbGltaXRlZFxuICAgICAgICA/IGdlbihcInR5cGVzWyVpXS5lbmNvZGUoJXMsdy51aW50MzIoJWkpKS51aW50MzIoJWkpXCIsIGZpZWxkSW5kZXgsIHJlZiwgKGZpZWxkLmlkIDw8IDMgfCAzKSA+Pj4gMCwgKGZpZWxkLmlkIDw8IDMgfCA0KSA+Pj4gMClcbiAgICAgICAgOiBnZW4oXCJ0eXBlc1slaV0uZW5jb2RlKCVzLHcudWludDMyKCVpKS5mb3JrKCkpLmxkZWxpbSgpXCIsIGZpZWxkSW5kZXgsIHJlZiwgKGZpZWxkLmlkIDw8IDMgfCAyKSA+Pj4gMCk7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuIGVuY29kZXIgc3BlY2lmaWMgdG8gdGhlIHNwZWNpZmllZCBtZXNzYWdlIHR5cGUuXG4gKiBAcGFyYW0ge1R5cGV9IG10eXBlIE1lc3NhZ2UgdHlwZVxuICogQHJldHVybnMge0NvZGVnZW59IENvZGVnZW4gaW5zdGFuY2VcbiAqL1xuZnVuY3Rpb24gZW5jb2RlcihtdHlwZSkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZXhwZWN0ZWQtbXVsdGlsaW5lLCBibG9jay1zY29wZWQtdmFyLCBuby1yZWRlY2xhcmUgKi9cbiAgICB2YXIgZ2VuID0gdXRpbC5jb2RlZ2VuKFtcIm1cIiwgXCJ3XCJdLCBtdHlwZS5uYW1lICsgXCIkZW5jb2RlXCIpXG4gICAgKFwiaWYoIXcpXCIpXG4gICAgICAgIChcInc9V3JpdGVyLmNyZWF0ZSgpXCIpO1xuXG4gICAgdmFyIGksIHJlZjtcblxuICAgIC8vIFwid2hlbiBhIG1lc3NhZ2UgaXMgc2VyaWFsaXplZCBpdHMga25vd24gZmllbGRzIHNob3VsZCBiZSB3cml0dGVuIHNlcXVlbnRpYWxseSBieSBmaWVsZCBudW1iZXJcIlxuICAgIHZhciBmaWVsZHMgPSAvKiBpbml0aWFsaXplcyAqLyBtdHlwZS5maWVsZHNBcnJheS5zbGljZSgpLnNvcnQodXRpbC5jb21wYXJlRmllbGRzQnlJZCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgZmllbGQgICAgPSBmaWVsZHNbaV0ucmVzb2x2ZSgpLFxuICAgICAgICAgICAgaW5kZXggICAgPSBtdHlwZS5fZmllbGRzQXJyYXkuaW5kZXhPZihmaWVsZCksXG4gICAgICAgICAgICB0eXBlICAgICA9IGZpZWxkLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIEVudW0gPyBcImludDMyXCIgOiBmaWVsZC50eXBlLFxuICAgICAgICAgICAgd2lyZVR5cGUgPSB0eXBlcy5iYXNpY1t0eXBlXTtcbiAgICAgICAgICAgIHJlZiAgICAgID0gXCJtXCIgKyB1dGlsLnNhZmVQcm9wKGZpZWxkLm5hbWUpO1xuXG4gICAgICAgIC8vIE1hcCBmaWVsZHNcbiAgICAgICAgaWYgKGZpZWxkLm1hcCkge1xuICAgICAgICAgICAgZ2VuXG4gICAgKFwiaWYoJXMhPW51bGwmJk9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG0sJWopKXtcIiwgcmVmLCBmaWVsZC5uYW1lKSAvLyAhPT0gdW5kZWZpbmVkICYmICE9PSBudWxsXG4gICAgICAgIChcImZvcih2YXIga3M9T2JqZWN0LmtleXMoJXMpLGk9MDtpPGtzLmxlbmd0aDsrK2kpe1wiLCByZWYpXG4gICAgICAgICAgICAoXCJ3LnVpbnQzMiglaSkuZm9yaygpLnVpbnQzMiglaSkuJXMoa3NbaV0pXCIsIChmaWVsZC5pZCA8PCAzIHwgMikgPj4+IDAsIDggfCB0eXBlcy5tYXBLZXlbZmllbGQua2V5VHlwZV0sIGZpZWxkLmtleVR5cGUpO1xuICAgICAgICAgICAgaWYgKHdpcmVUeXBlID09PSB1bmRlZmluZWQpIGdlblxuICAgICAgICAgICAgKFwidHlwZXNbJWldLmVuY29kZSglc1trc1tpXV0sdy51aW50MzIoMTgpLmZvcmsoKSkubGRlbGltKCkubGRlbGltKClcIiwgaW5kZXgsIHJlZik7IC8vIGNhbid0IGJlIGdyb3Vwc1xuICAgICAgICAgICAgZWxzZSBnZW5cbiAgICAgICAgICAgIChcIi51aW50MzIoJWkpLiVzKCVzW2tzW2ldXSkubGRlbGltKClcIiwgMTYgfCB3aXJlVHlwZSwgdHlwZSwgcmVmKTtcbiAgICAgICAgICAgIGdlblxuICAgICAgICAoXCJ9XCIpXG4gICAgKFwifVwiKTtcblxuICAgICAgICAgICAgLy8gUmVwZWF0ZWQgZmllbGRzXG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQucmVwZWF0ZWQpIHsgZ2VuXG4gICAgKFwiaWYoJXMhPW51bGwmJiVzLmxlbmd0aCl7XCIsIHJlZiwgcmVmKTsgLy8gIT09IHVuZGVmaW5lZCAmJiAhPT0gbnVsbFxuXG4gICAgICAgICAgICAvLyBQYWNrZWQgcmVwZWF0ZWRcbiAgICAgICAgICAgIGlmIChmaWVsZC5wYWNrZWQgJiYgdHlwZXMucGFja2VkW3R5cGVdICE9PSB1bmRlZmluZWQpIHsgZ2VuXG5cbiAgICAgICAgKFwidy51aW50MzIoJWkpLmZvcmsoKVwiLCAoZmllbGQuaWQgPDwgMyB8IDIpID4+PiAwKVxuICAgICAgICAoXCJmb3IodmFyIGk9MDtpPCVzLmxlbmd0aDsrK2kpXCIsIHJlZilcbiAgICAgICAgICAgIChcIncuJXMoJXNbaV0pXCIsIHR5cGUsIHJlZilcbiAgICAgICAgKFwidy5sZGVsaW0oKVwiKTtcblxuICAgICAgICAgICAgLy8gTm9uLXBhY2tlZFxuICAgICAgICAgICAgfSBlbHNlIHsgZ2VuXG5cbiAgICAgICAgKFwiZm9yKHZhciBpPTA7aTwlcy5sZW5ndGg7KytpKVwiLCByZWYpO1xuICAgICAgICAgICAgICAgIGlmICh3aXJlVHlwZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgZ2VuVHlwZVBhcnRpYWwoZ2VuLCBmaWVsZCwgaW5kZXgsIHJlZiArIFwiW2ldXCIpO1xuICAgICAgICAgICAgICAgIGVsc2UgZ2VuXG4gICAgICAgICAgICAoXCJ3LnVpbnQzMiglaSkuJXMoJXNbaV0pXCIsIChmaWVsZC5pZCA8PCAzIHwgd2lyZVR5cGUpID4+PiAwLCB0eXBlLCByZWYpO1xuXG4gICAgICAgICAgICB9IGdlblxuICAgIChcIn1cIik7XG5cbiAgICAgICAgLy8gTm9uLXJlcGVhdGVkXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZmllbGQub3B0aW9uYWwpIGdlblxuICAgIChcImlmKCVzIT1udWxsJiZPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtLCVqKSlcIiwgcmVmLCBmaWVsZC5uYW1lKTsgLy8gIT09IHVuZGVmaW5lZCAmJiAhPT0gbnVsbFxuXG4gICAgICAgICAgICBpZiAod2lyZVR5cGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgZ2VuVHlwZVBhcnRpYWwoZ2VuLCBmaWVsZCwgaW5kZXgsIHJlZik7XG4gICAgICAgICAgICBlbHNlIGdlblxuICAgICAgICAoXCJ3LnVpbnQzMiglaSkuJXMoJXMpXCIsIChmaWVsZC5pZCA8PCAzIHwgd2lyZVR5cGUpID4+PiAwLCB0eXBlLCByZWYpO1xuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZ2VuXG4gICAgKFwicmV0dXJuIHdcIik7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby11bmV4cGVjdGVkLW11bHRpbGluZSwgYmxvY2stc2NvcGVkLXZhciwgbm8tcmVkZWNsYXJlICovXG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBwcm90b2J1ZiA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vaW5kZXgtbWluaW1hbFwiKTtcblxucHJvdG9idWYuYnVpbGQgPSBcImxpZ2h0XCI7XG5cbi8qKlxuICogQSBub2RlLXN0eWxlIGNhbGxiYWNrIGFzIHVzZWQgYnkge0BsaW5rIGxvYWR9IGFuZCB7QGxpbmsgUm9vdCNsb2FkfS5cbiAqIEB0eXBlZGVmIExvYWRDYWxsYmFja1xuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtFcnJvcnxudWxsfSBlcnJvciBFcnJvciwgaWYgYW55LCBvdGhlcndpc2UgYG51bGxgXG4gKiBAcGFyYW0ge1Jvb3R9IFtyb290XSBSb290LCBpZiB0aGVyZSBoYXNuJ3QgYmVlbiBhbiBlcnJvclxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuXG4vKipcbiAqIExvYWRzIG9uZSBvciBtdWx0aXBsZSAucHJvdG8gb3IgcHJlcHJvY2Vzc2VkIC5qc29uIGZpbGVzIGludG8gYSBjb21tb24gcm9vdCBuYW1lc3BhY2UgYW5kIGNhbGxzIHRoZSBjYWxsYmFjay5cbiAqIEBwYXJhbSB7c3RyaW5nfHN0cmluZ1tdfSBmaWxlbmFtZSBPbmUgb3IgbXVsdGlwbGUgZmlsZXMgdG8gbG9hZFxuICogQHBhcmFtIHtSb290fSByb290IFJvb3QgbmFtZXNwYWNlLCBkZWZhdWx0cyB0byBjcmVhdGUgYSBuZXcgb25lIGlmIG9taXR0ZWQuXG4gKiBAcGFyYW0ge0xvYWRDYWxsYmFja30gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb25cbiAqIEByZXR1cm5zIHt1bmRlZmluZWR9XG4gKiBAc2VlIHtAbGluayBSb290I2xvYWR9XG4gKi9cbmZ1bmN0aW9uIGxvYWQoZmlsZW5hbWUsIHJvb3QsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiByb290ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FsbGJhY2sgPSByb290O1xuICAgICAgICByb290ID0gbmV3IHByb3RvYnVmLlJvb3QoKTtcbiAgICB9IGVsc2UgaWYgKCFyb290KVxuICAgICAgICByb290ID0gbmV3IHByb3RvYnVmLlJvb3QoKTtcbiAgICByZXR1cm4gcm9vdC5sb2FkKGZpbGVuYW1lLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogTG9hZHMgb25lIG9yIG11bHRpcGxlIC5wcm90byBvciBwcmVwcm9jZXNzZWQgLmpzb24gZmlsZXMgaW50byBhIGNvbW1vbiByb290IG5hbWVzcGFjZSBhbmQgY2FsbHMgdGhlIGNhbGxiYWNrLlxuICogQG5hbWUgbG9hZFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gZmlsZW5hbWUgT25lIG9yIG11bHRpcGxlIGZpbGVzIHRvIGxvYWRcbiAqIEBwYXJhbSB7TG9hZENhbGxiYWNrfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvblxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqIEBzZWUge0BsaW5rIFJvb3QjbG9hZH1cbiAqIEB2YXJpYXRpb24gMlxuICovXG4vLyBmdW5jdGlvbiBsb2FkKGZpbGVuYW1lOnN0cmluZywgY2FsbGJhY2s6TG9hZENhbGxiYWNrKTp1bmRlZmluZWRcblxuLyoqXG4gKiBMb2FkcyBvbmUgb3IgbXVsdGlwbGUgLnByb3RvIG9yIHByZXByb2Nlc3NlZCAuanNvbiBmaWxlcyBpbnRvIGEgY29tbW9uIHJvb3QgbmFtZXNwYWNlIGFuZCByZXR1cm5zIGEgcHJvbWlzZS5cbiAqIEBuYW1lIGxvYWRcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGZpbGVuYW1lIE9uZSBvciBtdWx0aXBsZSBmaWxlcyB0byBsb2FkXG4gKiBAcGFyYW0ge1Jvb3R9IFtyb290XSBSb290IG5hbWVzcGFjZSwgZGVmYXVsdHMgdG8gY3JlYXRlIGEgbmV3IG9uZSBpZiBvbWl0dGVkLlxuICogQHJldHVybnMge1Byb21pc2U8Um9vdD59IFByb21pc2VcbiAqIEBzZWUge0BsaW5rIFJvb3QjbG9hZH1cbiAqIEB2YXJpYXRpb24gM1xuICovXG4vLyBmdW5jdGlvbiBsb2FkKGZpbGVuYW1lOnN0cmluZywgW3Jvb3Q6Um9vdF0pOlByb21pc2U8Um9vdD5cblxucHJvdG9idWYubG9hZCA9IGxvYWQ7XG5cbi8qKlxuICogU3luY2hyb25vdXNseSBsb2FkcyBvbmUgb3IgbXVsdGlwbGUgLnByb3RvIG9yIHByZXByb2Nlc3NlZCAuanNvbiBmaWxlcyBpbnRvIGEgY29tbW9uIHJvb3QgbmFtZXNwYWNlIChub2RlIG9ubHkpLlxuICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IGZpbGVuYW1lIE9uZSBvciBtdWx0aXBsZSBmaWxlcyB0byBsb2FkXG4gKiBAcGFyYW0ge1Jvb3R9IFtyb290XSBSb290IG5hbWVzcGFjZSwgZGVmYXVsdHMgdG8gY3JlYXRlIGEgbmV3IG9uZSBpZiBvbWl0dGVkLlxuICogQHJldHVybnMge1Jvb3R9IFJvb3QgbmFtZXNwYWNlXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgc3luY2hyb25vdXMgZmV0Y2hpbmcgaXMgbm90IHN1cHBvcnRlZCAoaS5lLiBpbiBicm93c2Vycykgb3IgaWYgYSBmaWxlJ3Mgc3ludGF4IGlzIGludmFsaWRcbiAqIEBzZWUge0BsaW5rIFJvb3QjbG9hZFN5bmN9XG4gKi9cbmZ1bmN0aW9uIGxvYWRTeW5jKGZpbGVuYW1lLCByb290KSB7XG4gICAgaWYgKCFyb290KVxuICAgICAgICByb290ID0gbmV3IHByb3RvYnVmLlJvb3QoKTtcbiAgICByZXR1cm4gcm9vdC5sb2FkU3luYyhmaWxlbmFtZSk7XG59XG5cbnByb3RvYnVmLmxvYWRTeW5jID0gbG9hZFN5bmM7XG5cbi8vIFNlcmlhbGl6YXRpb25cbnByb3RvYnVmLmVuY29kZXIgICAgICAgICAgPSByZXF1aXJlKFwiLi9lbmNvZGVyXCIpO1xucHJvdG9idWYuZGVjb2RlciAgICAgICAgICA9IHJlcXVpcmUoXCIuL2RlY29kZXJcIik7XG5wcm90b2J1Zi52ZXJpZmllciAgICAgICAgID0gcmVxdWlyZShcIi4vdmVyaWZpZXJcIik7XG5wcm90b2J1Zi5jb252ZXJ0ZXIgICAgICAgID0gcmVxdWlyZShcIi4vY29udmVydGVyXCIpO1xuXG4vLyBSZWZsZWN0aW9uXG5wcm90b2J1Zi5SZWZsZWN0aW9uT2JqZWN0ID0gcmVxdWlyZShcIi4vb2JqZWN0XCIpO1xucHJvdG9idWYuTmFtZXNwYWNlICAgICAgICA9IHJlcXVpcmUoXCIuL25hbWVzcGFjZVwiKTtcbnByb3RvYnVmLlJvb3QgICAgICAgICAgICAgPSByZXF1aXJlKFwiLi9yb290XCIpO1xucHJvdG9idWYuRW51bSAgICAgICAgICAgICA9IHJlcXVpcmUoXCIuL2VudW1cIik7XG5wcm90b2J1Zi5UeXBlICAgICAgICAgICAgID0gcmVxdWlyZShcIi4vdHlwZVwiKTtcbnByb3RvYnVmLkZpZWxkICAgICAgICAgICAgPSByZXF1aXJlKFwiLi9maWVsZFwiKTtcbnByb3RvYnVmLk9uZU9mICAgICAgICAgICAgPSByZXF1aXJlKFwiLi9vbmVvZlwiKTtcbnByb3RvYnVmLk1hcEZpZWxkICAgICAgICAgPSByZXF1aXJlKFwiLi9tYXBmaWVsZFwiKTtcbnByb3RvYnVmLlNlcnZpY2UgICAgICAgICAgPSByZXF1aXJlKFwiLi9zZXJ2aWNlXCIpO1xucHJvdG9idWYuTWV0aG9kICAgICAgICAgICA9IHJlcXVpcmUoXCIuL21ldGhvZFwiKTtcblxuLy8gUnVudGltZVxucHJvdG9idWYuTWVzc2FnZSAgICAgICAgICA9IHJlcXVpcmUoXCIuL21lc3NhZ2VcIik7XG5wcm90b2J1Zi53cmFwcGVycyAgICAgICAgID0gcmVxdWlyZShcIi4vd3JhcHBlcnNcIik7XG5cbi8vIFV0aWxpdHlcbnByb3RvYnVmLnR5cGVzICAgICAgICAgICAgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbnByb3RvYnVmLnV0aWwgICAgICAgICAgICAgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuXG4vLyBTZXQgdXAgcG9zc2libHkgY3ljbGljIHJlZmxlY3Rpb24gZGVwZW5kZW5jaWVzXG5wcm90b2J1Zi5SZWZsZWN0aW9uT2JqZWN0Ll9jb25maWd1cmUocHJvdG9idWYuUm9vdCk7XG5wcm90b2J1Zi5OYW1lc3BhY2UuX2NvbmZpZ3VyZShwcm90b2J1Zi5UeXBlLCBwcm90b2J1Zi5TZXJ2aWNlLCBwcm90b2J1Zi5FbnVtKTtcbnByb3RvYnVmLlJvb3QuX2NvbmZpZ3VyZShwcm90b2J1Zi5UeXBlKTtcbnByb3RvYnVmLkZpZWxkLl9jb25maWd1cmUocHJvdG9idWYuVHlwZSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbm1vZHVsZS5leHBvcnRzID0gdG9rZW5pemU7XG5cbnZhciBkZWxpbVJlICAgICAgICA9IC9bXFxze309OzpbXFxdLCdcIigpPD5dL2csXG4gICAgc3RyaW5nRG91YmxlUmUgPSAvKD86XCIoW15cIlxcXFxdKig/OlxcXFwuW15cIlxcXFxdKikqKVwiKS9nLFxuICAgIHN0cmluZ1NpbmdsZVJlID0gLyg/OicoW14nXFxcXF0qKD86XFxcXC5bXidcXFxcXSopKiknKS9nO1xuXG52YXIgc2V0Q29tbWVudFJlID0gL14gKlsqL10rICovLFxuICAgIHNldENvbW1lbnRBbHRSZSA9IC9eXFxzKlxcKj9cXC8qLyxcbiAgICBzZXRDb21tZW50U3BsaXRSZSA9IC9cXG4vZyxcbiAgICB3aGl0ZXNwYWNlUmUgPSAvXFxzLyxcbiAgICB1bmVzY2FwZVJlID0gL1xcXFwoLj8pL2c7XG5cbnZhciB1bmVzY2FwZU1hcCA9IHtcbiAgICBcIjBcIjogXCJcXDBcIixcbiAgICBcInJcIjogXCJcXHJcIixcbiAgICBcIm5cIjogXCJcXG5cIixcbiAgICBcInRcIjogXCJcXHRcIlxufTtcblxuLyoqXG4gKiBVbmVzY2FwZXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIFN0cmluZyB0byB1bmVzY2FwZVxuICogQHJldHVybnMge3N0cmluZ30gVW5lc2NhcGVkIHN0cmluZ1xuICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZyxzdHJpbmc+fSBtYXAgU3BlY2lhbCBjaGFyYWN0ZXJzIG1hcFxuICogQG1lbWJlcm9mIHRva2VuaXplXG4gKi9cbmZ1bmN0aW9uIHVuZXNjYXBlKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSh1bmVzY2FwZVJlLCBmdW5jdGlvbigkMCwgJDEpIHtcbiAgICAgICAgc3dpdGNoICgkMSkge1xuICAgICAgICAgICAgY2FzZSBcIlxcXFxcIjpcbiAgICAgICAgICAgIGNhc2UgXCJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJDE7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiB1bmVzY2FwZU1hcFskMV0gfHwgXCJcIjtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG50b2tlbml6ZS51bmVzY2FwZSA9IHVuZXNjYXBlO1xuXG4vKipcbiAqIEdldHMgdGhlIG5leHQgdG9rZW4gYW5kIGFkdmFuY2VzLlxuICogQHR5cGVkZWYgVG9rZW5pemVySGFuZGxlTmV4dFxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHJldHVybnMge3N0cmluZ3xudWxsfSBOZXh0IHRva2VuIG9yIGBudWxsYCBvbiBlb2ZcbiAqL1xuXG4vKipcbiAqIFBlZWtzIGZvciB0aGUgbmV4dCB0b2tlbi5cbiAqIEB0eXBlZGVmIFRva2VuaXplckhhbmRsZVBlZWtcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gTmV4dCB0b2tlbiBvciBgbnVsbGAgb24gZW9mXG4gKi9cblxuLyoqXG4gKiBQdXNoZXMgYSB0b2tlbiBiYWNrIHRvIHRoZSBzdGFjay5cbiAqIEB0eXBlZGVmIFRva2VuaXplckhhbmRsZVB1c2hcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbiBUb2tlblxuICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAqL1xuXG4vKipcbiAqIFNraXBzIHRoZSBuZXh0IHRva2VuLlxuICogQHR5cGVkZWYgVG9rZW5pemVySGFuZGxlU2tpcFxuICogQHR5cGUge2Z1bmN0aW9ufVxuICogQHBhcmFtIHtzdHJpbmd9IGV4cGVjdGVkIEV4cGVjdGVkIHRva2VuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25hbD1mYWxzZV0gSWYgb3B0aW9uYWxcbiAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSB0b2tlbiBtYXRjaGVkXG4gKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHRva2VuIGRpZG4ndCBtYXRjaCBhbmQgaXMgbm90IG9wdGlvbmFsXG4gKi9cblxuLyoqXG4gKiBHZXRzIHRoZSBjb21tZW50IG9uIHRoZSBwcmV2aW91cyBsaW5lIG9yLCBhbHRlcm5hdGl2ZWx5LCB0aGUgbGluZSBjb21tZW50IG9uIHRoZSBzcGVjaWZpZWQgbGluZS5cbiAqIEB0eXBlZGVmIFRva2VuaXplckhhbmRsZUNtbnRcbiAqIEB0eXBlIHtmdW5jdGlvbn1cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGluZV0gTGluZSBudW1iZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gQ29tbWVudCB0ZXh0IG9yIGBudWxsYCBpZiBub25lXG4gKi9cblxuLyoqXG4gKiBIYW5kbGUgb2JqZWN0IHJldHVybmVkIGZyb20ge0BsaW5rIHRva2VuaXplfS5cbiAqIEBpbnRlcmZhY2UgSVRva2VuaXplckhhbmRsZVxuICogQHByb3BlcnR5IHtUb2tlbml6ZXJIYW5kbGVOZXh0fSBuZXh0IEdldHMgdGhlIG5leHQgdG9rZW4gYW5kIGFkdmFuY2VzIChgbnVsbGAgb24gZW9mKVxuICogQHByb3BlcnR5IHtUb2tlbml6ZXJIYW5kbGVQZWVrfSBwZWVrIFBlZWtzIGZvciB0aGUgbmV4dCB0b2tlbiAoYG51bGxgIG9uIGVvZilcbiAqIEBwcm9wZXJ0eSB7VG9rZW5pemVySGFuZGxlUHVzaH0gcHVzaCBQdXNoZXMgYSB0b2tlbiBiYWNrIHRvIHRoZSBzdGFja1xuICogQHByb3BlcnR5IHtUb2tlbml6ZXJIYW5kbGVTa2lwfSBza2lwIFNraXBzIGEgdG9rZW4sIHJldHVybnMgaXRzIHByZXNlbmNlIGFuZCBhZHZhbmNlcyBvciwgaWYgbm9uLW9wdGlvbmFsIGFuZCBub3QgcHJlc2VudCwgdGhyb3dzXG4gKiBAcHJvcGVydHkge1Rva2VuaXplckhhbmRsZUNtbnR9IGNtbnQgR2V0cyB0aGUgY29tbWVudCBvbiB0aGUgcHJldmlvdXMgbGluZSBvciB0aGUgbGluZSBjb21tZW50IG9uIHRoZSBzcGVjaWZpZWQgbGluZSwgaWYgYW55XG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZSBDdXJyZW50IGxpbmUgbnVtYmVyXG4gKi9cblxuLyoqXG4gKiBUb2tlbml6ZXMgdGhlIGdpdmVuIC5wcm90byBzb3VyY2UgYW5kIHJldHVybnMgYW4gb2JqZWN0IHdpdGggdXNlZnVsIHV0aWxpdHkgZnVuY3Rpb25zLlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBTb3VyY2UgY29udGVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYWx0ZXJuYXRlQ29tbWVudE1vZGUgV2hldGhlciB3ZSBzaG91bGQgYWN0aXZhdGUgYWx0ZXJuYXRlIGNvbW1lbnQgcGFyc2luZyBtb2RlLlxuICogQHJldHVybnMge0lUb2tlbml6ZXJIYW5kbGV9IFRva2VuaXplciBoYW5kbGVcbiAqL1xuZnVuY3Rpb24gdG9rZW5pemUoc291cmNlLCBhbHRlcm5hdGVDb21tZW50TW9kZSkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIGNhbGxiYWNrLXJldHVybiAqL1xuICAgIHNvdXJjZSA9IHNvdXJjZS50b1N0cmluZygpO1xuXG4gICAgdmFyIG9mZnNldCA9IDAsXG4gICAgICAgIGxlbmd0aCA9IHNvdXJjZS5sZW5ndGgsXG4gICAgICAgIGxpbmUgPSAxLFxuICAgICAgICBsYXN0Q29tbWVudExpbmUgPSAwLFxuICAgICAgICBjb21tZW50cyA9IHt9O1xuXG4gICAgdmFyIHN0YWNrID0gW107XG5cbiAgICB2YXIgc3RyaW5nRGVsaW0gPSBudWxsO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVycm9yIGZvciBpbGxlZ2FsIHN5bnRheC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3ViamVjdCBTdWJqZWN0XG4gICAgICogQHJldHVybnMge0Vycm9yfSBFcnJvciBjcmVhdGVkXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWxsZWdhbChzdWJqZWN0KSB7XG4gICAgICAgIHJldHVybiBFcnJvcihcImlsbGVnYWwgXCIgKyBzdWJqZWN0ICsgXCIgKGxpbmUgXCIgKyBsaW5lICsgXCIpXCIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGEgc3RyaW5nIHRpbGwgaXRzIGVuZC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBTdHJpbmcgcmVhZFxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlYWRTdHJpbmcoKSB7XG4gICAgICAgIHZhciByZSA9IHN0cmluZ0RlbGltID09PSBcIidcIiA/IHN0cmluZ1NpbmdsZVJlIDogc3RyaW5nRG91YmxlUmU7XG4gICAgICAgIHJlLmxhc3RJbmRleCA9IG9mZnNldCAtIDE7XG4gICAgICAgIHZhciBtYXRjaCA9IHJlLmV4ZWMoc291cmNlKTtcbiAgICAgICAgaWYgKCFtYXRjaClcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwoXCJzdHJpbmdcIik7XG4gICAgICAgIG9mZnNldCA9IHJlLmxhc3RJbmRleDtcbiAgICAgICAgcHVzaChzdHJpbmdEZWxpbSk7XG4gICAgICAgIHN0cmluZ0RlbGltID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHVuZXNjYXBlKG1hdGNoWzFdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjaGFyYWN0ZXIgYXQgYHBvc2Agd2l0aGluIHRoZSBzb3VyY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvcyBQb3NpdGlvblxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IENoYXJhY3RlclxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYXJBdChwb3MpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5jaGFyQXQocG9zKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGNvbW1lbnQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgU3RhcnQgb2Zmc2V0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBFbmQgb2Zmc2V0XG4gICAgICogQHBhcmFtIHtib29sZWFufSBpc0xlYWRpbmcgc2V0IGlmIGEgbGVhZGluZyBjb21tZW50XG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDb21tZW50KHN0YXJ0LCBlbmQsIGlzTGVhZGluZykge1xuICAgICAgICB2YXIgY29tbWVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6IHNvdXJjZS5jaGFyQXQoc3RhcnQrKyksXG4gICAgICAgICAgICBsaW5lRW1wdHk6IGZhbHNlLFxuICAgICAgICAgICAgbGVhZGluZzogaXNMZWFkaW5nLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgbG9va2JhY2s7XG4gICAgICAgIGlmIChhbHRlcm5hdGVDb21tZW50TW9kZSkge1xuICAgICAgICAgICAgbG9va2JhY2sgPSAyOyAgLy8gYWx0ZXJuYXRlIGNvbW1lbnQgcGFyc2luZzogXCIvL1wiIG9yIFwiLypcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9va2JhY2sgPSAzOyAgLy8gXCIvLy9cIiBvciBcIi8qKlwiXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbW1lbnRPZmZzZXQgPSBzdGFydCAtIGxvb2tiYWNrLFxuICAgICAgICAgICAgYztcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKC0tY29tbWVudE9mZnNldCA8IDAgfHxcbiAgICAgICAgICAgICAgICAgICAgKGMgPSBzb3VyY2UuY2hhckF0KGNvbW1lbnRPZmZzZXQpKSA9PT0gXCJcXG5cIikge1xuICAgICAgICAgICAgICAgIGNvbW1lbnQubGluZUVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoYyA9PT0gXCIgXCIgfHwgYyA9PT0gXCJcXHRcIik7XG4gICAgICAgIHZhciBsaW5lcyA9IHNvdXJjZVxuICAgICAgICAgICAgLnN1YnN0cmluZyhzdGFydCwgZW5kKVxuICAgICAgICAgICAgLnNwbGl0KHNldENvbW1lbnRTcGxpdFJlKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGxpbmVzW2ldID0gbGluZXNbaV1cbiAgICAgICAgICAgICAgICAucmVwbGFjZShhbHRlcm5hdGVDb21tZW50TW9kZSA/IHNldENvbW1lbnRBbHRSZSA6IHNldENvbW1lbnRSZSwgXCJcIilcbiAgICAgICAgICAgICAgICAudHJpbSgpO1xuICAgICAgICBjb21tZW50LnRleHQgPSBsaW5lc1xuICAgICAgICAgICAgLmpvaW4oXCJcXG5cIilcbiAgICAgICAgICAgIC50cmltKCk7XG5cbiAgICAgICAgY29tbWVudHNbbGluZV0gPSBjb21tZW50O1xuICAgICAgICBsYXN0Q29tbWVudExpbmUgPSBsaW5lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzRG91YmxlU2xhc2hDb21tZW50TGluZShzdGFydE9mZnNldCkge1xuICAgICAgICB2YXIgZW5kT2Zmc2V0ID0gZmluZEVuZE9mTGluZShzdGFydE9mZnNldCk7XG5cbiAgICAgICAgLy8gc2VlIGlmIHJlbWFpbmluZyBsaW5lIG1hdGNoZXMgY29tbWVudCBwYXR0ZXJuXG4gICAgICAgIHZhciBsaW5lVGV4dCA9IHNvdXJjZS5zdWJzdHJpbmcoc3RhcnRPZmZzZXQsIGVuZE9mZnNldCk7XG4gICAgICAgIHZhciBpc0NvbW1lbnQgPSAvXlxccypcXC9cXC8vLnRlc3QobGluZVRleHQpO1xuICAgICAgICByZXR1cm4gaXNDb21tZW50O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmRFbmRPZkxpbmUoY3Vyc29yKSB7XG4gICAgICAgIC8vIGZpbmQgZW5kIG9mIGN1cnNvcidzIGxpbmVcbiAgICAgICAgdmFyIGVuZE9mZnNldCA9IGN1cnNvcjtcbiAgICAgICAgd2hpbGUgKGVuZE9mZnNldCA8IGxlbmd0aCAmJiBjaGFyQXQoZW5kT2Zmc2V0KSAhPT0gXCJcXG5cIikge1xuICAgICAgICAgICAgZW5kT2Zmc2V0Kys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuZE9mZnNldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYnRhaW5zIHRoZSBuZXh0IHRva2VuLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd8bnVsbH0gTmV4dCB0b2tlbiBvciBgbnVsbGAgb24gZW9mXG4gICAgICogQGlubmVyXG4gICAgICovXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApXG4gICAgICAgICAgICByZXR1cm4gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgaWYgKHN0cmluZ0RlbGltKVxuICAgICAgICAgICAgcmV0dXJuIHJlYWRTdHJpbmcoKTtcbiAgICAgICAgdmFyIHJlcGVhdCxcbiAgICAgICAgICAgIHByZXYsXG4gICAgICAgICAgICBjdXJyLFxuICAgICAgICAgICAgc3RhcnQsXG4gICAgICAgICAgICBpc0RvYyxcbiAgICAgICAgICAgIGlzTGVhZGluZ0NvbW1lbnQgPSBvZmZzZXQgPT09IDA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPT09IGxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJlcGVhdCA9IGZhbHNlO1xuICAgICAgICAgICAgd2hpbGUgKHdoaXRlc3BhY2VSZS50ZXN0KGN1cnIgPSBjaGFyQXQob2Zmc2V0KSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VyciA9PT0gXCJcXG5cIikge1xuICAgICAgICAgICAgICAgICAgICBpc0xlYWRpbmdDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKytvZmZzZXQgPT09IGxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjaGFyQXQob2Zmc2V0KSA9PT0gXCIvXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoKytvZmZzZXQgPT09IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKFwiY29tbWVudFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJBdChvZmZzZXQpID09PSBcIi9cIikgeyAvLyBMaW5lXG4gICAgICAgICAgICAgICAgICAgIGlmICghYWx0ZXJuYXRlQ29tbWVudE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciB0cmlwbGUtc2xhc2ggY29tbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNEb2MgPSBjaGFyQXQoc3RhcnQgPSBvZmZzZXQgKyAxKSA9PT0gXCIvXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyQXQoKytvZmZzZXQpICE9PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICsrb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRG9jKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29tbWVudChzdGFydCwgb2Zmc2V0IC0gMSwgaXNMZWFkaW5nQ29tbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhaWxpbmcgY29tbWVudCBjYW5ub3Qgbm90IGJlIG11bHRpLWxpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gbGVhZGluZyBjb21tZW50IHN0YXRlIHNob3VsZCBiZSByZXNldCB0byBoYW5kbGUgcG90ZW50aWFsIG5leHQgY29tbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xlYWRpbmdDb21tZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGVhdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3IgZG91YmxlLXNsYXNoIGNvbW1lbnRzLCBjb25zb2xpZGF0aW5nIGNvbnNlY3V0aXZlIGxpbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRG9jID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNEb3VibGVTbGFzaENvbW1lbnRMaW5lKG9mZnNldCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEb2MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZmluZEVuZE9mTGluZShvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTGVhZGluZ0NvbW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyYWlsaW5nIGNvbW1lbnQgY2Fubm90IG5vdCBiZSBtdWx0aS1saW5lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGlzRG91YmxlU2xhc2hDb21tZW50TGluZShvZmZzZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5taW4obGVuZ3RoLCBmaW5kRW5kT2ZMaW5lKG9mZnNldCkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RvYykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbW1lbnQoc3RhcnQsIG9mZnNldCwgaXNMZWFkaW5nQ29tbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNMZWFkaW5nQ29tbWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lKys7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBlYXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoY3VyciA9IGNoYXJBdChvZmZzZXQpKSA9PT0gXCIqXCIpIHsgLyogQmxvY2sgKi9cbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIC8qKiAocmVndWxhciBjb21tZW50IG1vZGUpIG9yIC8qIChhbHRlcm5hdGUgY29tbWVudCBtb2RlKVxuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG9mZnNldCArIDE7XG4gICAgICAgICAgICAgICAgICAgIGlzRG9jID0gYWx0ZXJuYXRlQ29tbWVudE1vZGUgfHwgY2hhckF0KHN0YXJ0KSA9PT0gXCIqXCI7XG4gICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyID09PSBcIlxcblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKytsaW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCsrb2Zmc2V0ID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKFwiY29tbWVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXYgPSBjdXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGNoYXJBdChvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICB9IHdoaWxlIChwcmV2ICE9PSBcIipcIiB8fCBjdXJyICE9PSBcIi9cIik7XG4gICAgICAgICAgICAgICAgICAgICsrb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEb2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbW1lbnQoc3RhcnQsIG9mZnNldCAtIDIsIGlzTGVhZGluZ0NvbW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNMZWFkaW5nQ29tbWVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVwZWF0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIvXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChyZXBlYXQpO1xuXG4gICAgICAgIC8vIG9mZnNldCAhPT0gbGVuZ3RoIGlmIHdlIGdvdCBoZXJlXG5cbiAgICAgICAgdmFyIGVuZCA9IG9mZnNldDtcbiAgICAgICAgZGVsaW1SZS5sYXN0SW5kZXggPSAwO1xuICAgICAgICB2YXIgZGVsaW0gPSBkZWxpbVJlLnRlc3QoY2hhckF0KGVuZCsrKSk7XG4gICAgICAgIGlmICghZGVsaW0pXG4gICAgICAgICAgICB3aGlsZSAoZW5kIDwgbGVuZ3RoICYmICFkZWxpbVJlLnRlc3QoY2hhckF0KGVuZCkpKVxuICAgICAgICAgICAgICAgICsrZW5kO1xuICAgICAgICB2YXIgdG9rZW4gPSBzb3VyY2Uuc3Vic3RyaW5nKG9mZnNldCwgb2Zmc2V0ID0gZW5kKTtcbiAgICAgICAgaWYgKHRva2VuID09PSBcIlxcXCJcIiB8fCB0b2tlbiA9PT0gXCInXCIpXG4gICAgICAgICAgICBzdHJpbmdEZWxpbSA9IHRva2VuO1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgdG9rZW4gYmFjayB0byB0aGUgc3RhY2suXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRva2VuIFRva2VuXG4gICAgICogQHJldHVybnMge3VuZGVmaW5lZH1cbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdXNoKHRva2VuKSB7XG4gICAgICAgIHN0YWNrLnB1c2godG9rZW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlZWtzIGZvciB0aGUgbmV4dCB0b2tlbi5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfG51bGx9IFRva2VuIG9yIGBudWxsYCBvbiBlb2ZcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwZWVrKCkge1xuICAgICAgICBpZiAoIXN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIHRva2VuID0gbmV4dCgpO1xuICAgICAgICAgICAgaWYgKHRva2VuID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcHVzaCh0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YWNrWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNraXBzIGEgdG9rZW4uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cGVjdGVkIEV4cGVjdGVkIHRva2VuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9uYWw9ZmFsc2VdIFdoZXRoZXIgdGhlIHRva2VuIGlzIG9wdGlvbmFsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IGB0cnVlYCB3aGVuIHNraXBwZWQsIGBmYWxzZWAgaWYgbm90XG4gICAgICogQHRocm93cyB7RXJyb3J9IFdoZW4gYSByZXF1aXJlZCB0b2tlbiBpcyBub3QgcHJlc2VudFxuICAgICAqIEBpbm5lclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNraXAoZXhwZWN0ZWQsIG9wdGlvbmFsKSB7XG4gICAgICAgIHZhciBhY3R1YWwgPSBwZWVrKCksXG4gICAgICAgICAgICBlcXVhbHMgPSBhY3R1YWwgPT09IGV4cGVjdGVkO1xuICAgICAgICBpZiAoZXF1YWxzKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW9wdGlvbmFsKVxuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbChcInRva2VuICdcIiArIGFjdHVhbCArIFwiJywgJ1wiICsgZXhwZWN0ZWQgKyBcIicgZXhwZWN0ZWRcIik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgY29tbWVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3RyYWlsaW5nTGluZV0gTGluZSBudW1iZXIgaWYgbG9va2luZyBmb3IgYSB0cmFpbGluZyBjb21tZW50XG4gICAgICogQHJldHVybnMge3N0cmluZ3xudWxsfSBDb21tZW50IHRleHRcbiAgICAgKiBAaW5uZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbW50KHRyYWlsaW5nTGluZSkge1xuICAgICAgICB2YXIgcmV0ID0gbnVsbDtcbiAgICAgICAgdmFyIGNvbW1lbnQ7XG4gICAgICAgIGlmICh0cmFpbGluZ0xpbmUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29tbWVudCA9IGNvbW1lbnRzW2xpbmUgLSAxXTtcbiAgICAgICAgICAgIGRlbGV0ZSBjb21tZW50c1tsaW5lIC0gMV07XG4gICAgICAgICAgICBpZiAoY29tbWVudCAmJiAoYWx0ZXJuYXRlQ29tbWVudE1vZGUgfHwgY29tbWVudC50eXBlID09PSBcIipcIiB8fCBjb21tZW50LmxpbmVFbXB0eSkpIHtcbiAgICAgICAgICAgICAgICByZXQgPSBjb21tZW50LmxlYWRpbmcgPyBjb21tZW50LnRleHQgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmIChsYXN0Q29tbWVudExpbmUgPCB0cmFpbGluZ0xpbmUpIHtcbiAgICAgICAgICAgICAgICBwZWVrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21tZW50ID0gY29tbWVudHNbdHJhaWxpbmdMaW5lXTtcbiAgICAgICAgICAgIGRlbGV0ZSBjb21tZW50c1t0cmFpbGluZ0xpbmVdO1xuICAgICAgICAgICAgaWYgKGNvbW1lbnQgJiYgIWNvbW1lbnQubGluZUVtcHR5ICYmIChhbHRlcm5hdGVDb21tZW50TW9kZSB8fCBjb21tZW50LnR5cGUgPT09IFwiL1wiKSkge1xuICAgICAgICAgICAgICAgIHJldCA9IGNvbW1lbnQubGVhZGluZyA/IG51bGwgOiBjb21tZW50LnRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgICAgICAgbmV4dDogbmV4dCxcbiAgICAgICAgcGVlazogcGVlayxcbiAgICAgICAgcHVzaDogcHVzaCxcbiAgICAgICAgc2tpcDogc2tpcCxcbiAgICAgICAgY21udDogY21udFxuICAgIH0sIFwibGluZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBsaW5lOyB9XG4gICAgfSk7XG4gICAgLyogZXNsaW50LWVuYWJsZSBjYWxsYmFjay1yZXR1cm4gKi9cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBwYXJzZTtcblxucGFyc2UuZmlsZW5hbWUgPSBudWxsO1xucGFyc2UuZGVmYXVsdHMgPSB7IGtlZXBDYXNlOiBmYWxzZSB9O1xuXG52YXIgdG9rZW5pemUgID0gcmVxdWlyZShcIi4vdG9rZW5pemVcIiksXG4gICAgUm9vdCAgICAgID0gcmVxdWlyZShcIi4vcm9vdFwiKSxcbiAgICBUeXBlICAgICAgPSByZXF1aXJlKFwiLi90eXBlXCIpLFxuICAgIEZpZWxkICAgICA9IHJlcXVpcmUoXCIuL2ZpZWxkXCIpLFxuICAgIE1hcEZpZWxkICA9IHJlcXVpcmUoXCIuL21hcGZpZWxkXCIpLFxuICAgIE9uZU9mICAgICA9IHJlcXVpcmUoXCIuL29uZW9mXCIpLFxuICAgIEVudW0gICAgICA9IHJlcXVpcmUoXCIuL2VudW1cIiksXG4gICAgU2VydmljZSAgID0gcmVxdWlyZShcIi4vc2VydmljZVwiKSxcbiAgICBNZXRob2QgICAgPSByZXF1aXJlKFwiLi9tZXRob2RcIiksXG4gICAgUmVmbGVjdGlvbk9iamVjdCA9IHJlcXVpcmUoXCIuL29iamVjdFwiKSxcbiAgICB0eXBlcyAgICAgPSByZXF1aXJlKFwiLi90eXBlc1wiKSxcbiAgICB1dGlsICAgICAgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuXG52YXIgYmFzZTEwUmUgICAgPSAvXlsxLTldWzAtOV0qJC8sXG4gICAgYmFzZTEwTmVnUmUgPSAvXi0/WzEtOV1bMC05XSokLyxcbiAgICBiYXNlMTZSZSAgICA9IC9eMFt4XVswLTlhLWZBLUZdKyQvLFxuICAgIGJhc2UxNk5lZ1JlID0gL14tPzBbeF1bMC05YS1mQS1GXSskLyxcbiAgICBiYXNlOFJlICAgICA9IC9eMFswLTddKyQvLFxuICAgIGJhc2U4TmVnUmUgID0gL14tPzBbMC03XSskLyxcbiAgICBudW1iZXJSZSAgICA9IC9eKD8hW2VFXSlbMC05XSooPzpcXC5bMC05XSopPyg/OltlRV1bKy1dP1swLTldKyk/JC8sXG4gICAgbmFtZVJlICAgICAgPSAvXlthLXpBLVpfXVthLXpBLVpfMC05XSokLyxcbiAgICB0eXBlUmVmUmUgICA9IC9eKD86XFwuP1thLXpBLVpfXVthLXpBLVpfMC05XSopKD86XFwuW2EtekEtWl9dW2EtekEtWl8wLTldKikqJC87XG5cbi8qKlxuICogUmVzdWx0IG9iamVjdCByZXR1cm5lZCBmcm9tIHtAbGluayBwYXJzZX0uXG4gKiBAaW50ZXJmYWNlIElQYXJzZXJSZXN1bHRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfHVuZGVmaW5lZH0gcGFja2FnZSBQYWNrYWdlIG5hbWUsIGlmIGRlY2xhcmVkXG4gKiBAcHJvcGVydHkge3N0cmluZ1tdfHVuZGVmaW5lZH0gaW1wb3J0cyBJbXBvcnRzLCBpZiBhbnlcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW118dW5kZWZpbmVkfSB3ZWFrSW1wb3J0cyBXZWFrIGltcG9ydHMsIGlmIGFueVxuICogQHByb3BlcnR5IHtSb290fSByb290IFBvcHVsYXRlZCByb290IGluc3RhbmNlXG4gKi9cblxuLyoqXG4gKiBPcHRpb25zIG1vZGlmeWluZyB0aGUgYmVoYXZpb3Igb2Yge0BsaW5rIHBhcnNlfS5cbiAqIEBpbnRlcmZhY2UgSVBhcnNlT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBba2VlcENhc2U9ZmFsc2VdIEtlZXBzIGZpZWxkIGNhc2luZyBpbnN0ZWFkIG9mIGNvbnZlcnRpbmcgdG8gY2FtZWwgY2FzZVxuICogQHByb3BlcnR5IHtib29sZWFufSBbYWx0ZXJuYXRlQ29tbWVudE1vZGU9ZmFsc2VdIFJlY29nbml6ZSBkb3VibGUtc2xhc2ggY29tbWVudHMgaW4gYWRkaXRpb24gdG8gZG9jLWJsb2NrIGNvbW1lbnRzLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbcHJlZmVyVHJhaWxpbmdDb21tZW50PWZhbHNlXSBVc2UgdHJhaWxpbmcgY29tbWVudCB3aGVuIGJvdGggbGVhZGluZyBjb21tZW50IGFuZCB0cmFpbGluZyBjb21tZW50IGV4aXN0LlxuICovXG5cbi8qKlxuICogT3B0aW9ucyBtb2RpZnlpbmcgdGhlIGJlaGF2aW9yIG9mIEpTT04gc2VyaWFsaXphdGlvbi5cbiAqIEBpbnRlcmZhY2UgSVRvSlNPTk9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2tlZXBDb21tZW50cz1mYWxzZV0gU2VyaWFsaXplcyBjb21tZW50cy5cbiAqL1xuXG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gLnByb3RvIHNvdXJjZSBhbmQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgcGFyc2VkIGNvbnRlbnRzLlxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBTb3VyY2UgY29udGVudHNcbiAqIEBwYXJhbSB7Um9vdH0gcm9vdCBSb290IHRvIHBvcHVsYXRlXG4gKiBAcGFyYW0ge0lQYXJzZU9wdGlvbnN9IFtvcHRpb25zXSBQYXJzZSBvcHRpb25zLiBEZWZhdWx0cyB0byB7QGxpbmsgcGFyc2UuZGVmYXVsdHN9IHdoZW4gb21pdHRlZC5cbiAqIEByZXR1cm5zIHtJUGFyc2VyUmVzdWx0fSBQYXJzZXIgcmVzdWx0XG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmlsZW5hbWU9bnVsbCBDdXJyZW50bHkgcHJvY2Vzc2luZyBmaWxlIG5hbWUgZm9yIGVycm9yIHJlcG9ydGluZywgaWYga25vd25cbiAqIEBwcm9wZXJ0eSB7SVBhcnNlT3B0aW9uc30gZGVmYXVsdHMgRGVmYXVsdCB7QGxpbmsgSVBhcnNlT3B0aW9uc31cbiAqL1xuZnVuY3Rpb24gcGFyc2Uoc291cmNlLCByb290LCBvcHRpb25zKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgY2FsbGJhY2stcmV0dXJuICovXG4gICAgaWYgKCEocm9vdCBpbnN0YW5jZW9mIFJvb3QpKSB7XG4gICAgICAgIG9wdGlvbnMgPSByb290O1xuICAgICAgICByb290ID0gbmV3IFJvb3QoKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zKVxuICAgICAgICBvcHRpb25zID0gcGFyc2UuZGVmYXVsdHM7XG5cbiAgICB2YXIgcHJlZmVyVHJhaWxpbmdDb21tZW50ID0gb3B0aW9ucy5wcmVmZXJUcmFpbGluZ0NvbW1lbnQgfHwgZmFsc2U7XG4gICAgdmFyIHRuID0gdG9rZW5pemUoc291cmNlLCBvcHRpb25zLmFsdGVybmF0ZUNvbW1lbnRNb2RlIHx8IGZhbHNlKSxcbiAgICAgICAgbmV4dCA9IHRuLm5leHQsXG4gICAgICAgIHB1c2ggPSB0bi5wdXNoLFxuICAgICAgICBwZWVrID0gdG4ucGVlayxcbiAgICAgICAgc2tpcCA9IHRuLnNraXAsXG4gICAgICAgIGNtbnQgPSB0bi5jbW50O1xuXG4gICAgdmFyIGhlYWQgPSB0cnVlLFxuICAgICAgICBwa2csXG4gICAgICAgIGltcG9ydHMsXG4gICAgICAgIHdlYWtJbXBvcnRzLFxuICAgICAgICBlZGl0aW9uID0gXCJwcm90bzJcIjtcblxuICAgIHZhciBwdHIgPSByb290O1xuXG4gICAgdmFyIHRvcExldmVsT2JqZWN0cyA9IFtdO1xuICAgIHZhciB0b3BMZXZlbE9wdGlvbnMgPSB7fTtcblxuICAgIHZhciBhcHBseUNhc2UgPSBvcHRpb25zLmtlZXBDYXNlID8gZnVuY3Rpb24obmFtZSkgeyByZXR1cm4gbmFtZTsgfSA6IHV0aWwuY2FtZWxDYXNlO1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZUZpbGVGZWF0dXJlcygpIHtcbiAgICAgICAgdG9wTGV2ZWxPYmplY3RzLmZvckVhY2gob2JqID0+IHtcbiAgICAgICAgICAgIG9iai5fZWRpdGlvbiA9IGVkaXRpb247XG4gICAgICAgICAgICBPYmplY3Qua2V5cyh0b3BMZXZlbE9wdGlvbnMpLmZvckVhY2gob3B0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob2JqLmdldE9wdGlvbihvcHQpICE9PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBvYmouc2V0T3B0aW9uKG9wdCwgdG9wTGV2ZWxPcHRpb25zW29wdF0sIHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gaWxsZWdhbCh0b2tlbiwgbmFtZSwgaW5zaWRlVHJ5Q2F0Y2gpIHtcbiAgICAgICAgdmFyIGZpbGVuYW1lID0gcGFyc2UuZmlsZW5hbWU7XG4gICAgICAgIGlmICghaW5zaWRlVHJ5Q2F0Y2gpXG4gICAgICAgICAgICBwYXJzZS5maWxlbmFtZSA9IG51bGw7XG4gICAgICAgIHJldHVybiBFcnJvcihcImlsbGVnYWwgXCIgKyAobmFtZSB8fCBcInRva2VuXCIpICsgXCIgJ1wiICsgdG9rZW4gKyBcIicgKFwiICsgKGZpbGVuYW1lID8gZmlsZW5hbWUgKyBcIiwgXCIgOiBcIlwiKSArIFwibGluZSBcIiArIHRuLmxpbmUgKyBcIilcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZFN0cmluZygpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdLFxuICAgICAgICAgICAgdG9rZW47XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCh0b2tlbiA9IG5leHQoKSkgIT09IFwiXFxcIlwiICYmIHRva2VuICE9PSBcIidcIilcbiAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTtcblxuICAgICAgICAgICAgdmFsdWVzLnB1c2gobmV4dCgpKTtcbiAgICAgICAgICAgIHNraXAodG9rZW4pO1xuICAgICAgICAgICAgdG9rZW4gPSBwZWVrKCk7XG4gICAgICAgIH0gd2hpbGUgKHRva2VuID09PSBcIlxcXCJcIiB8fCB0b2tlbiA9PT0gXCInXCIpO1xuICAgICAgICByZXR1cm4gdmFsdWVzLmpvaW4oXCJcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZFZhbHVlKGFjY2VwdFR5cGVSZWYpIHtcbiAgICAgICAgdmFyIHRva2VuID0gbmV4dCgpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgICBjYXNlIFwiJ1wiOlxuICAgICAgICAgICAgY2FzZSBcIlxcXCJcIjpcbiAgICAgICAgICAgICAgICBwdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZFN0cmluZygpO1xuICAgICAgICAgICAgY2FzZSBcInRydWVcIjogY2FzZSBcIlRSVUVcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJmYWxzZVwiOiBjYXNlIFwiRkFMU0VcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bWJlcih0b2tlbiwgLyogaW5zaWRlVHJ5Q2F0Y2ggKi8gdHJ1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAoYWNjZXB0VHlwZVJlZiAmJiB0eXBlUmVmUmUudGVzdCh0b2tlbikpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbiwgXCJ2YWx1ZVwiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlYWRSYW5nZXModGFyZ2V0LCBhY2NlcHRTdHJpbmdzKSB7XG4gICAgICAgIHZhciB0b2tlbiwgc3RhcnQ7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChhY2NlcHRTdHJpbmdzICYmICgodG9rZW4gPSBwZWVrKCkpID09PSBcIlxcXCJcIiB8fCB0b2tlbiA9PT0gXCInXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0ciA9IHJlYWRTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChzdHIpO1xuICAgICAgICAgICAgICAgIGlmIChlZGl0aW9uID49IDIwMjMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbChzdHIsIFwiaWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQucHVzaChbIHN0YXJ0ID0gcGFyc2VJZChuZXh0KCkpLCBza2lwKFwidG9cIiwgdHJ1ZSkgPyBwYXJzZUlkKG5leHQoKSkgOiBzdGFydCBdKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjY2VwdFN0cmluZ3MgJiYgdHlwZVJlZlJlLnRlc3QodG9rZW4pICYmIGVkaXRpb24gPj0gMjAyMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChza2lwKFwiLFwiLCB0cnVlKSk7XG4gICAgICAgIHZhciBkdW1teSA9IHtvcHRpb25zOiB1bmRlZmluZWR9O1xuICAgICAgICBkdW1teS5zZXRPcHRpb24gPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMgPT09IHVuZGVmaW5lZCkgdGhpcy5vcHRpb25zID0ge307XG4gICAgICAgICAgdGhpcy5vcHRpb25zW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIGlmQmxvY2soXG4gICAgICAgICAgICBkdW1teSxcbiAgICAgICAgICAgIGZ1bmN0aW9uIHBhcnNlUmFuZ2VfYmxvY2sodG9rZW4pIHtcbiAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgICAgaWYgKHRva2VuID09PSBcIm9wdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VPcHRpb24oZHVtbXksIHRva2VuKTsgIC8vIHNraXBcbiAgICAgICAgICAgICAgICBza2lwKFwiO1wiKTtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VSYW5nZV9saW5lKCkge1xuICAgICAgICAgICAgICBwYXJzZUlubGluZU9wdGlvbnMoZHVtbXkpOyAgLy8gc2tpcFxuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VOdW1iZXIodG9rZW4sIGluc2lkZVRyeUNhdGNoKSB7XG4gICAgICAgIHZhciBzaWduID0gMTtcbiAgICAgICAgaWYgKHRva2VuLmNoYXJBdCgwKSA9PT0gXCItXCIpIHtcbiAgICAgICAgICAgIHNpZ24gPSAtMTtcbiAgICAgICAgICAgIHRva2VuID0gdG9rZW4uc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbmZcIjogY2FzZSBcIklORlwiOiBjYXNlIFwiSW5mXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpZ24gKiBJbmZpbml0eTtcbiAgICAgICAgICAgIGNhc2UgXCJuYW5cIjogY2FzZSBcIk5BTlwiOiBjYXNlIFwiTmFuXCI6IGNhc2UgXCJOYU5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gTmFOO1xuICAgICAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFzZTEwUmUudGVzdCh0b2tlbikpXG4gICAgICAgICAgICByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHRva2VuLCAxMCk7XG4gICAgICAgIGlmIChiYXNlMTZSZS50ZXN0KHRva2VuKSlcbiAgICAgICAgICAgIHJldHVybiBzaWduICogcGFyc2VJbnQodG9rZW4sIDE2KTtcbiAgICAgICAgaWYgKGJhc2U4UmUudGVzdCh0b2tlbikpXG4gICAgICAgICAgICByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHRva2VuLCA4KTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAobnVtYmVyUmUudGVzdCh0b2tlbikpXG4gICAgICAgICAgICByZXR1cm4gc2lnbiAqIHBhcnNlRmxvYXQodG9rZW4pO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHRocm93IGlsbGVnYWwodG9rZW4sIFwibnVtYmVyXCIsIGluc2lkZVRyeUNhdGNoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUlkKHRva2VuLCBhY2NlcHROZWdhdGl2ZSkge1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgICBjYXNlIFwibWF4XCI6IGNhc2UgXCJNQVhcIjogY2FzZSBcIk1heFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiA1MzY4NzA5MTE7XG4gICAgICAgICAgICBjYXNlIFwiMFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghYWNjZXB0TmVnYXRpdmUgJiYgdG9rZW4uY2hhckF0KDApID09PSBcIi1cIilcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwodG9rZW4sIFwiaWRcIik7XG5cbiAgICAgICAgaWYgKGJhc2UxME5lZ1JlLnRlc3QodG9rZW4pKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRva2VuLCAxMCk7XG4gICAgICAgIGlmIChiYXNlMTZOZWdSZS50ZXN0KHRva2VuKSlcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0b2tlbiwgMTYpO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChiYXNlOE5lZ1JlLnRlc3QodG9rZW4pKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRva2VuLCA4KTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuLCBcImlkXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlUGFja2FnZSgpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChwa2cgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwoXCJwYWNrYWdlXCIpO1xuXG4gICAgICAgIHBrZyA9IG5leHQoKTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCF0eXBlUmVmUmUudGVzdChwa2cpKVxuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbChwa2csIFwibmFtZVwiKTtcblxuICAgICAgICBwdHIgPSBwdHIuZGVmaW5lKHBrZyk7XG5cbiAgICAgICAgc2tpcChcIjtcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VJbXBvcnQoKSB7XG4gICAgICAgIHZhciB0b2tlbiA9IHBlZWsoKTtcbiAgICAgICAgdmFyIHdoaWNoSW1wb3J0cztcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgICAgY2FzZSBcIndlYWtcIjpcbiAgICAgICAgICAgICAgICB3aGljaEltcG9ydHMgPSB3ZWFrSW1wb3J0cyB8fCAod2Vha0ltcG9ydHMgPSBbXSk7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInB1YmxpY1wiOlxuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgd2hpY2hJbXBvcnRzID0gaW1wb3J0cyB8fCAoaW1wb3J0cyA9IFtdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0b2tlbiA9IHJlYWRTdHJpbmcoKTtcbiAgICAgICAgc2tpcChcIjtcIik7XG4gICAgICAgIHdoaWNoSW1wb3J0cy5wdXNoKHRva2VuKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVN5bnRheCgpIHtcbiAgICAgICAgc2tpcChcIj1cIik7XG4gICAgICAgIGVkaXRpb24gPSByZWFkU3RyaW5nKCk7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlZGl0aW9uIDwgMjAyMylcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwoZWRpdGlvbiwgXCJzeW50YXhcIik7XG5cbiAgICAgICAgc2tpcChcIjtcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VFZGl0aW9uKCkge1xuICAgICAgICBza2lwKFwiPVwiKTtcbiAgICAgICAgZWRpdGlvbiA9IHJlYWRTdHJpbmcoKTtcbiAgICAgICAgY29uc3Qgc3VwcG9ydGVkRWRpdGlvbnMgPSBbXCIyMDIzXCJdO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIXN1cHBvcnRlZEVkaXRpb25zLmluY2x1ZGVzKGVkaXRpb24pKVxuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbChlZGl0aW9uLCBcImVkaXRpb25cIik7XG5cbiAgICAgICAgc2tpcChcIjtcIik7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBwYXJzZUNvbW1vbihwYXJlbnQsIHRva2VuKSB7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcblxuICAgICAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxuICAgICAgICAgICAgICAgIHBhcnNlT3B0aW9uKHBhcmVudCwgdG9rZW4pO1xuICAgICAgICAgICAgICAgIHNraXAoXCI7XCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIHBhcnNlVHlwZShwYXJlbnQsIHRva2VuKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICBwYXJzZUVudW0ocGFyZW50LCB0b2tlbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgIGNhc2UgXCJzZXJ2aWNlXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VTZXJ2aWNlKHBhcmVudCwgdG9rZW4pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICBjYXNlIFwiZXh0ZW5kXCI6XG4gICAgICAgICAgICAgICAgcGFyc2VFeHRlbnNpb24ocGFyZW50LCB0b2tlbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlmQmxvY2sob2JqLCBmbklmLCBmbkVsc2UpIHtcbiAgICAgICAgdmFyIHRyYWlsaW5nTGluZSA9IHRuLmxpbmU7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBvYmouY29tbWVudCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICBvYmouY29tbWVudCA9IGNtbnQoKTsgLy8gdHJ5IGJsb2NrLXR5cGUgY29tbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2JqLmZpbGVuYW1lID0gcGFyc2UuZmlsZW5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNraXAoXCJ7XCIsIHRydWUpKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW47XG4gICAgICAgICAgICB3aGlsZSAoKHRva2VuID0gbmV4dCgpKSAhPT0gXCJ9XCIpXG4gICAgICAgICAgICAgICAgZm5JZih0b2tlbik7XG4gICAgICAgICAgICBza2lwKFwiO1wiLCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChmbkVsc2UpXG4gICAgICAgICAgICAgICAgZm5FbHNlKCk7XG4gICAgICAgICAgICBza2lwKFwiO1wiKTtcbiAgICAgICAgICAgIGlmIChvYmogJiYgKHR5cGVvZiBvYmouY29tbWVudCAhPT0gXCJzdHJpbmdcIiB8fCBwcmVmZXJUcmFpbGluZ0NvbW1lbnQpKVxuICAgICAgICAgICAgICAgIG9iai5jb21tZW50ID0gY21udCh0cmFpbGluZ0xpbmUpIHx8IG9iai5jb21tZW50OyAvLyB0cnkgbGluZS10eXBlIGNvbW1lbnRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlVHlwZShwYXJlbnQsIHRva2VuKSB7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghbmFtZVJlLnRlc3QodG9rZW4gPSBuZXh0KCkpKVxuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbiwgXCJ0eXBlIG5hbWVcIik7XG5cbiAgICAgICAgdmFyIHR5cGUgPSBuZXcgVHlwZSh0b2tlbik7XG4gICAgICAgIGlmQmxvY2sodHlwZSwgZnVuY3Rpb24gcGFyc2VUeXBlX2Jsb2NrKHRva2VuKSB7XG4gICAgICAgICAgICBpZiAocGFyc2VDb21tb24odHlwZSwgdG9rZW4pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgc3dpdGNoICh0b2tlbikge1xuXG4gICAgICAgICAgICAgICAgY2FzZSBcIm1hcFwiOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZU1hcEZpZWxkKHR5cGUsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRpb24gIT09IFwicHJvdG8yXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTtcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1mYWxsdGhyb3VnaCAqL1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXBlYXRlZFwiOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZUZpZWxkKHR5cGUsIHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFwib3B0aW9uYWxcIjpcbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChlZGl0aW9uID09PSBcInByb3RvM1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZpZWxkKHR5cGUsIFwicHJvdG8zX29wdGlvbmFsXCIpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVkaXRpb24gIT09IFwicHJvdG8yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGlsbGVnYWwodG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGaWVsZCh0eXBlLCBcIm9wdGlvbmFsXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBcIm9uZW9mXCI6XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlT25lT2YodHlwZSwgdG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgXCJleHRlbnNpb25zXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRSYW5nZXModHlwZS5leHRlbnNpb25zIHx8ICh0eXBlLmV4dGVuc2lvbnMgPSBbXSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXNlcnZlZFwiOlxuICAgICAgICAgICAgICAgICAgICByZWFkUmFuZ2VzKHR5cGUucmVzZXJ2ZWQgfHwgKHR5cGUucmVzZXJ2ZWQgPSBbXSksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGlvbiA9PT0gXCJwcm90bzJcIiB8fCAhdHlwZVJlZlJlLnRlc3QodG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUZpZWxkKHR5cGUsIFwib3B0aW9uYWxcIik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50LmFkZCh0eXBlKTtcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gcHRyKSB7XG4gICAgICAgICAgICB0b3BMZXZlbE9iamVjdHMucHVzaCh0eXBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlRmllbGQocGFyZW50LCBydWxlLCBleHRlbmQpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBuZXh0KCk7XG4gICAgICAgIGlmICh0eXBlID09PSBcImdyb3VwXCIpIHtcbiAgICAgICAgICAgIHBhcnNlR3JvdXAocGFyZW50LCBydWxlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUeXBlIG5hbWVzIGNhbiBjb25zdW1lIG11bHRpcGxlIHRva2VucywgaW4gbXVsdGlwbGUgdmFyaWFudHM6XG4gICAgICAgIC8vICAgIHBhY2thZ2Uuc3VicGFja2FnZSAgIGZpZWxkICAgICAgIHRva2VuczogXCJwYWNrYWdlLnN1YnBhY2thZ2VcIiBbVFlQRSBOQU1FIEVORFMgSEVSRV0gXCJmaWVsZFwiXG4gICAgICAgIC8vICAgIHBhY2thZ2UgLiBzdWJwYWNrYWdlIGZpZWxkICAgICAgIHRva2VuczogXCJwYWNrYWdlXCIgXCIuXCIgXCJzdWJwYWNrYWdlXCIgW1RZUEUgTkFNRSBFTkRTIEhFUkVdIFwiZmllbGRcIlxuICAgICAgICAvLyAgICBwYWNrYWdlLiAgc3VicGFja2FnZSBmaWVsZCAgICAgICB0b2tlbnM6IFwicGFja2FnZS5cIiBcInN1YnBhY2thZ2VcIiBbVFlQRSBOQU1FIEVORFMgSEVSRV0gXCJmaWVsZFwiXG4gICAgICAgIC8vICAgIHBhY2thZ2UgIC5zdWJwYWNrYWdlIGZpZWxkICAgICAgIHRva2VuczogXCJwYWNrYWdlXCIgXCIuc3VicGFja2FnZVwiIFtUWVBFIE5BTUUgRU5EUyBIRVJFXSBcImZpZWxkXCJcbiAgICAgICAgLy8gS2VlcCByZWFkaW5nIHRva2VucyB1bnRpbCB3ZSBnZXQgYSB0eXBlIG5hbWUgd2l0aCBubyBwZXJpb2QgYXQgdGhlIGVuZCxcbiAgICAgICAgLy8gYW5kIHRoZSBuZXh0IHRva2VuIGRvZXMgbm90IHN0YXJ0IHdpdGggYSBwZXJpb2QuXG4gICAgICAgIHdoaWxlICh0eXBlLmVuZHNXaXRoKFwiLlwiKSB8fCBwZWVrKCkuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgICAgICAgIHR5cGUgKz0gbmV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghdHlwZVJlZlJlLnRlc3QodHlwZSkpXG4gICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHR5cGUsIFwidHlwZVwiKTtcblxuICAgICAgICB2YXIgbmFtZSA9IG5leHQoKTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cblxuICAgICAgICBpZiAoIW5hbWVSZS50ZXN0KG5hbWUpKVxuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbChuYW1lLCBcIm5hbWVcIik7XG5cbiAgICAgICAgbmFtZSA9IGFwcGx5Q2FzZShuYW1lKTtcbiAgICAgICAgc2tpcChcIj1cIik7XG5cbiAgICAgICAgdmFyIGZpZWxkID0gbmV3IEZpZWxkKG5hbWUsIHBhcnNlSWQobmV4dCgpKSwgdHlwZSwgcnVsZSwgZXh0ZW5kKTtcblxuICAgICAgICBpZkJsb2NrKGZpZWxkLCBmdW5jdGlvbiBwYXJzZUZpZWxkX2Jsb2NrKHRva2VuKSB7XG5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAodG9rZW4gPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJzZU9wdGlvbihmaWVsZCwgdG9rZW4pO1xuICAgICAgICAgICAgICAgIHNraXAoXCI7XCIpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG5cbiAgICAgICAgfSwgZnVuY3Rpb24gcGFyc2VGaWVsZF9saW5lKCkge1xuICAgICAgICAgICAgcGFyc2VJbmxpbmVPcHRpb25zKGZpZWxkKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHJ1bGUgPT09IFwicHJvdG8zX29wdGlvbmFsXCIpIHtcbiAgICAgICAgICAgIC8vIGZvciBwcm90bzMgb3B0aW9uYWwgZmllbGRzLCB3ZSBjcmVhdGUgYSBzaW5nbGUtbWVtYmVyIE9uZW9mIHRvIG1pbWljIFwib3B0aW9uYWxcIiBiZWhhdmlvclxuICAgICAgICAgICAgdmFyIG9uZW9mID0gbmV3IE9uZU9mKFwiX1wiICsgbmFtZSk7XG4gICAgICAgICAgICBmaWVsZC5zZXRPcHRpb24oXCJwcm90bzNfb3B0aW9uYWxcIiwgdHJ1ZSk7XG4gICAgICAgICAgICBvbmVvZi5hZGQoZmllbGQpO1xuICAgICAgICAgICAgcGFyZW50LmFkZChvbmVvZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJlbnQuYWRkKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyZW50ID09PSBwdHIpIHtcbiAgICAgICAgICAgIHRvcExldmVsT2JqZWN0cy5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlR3JvdXAocGFyZW50LCBydWxlKSB7XG4gICAgICAgIGlmIChlZGl0aW9uID49IDIwMjMpIHtcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwoXCJncm91cFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSA9IG5leHQoKTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCFuYW1lUmUudGVzdChuYW1lKSlcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwobmFtZSwgXCJuYW1lXCIpO1xuXG4gICAgICAgIHZhciBmaWVsZE5hbWUgPSB1dGlsLmxjRmlyc3QobmFtZSk7XG4gICAgICAgIGlmIChuYW1lID09PSBmaWVsZE5hbWUpXG4gICAgICAgICAgICBuYW1lID0gdXRpbC51Y0ZpcnN0KG5hbWUpO1xuICAgICAgICBza2lwKFwiPVwiKTtcbiAgICAgICAgdmFyIGlkID0gcGFyc2VJZChuZXh0KCkpO1xuICAgICAgICB2YXIgdHlwZSA9IG5ldyBUeXBlKG5hbWUpO1xuICAgICAgICB0eXBlLmdyb3VwID0gdHJ1ZTtcbiAgICAgICAgdmFyIGZpZWxkID0gbmV3IEZpZWxkKGZpZWxkTmFtZSwgaWQsIG5hbWUsIHJ1bGUpO1xuICAgICAgICBmaWVsZC5maWxlbmFtZSA9IHBhcnNlLmZpbGVuYW1lO1xuICAgICAgICBpZkJsb2NrKHR5cGUsIGZ1bmN0aW9uIHBhcnNlR3JvdXBfYmxvY2sodG9rZW4pIHtcbiAgICAgICAgICAgIHN3aXRjaCAodG9rZW4pIHtcblxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcHRpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VPcHRpb24odHlwZSwgdG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBza2lwKFwiO1wiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlcGVhdGVkXCI6XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRmllbGQodHlwZSwgdG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcHRpb25hbFwiOlxuICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRpb24gPT09IFwicHJvdG8zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmllbGQodHlwZSwgXCJwcm90bzNfb3B0aW9uYWxcIik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZUZpZWxkKHR5cGUsIFwib3B0aW9uYWxcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICBwYXJzZVR5cGUodHlwZSwgdG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlRW51bSh0eXBlLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgY2FzZSBcInJlc2VydmVkXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlYWRSYW5nZXModHlwZS5yZXNlcnZlZCB8fCAodHlwZS5yZXNlcnZlZCA9IFtdKSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTsgLy8gdGhlcmUgYXJlIG5vIGdyb3VwcyB3aXRoIHByb3RvMyBzZW1hbnRpY3NcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBhcmVudC5hZGQodHlwZSlcbiAgICAgICAgICAgICAgLmFkZChmaWVsZCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNYXBGaWVsZChwYXJlbnQpIHtcbiAgICAgICAgc2tpcChcIjxcIik7XG4gICAgICAgIHZhciBrZXlUeXBlID0gbmV4dCgpO1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodHlwZXMubWFwS2V5W2tleVR5cGVdID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKGtleVR5cGUsIFwidHlwZVwiKTtcblxuICAgICAgICBza2lwKFwiLFwiKTtcbiAgICAgICAgdmFyIHZhbHVlVHlwZSA9IG5leHQoKTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCF0eXBlUmVmUmUudGVzdCh2YWx1ZVR5cGUpKVxuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh2YWx1ZVR5cGUsIFwidHlwZVwiKTtcblxuICAgICAgICBza2lwKFwiPlwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBuZXh0KCk7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghbmFtZVJlLnRlc3QobmFtZSkpXG4gICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKG5hbWUsIFwibmFtZVwiKTtcblxuICAgICAgICBza2lwKFwiPVwiKTtcbiAgICAgICAgdmFyIGZpZWxkID0gbmV3IE1hcEZpZWxkKGFwcGx5Q2FzZShuYW1lKSwgcGFyc2VJZChuZXh0KCkpLCBrZXlUeXBlLCB2YWx1ZVR5cGUpO1xuICAgICAgICBpZkJsb2NrKGZpZWxkLCBmdW5jdGlvbiBwYXJzZU1hcEZpZWxkX2Jsb2NrKHRva2VuKSB7XG5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAodG9rZW4gPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJzZU9wdGlvbihmaWVsZCwgdG9rZW4pO1xuICAgICAgICAgICAgICAgIHNraXAoXCI7XCIpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG5cbiAgICAgICAgfSwgZnVuY3Rpb24gcGFyc2VNYXBGaWVsZF9saW5lKCkge1xuICAgICAgICAgICAgcGFyc2VJbmxpbmVPcHRpb25zKGZpZWxkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcmVudC5hZGQoZmllbGQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBhcnNlT25lT2YocGFyZW50LCB0b2tlbikge1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIW5hbWVSZS50ZXN0KHRva2VuID0gbmV4dCgpKSlcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwodG9rZW4sIFwibmFtZVwiKTtcblxuICAgICAgICB2YXIgb25lb2YgPSBuZXcgT25lT2YoYXBwbHlDYXNlKHRva2VuKSk7XG4gICAgICAgIGlmQmxvY2sob25lb2YsIGZ1bmN0aW9uIHBhcnNlT25lT2ZfYmxvY2sodG9rZW4pIHtcbiAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gXCJvcHRpb25cIikge1xuICAgICAgICAgICAgICAgIHBhcnNlT3B0aW9uKG9uZW9mLCB0b2tlbik7XG4gICAgICAgICAgICAgICAgc2tpcChcIjtcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgIHBhcnNlRmllbGQob25lb2YsIFwib3B0aW9uYWxcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnQuYWRkKG9uZW9mKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUVudW0ocGFyZW50LCB0b2tlbikge1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIW5hbWVSZS50ZXN0KHRva2VuID0gbmV4dCgpKSlcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwodG9rZW4sIFwibmFtZVwiKTtcblxuICAgICAgICB2YXIgZW5tID0gbmV3IEVudW0odG9rZW4pO1xuICAgICAgICBpZkJsb2NrKGVubSwgZnVuY3Rpb24gcGFyc2VFbnVtX2Jsb2NrKHRva2VuKSB7XG4gICAgICAgICAgc3dpdGNoKHRva2VuKSB7XG4gICAgICAgICAgICBjYXNlIFwib3B0aW9uXCI6XG4gICAgICAgICAgICAgIHBhcnNlT3B0aW9uKGVubSwgdG9rZW4pO1xuICAgICAgICAgICAgICBza2lwKFwiO1wiKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJyZXNlcnZlZFwiOlxuICAgICAgICAgICAgICByZWFkUmFuZ2VzKGVubS5yZXNlcnZlZCB8fCAoZW5tLnJlc2VydmVkID0gW10pLCB0cnVlKTtcbiAgICAgICAgICAgICAgaWYoZW5tLnJlc2VydmVkID09PSB1bmRlZmluZWQpIGVubS5yZXNlcnZlZCA9IFtdO1xuICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcGFyc2VFbnVtVmFsdWUoZW5tLCB0b2tlbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50LmFkZChlbm0pO1xuICAgICAgICBpZiAocGFyZW50ID09PSBwdHIpIHtcbiAgICAgICAgICAgIHRvcExldmVsT2JqZWN0cy5wdXNoKGVubSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUVudW1WYWx1ZShwYXJlbnQsIHRva2VuKSB7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghbmFtZVJlLnRlc3QodG9rZW4pKVxuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbiwgXCJuYW1lXCIpO1xuXG4gICAgICAgIHNraXAoXCI9XCIpO1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZUlkKG5leHQoKSwgdHJ1ZSksXG4gICAgICAgICAgICBkdW1teSA9IHtcbiAgICAgICAgICAgICAgICBvcHRpb25zOiB1bmRlZmluZWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIGR1bW15LmdldE9wdGlvbiA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbbmFtZV07XG4gICAgICAgIH07XG4gICAgICAgIGR1bW15LnNldE9wdGlvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICBSZWZsZWN0aW9uT2JqZWN0LnByb3RvdHlwZS5zZXRPcHRpb24uY2FsbChkdW1teSwgbmFtZSwgdmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICBkdW1teS5zZXRQYXJzZWRPcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIGlmQmxvY2soZHVtbXksIGZ1bmN0aW9uIHBhcnNlRW51bVZhbHVlX2Jsb2NrKHRva2VuKSB7XG5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICBpZiAodG9rZW4gPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJzZU9wdGlvbihkdW1teSwgdG9rZW4pOyAvLyBza2lwXG4gICAgICAgICAgICAgICAgc2tpcChcIjtcIik7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTtcblxuICAgICAgICB9LCBmdW5jdGlvbiBwYXJzZUVudW1WYWx1ZV9saW5lKCkge1xuICAgICAgICAgICAgcGFyc2VJbmxpbmVPcHRpb25zKGR1bW15KTsgLy8gc2tpcFxuICAgICAgICB9KTtcbiAgICAgICAgcGFyZW50LmFkZCh0b2tlbiwgdmFsdWUsIGR1bW15LmNvbW1lbnQsIGR1bW15LnBhcnNlZE9wdGlvbnMgfHwgZHVtbXkub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VPcHRpb24ocGFyZW50LCB0b2tlbikge1xuICAgICAgICAgICAgdmFyIG9wdGlvbjtcbiAgICAgICAgICAgIHZhciBwcm9wTmFtZTtcbiAgICAgICAgICAgIHZhciBpc09wdGlvbiA9IHRydWU7XG4gICAgICAgICAgICBpZiAodG9rZW4gPT09IFwib3B0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0b2tlbiA9IG5leHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUgKHRva2VuICE9PSBcIj1cIikge1xuICAgICAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gXCIoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVuc1ZhbHVlID0gbmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICBza2lwKFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdG9rZW4gPSBcIihcIiArIHBhcmVuc1ZhbHVlICsgXCIpXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc09wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpc09wdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW4uaW5jbHVkZXMoXCIuXCIpICYmICF0b2tlbi5pbmNsdWRlcyhcIihcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbnMgPSB0b2tlbi5zcGxpdChcIi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24gPSB0b2tlbnNbMF0gKyBcIi5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdG9rZW5zWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uID0gdG9rZW47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcE5hbWUgPSBwcm9wTmFtZSA/IHByb3BOYW1lICs9IHRva2VuIDogdG9rZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRva2VuID0gbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5hbWUgPSBwcm9wTmFtZSA/IG9wdGlvbi5jb25jYXQocHJvcE5hbWUpIDogb3B0aW9uO1xuICAgICAgICAgICAgdmFyIG9wdGlvblZhbHVlID0gcGFyc2VPcHRpb25WYWx1ZShwYXJlbnQsIG5hbWUpO1xuICAgICAgICAgICAgcHJvcE5hbWUgPSBwcm9wTmFtZSAmJiBwcm9wTmFtZVswXSA9PT0gXCIuXCIgPyBwcm9wTmFtZS5zbGljZSgxKSA6IHByb3BOYW1lO1xuICAgICAgICAgICAgb3B0aW9uID0gb3B0aW9uICYmIG9wdGlvbltvcHRpb24ubGVuZ3RoIC0gMV0gPT09IFwiLlwiID8gb3B0aW9uLnNsaWNlKDAsIC0xKSA6IG9wdGlvbjtcbiAgICAgICAgICAgIHNldFBhcnNlZE9wdGlvbihwYXJlbnQsIG9wdGlvbiwgb3B0aW9uVmFsdWUsIHByb3BOYW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZU9wdGlvblZhbHVlKHBhcmVudCwgbmFtZSkge1xuICAgICAgICAvLyB7IGE6IFwiZm9vXCIgYiB7IGM6IFwiYmFyXCIgfSB9XG4gICAgICAgIGlmIChza2lwKFwie1wiLCB0cnVlKSkge1xuICAgICAgICAgICAgdmFyIG9iamVjdFJlc3VsdCA9IHt9O1xuXG4gICAgICAgICAgICB3aGlsZSAoIXNraXAoXCJ9XCIsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgICAgaWYgKCFuYW1lUmUudGVzdCh0b2tlbiA9IG5leHQoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbiwgXCJuYW1lXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodG9rZW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IGlsbGVnYWwodG9rZW4sIFwiZW5kIG9mIGlucHV0XCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcE5hbWUgPSB0b2tlbjtcblxuICAgICAgICAgICAgICAgIHNraXAoXCI6XCIsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBlZWsoKSA9PT0gXCJ7XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9uIChteV9vcHRpb24pID0ge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmVwZWF0ZWRfdmFsdWU6IFsgXCJmb29cIiwgXCJiYXJcIiBdXG4gICAgICAgICAgICAgICAgICAgIC8vIH07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VPcHRpb25WYWx1ZShwYXJlbnQsIG5hbWUgKyBcIi5cIiArIHRva2VuKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBlZWsoKSA9PT0gXCJbXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNraXAoXCJbXCIsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gcmVhZFZhbHVlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnB1c2gobGFzdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKHNraXAoXCIsXCIsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraXAoXCJdXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsYXN0VmFsdWUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRPcHRpb24ocGFyZW50LCBuYW1lICsgXCIuXCIgKyB0b2tlbiwgbGFzdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcmVhZFZhbHVlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRPcHRpb24ocGFyZW50LCBuYW1lICsgXCIuXCIgKyB0b2tlbiwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBwcmV2VmFsdWUgPSBvYmplY3RSZXN1bHRbcHJvcE5hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKHByZXZWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBbXS5jb25jYXQocHJldlZhbHVlKS5jb25jYXQodmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgb2JqZWN0UmVzdWx0W3Byb3BOYW1lXSA9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gU2VtaWNvbG9ucyBhbmQgY29tbWFzIGNhbiBiZSBvcHRpb25hbFxuICAgICAgICAgICAgICAgIHNraXAoXCIsXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgIHNraXAoXCI7XCIsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0UmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNpbXBsZVZhbHVlID0gcmVhZFZhbHVlKHRydWUpO1xuICAgICAgICBzZXRPcHRpb24ocGFyZW50LCBuYW1lLCBzaW1wbGVWYWx1ZSk7XG4gICAgICAgIHJldHVybiBzaW1wbGVWYWx1ZTtcbiAgICAgICAgLy8gRG9lcyBub3QgZW5mb3JjZSBhIGRlbGltaXRlciB0byBiZSB1bml2ZXJzYWxcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRPcHRpb24ocGFyZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAocHRyID09PSBwYXJlbnQgJiYgL15mZWF0dXJlc1xcLi8udGVzdChuYW1lKSkge1xuICAgICAgICAgICAgdG9wTGV2ZWxPcHRpb25zW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudC5zZXRPcHRpb24pXG4gICAgICAgICAgICBwYXJlbnQuc2V0T3B0aW9uKG5hbWUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzZXRQYXJzZWRPcHRpb24ocGFyZW50LCBuYW1lLCB2YWx1ZSwgcHJvcE5hbWUpIHtcbiAgICAgICAgaWYgKHBhcmVudC5zZXRQYXJzZWRPcHRpb24pXG4gICAgICAgICAgICBwYXJlbnQuc2V0UGFyc2VkT3B0aW9uKG5hbWUsIHZhbHVlLCBwcm9wTmFtZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VJbmxpbmVPcHRpb25zKHBhcmVudCkge1xuICAgICAgICBpZiAoc2tpcChcIltcIiwgdHJ1ZSkpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBwYXJzZU9wdGlvbihwYXJlbnQsIFwib3B0aW9uXCIpO1xuICAgICAgICAgICAgfSB3aGlsZSAoc2tpcChcIixcIiwgdHJ1ZSkpO1xuICAgICAgICAgICAgc2tpcChcIl1cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZVNlcnZpY2UocGFyZW50LCB0b2tlbikge1xuXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIW5hbWVSZS50ZXN0KHRva2VuID0gbmV4dCgpKSlcbiAgICAgICAgICAgIHRocm93IGlsbGVnYWwodG9rZW4sIFwic2VydmljZSBuYW1lXCIpO1xuXG4gICAgICAgIHZhciBzZXJ2aWNlID0gbmV3IFNlcnZpY2UodG9rZW4pO1xuICAgICAgICBpZkJsb2NrKHNlcnZpY2UsIGZ1bmN0aW9uIHBhcnNlU2VydmljZV9ibG9jayh0b2tlbikge1xuICAgICAgICAgICAgaWYgKHBhcnNlQ29tbW9uKHNlcnZpY2UsIHRva2VuKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gXCJycGNcIilcbiAgICAgICAgICAgICAgICBwYXJzZU1ldGhvZChzZXJ2aWNlLCB0b2tlbik7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG4gICAgICAgIH0pO1xuICAgICAgICBwYXJlbnQuYWRkKHNlcnZpY2UpO1xuICAgICAgICBpZiAocGFyZW50ID09PSBwdHIpIHtcbiAgICAgICAgICAgIHRvcExldmVsT2JqZWN0cy5wdXNoKHNlcnZpY2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcGFyc2VNZXRob2QocGFyZW50LCB0b2tlbikge1xuICAgICAgICAvLyBHZXQgdGhlIGNvbW1lbnQgb2YgdGhlIHByZWNlZGluZyBsaW5lIG5vdyAoaWYgb25lIGV4aXN0cykgaW4gY2FzZSB0aGVcbiAgICAgICAgLy8gbWV0aG9kIGlzIGRlZmluZWQgYWNyb3NzIG11bHRpcGxlIGxpbmVzLlxuICAgICAgICB2YXIgY29tbWVudFRleHQgPSBjbW50KCk7XG5cbiAgICAgICAgdmFyIHR5cGUgPSB0b2tlbjtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCFuYW1lUmUudGVzdCh0b2tlbiA9IG5leHQoKSkpXG4gICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuLCBcIm5hbWVcIik7XG5cbiAgICAgICAgdmFyIG5hbWUgPSB0b2tlbixcbiAgICAgICAgICAgIHJlcXVlc3RUeXBlLCByZXF1ZXN0U3RyZWFtLFxuICAgICAgICAgICAgcmVzcG9uc2VUeXBlLCByZXNwb25zZVN0cmVhbTtcblxuICAgICAgICBza2lwKFwiKFwiKTtcbiAgICAgICAgaWYgKHNraXAoXCJzdHJlYW1cIiwgdHJ1ZSkpXG4gICAgICAgICAgICByZXF1ZXN0U3RyZWFtID0gdHJ1ZTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCF0eXBlUmVmUmUudGVzdCh0b2tlbiA9IG5leHQoKSkpXG4gICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTtcblxuICAgICAgICByZXF1ZXN0VHlwZSA9IHRva2VuO1xuICAgICAgICBza2lwKFwiKVwiKTsgc2tpcChcInJldHVybnNcIik7IHNraXAoXCIoXCIpO1xuICAgICAgICBpZiAoc2tpcChcInN0cmVhbVwiLCB0cnVlKSlcbiAgICAgICAgICAgIHJlc3BvbnNlU3RyZWFtID0gdHJ1ZTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCF0eXBlUmVmUmUudGVzdCh0b2tlbiA9IG5leHQoKSkpXG4gICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTtcblxuICAgICAgICByZXNwb25zZVR5cGUgPSB0b2tlbjtcbiAgICAgICAgc2tpcChcIilcIik7XG5cbiAgICAgICAgdmFyIG1ldGhvZCA9IG5ldyBNZXRob2QobmFtZSwgdHlwZSwgcmVxdWVzdFR5cGUsIHJlc3BvbnNlVHlwZSwgcmVxdWVzdFN0cmVhbSwgcmVzcG9uc2VTdHJlYW0pO1xuICAgICAgICBtZXRob2QuY29tbWVudCA9IGNvbW1lbnRUZXh0O1xuICAgICAgICBpZkJsb2NrKG1ldGhvZCwgZnVuY3Rpb24gcGFyc2VNZXRob2RfYmxvY2sodG9rZW4pIHtcblxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gXCJvcHRpb25cIikge1xuICAgICAgICAgICAgICAgIHBhcnNlT3B0aW9uKG1ldGhvZCwgdG9rZW4pO1xuICAgICAgICAgICAgICAgIHNraXAoXCI7XCIpO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG5cbiAgICAgICAgfSk7XG4gICAgICAgIHBhcmVudC5hZGQobWV0aG9kKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwYXJzZUV4dGVuc2lvbihwYXJlbnQsIHRva2VuKSB7XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICghdHlwZVJlZlJlLnRlc3QodG9rZW4gPSBuZXh0KCkpKVxuICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbiwgXCJyZWZlcmVuY2VcIik7XG5cbiAgICAgICAgdmFyIHJlZmVyZW5jZSA9IHRva2VuO1xuICAgICAgICBpZkJsb2NrKG51bGwsIGZ1bmN0aW9uIHBhcnNlRXh0ZW5zaW9uX2Jsb2NrKHRva2VuKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVwZWF0ZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VGaWVsZChwYXJlbnQsIHRva2VuLCByZWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcHRpb25hbFwiOlxuICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRpb24gPT09IFwicHJvdG8zXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlRmllbGQocGFyZW50LCBcInByb3RvM19vcHRpb25hbFwiLCByZWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VGaWVsZChwYXJlbnQsIFwib3B0aW9uYWxcIiwgcmVmZXJlbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdGlvbiA9PT0gXCJwcm90bzJcIiB8fCAhdHlwZVJlZlJlLnRlc3QodG9rZW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHB1c2godG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBwYXJzZUZpZWxkKHBhcmVudCwgXCJvcHRpb25hbFwiLCByZWZlcmVuY2UpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHRva2VuO1xuICAgIHdoaWxlICgodG9rZW4gPSBuZXh0KCkpICE9PSBudWxsKSB7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcblxuICAgICAgICAgICAgY2FzZSBcInBhY2thZ2VcIjpcblxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgIGlmICghaGVhZClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG5cbiAgICAgICAgICAgICAgICBwYXJzZVBhY2thZ2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSBcImltcG9ydFwiOlxuXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgICAgaWYgKCFoZWFkKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTtcblxuICAgICAgICAgICAgICAgIHBhcnNlSW1wb3J0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJzeW50YXhcIjpcblxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgIGlmICghaGVhZClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG5cbiAgICAgICAgICAgICAgICBwYXJzZVN5bnRheCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFwiZWRpdGlvblwiOlxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgIGlmICghaGVhZClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaWxsZWdhbCh0b2tlbik7XG4gICAgICAgICAgICAgICAgcGFyc2VFZGl0aW9uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgXCJvcHRpb25cIjpcbiAgICAgICAgICAgICAgICBwYXJzZU9wdGlvbihwdHIsIHRva2VuKTtcbiAgICAgICAgICAgICAgICBza2lwKFwiO1wiLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgZGVmYXVsdDpcblxuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlQ29tbW9uKHB0ciwgdG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICB0aHJvdyBpbGxlZ2FsKHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc29sdmVGaWxlRmVhdHVyZXMoKTtcblxuICAgIHBhcnNlLmZpbGVuYW1lID0gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBcInBhY2thZ2VcIiAgICAgOiBwa2csXG4gICAgICAgIFwiaW1wb3J0c1wiICAgICA6IGltcG9ydHMsXG4gICAgICAgICB3ZWFrSW1wb3J0cyAgOiB3ZWFrSW1wb3J0cyxcbiAgICAgICAgIHJvb3QgICAgICAgICA6IHJvb3RcbiAgICB9O1xufVxuXG4vKipcbiAqIFBhcnNlcyB0aGUgZ2l2ZW4gLnByb3RvIHNvdXJjZSBhbmQgcmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgcGFyc2VkIGNvbnRlbnRzLlxuICogQG5hbWUgcGFyc2VcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBTb3VyY2UgY29udGVudHNcbiAqIEBwYXJhbSB7SVBhcnNlT3B0aW9uc30gW29wdGlvbnNdIFBhcnNlIG9wdGlvbnMuIERlZmF1bHRzIHRvIHtAbGluayBwYXJzZS5kZWZhdWx0c30gd2hlbiBvbWl0dGVkLlxuICogQHJldHVybnMge0lQYXJzZXJSZXN1bHR9IFBhcnNlciByZXN1bHRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaWxlbmFtZT1udWxsIEN1cnJlbnRseSBwcm9jZXNzaW5nIGZpbGUgbmFtZSBmb3IgZXJyb3IgcmVwb3J0aW5nLCBpZiBrbm93blxuICogQHByb3BlcnR5IHtJUGFyc2VPcHRpb25zfSBkZWZhdWx0cyBEZWZhdWx0IHtAbGluayBJUGFyc2VPcHRpb25zfVxuICogQHZhcmlhdGlvbiAyXG4gKi9cbiIsIlwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBjb21tb247XG5cbnZhciBjb21tb25SZSA9IC9cXC98XFwuLztcblxuLyoqXG4gKiBQcm92aWRlcyBjb21tb24gdHlwZSBkZWZpbml0aW9ucy5cbiAqIENhbiBhbHNvIGJlIHVzZWQgdG8gcHJvdmlkZSBhZGRpdGlvbmFsIGdvb2dsZSB0eXBlcyBvciB5b3VyIG93biBjdXN0b20gdHlwZXMuXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBTaG9ydCBuYW1lIGFzIGluIGBnb29nbGUvcHJvdG9idWYvW25hbWVdLnByb3RvYCBvciBmdWxsIGZpbGUgbmFtZVxuICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywqPn0ganNvbiBKU09OIGRlZmluaXRpb24gd2l0aGluIGBnb29nbGUucHJvdG9idWZgIGlmIGEgc2hvcnQgbmFtZSwgb3RoZXJ3aXNlIHRoZSBmaWxlJ3Mgcm9vdCBkZWZpbml0aW9uXG4gKiBAcmV0dXJucyB7dW5kZWZpbmVkfVxuICogQHByb3BlcnR5IHtJTmFtZXNwYWNlfSBnb29nbGUvcHJvdG9idWYvYW55LnByb3RvIEFueVxuICogQHByb3BlcnR5IHtJTmFtZXNwYWNlfSBnb29nbGUvcHJvdG9idWYvZHVyYXRpb24ucHJvdG8gRHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7SU5hbWVzcGFjZX0gZ29vZ2xlL3Byb3RvYnVmL2VtcHR5LnByb3RvIEVtcHR5XG4gKiBAcHJvcGVydHkge0lOYW1lc3BhY2V9IGdvb2dsZS9wcm90b2J1Zi9maWVsZF9tYXNrLnByb3RvIEZpZWxkTWFza1xuICogQHByb3BlcnR5IHtJTmFtZXNwYWNlfSBnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvIFN0cnVjdCwgVmFsdWUsIE51bGxWYWx1ZSBhbmQgTGlzdFZhbHVlXG4gKiBAcHJvcGVydHkge0lOYW1lc3BhY2V9IGdvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAucHJvdG8gVGltZXN0YW1wXG4gKiBAcHJvcGVydHkge0lOYW1lc3BhY2V9IGdvb2dsZS9wcm90b2J1Zi93cmFwcGVycy5wcm90byBXcmFwcGVyc1xuICogQGV4YW1wbGVcbiAqIC8vIG1hbnVhbGx5IHByb3ZpZGVzIGRlc2NyaXB0b3IucHJvdG8gKGFzc3VtZXMgZ29vZ2xlL3Byb3RvYnVmLyBuYW1lc3BhY2UgYW5kIC5wcm90byBleHRlbnNpb24pXG4gKiBwcm90b2J1Zi5jb21tb24oXCJkZXNjcmlwdG9yXCIsIGRlc2NyaXB0b3JKc29uKTtcbiAqXG4gKiAvLyBtYW51YWxseSBwcm92aWRlcyBhIGN1c3RvbSBkZWZpbml0aW9uICh1c2VzIG15LmZvbyBuYW1lc3BhY2UpXG4gKiBwcm90b2J1Zi5jb21tb24oXCJteS9mb28vYmFyLnByb3RvXCIsIG15Rm9vQmFySnNvbik7XG4gKi9cbmZ1bmN0aW9uIGNvbW1vbihuYW1lLCBqc29uKSB7XG4gICAgaWYgKCFjb21tb25SZS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIG5hbWUgPSBcImdvb2dsZS9wcm90b2J1Zi9cIiArIG5hbWUgKyBcIi5wcm90b1wiO1xuICAgICAgICBqc29uID0geyBuZXN0ZWQ6IHsgZ29vZ2xlOiB7IG5lc3RlZDogeyBwcm90b2J1ZjogeyBuZXN0ZWQ6IGpzb24gfSB9IH0gfSB9O1xuICAgIH1cbiAgICBjb21tb25bbmFtZV0gPSBqc29uO1xufVxuXG4vLyBOb3QgcHJvdmlkZWQgYmVjYXVzZSBvZiBsaW1pdGVkIHVzZSAoZmVlbCBmcmVlIHRvIGRpc2N1c3Mgb3IgdG8gcHJvdmlkZSB5b3Vyc2VsZik6XG4vL1xuLy8gZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IucHJvdG9cbi8vIGdvb2dsZS9wcm90b2J1Zi9zb3VyY2VfY29udGV4dC5wcm90b1xuLy8gZ29vZ2xlL3Byb3RvYnVmL3R5cGUucHJvdG9cbi8vXG4vLyBTdHJpcHBlZCBhbmQgcHJlLXBhcnNlZCB2ZXJzaW9ucyBvZiB0aGVzZSBub24tYnVuZGxlZCBmaWxlcyBhcmUgaW5zdGVhZCBhdmFpbGFibGUgYXMgcGFydCBvZlxuLy8gdGhlIHJlcG9zaXRvcnkgb3IgcGFja2FnZSB3aXRoaW4gdGhlIGdvb2dsZS9wcm90b2J1ZiBkaXJlY3RvcnkuXG5cbmNvbW1vbihcImFueVwiLCB7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgZ29vZ2xlLnByb3RvYnVmLkFueSBtZXNzYWdlLlxuICAgICAqIEBpbnRlcmZhY2UgSUFueVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFt0eXBlVXJsXVxuICAgICAqIEBwcm9wZXJ0eSB7VWludDhBcnJheX0gW2J5dGVzXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBBbnk6IHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICB0eXBlX3VybDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYnl0ZXNcIixcbiAgICAgICAgICAgICAgICBpZDogMlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSk7XG5cbnZhciB0aW1lVHlwZTtcblxuY29tbW9uKFwiZHVyYXRpb25cIiwge1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiBhIGdvb2dsZS5wcm90b2J1Zi5EdXJhdGlvbiBtZXNzYWdlLlxuICAgICAqIEBpbnRlcmZhY2UgSUR1cmF0aW9uXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcnxMb25nfSBbc2Vjb25kc11cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW25hbm9zXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBEdXJhdGlvbjogdGltZVR5cGUgPSB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgc2Vjb25kczoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiaW50NjRcIixcbiAgICAgICAgICAgICAgICBpZDogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5hbm9zOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJpbnQzMlwiLFxuICAgICAgICAgICAgICAgIGlkOiAyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuY29tbW9uKFwidGltZXN0YW1wXCIsIHtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgb2YgYSBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIG1lc3NhZ2UuXG4gICAgICogQGludGVyZmFjZSBJVGltZXN0YW1wXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcnxMb25nfSBbc2Vjb25kc11cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW25hbm9zXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBUaW1lc3RhbXA6IHRpbWVUeXBlXG59KTtcblxuY29tbW9uKFwiZW1wdHlcIiwge1xuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiBhIGdvb2dsZS5wcm90b2J1Zi5FbXB0eSBtZXNzYWdlLlxuICAgICAqIEBpbnRlcmZhY2UgSUVtcHR5XG4gICAgICogQG1lbWJlcm9mIGNvbW1vblxuICAgICAqL1xuICAgIEVtcHR5OiB7XG4gICAgICAgIGZpZWxkczoge31cbiAgICB9XG59KTtcblxuY29tbW9uKFwic3RydWN0XCIsIHtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgb2YgYSBnb29nbGUucHJvdG9idWYuU3RydWN0IG1lc3NhZ2UuXG4gICAgICogQGludGVyZmFjZSBJU3RydWN0XG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLElWYWx1ZT59IFtmaWVsZHNdXG4gICAgICogQG1lbWJlcm9mIGNvbW1vblxuICAgICAqL1xuICAgIFN0cnVjdDoge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIGtleVR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJWYWx1ZVwiLFxuICAgICAgICAgICAgICAgIGlkOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiBhIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZSBtZXNzYWdlLlxuICAgICAqIEBpbnRlcmZhY2UgSVZhbHVlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW2tpbmRdXG4gICAgICogQHByb3BlcnR5IHswfSBbbnVsbFZhbHVlXVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbnVtYmVyVmFsdWVdXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtzdHJpbmdWYWx1ZV1cbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtib29sVmFsdWVdXG4gICAgICogQHByb3BlcnR5IHtJU3RydWN0fSBbc3RydWN0VmFsdWVdXG4gICAgICogQHByb3BlcnR5IHtJTGlzdFZhbHVlfSBbbGlzdFZhbHVlXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBWYWx1ZToge1xuICAgICAgICBvbmVvZnM6IHtcbiAgICAgICAgICAgIGtpbmQ6IHtcbiAgICAgICAgICAgICAgICBvbmVvZjogW1xuICAgICAgICAgICAgICAgICAgICBcIm51bGxWYWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcIm51bWJlclZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgIFwic3RyaW5nVmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJib29sVmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJ1Y3RWYWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImxpc3RWYWx1ZVwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG51bGxWYWx1ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiTnVsbFZhbHVlXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBudW1iZXJWYWx1ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiZG91YmxlXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJpbmdWYWx1ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBib29sVmFsdWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJvb2xcIixcbiAgICAgICAgICAgICAgICBpZDogNFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0cnVjdFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJTdHJ1Y3RcIixcbiAgICAgICAgICAgICAgICBpZDogNVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpc3RWYWx1ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiTGlzdFZhbHVlXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDZcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBOdWxsVmFsdWU6IHtcbiAgICAgICAgdmFsdWVzOiB7XG4gICAgICAgICAgICBOVUxMX1ZBTFVFOiAwXG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiBhIGdvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWUgbWVzc2FnZS5cbiAgICAgKiBAaW50ZXJmYWNlIElMaXN0VmFsdWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7QXJyYXkuPElWYWx1ZT59IFt2YWx1ZXNdXG4gICAgICogQG1lbWJlcm9mIGNvbW1vblxuICAgICAqL1xuICAgIExpc3RWYWx1ZToge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIHZhbHVlczoge1xuICAgICAgICAgICAgICAgIHJ1bGU6IFwicmVwZWF0ZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlZhbHVlXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jb21tb24oXCJ3cmFwcGVyc1wiLCB7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgZ29vZ2xlLnByb3RvYnVmLkRvdWJsZVZhbHVlIG1lc3NhZ2UuXG4gICAgICogQGludGVyZmFjZSBJRG91YmxlVmFsdWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdmFsdWVdXG4gICAgICogQG1lbWJlcm9mIGNvbW1vblxuICAgICAqL1xuICAgIERvdWJsZVZhbHVlOiB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImRvdWJsZVwiLFxuICAgICAgICAgICAgICAgIGlkOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiBhIGdvb2dsZS5wcm90b2J1Zi5GbG9hdFZhbHVlIG1lc3NhZ2UuXG4gICAgICogQGludGVyZmFjZSBJRmxvYXRWYWx1ZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt2YWx1ZV1cbiAgICAgKiBAbWVtYmVyb2YgY29tbW9uXG4gICAgICovXG4gICAgRmxvYXRWYWx1ZToge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJmbG9hdFwiLFxuICAgICAgICAgICAgICAgIGlkOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiBhIGdvb2dsZS5wcm90b2J1Zi5JbnQ2NFZhbHVlIG1lc3NhZ2UuXG4gICAgICogQGludGVyZmFjZSBJSW50NjRWYWx1ZVxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ8TG9uZ30gW3ZhbHVlXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBJbnQ2NFZhbHVlOiB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImludDY0XCIsXG4gICAgICAgICAgICAgICAgaWQ6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgZ29vZ2xlLnByb3RvYnVmLlVJbnQ2NFZhbHVlIG1lc3NhZ2UuXG4gICAgICogQGludGVyZmFjZSBJVUludDY0VmFsdWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfExvbmd9IFt2YWx1ZV1cbiAgICAgKiBAbWVtYmVyb2YgY29tbW9uXG4gICAgICovXG4gICAgVUludDY0VmFsdWU6IHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidWludDY0XCIsXG4gICAgICAgICAgICAgICAgaWQ6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUgbWVzc2FnZS5cbiAgICAgKiBAaW50ZXJmYWNlIElJbnQzMlZhbHVlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gW3ZhbHVlXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBJbnQzMlZhbHVlOiB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImludDMyXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIG9mIGEgZ29vZ2xlLnByb3RvYnVmLlVJbnQzMlZhbHVlIG1lc3NhZ2UuXG4gICAgICogQGludGVyZmFjZSBJVUludDMyVmFsdWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdmFsdWVdXG4gICAgICogQG1lbWJlcm9mIGNvbW1vblxuICAgICAqL1xuICAgIFVJbnQzMlZhbHVlOiB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInVpbnQzMlwiLFxuICAgICAgICAgICAgICAgIGlkOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiBhIGdvb2dsZS5wcm90b2J1Zi5Cb29sVmFsdWUgbWVzc2FnZS5cbiAgICAgKiBAaW50ZXJmYWNlIElCb29sVmFsdWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3ZhbHVlXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBCb29sVmFsdWU6IHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiYm9vbFwiLFxuICAgICAgICAgICAgICAgIGlkOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyBvZiBhIGdvb2dsZS5wcm90b2J1Zi5TdHJpbmdWYWx1ZSBtZXNzYWdlLlxuICAgICAqIEBpbnRlcmZhY2UgSVN0cmluZ1ZhbHVlXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3ZhbHVlXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBTdHJpbmdWYWx1ZToge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICBpZDogMVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgb2YgYSBnb29nbGUucHJvdG9idWYuQnl0ZXNWYWx1ZSBtZXNzYWdlLlxuICAgICAqIEBpbnRlcmZhY2UgSUJ5dGVzVmFsdWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7VWludDhBcnJheX0gW3ZhbHVlXVxuICAgICAqIEBtZW1iZXJvZiBjb21tb25cbiAgICAgKi9cbiAgICBCeXRlc1ZhbHVlOiB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJ5dGVzXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5jb21tb24oXCJmaWVsZF9tYXNrXCIsIHtcblxuICAgIC8qKlxuICAgICAqIFByb3BlcnRpZXMgb2YgYSBnb29nbGUucHJvdG9idWYuRmllbGRNYXNrIG1lc3NhZ2UuXG4gICAgICogQGludGVyZmFjZSBJRG91YmxlVmFsdWVcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbdmFsdWVdXG4gICAgICogQG1lbWJlcm9mIGNvbW1vblxuICAgICAqL1xuICAgIEZpZWxkTWFzazoge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIHBhdGhzOiB7XG4gICAgICAgICAgICAgICAgcnVsZTogXCJyZXBlYXRlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgaWQ6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4vKipcbiAqIEdldHMgdGhlIHJvb3QgZGVmaW5pdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGNvbW1vbiBwcm90byBmaWxlLlxuICpcbiAqIEJ1bmRsZWQgZGVmaW5pdGlvbnMgYXJlOlxuICogLSBnb29nbGUvcHJvdG9idWYvYW55LnByb3RvXG4gKiAtIGdvb2dsZS9wcm90b2J1Zi9kdXJhdGlvbi5wcm90b1xuICogLSBnb29nbGUvcHJvdG9idWYvZW1wdHkucHJvdG9cbiAqIC0gZ29vZ2xlL3Byb3RvYnVmL2ZpZWxkX21hc2sucHJvdG9cbiAqIC0gZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC5wcm90b1xuICogLSBnb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvXG4gKiAtIGdvb2dsZS9wcm90b2J1Zi93cmFwcGVycy5wcm90b1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlIFByb3RvIGZpbGUgbmFtZVxuICogQHJldHVybnMge0lOYW1lc3BhY2V8bnVsbH0gUm9vdCBkZWZpbml0aW9uIG9yIGBudWxsYCBpZiBub3QgZGVmaW5lZFxuICovXG5jb21tb24uZ2V0ID0gZnVuY3Rpb24gZ2V0KGZpbGUpIHtcbiAgICByZXR1cm4gY29tbW9uW2ZpbGVdIHx8IG51bGw7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgcHJvdG9idWYgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL2luZGV4LWxpZ2h0XCIpO1xuXG5wcm90b2J1Zi5idWlsZCA9IFwiZnVsbFwiO1xuXG4vLyBQYXJzZXJcbnByb3RvYnVmLnRva2VuaXplICAgICAgICAgPSByZXF1aXJlKFwiLi90b2tlbml6ZVwiKTtcbnByb3RvYnVmLnBhcnNlICAgICAgICAgICAgPSByZXF1aXJlKFwiLi9wYXJzZVwiKTtcbnByb3RvYnVmLmNvbW1vbiAgICAgICAgICAgPSByZXF1aXJlKFwiLi9jb21tb25cIik7XG5cbi8vIENvbmZpZ3VyZSBwYXJzZXJcbnByb3RvYnVmLlJvb3QuX2NvbmZpZ3VyZShwcm90b2J1Zi5UeXBlLCBwcm90b2J1Zi5wYXJzZSwgcHJvdG9idWYuY29tbW9uKTtcbiIsIi8vIGZ1bGwgbGlicmFyeSBlbnRyeSBwb2ludC5cblxuXCJ1c2Ugc3RyaWN0XCI7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL3NyYy9pbmRleFwiKTtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyICRwcm90b2J1ZiA9IHJlcXVpcmUoXCIuLi8uLlwiKTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9ICRwcm90b2J1Zi5kZXNjcmlwdG9yID0gJHByb3RvYnVmLlJvb3QuZnJvbUpTT04ocmVxdWlyZShcIi4uLy4uL2dvb2dsZS9wcm90b2J1Zi9kZXNjcmlwdG9yLmpzb25cIikpLmxvb2t1cChcIi5nb29nbGUucHJvdG9idWZcIik7XG5cbnZhciBOYW1lc3BhY2UgPSAkcHJvdG9idWYuTmFtZXNwYWNlLFxuICAgIFJvb3QgICAgICA9ICRwcm90b2J1Zi5Sb290LFxuICAgIEVudW0gICAgICA9ICRwcm90b2J1Zi5FbnVtLFxuICAgIFR5cGUgICAgICA9ICRwcm90b2J1Zi5UeXBlLFxuICAgIEZpZWxkICAgICA9ICRwcm90b2J1Zi5GaWVsZCxcbiAgICBNYXBGaWVsZCAgPSAkcHJvdG9idWYuTWFwRmllbGQsXG4gICAgT25lT2YgICAgID0gJHByb3RvYnVmLk9uZU9mLFxuICAgIFNlcnZpY2UgICA9ICRwcm90b2J1Zi5TZXJ2aWNlLFxuICAgIE1ldGhvZCAgICA9ICRwcm90b2J1Zi5NZXRob2Q7XG5cbi8vIC0tLSBSb290IC0tLVxuXG4vKipcbiAqIFByb3BlcnRpZXMgb2YgYSBGaWxlRGVzY3JpcHRvclNldCBtZXNzYWdlLlxuICogQGludGVyZmFjZSBJRmlsZURlc2NyaXB0b3JTZXRcbiAqIEBwcm9wZXJ0eSB7SUZpbGVEZXNjcmlwdG9yUHJvdG9bXX0gZmlsZSBGaWxlc1xuICovXG5cbi8qKlxuICogUHJvcGVydGllcyBvZiBhIEZpbGVEZXNjcmlwdG9yUHJvdG8gbWVzc2FnZS5cbiAqIEBpbnRlcmZhY2UgSUZpbGVEZXNjcmlwdG9yUHJvdG9cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gRmlsZSBuYW1lXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3BhY2thZ2VdIFBhY2thZ2VcbiAqIEBwcm9wZXJ0eSB7Kn0gW2RlcGVuZGVuY3ldIE5vdCBzdXBwb3J0ZWRcbiAqIEBwcm9wZXJ0eSB7Kn0gW3B1YmxpY0RlcGVuZGVuY3ldIE5vdCBzdXBwb3J0ZWRcbiAqIEBwcm9wZXJ0eSB7Kn0gW3dlYWtEZXBlbmRlbmN5XSBOb3Qgc3VwcG9ydGVkXG4gKiBAcHJvcGVydHkge0lEZXNjcmlwdG9yUHJvdG9bXX0gW21lc3NhZ2VUeXBlXSBOZXN0ZWQgbWVzc2FnZSB0eXBlc1xuICogQHByb3BlcnR5IHtJRW51bURlc2NyaXB0b3JQcm90b1tdfSBbZW51bVR5cGVdIE5lc3RlZCBlbnVtc1xuICogQHByb3BlcnR5IHtJU2VydmljZURlc2NyaXB0b3JQcm90b1tdfSBbc2VydmljZV0gTmVzdGVkIHNlcnZpY2VzXG4gKiBAcHJvcGVydHkge0lGaWVsZERlc2NyaXB0b3JQcm90b1tdfSBbZXh0ZW5zaW9uXSBOZXN0ZWQgZXh0ZW5zaW9uIGZpZWxkc1xuICogQHByb3BlcnR5IHtJRmlsZU9wdGlvbnN9IFtvcHRpb25zXSBPcHRpb25zXG4gKiBAcHJvcGVydHkgeyp9IFtzb3VyY2VDb2RlSW5mb10gTm90IHN1cHBvcnRlZFxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtzeW50YXg9XCJwcm90bzJcIl0gU3ludGF4XG4gKiBAcHJvcGVydHkge0lFZGl0aW9ufSBbZWRpdGlvbl0gRWRpdGlvblxuICovXG5cbi8qKlxuICogVmFsdWVzIG9mIHRoZSBFZGl0aW9uIGVudW0uXG4gKiBAdHlwZWRlZiBJRWRpdGlvblxuICogQHR5cGUge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFRElUSU9OX1VOS05PV049MFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVESVRJT05fTEVHQUNZPTkwMFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVESVRJT05fUFJPVE8yPTk5OFxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVESVRJT05fUFJPVE8zPTk5OVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVESVRJT05fMjAyMz0xMDAwXG4gKiBAcHJvcGVydHkge251bWJlcn0gRURJVElPTl8yMDI0PTEwMDFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFRElUSU9OXzFfVEVTVF9PTkxZPTFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFRElUSU9OXzJfVEVTVF9PTkxZPTJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFRElUSU9OXzk5OTk3X1RFU1RfT05MWT05OTk5N1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEVESVRJT05fOTk5OThfVEVTVF9PTkxZPTk5OTk4XG4gKiBAcHJvcGVydHkge251bWJlcn0gRURJVElPTl85OTk5OF9URVNUX09OTFk9OTk5OTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFRElUSU9OX01BWD0yMTQ3NDgzNjQ3XG4gKi9cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgRmlsZU9wdGlvbnMgbWVzc2FnZS5cbiAqIEBpbnRlcmZhY2UgSUZpbGVPcHRpb25zXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2phdmFQYWNrYWdlXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtqYXZhT3V0ZXJDbGFzc25hbWVdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtqYXZhTXVsdGlwbGVGaWxlc11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2phdmFHZW5lcmF0ZUVxdWFsc0FuZEhhc2hdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtqYXZhU3RyaW5nQ2hlY2tVdGY4XVxuICogQHByb3BlcnR5IHtJRmlsZU9wdGlvbnNPcHRpbWl6ZU1vZGV9IFtvcHRpbWl6ZUZvcj0xXVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtnb1BhY2thZ2VdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjY0dlbmVyaWNTZXJ2aWNlc11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2phdmFHZW5lcmljU2VydmljZXNdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtweUdlbmVyaWNTZXJ2aWNlc11cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RlcHJlY2F0ZWRdXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjY0VuYWJsZUFyZW5hc11cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbb2JqY0NsYXNzUHJlZml4XVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtjc2hhcnBOYW1lc3BhY2VdXG4gKi9cblxuLyoqXG4gKiBWYWx1ZXMgb2YgaGUgRmlsZU9wdGlvbnMuT3B0aW1pemVNb2RlIGVudW0uXG4gKiBAdHlwZWRlZiBJRmlsZU9wdGlvbnNPcHRpbWl6ZU1vZGVcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gU1BFRUQ9MVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPREVfU0laRT0yXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElURV9SVU5USU1FPTNcbiAqL1xuXG4vKipcbiAqIENyZWF0ZXMgYSByb290IGZyb20gYSBkZXNjcmlwdG9yIHNldC5cbiAqIEBwYXJhbSB7SUZpbGVEZXNjcmlwdG9yU2V0fFJlYWRlcnxVaW50OEFycmF5fSBkZXNjcmlwdG9yIERlc2NyaXB0b3JcbiAqIEByZXR1cm5zIHtSb290fSBSb290IGluc3RhbmNlXG4gKi9cblJvb3QuZnJvbURlc2NyaXB0b3IgPSBmdW5jdGlvbiBmcm9tRGVzY3JpcHRvcihkZXNjcmlwdG9yKSB7XG5cbiAgICAvLyBEZWNvZGUgdGhlIGRlc2NyaXB0b3IgbWVzc2FnZSBpZiBzcGVjaWZpZWQgYXMgYSBidWZmZXI6XG4gICAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmxlbmd0aCA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgZGVzY3JpcHRvciA9IGV4cG9ydHMuRmlsZURlc2NyaXB0b3JTZXQuZGVjb2RlKGRlc2NyaXB0b3IpO1xuXG4gICAgdmFyIHJvb3QgPSBuZXcgUm9vdCgpO1xuXG4gICAgaWYgKGRlc2NyaXB0b3IuZmlsZSkge1xuICAgICAgICB2YXIgZmlsZURlc2NyaXB0b3IsXG4gICAgICAgICAgICBmaWxlUGFja2FnZTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGk7IGogPCBkZXNjcmlwdG9yLmZpbGUubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGZpbGVQYWNrYWdlID0gcm9vdDtcbiAgICAgICAgICAgIGlmICgoZmlsZURlc2NyaXB0b3IgPSBkZXNjcmlwdG9yLmZpbGVbal0pW1wicGFja2FnZVwiXSAmJiBmaWxlRGVzY3JpcHRvcltcInBhY2thZ2VcIl0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGZpbGVQYWNrYWdlID0gcm9vdC5kZWZpbmUoZmlsZURlc2NyaXB0b3JbXCJwYWNrYWdlXCJdKTtcbiAgICAgICAgICAgIHZhciBlZGl0aW9uID0gZWRpdGlvbkZyb21EZXNjcmlwdG9yKGZpbGVEZXNjcmlwdG9yKTtcbiAgICAgICAgICAgIGlmIChmaWxlRGVzY3JpcHRvci5uYW1lICYmIGZpbGVEZXNjcmlwdG9yLm5hbWUubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJvb3QuZmlsZXMucHVzaChmaWxlUGFja2FnZS5maWxlbmFtZSA9IGZpbGVEZXNjcmlwdG9yLm5hbWUpO1xuICAgICAgICAgICAgaWYgKGZpbGVEZXNjcmlwdG9yLm1lc3NhZ2VUeXBlKVxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWxlRGVzY3JpcHRvci5tZXNzYWdlVHlwZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgICAgICAgICAgZmlsZVBhY2thZ2UuYWRkKFR5cGUuZnJvbURlc2NyaXB0b3IoZmlsZURlc2NyaXB0b3IubWVzc2FnZVR5cGVbaV0sIGVkaXRpb24pKTtcbiAgICAgICAgICAgIGlmIChmaWxlRGVzY3JpcHRvci5lbnVtVHlwZSlcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZmlsZURlc2NyaXB0b3IuZW51bVR5cGUubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGZpbGVQYWNrYWdlLmFkZChFbnVtLmZyb21EZXNjcmlwdG9yKGZpbGVEZXNjcmlwdG9yLmVudW1UeXBlW2ldLCBlZGl0aW9uKSk7XG4gICAgICAgICAgICBpZiAoZmlsZURlc2NyaXB0b3IuZXh0ZW5zaW9uKVxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWxlRGVzY3JpcHRvci5leHRlbnNpb24ubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICAgICAgICAgIGZpbGVQYWNrYWdlLmFkZChGaWVsZC5mcm9tRGVzY3JpcHRvcihmaWxlRGVzY3JpcHRvci5leHRlbnNpb25baV0sIGVkaXRpb24pKTtcbiAgICAgICAgICAgIGlmIChmaWxlRGVzY3JpcHRvci5zZXJ2aWNlKVxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWxlRGVzY3JpcHRvci5zZXJ2aWNlLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICBmaWxlUGFja2FnZS5hZGQoU2VydmljZS5mcm9tRGVzY3JpcHRvcihmaWxlRGVzY3JpcHRvci5zZXJ2aWNlW2ldLCBlZGl0aW9uKSk7XG4gICAgICAgICAgICB2YXIgb3B0cyA9IGZyb21EZXNjcmlwdG9yT3B0aW9ucyhmaWxlRGVzY3JpcHRvci5vcHRpb25zLCBleHBvcnRzLkZpbGVPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChvcHRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtzID0gT2JqZWN0LmtleXMob3B0cyk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGtzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgICAgICBmaWxlUGFja2FnZS5zZXRPcHRpb24oa3NbaV0sIG9wdHNba3NbaV1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByb290LnJlc29sdmVBbGwoKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSByb290IHRvIGEgZGVzY3JpcHRvciBzZXQuXG4gKiBAcmV0dXJucyB7TWVzc2FnZTxJRmlsZURlc2NyaXB0b3JTZXQ+fSBEZXNjcmlwdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gW2VkaXRpb249XCJwcm90bzJcIl0gVGhlIHN5bnRheCBvciBlZGl0aW9uIHRvIHVzZVxuICovXG5Sb290LnByb3RvdHlwZS50b0Rlc2NyaXB0b3IgPSBmdW5jdGlvbiB0b0Rlc2NyaXB0b3IoZWRpdGlvbikge1xuICAgIHZhciBzZXQgPSBleHBvcnRzLkZpbGVEZXNjcmlwdG9yU2V0LmNyZWF0ZSgpO1xuICAgIFJvb3RfdG9EZXNjcmlwdG9yUmVjdXJzaXZlKHRoaXMsIHNldC5maWxlLCBlZGl0aW9uKTtcbiAgICByZXR1cm4gc2V0O1xufTtcblxuLy8gVHJhdmVyc2VzIGEgbmFtZXNwYWNlIGFuZCBhc3NlbWJsZXMgdGhlIGRlc2NyaXB0b3Igc2V0XG5mdW5jdGlvbiBSb290X3RvRGVzY3JpcHRvclJlY3Vyc2l2ZShucywgZmlsZXMsIGVkaXRpb24pIHtcblxuICAgIC8vIENyZWF0ZSBhIG5ldyBmaWxlXG4gICAgdmFyIGZpbGUgPSBleHBvcnRzLkZpbGVEZXNjcmlwdG9yUHJvdG8uY3JlYXRlKHsgbmFtZTogbnMuZmlsZW5hbWUgfHwgKG5zLmZ1bGxOYW1lLnN1YnN0cmluZygxKS5yZXBsYWNlKC9cXC4vZywgXCJfXCIpIHx8IFwicm9vdFwiKSArIFwiLnByb3RvXCIgfSk7XG4gICAgZWRpdGlvblRvRGVzY3JpcHRvcihlZGl0aW9uLCBmaWxlKTtcbiAgICBpZiAoIShucyBpbnN0YW5jZW9mIFJvb3QpKVxuICAgICAgICBmaWxlW1wicGFja2FnZVwiXSA9IG5zLmZ1bGxOYW1lLnN1YnN0cmluZygxKTtcblxuICAgIC8vIEFkZCBuZXN0ZWQgdHlwZXNcbiAgICBmb3IgKHZhciBpID0gMCwgbmVzdGVkOyBpIDwgbnMubmVzdGVkQXJyYXkubGVuZ3RoOyArK2kpXG4gICAgICAgIGlmICgobmVzdGVkID0gbnMuX25lc3RlZEFycmF5W2ldKSBpbnN0YW5jZW9mIFR5cGUpXG4gICAgICAgICAgICBmaWxlLm1lc3NhZ2VUeXBlLnB1c2gobmVzdGVkLnRvRGVzY3JpcHRvcihlZGl0aW9uKSk7XG4gICAgICAgIGVsc2UgaWYgKG5lc3RlZCBpbnN0YW5jZW9mIEVudW0pXG4gICAgICAgICAgICBmaWxlLmVudW1UeXBlLnB1c2gobmVzdGVkLnRvRGVzY3JpcHRvcigpKTtcbiAgICAgICAgZWxzZSBpZiAobmVzdGVkIGluc3RhbmNlb2YgRmllbGQpXG4gICAgICAgICAgICBmaWxlLmV4dGVuc2lvbi5wdXNoKG5lc3RlZC50b0Rlc2NyaXB0b3IoZWRpdGlvbikpO1xuICAgICAgICBlbHNlIGlmIChuZXN0ZWQgaW5zdGFuY2VvZiBTZXJ2aWNlKVxuICAgICAgICAgICAgZmlsZS5zZXJ2aWNlLnB1c2gobmVzdGVkLnRvRGVzY3JpcHRvcigpKTtcbiAgICAgICAgZWxzZSBpZiAobmVzdGVkIGluc3RhbmNlb2YgLyogcGxhaW4gKi8gTmFtZXNwYWNlKVxuICAgICAgICAgICAgUm9vdF90b0Rlc2NyaXB0b3JSZWN1cnNpdmUobmVzdGVkLCBmaWxlcywgZWRpdGlvbik7IC8vIHJlcXVpcmVzIG5ldyBmaWxlXG5cbiAgICAvLyBLZWVwIHBhY2thZ2UtbGV2ZWwgb3B0aW9uc1xuICAgIGZpbGUub3B0aW9ucyA9IHRvRGVzY3JpcHRvck9wdGlvbnMobnMub3B0aW9ucywgZXhwb3J0cy5GaWxlT3B0aW9ucyk7XG5cbiAgICAvLyBBbmQga2VlcCB0aGUgZmlsZSBvbmx5IGlmIHRoZXJlIGlzIGF0IGxlYXN0IG9uZSBuZXN0ZWQgb2JqZWN0XG4gICAgaWYgKGZpbGUubWVzc2FnZVR5cGUubGVuZ3RoICsgZmlsZS5lbnVtVHlwZS5sZW5ndGggKyBmaWxlLmV4dGVuc2lvbi5sZW5ndGggKyBmaWxlLnNlcnZpY2UubGVuZ3RoKVxuICAgICAgICBmaWxlcy5wdXNoKGZpbGUpO1xufVxuXG4vLyAtLS0gVHlwZSAtLS1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgRGVzY3JpcHRvclByb3RvIG1lc3NhZ2UuXG4gKiBAaW50ZXJmYWNlIElEZXNjcmlwdG9yUHJvdG9cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gTWVzc2FnZSB0eXBlIG5hbWVcbiAqIEBwcm9wZXJ0eSB7SUZpZWxkRGVzY3JpcHRvclByb3RvW119IFtmaWVsZF0gRmllbGRzXG4gKiBAcHJvcGVydHkge0lGaWVsZERlc2NyaXB0b3JQcm90b1tdfSBbZXh0ZW5zaW9uXSBFeHRlbnNpb24gZmllbGRzXG4gKiBAcHJvcGVydHkge0lEZXNjcmlwdG9yUHJvdG9bXX0gW25lc3RlZFR5cGVdIE5lc3RlZCBtZXNzYWdlIHR5cGVzXG4gKiBAcHJvcGVydHkge0lFbnVtRGVzY3JpcHRvclByb3RvW119IFtlbnVtVHlwZV0gTmVzdGVkIGVudW1zXG4gKiBAcHJvcGVydHkge0lEZXNjcmlwdG9yUHJvdG9FeHRlbnNpb25SYW5nZVtdfSBbZXh0ZW5zaW9uUmFuZ2VdIEV4dGVuc2lvbiByYW5nZXNcbiAqIEBwcm9wZXJ0eSB7SU9uZW9mRGVzY3JpcHRvclByb3RvW119IFtvbmVvZkRlY2xdIE9uZW9mc1xuICogQHByb3BlcnR5IHtJTWVzc2FnZU9wdGlvbnN9IFtvcHRpb25zXSBOb3Qgc3VwcG9ydGVkXG4gKiBAcHJvcGVydHkge0lEZXNjcmlwdG9yUHJvdG9SZXNlcnZlZFJhbmdlW119IFtyZXNlcnZlZFJhbmdlXSBSZXNlcnZlZCByYW5nZXNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nW119IFtyZXNlcnZlZE5hbWVdIFJlc2VydmVkIG5hbWVzXG4gKi9cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgTWVzc2FnZU9wdGlvbnMgbWVzc2FnZS5cbiAqIEBpbnRlcmZhY2UgSU1lc3NhZ2VPcHRpb25zXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFttYXBFbnRyeT1mYWxzZV0gV2hldGhlciB0aGlzIG1lc3NhZ2UgaXMgYSBtYXAgZW50cnlcbiAqL1xuXG4vKipcbiAqIFByb3BlcnRpZXMgb2YgYW4gRXh0ZW5zaW9uUmFuZ2UgbWVzc2FnZS5cbiAqIEBpbnRlcmZhY2UgSURlc2NyaXB0b3JQcm90b0V4dGVuc2lvblJhbmdlXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3N0YXJ0XSBTdGFydCBmaWVsZCBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtlbmRdIEVuZCBmaWVsZCBpZFxuICovXG5cbi8qKlxuICogUHJvcGVydGllcyBvZiBhIFJlc2VydmVkUmFuZ2UgbWVzc2FnZS5cbiAqIEBpbnRlcmZhY2UgSURlc2NyaXB0b3JQcm90b1Jlc2VydmVkUmFuZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbc3RhcnRdIFN0YXJ0IGZpZWxkIGlkXG4gKiBAcHJvcGVydHkge251bWJlcn0gW2VuZF0gRW5kIGZpZWxkIGlkXG4gKi9cblxudmFyIHVubmFtZWRNZXNzYWdlSW5kZXggPSAwO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0eXBlIGZyb20gYSBkZXNjcmlwdG9yLlxuICpcbiAqIFdhcm5pbmc6IHRoaXMgaXMgbm90IHNhZmUgdG8gdXNlIHdpdGggZWRpdGlvbnMgcHJvdG9zLCBzaW5jZSBpdCBkaXNjYXJkcyByZWxldmFudCBmaWxlIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHtJRGVzY3JpcHRvclByb3RvfFJlYWRlcnxVaW50OEFycmF5fSBkZXNjcmlwdG9yIERlc2NyaXB0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZWRpdGlvbj1cInByb3RvMlwiXSBUaGUgc3ludGF4IG9yIGVkaXRpb24gdG8gdXNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtuZXN0ZWQ9ZmFsc2VdIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYSBuZXN0ZWQgb2JqZWN0XG4gKiBAcmV0dXJucyB7VHlwZX0gVHlwZSBpbnN0YW5jZVxuICovXG5UeXBlLmZyb21EZXNjcmlwdG9yID0gZnVuY3Rpb24gZnJvbURlc2NyaXB0b3IoZGVzY3JpcHRvciwgZWRpdGlvbiwgbmVzdGVkKSB7XG4gICAgLy8gRGVjb2RlIHRoZSBkZXNjcmlwdG9yIG1lc3NhZ2UgaWYgc3BlY2lmaWVkIGFzIGEgYnVmZmVyOlxuICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvci5sZW5ndGggPT09IFwibnVtYmVyXCIpXG4gICAgICAgIGRlc2NyaXB0b3IgPSBleHBvcnRzLkRlc2NyaXB0b3JQcm90by5kZWNvZGUoZGVzY3JpcHRvcik7XG5cbiAgICAvLyBDcmVhdGUgdGhlIG1lc3NhZ2UgdHlwZVxuICAgIHZhciB0eXBlID0gbmV3IFR5cGUoZGVzY3JpcHRvci5uYW1lLmxlbmd0aCA/IGRlc2NyaXB0b3IubmFtZSA6IFwiVHlwZVwiICsgdW5uYW1lZE1lc3NhZ2VJbmRleCsrLCBmcm9tRGVzY3JpcHRvck9wdGlvbnMoZGVzY3JpcHRvci5vcHRpb25zLCBleHBvcnRzLk1lc3NhZ2VPcHRpb25zKSksXG4gICAgICAgIGk7XG5cbiAgICBpZiAoIW5lc3RlZClcbiAgICAgICAgdHlwZS5fZWRpdGlvbiA9IGVkaXRpb247XG5cbiAgICAvKiBPbmVvZnMgKi8gaWYgKGRlc2NyaXB0b3Iub25lb2ZEZWNsKVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGVzY3JpcHRvci5vbmVvZkRlY2wubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB0eXBlLmFkZChPbmVPZi5mcm9tRGVzY3JpcHRvcihkZXNjcmlwdG9yLm9uZW9mRGVjbFtpXSkpO1xuICAgIC8qIEZpZWxkcyAqLyBpZiAoZGVzY3JpcHRvci5maWVsZClcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRlc2NyaXB0b3IuZmllbGQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IEZpZWxkLmZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IuZmllbGRbaV0sIGVkaXRpb24sIHRydWUpO1xuICAgICAgICAgICAgdHlwZS5hZGQoZmllbGQpO1xuICAgICAgICAgICAgaWYgKGRlc2NyaXB0b3IuZmllbGRbaV0uaGFzT3duUHJvcGVydHkoXCJvbmVvZkluZGV4XCIpKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvdHlwZS1idWlsdGluc1xuICAgICAgICAgICAgICAgIHR5cGUub25lb2ZzQXJyYXlbZGVzY3JpcHRvci5maWVsZFtpXS5vbmVvZkluZGV4XS5hZGQoZmllbGQpO1xuICAgICAgICB9XG4gICAgLyogRXh0ZW5zaW9uIGZpZWxkcyAqLyBpZiAoZGVzY3JpcHRvci5leHRlbnNpb24pXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBkZXNjcmlwdG9yLmV4dGVuc2lvbi5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHR5cGUuYWRkKEZpZWxkLmZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IuZXh0ZW5zaW9uW2ldLCBlZGl0aW9uLCB0cnVlKSk7XG4gICAgLyogTmVzdGVkIHR5cGVzICovIGlmIChkZXNjcmlwdG9yLm5lc3RlZFR5cGUpXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBkZXNjcmlwdG9yLm5lc3RlZFR5cGUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHR5cGUuYWRkKFR5cGUuZnJvbURlc2NyaXB0b3IoZGVzY3JpcHRvci5uZXN0ZWRUeXBlW2ldLCBlZGl0aW9uLCB0cnVlKSk7XG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvci5uZXN0ZWRUeXBlW2ldLm9wdGlvbnMgJiYgZGVzY3JpcHRvci5uZXN0ZWRUeXBlW2ldLm9wdGlvbnMubWFwRW50cnkpXG4gICAgICAgICAgICAgICAgdHlwZS5zZXRPcHRpb24oXCJtYXBfZW50cnlcIiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAvKiBOZXN0ZWQgZW51bXMgKi8gaWYgKGRlc2NyaXB0b3IuZW51bVR5cGUpXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBkZXNjcmlwdG9yLmVudW1UeXBlLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgdHlwZS5hZGQoRW51bS5mcm9tRGVzY3JpcHRvcihkZXNjcmlwdG9yLmVudW1UeXBlW2ldLCBlZGl0aW9uLCB0cnVlKSk7XG4gICAgLyogRXh0ZW5zaW9uIHJhbmdlcyAqLyBpZiAoZGVzY3JpcHRvci5leHRlbnNpb25SYW5nZSAmJiBkZXNjcmlwdG9yLmV4dGVuc2lvblJhbmdlLmxlbmd0aCkge1xuICAgICAgICB0eXBlLmV4dGVuc2lvbnMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRlc2NyaXB0b3IuZXh0ZW5zaW9uUmFuZ2UubGVuZ3RoOyArK2kpXG4gICAgICAgICAgICB0eXBlLmV4dGVuc2lvbnMucHVzaChbIGRlc2NyaXB0b3IuZXh0ZW5zaW9uUmFuZ2VbaV0uc3RhcnQsIGRlc2NyaXB0b3IuZXh0ZW5zaW9uUmFuZ2VbaV0uZW5kIF0pO1xuICAgIH1cbiAgICAvKiBSZXNlcnZlZC4uLiAqLyBpZiAoZGVzY3JpcHRvci5yZXNlcnZlZFJhbmdlICYmIGRlc2NyaXB0b3IucmVzZXJ2ZWRSYW5nZS5sZW5ndGggfHwgZGVzY3JpcHRvci5yZXNlcnZlZE5hbWUgJiYgZGVzY3JpcHRvci5yZXNlcnZlZE5hbWUubGVuZ3RoKSB7XG4gICAgICAgIHR5cGUucmVzZXJ2ZWQgPSBbXTtcbiAgICAgICAgLyogUmFuZ2VzICovIGlmIChkZXNjcmlwdG9yLnJlc2VydmVkUmFuZ2UpXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZGVzY3JpcHRvci5yZXNlcnZlZFJhbmdlLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIHR5cGUucmVzZXJ2ZWQucHVzaChbIGRlc2NyaXB0b3IucmVzZXJ2ZWRSYW5nZVtpXS5zdGFydCwgZGVzY3JpcHRvci5yZXNlcnZlZFJhbmdlW2ldLmVuZCBdKTtcbiAgICAgICAgLyogTmFtZXMgKi8gaWYgKGRlc2NyaXB0b3IucmVzZXJ2ZWROYW1lKVxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGRlc2NyaXB0b3IucmVzZXJ2ZWROYW1lLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgICAgIHR5cGUucmVzZXJ2ZWQucHVzaChkZXNjcmlwdG9yLnJlc2VydmVkTmFtZVtpXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGU7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgdHlwZSB0byBhIGRlc2NyaXB0b3IuXG4gKiBAcmV0dXJucyB7TWVzc2FnZTxJRGVzY3JpcHRvclByb3RvPn0gRGVzY3JpcHRvclxuICogQHBhcmFtIHtzdHJpbmd9IFtlZGl0aW9uPVwicHJvdG8yXCJdIFRoZSBzeW50YXggb3IgZWRpdGlvbiB0byB1c2VcbiAqL1xuVHlwZS5wcm90b3R5cGUudG9EZXNjcmlwdG9yID0gZnVuY3Rpb24gdG9EZXNjcmlwdG9yKGVkaXRpb24pIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IGV4cG9ydHMuRGVzY3JpcHRvclByb3RvLmNyZWF0ZSh7IG5hbWU6IHRoaXMubmFtZSB9KSxcbiAgICAgICAgaTtcblxuICAgIC8qIEZpZWxkcyAqLyBmb3IgKGkgPSAwOyBpIDwgdGhpcy5maWVsZHNBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgZmllbGREZXNjcmlwdG9yO1xuICAgICAgICBkZXNjcmlwdG9yLmZpZWxkLnB1c2goZmllbGREZXNjcmlwdG9yID0gdGhpcy5fZmllbGRzQXJyYXlbaV0udG9EZXNjcmlwdG9yKGVkaXRpb24pKTtcbiAgICAgICAgaWYgKHRoaXMuX2ZpZWxkc0FycmF5W2ldIGluc3RhbmNlb2YgTWFwRmllbGQpIHsgLy8gbWFwIGZpZWxkcyBhcmUgcmVwZWF0ZWQgRmllbGROYW1lRW50cnlcbiAgICAgICAgICAgIHZhciBrZXlUeXBlID0gdG9EZXNjcmlwdG9yVHlwZSh0aGlzLl9maWVsZHNBcnJheVtpXS5rZXlUeXBlLCB0aGlzLl9maWVsZHNBcnJheVtpXS5yZXNvbHZlZEtleVR5cGUsIGZhbHNlKSxcbiAgICAgICAgICAgICAgICB2YWx1ZVR5cGUgPSB0b0Rlc2NyaXB0b3JUeXBlKHRoaXMuX2ZpZWxkc0FycmF5W2ldLnR5cGUsIHRoaXMuX2ZpZWxkc0FycmF5W2ldLnJlc29sdmVkVHlwZSwgZmFsc2UpLFxuICAgICAgICAgICAgICAgIHZhbHVlVHlwZU5hbWUgPSB2YWx1ZVR5cGUgPT09IC8qIHR5cGUgKi8gMTEgfHwgdmFsdWVUeXBlID09PSAvKiBlbnVtICovIDE0XG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5fZmllbGRzQXJyYXlbaV0ucmVzb2x2ZWRUeXBlICYmIHNob3J0bmFtZSh0aGlzLnBhcmVudCwgdGhpcy5fZmllbGRzQXJyYXlbaV0ucmVzb2x2ZWRUeXBlKSB8fCB0aGlzLl9maWVsZHNBcnJheVtpXS50eXBlXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgZGVzY3JpcHRvci5uZXN0ZWRUeXBlLnB1c2goZXhwb3J0cy5EZXNjcmlwdG9yUHJvdG8uY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBmaWVsZERlc2NyaXB0b3IudHlwZU5hbWUsXG4gICAgICAgICAgICAgICAgZmllbGQ6IFtcbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0cy5GaWVsZERlc2NyaXB0b3JQcm90by5jcmVhdGUoeyBuYW1lOiBcImtleVwiLCBudW1iZXI6IDEsIGxhYmVsOiAxLCB0eXBlOiBrZXlUeXBlIH0pLCAvLyBjYW4ndCByZWZlcmVuY2UgYSB0eXBlIG9yIGVudW1cbiAgICAgICAgICAgICAgICAgICAgZXhwb3J0cy5GaWVsZERlc2NyaXB0b3JQcm90by5jcmVhdGUoeyBuYW1lOiBcInZhbHVlXCIsIG51bWJlcjogMiwgbGFiZWw6IDEsIHR5cGU6IHZhbHVlVHlwZSwgdHlwZU5hbWU6IHZhbHVlVHlwZU5hbWUgfSlcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IGV4cG9ydHMuTWVzc2FnZU9wdGlvbnMuY3JlYXRlKHsgbWFwRW50cnk6IHRydWUgfSlcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiBPbmVvZnMgKi8gZm9yIChpID0gMDsgaSA8IHRoaXMub25lb2ZzQXJyYXkubGVuZ3RoOyArK2kpXG4gICAgICAgIGRlc2NyaXB0b3Iub25lb2ZEZWNsLnB1c2godGhpcy5fb25lb2ZzQXJyYXlbaV0udG9EZXNjcmlwdG9yKCkpO1xuICAgIC8qIE5lc3RlZC4uLiAqLyBmb3IgKGkgPSAwOyBpIDwgdGhpcy5uZXN0ZWRBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICAvKiBFeHRlbnNpb24gZmllbGRzICovIGlmICh0aGlzLl9uZXN0ZWRBcnJheVtpXSBpbnN0YW5jZW9mIEZpZWxkKVxuICAgICAgICAgICAgZGVzY3JpcHRvci5maWVsZC5wdXNoKHRoaXMuX25lc3RlZEFycmF5W2ldLnRvRGVzY3JpcHRvcihlZGl0aW9uKSk7XG4gICAgICAgIC8qIFR5cGVzICovIGVsc2UgaWYgKHRoaXMuX25lc3RlZEFycmF5W2ldIGluc3RhbmNlb2YgVHlwZSlcbiAgICAgICAgICAgIGRlc2NyaXB0b3IubmVzdGVkVHlwZS5wdXNoKHRoaXMuX25lc3RlZEFycmF5W2ldLnRvRGVzY3JpcHRvcihlZGl0aW9uKSk7XG4gICAgICAgIC8qIEVudW1zICovIGVsc2UgaWYgKHRoaXMuX25lc3RlZEFycmF5W2ldIGluc3RhbmNlb2YgRW51bSlcbiAgICAgICAgICAgIGRlc2NyaXB0b3IuZW51bVR5cGUucHVzaCh0aGlzLl9uZXN0ZWRBcnJheVtpXS50b0Rlc2NyaXB0b3IoKSk7XG4gICAgICAgIC8vIHBsYWluIG5lc3RlZCBuYW1lc3BhY2VzIGJlY29tZSBwYWNrYWdlcyBpbnN0ZWFkIGluIFJvb3QjdG9EZXNjcmlwdG9yXG4gICAgfVxuICAgIC8qIEV4dGVuc2lvbiByYW5nZXMgKi8gaWYgKHRoaXMuZXh0ZW5zaW9ucylcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMuZXh0ZW5zaW9ucy5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIGRlc2NyaXB0b3IuZXh0ZW5zaW9uUmFuZ2UucHVzaChleHBvcnRzLkRlc2NyaXB0b3JQcm90by5FeHRlbnNpb25SYW5nZS5jcmVhdGUoeyBzdGFydDogdGhpcy5leHRlbnNpb25zW2ldWzBdLCBlbmQ6IHRoaXMuZXh0ZW5zaW9uc1tpXVsxXSB9KSk7XG4gICAgLyogUmVzZXJ2ZWQuLi4gKi8gaWYgKHRoaXMucmVzZXJ2ZWQpXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLnJlc2VydmVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgLyogTmFtZXMgKi8gaWYgKHR5cGVvZiB0aGlzLnJlc2VydmVkW2ldID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IucmVzZXJ2ZWROYW1lLnB1c2godGhpcy5yZXNlcnZlZFtpXSk7XG4gICAgICAgICAgICAvKiBSYW5nZXMgKi8gZWxzZVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IucmVzZXJ2ZWRSYW5nZS5wdXNoKGV4cG9ydHMuRGVzY3JpcHRvclByb3RvLlJlc2VydmVkUmFuZ2UuY3JlYXRlKHsgc3RhcnQ6IHRoaXMucmVzZXJ2ZWRbaV1bMF0sIGVuZDogdGhpcy5yZXNlcnZlZFtpXVsxXSB9KSk7XG5cbiAgICBkZXNjcmlwdG9yLm9wdGlvbnMgPSB0b0Rlc2NyaXB0b3JPcHRpb25zKHRoaXMub3B0aW9ucywgZXhwb3J0cy5NZXNzYWdlT3B0aW9ucyk7XG5cbiAgICByZXR1cm4gZGVzY3JpcHRvcjtcbn07XG5cbi8vIC0tLSBGaWVsZCAtLS1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgRmllbGREZXNjcmlwdG9yUHJvdG8gbWVzc2FnZS5cbiAqIEBpbnRlcmZhY2UgSUZpZWxkRGVzY3JpcHRvclByb3RvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIEZpZWxkIG5hbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbnVtYmVyXSBGaWVsZCBpZFxuICogQHByb3BlcnR5IHtJRmllbGREZXNjcmlwdG9yUHJvdG9MYWJlbH0gW2xhYmVsXSBGaWVsZCBydWxlXG4gKiBAcHJvcGVydHkge0lGaWVsZERlc2NyaXB0b3JQcm90b1R5cGV9IFt0eXBlXSBGaWVsZCBiYXNpYyB0eXBlXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3R5cGVOYW1lXSBGaWVsZCB0eXBlIG5hbWVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbZXh0ZW5kZWVdIEV4dGVuZGVkIHR5cGUgbmFtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtkZWZhdWx0VmFsdWVdIExpdGVyYWwgZGVmYXVsdCB2YWx1ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtvbmVvZkluZGV4XSBPbmVvZiBpbmRleCBpZiBwYXJ0IG9mIGEgb25lb2ZcbiAqIEBwcm9wZXJ0eSB7Kn0gW2pzb25OYW1lXSBOb3Qgc3VwcG9ydGVkXG4gKiBAcHJvcGVydHkge0lGaWVsZE9wdGlvbnN9IFtvcHRpb25zXSBGaWVsZCBvcHRpb25zXG4gKi9cblxuLyoqXG4gKiBWYWx1ZXMgb2YgdGhlIEZpZWxkRGVzY3JpcHRvclByb3RvLkxhYmVsIGVudW0uXG4gKiBAdHlwZWRlZiBJRmllbGREZXNjcmlwdG9yUHJvdG9MYWJlbFxuICogQHR5cGUge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMQUJFTF9PUFRJT05BTD0xXG4gKiBAcHJvcGVydHkge251bWJlcn0gTEFCRUxfUkVRVUlSRUQ9MlxuICogQHByb3BlcnR5IHtudW1iZXJ9IExBQkVMX1JFUEVBVEVEPTNcbiAqL1xuXG4vKipcbiAqIFZhbHVlcyBvZiB0aGUgRmllbGREZXNjcmlwdG9yUHJvdG8uVHlwZSBlbnVtLlxuICogQHR5cGVkZWYgSUZpZWxkRGVzY3JpcHRvclByb3RvVHlwZVxuICogQHR5cGUge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUWVBFX0RPVUJMRT0xXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFlQRV9GTE9BVD0yXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFlQRV9JTlQ2ND0zXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFlQRV9VSU5UNjQ9NFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRZUEVfSU5UMzI9NVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRZUEVfRklYRUQ2ND02XG4gKiBAcHJvcGVydHkge251bWJlcn0gVFlQRV9GSVhFRDMyPTdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUWVBFX0JPT0w9OFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRZUEVfU1RSSU5HPTlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUWVBFX0dST1VQPTEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFlQRV9NRVNTQUdFPTExXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFlQRV9CWVRFUz0xMlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRZUEVfVUlOVDMyPTEzXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFlQRV9FTlVNPTE0XG4gKiBAcHJvcGVydHkge251bWJlcn0gVFlQRV9TRklYRUQzMj0xNVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRZUEVfU0ZJWEVENjQ9MTZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBUWVBFX1NJTlQzMj0xN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRZUEVfU0lOVDY0PTE4XG4gKi9cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgRmllbGRPcHRpb25zIG1lc3NhZ2UuXG4gKiBAaW50ZXJmYWNlIElGaWVsZE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3BhY2tlZF0gV2hldGhlciBwYWNrZWQgb3Igbm90IChkZWZhdWx0cyB0byBgZmFsc2VgIGZvciBwcm90bzIgYW5kIGB0cnVlYCBmb3IgcHJvdG8zKVxuICogQHByb3BlcnR5IHtJRmllbGRPcHRpb25zSlNUeXBlfSBbanN0eXBlXSBKYXZhU2NyaXB0IHZhbHVlIHR5cGUgKG5vdCB1c2VkIGJ5IHByb3RvYnVmLmpzKVxuICovXG5cbi8qKlxuICogVmFsdWVzIG9mIHRoZSBGaWVsZE9wdGlvbnMuSlNUeXBlIGVudW0uXG4gKiBAdHlwZWRlZiBJRmllbGRPcHRpb25zSlNUeXBlXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEpTX05PUk1BTD0wXG4gKiBAcHJvcGVydHkge251bWJlcn0gSlNfU1RSSU5HPTFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBKU19OVU1CRVI9MlxuICovXG5cbi8vIGNvcGllZCBoZXJlIGZyb20gcGFyc2UuanNcbnZhciBudW1iZXJSZSA9IC9eKD8hW2VFXSlbMC05XSooPzpcXC5bMC05XSopPyg/OltlRV1bKy1dP1swLTldKyk/JC87XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZpZWxkIGZyb20gYSBkZXNjcmlwdG9yLlxuICpcbiAqIFdhcm5pbmc6IHRoaXMgaXMgbm90IHNhZmUgdG8gdXNlIHdpdGggZWRpdGlvbnMgcHJvdG9zLCBzaW5jZSBpdCBkaXNjYXJkcyByZWxldmFudCBmaWxlIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHtJRmllbGREZXNjcmlwdG9yUHJvdG98UmVhZGVyfFVpbnQ4QXJyYXl9IGRlc2NyaXB0b3IgRGVzY3JpcHRvclxuICogQHBhcmFtIHtzdHJpbmd9IFtlZGl0aW9uPVwicHJvdG8yXCJdIFRoZSBzeW50YXggb3IgZWRpdGlvbiB0byB1c2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW25lc3RlZD1mYWxzZV0gV2hldGhlciBvciBub3QgdGhpcyBpcyBhIHRvcC1sZXZlbCBvYmplY3RcbiAqIEByZXR1cm5zIHtGaWVsZH0gRmllbGQgaW5zdGFuY2VcbiAqL1xuRmllbGQuZnJvbURlc2NyaXB0b3IgPSBmdW5jdGlvbiBmcm9tRGVzY3JpcHRvcihkZXNjcmlwdG9yLCBlZGl0aW9uLCBuZXN0ZWQpIHtcblxuICAgIC8vIERlY29kZSB0aGUgZGVzY3JpcHRvciBtZXNzYWdlIGlmIHNwZWNpZmllZCBhcyBhIGJ1ZmZlcjpcbiAgICBpZiAodHlwZW9mIGRlc2NyaXB0b3IubGVuZ3RoID09PSBcIm51bWJlclwiKVxuICAgICAgICBkZXNjcmlwdG9yID0gZXhwb3J0cy5EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGRlc2NyaXB0b3IpO1xuXG4gICAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLm51bWJlciAhPT0gXCJudW1iZXJcIilcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJtaXNzaW5nIGZpZWxkIGlkXCIpO1xuXG4gICAgLy8gUmV3aXJlIGZpZWxkIHR5cGVcbiAgICB2YXIgZmllbGRUeXBlO1xuICAgIGlmIChkZXNjcmlwdG9yLnR5cGVOYW1lICYmIGRlc2NyaXB0b3IudHlwZU5hbWUubGVuZ3RoKVxuICAgICAgICBmaWVsZFR5cGUgPSBkZXNjcmlwdG9yLnR5cGVOYW1lO1xuICAgIGVsc2VcbiAgICAgICAgZmllbGRUeXBlID0gZnJvbURlc2NyaXB0b3JUeXBlKGRlc2NyaXB0b3IudHlwZSk7XG5cbiAgICAvLyBSZXdpcmUgZmllbGQgcnVsZVxuICAgIHZhciBmaWVsZFJ1bGU7XG4gICAgc3dpdGNoIChkZXNjcmlwdG9yLmxhYmVsKSB7XG4gICAgICAgIC8vIDAgaXMgcmVzZXJ2ZWQgZm9yIGVycm9yc1xuICAgICAgICBjYXNlIDE6IGZpZWxkUnVsZSA9IHVuZGVmaW5lZDsgYnJlYWs7XG4gICAgICAgIGNhc2UgMjogZmllbGRSdWxlID0gXCJyZXF1aXJlZFwiOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBmaWVsZFJ1bGUgPSBcInJlcGVhdGVkXCI7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB0aHJvdyBFcnJvcihcImlsbGVnYWwgbGFiZWw6IFwiICsgZGVzY3JpcHRvci5sYWJlbCk7XG4gICAgfVxuXG5cdHZhciBleHRlbmRlZSA9IGRlc2NyaXB0b3IuZXh0ZW5kZWU7XG5cdGlmIChkZXNjcmlwdG9yLmV4dGVuZGVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRleHRlbmRlZSA9IGV4dGVuZGVlLmxlbmd0aCA/IGV4dGVuZGVlIDogdW5kZWZpbmVkO1xuXHR9XG4gICAgdmFyIGZpZWxkID0gbmV3IEZpZWxkKFxuICAgICAgICBkZXNjcmlwdG9yLm5hbWUubGVuZ3RoID8gZGVzY3JpcHRvci5uYW1lIDogXCJmaWVsZFwiICsgZGVzY3JpcHRvci5udW1iZXIsXG4gICAgICAgIGRlc2NyaXB0b3IubnVtYmVyLFxuICAgICAgICBmaWVsZFR5cGUsXG4gICAgICAgIGZpZWxkUnVsZSxcbiAgICAgICAgZXh0ZW5kZWVcbiAgICApO1xuXG4gICAgaWYgKCFuZXN0ZWQpXG4gICAgICAgIGZpZWxkLl9lZGl0aW9uID0gZWRpdGlvbjtcblxuICAgIGZpZWxkLm9wdGlvbnMgPSBmcm9tRGVzY3JpcHRvck9wdGlvbnMoZGVzY3JpcHRvci5vcHRpb25zLCBleHBvcnRzLkZpZWxkT3B0aW9ucyk7XG4gICAgaWYgKGRlc2NyaXB0b3IucHJvdG8zX29wdGlvbmFsKVxuICAgICAgICBmaWVsZC5vcHRpb25zLnByb3RvM19vcHRpb25hbCA9IHRydWU7XG5cbiAgICBpZiAoZGVzY3JpcHRvci5kZWZhdWx0VmFsdWUgJiYgZGVzY3JpcHRvci5kZWZhdWx0VmFsdWUubGVuZ3RoKSB7XG4gICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBkZXNjcmlwdG9yLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgc3dpdGNoIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ0cnVlXCI6IGNhc2UgXCJUUlVFXCI6XG4gICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmYWxzZVwiOiBjYXNlIFwiRkFMU0VcIjpcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbnVtYmVyUmUuZXhlYyhkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaClcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gcGFyc2VJbnQoZGVmYXVsdFZhbHVlKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSByYWRpeFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGZpZWxkLnNldE9wdGlvbihcImRlZmF1bHRcIiwgZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAocGFja2FibGVEZXNjcmlwdG9yVHlwZShkZXNjcmlwdG9yLnR5cGUpKSB7XG4gICAgICAgIGlmIChlZGl0aW9uID09PSBcInByb3RvM1wiKSB7IC8vIGRlZmF1bHRzIHRvIHBhY2tlZD10cnVlIChpbnRlcm5hbCBwcmVzZXQgaXMgcGFja2VkPXRydWUpXG4gICAgICAgICAgICBpZiAoZGVzY3JpcHRvci5vcHRpb25zICYmICFkZXNjcmlwdG9yLm9wdGlvbnMucGFja2VkKVxuICAgICAgICAgICAgICAgIGZpZWxkLnNldE9wdGlvbihcInBhY2tlZFwiLCBmYWxzZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKCFlZGl0aW9uIHx8IGVkaXRpb24gPT09IFwicHJvdG8yXCIpICYmIGRlc2NyaXB0b3Iub3B0aW9ucyAmJiBkZXNjcmlwdG9yLm9wdGlvbnMucGFja2VkKSAvLyBkZWZhdWx0cyB0byBwYWNrZWQ9ZmFsc2VcbiAgICAgICAgICAgIGZpZWxkLnNldE9wdGlvbihcInBhY2tlZFwiLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmllbGQ7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGEgZmllbGQgdG8gYSBkZXNjcmlwdG9yLlxuICogQHJldHVybnMge01lc3NhZ2U8SUZpZWxkRGVzY3JpcHRvclByb3RvPn0gRGVzY3JpcHRvclxuICogQHBhcmFtIHtzdHJpbmd9IFtlZGl0aW9uPVwicHJvdG8yXCJdIFRoZSBzeW50YXggb3IgZWRpdGlvbiB0byB1c2VcbiAqL1xuRmllbGQucHJvdG90eXBlLnRvRGVzY3JpcHRvciA9IGZ1bmN0aW9uIHRvRGVzY3JpcHRvcihlZGl0aW9uKSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBleHBvcnRzLkZpZWxkRGVzY3JpcHRvclByb3RvLmNyZWF0ZSh7IG5hbWU6IHRoaXMubmFtZSwgbnVtYmVyOiB0aGlzLmlkIH0pO1xuXG4gICAgaWYgKHRoaXMubWFwKSB7XG5cbiAgICAgICAgZGVzY3JpcHRvci50eXBlID0gMTE7IC8vIG1lc3NhZ2VcbiAgICAgICAgZGVzY3JpcHRvci50eXBlTmFtZSA9ICRwcm90b2J1Zi51dGlsLnVjRmlyc3QodGhpcy5uYW1lKTsgLy8gZmllbGROYW1lIC0+IEZpZWxkTmFtZUVudHJ5IChidWlsdCBpbiBUeXBlI3RvRGVzY3JpcHRvcilcbiAgICAgICAgZGVzY3JpcHRvci5sYWJlbCA9IDM7IC8vIHJlcGVhdGVkXG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIFJld2lyZSBmaWVsZCB0eXBlXG4gICAgICAgIHN3aXRjaCAoZGVzY3JpcHRvci50eXBlID0gdG9EZXNjcmlwdG9yVHlwZSh0aGlzLnR5cGUsIHRoaXMucmVzb2x2ZSgpLnJlc29sdmVkVHlwZSwgdGhpcy5kZWxpbWl0ZWQpKSB7XG4gICAgICAgICAgICBjYXNlIDEwOiAvLyBncm91cFxuICAgICAgICAgICAgY2FzZSAxMTogLy8gdHlwZVxuICAgICAgICAgICAgY2FzZSAxNDogLy8gZW51bVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0b3IudHlwZU5hbWUgPSB0aGlzLnJlc29sdmVkVHlwZSA/IHNob3J0bmFtZSh0aGlzLnBhcmVudCwgdGhpcy5yZXNvbHZlZFR5cGUpIDogdGhpcy50eXBlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmV3aXJlIGZpZWxkIHJ1bGVcbiAgICAgICAgaWYgKHRoaXMucnVsZSA9PT0gXCJyZXBlYXRlZFwiKSB7XG4gICAgICAgICAgICBkZXNjcmlwdG9yLmxhYmVsID0gMztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlcXVpcmVkICYmIGVkaXRpb24gPT09IFwicHJvdG8yXCIpIHtcbiAgICAgICAgICAgIGRlc2NyaXB0b3IubGFiZWwgPSAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVzY3JpcHRvci5sYWJlbCA9IDE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgZXh0ZW5zaW9uIGZpZWxkXG4gICAgZGVzY3JpcHRvci5leHRlbmRlZSA9IHRoaXMuZXh0ZW5zaW9uRmllbGQgPyB0aGlzLmV4dGVuc2lvbkZpZWxkLnBhcmVudC5mdWxsTmFtZSA6IHRoaXMuZXh0ZW5kO1xuXG4gICAgLy8gSGFuZGxlIHBhcnQgb2Ygb25lb2ZcbiAgICBpZiAodGhpcy5wYXJ0T2YpXG4gICAgICAgIGlmICgoZGVzY3JpcHRvci5vbmVvZkluZGV4ID0gdGhpcy5wYXJlbnQub25lb2ZzQXJyYXkuaW5kZXhPZih0aGlzLnBhcnRPZikpIDwgMClcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwibWlzc2luZyBvbmVvZlwiKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgZGVzY3JpcHRvci5vcHRpb25zID0gdG9EZXNjcmlwdG9yT3B0aW9ucyh0aGlzLm9wdGlvbnMsIGV4cG9ydHMuRmllbGRPcHRpb25zKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9uc1tcImRlZmF1bHRcIl0gIT0gbnVsbClcbiAgICAgICAgICAgIGRlc2NyaXB0b3IuZGVmYXVsdFZhbHVlID0gU3RyaW5nKHRoaXMub3B0aW9uc1tcImRlZmF1bHRcIl0pO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByb3RvM19vcHRpb25hbClcbiAgICAgICAgICAgIGRlc2NyaXB0b3IucHJvdG8zX29wdGlvbmFsID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZWRpdGlvbiA9PT0gXCJwcm90bzNcIikgeyAvLyBkZWZhdWx0cyB0byBwYWNrZWQ9dHJ1ZVxuICAgICAgICBpZiAoIXRoaXMucGFja2VkKVxuICAgICAgICAgICAgKGRlc2NyaXB0b3Iub3B0aW9ucyB8fCAoZGVzY3JpcHRvci5vcHRpb25zID0gZXhwb3J0cy5GaWVsZE9wdGlvbnMuY3JlYXRlKCkpKS5wYWNrZWQgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKCghZWRpdGlvbiB8fCBlZGl0aW9uID09PSBcInByb3RvMlwiKSAmJiB0aGlzLnBhY2tlZCkgLy8gZGVmYXVsdHMgdG8gcGFja2VkPWZhbHNlXG4gICAgICAgIChkZXNjcmlwdG9yLm9wdGlvbnMgfHwgKGRlc2NyaXB0b3Iub3B0aW9ucyA9IGV4cG9ydHMuRmllbGRPcHRpb25zLmNyZWF0ZSgpKSkucGFja2VkID0gdHJ1ZTtcblxuICAgIHJldHVybiBkZXNjcmlwdG9yO1xufTtcblxuLy8gLS0tIEVudW0gLS0tXG5cbi8qKlxuICogUHJvcGVydGllcyBvZiBhbiBFbnVtRGVzY3JpcHRvclByb3RvIG1lc3NhZ2UuXG4gKiBAaW50ZXJmYWNlIElFbnVtRGVzY3JpcHRvclByb3RvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIEVudW0gbmFtZVxuICogQHByb3BlcnR5IHtJRW51bVZhbHVlRGVzY3JpcHRvclByb3RvW119IFt2YWx1ZV0gRW51bSB2YWx1ZXNcbiAqIEBwcm9wZXJ0eSB7SUVudW1PcHRpb25zfSBbb3B0aW9uc10gRW51bSBvcHRpb25zXG4gKi9cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGFuIEVudW1WYWx1ZURlc2NyaXB0b3JQcm90byBtZXNzYWdlLlxuICogQGludGVyZmFjZSBJRW51bVZhbHVlRGVzY3JpcHRvclByb3RvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIE5hbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbbnVtYmVyXSBWYWx1ZVxuICogQHByb3BlcnR5IHsqfSBbb3B0aW9uc10gTm90IHN1cHBvcnRlZFxuICovXG5cbi8qKlxuICogUHJvcGVydGllcyBvZiBhbiBFbnVtT3B0aW9ucyBtZXNzYWdlLlxuICogQGludGVyZmFjZSBJRW51bU9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2FsbG93QWxpYXNdIFdoZXRoZXIgYWxpYXNlcyBhcmUgYWxsb3dlZFxuICogQHByb3BlcnR5IHtib29sZWFufSBbZGVwcmVjYXRlZF1cbiAqL1xuXG52YXIgdW5uYW1lZEVudW1JbmRleCA9IDA7XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBlbnVtIGZyb20gYSBkZXNjcmlwdG9yLlxuICpcbiAqIFdhcm5pbmc6IHRoaXMgaXMgbm90IHNhZmUgdG8gdXNlIHdpdGggZWRpdGlvbnMgcHJvdG9zLCBzaW5jZSBpdCBkaXNjYXJkcyByZWxldmFudCBmaWxlIGNvbnRleHQuXG4gKlxuICogQHBhcmFtIHtJRW51bURlc2NyaXB0b3JQcm90b3xSZWFkZXJ8VWludDhBcnJheX0gZGVzY3JpcHRvciBEZXNjcmlwdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gW2VkaXRpb249XCJwcm90bzJcIl0gVGhlIHN5bnRheCBvciBlZGl0aW9uIHRvIHVzZVxuICogQHBhcmFtIHtib29sZWFufSBbbmVzdGVkPWZhbHNlXSBXaGV0aGVyIG9yIG5vdCB0aGlzIGlzIGEgdG9wLWxldmVsIG9iamVjdFxuICogQHJldHVybnMge0VudW19IEVudW0gaW5zdGFuY2VcbiAqL1xuRW51bS5mcm9tRGVzY3JpcHRvciA9IGZ1bmN0aW9uIGZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IsIGVkaXRpb24sIG5lc3RlZCkge1xuXG4gICAgLy8gRGVjb2RlIHRoZSBkZXNjcmlwdG9yIG1lc3NhZ2UgaWYgc3BlY2lmaWVkIGFzIGEgYnVmZmVyOlxuICAgIGlmICh0eXBlb2YgZGVzY3JpcHRvci5sZW5ndGggPT09IFwibnVtYmVyXCIpXG4gICAgICAgIGRlc2NyaXB0b3IgPSBleHBvcnRzLkVudW1EZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGRlc2NyaXB0b3IpO1xuXG4gICAgLy8gQ29uc3RydWN0IHZhbHVlcyBvYmplY3RcbiAgICB2YXIgdmFsdWVzID0ge307XG4gICAgaWYgKGRlc2NyaXB0b3IudmFsdWUpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVzY3JpcHRvci52YWx1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgID0gZGVzY3JpcHRvci52YWx1ZVtpXS5uYW1lLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gZGVzY3JpcHRvci52YWx1ZVtpXS5udW1iZXIgfHwgMDtcbiAgICAgICAgICAgIHZhbHVlc1tuYW1lICYmIG5hbWUubGVuZ3RoID8gbmFtZSA6IFwiTkFNRVwiICsgdmFsdWVdID0gdmFsdWU7XG4gICAgICAgIH1cblxuICAgIHZhciBlbm0gPSBuZXcgRW51bShcbiAgICAgICAgZGVzY3JpcHRvci5uYW1lICYmIGRlc2NyaXB0b3IubmFtZS5sZW5ndGggPyBkZXNjcmlwdG9yLm5hbWUgOiBcIkVudW1cIiArIHVubmFtZWRFbnVtSW5kZXgrKyxcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICBmcm9tRGVzY3JpcHRvck9wdGlvbnMoZGVzY3JpcHRvci5vcHRpb25zLCBleHBvcnRzLkVudW1PcHRpb25zKVxuICAgICk7XG5cbiAgICBpZiAoIW5lc3RlZClcbiAgICAgICAgZW5tLl9lZGl0aW9uID0gZWRpdGlvbjtcblxuICAgIHJldHVybiBlbm07XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIGFuIGVudW0gdG8gYSBkZXNjcmlwdG9yLlxuICogQHJldHVybnMge01lc3NhZ2U8SUVudW1EZXNjcmlwdG9yUHJvdG8+fSBEZXNjcmlwdG9yXG4gKi9cbkVudW0ucHJvdG90eXBlLnRvRGVzY3JpcHRvciA9IGZ1bmN0aW9uIHRvRGVzY3JpcHRvcigpIHtcblxuICAgIC8vIFZhbHVlc1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwga3MgPSBPYmplY3Qua2V5cyh0aGlzLnZhbHVlcyk7IGkgPCBrcy5sZW5ndGg7ICsraSlcbiAgICAgICAgdmFsdWVzLnB1c2goZXhwb3J0cy5FbnVtVmFsdWVEZXNjcmlwdG9yUHJvdG8uY3JlYXRlKHsgbmFtZToga3NbaV0sIG51bWJlcjogdGhpcy52YWx1ZXNba3NbaV1dIH0pKTtcblxuICAgIHJldHVybiBleHBvcnRzLkVudW1EZXNjcmlwdG9yUHJvdG8uY3JlYXRlKHtcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICB2YWx1ZTogdmFsdWVzLFxuICAgICAgICBvcHRpb25zOiB0b0Rlc2NyaXB0b3JPcHRpb25zKHRoaXMub3B0aW9ucywgZXhwb3J0cy5FbnVtT3B0aW9ucylcbiAgICB9KTtcbn07XG5cbi8vIC0tLSBPbmVPZiAtLS1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgT25lb2ZEZXNjcmlwdG9yUHJvdG8gbWVzc2FnZS5cbiAqIEBpbnRlcmZhY2UgSU9uZW9mRGVzY3JpcHRvclByb3RvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIE9uZW9mIG5hbWVcbiAqIEBwcm9wZXJ0eSB7Kn0gW29wdGlvbnNdIE5vdCBzdXBwb3J0ZWRcbiAqL1xuXG52YXIgdW5uYW1lZE9uZW9mSW5kZXggPSAwO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBvbmVvZiBmcm9tIGEgZGVzY3JpcHRvci5cbiAqXG4gKiBXYXJuaW5nOiB0aGlzIGlzIG5vdCBzYWZlIHRvIHVzZSB3aXRoIGVkaXRpb25zIHByb3Rvcywgc2luY2UgaXQgZGlzY2FyZHMgcmVsZXZhbnQgZmlsZSBjb250ZXh0LlxuICpcbiAqIEBwYXJhbSB7SU9uZW9mRGVzY3JpcHRvclByb3RvfFJlYWRlcnxVaW50OEFycmF5fSBkZXNjcmlwdG9yIERlc2NyaXB0b3JcbiAqIEByZXR1cm5zIHtPbmVPZn0gT25lT2YgaW5zdGFuY2VcbiAqL1xuT25lT2YuZnJvbURlc2NyaXB0b3IgPSBmdW5jdGlvbiBmcm9tRGVzY3JpcHRvcihkZXNjcmlwdG9yKSB7XG5cbiAgICAvLyBEZWNvZGUgdGhlIGRlc2NyaXB0b3IgbWVzc2FnZSBpZiBzcGVjaWZpZWQgYXMgYSBidWZmZXI6XG4gICAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmxlbmd0aCA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgZGVzY3JpcHRvciA9IGV4cG9ydHMuT25lb2ZEZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGRlc2NyaXB0b3IpO1xuXG4gICAgcmV0dXJuIG5ldyBPbmVPZihcbiAgICAgICAgLy8gdW5uYW1lZE9uZU9mSW5kZXggaXMgZ2xvYmFsLCBub3QgcGVyIHR5cGUsIGJlY2F1c2Ugd2UgaGF2ZSBubyByZWYgdG8gYSB0eXBlIGhlcmVcbiAgICAgICAgZGVzY3JpcHRvci5uYW1lICYmIGRlc2NyaXB0b3IubmFtZS5sZW5ndGggPyBkZXNjcmlwdG9yLm5hbWUgOiBcIm9uZW9mXCIgKyB1bm5hbWVkT25lb2ZJbmRleCsrXG4gICAgICAgIC8vIGZyb21EZXNjcmlwdG9yT3B0aW9ucyhkZXNjcmlwdG9yLm9wdGlvbnMsIGV4cG9ydHMuT25lb2ZPcHRpb25zKSAtIG9ubHkgdW5pbnRlcnByZXRlZF9vcHRpb25cbiAgICApO1xufTtcblxuLyoqXG4gKiBDb252ZXJ0cyBhIG9uZW9mIHRvIGEgZGVzY3JpcHRvci5cbiAqIEByZXR1cm5zIHtNZXNzYWdlPElPbmVvZkRlc2NyaXB0b3JQcm90bz59IERlc2NyaXB0b3JcbiAqL1xuT25lT2YucHJvdG90eXBlLnRvRGVzY3JpcHRvciA9IGZ1bmN0aW9uIHRvRGVzY3JpcHRvcigpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5PbmVvZkRlc2NyaXB0b3JQcm90by5jcmVhdGUoe1xuICAgICAgICBuYW1lOiB0aGlzLm5hbWVcbiAgICAgICAgLy8gb3B0aW9uczogdG9EZXNjcmlwdG9yT3B0aW9ucyh0aGlzLm9wdGlvbnMsIGV4cG9ydHMuT25lb2ZPcHRpb25zKSAtIG9ubHkgdW5pbnRlcnByZXRlZF9vcHRpb25cbiAgICB9KTtcbn07XG5cbi8vIC0tLSBTZXJ2aWNlIC0tLVxuXG4vKipcbiAqIFByb3BlcnRpZXMgb2YgYSBTZXJ2aWNlRGVzY3JpcHRvclByb3RvIG1lc3NhZ2UuXG4gKiBAaW50ZXJmYWNlIElTZXJ2aWNlRGVzY3JpcHRvclByb3RvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW25hbWVdIFNlcnZpY2UgbmFtZVxuICogQHByb3BlcnR5IHtJTWV0aG9kRGVzY3JpcHRvclByb3RvW119IFttZXRob2RdIE1ldGhvZHNcbiAqIEBwcm9wZXJ0eSB7SVNlcnZpY2VPcHRpb25zfSBbb3B0aW9uc10gT3B0aW9uc1xuICovXG5cbi8qKlxuICogUHJvcGVydGllcyBvZiBhIFNlcnZpY2VPcHRpb25zIG1lc3NhZ2UuXG4gKiBAaW50ZXJmYWNlIElTZXJ2aWNlT3B0aW9uc1xuICogQHByb3BlcnR5IHtib29sZWFufSBbZGVwcmVjYXRlZF1cbiAqL1xuXG52YXIgdW5uYW1lZFNlcnZpY2VJbmRleCA9IDA7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHNlcnZpY2UgZnJvbSBhIGRlc2NyaXB0b3IuXG4gKlxuICogV2FybmluZzogdGhpcyBpcyBub3Qgc2FmZSB0byB1c2Ugd2l0aCBlZGl0aW9ucyBwcm90b3MsIHNpbmNlIGl0IGRpc2NhcmRzIHJlbGV2YW50IGZpbGUgY29udGV4dC5cbiAqXG4gKiBAcGFyYW0ge0lTZXJ2aWNlRGVzY3JpcHRvclByb3RvfFJlYWRlcnxVaW50OEFycmF5fSBkZXNjcmlwdG9yIERlc2NyaXB0b3JcbiAqIEBwYXJhbSB7c3RyaW5nfSBbZWRpdGlvbj1cInByb3RvMlwiXSBUaGUgc3ludGF4IG9yIGVkaXRpb24gdG8gdXNlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtuZXN0ZWQ9ZmFsc2VdIFdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYSB0b3AtbGV2ZWwgb2JqZWN0XG4gKiBAcmV0dXJucyB7U2VydmljZX0gU2VydmljZSBpbnN0YW5jZVxuICovXG5TZXJ2aWNlLmZyb21EZXNjcmlwdG9yID0gZnVuY3Rpb24gZnJvbURlc2NyaXB0b3IoZGVzY3JpcHRvciwgZWRpdGlvbiwgbmVzdGVkKSB7XG5cbiAgICAvLyBEZWNvZGUgdGhlIGRlc2NyaXB0b3IgbWVzc2FnZSBpZiBzcGVjaWZpZWQgYXMgYSBidWZmZXI6XG4gICAgaWYgKHR5cGVvZiBkZXNjcmlwdG9yLmxlbmd0aCA9PT0gXCJudW1iZXJcIilcbiAgICAgICAgZGVzY3JpcHRvciA9IGV4cG9ydHMuU2VydmljZURlc2NyaXB0b3JQcm90by5kZWNvZGUoZGVzY3JpcHRvcik7XG5cbiAgICB2YXIgc2VydmljZSA9IG5ldyBTZXJ2aWNlKGRlc2NyaXB0b3IubmFtZSAmJiBkZXNjcmlwdG9yLm5hbWUubGVuZ3RoID8gZGVzY3JpcHRvci5uYW1lIDogXCJTZXJ2aWNlXCIgKyB1bm5hbWVkU2VydmljZUluZGV4KyssIGZyb21EZXNjcmlwdG9yT3B0aW9ucyhkZXNjcmlwdG9yLm9wdGlvbnMsIGV4cG9ydHMuU2VydmljZU9wdGlvbnMpKTtcbiAgICBpZiAoIW5lc3RlZClcbiAgICAgICAgc2VydmljZS5fZWRpdGlvbiA9IGVkaXRpb247XG4gICAgaWYgKGRlc2NyaXB0b3IubWV0aG9kKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlc2NyaXB0b3IubWV0aG9kLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAgc2VydmljZS5hZGQoTWV0aG9kLmZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IubWV0aG9kW2ldKSk7XG5cbiAgICByZXR1cm4gc2VydmljZTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBzZXJ2aWNlIHRvIGEgZGVzY3JpcHRvci5cbiAqIEByZXR1cm5zIHtNZXNzYWdlPElTZXJ2aWNlRGVzY3JpcHRvclByb3RvPn0gRGVzY3JpcHRvclxuICovXG5TZXJ2aWNlLnByb3RvdHlwZS50b0Rlc2NyaXB0b3IgPSBmdW5jdGlvbiB0b0Rlc2NyaXB0b3IoKSB7XG5cbiAgICAvLyBNZXRob2RzXG4gICAgdmFyIG1ldGhvZHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWV0aG9kc0FycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgICBtZXRob2RzLnB1c2godGhpcy5fbWV0aG9kc0FycmF5W2ldLnRvRGVzY3JpcHRvcigpKTtcblxuICAgIHJldHVybiBleHBvcnRzLlNlcnZpY2VEZXNjcmlwdG9yUHJvdG8uY3JlYXRlKHtcbiAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZHMsXG4gICAgICAgIG9wdGlvbnM6IHRvRGVzY3JpcHRvck9wdGlvbnModGhpcy5vcHRpb25zLCBleHBvcnRzLlNlcnZpY2VPcHRpb25zKVxuICAgIH0pO1xufTtcblxuLy8gLS0tIE1ldGhvZCAtLS1cblxuLyoqXG4gKiBQcm9wZXJ0aWVzIG9mIGEgTWV0aG9kRGVzY3JpcHRvclByb3RvIG1lc3NhZ2UuXG4gKiBAaW50ZXJmYWNlIElNZXRob2REZXNjcmlwdG9yUHJvdG9cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gTWV0aG9kIG5hbWVcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbaW5wdXRUeXBlXSBSZXF1ZXN0IHR5cGUgbmFtZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtvdXRwdXRUeXBlXSBSZXNwb25zZSB0eXBlIG5hbWVcbiAqIEBwcm9wZXJ0eSB7SU1ldGhvZE9wdGlvbnN9IFtvcHRpb25zXSBOb3Qgc3VwcG9ydGVkXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtjbGllbnRTdHJlYW1pbmc9ZmFsc2VdIFdoZXRoZXIgcmVxdWVzdHMgYXJlIHN0cmVhbWVkXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFtzZXJ2ZXJTdHJlYW1pbmc9ZmFsc2VdIFdoZXRoZXIgcmVzcG9uc2VzIGFyZSBzdHJlYW1lZFxuICovXG5cbi8qKlxuICogUHJvcGVydGllcyBvZiBhIE1ldGhvZE9wdGlvbnMgbWVzc2FnZS5cbiAqXG4gKiBXYXJuaW5nOiB0aGlzIGlzIG5vdCBzYWZlIHRvIHVzZSB3aXRoIGVkaXRpb25zIHByb3Rvcywgc2luY2UgaXQgZGlzY2FyZHMgcmVsZXZhbnQgZmlsZSBjb250ZXh0LlxuICpcbiAqIEBpbnRlcmZhY2UgSU1ldGhvZE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RlcHJlY2F0ZWRdXG4gKi9cblxudmFyIHVubmFtZWRNZXRob2RJbmRleCA9IDA7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG1ldGhvZCBmcm9tIGEgZGVzY3JpcHRvci5cbiAqIEBwYXJhbSB7SU1ldGhvZERlc2NyaXB0b3JQcm90b3xSZWFkZXJ8VWludDhBcnJheX0gZGVzY3JpcHRvciBEZXNjcmlwdG9yXG4gKiBAcmV0dXJucyB7TWV0aG9kfSBSZWZsZWN0ZWQgbWV0aG9kIGluc3RhbmNlXG4gKi9cbk1ldGhvZC5mcm9tRGVzY3JpcHRvciA9IGZ1bmN0aW9uIGZyb21EZXNjcmlwdG9yKGRlc2NyaXB0b3IpIHtcblxuICAgIC8vIERlY29kZSB0aGUgZGVzY3JpcHRvciBtZXNzYWdlIGlmIHNwZWNpZmllZCBhcyBhIGJ1ZmZlcjpcbiAgICBpZiAodHlwZW9mIGRlc2NyaXB0b3IubGVuZ3RoID09PSBcIm51bWJlclwiKVxuICAgICAgICBkZXNjcmlwdG9yID0gZXhwb3J0cy5NZXRob2REZXNjcmlwdG9yUHJvdG8uZGVjb2RlKGRlc2NyaXB0b3IpO1xuXG4gICAgcmV0dXJuIG5ldyBNZXRob2QoXG4gICAgICAgIC8vIHVubmFtZWRNZXRob2RJbmRleCBpcyBnbG9iYWwsIG5vdCBwZXIgc2VydmljZSwgYmVjYXVzZSB3ZSBoYXZlIG5vIHJlZiB0byBhIHNlcnZpY2UgaGVyZVxuICAgICAgICBkZXNjcmlwdG9yLm5hbWUgJiYgZGVzY3JpcHRvci5uYW1lLmxlbmd0aCA/IGRlc2NyaXB0b3IubmFtZSA6IFwiTWV0aG9kXCIgKyB1bm5hbWVkTWV0aG9kSW5kZXgrKyxcbiAgICAgICAgXCJycGNcIixcbiAgICAgICAgZGVzY3JpcHRvci5pbnB1dFR5cGUsXG4gICAgICAgIGRlc2NyaXB0b3Iub3V0cHV0VHlwZSxcbiAgICAgICAgQm9vbGVhbihkZXNjcmlwdG9yLmNsaWVudFN0cmVhbWluZyksXG4gICAgICAgIEJvb2xlYW4oZGVzY3JpcHRvci5zZXJ2ZXJTdHJlYW1pbmcpLFxuICAgICAgICBmcm9tRGVzY3JpcHRvck9wdGlvbnMoZGVzY3JpcHRvci5vcHRpb25zLCBleHBvcnRzLk1ldGhvZE9wdGlvbnMpXG4gICAgKTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgYSBtZXRob2QgdG8gYSBkZXNjcmlwdG9yLlxuICogQHJldHVybnMge01lc3NhZ2U8SU1ldGhvZERlc2NyaXB0b3JQcm90bz59IERlc2NyaXB0b3JcbiAqL1xuTWV0aG9kLnByb3RvdHlwZS50b0Rlc2NyaXB0b3IgPSBmdW5jdGlvbiB0b0Rlc2NyaXB0b3IoKSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuTWV0aG9kRGVzY3JpcHRvclByb3RvLmNyZWF0ZSh7XG4gICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgaW5wdXRUeXBlOiB0aGlzLnJlc29sdmVkUmVxdWVzdFR5cGUgPyB0aGlzLnJlc29sdmVkUmVxdWVzdFR5cGUuZnVsbE5hbWUgOiB0aGlzLnJlcXVlc3RUeXBlLFxuICAgICAgICBvdXRwdXRUeXBlOiB0aGlzLnJlc29sdmVkUmVzcG9uc2VUeXBlID8gdGhpcy5yZXNvbHZlZFJlc3BvbnNlVHlwZS5mdWxsTmFtZSA6IHRoaXMucmVzcG9uc2VUeXBlLFxuICAgICAgICBjbGllbnRTdHJlYW1pbmc6IHRoaXMucmVxdWVzdFN0cmVhbSxcbiAgICAgICAgc2VydmVyU3RyZWFtaW5nOiB0aGlzLnJlc3BvbnNlU3RyZWFtLFxuICAgICAgICBvcHRpb25zOiB0b0Rlc2NyaXB0b3JPcHRpb25zKHRoaXMub3B0aW9ucywgZXhwb3J0cy5NZXRob2RPcHRpb25zKVxuICAgIH0pO1xufTtcblxuLy8gLS0tIHV0aWxpdHkgLS0tXG5cbi8vIENvbnZlcnRzIGEgZGVzY3JpcHRvciB0eXBlIHRvIGEgcHJvdG9idWYuanMgYmFzaWMgdHlwZVxuZnVuY3Rpb24gZnJvbURlc2NyaXB0b3JUeXBlKHR5cGUpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgLy8gMCBpcyByZXNlcnZlZCBmb3IgZXJyb3JzXG4gICAgICAgIGNhc2UgMTogcmV0dXJuIFwiZG91YmxlXCI7XG4gICAgICAgIGNhc2UgMjogcmV0dXJuIFwiZmxvYXRcIjtcbiAgICAgICAgY2FzZSAzOiByZXR1cm4gXCJpbnQ2NFwiO1xuICAgICAgICBjYXNlIDQ6IHJldHVybiBcInVpbnQ2NFwiO1xuICAgICAgICBjYXNlIDU6IHJldHVybiBcImludDMyXCI7XG4gICAgICAgIGNhc2UgNjogcmV0dXJuIFwiZml4ZWQ2NFwiO1xuICAgICAgICBjYXNlIDc6IHJldHVybiBcImZpeGVkMzJcIjtcbiAgICAgICAgY2FzZSA4OiByZXR1cm4gXCJib29sXCI7XG4gICAgICAgIGNhc2UgOTogcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICAgIGNhc2UgMTI6IHJldHVybiBcImJ5dGVzXCI7XG4gICAgICAgIGNhc2UgMTM6IHJldHVybiBcInVpbnQzMlwiO1xuICAgICAgICBjYXNlIDE1OiByZXR1cm4gXCJzZml4ZWQzMlwiO1xuICAgICAgICBjYXNlIDE2OiByZXR1cm4gXCJzZml4ZWQ2NFwiO1xuICAgICAgICBjYXNlIDE3OiByZXR1cm4gXCJzaW50MzJcIjtcbiAgICAgICAgY2FzZSAxODogcmV0dXJuIFwic2ludDY0XCI7XG4gICAgfVxuICAgIHRocm93IEVycm9yKFwiaWxsZWdhbCB0eXBlOiBcIiArIHR5cGUpO1xufVxuXG4vLyBUZXN0cyBpZiBhIGRlc2NyaXB0b3IgdHlwZSBpcyBwYWNrYWJsZVxuZnVuY3Rpb24gcGFja2FibGVEZXNjcmlwdG9yVHlwZSh0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgMTogLy8gZG91YmxlXG4gICAgICAgIGNhc2UgMjogLy8gZmxvYXRcbiAgICAgICAgY2FzZSAzOiAvLyBpbnQ2NFxuICAgICAgICBjYXNlIDQ6IC8vIHVpbnQ2NFxuICAgICAgICBjYXNlIDU6IC8vIGludDMyXG4gICAgICAgIGNhc2UgNjogLy8gZml4ZWQ2NFxuICAgICAgICBjYXNlIDc6IC8vIGZpeGVkMzJcbiAgICAgICAgY2FzZSA4OiAvLyBib29sXG4gICAgICAgIGNhc2UgMTM6IC8vIHVpbnQzMlxuICAgICAgICBjYXNlIDE0OiAvLyBlbnVtICghKVxuICAgICAgICBjYXNlIDE1OiAvLyBzZml4ZWQzMlxuICAgICAgICBjYXNlIDE2OiAvLyBzZml4ZWQ2NFxuICAgICAgICBjYXNlIDE3OiAvLyBzaW50MzJcbiAgICAgICAgY2FzZSAxODogLy8gc2ludDY0XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBDb252ZXJ0cyBhIHByb3RvYnVmLmpzIGJhc2ljIHR5cGUgdG8gYSBkZXNjcmlwdG9yIHR5cGVcbmZ1bmN0aW9uIHRvRGVzY3JpcHRvclR5cGUodHlwZSwgcmVzb2x2ZWRUeXBlLCBkZWxpbWl0ZWQpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgLy8gMCBpcyByZXNlcnZlZCBmb3IgZXJyb3JzXG4gICAgICAgIGNhc2UgXCJkb3VibGVcIjogcmV0dXJuIDE7XG4gICAgICAgIGNhc2UgXCJmbG9hdFwiOiByZXR1cm4gMjtcbiAgICAgICAgY2FzZSBcImludDY0XCI6IHJldHVybiAzO1xuICAgICAgICBjYXNlIFwidWludDY0XCI6IHJldHVybiA0O1xuICAgICAgICBjYXNlIFwiaW50MzJcIjogcmV0dXJuIDU7XG4gICAgICAgIGNhc2UgXCJmaXhlZDY0XCI6IHJldHVybiA2O1xuICAgICAgICBjYXNlIFwiZml4ZWQzMlwiOiByZXR1cm4gNztcbiAgICAgICAgY2FzZSBcImJvb2xcIjogcmV0dXJuIDg7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjogcmV0dXJuIDk7XG4gICAgICAgIGNhc2UgXCJieXRlc1wiOiByZXR1cm4gMTI7XG4gICAgICAgIGNhc2UgXCJ1aW50MzJcIjogcmV0dXJuIDEzO1xuICAgICAgICBjYXNlIFwic2ZpeGVkMzJcIjogcmV0dXJuIDE1O1xuICAgICAgICBjYXNlIFwic2ZpeGVkNjRcIjogcmV0dXJuIDE2O1xuICAgICAgICBjYXNlIFwic2ludDMyXCI6IHJldHVybiAxNztcbiAgICAgICAgY2FzZSBcInNpbnQ2NFwiOiByZXR1cm4gMTg7XG4gICAgfVxuICAgIGlmIChyZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBFbnVtKVxuICAgICAgICByZXR1cm4gMTQ7XG4gICAgaWYgKHJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIFR5cGUpXG4gICAgICAgIHJldHVybiBkZWxpbWl0ZWQgPyAxMCA6IDExO1xuICAgIHRocm93IEVycm9yKFwiaWxsZWdhbCB0eXBlOiBcIiArIHR5cGUpO1xufVxuXG5mdW5jdGlvbiBmcm9tRGVzY3JpcHRvck9wdGlvbnNSZWN1cnNpdmUob2JqLCB0eXBlKSB7XG4gICAgdmFyIHZhbCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwLCBmaWVsZCwga2V5OyBpIDwgdHlwZS5maWVsZHNBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoKGtleSA9IChmaWVsZCA9IHR5cGUuX2ZpZWxkc0FycmF5W2ldKS5uYW1lKSA9PT0gXCJ1bmludGVycHJldGVkT3B0aW9uXCIpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIGNvbnRpbnVlO1xuXG4gICAgICAgIHZhciBuZXdLZXkgPSB1bmRlclNjb3JlKGtleSk7XG4gICAgICAgIGlmIChmaWVsZC5yZXNvbHZlZFR5cGUgaW5zdGFuY2VvZiBUeXBlKSB7XG4gICAgICAgICAgICB2YWxbbmV3S2V5XSA9IGZyb21EZXNjcmlwdG9yT3B0aW9uc1JlY3Vyc2l2ZShvYmpba2V5XSwgZmllbGQucmVzb2x2ZWRUeXBlKTtcbiAgICAgICAgfSBlbHNlIGlmKGZpZWxkLnJlc29sdmVkVHlwZSBpbnN0YW5jZW9mIEVudW0pIHtcbiAgICAgICAgICAgIHZhbFtuZXdLZXldID0gZmllbGQucmVzb2x2ZWRUeXBlLnZhbHVlc0J5SWRbb2JqW2tleV1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsW25ld0tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuXG4vLyBDb252ZXJ0cyBkZXNjcmlwdG9yIG9wdGlvbnMgdG8gYW4gb3B0aW9ucyBvYmplY3RcbmZ1bmN0aW9uIGZyb21EZXNjcmlwdG9yT3B0aW9ucyhvcHRpb25zLCB0eXBlKSB7XG4gICAgaWYgKCFvcHRpb25zKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBmcm9tRGVzY3JpcHRvck9wdGlvbnNSZWN1cnNpdmUodHlwZS50b09iamVjdChvcHRpb25zKSwgdHlwZSk7XG59XG5cbmZ1bmN0aW9uIHRvRGVzY3JpcHRvck9wdGlvbnNSZWN1cnNpdmUob2JqLCB0eXBlKSB7XG4gICAgdmFyIHZhbCA9IHt9O1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgIHZhciBuZXdLZXkgPSAkcHJvdG9idWYudXRpbC5jYW1lbENhc2Uoa2V5KTtcbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHlwZS5maWVsZHMsIG5ld0tleSkpIGNvbnRpbnVlO1xuICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tuZXdLZXldO1xuICAgICAgICBpZiAoZmllbGQucmVzb2x2ZWRUeXBlIGluc3RhbmNlb2YgVHlwZSkge1xuICAgICAgICAgICAgdmFsW25ld0tleV0gPSB0b0Rlc2NyaXB0b3JPcHRpb25zUmVjdXJzaXZlKG9ialtrZXldLCBmaWVsZC5yZXNvbHZlZFR5cGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFsW25ld0tleV0gPSBvYmpba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQucmVwZWF0ZWQgJiYgIUFycmF5LmlzQXJyYXkodmFsW25ld0tleV0pKSB7XG4gICAgICAgICAgICB2YWxbbmV3S2V5XSA9IFt2YWxbbmV3S2V5XV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn1cblxuLy8gQ29udmVydHMgYW4gb3B0aW9ucyBvYmplY3QgdG8gZGVzY3JpcHRvciBvcHRpb25zXG5mdW5jdGlvbiB0b0Rlc2NyaXB0b3JPcHRpb25zKG9wdGlvbnMsIHR5cGUpIHtcbiAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHR5cGUuZnJvbU9iamVjdCh0b0Rlc2NyaXB0b3JPcHRpb25zUmVjdXJzaXZlKG9wdGlvbnMsIHR5cGUpKTtcbn1cblxuLy8gQ2FsY3VsYXRlcyB0aGUgc2hvcnRlc3QgcmVsYXRpdmUgcGF0aCBmcm9tIGBmcm9tYCB0byBgdG9gLlxuZnVuY3Rpb24gc2hvcnRuYW1lKGZyb20sIHRvKSB7XG4gICAgdmFyIGZyb21QYXRoID0gZnJvbS5mdWxsTmFtZS5zcGxpdChcIi5cIiksXG4gICAgICAgIHRvUGF0aCA9IHRvLmZ1bGxOYW1lLnNwbGl0KFwiLlwiKSxcbiAgICAgICAgaSA9IDAsXG4gICAgICAgIGogPSAwLFxuICAgICAgICBrID0gdG9QYXRoLmxlbmd0aCAtIDE7XG4gICAgaWYgKCEoZnJvbSBpbnN0YW5jZW9mIFJvb3QpICYmIHRvIGluc3RhbmNlb2YgTmFtZXNwYWNlKVxuICAgICAgICB3aGlsZSAoaSA8IGZyb21QYXRoLmxlbmd0aCAmJiBqIDwgayAmJiBmcm9tUGF0aFtpXSA9PT0gdG9QYXRoW2pdKSB7XG4gICAgICAgICAgICB2YXIgb3RoZXIgPSB0by5sb29rdXAoZnJvbVBhdGhbaSsrXSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAob3RoZXIgIT09IG51bGwgJiYgb3RoZXIgIT09IHRvKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgKytqO1xuICAgICAgICB9XG4gICAgZWxzZVxuICAgICAgICBmb3IgKDsgaSA8IGZyb21QYXRoLmxlbmd0aCAmJiBqIDwgayAmJiBmcm9tUGF0aFtpXSA9PT0gdG9QYXRoW2pdOyArK2ksICsraik7XG4gICAgcmV0dXJuIHRvUGF0aC5zbGljZShqKS5qb2luKFwiLlwiKTtcbn1cblxuLy8gY29waWVkIGhlcmUgZnJvbSBjbGkvdGFyZ2V0cy9wcm90by5qc1xuZnVuY3Rpb24gdW5kZXJTY29yZShzdHIpIHtcbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLDEpXG4gICAgICAgICArIHN0ci5zdWJzdHJpbmcoMSlcbiAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oW0EtWl0pKD89W2Etel18JCkvZywgZnVuY3Rpb24oJDAsICQxKSB7IHJldHVybiBcIl9cIiArICQxLnRvTG93ZXJDYXNlKCk7IH0pO1xufVxuXG5mdW5jdGlvbiBlZGl0aW9uRnJvbURlc2NyaXB0b3IoZmlsZURlc2NyaXB0b3IpIHtcbiAgICBpZiAoZmlsZURlc2NyaXB0b3Iuc3ludGF4ID09PSBcImVkaXRpb25zXCIpIHtcbiAgICAgICAgc3dpdGNoKGZpbGVEZXNjcmlwdG9yLmVkaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgZXhwb3J0cy5FZGl0aW9uLkVESVRJT05fMjAyMzpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCIyMDIzXCI7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIGVkaXRpb24gXCIgKyBmaWxlRGVzY3JpcHRvci5lZGl0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmlsZURlc2NyaXB0b3Iuc3ludGF4ID09PSBcInByb3RvM1wiKSB7XG4gICAgICAgIHJldHVybiBcInByb3RvM1wiO1xuICAgIH1cbiAgICByZXR1cm4gXCJwcm90bzJcIjtcbn1cblxuZnVuY3Rpb24gZWRpdGlvblRvRGVzY3JpcHRvcihlZGl0aW9uLCBmaWxlRGVzY3JpcHRvcikge1xuICAgIGlmICghZWRpdGlvbikgcmV0dXJuO1xuICAgIGlmIChlZGl0aW9uID09PSBcInByb3RvMlwiIHx8IGVkaXRpb24gPT09IFwicHJvdG8zXCIpIHtcbiAgICAgICAgZmlsZURlc2NyaXB0b3Iuc3ludGF4ID0gZWRpdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmaWxlRGVzY3JpcHRvci5zeW50YXggPSBcImVkaXRpb25zXCI7XG4gICAgICAgIHN3aXRjaChlZGl0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwiMjAyM1wiOlxuICAgICAgICAgICAgICAgIGZpbGVEZXNjcmlwdG9yLmVkaXRpb24gPSBleHBvcnRzLkVkaXRpb24uRURJVElPTl8yMDIzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCBlZGl0aW9uIFwiICsgZWRpdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIC0tLSBleHBvcnRzIC0tLVxuXG4vKipcbiAqIFJlZmxlY3RlZCBmaWxlIGRlc2NyaXB0b3Igc2V0LlxuICogQG5hbWUgRmlsZURlc2NyaXB0b3JTZXRcbiAqIEB0eXBlIHtUeXBlfVxuICogQGNvbnN0XG4gKiBAdHN0eXBlICRwcm90b2J1Zi5UeXBlXG4gKi9cblxuLyoqXG4gKiBSZWZsZWN0ZWQgZmlsZSBkZXNjcmlwdG9yIHByb3RvLlxuICogQG5hbWUgRmlsZURlc2NyaXB0b3JQcm90b1xuICogQHR5cGUge1R5cGV9XG4gKiBAY29uc3RcbiAqIEB0c3R5cGUgJHByb3RvYnVmLlR5cGVcbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBkZXNjcmlwdG9yIHByb3RvLlxuICogQG5hbWUgRGVzY3JpcHRvclByb3RvXG4gKiBAdHlwZSB7VHlwZX1cbiAqIEBwcm9wZXJ0eSB7VHlwZX0gRXh0ZW5zaW9uUmFuZ2VcbiAqIEBwcm9wZXJ0eSB7VHlwZX0gUmVzZXJ2ZWRSYW5nZVxuICogQGNvbnN0XG4gKiBAdHN0eXBlICRwcm90b2J1Zi5UeXBlICYge1xuICogICAgIEV4dGVuc2lvblJhbmdlOiAkcHJvdG9idWYuVHlwZSxcbiAqICAgICBSZXNlcnZlZFJhbmdlOiAkcHJvdG9idWYuVHlwZVxuICogfVxuICovXG5cbi8qKlxuICogUmVmbGVjdGVkIGZpZWxkIGRlc2NyaXB0b3IgcHJvdG8uXG4gKiBAbmFtZSBGaWVsZERlc2NyaXB0b3JQcm90b1xuICogQHR5cGUge1R5cGV9XG4gKiBAcHJvcGVydHkge0VudW19IExhYmVsXG4gKiBAcHJvcGVydHkge0VudW19IFR5cGVcbiAqIEBjb25zdFxuICogQHRzdHlwZSAkcHJvdG9idWYuVHlwZSAmIHtcbiAqICAgICBMYWJlbDogJHByb3RvYnVmLkVudW0sXG4gKiAgICAgVHlwZTogJHByb3RvYnVmLkVudW1cbiAqIH1cbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBvbmVvZiBkZXNjcmlwdG9yIHByb3RvLlxuICogQG5hbWUgT25lb2ZEZXNjcmlwdG9yUHJvdG9cbiAqIEB0eXBlIHtUeXBlfVxuICogQGNvbnN0XG4gKiBAdHN0eXBlICRwcm90b2J1Zi5UeXBlXG4gKi9cblxuLyoqXG4gKiBSZWZsZWN0ZWQgZW51bSBkZXNjcmlwdG9yIHByb3RvLlxuICogQG5hbWUgRW51bURlc2NyaXB0b3JQcm90b1xuICogQHR5cGUge1R5cGV9XG4gKiBAY29uc3RcbiAqIEB0c3R5cGUgJHByb3RvYnVmLlR5cGVcbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBzZXJ2aWNlIGRlc2NyaXB0b3IgcHJvdG8uXG4gKiBAbmFtZSBTZXJ2aWNlRGVzY3JpcHRvclByb3RvXG4gKiBAdHlwZSB7VHlwZX1cbiAqIEBjb25zdFxuICogQHRzdHlwZSAkcHJvdG9idWYuVHlwZVxuICovXG5cbi8qKlxuICogUmVmbGVjdGVkIGVudW0gdmFsdWUgZGVzY3JpcHRvciBwcm90by5cbiAqIEBuYW1lIEVudW1WYWx1ZURlc2NyaXB0b3JQcm90b1xuICogQHR5cGUge1R5cGV9XG4gKiBAY29uc3RcbiAqIEB0c3R5cGUgJHByb3RvYnVmLlR5cGVcbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBtZXRob2QgZGVzY3JpcHRvciBwcm90by5cbiAqIEBuYW1lIE1ldGhvZERlc2NyaXB0b3JQcm90b1xuICogQHR5cGUge1R5cGV9XG4gKiBAY29uc3RcbiAqIEB0c3R5cGUgJHByb3RvYnVmLlR5cGVcbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBmaWxlIG9wdGlvbnMuXG4gKiBAbmFtZSBGaWxlT3B0aW9uc1xuICogQHR5cGUge1R5cGV9XG4gKiBAcHJvcGVydHkge0VudW19IE9wdGltaXplTW9kZVxuICogQGNvbnN0XG4gKiBAdHN0eXBlICRwcm90b2J1Zi5UeXBlICYge1xuICogICAgIE9wdGltaXplTW9kZTogJHByb3RvYnVmLkVudW1cbiAqIH1cbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBtZXNzYWdlIG9wdGlvbnMuXG4gKiBAbmFtZSBNZXNzYWdlT3B0aW9uc1xuICogQHR5cGUge1R5cGV9XG4gKiBAY29uc3RcbiAqIEB0c3R5cGUgJHByb3RvYnVmLlR5cGVcbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBmaWVsZCBvcHRpb25zLlxuICogQG5hbWUgRmllbGRPcHRpb25zXG4gKiBAdHlwZSB7VHlwZX1cbiAqIEBwcm9wZXJ0eSB7RW51bX0gQ1R5cGVcbiAqIEBwcm9wZXJ0eSB7RW51bX0gSlNUeXBlXG4gKiBAY29uc3RcbiAqIEB0c3R5cGUgJHByb3RvYnVmLlR5cGUgJiB7XG4gKiAgICAgQ1R5cGU6ICRwcm90b2J1Zi5FbnVtLFxuICogICAgIEpTVHlwZTogJHByb3RvYnVmLkVudW1cbiAqIH1cbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBvbmVvZiBvcHRpb25zLlxuICogQG5hbWUgT25lb2ZPcHRpb25zXG4gKiBAdHlwZSB7VHlwZX1cbiAqIEBjb25zdFxuICogQHRzdHlwZSAkcHJvdG9idWYuVHlwZVxuICovXG5cbi8qKlxuICogUmVmbGVjdGVkIGVudW0gb3B0aW9ucy5cbiAqIEBuYW1lIEVudW1PcHRpb25zXG4gKiBAdHlwZSB7VHlwZX1cbiAqIEBjb25zdFxuICogQHRzdHlwZSAkcHJvdG9idWYuVHlwZVxuICovXG5cbi8qKlxuICogUmVmbGVjdGVkIGVudW0gdmFsdWUgb3B0aW9ucy5cbiAqIEBuYW1lIEVudW1WYWx1ZU9wdGlvbnNcbiAqIEB0eXBlIHtUeXBlfVxuICogQGNvbnN0XG4gKiBAdHN0eXBlICRwcm90b2J1Zi5UeXBlXG4gKi9cblxuLyoqXG4gKiBSZWZsZWN0ZWQgc2VydmljZSBvcHRpb25zLlxuICogQG5hbWUgU2VydmljZU9wdGlvbnNcbiAqIEB0eXBlIHtUeXBlfVxuICogQGNvbnN0XG4gKiBAdHN0eXBlICRwcm90b2J1Zi5UeXBlXG4gKi9cblxuLyoqXG4gKiBSZWZsZWN0ZWQgbWV0aG9kIG9wdGlvbnMuXG4gKiBAbmFtZSBNZXRob2RPcHRpb25zXG4gKiBAdHlwZSB7VHlwZX1cbiAqIEBjb25zdFxuICogQHRzdHlwZSAkcHJvdG9idWYuVHlwZVxuICovXG5cbi8qKlxuICogUmVmbGVjdGVkIHVuaW50ZXJwcmV0ZXQgb3B0aW9uLlxuICogQG5hbWUgVW5pbnRlcnByZXRlZE9wdGlvblxuICogQHR5cGUge1R5cGV9XG4gKiBAcHJvcGVydHkge1R5cGV9IE5hbWVQYXJ0XG4gKiBAY29uc3RcbiAqIEB0c3R5cGUgJHByb3RvYnVmLlR5cGUgJiB7XG4gKiAgICAgTmFtZVBhcnQ6ICRwcm90b2J1Zi5UeXBlXG4gKiB9XG4gKi9cblxuLyoqXG4gKiBSZWZsZWN0ZWQgc291cmNlIGNvZGUgaW5mby5cbiAqIEBuYW1lIFNvdXJjZUNvZGVJbmZvXG4gKiBAdHlwZSB7VHlwZX1cbiAqIEBwcm9wZXJ0eSB7VHlwZX0gTG9jYXRpb25cbiAqIEBjb25zdFxuICogQHRzdHlwZSAkcHJvdG9idWYuVHlwZSAmIHtcbiAqICAgICBMb2NhdGlvbjogJHByb3RvYnVmLlR5cGVcbiAqIH1cbiAqL1xuXG4vKipcbiAqIFJlZmxlY3RlZCBnZW5lcmF0ZWQgY29kZSBpbmZvLlxuICogQG5hbWUgR2VuZXJhdGVkQ29kZUluZm9cbiAqIEB0eXBlIHtUeXBlfVxuICogQHByb3BlcnR5IHtUeXBlfSBBbm5vdGF0aW9uXG4gKiBAY29uc3RcbiAqIEB0c3R5cGUgJHByb3RvYnVmLlR5cGUgJiB7XG4gKiAgICAgQW5ub3RhdGlvbjogJHByb3RvYnVmLlR5cGVcbiAqIH1cbiAqL1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hZGRDb21tb25Qcm90b3MgPSBleHBvcnRzLmxvYWRQcm90b3NXaXRoT3B0aW9uc1N5bmMgPSBleHBvcnRzLmxvYWRQcm90b3NXaXRoT3B0aW9ucyA9IHZvaWQgMDtcbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgUHJvdG9idWYgPSByZXF1aXJlKFwicHJvdG9idWZqc1wiKTtcbmZ1bmN0aW9uIGFkZEluY2x1ZGVQYXRoUmVzb2x2ZXIocm9vdCwgaW5jbHVkZVBhdGhzKSB7XG4gICAgY29uc3Qgb3JpZ2luYWxSZXNvbHZlUGF0aCA9IHJvb3QucmVzb2x2ZVBhdGg7XG4gICAgcm9vdC5yZXNvbHZlUGF0aCA9IChvcmlnaW4sIHRhcmdldCkgPT4ge1xuICAgICAgICBpZiAocGF0aC5pc0Fic29sdXRlKHRhcmdldCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBkaXJlY3Rvcnkgb2YgaW5jbHVkZVBhdGhzKSB7XG4gICAgICAgICAgICBjb25zdCBmdWxsUGF0aCA9IHBhdGguam9pbihkaXJlY3RvcnksIHRhcmdldCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZzLmFjY2Vzc1N5bmMoZnVsbFBhdGgsIGZzLmNvbnN0YW50cy5SX09LKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVsbFBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzcy5lbWl0V2FybmluZyhgJHt0YXJnZXR9IG5vdCBmb3VuZCBpbiBhbnkgb2YgdGhlIGluY2x1ZGUgcGF0aHMgJHtpbmNsdWRlUGF0aHN9YCk7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbFJlc29sdmVQYXRoKG9yaWdpbiwgdGFyZ2V0KTtcbiAgICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gbG9hZFByb3Rvc1dpdGhPcHRpb25zKGZpbGVuYW1lLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgcm9vdCA9IG5ldyBQcm90b2J1Zi5Sb290KCk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgaWYgKCEhb3B0aW9ucy5pbmNsdWRlRGlycykge1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0aW9ucy5pbmNsdWRlRGlycykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1RoZSBpbmNsdWRlRGlycyBvcHRpb24gbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgICAgICAgfVxuICAgICAgICBhZGRJbmNsdWRlUGF0aFJlc29sdmVyKHJvb3QsIG9wdGlvbnMuaW5jbHVkZURpcnMpO1xuICAgIH1cbiAgICBjb25zdCBsb2FkZWRSb290ID0gYXdhaXQgcm9vdC5sb2FkKGZpbGVuYW1lLCBvcHRpb25zKTtcbiAgICBsb2FkZWRSb290LnJlc29sdmVBbGwoKTtcbiAgICByZXR1cm4gbG9hZGVkUm9vdDtcbn1cbmV4cG9ydHMubG9hZFByb3Rvc1dpdGhPcHRpb25zID0gbG9hZFByb3Rvc1dpdGhPcHRpb25zO1xuZnVuY3Rpb24gbG9hZFByb3Rvc1dpdGhPcHRpb25zU3luYyhmaWxlbmFtZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHJvb3QgPSBuZXcgUHJvdG9idWYuUm9vdCgpO1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGlmICghIW9wdGlvbnMuaW5jbHVkZURpcnMpIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdGlvbnMuaW5jbHVkZURpcnMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBpbmNsdWRlRGlycyBvcHRpb24gbXVzdCBiZSBhbiBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEluY2x1ZGVQYXRoUmVzb2x2ZXIocm9vdCwgb3B0aW9ucy5pbmNsdWRlRGlycyk7XG4gICAgfVxuICAgIGNvbnN0IGxvYWRlZFJvb3QgPSByb290LmxvYWRTeW5jKGZpbGVuYW1lLCBvcHRpb25zKTtcbiAgICBsb2FkZWRSb290LnJlc29sdmVBbGwoKTtcbiAgICByZXR1cm4gbG9hZGVkUm9vdDtcbn1cbmV4cG9ydHMubG9hZFByb3Rvc1dpdGhPcHRpb25zU3luYyA9IGxvYWRQcm90b3NXaXRoT3B0aW9uc1N5bmM7XG4vKipcbiAqIExvYWQgR29vZ2xlJ3Mgd2VsbC1rbm93biBwcm90byBmaWxlcyB0aGF0IGFyZW4ndCBleHBvc2VkIGJ5IFByb3RvYnVmLmpzLlxuICovXG5mdW5jdGlvbiBhZGRDb21tb25Qcm90b3MoKSB7XG4gICAgLy8gUHJvdG9idWYuanMgZXhwb3NlczogYW55LCBkdXJhdGlvbiwgZW1wdHksIGZpZWxkX21hc2ssIHN0cnVjdCwgdGltZXN0YW1wLFxuICAgIC8vIGFuZCB3cmFwcGVycy4gY29tcGlsZXIvcGx1Z2luIGlzIGV4Y2x1ZGVkIGluIFByb3RvYnVmLmpzIGFuZCBoZXJlLlxuICAgIC8vIFVzaW5nIGNvbnN0YW50IHN0cmluZ3MgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0b29scyBsaWtlIFdlYnBhY2tcbiAgICBjb25zdCBhcGlEZXNjcmlwdG9yID0gcmVxdWlyZSgncHJvdG9idWZqcy9nb29nbGUvcHJvdG9idWYvYXBpLmpzb24nKTtcbiAgICBjb25zdCBkZXNjcmlwdG9yRGVzY3JpcHRvciA9IHJlcXVpcmUoJ3Byb3RvYnVmanMvZ29vZ2xlL3Byb3RvYnVmL2Rlc2NyaXB0b3IuanNvbicpO1xuICAgIGNvbnN0IHNvdXJjZUNvbnRleHREZXNjcmlwdG9yID0gcmVxdWlyZSgncHJvdG9idWZqcy9nb29nbGUvcHJvdG9idWYvc291cmNlX2NvbnRleHQuanNvbicpO1xuICAgIGNvbnN0IHR5cGVEZXNjcmlwdG9yID0gcmVxdWlyZSgncHJvdG9idWZqcy9nb29nbGUvcHJvdG9idWYvdHlwZS5qc29uJyk7XG4gICAgUHJvdG9idWYuY29tbW9uKCdhcGknLCBhcGlEZXNjcmlwdG9yLm5lc3RlZC5nb29nbGUubmVzdGVkLnByb3RvYnVmLm5lc3RlZCk7XG4gICAgUHJvdG9idWYuY29tbW9uKCdkZXNjcmlwdG9yJywgZGVzY3JpcHRvckRlc2NyaXB0b3IubmVzdGVkLmdvb2dsZS5uZXN0ZWQucHJvdG9idWYubmVzdGVkKTtcbiAgICBQcm90b2J1Zi5jb21tb24oJ3NvdXJjZV9jb250ZXh0Jywgc291cmNlQ29udGV4dERlc2NyaXB0b3IubmVzdGVkLmdvb2dsZS5uZXN0ZWQucHJvdG9idWYubmVzdGVkKTtcbiAgICBQcm90b2J1Zi5jb21tb24oJ3R5cGUnLCB0eXBlRGVzY3JpcHRvci5uZXN0ZWQuZ29vZ2xlLm5lc3RlZC5wcm90b2J1Zi5uZXN0ZWQpO1xufVxuZXhwb3J0cy5hZGRDb21tb25Qcm90b3MgPSBhZGRDb21tb25Qcm90b3M7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbU9iamVjdCA9IGV4cG9ydHMubG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbUJ1ZmZlciA9IGV4cG9ydHMuZnJvbUpTT04gPSBleHBvcnRzLmxvYWRTeW5jID0gZXhwb3J0cy5sb2FkID0gZXhwb3J0cy5JZGVtcG90ZW5jeUxldmVsID0gZXhwb3J0cy5pc0FueUV4dGVuc2lvbiA9IGV4cG9ydHMuTG9uZyA9IHZvaWQgMDtcbmNvbnN0IGNhbWVsQ2FzZSA9IHJlcXVpcmUoXCJsb2Rhc2guY2FtZWxjYXNlXCIpO1xuY29uc3QgUHJvdG9idWYgPSByZXF1aXJlKFwicHJvdG9idWZqc1wiKTtcbmNvbnN0IGRlc2NyaXB0b3IgPSByZXF1aXJlKFwicHJvdG9idWZqcy9leHQvZGVzY3JpcHRvclwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBMb25nID0gcmVxdWlyZShcImxvbmdcIik7XG5leHBvcnRzLkxvbmcgPSBMb25nO1xuZnVuY3Rpb24gaXNBbnlFeHRlbnNpb24ob2JqKSB7XG4gICAgcmV0dXJuICgnQHR5cGUnIGluIG9iaikgJiYgKHR5cGVvZiBvYmpbJ0B0eXBlJ10gPT09ICdzdHJpbmcnKTtcbn1cbmV4cG9ydHMuaXNBbnlFeHRlbnNpb24gPSBpc0FueUV4dGVuc2lvbjtcbnZhciBJZGVtcG90ZW5jeUxldmVsO1xuKGZ1bmN0aW9uIChJZGVtcG90ZW5jeUxldmVsKSB7XG4gICAgSWRlbXBvdGVuY3lMZXZlbFtcIklERU1QT1RFTkNZX1VOS05PV05cIl0gPSBcIklERU1QT1RFTkNZX1VOS05PV05cIjtcbiAgICBJZGVtcG90ZW5jeUxldmVsW1wiTk9fU0lERV9FRkZFQ1RTXCJdID0gXCJOT19TSURFX0VGRkVDVFNcIjtcbiAgICBJZGVtcG90ZW5jeUxldmVsW1wiSURFTVBPVEVOVFwiXSA9IFwiSURFTVBPVEVOVFwiO1xufSkoSWRlbXBvdGVuY3lMZXZlbCA9IGV4cG9ydHMuSWRlbXBvdGVuY3lMZXZlbCB8fCAoZXhwb3J0cy5JZGVtcG90ZW5jeUxldmVsID0ge30pKTtcbmNvbnN0IGRlc2NyaXB0b3JPcHRpb25zID0ge1xuICAgIGxvbmdzOiBTdHJpbmcsXG4gICAgZW51bXM6IFN0cmluZyxcbiAgICBieXRlczogU3RyaW5nLFxuICAgIGRlZmF1bHRzOiB0cnVlLFxuICAgIG9uZW9mczogdHJ1ZSxcbiAgICBqc29uOiB0cnVlLFxufTtcbmZ1bmN0aW9uIGpvaW5OYW1lKGJhc2VOYW1lLCBuYW1lKSB7XG4gICAgaWYgKGJhc2VOYW1lID09PSAnJykge1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBiYXNlTmFtZSArICcuJyArIG5hbWU7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNIYW5kbGVkUmVmbGVjdGlvbk9iamVjdChvYmopIHtcbiAgICByZXR1cm4gKG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLlNlcnZpY2UgfHxcbiAgICAgICAgb2JqIGluc3RhbmNlb2YgUHJvdG9idWYuVHlwZSB8fFxuICAgICAgICBvYmogaW5zdGFuY2VvZiBQcm90b2J1Zi5FbnVtKTtcbn1cbmZ1bmN0aW9uIGlzTmFtZXNwYWNlQmFzZShvYmopIHtcbiAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgUHJvdG9idWYuTmFtZXNwYWNlIHx8IG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLlJvb3Q7XG59XG5mdW5jdGlvbiBnZXRBbGxIYW5kbGVkUmVmbGVjdGlvbk9iamVjdHMob2JqLCBwYXJlbnROYW1lKSB7XG4gICAgY29uc3Qgb2JqTmFtZSA9IGpvaW5OYW1lKHBhcmVudE5hbWUsIG9iai5uYW1lKTtcbiAgICBpZiAoaXNIYW5kbGVkUmVmbGVjdGlvbk9iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBbW29iak5hbWUsIG9ial1dO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzTmFtZXNwYWNlQmFzZShvYmopICYmIHR5cGVvZiBvYmoubmVzdGVkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iai5uZXN0ZWQpXG4gICAgICAgICAgICAgICAgLm1hcChuYW1lID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QWxsSGFuZGxlZFJlZmxlY3Rpb25PYmplY3RzKG9iai5uZXN0ZWRbbmFtZV0sIG9iak5hbWUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiBhY2N1bXVsYXRvci5jb25jYXQoY3VycmVudFZhbHVlKSwgW10pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZURlc2VyaWFsaXplcihjbHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGVzZXJpYWxpemUoYXJnQnVmKSB7XG4gICAgICAgIHJldHVybiBjbHMudG9PYmplY3QoY2xzLmRlY29kZShhcmdCdWYpLCBvcHRpb25zKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2VyaWFsaXplcihjbHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gc2VyaWFsaXplKGFyZykge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBzZXJpYWxpemUgbWVzc2FnZTogZXhwZWN0ZWQgb2JqZWN0IHdpdGggJHtjbHMubmFtZX0gc3RydWN0dXJlLCBnb3QgYXJyYXkgaW5zdGVhZGApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBjbHMuZnJvbU9iamVjdChhcmcpO1xuICAgICAgICByZXR1cm4gY2xzLmVuY29kZShtZXNzYWdlKS5maW5pc2goKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbWFwTWV0aG9kT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgcmV0dXJuIChvcHRpb25zIHx8IFtdKS5yZWR1Y2UoKG9iaiwgaXRlbSkgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhpdGVtKSkge1xuICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd1bmludGVycHJldGVkX29wdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIG9iai51bmludGVycHJldGVkX29wdGlvbi5wdXNoKGl0ZW0udW5pbnRlcnByZXRlZF9vcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSwge1xuICAgICAgICBkZXByZWNhdGVkOiBmYWxzZSxcbiAgICAgICAgaWRlbXBvdGVuY3lfbGV2ZWw6IElkZW1wb3RlbmN5TGV2ZWwuSURFTVBPVEVOQ1lfVU5LTk9XTixcbiAgICAgICAgdW5pbnRlcnByZXRlZF9vcHRpb246IFtdLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlTWV0aG9kRGVmaW5pdGlvbihtZXRob2QsIHNlcnZpY2VOYW1lLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpIHtcbiAgICAvKiBUaGlzIGlzIG9ubHkgZXZlciBjYWxsZWQgYWZ0ZXIgdGhlIGNvcnJlc3BvbmRpbmcgcm9vdC5yZXNvbHZlQWxsKCksIHNvIHdlXG4gICAgICogY2FuIGFzc3VtZSB0aGF0IHRoZSByZXNvbHZlZCByZXF1ZXN0IGFuZCByZXNwb25zZSB0eXBlcyBhcmUgbm9uLW51bGwgKi9cbiAgICBjb25zdCByZXF1ZXN0VHlwZSA9IG1ldGhvZC5yZXNvbHZlZFJlcXVlc3RUeXBlO1xuICAgIGNvbnN0IHJlc3BvbnNlVHlwZSA9IG1ldGhvZC5yZXNvbHZlZFJlc3BvbnNlVHlwZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBwYXRoOiAnLycgKyBzZXJ2aWNlTmFtZSArICcvJyArIG1ldGhvZC5uYW1lLFxuICAgICAgICByZXF1ZXN0U3RyZWFtOiAhIW1ldGhvZC5yZXF1ZXN0U3RyZWFtLFxuICAgICAgICByZXNwb25zZVN0cmVhbTogISFtZXRob2QucmVzcG9uc2VTdHJlYW0sXG4gICAgICAgIHJlcXVlc3RTZXJpYWxpemU6IGNyZWF0ZVNlcmlhbGl6ZXIocmVxdWVzdFR5cGUpLFxuICAgICAgICByZXF1ZXN0RGVzZXJpYWxpemU6IGNyZWF0ZURlc2VyaWFsaXplcihyZXF1ZXN0VHlwZSwgb3B0aW9ucyksXG4gICAgICAgIHJlc3BvbnNlU2VyaWFsaXplOiBjcmVhdGVTZXJpYWxpemVyKHJlc3BvbnNlVHlwZSksXG4gICAgICAgIHJlc3BvbnNlRGVzZXJpYWxpemU6IGNyZWF0ZURlc2VyaWFsaXplcihyZXNwb25zZVR5cGUsIG9wdGlvbnMpLFxuICAgICAgICAvLyBUT0RPKG11cmdhdHJvaWQ5OSk6IEZpbmQgYSBiZXR0ZXIgd2F5IHRvIGhhbmRsZSB0aGlzXG4gICAgICAgIG9yaWdpbmFsTmFtZTogY2FtZWxDYXNlKG1ldGhvZC5uYW1lKSxcbiAgICAgICAgcmVxdWVzdFR5cGU6IGNyZWF0ZU1lc3NhZ2VEZWZpbml0aW9uKHJlcXVlc3RUeXBlLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpLFxuICAgICAgICByZXNwb25zZVR5cGU6IGNyZWF0ZU1lc3NhZ2VEZWZpbml0aW9uKHJlc3BvbnNlVHlwZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKSxcbiAgICAgICAgb3B0aW9uczogbWFwTWV0aG9kT3B0aW9ucyhtZXRob2QucGFyc2VkT3B0aW9ucyksXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlcnZpY2VEZWZpbml0aW9uKHNlcnZpY2UsIG5hbWUsIG9wdGlvbnMsIGZpbGVEZXNjcmlwdG9ycykge1xuICAgIGNvbnN0IGRlZiA9IHt9O1xuICAgIGZvciAoY29uc3QgbWV0aG9kIG9mIHNlcnZpY2UubWV0aG9kc0FycmF5KSB7XG4gICAgICAgIGRlZlttZXRob2QubmFtZV0gPSBjcmVhdGVNZXRob2REZWZpbml0aW9uKG1ldGhvZCwgbmFtZSwgb3B0aW9ucywgZmlsZURlc2NyaXB0b3JzKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU1lc3NhZ2VEZWZpbml0aW9uKG1lc3NhZ2UsIG9wdGlvbnMsIGZpbGVEZXNjcmlwdG9ycykge1xuICAgIGNvbnN0IG1lc3NhZ2VEZXNjcmlwdG9yID0gbWVzc2FnZS50b0Rlc2NyaXB0b3IoJ3Byb3RvMycpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZvcm1hdDogJ1Byb3RvY29sIEJ1ZmZlciAzIERlc2NyaXB0b3JQcm90bycsXG4gICAgICAgIHR5cGU6IG1lc3NhZ2VEZXNjcmlwdG9yLiR0eXBlLnRvT2JqZWN0KG1lc3NhZ2VEZXNjcmlwdG9yLCBkZXNjcmlwdG9yT3B0aW9ucyksXG4gICAgICAgIGZpbGVEZXNjcmlwdG9yUHJvdG9zOiBmaWxlRGVzY3JpcHRvcnMsXG4gICAgICAgIHNlcmlhbGl6ZTogY3JlYXRlU2VyaWFsaXplcihtZXNzYWdlKSxcbiAgICAgICAgZGVzZXJpYWxpemU6IGNyZWF0ZURlc2VyaWFsaXplcihtZXNzYWdlLCBvcHRpb25zKVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVFbnVtRGVmaW5pdGlvbihlbnVtVHlwZSwgZmlsZURlc2NyaXB0b3JzKSB7XG4gICAgY29uc3QgZW51bURlc2NyaXB0b3IgPSBlbnVtVHlwZS50b0Rlc2NyaXB0b3IoJ3Byb3RvMycpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGZvcm1hdDogJ1Byb3RvY29sIEJ1ZmZlciAzIEVudW1EZXNjcmlwdG9yUHJvdG8nLFxuICAgICAgICB0eXBlOiBlbnVtRGVzY3JpcHRvci4kdHlwZS50b09iamVjdChlbnVtRGVzY3JpcHRvciwgZGVzY3JpcHRvck9wdGlvbnMpLFxuICAgICAgICBmaWxlRGVzY3JpcHRvclByb3RvczogZmlsZURlc2NyaXB0b3JzLFxuICAgIH07XG59XG4vKipcbiAqIGZ1bmN0aW9uIGNyZWF0ZURlZmluaXRpb24ob2JqOiBQcm90b2J1Zi5TZXJ2aWNlLCBuYW1lOiBzdHJpbmcsIG9wdGlvbnM6XG4gKiBPcHRpb25zKTogU2VydmljZURlZmluaXRpb247IGZ1bmN0aW9uIGNyZWF0ZURlZmluaXRpb24ob2JqOiBQcm90b2J1Zi5UeXBlLFxuICogbmFtZTogc3RyaW5nLCBvcHRpb25zOiBPcHRpb25zKTogTWVzc2FnZVR5cGVEZWZpbml0aW9uOyBmdW5jdGlvblxuICogY3JlYXRlRGVmaW5pdGlvbihvYmo6IFByb3RvYnVmLkVudW0sIG5hbWU6IHN0cmluZywgb3B0aW9uczogT3B0aW9ucyk6XG4gKiBFbnVtVHlwZURlZmluaXRpb247XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURlZmluaXRpb24ob2JqLCBuYW1lLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgUHJvdG9idWYuU2VydmljZSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlU2VydmljZURlZmluaXRpb24ob2JqLCBuYW1lLCBvcHRpb25zLCBmaWxlRGVzY3JpcHRvcnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBQcm90b2J1Zi5UeXBlKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVNZXNzYWdlRGVmaW5pdGlvbihvYmosIG9wdGlvbnMsIGZpbGVEZXNjcmlwdG9ycyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG9iaiBpbnN0YW5jZW9mIFByb3RvYnVmLkVudW0pIHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUVudW1EZWZpbml0aW9uKG9iaiwgZmlsZURlc2NyaXB0b3JzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVHlwZSBtaXNtYXRjaCBpbiByZWZsZWN0aW9uIG9iamVjdCBoYW5kbGluZycpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uKHJvb3QsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBkZWYgPSB7fTtcbiAgICByb290LnJlc29sdmVBbGwoKTtcbiAgICBjb25zdCBkZXNjcmlwdG9yTGlzdCA9IHJvb3QudG9EZXNjcmlwdG9yKCdwcm90bzMnKS5maWxlO1xuICAgIGNvbnN0IGJ1ZmZlckxpc3QgPSBkZXNjcmlwdG9yTGlzdC5tYXAodmFsdWUgPT4gQnVmZmVyLmZyb20oZGVzY3JpcHRvci5GaWxlRGVzY3JpcHRvclByb3RvLmVuY29kZSh2YWx1ZSkuZmluaXNoKCkpKTtcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBvYmpdIG9mIGdldEFsbEhhbmRsZWRSZWZsZWN0aW9uT2JqZWN0cyhyb290LCAnJykpIHtcbiAgICAgICAgZGVmW25hbWVdID0gY3JlYXRlRGVmaW5pdGlvbihvYmosIG5hbWUsIG9wdGlvbnMsIGJ1ZmZlckxpc3QpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmO1xufVxuZnVuY3Rpb24gY3JlYXRlUGFja2FnZURlZmluaXRpb25Gcm9tRGVzY3JpcHRvclNldChkZWNvZGVkRGVzY3JpcHRvclNldCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGNvbnN0IHJvb3QgPSBQcm90b2J1Zi5Sb290LmZyb21EZXNjcmlwdG9yKGRlY29kZWREZXNjcmlwdG9yU2V0KTtcbiAgICByb290LnJlc29sdmVBbGwoKTtcbiAgICByZXR1cm4gY3JlYXRlUGFja2FnZURlZmluaXRpb24ocm9vdCwgb3B0aW9ucyk7XG59XG4vKipcbiAqIExvYWQgYSAucHJvdG8gZmlsZSB3aXRoIHRoZSBzcGVjaWZpZWQgb3B0aW9ucy5cbiAqIEBwYXJhbSBmaWxlbmFtZSBPbmUgb3IgbXVsdGlwbGUgZmlsZSBwYXRocyB0byBsb2FkLiBDYW4gYmUgYW4gYWJzb2x1dGUgcGF0aFxuICogICAgIG9yIHJlbGF0aXZlIHRvIGFuIGluY2x1ZGUgcGF0aC5cbiAqIEBwYXJhbSBvcHRpb25zLmtlZXBDYXNlIFByZXNlcnZlIGZpZWxkIG5hbWVzLiBUaGUgZGVmYXVsdCBpcyB0byBjaGFuZ2UgdGhlbVxuICogICAgIHRvIGNhbWVsIGNhc2UuXG4gKiBAcGFyYW0gb3B0aW9ucy5sb25ncyBUaGUgdHlwZSB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHJlcHJlc2VudCBgbG9uZ2AgdmFsdWVzLlxuICogICAgIFZhbGlkIG9wdGlvbnMgYXJlIGBOdW1iZXJgIGFuZCBgU3RyaW5nYC4gRGVmYXVsdHMgdG8gYSBgTG9uZ2Agb2JqZWN0IHR5cGVcbiAqICAgICBmcm9tIGEgbGlicmFyeS5cbiAqIEBwYXJhbSBvcHRpb25zLmVudW1zIFRoZSB0eXBlIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcmVwcmVzZW50IGBlbnVtYCB2YWx1ZXMuXG4gKiAgICAgVGhlIG9ubHkgdmFsaWQgb3B0aW9uIGlzIGBTdHJpbmdgLiBEZWZhdWx0cyB0byB0aGUgbnVtZXJpYyB2YWx1ZS5cbiAqIEBwYXJhbSBvcHRpb25zLmJ5dGVzIFRoZSB0eXBlIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gcmVwcmVzZW50IGBieXRlc2BcbiAqICAgICB2YWx1ZXMuIFZhbGlkIG9wdGlvbnMgYXJlIGBBcnJheWAgYW5kIGBTdHJpbmdgLiBUaGUgZGVmYXVsdCBpcyB0byB1c2VcbiAqICAgICBgQnVmZmVyYC5cbiAqIEBwYXJhbSBvcHRpb25zLmRlZmF1bHRzIFNldCBkZWZhdWx0IHZhbHVlcyBvbiBvdXRwdXQgb2JqZWN0cy4gRGVmYXVsdHMgdG9cbiAqICAgICBgZmFsc2VgLlxuICogQHBhcmFtIG9wdGlvbnMuYXJyYXlzIFNldCBlbXB0eSBhcnJheXMgZm9yIG1pc3NpbmcgYXJyYXkgdmFsdWVzIGV2ZW4gaWZcbiAqICAgICBgZGVmYXVsdHNgIGlzIGBmYWxzZWAuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKiBAcGFyYW0gb3B0aW9ucy5vYmplY3RzIFNldCBlbXB0eSBvYmplY3RzIGZvciBtaXNzaW5nIG9iamVjdCB2YWx1ZXMgZXZlbiBpZlxuICogICAgIGBkZWZhdWx0c2AgaXMgYGZhbHNlYC4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqIEBwYXJhbSBvcHRpb25zLm9uZW9mcyBTZXQgdmlydHVhbCBvbmVvZiBwcm9wZXJ0aWVzIHRvIHRoZSBwcmVzZW50IGZpZWxkJ3NcbiAqICAgICBuYW1lXG4gKiBAcGFyYW0gb3B0aW9ucy5qc29uIFJlcHJlc2VudCBJbmZpbml0eSBhbmQgTmFOIGFzIHN0cmluZ3MgaW4gZmxvYXQgZmllbGRzLFxuICogICAgIGFuZCBhdXRvbWF0aWNhbGx5IGRlY29kZSBnb29nbGUucHJvdG9idWYuQW55IHZhbHVlcy5cbiAqIEBwYXJhbSBvcHRpb25zLmluY2x1ZGVEaXJzIFBhdGhzIHRvIHNlYXJjaCBmb3IgaW1wb3J0ZWQgYC5wcm90b2AgZmlsZXMuXG4gKi9cbmZ1bmN0aW9uIGxvYWQoZmlsZW5hbWUsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gKDAsIHV0aWxfMS5sb2FkUHJvdG9zV2l0aE9wdGlvbnMpKGZpbGVuYW1lLCBvcHRpb25zKS50aGVuKGxvYWRlZFJvb3QgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlUGFja2FnZURlZmluaXRpb24obG9hZGVkUm9vdCwgb3B0aW9ucyk7XG4gICAgfSk7XG59XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZnVuY3Rpb24gbG9hZFN5bmMoZmlsZW5hbWUsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBsb2FkZWRSb290ID0gKDAsIHV0aWxfMS5sb2FkUHJvdG9zV2l0aE9wdGlvbnNTeW5jKShmaWxlbmFtZSwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uKGxvYWRlZFJvb3QsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5sb2FkU3luYyA9IGxvYWRTeW5jO1xuZnVuY3Rpb24gZnJvbUpTT04oanNvbiwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIGNvbnN0IGxvYWRlZFJvb3QgPSBQcm90b2J1Zi5Sb290LmZyb21KU09OKGpzb24pO1xuICAgIGxvYWRlZFJvb3QucmVzb2x2ZUFsbCgpO1xuICAgIHJldHVybiBjcmVhdGVQYWNrYWdlRGVmaW5pdGlvbihsb2FkZWRSb290LCBvcHRpb25zKTtcbn1cbmV4cG9ydHMuZnJvbUpTT04gPSBmcm9tSlNPTjtcbmZ1bmN0aW9uIGxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21CdWZmZXIoZGVzY3JpcHRvclNldCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRlY29kZWREZXNjcmlwdG9yU2V0ID0gZGVzY3JpcHRvci5GaWxlRGVzY3JpcHRvclNldC5kZWNvZGUoZGVzY3JpcHRvclNldCk7XG4gICAgcmV0dXJuIGNyZWF0ZVBhY2thZ2VEZWZpbml0aW9uRnJvbURlc2NyaXB0b3JTZXQoZGVjb2RlZERlc2NyaXB0b3JTZXQsIG9wdGlvbnMpO1xufVxuZXhwb3J0cy5sb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tQnVmZmVyID0gbG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbUJ1ZmZlcjtcbmZ1bmN0aW9uIGxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21PYmplY3QoZGVzY3JpcHRvclNldCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGRlY29kZWREZXNjcmlwdG9yU2V0ID0gZGVzY3JpcHRvci5GaWxlRGVzY3JpcHRvclNldC5mcm9tT2JqZWN0KGRlc2NyaXB0b3JTZXQpO1xuICAgIHJldHVybiBjcmVhdGVQYWNrYWdlRGVmaW5pdGlvbkZyb21EZXNjcmlwdG9yU2V0KGRlY29kZWREZXNjcmlwdG9yU2V0LCBvcHRpb25zKTtcbn1cbmV4cG9ydHMubG9hZEZpbGVEZXNjcmlwdG9yU2V0RnJvbU9iamVjdCA9IGxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21PYmplY3Q7XG4oMCwgdXRpbF8xLmFkZENvbW1vblByb3RvcykoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIxIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQgPSBleHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpTZXJ2ZXIgPSBleHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpTdWJjaGFubmVsID0gZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6Q2hhbm5lbCA9IGV4cG9ydHMuQ2hhbm5lbHpDYWxsVHJhY2tlclN0dWIgPSBleHBvcnRzLkNoYW5uZWx6Q2FsbFRyYWNrZXIgPSBleHBvcnRzLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyU3R1YiA9IGV4cG9ydHMuQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIgPSBleHBvcnRzLkNoYW5uZWx6VHJhY2UgPSBleHBvcnRzLkNoYW5uZWx6VHJhY2VTdHViID0gdm9pZCAwO1xuZXhwb3J0cy51bnJlZ2lzdGVyQ2hhbm5lbHpSZWYgPSB1bnJlZ2lzdGVyQ2hhbm5lbHpSZWY7XG5leHBvcnRzLmdldENoYW5uZWx6SGFuZGxlcnMgPSBnZXRDaGFubmVsekhhbmRsZXJzO1xuZXhwb3J0cy5nZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uID0gZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbjtcbmV4cG9ydHMuc2V0dXAgPSBzZXR1cDtcbmNvbnN0IG5ldF8xID0gcmVxdWlyZShcIm5ldFwiKTtcbmNvbnN0IG9yZGVyZWRfbWFwXzEgPSByZXF1aXJlKFwiQGpzLXNkc2wvb3JkZXJlZC1tYXBcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCBhZG1pbl8xID0gcmVxdWlyZShcIi4vYWRtaW5cIik7XG5jb25zdCBtYWtlX2NsaWVudF8xID0gcmVxdWlyZShcIi4vbWFrZS1jbGllbnRcIik7XG5mdW5jdGlvbiBjaGFubmVsUmVmVG9NZXNzYWdlKHJlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNoYW5uZWxfaWQ6IHJlZi5pZCxcbiAgICAgICAgbmFtZTogcmVmLm5hbWUsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN1YmNoYW5uZWxSZWZUb01lc3NhZ2UocmVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3ViY2hhbm5lbF9pZDogcmVmLmlkLFxuICAgICAgICBuYW1lOiByZWYubmFtZSxcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VydmVyUmVmVG9NZXNzYWdlKHJlZikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlcnZlcl9pZDogcmVmLmlkLFxuICAgIH07XG59XG5mdW5jdGlvbiBzb2NrZXRSZWZUb01lc3NhZ2UocmVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc29ja2V0X2lkOiByZWYuaWQsXG4gICAgICAgIG5hbWU6IHJlZi5uYW1lLFxuICAgIH07XG59XG4vKipcbiAqIFRoZSBsb29zZSB1cHBlciBib3VuZCBvbiB0aGUgbnVtYmVyIG9mIGV2ZW50cyB0aGF0IHNob3VsZCBiZSByZXRhaW5lZCBpbiBhXG4gKiB0cmFjZS4gVGhpcyBtYXkgYmUgZXhjZWVkZWQgYnkgdXAgdG8gYSBmYWN0b3Igb2YgMi4gQXJiaXRyYXJpbHkgY2hvc2VuIGFzIGFcbiAqIG51bWJlciB0aGF0IHNob3VsZCBiZSBsYXJnZSBlbm91Z2ggdG8gY29udGFpbiB0aGUgcmVjZW50IHJlbGV2YW50XG4gKiBpbmZvcm1hdGlvbiwgYnV0IHNtYWxsIGVub3VnaCB0byBub3QgdXNlIGV4Y2Vzc2l2ZSBtZW1vcnkuXG4gKi9cbmNvbnN0IFRBUkdFVF9SRVRBSU5FRF9UUkFDRVMgPSAzMjtcbi8qKlxuICogRGVmYXVsdCBudW1iZXIgb2Ygc29ja2V0cy9zZXJ2ZXJzL2NoYW5uZWxzL3N1YmNoYW5uZWxzIHRvIHJldHVyblxuICovXG5jb25zdCBERUZBVUxUX01BWF9SRVNVTFRTID0gMTAwO1xuY2xhc3MgQ2hhbm5lbHpUcmFjZVN0dWIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmNyZWF0aW9uVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5ldmVudHNMb2dnZWQgPSAwO1xuICAgIH1cbiAgICBhZGRUcmFjZSgpIHsgfVxuICAgIGdldFRyYWNlTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyZWF0aW9uX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAodGhpcy5jcmVhdGlvblRpbWVzdGFtcCksXG4gICAgICAgICAgICBudW1fZXZlbnRzX2xvZ2dlZDogdGhpcy5ldmVudHNMb2dnZWQsXG4gICAgICAgICAgICBldmVudHM6IFtdLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbHpUcmFjZVN0dWIgPSBDaGFubmVselRyYWNlU3R1YjtcbmNsYXNzIENoYW5uZWx6VHJhY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmV2ZW50c0xvZ2dlZCA9IDA7XG4gICAgICAgIHRoaXMuY3JlYXRpb25UaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICBhZGRUcmFjZShzZXZlcml0eSwgZGVzY3JpcHRpb24sIGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuZXZlbnRzLnB1c2goe1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgc2V2ZXJpdHk6IHNldmVyaXR5LFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICBjaGlsZENoYW5uZWw6IChjaGlsZCA9PT0gbnVsbCB8fCBjaGlsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hpbGQua2luZCkgPT09ICdjaGFubmVsJyA/IGNoaWxkIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hpbGRTdWJjaGFubmVsOiAoY2hpbGQgPT09IG51bGwgfHwgY2hpbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoaWxkLmtpbmQpID09PSAnc3ViY2hhbm5lbCcgPyBjaGlsZCA6IHVuZGVmaW5lZCxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFdoZW5ldmVyIHRoZSB0cmFjZSBhcnJheSBnZXRzIHRvbyBsYXJnZSwgZGlzY2FyZCB0aGUgZmlyc3QgaGFsZlxuICAgICAgICBpZiAodGhpcy5ldmVudHMubGVuZ3RoID49IFRBUkdFVF9SRVRBSU5FRF9UUkFDRVMgKiAyKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzLnNsaWNlKFRBUkdFVF9SRVRBSU5FRF9UUkFDRVMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRzTG9nZ2VkICs9IDE7XG4gICAgfVxuICAgIGdldFRyYWNlTWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNyZWF0aW9uX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAodGhpcy5jcmVhdGlvblRpbWVzdGFtcCksXG4gICAgICAgICAgICBudW1fZXZlbnRzX2xvZ2dlZDogdGhpcy5ldmVudHNMb2dnZWQsXG4gICAgICAgICAgICBldmVudHM6IHRoaXMuZXZlbnRzLm1hcChldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGV2ZW50LmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzZXZlcml0eTogZXZlbnQuc2V2ZXJpdHksXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAoZXZlbnQudGltZXN0YW1wKSxcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbF9yZWY6IGV2ZW50LmNoaWxkQ2hhbm5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjaGFubmVsUmVmVG9NZXNzYWdlKGV2ZW50LmNoaWxkQ2hhbm5lbClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc3ViY2hhbm5lbF9yZWY6IGV2ZW50LmNoaWxkU3ViY2hhbm5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdWJjaGFubmVsUmVmVG9NZXNzYWdlKGV2ZW50LmNoaWxkU3ViY2hhbm5lbClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5DaGFubmVselRyYWNlID0gQ2hhbm5lbHpUcmFjZTtcbmNsYXNzIENoYW5uZWx6Q2hpbGRyZW5UcmFja2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jaGFubmVsQ2hpbGRyZW4gPSBuZXcgb3JkZXJlZF9tYXBfMS5PcmRlcmVkTWFwKCk7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbENoaWxkcmVuID0gbmV3IG9yZGVyZWRfbWFwXzEuT3JkZXJlZE1hcCgpO1xuICAgICAgICB0aGlzLnNvY2tldENoaWxkcmVuID0gbmV3IG9yZGVyZWRfbWFwXzEuT3JkZXJlZE1hcCgpO1xuICAgICAgICB0aGlzLnRyYWNrZXJNYXAgPSB7XG4gICAgICAgICAgICBbXCJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuY2hhbm5lbCAqL106IHRoaXMuY2hhbm5lbENoaWxkcmVuLFxuICAgICAgICAgICAgW1wic3ViY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLnN1YmNoYW5uZWwgKi9dOiB0aGlzLnN1YmNoYW5uZWxDaGlsZHJlbixcbiAgICAgICAgICAgIFtcInNvY2tldFwiIC8qIEVudGl0eVR5cGVzLnNvY2tldCAqL106IHRoaXMuc29ja2V0Q2hpbGRyZW4sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZkNoaWxkKGNoaWxkKSB7XG4gICAgICAgIGNvbnN0IHRyYWNrZXIgPSB0aGlzLnRyYWNrZXJNYXBbY2hpbGQua2luZF07XG4gICAgICAgIGNvbnN0IHRyYWNrZWRDaGlsZCA9IHRyYWNrZXIuZmluZChjaGlsZC5pZCk7XG4gICAgICAgIGlmICh0cmFja2VkQ2hpbGQuZXF1YWxzKHRyYWNrZXIuZW5kKCkpKSB7XG4gICAgICAgICAgICB0cmFja2VyLnNldEVsZW1lbnQoY2hpbGQuaWQsIHtcbiAgICAgICAgICAgICAgICByZWY6IGNoaWxkLFxuICAgICAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgICAgfSwgdHJhY2tlZENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRyYWNrZWRDaGlsZC5wb2ludGVyWzFdLmNvdW50ICs9IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5yZWZDaGlsZChjaGlsZCkge1xuICAgICAgICBjb25zdCB0cmFja2VyID0gdGhpcy50cmFja2VyTWFwW2NoaWxkLmtpbmRdO1xuICAgICAgICBjb25zdCB0cmFja2VkQ2hpbGQgPSB0cmFja2VyLmdldEVsZW1lbnRCeUtleShjaGlsZC5pZCk7XG4gICAgICAgIGlmICh0cmFja2VkQ2hpbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdHJhY2tlZENoaWxkLmNvdW50IC09IDE7XG4gICAgICAgICAgICBpZiAodHJhY2tlZENoaWxkLmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tlci5lcmFzZUVsZW1lbnRCeUtleShjaGlsZC5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2hpbGRMaXN0cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNoYW5uZWxzOiB0aGlzLmNoYW5uZWxDaGlsZHJlbixcbiAgICAgICAgICAgIHN1YmNoYW5uZWxzOiB0aGlzLnN1YmNoYW5uZWxDaGlsZHJlbixcbiAgICAgICAgICAgIHNvY2tldHM6IHRoaXMuc29ja2V0Q2hpbGRyZW4sXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5DaGFubmVsekNoaWxkcmVuVHJhY2tlciA9IENoYW5uZWx6Q2hpbGRyZW5UcmFja2VyO1xuY2xhc3MgQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXJTdHViIGV4dGVuZHMgQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIge1xuICAgIHJlZkNoaWxkKCkgeyB9XG4gICAgdW5yZWZDaGlsZCgpIHsgfVxufVxuZXhwb3J0cy5DaGFubmVsekNoaWxkcmVuVHJhY2tlclN0dWIgPSBDaGFubmVsekNoaWxkcmVuVHJhY2tlclN0dWI7XG5jbGFzcyBDaGFubmVsekNhbGxUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWxsc1N0YXJ0ZWQgPSAwO1xuICAgICAgICB0aGlzLmNhbGxzU3VjY2VlZGVkID0gMDtcbiAgICAgICAgdGhpcy5jYWxsc0ZhaWxlZCA9IDA7XG4gICAgICAgIHRoaXMubGFzdENhbGxTdGFydGVkVGltZXN0YW1wID0gbnVsbDtcbiAgICB9XG4gICAgYWRkQ2FsbFN0YXJ0ZWQoKSB7XG4gICAgICAgIHRoaXMuY2FsbHNTdGFydGVkICs9IDE7XG4gICAgICAgIHRoaXMubGFzdENhbGxTdGFydGVkVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICB9XG4gICAgYWRkQ2FsbFN1Y2NlZWRlZCgpIHtcbiAgICAgICAgdGhpcy5jYWxsc1N1Y2NlZWRlZCArPSAxO1xuICAgIH1cbiAgICBhZGRDYWxsRmFpbGVkKCkge1xuICAgICAgICB0aGlzLmNhbGxzRmFpbGVkICs9IDE7XG4gICAgfVxufVxuZXhwb3J0cy5DaGFubmVsekNhbGxUcmFja2VyID0gQ2hhbm5lbHpDYWxsVHJhY2tlcjtcbmNsYXNzIENoYW5uZWx6Q2FsbFRyYWNrZXJTdHViIGV4dGVuZHMgQ2hhbm5lbHpDYWxsVHJhY2tlciB7XG4gICAgYWRkQ2FsbFN0YXJ0ZWQoKSB7IH1cbiAgICBhZGRDYWxsU3VjY2VlZGVkKCkgeyB9XG4gICAgYWRkQ2FsbEZhaWxlZCgpIHsgfVxufVxuZXhwb3J0cy5DaGFubmVsekNhbGxUcmFja2VyU3R1YiA9IENoYW5uZWx6Q2FsbFRyYWNrZXJTdHViO1xuY29uc3QgZW50aXR5TWFwcyA9IHtcbiAgICBbXCJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuY2hhbm5lbCAqL106IG5ldyBvcmRlcmVkX21hcF8xLk9yZGVyZWRNYXAoKSxcbiAgICBbXCJzdWJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuc3ViY2hhbm5lbCAqL106IG5ldyBvcmRlcmVkX21hcF8xLk9yZGVyZWRNYXAoKSxcbiAgICBbXCJzZXJ2ZXJcIiAvKiBFbnRpdHlUeXBlcy5zZXJ2ZXIgKi9dOiBuZXcgb3JkZXJlZF9tYXBfMS5PcmRlcmVkTWFwKCksXG4gICAgW1wic29ja2V0XCIgLyogRW50aXR5VHlwZXMuc29ja2V0ICovXTogbmV3IG9yZGVyZWRfbWFwXzEuT3JkZXJlZE1hcCgpLFxufTtcbmNvbnN0IGdlbmVyYXRlUmVnaXN0ZXJGbiA9IChraW5kKSA9PiB7XG4gICAgbGV0IG5leHRJZCA9IDE7XG4gICAgZnVuY3Rpb24gZ2V0TmV4dElkKCkge1xuICAgICAgICByZXR1cm4gbmV4dElkKys7XG4gICAgfVxuICAgIGNvbnN0IGVudGl0eU1hcCA9IGVudGl0eU1hcHNba2luZF07XG4gICAgcmV0dXJuIChuYW1lLCBnZXRJbmZvLCBjaGFubmVsekVuYWJsZWQpID0+IHtcbiAgICAgICAgY29uc3QgaWQgPSBnZXROZXh0SWQoKTtcbiAgICAgICAgY29uc3QgcmVmID0geyBpZCwgbmFtZSwga2luZCB9O1xuICAgICAgICBpZiAoY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICBlbnRpdHlNYXAuc2V0RWxlbWVudChpZCwgeyByZWYsIGdldEluZm8gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZjtcbiAgICB9O1xufTtcbmV4cG9ydHMucmVnaXN0ZXJDaGFubmVsekNoYW5uZWwgPSBnZW5lcmF0ZVJlZ2lzdGVyRm4oXCJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuY2hhbm5lbCAqLyk7XG5leHBvcnRzLnJlZ2lzdGVyQ2hhbm5lbHpTdWJjaGFubmVsID0gZ2VuZXJhdGVSZWdpc3RlckZuKFwic3ViY2hhbm5lbFwiIC8qIEVudGl0eVR5cGVzLnN1YmNoYW5uZWwgKi8pO1xuZXhwb3J0cy5yZWdpc3RlckNoYW5uZWx6U2VydmVyID0gZ2VuZXJhdGVSZWdpc3RlckZuKFwic2VydmVyXCIgLyogRW50aXR5VHlwZXMuc2VydmVyICovKTtcbmV4cG9ydHMucmVnaXN0ZXJDaGFubmVselNvY2tldCA9IGdlbmVyYXRlUmVnaXN0ZXJGbihcInNvY2tldFwiIC8qIEVudGl0eVR5cGVzLnNvY2tldCAqLyk7XG5mdW5jdGlvbiB1bnJlZ2lzdGVyQ2hhbm5lbHpSZWYocmVmKSB7XG4gICAgZW50aXR5TWFwc1tyZWYua2luZF0uZXJhc2VFbGVtZW50QnlLZXkocmVmLmlkKTtcbn1cbi8qKlxuICogUGFyc2UgYSBzaW5nbGUgc2VjdGlvbiBvZiBhbiBJUHY2IGFkZHJlc3MgYXMgdHdvIGJ5dGVzXG4gKiBAcGFyYW0gYWRkcmVzc1NlY3Rpb24gQSBoZXhhZGVjaW1hbCBzdHJpbmcgb2YgbGVuZ3RoIHVwIHRvIDRcbiAqIEByZXR1cm5zIFRoZSBwYWlyIG9mIGJ5dGVzIHJlcHJlc2VudGluZyB0aGlzIGFkZHJlc3Mgc2VjdGlvblxuICovXG5mdW5jdGlvbiBwYXJzZUlQdjZTZWN0aW9uKGFkZHJlc3NTZWN0aW9uKSB7XG4gICAgY29uc3QgbnVtYmVyVmFsdWUgPSBOdW1iZXIucGFyc2VJbnQoYWRkcmVzc1NlY3Rpb24sIDE2KTtcbiAgICByZXR1cm4gWyhudW1iZXJWYWx1ZSAvIDI1NikgfCAwLCBudW1iZXJWYWx1ZSAlIDI1Nl07XG59XG4vKipcbiAqIFBhcnNlIGEgY2h1bmsgb2YgYW4gSVB2NiBhZGRyZXNzIHN0cmluZyB0byBzb21lIG51bWJlciBvZiBieXRlc1xuICogQHBhcmFtIGFkZHJlc3NDaHVuayBTb21lIG51bWJlciBvZiBzZWdtZW50cyBvZiB1cCB0byA0IGhleGFkZWNpbWFsXG4gKiAgIGNoYXJhY3RlcnMgZWFjaCwgam9pbmVkIGJ5IGNvbG9ucy5cbiAqIEByZXR1cm5zIFRoZSBsaXN0IG9mIGJ5dGVzIHJlcHJlc2VudGluZyB0aGlzIGFkZHJlc3MgY2h1bmtcbiAqL1xuZnVuY3Rpb24gcGFyc2VJUHY2Q2h1bmsoYWRkcmVzc0NodW5rKSB7XG4gICAgaWYgKGFkZHJlc3NDaHVuayA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBjb25zdCBieXRlUGFpcnMgPSBhZGRyZXNzQ2h1bmtcbiAgICAgICAgLnNwbGl0KCc6JylcbiAgICAgICAgLm1hcChzZWN0aW9uID0+IHBhcnNlSVB2NlNlY3Rpb24oc2VjdGlvbikpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHJldHVybiByZXN1bHQuY29uY2F0KC4uLmJ5dGVQYWlycyk7XG59XG5mdW5jdGlvbiBpc0lQdjZNYXBwZWRJUHY0KGlwQWRkcmVzcykge1xuICAgIHJldHVybiAoMCwgbmV0XzEuaXNJUHY2KShpcEFkZHJlc3MpICYmIGlwQWRkcmVzcy50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJzo6ZmZmZjonKSAmJiAoMCwgbmV0XzEuaXNJUHY0KShpcEFkZHJlc3Muc3Vic3RyaW5nKDcpKTtcbn1cbi8qKlxuICogUHJlcmVxdWlzaXRlOiBpc0lQdjQoaXBBZGRyZXNzKVxuICogQHBhcmFtIGlwQWRkcmVzc1xuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gaXB2NEFkZHJlc3NTdHJpbmdUb0J1ZmZlcihpcEFkZHJlc3MpIHtcbiAgICByZXR1cm4gQnVmZmVyLmZyb20oVWludDhBcnJheS5mcm9tKGlwQWRkcmVzcy5zcGxpdCgnLicpLm1hcChzZWdtZW50ID0+IE51bWJlci5wYXJzZUludChzZWdtZW50KSkpKTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gSVB2NCBvciBJUHY2IGFkZHJlc3MgZnJvbSBzdHJpbmcgcmVwcmVzZW50YXRpb24gdG8gYmluYXJ5XG4gKiByZXByZXNlbnRhdGlvblxuICogQHBhcmFtIGlwQWRkcmVzcyBhbiBJUCBhZGRyZXNzIGluIHN0YW5kYXJkIElQdjQgb3IgSVB2NiB0ZXh0IGZvcm1hdFxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gaXBBZGRyZXNzU3RyaW5nVG9CdWZmZXIoaXBBZGRyZXNzKSB7XG4gICAgaWYgKCgwLCBuZXRfMS5pc0lQdjQpKGlwQWRkcmVzcykpIHtcbiAgICAgICAgcmV0dXJuIGlwdjRBZGRyZXNzU3RyaW5nVG9CdWZmZXIoaXBBZGRyZXNzKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNJUHY2TWFwcGVkSVB2NChpcEFkZHJlc3MpKSB7XG4gICAgICAgIHJldHVybiBpcHY0QWRkcmVzc1N0cmluZ1RvQnVmZmVyKGlwQWRkcmVzcy5zdWJzdHJpbmcoNykpO1xuICAgIH1cbiAgICBlbHNlIGlmICgoMCwgbmV0XzEuaXNJUHY2KShpcEFkZHJlc3MpKSB7XG4gICAgICAgIGxldCBsZWZ0U2VjdGlvbjtcbiAgICAgICAgbGV0IHJpZ2h0U2VjdGlvbjtcbiAgICAgICAgY29uc3QgZG91YmxlQ29sb25JbmRleCA9IGlwQWRkcmVzcy5pbmRleE9mKCc6OicpO1xuICAgICAgICBpZiAoZG91YmxlQ29sb25JbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgIGxlZnRTZWN0aW9uID0gaXBBZGRyZXNzO1xuICAgICAgICAgICAgcmlnaHRTZWN0aW9uID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZWZ0U2VjdGlvbiA9IGlwQWRkcmVzcy5zdWJzdHJpbmcoMCwgZG91YmxlQ29sb25JbmRleCk7XG4gICAgICAgICAgICByaWdodFNlY3Rpb24gPSBpcEFkZHJlc3Muc3Vic3RyaW5nKGRvdWJsZUNvbG9uSW5kZXggKyAyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZWZ0QnVmZmVyID0gQnVmZmVyLmZyb20ocGFyc2VJUHY2Q2h1bmsobGVmdFNlY3Rpb24pKTtcbiAgICAgICAgY29uc3QgcmlnaHRCdWZmZXIgPSBCdWZmZXIuZnJvbShwYXJzZUlQdjZDaHVuayhyaWdodFNlY3Rpb24pKTtcbiAgICAgICAgY29uc3QgbWlkZGxlQnVmZmVyID0gQnVmZmVyLmFsbG9jKDE2IC0gbGVmdEJ1ZmZlci5sZW5ndGggLSByaWdodEJ1ZmZlci5sZW5ndGgsIDApO1xuICAgICAgICByZXR1cm4gQnVmZmVyLmNvbmNhdChbbGVmdEJ1ZmZlciwgbWlkZGxlQnVmZmVyLCByaWdodEJ1ZmZlcl0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gY29ubmVjdGl2aXR5U3RhdGVUb01lc3NhZ2Uoc3RhdGUpIHtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORzpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdDT05ORUNUSU5HJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdJRExFJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFk6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnUkVBRFknLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTjpcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdGU6ICdTSFVURE9XTicsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogJ1RSQU5TSUVOVF9GQUlMVVJFJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHN0YXRlOiAnVU5LTk9XTicsXG4gICAgICAgICAgICB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRhdGVUb1Byb3RvVGltZXN0YW1wKGRhdGUpIHtcbiAgICBpZiAoIWRhdGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IG1pbGxpc1NpbmNlRXBvY2ggPSBkYXRlLmdldFRpbWUoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiAobWlsbGlzU2luY2VFcG9jaCAvIDEwMDApIHwgMCxcbiAgICAgICAgbmFub3M6IChtaWxsaXNTaW5jZUVwb2NoICUgMTAwMCkgKiAxMDAwMDAwLFxuICAgIH07XG59XG5mdW5jdGlvbiBnZXRDaGFubmVsTWVzc2FnZShjaGFubmVsRW50cnkpIHtcbiAgICBjb25zdCByZXNvbHZlZEluZm8gPSBjaGFubmVsRW50cnkuZ2V0SW5mbygpO1xuICAgIGNvbnN0IGNoYW5uZWxSZWYgPSBbXTtcbiAgICBjb25zdCBzdWJjaGFubmVsUmVmID0gW107XG4gICAgcmVzb2x2ZWRJbmZvLmNoaWxkcmVuLmNoYW5uZWxzLmZvckVhY2goZWwgPT4ge1xuICAgICAgICBjaGFubmVsUmVmLnB1c2goY2hhbm5lbFJlZlRvTWVzc2FnZShlbFsxXS5yZWYpKTtcbiAgICB9KTtcbiAgICByZXNvbHZlZEluZm8uY2hpbGRyZW4uc3ViY2hhbm5lbHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIHN1YmNoYW5uZWxSZWYucHVzaChzdWJjaGFubmVsUmVmVG9NZXNzYWdlKGVsWzFdLnJlZikpO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZjogY2hhbm5lbFJlZlRvTWVzc2FnZShjaGFubmVsRW50cnkucmVmKSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdGFyZ2V0OiByZXNvbHZlZEluZm8udGFyZ2V0LFxuICAgICAgICAgICAgc3RhdGU6IGNvbm5lY3Rpdml0eVN0YXRlVG9NZXNzYWdlKHJlc29sdmVkSW5mby5zdGF0ZSksXG4gICAgICAgICAgICBjYWxsc19zdGFydGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNTdGFydGVkLFxuICAgICAgICAgICAgY2FsbHNfc3VjY2VlZGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNTdWNjZWVkZWQsXG4gICAgICAgICAgICBjYWxsc19mYWlsZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc0ZhaWxlZCxcbiAgICAgICAgICAgIGxhc3RfY2FsbF9zdGFydGVkX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCksXG4gICAgICAgICAgICB0cmFjZTogcmVzb2x2ZWRJbmZvLnRyYWNlLmdldFRyYWNlTWVzc2FnZSgpLFxuICAgICAgICB9LFxuICAgICAgICBjaGFubmVsX3JlZjogY2hhbm5lbFJlZixcbiAgICAgICAgc3ViY2hhbm5lbF9yZWY6IHN1YmNoYW5uZWxSZWYsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIEdldENoYW5uZWwoY2FsbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBjaGFubmVsSWQgPSBwYXJzZUludChjYWxsLnJlcXVlc3QuY2hhbm5lbF9pZCwgMTApO1xuICAgIGNvbnN0IGNoYW5uZWxFbnRyeSA9IGVudGl0eU1hcHNbXCJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuY2hhbm5lbCAqL10uZ2V0RWxlbWVudEJ5S2V5KGNoYW5uZWxJZCk7XG4gICAgaWYgKGNoYW5uZWxFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5OT1RfRk9VTkQsXG4gICAgICAgICAgICBkZXRhaWxzOiAnTm8gY2hhbm5lbCBkYXRhIGZvdW5kIGZvciBpZCAnICsgY2hhbm5lbElkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCB7IGNoYW5uZWw6IGdldENoYW5uZWxNZXNzYWdlKGNoYW5uZWxFbnRyeSkgfSk7XG59XG5mdW5jdGlvbiBHZXRUb3BDaGFubmVscyhjYWxsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IG1heFJlc3VsdHMgPSBwYXJzZUludChjYWxsLnJlcXVlc3QubWF4X3Jlc3VsdHMsIDEwKSB8fCBERUZBVUxUX01BWF9SRVNVTFRTO1xuICAgIGNvbnN0IHJlc3VsdExpc3QgPSBbXTtcbiAgICBjb25zdCBzdGFydElkID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnN0YXJ0X2NoYW5uZWxfaWQsIDEwKTtcbiAgICBjb25zdCBjaGFubmVsRW50cmllcyA9IGVudGl0eU1hcHNbXCJjaGFubmVsXCIgLyogRW50aXR5VHlwZXMuY2hhbm5lbCAqL107XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gY2hhbm5lbEVudHJpZXMubG93ZXJCb3VuZChzdGFydElkKTsgIWkuZXF1YWxzKGNoYW5uZWxFbnRyaWVzLmVuZCgpKSAmJiByZXN1bHRMaXN0Lmxlbmd0aCA8IG1heFJlc3VsdHM7IGkgPSBpLm5leHQoKSkge1xuICAgICAgICByZXN1bHRMaXN0LnB1c2goZ2V0Q2hhbm5lbE1lc3NhZ2UoaS5wb2ludGVyWzFdKSk7XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgY2hhbm5lbDogcmVzdWx0TGlzdCxcbiAgICAgICAgZW5kOiBpLmVxdWFscyhjaGFubmVsRW50cmllcy5lbmQoKSksXG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRTZXJ2ZXJNZXNzYWdlKHNlcnZlckVudHJ5KSB7XG4gICAgY29uc3QgcmVzb2x2ZWRJbmZvID0gc2VydmVyRW50cnkuZ2V0SW5mbygpO1xuICAgIGNvbnN0IGxpc3RlblNvY2tldCA9IFtdO1xuICAgIHJlc29sdmVkSW5mby5saXN0ZW5lckNoaWxkcmVuLnNvY2tldHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGxpc3RlblNvY2tldC5wdXNoKHNvY2tldFJlZlRvTWVzc2FnZShlbFsxXS5yZWYpKTtcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICByZWY6IHNlcnZlclJlZlRvTWVzc2FnZShzZXJ2ZXJFbnRyeS5yZWYpLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBjYWxsc19zdGFydGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNTdGFydGVkLFxuICAgICAgICAgICAgY2FsbHNfc3VjY2VlZGVkOiByZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIuY2FsbHNTdWNjZWVkZWQsXG4gICAgICAgICAgICBjYWxsc19mYWlsZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc0ZhaWxlZCxcbiAgICAgICAgICAgIGxhc3RfY2FsbF9zdGFydGVkX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCksXG4gICAgICAgICAgICB0cmFjZTogcmVzb2x2ZWRJbmZvLnRyYWNlLmdldFRyYWNlTWVzc2FnZSgpLFxuICAgICAgICB9LFxuICAgICAgICBsaXN0ZW5fc29ja2V0OiBsaXN0ZW5Tb2NrZXQsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIEdldFNlcnZlcihjYWxsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHNlcnZlcklkID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnNlcnZlcl9pZCwgMTApO1xuICAgIGNvbnN0IHNlcnZlckVudHJpZXMgPSBlbnRpdHlNYXBzW1wic2VydmVyXCIgLyogRW50aXR5VHlwZXMuc2VydmVyICovXTtcbiAgICBjb25zdCBzZXJ2ZXJFbnRyeSA9IHNlcnZlckVudHJpZXMuZ2V0RWxlbWVudEJ5S2V5KHNlcnZlcklkKTtcbiAgICBpZiAoc2VydmVyRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuTk9UX0ZPVU5ELFxuICAgICAgICAgICAgZGV0YWlsczogJ05vIHNlcnZlciBkYXRhIGZvdW5kIGZvciBpZCAnICsgc2VydmVySWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHsgc2VydmVyOiBnZXRTZXJ2ZXJNZXNzYWdlKHNlcnZlckVudHJ5KSB9KTtcbn1cbmZ1bmN0aW9uIEdldFNlcnZlcnMoY2FsbCwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBtYXhSZXN1bHRzID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0Lm1heF9yZXN1bHRzLCAxMCkgfHwgREVGQVVMVF9NQVhfUkVTVUxUUztcbiAgICBjb25zdCBzdGFydElkID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnN0YXJ0X3NlcnZlcl9pZCwgMTApO1xuICAgIGNvbnN0IHNlcnZlckVudHJpZXMgPSBlbnRpdHlNYXBzW1wic2VydmVyXCIgLyogRW50aXR5VHlwZXMuc2VydmVyICovXTtcbiAgICBjb25zdCByZXN1bHRMaXN0ID0gW107XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gc2VydmVyRW50cmllcy5sb3dlckJvdW5kKHN0YXJ0SWQpOyAhaS5lcXVhbHMoc2VydmVyRW50cmllcy5lbmQoKSkgJiYgcmVzdWx0TGlzdC5sZW5ndGggPCBtYXhSZXN1bHRzOyBpID0gaS5uZXh0KCkpIHtcbiAgICAgICAgcmVzdWx0TGlzdC5wdXNoKGdldFNlcnZlck1lc3NhZ2UoaS5wb2ludGVyWzFdKSk7XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgc2VydmVyOiByZXN1bHRMaXN0LFxuICAgICAgICBlbmQ6IGkuZXF1YWxzKHNlcnZlckVudHJpZXMuZW5kKCkpLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gR2V0U3ViY2hhbm5lbChjYWxsLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHN1YmNoYW5uZWxJZCA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5zdWJjaGFubmVsX2lkLCAxMCk7XG4gICAgY29uc3Qgc3ViY2hhbm5lbEVudHJ5ID0gZW50aXR5TWFwc1tcInN1YmNoYW5uZWxcIiAvKiBFbnRpdHlUeXBlcy5zdWJjaGFubmVsICovXS5nZXRFbGVtZW50QnlLZXkoc3ViY2hhbm5lbElkKTtcbiAgICBpZiAoc3ViY2hhbm5lbEVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2FsbGJhY2soe1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk5PVF9GT1VORCxcbiAgICAgICAgICAgIGRldGFpbHM6ICdObyBzdWJjaGFubmVsIGRhdGEgZm91bmQgZm9yIGlkICcgKyBzdWJjaGFubmVsSWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVkSW5mbyA9IHN1YmNoYW5uZWxFbnRyeS5nZXRJbmZvKCk7XG4gICAgY29uc3QgbGlzdGVuU29ja2V0ID0gW107XG4gICAgcmVzb2x2ZWRJbmZvLmNoaWxkcmVuLnNvY2tldHMuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgIGxpc3RlblNvY2tldC5wdXNoKHNvY2tldFJlZlRvTWVzc2FnZShlbFsxXS5yZWYpKTtcbiAgICB9KTtcbiAgICBjb25zdCBzdWJjaGFubmVsTWVzc2FnZSA9IHtcbiAgICAgICAgcmVmOiBzdWJjaGFubmVsUmVmVG9NZXNzYWdlKHN1YmNoYW5uZWxFbnRyeS5yZWYpLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0YXJnZXQ6IHJlc29sdmVkSW5mby50YXJnZXQsXG4gICAgICAgICAgICBzdGF0ZTogY29ubmVjdGl2aXR5U3RhdGVUb01lc3NhZ2UocmVzb2x2ZWRJbmZvLnN0YXRlKSxcbiAgICAgICAgICAgIGNhbGxzX3N0YXJ0ZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N0YXJ0ZWQsXG4gICAgICAgICAgICBjYWxsc19zdWNjZWVkZWQ6IHJlc29sdmVkSW5mby5jYWxsVHJhY2tlci5jYWxsc1N1Y2NlZWRlZCxcbiAgICAgICAgICAgIGNhbGxzX2ZhaWxlZDogcmVzb2x2ZWRJbmZvLmNhbGxUcmFja2VyLmNhbGxzRmFpbGVkLFxuICAgICAgICAgICAgbGFzdF9jYWxsX3N0YXJ0ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8uY2FsbFRyYWNrZXIubGFzdENhbGxTdGFydGVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIHRyYWNlOiByZXNvbHZlZEluZm8udHJhY2UuZ2V0VHJhY2VNZXNzYWdlKCksXG4gICAgICAgIH0sXG4gICAgICAgIHNvY2tldF9yZWY6IGxpc3RlblNvY2tldCxcbiAgICB9O1xuICAgIGNhbGxiYWNrKG51bGwsIHsgc3ViY2hhbm5lbDogc3ViY2hhbm5lbE1lc3NhZ2UgfSk7XG59XG5mdW5jdGlvbiBzdWJjaGFubmVsQWRkcmVzc1RvQWRkcmVzc01lc3NhZ2Uoc3ViY2hhbm5lbEFkZHJlc3MpIHtcbiAgICB2YXIgX2E7XG4gICAgaWYgKCgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5pc1RjcFN1YmNoYW5uZWxBZGRyZXNzKShzdWJjaGFubmVsQWRkcmVzcykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZHJlc3M6ICd0Y3BpcF9hZGRyZXNzJyxcbiAgICAgICAgICAgIHRjcGlwX2FkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICBpcF9hZGRyZXNzOiAoX2EgPSBpcEFkZHJlc3NTdHJpbmdUb0J1ZmZlcihzdWJjaGFubmVsQWRkcmVzcy5ob3N0KSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHBvcnQ6IHN1YmNoYW5uZWxBZGRyZXNzLnBvcnQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFkZHJlc3M6ICd1ZHNfYWRkcmVzcycsXG4gICAgICAgICAgICB1ZHNfYWRkcmVzczoge1xuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBzdWJjaGFubmVsQWRkcmVzcy5wYXRoLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBHZXRTb2NrZXQoY2FsbCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgIGNvbnN0IHNvY2tldElkID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0LnNvY2tldF9pZCwgMTApO1xuICAgIGNvbnN0IHNvY2tldEVudHJ5ID0gZW50aXR5TWFwc1tcInNvY2tldFwiIC8qIEVudGl0eVR5cGVzLnNvY2tldCAqL10uZ2V0RWxlbWVudEJ5S2V5KHNvY2tldElkKTtcbiAgICBpZiAoc29ja2V0RW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjYWxsYmFjayh7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuTk9UX0ZPVU5ELFxuICAgICAgICAgICAgZGV0YWlsczogJ05vIHNvY2tldCBkYXRhIGZvdW5kIGZvciBpZCAnICsgc29ja2V0SWQsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlc29sdmVkSW5mbyA9IHNvY2tldEVudHJ5LmdldEluZm8oKTtcbiAgICBjb25zdCBzZWN1cml0eU1lc3NhZ2UgPSByZXNvbHZlZEluZm8uc2VjdXJpdHlcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBtb2RlbDogJ3RscycsXG4gICAgICAgICAgICB0bHM6IHtcbiAgICAgICAgICAgICAgICBjaXBoZXJfc3VpdGU6IHJlc29sdmVkSW5mby5zZWN1cml0eS5jaXBoZXJTdWl0ZVN0YW5kYXJkTmFtZVxuICAgICAgICAgICAgICAgICAgICA/ICdzdGFuZGFyZF9uYW1lJ1xuICAgICAgICAgICAgICAgICAgICA6ICdvdGhlcl9uYW1lJyxcbiAgICAgICAgICAgICAgICBzdGFuZGFyZF9uYW1lOiAoX2EgPSByZXNvbHZlZEluZm8uc2VjdXJpdHkuY2lwaGVyU3VpdGVTdGFuZGFyZE5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBvdGhlcl9uYW1lOiAoX2IgPSByZXNvbHZlZEluZm8uc2VjdXJpdHkuY2lwaGVyU3VpdGVPdGhlck5hbWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBsb2NhbF9jZXJ0aWZpY2F0ZTogKF9jID0gcmVzb2x2ZWRJbmZvLnNlY3VyaXR5LmxvY2FsQ2VydGlmaWNhdGUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICByZW1vdGVfY2VydGlmaWNhdGU6IChfZCA9IHJlc29sdmVkSW5mby5zZWN1cml0eS5yZW1vdGVDZXJ0aWZpY2F0ZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfVxuICAgICAgICA6IG51bGw7XG4gICAgY29uc3Qgc29ja2V0TWVzc2FnZSA9IHtcbiAgICAgICAgcmVmOiBzb2NrZXRSZWZUb01lc3NhZ2Uoc29ja2V0RW50cnkucmVmKSxcbiAgICAgICAgbG9jYWw6IHJlc29sdmVkSW5mby5sb2NhbEFkZHJlc3NcbiAgICAgICAgICAgID8gc3ViY2hhbm5lbEFkZHJlc3NUb0FkZHJlc3NNZXNzYWdlKHJlc29sdmVkSW5mby5sb2NhbEFkZHJlc3MpXG4gICAgICAgICAgICA6IG51bGwsXG4gICAgICAgIHJlbW90ZTogcmVzb2x2ZWRJbmZvLnJlbW90ZUFkZHJlc3NcbiAgICAgICAgICAgID8gc3ViY2hhbm5lbEFkZHJlc3NUb0FkZHJlc3NNZXNzYWdlKHJlc29sdmVkSW5mby5yZW1vdGVBZGRyZXNzKVxuICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICByZW1vdGVfbmFtZTogKF9lID0gcmVzb2x2ZWRJbmZvLnJlbW90ZU5hbWUpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHVuZGVmaW5lZCxcbiAgICAgICAgc2VjdXJpdHk6IHNlY3VyaXR5TWVzc2FnZSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICAga2VlcF9hbGl2ZXNfc2VudDogcmVzb2x2ZWRJbmZvLmtlZXBBbGl2ZXNTZW50LFxuICAgICAgICAgICAgc3RyZWFtc19zdGFydGVkOiByZXNvbHZlZEluZm8uc3RyZWFtc1N0YXJ0ZWQsXG4gICAgICAgICAgICBzdHJlYW1zX3N1Y2NlZWRlZDogcmVzb2x2ZWRJbmZvLnN0cmVhbXNTdWNjZWVkZWQsXG4gICAgICAgICAgICBzdHJlYW1zX2ZhaWxlZDogcmVzb2x2ZWRJbmZvLnN0cmVhbXNGYWlsZWQsXG4gICAgICAgICAgICBsYXN0X2xvY2FsX3N0cmVhbV9jcmVhdGVkX3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmxhc3RMb2NhbFN0cmVhbUNyZWF0ZWRUaW1lc3RhbXApLFxuICAgICAgICAgICAgbGFzdF9yZW1vdGVfc3RyZWFtX2NyZWF0ZWRfdGltZXN0YW1wOiBkYXRlVG9Qcm90b1RpbWVzdGFtcChyZXNvbHZlZEluZm8ubGFzdFJlbW90ZVN0cmVhbUNyZWF0ZWRUaW1lc3RhbXApLFxuICAgICAgICAgICAgbWVzc2FnZXNfcmVjZWl2ZWQ6IHJlc29sdmVkSW5mby5tZXNzYWdlc1JlY2VpdmVkLFxuICAgICAgICAgICAgbWVzc2FnZXNfc2VudDogcmVzb2x2ZWRJbmZvLm1lc3NhZ2VzU2VudCxcbiAgICAgICAgICAgIGxhc3RfbWVzc2FnZV9yZWNlaXZlZF90aW1lc3RhbXA6IGRhdGVUb1Byb3RvVGltZXN0YW1wKHJlc29sdmVkSW5mby5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wKSxcbiAgICAgICAgICAgIGxhc3RfbWVzc2FnZV9zZW50X3RpbWVzdGFtcDogZGF0ZVRvUHJvdG9UaW1lc3RhbXAocmVzb2x2ZWRJbmZvLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCksXG4gICAgICAgICAgICBsb2NhbF9mbG93X2NvbnRyb2xfd2luZG93OiByZXNvbHZlZEluZm8ubG9jYWxGbG93Q29udHJvbFdpbmRvd1xuICAgICAgICAgICAgICAgID8geyB2YWx1ZTogcmVzb2x2ZWRJbmZvLmxvY2FsRmxvd0NvbnRyb2xXaW5kb3cgfVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgIHJlbW90ZV9mbG93X2NvbnRyb2xfd2luZG93OiByZXNvbHZlZEluZm8ucmVtb3RlRmxvd0NvbnRyb2xXaW5kb3dcbiAgICAgICAgICAgICAgICA/IHsgdmFsdWU6IHJlc29sdmVkSW5mby5yZW1vdGVGbG93Q29udHJvbFdpbmRvdyB9XG4gICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgY2FsbGJhY2sobnVsbCwgeyBzb2NrZXQ6IHNvY2tldE1lc3NhZ2UgfSk7XG59XG5mdW5jdGlvbiBHZXRTZXJ2ZXJTb2NrZXRzKGNhbGwsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc2VydmVySWQgPSBwYXJzZUludChjYWxsLnJlcXVlc3Quc2VydmVyX2lkLCAxMCk7XG4gICAgY29uc3Qgc2VydmVyRW50cnkgPSBlbnRpdHlNYXBzW1wic2VydmVyXCIgLyogRW50aXR5VHlwZXMuc2VydmVyICovXS5nZXRFbGVtZW50QnlLZXkoc2VydmVySWQpO1xuICAgIGlmIChzZXJ2ZXJFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5OT1RfRk9VTkQsXG4gICAgICAgICAgICBkZXRhaWxzOiAnTm8gc2VydmVyIGRhdGEgZm91bmQgZm9yIGlkICcgKyBzZXJ2ZXJJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnRJZCA9IHBhcnNlSW50KGNhbGwucmVxdWVzdC5zdGFydF9zb2NrZXRfaWQsIDEwKTtcbiAgICBjb25zdCBtYXhSZXN1bHRzID0gcGFyc2VJbnQoY2FsbC5yZXF1ZXN0Lm1heF9yZXN1bHRzLCAxMCkgfHwgREVGQVVMVF9NQVhfUkVTVUxUUztcbiAgICBjb25zdCByZXNvbHZlZEluZm8gPSBzZXJ2ZXJFbnRyeS5nZXRJbmZvKCk7XG4gICAgLy8gSWYgd2Ugd2FudGVkIHRvIGluY2x1ZGUgbGlzdGVuZXIgc29ja2V0cyBpbiB0aGUgcmVzdWx0LCB0aGlzIGxpbmUgd291bGRcbiAgICAvLyBpbnN0ZWFkIHNheVxuICAgIC8vIGNvbnN0IGFsbFNvY2tldHMgPSByZXNvbHZlZEluZm8ubGlzdGVuZXJDaGlsZHJlbi5zb2NrZXRzLmNvbmNhdChyZXNvbHZlZEluZm8uc2Vzc2lvbkNoaWxkcmVuLnNvY2tldHMpLnNvcnQoKHJlZjEsIHJlZjIpID0+IHJlZjEuaWQgLSByZWYyLmlkKTtcbiAgICBjb25zdCBhbGxTb2NrZXRzID0gcmVzb2x2ZWRJbmZvLnNlc3Npb25DaGlsZHJlbi5zb2NrZXRzO1xuICAgIGNvbnN0IHJlc3VsdExpc3QgPSBbXTtcbiAgICBsZXQgaTtcbiAgICBmb3IgKGkgPSBhbGxTb2NrZXRzLmxvd2VyQm91bmQoc3RhcnRJZCk7ICFpLmVxdWFscyhhbGxTb2NrZXRzLmVuZCgpKSAmJiByZXN1bHRMaXN0Lmxlbmd0aCA8IG1heFJlc3VsdHM7IGkgPSBpLm5leHQoKSkge1xuICAgICAgICByZXN1bHRMaXN0LnB1c2goc29ja2V0UmVmVG9NZXNzYWdlKGkucG9pbnRlclsxXS5yZWYpKTtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwge1xuICAgICAgICBzb2NrZXRfcmVmOiByZXN1bHRMaXN0LFxuICAgICAgICBlbmQ6IGkuZXF1YWxzKGFsbFNvY2tldHMuZW5kKCkpLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0Q2hhbm5lbHpIYW5kbGVycygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBHZXRDaGFubmVsLFxuICAgICAgICBHZXRUb3BDaGFubmVscyxcbiAgICAgICAgR2V0U2VydmVyLFxuICAgICAgICBHZXRTZXJ2ZXJzLFxuICAgICAgICBHZXRTdWJjaGFubmVsLFxuICAgICAgICBHZXRTb2NrZXQsXG4gICAgICAgIEdldFNlcnZlclNvY2tldHMsXG4gICAgfTtcbn1cbmxldCBsb2FkZWRDaGFubmVsekRlZmluaXRpb24gPSBudWxsO1xuZnVuY3Rpb24gZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbigpIHtcbiAgICBpZiAobG9hZGVkQ2hhbm5lbHpEZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiBsb2FkZWRDaGFubmVsekRlZmluaXRpb247XG4gICAgfVxuICAgIC8qIFRoZSBwdXJwb3NlIG9mIHRoaXMgY29tcGxleGl0eSBpcyB0byBhdm9pZCBsb2FkaW5nIEBncnBjL3Byb3RvLWxvYWRlciBhdFxuICAgICAqIHJ1bnRpbWUgZm9yIHVzZXJzIHdobyB3aWxsIG5vdCB1c2UvZW5hYmxlIGNoYW5uZWx6LiAqL1xuICAgIGNvbnN0IGxvYWRlckxvYWRTeW5jID0gcmVxdWlyZSgnQGdycGMvcHJvdG8tbG9hZGVyJylcbiAgICAgICAgLmxvYWRTeW5jO1xuICAgIGNvbnN0IGxvYWRlZFByb3RvID0gbG9hZGVyTG9hZFN5bmMoJ2NoYW5uZWx6LnByb3RvJywge1xuICAgICAgICBrZWVwQ2FzZTogdHJ1ZSxcbiAgICAgICAgbG9uZ3M6IFN0cmluZyxcbiAgICAgICAgZW51bXM6IFN0cmluZyxcbiAgICAgICAgZGVmYXVsdHM6IHRydWUsXG4gICAgICAgIG9uZW9mczogdHJ1ZSxcbiAgICAgICAgaW5jbHVkZURpcnM6IFtgJHtfX2Rpcm5hbWV9Ly4uLy4uL3Byb3RvYF0sXG4gICAgfSk7XG4gICAgY29uc3QgY2hhbm5lbHpHcnBjT2JqZWN0ID0gKDAsIG1ha2VfY2xpZW50XzEubG9hZFBhY2thZ2VEZWZpbml0aW9uKShsb2FkZWRQcm90byk7XG4gICAgbG9hZGVkQ2hhbm5lbHpEZWZpbml0aW9uID1cbiAgICAgICAgY2hhbm5lbHpHcnBjT2JqZWN0LmdycGMuY2hhbm5lbHoudjEuQ2hhbm5lbHouc2VydmljZTtcbiAgICByZXR1cm4gbG9hZGVkQ2hhbm5lbHpEZWZpbml0aW9uO1xufVxuZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgKDAsIGFkbWluXzEucmVnaXN0ZXJBZG1pblNlcnZpY2UpKGdldENoYW5uZWx6U2VydmljZURlZmluaXRpb24sIGdldENoYW5uZWx6SGFuZGxlcnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbHouanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0TmV4dENhbGxOdW1iZXIgPSBnZXROZXh0Q2FsbE51bWJlcjtcbmxldCBuZXh0Q2FsbE51bWJlciA9IDA7XG5mdW5jdGlvbiBnZXROZXh0Q2FsbE51bWJlcigpIHtcbiAgICByZXR1cm4gbmV4dENhbGxOdW1iZXIrKztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbGwtbnVtYmVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIxIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbXByZXNzaW9uQWxnb3JpdGhtcyA9IHZvaWQgMDtcbnZhciBDb21wcmVzc2lvbkFsZ29yaXRobXM7XG4oZnVuY3Rpb24gKENvbXByZXNzaW9uQWxnb3JpdGhtcykge1xuICAgIENvbXByZXNzaW9uQWxnb3JpdGhtc1tDb21wcmVzc2lvbkFsZ29yaXRobXNbXCJpZGVudGl0eVwiXSA9IDBdID0gXCJpZGVudGl0eVwiO1xuICAgIENvbXByZXNzaW9uQWxnb3JpdGhtc1tDb21wcmVzc2lvbkFsZ29yaXRobXNbXCJkZWZsYXRlXCJdID0gMV0gPSBcImRlZmxhdGVcIjtcbiAgICBDb21wcmVzc2lvbkFsZ29yaXRobXNbQ29tcHJlc3Npb25BbGdvcml0aG1zW1wiZ3ppcFwiXSA9IDJdID0gXCJnemlwXCI7XG59KShDb21wcmVzc2lvbkFsZ29yaXRobXMgfHwgKGV4cG9ydHMuQ29tcHJlc3Npb25BbGdvcml0aG1zID0gQ29tcHJlc3Npb25BbGdvcml0aG1zID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXByZXNzaW9uLWFsZ29yaXRobXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQmFzZUZpbHRlciA9IHZvaWQgMDtcbmNsYXNzIEJhc2VGaWx0ZXIge1xuICAgIGFzeW5jIHNlbmRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIHJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICByZXR1cm4gbWV0YWRhdGE7XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGFzeW5jIHJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIHJlY2VpdmVUcmFpbGVycyhzdGF0dXMpIHtcbiAgICAgICAgcmV0dXJuIHN0YXR1cztcbiAgICB9XG59XG5leHBvcnRzLkJhc2VGaWx0ZXIgPSBCYXNlRmlsdGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNvbXByZXNzaW9uRmlsdGVyRmFjdG9yeSA9IGV4cG9ydHMuQ29tcHJlc3Npb25GaWx0ZXIgPSB2b2lkIDA7XG5jb25zdCB6bGliID0gcmVxdWlyZShcInpsaWJcIik7XG5jb25zdCBjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEgPSByZXF1aXJlKFwiLi9jb21wcmVzc2lvbi1hbGdvcml0aG1zXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBmaWx0ZXJfMSA9IHJlcXVpcmUoXCIuL2ZpbHRlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgaXNDb21wcmVzc2lvbkFsZ29yaXRobUtleSA9IChrZXkpID0+IHtcbiAgICByZXR1cm4gKHR5cGVvZiBrZXkgPT09ICdudW1iZXInICYmIHR5cGVvZiBjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEuQ29tcHJlc3Npb25BbGdvcml0aG1zW2tleV0gPT09ICdzdHJpbmcnKTtcbn07XG5jbGFzcyBDb21wcmVzc2lvbkhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFJhdyB1bmNvbXByZXNzZWQgbWVzc2FnZSBieXRlc1xuICAgICAqIEBwYXJhbSBjb21wcmVzcyBJbmRpY2F0ZXMgd2hldGhlciB0aGUgbWVzc2FnZSBzaG91bGQgYmUgY29tcHJlc3NlZFxuICAgICAqIEByZXR1cm4gRnJhbWVkIG1lc3NhZ2UsIGNvbXByZXNzZWQgaWYgYXBwbGljYWJsZVxuICAgICAqL1xuICAgIGFzeW5jIHdyaXRlTWVzc2FnZShtZXNzYWdlLCBjb21wcmVzcykge1xuICAgICAgICBsZXQgbWVzc2FnZUJ1ZmZlciA9IG1lc3NhZ2U7XG4gICAgICAgIGlmIChjb21wcmVzcykge1xuICAgICAgICAgICAgbWVzc2FnZUJ1ZmZlciA9IGF3YWl0IHRoaXMuY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2VCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dHB1dCA9IEJ1ZmZlci5hbGxvY1Vuc2FmZShtZXNzYWdlQnVmZmVyLmxlbmd0aCArIDUpO1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50OChjb21wcmVzcyA/IDEgOiAwLCAwKTtcbiAgICAgICAgb3V0cHV0LndyaXRlVUludDMyQkUobWVzc2FnZUJ1ZmZlci5sZW5ndGgsIDEpO1xuICAgICAgICBtZXNzYWdlQnVmZmVyLmNvcHkob3V0cHV0LCA1KTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGRhdGEgRnJhbWVkIG1lc3NhZ2UsIHBvc3NpYmx5IGNvbXByZXNzZWRcbiAgICAgKiBAcmV0dXJuIFVuY29tcHJlc3NlZCBtZXNzYWdlXG4gICAgICovXG4gICAgYXN5bmMgcmVhZE1lc3NhZ2UoZGF0YSkge1xuICAgICAgICBjb25zdCBjb21wcmVzc2VkID0gZGF0YS5yZWFkVUludDgoMCkgPT09IDE7XG4gICAgICAgIGxldCBtZXNzYWdlQnVmZmVyID0gZGF0YS5zbGljZSg1KTtcbiAgICAgICAgaWYgKGNvbXByZXNzZWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2VCdWZmZXIgPSBhd2FpdCB0aGlzLmRlY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2VCdWZmZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlQnVmZmVyO1xuICAgIH1cbn1cbmNsYXNzIElkZW50aXR5SGFuZGxlciBleHRlbmRzIENvbXByZXNzaW9uSGFuZGxlciB7XG4gICAgYXN5bmMgY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGFzeW5jIHdyaXRlTWVzc2FnZShtZXNzYWdlLCBjb21wcmVzcykge1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBCdWZmZXIuYWxsb2NVbnNhZmUobWVzc2FnZS5sZW5ndGggKyA1KTtcbiAgICAgICAgLyogV2l0aCBcImlkZW50aXR5XCIgY29tcHJlc3Npb24sIG1lc3NhZ2VzIHNob3VsZCBhbHdheXMgYmUgbWFya2VkIGFzXG4gICAgICAgICAqIHVuY29tcHJlc3NlZCAqL1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50OCgwLCAwKTtcbiAgICAgICAgb3V0cHV0LndyaXRlVUludDMyQkUobWVzc2FnZS5sZW5ndGgsIDEpO1xuICAgICAgICBtZXNzYWdlLmNvcHkob3V0cHV0LCA1KTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG4gICAgZGVjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdSZWNlaXZlZCBjb21wcmVzc2VkIG1lc3NhZ2UgYnV0IFwiZ3JwYy1lbmNvZGluZ1wiIGhlYWRlciB3YXMgaWRlbnRpdHknKSk7XG4gICAgfVxufVxuY2xhc3MgRGVmbGF0ZUhhbmRsZXIgZXh0ZW5kcyBDb21wcmVzc2lvbkhhbmRsZXIge1xuICAgIGNvbnN0cnVjdG9yKG1heFJlY3ZNZXNzYWdlTGVuZ3RoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubWF4UmVjdk1lc3NhZ2VMZW5ndGggPSBtYXhSZWN2TWVzc2FnZUxlbmd0aDtcbiAgICB9XG4gICAgY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHpsaWIuZGVmbGF0ZShtZXNzYWdlLCAoZXJyLCBvdXRwdXQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvdXRwdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZGVjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VQYXJ0cyA9IFtdO1xuICAgICAgICAgICAgY29uc3QgZGVjb21wcmVzc2VyID0gemxpYi5jcmVhdGVJbmZsYXRlKCk7XG4gICAgICAgICAgICBkZWNvbXByZXNzZXIub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlUGFydHMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgdG90YWxMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhSZWN2TWVzc2FnZUxlbmd0aCAhPT0gLTEgJiYgdG90YWxMZW5ndGggPiB0aGlzLm1heFJlY3ZNZXNzYWdlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY29tcHJlc3Nlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuUkVTT1VSQ0VfRVhIQVVTVEVELFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIG1lc3NhZ2UgdGhhdCBkZWNvbXByZXNzZXMgdG8gYSBzaXplIGxhcmdlciB0aGFuICR7dGhpcy5tYXhSZWN2TWVzc2FnZUxlbmd0aH1gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVjb21wcmVzc2VyLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShCdWZmZXIuY29uY2F0KG1lc3NhZ2VQYXJ0cykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWNvbXByZXNzZXIud3JpdGUobWVzc2FnZSk7XG4gICAgICAgICAgICBkZWNvbXByZXNzZXIuZW5kKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIEd6aXBIYW5kbGVyIGV4dGVuZHMgQ29tcHJlc3Npb25IYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihtYXhSZWN2TWVzc2FnZUxlbmd0aCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLm1heFJlY3ZNZXNzYWdlTGVuZ3RoID0gbWF4UmVjdk1lc3NhZ2VMZW5ndGg7XG4gICAgfVxuICAgIGNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB6bGliLmd6aXAobWVzc2FnZSwgKGVyciwgb3V0cHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3V0cHV0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCB0b3RhbExlbmd0aCA9IDA7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlUGFydHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGRlY29tcHJlc3NlciA9IHpsaWIuY3JlYXRlR3VuemlwKCk7XG4gICAgICAgICAgICBkZWNvbXByZXNzZXIub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlUGFydHMucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgdG90YWxMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhSZWN2TWVzc2FnZUxlbmd0aCAhPT0gLTEgJiYgdG90YWxMZW5ndGggPiB0aGlzLm1heFJlY3ZNZXNzYWdlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlY29tcHJlc3Nlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuUkVTT1VSQ0VfRVhIQVVTVEVELFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIG1lc3NhZ2UgdGhhdCBkZWNvbXByZXNzZXMgdG8gYSBzaXplIGxhcmdlciB0aGFuICR7dGhpcy5tYXhSZWN2TWVzc2FnZUxlbmd0aH1gXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVjb21wcmVzc2VyLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShCdWZmZXIuY29uY2F0KG1lc3NhZ2VQYXJ0cykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWNvbXByZXNzZXIud3JpdGUobWVzc2FnZSk7XG4gICAgICAgICAgICBkZWNvbXByZXNzZXIuZW5kKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIFVua25vd25IYW5kbGVyIGV4dGVuZHMgQ29tcHJlc3Npb25IYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihjb21wcmVzc2lvbk5hbWUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5jb21wcmVzc2lvbk5hbWUgPSBjb21wcmVzc2lvbk5hbWU7XG4gICAgfVxuICAgIGNvbXByZXNzTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoYFJlY2VpdmVkIG1lc3NhZ2UgY29tcHJlc3NlZCB3aXRoIHVuc3VwcG9ydGVkIGNvbXByZXNzaW9uIG1ldGhvZCAke3RoaXMuY29tcHJlc3Npb25OYW1lfWApKTtcbiAgICB9XG4gICAgZGVjb21wcmVzc01lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSB1bnJlYWNoYWJsZVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBDb21wcmVzc2lvbiBtZXRob2Qgbm90IHN1cHBvcnRlZDogJHt0aGlzLmNvbXByZXNzaW9uTmFtZX1gKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0Q29tcHJlc3Npb25IYW5kbGVyKGNvbXByZXNzaW9uTmFtZSwgbWF4UmVjZWl2ZU1lc3NhZ2VTaXplKSB7XG4gICAgc3dpdGNoIChjb21wcmVzc2lvbk5hbWUpIHtcbiAgICAgICAgY2FzZSAnaWRlbnRpdHknOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJZGVudGl0eUhhbmRsZXIoKTtcbiAgICAgICAgY2FzZSAnZGVmbGF0ZSc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IERlZmxhdGVIYW5kbGVyKG1heFJlY2VpdmVNZXNzYWdlU2l6ZSk7XG4gICAgICAgIGNhc2UgJ2d6aXAnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBHemlwSGFuZGxlcihtYXhSZWNlaXZlTWVzc2FnZVNpemUpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVbmtub3duSGFuZGxlcihjb21wcmVzc2lvbk5hbWUpO1xuICAgIH1cbn1cbmNsYXNzIENvbXByZXNzaW9uRmlsdGVyIGV4dGVuZHMgZmlsdGVyXzEuQmFzZUZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoY2hhbm5lbE9wdGlvbnMsIHNoYXJlZEZpbHRlckNvbmZpZykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5zaGFyZWRGaWx0ZXJDb25maWcgPSBzaGFyZWRGaWx0ZXJDb25maWc7XG4gICAgICAgIHRoaXMuc2VuZENvbXByZXNzaW9uID0gbmV3IElkZW50aXR5SGFuZGxlcigpO1xuICAgICAgICB0aGlzLnJlY2VpdmVDb21wcmVzc2lvbiA9IG5ldyBJZGVudGl0eUhhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0gPSAnaWRlbnRpdHknO1xuICAgICAgICBjb25zdCBjb21wcmVzc2lvbkFsZ29yaXRobUtleSA9IGNoYW5uZWxPcHRpb25zWydncnBjLmRlZmF1bHRfY29tcHJlc3Npb25fYWxnb3JpdGhtJ107XG4gICAgICAgIHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VMZW5ndGggPSAoX2EgPSBjaGFubmVsT3B0aW9uc1snZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb25zdGFudHNfMS5ERUZBVUxUX01BWF9SRUNFSVZFX01FU1NBR0VfTEVOR1RIO1xuICAgICAgICB0aGlzLm1heFNlbmRNZXNzYWdlTGVuZ3RoID0gKF9iID0gY2hhbm5lbE9wdGlvbnNbJ2dycGMubWF4X3NlbmRfbWVzc2FnZV9sZW5ndGgnXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29uc3RhbnRzXzEuREVGQVVMVF9NQVhfU0VORF9NRVNTQUdFX0xFTkdUSDtcbiAgICAgICAgaWYgKGNvbXByZXNzaW9uQWxnb3JpdGhtS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChpc0NvbXByZXNzaW9uQWxnb3JpdGhtS2V5KGNvbXByZXNzaW9uQWxnb3JpdGhtS2V5KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFNlbGVjdGVkRW5jb2RpbmcgPSBjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEuQ29tcHJlc3Npb25BbGdvcml0aG1zW2NvbXByZXNzaW9uQWxnb3JpdGhtS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3MgPSAoX2MgPSBzaGFyZWRGaWx0ZXJDb25maWcuc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdIZWFkZXIpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zcGxpdCgnLCcpO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZXJlIGFyZSB0d28gcG9zc2libGUgc2l0dWF0aW9ucyBoZXJlOlxuICAgICAgICAgICAgICAgICAqIDEpIFdlIGRvbid0IGhhdmUgYW55IGluZm8geWV0IGZyb20gdGhlIHNlcnZlciBhYm91dCB3aGF0IGNvbXByZXNzaW9uIGl0IHN1cHBvcnRzXG4gICAgICAgICAgICAgICAgICogICAgSW4gdGhhdCBjYXNlIHdlIHNob3VsZCBqdXN0IHVzZSB3aGF0IHRoZSBjbGllbnQgdGVsbHMgdXMgdG8gdXNlXG4gICAgICAgICAgICAgICAgICogMikgV2UndmUgcHJldmlvdXNseSByZWNlaXZlZCBhIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciBpbmNsdWRpbmcgYSBncnBjLWFjY2VwdC1lbmNvZGluZyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgKiAgICBJbiB0aGF0IGNhc2Ugd2Ugb25seSB3YW50IHRvIHVzZSB0aGUgZW5jb2RpbmcgY2hvc2VuIGJ5IHRoZSBjbGllbnQgaWYgdGhlIHNlcnZlciBzdXBwb3J0cyBpdFxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmICghc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlclN1cHBvcnRlZEVuY29kaW5ncy5pbmNsdWRlcyhjbGllbnRTZWxlY3RlZEVuY29kaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSA9IGNsaWVudFNlbGVjdGVkRW5jb2Rpbmc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VuZENvbXByZXNzaW9uID0gZ2V0Q29tcHJlc3Npb25IYW5kbGVyKHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtLCAtMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZy5sb2coY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkVSUk9SLCBgSW52YWxpZCB2YWx1ZSBwcm92aWRlZCBmb3IgZ3JwYy5kZWZhdWx0X2NvbXByZXNzaW9uX2FsZ29yaXRobSBvcHRpb246ICR7Y29tcHJlc3Npb25BbGdvcml0aG1LZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc2VuZE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBhd2FpdCBtZXRhZGF0YTtcbiAgICAgICAgaGVhZGVycy5zZXQoJ2dycGMtYWNjZXB0LWVuY29kaW5nJywgJ2lkZW50aXR5LGRlZmxhdGUsZ3ppcCcpO1xuICAgICAgICBoZWFkZXJzLnNldCgnYWNjZXB0LWVuY29kaW5nJywgJ2lkZW50aXR5Jyk7XG4gICAgICAgIC8vIE5vIG5lZWQgdG8gc2VuZCB0aGUgaGVhZGVyIGlmIGl0J3MgXCJpZGVudGl0eVwiIC0gIGJlaGF2aW9yIGlzIGlkZW50aWNhbDsgc2F2ZSB0aGUgYmFuZHdpZHRoXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb21wcmVzc2lvbkFsZ29yaXRobSA9PT0gJ2lkZW50aXR5Jykge1xuICAgICAgICAgICAgaGVhZGVycy5yZW1vdmUoJ2dycGMtZW5jb2RpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdncnBjLWVuY29kaW5nJywgdGhpcy5jdXJyZW50Q29tcHJlc3Npb25BbGdvcml0aG0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFkZXJzO1xuICAgIH1cbiAgICByZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgY29uc3QgcmVjZWl2ZUVuY29kaW5nID0gbWV0YWRhdGEuZ2V0KCdncnBjLWVuY29kaW5nJyk7XG4gICAgICAgIGlmIChyZWNlaXZlRW5jb2RpbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZW5jb2RpbmcgPSByZWNlaXZlRW5jb2RpbmdbMF07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVuY29kaW5nID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVjZWl2ZUNvbXByZXNzaW9uID0gZ2V0Q29tcHJlc3Npb25IYW5kbGVyKGVuY29kaW5nLCB0aGlzLm1heFJlY2VpdmVNZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoJ2dycGMtZW5jb2RpbmcnKTtcbiAgICAgICAgLyogQ2hlY2sgdG8gc2VlIGlmIHRoZSBjb21wcmVzc2lvbiB3ZSdyZSB1c2luZyB0byBzZW5kIG1lc3NhZ2VzIGlzIHN1cHBvcnRlZCBieSB0aGUgc2VydmVyXG4gICAgICAgICAqIElmIG5vdCwgcmVzZXQgdGhlIHNlbmRDb21wcmVzc2lvbiBmaWx0ZXIgYW5kIGhhdmUgaXQgdXNlIHRoZSBkZWZhdWx0IElkZW50aXR5SGFuZGxlciAqL1xuICAgICAgICBjb25zdCBzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3NIZWFkZXIgPSBtZXRhZGF0YS5nZXQoJ2dycGMtYWNjZXB0LWVuY29kaW5nJylbMF07XG4gICAgICAgIGlmIChzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3NIZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcmVkRmlsdGVyQ29uZmlnLnNlcnZlclN1cHBvcnRlZEVuY29kaW5nSGVhZGVyID1cbiAgICAgICAgICAgICAgICBzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3NIZWFkZXI7XG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3MgPSBzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3NIZWFkZXIuc3BsaXQoJywnKTtcbiAgICAgICAgICAgIGlmICghc2VydmVyU3VwcG9ydGVkRW5jb2RpbmdzLmluY2x1ZGVzKHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZENvbXByZXNzaW9uID0gbmV3IElkZW50aXR5SGFuZGxlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudENvbXByZXNzaW9uQWxnb3JpdGhtID0gJ2lkZW50aXR5JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoJ2dycGMtYWNjZXB0LWVuY29kaW5nJyk7XG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8qIFRoaXMgZmlsdGVyIGlzIHNwZWNpYWwuIFRoZSBpbnB1dCBtZXNzYWdlIGlzIHRoZSBiYXJlIG1lc3NhZ2UgYnl0ZXMsXG4gICAgICAgICAqIGFuZCB0aGUgb3V0cHV0IGlzIGEgZnJhbWVkIGFuZCBwb3NzaWJseSBjb21wcmVzc2VkIG1lc3NhZ2UuIEZvciB0aGlzXG4gICAgICAgICAqIHJlYXNvbiwgdGhpcyBmaWx0ZXIgc2hvdWxkIGJlIGF0IHRoZSBib3R0b20gb2YgdGhlIGZpbHRlciBzdGFjayAqL1xuICAgICAgICBjb25zdCByZXNvbHZlZE1lc3NhZ2UgPSBhd2FpdCBtZXNzYWdlO1xuICAgICAgICBpZiAodGhpcy5tYXhTZW5kTWVzc2FnZUxlbmd0aCAhPT0gLTEgJiYgcmVzb2x2ZWRNZXNzYWdlLm1lc3NhZ2UubGVuZ3RoID4gdGhpcy5tYXhTZW5kTWVzc2FnZUxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cge1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYEF0dGVtcHRlZCB0byBzZW5kIG1lc3NhZ2Ugd2l0aCBhIHNpemUgbGFyZ2VyIHRoYW4gJHt0aGlzLm1heFNlbmRNZXNzYWdlTGVuZ3RofWBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvbXByZXNzO1xuICAgICAgICBpZiAodGhpcy5zZW5kQ29tcHJlc3Npb24gaW5zdGFuY2VvZiBJZGVudGl0eUhhbmRsZXIpIHtcbiAgICAgICAgICAgIGNvbXByZXNzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb21wcmVzcyA9ICgoKF9hID0gcmVzb2x2ZWRNZXNzYWdlLmZsYWdzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSAmIDIgLyogV3JpdGVGbGFncy5Ob0NvbXByZXNzICovKSA9PT0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVzc2FnZTogYXdhaXQgdGhpcy5zZW5kQ29tcHJlc3Npb24ud3JpdGVNZXNzYWdlKHJlc29sdmVkTWVzc2FnZS5tZXNzYWdlLCBjb21wcmVzcyksXG4gICAgICAgICAgICBmbGFnczogcmVzb2x2ZWRNZXNzYWdlLmZsYWdzLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyByZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIC8qIFRoaXMgZmlsdGVyIGlzIGFsc28gc3BlY2lhbC4gVGhlIGlucHV0IG1lc3NhZ2UgaXMgZnJhbWVkIGFuZCBwb3NzaWJseVxuICAgICAgICAgKiBjb21wcmVzc2VkLCBhbmQgdGhlIG91dHB1dCBtZXNzYWdlIGlzIGRlZnJhbWVkIGFuZCB1bmNvbXByZXNzZWQuIFNvXG4gICAgICAgICAqIHRoaXMgaXMgYW5vdGhlciByZWFzb24gdGhhdCB0aGlzIGZpbHRlciBzaG91bGQgYmUgYXQgdGhlIGJvdHRvbSBvZiB0aGVcbiAgICAgICAgICogZmlsdGVyIHN0YWNrLiAqL1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNlaXZlQ29tcHJlc3Npb24ucmVhZE1lc3NhZ2UoYXdhaXQgbWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5Db21wcmVzc2lvbkZpbHRlciA9IENvbXByZXNzaW9uRmlsdGVyO1xuY2xhc3MgQ29tcHJlc3Npb25GaWx0ZXJGYWN0b3J5IHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuc2hhcmVkRmlsdGVyQ29uZmlnID0ge307XG4gICAgfVxuICAgIGNyZWF0ZUZpbHRlcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wcmVzc2lvbkZpbHRlcih0aGlzLm9wdGlvbnMsIHRoaXMuc2hhcmVkRmlsdGVyQ29uZmlnKTtcbiAgICB9XG59XG5leHBvcnRzLkNvbXByZXNzaW9uRmlsdGVyRmFjdG9yeSA9IENvbXByZXNzaW9uRmlsdGVyRmFjdG9yeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXByZXNzaW9uLWZpbHRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUgPSByZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGU7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IElOQVBQUk9QUklBVEVfQ09OVFJPTF9QTEFORV9DT0RFUyA9IFtcbiAgICBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLklOVkFMSURfQVJHVU1FTlQsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLk5PVF9GT1VORCxcbiAgICBjb25zdGFudHNfMS5TdGF0dXMuQUxSRUFEWV9FWElTVFMsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLkZBSUxFRF9QUkVDT05ESVRJT04sXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLkFCT1JURUQsXG4gICAgY29uc3RhbnRzXzEuU3RhdHVzLk9VVF9PRl9SQU5HRSxcbiAgICBjb25zdGFudHNfMS5TdGF0dXMuREFUQV9MT1NTLFxuXTtcbmZ1bmN0aW9uIHJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZShjb2RlLCBkZXRhaWxzKSB7XG4gICAgaWYgKElOQVBQUk9QUklBVEVfQ09OVFJPTF9QTEFORV9DT0RFUy5pbmNsdWRlcyhjb2RlKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgZGV0YWlsczogYEludmFsaWQgc3RhdHVzIGZyb20gY29udHJvbCBwbGFuZTogJHtjb2RlfSAke2NvbnN0YW50c18xLlN0YXR1c1tjb2RlXX0gJHtkZXRhaWxzfWAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyBjb2RlLCBkZXRhaWxzIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udHJvbC1wbGFuZS1zdGF0dXMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubWluRGVhZGxpbmUgPSBtaW5EZWFkbGluZTtcbmV4cG9ydHMuZ2V0RGVhZGxpbmVUaW1lb3V0U3RyaW5nID0gZ2V0RGVhZGxpbmVUaW1lb3V0U3RyaW5nO1xuZXhwb3J0cy5nZXRSZWxhdGl2ZVRpbWVvdXQgPSBnZXRSZWxhdGl2ZVRpbWVvdXQ7XG5leHBvcnRzLmRlYWRsaW5lVG9TdHJpbmcgPSBkZWFkbGluZVRvU3RyaW5nO1xuZXhwb3J0cy5mb3JtYXREYXRlRGlmZmVyZW5jZSA9IGZvcm1hdERhdGVEaWZmZXJlbmNlO1xuZnVuY3Rpb24gbWluRGVhZGxpbmUoLi4uZGVhZGxpbmVMaXN0KSB7XG4gICAgbGV0IG1pblZhbHVlID0gSW5maW5pdHk7XG4gICAgZm9yIChjb25zdCBkZWFkbGluZSBvZiBkZWFkbGluZUxpc3QpIHtcbiAgICAgICAgY29uc3QgZGVhZGxpbmVNc2VjcyA9IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSA/IGRlYWRsaW5lLmdldFRpbWUoKSA6IGRlYWRsaW5lO1xuICAgICAgICBpZiAoZGVhZGxpbmVNc2VjcyA8IG1pblZhbHVlKSB7XG4gICAgICAgICAgICBtaW5WYWx1ZSA9IGRlYWRsaW5lTXNlY3M7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1pblZhbHVlO1xufVxuY29uc3QgdW5pdHMgPSBbXG4gICAgWydtJywgMV0sXG4gICAgWydTJywgMTAwMF0sXG4gICAgWydNJywgNjAgKiAxMDAwXSxcbiAgICBbJ0gnLCA2MCAqIDYwICogMTAwMF0sXG5dO1xuZnVuY3Rpb24gZ2V0RGVhZGxpbmVUaW1lb3V0U3RyaW5nKGRlYWRsaW5lKSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgaWYgKGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBkZWFkbGluZSA9IGRlYWRsaW5lLmdldFRpbWUoKTtcbiAgICB9XG4gICAgY29uc3QgdGltZW91dE1zID0gTWF0aC5tYXgoZGVhZGxpbmUgLSBub3csIDApO1xuICAgIGZvciAoY29uc3QgW3VuaXQsIGZhY3Rvcl0gb2YgdW5pdHMpIHtcbiAgICAgICAgY29uc3QgYW1vdW50ID0gdGltZW91dE1zIC8gZmFjdG9yO1xuICAgICAgICBpZiAoYW1vdW50IDwgMWU4KSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKE1hdGguY2VpbChhbW91bnQpKSArIHVuaXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdEZWFkbGluZSBpcyB0b28gZmFyIGluIHRoZSBmdXR1cmUnKTtcbn1cbi8qKlxuICogU2VlIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvdGltZXJzLmh0bWwjc2V0dGltZW91dGNhbGxiYWNrLWRlbGF5LWFyZ3NcbiAqIEluIHBhcnRpY3VsYXIsIFwiV2hlbiBkZWxheSBpcyBsYXJnZXIgdGhhbiAyMTQ3NDgzNjQ3IG9yIGxlc3MgdGhhbiAxLCB0aGVcbiAqIGRlbGF5IHdpbGwgYmUgc2V0IHRvIDEuIE5vbi1pbnRlZ2VyIGRlbGF5cyBhcmUgdHJ1bmNhdGVkIHRvIGFuIGludGVnZXIuXCJcbiAqIFRoaXMgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBpcyBhbG1vc3QgMjUgZGF5cy5cbiAqL1xuY29uc3QgTUFYX1RJTUVPVVRfVElNRSA9IDIxNDc0ODM2NDc7XG4vKipcbiAqIEdldCB0aGUgdGltZW91dCB2YWx1ZSB0aGF0IHNob3VsZCBiZSBwYXNzZWQgdG8gc2V0VGltZW91dCBub3cgZm9yIHRoZSB0aW1lclxuICogdG8gZW5kIGF0IHRoZSBkZWFkbGluZS4gRm9yIGFueSBkZWFkbGluZSBiZWZvcmUgbm93LCB0aGUgdGltZXIgc2hvdWxkIGVuZFxuICogaW1tZWRpYXRlbHksIHJlcHJlc2VudGVkIGJ5IGEgdmFsdWUgb2YgMC4gRm9yIGFueSBkZWFkbGluZSBtb3JlIHRoYW5cbiAqIE1BWF9USU1FT1VUX1RJTUUgbWlsbGlzZWNvbmRzIGluIHRoZSBmdXR1cmUsIGEgdGltZXIgY2Fubm90IGJlIHNldCB0aGF0IHdpbGxcbiAqIGVuZCBhdCB0aGF0IHRpbWUsIHNvIGl0IGlzIHRyZWF0ZWQgYXMgaW5maW5pdGVseSBmYXIgaW4gdGhlIGZ1dHVyZS5cbiAqIEBwYXJhbSBkZWFkbGluZVxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gZ2V0UmVsYXRpdmVUaW1lb3V0KGRlYWRsaW5lKSB7XG4gICAgY29uc3QgZGVhZGxpbmVNcyA9IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSA/IGRlYWRsaW5lLmdldFRpbWUoKSA6IGRlYWRsaW5lO1xuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgIGNvbnN0IHRpbWVvdXQgPSBkZWFkbGluZU1zIC0gbm93O1xuICAgIGlmICh0aW1lb3V0IDwgMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgZWxzZSBpZiAodGltZW91dCA+IE1BWF9USU1FT1VUX1RJTUUpIHtcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRpbWVvdXQ7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVhZGxpbmVUb1N0cmluZyhkZWFkbGluZSkge1xuICAgIGlmIChkZWFkbGluZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIGRlYWRsaW5lLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBkYXRlRGVhZGxpbmUgPSBuZXcgRGF0ZShkZWFkbGluZSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oZGF0ZURlYWRsaW5lLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnJyArIGRlYWRsaW5lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVEZWFkbGluZS50b0lTT1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0d28gZGF0ZXMgYXMgYSBudW1iZXIgb2Ygc2Vjb25kcyBhbmQgZm9ybWF0XG4gKiBpdCBhcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBzdGFydERhdGVcbiAqIEBwYXJhbSBlbmREYXRlXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBmb3JtYXREYXRlRGlmZmVyZW5jZShzdGFydERhdGUsIGVuZERhdGUpIHtcbiAgICByZXR1cm4gKChlbmREYXRlLmdldFRpbWUoKSAtIHN0YXJ0RGF0ZS5nZXRUaW1lKCkpIC8gMTAwMCkudG9GaXhlZCgzKSArICdzJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYWRsaW5lLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkZpbHRlclN0YWNrRmFjdG9yeSA9IGV4cG9ydHMuRmlsdGVyU3RhY2sgPSB2b2lkIDA7XG5jbGFzcyBGaWx0ZXJTdGFjayB7XG4gICAgY29uc3RydWN0b3IoZmlsdGVycykge1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBmaWx0ZXJzO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG1ldGFkYXRhO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5maWx0ZXJzW2ldLnNlbmRNZXRhZGF0YShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbWV0YWRhdGE7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmZpbHRlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmlsdGVyc1tpXS5yZWNlaXZlTWV0YWRhdGEocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBtZXNzYWdlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5maWx0ZXJzW2ldLnNlbmRNZXNzYWdlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbWVzc2FnZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmlsdGVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5maWx0ZXJzW2ldLnJlY2VpdmVNZXNzYWdlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmVjZWl2ZVRyYWlsZXJzKHN0YXR1cykge1xuICAgICAgICBsZXQgcmVzdWx0ID0gc3RhdHVzO1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5maWx0ZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZpbHRlcnNbaV0ucmVjZWl2ZVRyYWlsZXJzKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcHVzaChmaWx0ZXJzKSB7XG4gICAgICAgIHRoaXMuZmlsdGVycy51bnNoaWZ0KC4uLmZpbHRlcnMpO1xuICAgIH1cbiAgICBnZXRGaWx0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJzO1xuICAgIH1cbn1cbmV4cG9ydHMuRmlsdGVyU3RhY2sgPSBGaWx0ZXJTdGFjaztcbmNsYXNzIEZpbHRlclN0YWNrRmFjdG9yeSB7XG4gICAgY29uc3RydWN0b3IoZmFjdG9yaWVzKSB7XG4gICAgICAgIHRoaXMuZmFjdG9yaWVzID0gZmFjdG9yaWVzO1xuICAgIH1cbiAgICBwdXNoKGZpbHRlckZhY3Rvcmllcykge1xuICAgICAgICB0aGlzLmZhY3Rvcmllcy51bnNoaWZ0KC4uLmZpbHRlckZhY3Rvcmllcyk7XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IEZpbHRlclN0YWNrRmFjdG9yeShbLi4udGhpcy5mYWN0b3JpZXNdKTtcbiAgICB9XG4gICAgY3JlYXRlRmlsdGVyKCkge1xuICAgICAgICByZXR1cm4gbmV3IEZpbHRlclN0YWNrKHRoaXMuZmFjdG9yaWVzLm1hcChmYWN0b3J5ID0+IGZhY3RvcnkuY3JlYXRlRmlsdGVyKCkpKTtcbiAgICB9XG59XG5leHBvcnRzLkZpbHRlclN0YWNrRmFjdG9yeSA9IEZpbHRlclN0YWNrRmFjdG9yeTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1zdGFjay5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TaW5nbGVTdWJjaGFubmVsQ2hhbm5lbCA9IHZvaWQgMDtcbmNvbnN0IGNhbGxfbnVtYmVyXzEgPSByZXF1aXJlKFwiLi9jYWxsLW51bWJlclwiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IGNvbXByZXNzaW9uX2ZpbHRlcl8xID0gcmVxdWlyZShcIi4vY29tcHJlc3Npb24tZmlsdGVyXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGNvbnRyb2xfcGxhbmVfc3RhdHVzXzEgPSByZXF1aXJlKFwiLi9jb250cm9sLXBsYW5lLXN0YXR1c1wiKTtcbmNvbnN0IGRlYWRsaW5lXzEgPSByZXF1aXJlKFwiLi9kZWFkbGluZVwiKTtcbmNvbnN0IGZpbHRlcl9zdGFja18xID0gcmVxdWlyZShcIi4vZmlsdGVyLXN0YWNrXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNsYXNzIFN1YmNoYW5uZWxDYWxsV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3Ioc3ViY2hhbm5lbCwgbWV0aG9kLCBmaWx0ZXJTdGFja0ZhY3RvcnksIG9wdGlvbnMsIGNhbGxOdW1iZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsID0gc3ViY2hhbm5lbDtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY2FsbE51bWJlciA9IGNhbGxOdW1iZXI7XG4gICAgICAgIHRoaXMuY2hpbGRDYWxsID0gbnVsbDtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYWxmQ2xvc2VQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZEZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53cml0ZUZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc3Qgc3BsaXRQYXRoID0gdGhpcy5tZXRob2Quc3BsaXQoJy8nKTtcbiAgICAgICAgbGV0IHNlcnZpY2VOYW1lID0gJyc7XG4gICAgICAgIC8qIFRoZSBzdGFuZGFyZCBwYXRoIGZvcm1hdCBpcyBcIi97c2VydmljZU5hbWV9L3ttZXRob2ROYW1lfVwiLCBzbyBpZiB3ZSBzcGxpdFxuICAgICAgICAgICogYnkgJy8nLCB0aGUgZmlyc3QgaXRlbSBzaG91bGQgYmUgZW1wdHkgYW5kIHRoZSBzZWNvbmQgc2hvdWxkIGJlIHRoZVxuICAgICAgICAgICogc2VydmljZSBuYW1lICovXG4gICAgICAgIGlmIChzcGxpdFBhdGgubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lID0gc3BsaXRQYXRoWzFdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhvc3RuYW1lID0gKF9iID0gKF9hID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KSh0aGlzLm9wdGlvbnMuaG9zdCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5ob3N0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnbG9jYWxob3N0JztcbiAgICAgICAgLyogQ3VycmVudGx5LCBjYWxsIGNyZWRlbnRpYWxzIGFyZSBvbmx5IGFsbG93ZWQgb24gSFRUUFMgY29ubmVjdGlvbnMsIHNvIHdlXG4gICAgICAgICAgKiBjYW4gYXNzdW1lIHRoYXQgdGhlIHNjaGVtZSBpcyBcImh0dHBzXCIgKi9cbiAgICAgICAgdGhpcy5zZXJ2aWNlVXJsID0gYGh0dHBzOi8vJHtob3N0bmFtZX0vJHtzZXJ2aWNlTmFtZX1gO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gKDAsIGRlYWRsaW5lXzEuZ2V0UmVsYXRpdmVUaW1lb3V0KShvcHRpb25zLmRlYWRsaW5lKTtcbiAgICAgICAgaWYgKHRpbWVvdXQgIT09IEluZmluaXR5KSB7XG4gICAgICAgICAgICBpZiAodGltZW91dCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRCwgJ0RlYWRsaW5lIGV4Y2VlZGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRCwgJ0RlYWRsaW5lIGV4Y2VlZGVkJyk7XG4gICAgICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maWx0ZXJTdGFjayA9IGZpbHRlclN0YWNrRmFjdG9yeS5jcmVhdGVGaWx0ZXIoKTtcbiAgICB9XG4gICAgY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRDYWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkQ2FsbC5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogc3RhdHVzLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuY2hpbGRDYWxsKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0UGVlcigpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLnN1YmNoYW5uZWwuZ2V0QWRkcmVzcygpO1xuICAgIH1cbiAgICBhc3luYyBzdGFydChtZXRhZGF0YSwgbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ1N0YXR1cykge1xuICAgICAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHRoaXMucGVuZGluZ1N0YXR1cyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogJ1N1YmNoYW5uZWwgbm90IHJlYWR5JyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsdGVyZWRNZXRhZGF0YSA9IGF3YWl0IHRoaXMuZmlsdGVyU3RhY2suc2VuZE1ldGFkYXRhKFByb21pc2UucmVzb2x2ZShtZXRhZGF0YSkpO1xuICAgICAgICBsZXQgY3JlZHNNZXRhZGF0YTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNyZWRzTWV0YWRhdGEgPSBhd2FpdCB0aGlzLnN1YmNoYW5uZWwuZ2V0Q2FsbENyZWRlbnRpYWxzKClcbiAgICAgICAgICAgICAgICAuZ2VuZXJhdGVNZXRhZGF0YSh7IG1ldGhvZF9uYW1lOiB0aGlzLm1ldGhvZCwgc2VydmljZV91cmw6IHRoaXMuc2VydmljZVVybCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBlO1xuICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHR5cGVvZiBlcnJvci5jb2RlID09PSAnbnVtYmVyJyA/IGVycm9yLmNvZGUgOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTiwgYEdldHRpbmcgbWV0YWRhdGEgZnJvbSBwbHVnaW4gZmFpbGVkIHdpdGggZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29kZSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY3JlZHNNZXRhZGF0YS5tZXJnZShmaWx0ZXJlZE1ldGFkYXRhKTtcbiAgICAgICAgY29uc3QgY2hpbGRMaXN0ZW5lciA9IHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBhc3luYyAobWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YShhd2FpdCB0aGlzLmZpbHRlclN0YWNrLnJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2U6IGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFkRmlsdGVyUGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRNZXNzYWdlID0gYXdhaXQgdGhpcy5maWx0ZXJTdGFjay5yZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlYWRGaWx0ZXJQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShmaWx0ZXJlZE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlU3RhdHVzKHRoaXMucGVuZGluZ1N0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUmVjZWl2ZVN0YXR1czogYXN5bmMgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbHRlcmVkU3RhdHVzID0gYXdhaXQgdGhpcy5maWx0ZXJTdGFjay5yZWNlaXZlVHJhaWxlcnMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkRmlsdGVyUGVuZGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBmaWx0ZXJlZFN0YXR1cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cyhmaWx0ZXJlZFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNoaWxkQ2FsbCA9IHRoaXMuc3ViY2hhbm5lbC5jcmVhdGVDYWxsKGNyZWRzTWV0YWRhdGEsIHRoaXMub3B0aW9ucy5ob3N0LCB0aGlzLm1ldGhvZCwgY2hpbGRMaXN0ZW5lcik7XG4gICAgICAgIGlmICh0aGlzLnJlYWRQZW5kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkQ2FsbC5zdGFydFJlYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZENhbGwuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh0aGlzLnBlbmRpbmdNZXNzYWdlLmNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGFsZkNsb3NlUGVuZGluZyAmJiAhdGhpcy53cml0ZUZpbHRlclBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRDYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLndyaXRlRmlsdGVyUGVuZGluZyA9IHRydWU7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkTWVzc2FnZSA9IGF3YWl0IHRoaXMuZmlsdGVyU3RhY2suc2VuZE1lc3NhZ2UoUHJvbWlzZS5yZXNvbHZlKHsgbWVzc2FnZTogbWVzc2FnZSwgZmxhZ3M6IGNvbnRleHQuZmxhZ3MgfSkpO1xuICAgICAgICB0aGlzLndyaXRlRmlsdGVyUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5jaGlsZENhbGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRDYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgZmlsdGVyZWRNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFsZkNsb3NlUGVuZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRDYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IHsgY29udGV4dCwgbWVzc2FnZTogZmlsdGVyZWRNZXNzYWdlLm1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkQ2FsbCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZENhbGwuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkQ2FsbCAmJiAhdGhpcy53cml0ZUZpbHRlclBlbmRpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRDYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5oYWxmQ2xvc2VQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDYWxsTnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsTnVtYmVyO1xuICAgIH1cbiAgICBzZXRDcmVkZW50aWFscyhjcmVkZW50aWFscykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkQ2FsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDYWxsLmdldEF1dGhDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIFNpbmdsZVN1YmNoYW5uZWxDaGFubmVsIHtcbiAgICBjb25zdHJ1Y3RvcihzdWJjaGFubmVsLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsID0gc3ViY2hhbm5lbDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2UoKTtcbiAgICAgICAgdGhpcy5jYWxsVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlcigpO1xuICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IG9wdGlvbnNbJ2dycGMuZW5hYmxlX2NoYW5uZWx6J10gIT09IDA7XG4gICAgICAgIHRoaXMuY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6Q2hhbm5lbCkoKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KSwgKCkgPT4gKHtcbiAgICAgICAgICAgIHRhcmdldDogYCR7KDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KX0gKCR7c3ViY2hhbm5lbC5nZXRBZGRyZXNzKCl9KWAsXG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCksXG4gICAgICAgICAgICB0cmFjZTogdGhpcy5jaGFubmVselRyYWNlLFxuICAgICAgICAgICAgY2FsbFRyYWNrZXI6IHRoaXMuY2FsbFRyYWNrZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlblRyYWNrZXIuZ2V0Q2hpbGRMaXN0cygpXG4gICAgICAgIH0pLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIucmVmQ2hpbGQoc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeSA9IG5ldyBmaWx0ZXJfc3RhY2tfMS5GaWx0ZXJTdGFja0ZhY3RvcnkoW25ldyBjb21wcmVzc2lvbl9maWx0ZXJfMS5Db21wcmVzc2lvbkZpbHRlckZhY3RvcnkodGhpcywgb3B0aW9ucyldKTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIudW5yZWZDaGlsZCh0aGlzLnN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgIH1cbiAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpO1xuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSh0cnlUb0Nvbm5lY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIHdhdGNoQ29ubmVjdGl2aXR5U3RhdGUoY3VycmVudFN0YXRlLCBkZWFkbGluZSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgfVxuICAgIGdldENoYW5uZWx6UmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVselJlZjtcbiAgICB9XG4gICAgY3JlYXRlQ2FsbChtZXRob2QsIGRlYWRsaW5lKSB7XG4gICAgICAgIGNvbnN0IGNhbGxPcHRpb25zID0ge1xuICAgICAgICAgICAgZGVhZGxpbmU6IGRlYWRsaW5lLFxuICAgICAgICAgICAgaG9zdDogKDAsIHJlc29sdmVyXzEuZ2V0RGVmYXVsdEF1dGhvcml0eSkodGhpcy50YXJnZXQpLFxuICAgICAgICAgICAgZmxhZ3M6IGNvbnN0YW50c18xLlByb3BhZ2F0ZS5ERUZBVUxUUyxcbiAgICAgICAgICAgIHBhcmVudENhbGw6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBTdWJjaGFubmVsQ2FsbFdyYXBwZXIodGhpcy5zdWJjaGFubmVsLCBtZXRob2QsIHRoaXMuZmlsdGVyU3RhY2tGYWN0b3J5LCBjYWxsT3B0aW9ucywgKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCkpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2luZ2xlU3ViY2hhbm5lbENoYW5uZWwgPSBTaW5nbGVTdWJjaGFubmVsQ2hhbm5lbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNpbmdsZS1zdWJjaGFubmVsLWNoYW5uZWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU3ViY2hhbm5lbCA9IHZvaWQgMDtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgYmFja29mZl90aW1lb3V0XzEgPSByZXF1aXJlKFwiLi9iYWNrb2ZmLXRpbWVvdXRcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgY2hhbm5lbHpfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuY29uc3Qgc2luZ2xlX3N1YmNoYW5uZWxfY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vc2luZ2xlLXN1YmNoYW5uZWwtY2hhbm5lbFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3N1YmNoYW5uZWwnO1xuLyogc2V0SW50ZXJ2YWwgYW5kIHNldFRpbWVvdXQgb25seSBhY2NlcHQgc2lnbmVkIDMyIGJpdCBpbnRlZ2Vycy4gSlMgZG9lc24ndFxuICogaGF2ZSBhIGNvbnN0YW50IGZvciB0aGUgbWF4IHNpZ25lZCAzMiBiaXQgaW50ZWdlciwgc28gdGhpcyBpcyBhIHNpbXBsZSB3YXlcbiAqIHRvIGNhbGN1bGF0ZSBpdCAqL1xuY29uc3QgS0VFUEFMSVZFX01BWF9USU1FX01TID0gfigxIDw8IDMxKTtcbmNsYXNzIFN1YmNoYW5uZWwge1xuICAgIC8qKlxuICAgICAqIEEgY2xhc3MgcmVwcmVzZW50aW5nIGEgY29ubmVjdGlvbiB0byBhIHNpbmdsZSBiYWNrZW5kLlxuICAgICAqIEBwYXJhbSBjaGFubmVsVGFyZ2V0IFRoZSB0YXJnZXQgc3RyaW5nIGZvciB0aGUgY2hhbm5lbCBhcyBhIHdob2xlXG4gICAgICogQHBhcmFtIHN1YmNoYW5uZWxBZGRyZXNzIFRoZSBhZGRyZXNzIGZvciB0aGUgYmFja2VuZCB0aGF0IHRoaXMgc3ViY2hhbm5lbFxuICAgICAqICAgICB3aWxsIGNvbm5lY3QgdG9cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBUaGUgY2hhbm5lbCBvcHRpb25zLCBwbHVzIGFueSBzcGVjaWZpYyBzdWJjaGFubmVsIG9wdGlvbnNcbiAgICAgKiAgICAgZm9yIHRoaXMgc3ViY2hhbm5lbFxuICAgICAqIEBwYXJhbSBjcmVkZW50aWFscyBUaGUgY2hhbm5lbCBjcmVkZW50aWFscyB1c2VkIHRvIGVzdGFibGlzaCB0aGlzXG4gICAgICogICAgIGNvbm5lY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsVGFyZ2V0LCBzdWJjaGFubmVsQWRkcmVzcywgb3B0aW9ucywgY3JlZGVudGlhbHMsIGNvbm5lY3Rvcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuY2hhbm5lbFRhcmdldCA9IGNoYW5uZWxUYXJnZXQ7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3MgPSBzdWJjaGFubmVsQWRkcmVzcztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25uZWN0b3IgPSBjb25uZWN0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3ViY2hhbm5lbCdzIGN1cnJlbnQgY29ubmVjdGl2aXR5IHN0YXRlLiBJbnZhcmlhbnQ6IGBzZXNzaW9uYCA9PT0gYG51bGxgXG4gICAgICAgICAqIGlmIGFuZCBvbmx5IGlmIGBjb25uZWN0aXZpdHlTdGF0ZWAgaXMgSURMRSBvciBUUkFOU0lFTlRfRkFJTFVSRS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHVuZGVybHlpbmcgaHR0cDIgc2Vzc2lvbiB1c2VkIHRvIG1ha2UgcmVxdWVzdHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgc3ViY2hhbm5lbCBzaG91bGQgdHJhbnNpdGlvbiBmcm9tIFRSQU5TSUVOVF9GQUlMVVJFIHRvXG4gICAgICAgICAqIENPTk5FQ1RJTkcgaW5zdGVhZCBvZiBJRExFIHdoZW4gdGhlIGJhY2tvZmYgdGltZW91dCBlbmRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb250aW51ZUNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbGlzdCBvZiBsaXN0ZW5lciBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgY29ubmVjdGl2aXR5XG4gICAgICAgICAqIHN0YXRlIGNoYW5nZXMuIFdpbGwgYmUgbW9kaWZpZWQgYnkgYGFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXJgIGFuZFxuICAgICAgICAgKiBgcmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGVMaXN0ZW5lcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmFja3MgY2hhbm5lbHMgYW5kIHN1YmNoYW5uZWwgcG9vbHMgd2l0aCByZWZlcmVuY2VzIHRvIHRoaXMgc3ViY2hhbm5lbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWZjb3VudCA9IDA7XG4gICAgICAgIC8vIENoYW5uZWx6IGluZm9cbiAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRhdGFQcm9kdWNlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbENoYW5uZWwgPSBudWxsO1xuICAgICAgICBjb25zdCBiYWNrb2ZmT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGluaXRpYWxEZWxheTogb3B0aW9uc1snZ3JwYy5pbml0aWFsX3JlY29ubmVjdF9iYWNrb2ZmX21zJ10sXG4gICAgICAgICAgICBtYXhEZWxheTogb3B0aW9uc1snZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dCA9IG5ldyBiYWNrb2ZmX3RpbWVvdXRfMS5CYWNrb2ZmVGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUJhY2tvZmZUaW1lcigpO1xuICAgICAgICB9LCBiYWNrb2ZmT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYmFja29mZlRpbWVvdXQudW5yZWYoKTtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShzdWJjaGFubmVsQWRkcmVzcyk7XG4gICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IChfYSA9IG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogLTE7XG4gICAgICAgIGlmIChvcHRpb25zWydncnBjLmVuYWJsZV9jaGFubmVseiddID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpUcmFjZVN0dWIoKTtcbiAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyU3R1YigpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlclN0dWIoKTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXJTdHViKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVselRyYWNlKCk7XG4gICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlcigpO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U3ViY2hhbm5lbCkodGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZywgKCkgPT4gdGhpcy5nZXRDaGFubmVsekluZm8oKSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnU3ViY2hhbm5lbCBjcmVhdGVkJyk7XG4gICAgICAgIHRoaXMudHJhY2UoJ1N1YmNoYW5uZWwgY29uc3RydWN0ZWQgd2l0aCBvcHRpb25zICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgdW5kZWZpbmVkLCAyKSk7XG4gICAgICAgIHRoaXMuc2VjdXJlQ29ubmVjdG9yID0gY3JlZGVudGlhbHMuX2NyZWF0ZVNlY3VyZUNvbm5lY3RvcihjaGFubmVsVGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpJbmZvKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdGU6IHRoaXMuY29ubmVjdGl2aXR5U3RhdGUsXG4gICAgICAgICAgICB0cmFjZTogdGhpcy5jaGFubmVselRyYWNlLFxuICAgICAgICAgICAgY2FsbFRyYWNrZXI6IHRoaXMuY2FsbFRyYWNrZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogdGhpcy5jaGlsZHJlblRyYWNrZXIuZ2V0Q2hpbGRMaXN0cygpLFxuICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG4gICAgcmVmVHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgJ3N1YmNoYW5uZWxfcmVmY291bnQnLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHRleHQpO1xuICAgIH1cbiAgICBoYW5kbGVCYWNrb2ZmVGltZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRpbnVlQ29ubmVjdGluZykge1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkVdLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFXSwgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnQgYSBiYWNrb2ZmIHRpbWVyIHdpdGggdGhlIGN1cnJlbnQgbmV4dEJhY2tvZmYgdGltZW91dFxuICAgICAqL1xuICAgIHN0YXJ0QmFja29mZigpIHtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5ydW5PbmNlKCk7XG4gICAgfVxuICAgIHN0b3BCYWNrb2ZmKCkge1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lb3V0LnN0b3AoKTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5yZXNldCgpO1xuICAgIH1cbiAgICBzdGFydENvbm5lY3RpbmdJbnRlcm5hbCgpIHtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG4gICAgICAgIGlmIChvcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lX21zJ10pIHtcbiAgICAgICAgICAgIGNvbnN0IGFkanVzdGVkS2VlcGFsaXZlVGltZSA9IE1hdGgubWluKHRoaXMua2VlcGFsaXZlVGltZSwgS0VFUEFMSVZFX01BWF9USU1FX01TKTtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpLCB7ICdncnBjLmtlZXBhbGl2ZV90aW1lX21zJzogYWRqdXN0ZWRLZWVwYWxpdmVUaW1lIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdG9yXG4gICAgICAgICAgICAuY29ubmVjdCh0aGlzLnN1YmNoYW5uZWxBZGRyZXNzLCB0aGlzLnNlY3VyZUNvbm5lY3Rvciwgb3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKHRyYW5zcG9ydCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElOR10sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZCh0cmFuc3BvcnQuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYW5zcG9ydC5hZGREaXNjb25uZWN0TGlzdGVuZXIodG9vTWFueVBpbmdzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFldLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb01hbnlQaW5ncyAmJiB0aGlzLmtlZXBhbGl2ZVRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWUgKj0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgYENvbm5lY3Rpb24gdG8gJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLmNoYW5uZWxUYXJnZXQpfSBhdCAke3RoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmd9IHJlamVjdGVkIGJ5IHNlcnZlciBiZWNhdXNlIG9mIGV4Y2VzcyBwaW5ncy4gSW5jcmVhc2luZyBwaW5nIGludGVydmFsIHRvICR7dGhpcy5rZWVwYWxpdmVUaW1lfSBtc2ApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiBJZiB3ZSBjYW4ndCB0cmFuc2l0aW9uIGZyb20gQ09OTkVDVElORyB0byBSRUFEWSBoZXJlLCB3ZSB3aWxsXG4gICAgICAgICAgICAgICAgICogbm90IGJlIHVzaW5nIHRoaXMgdHJhbnNwb3J0LCBzbyByZWxlYXNlIGl0cyByZXNvdXJjZXMuICovXG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0LnNodXRkb3duKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkddLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgYCR7ZXJyb3J9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbml0aWF0ZSBhIHN0YXRlIHRyYW5zaXRpb24gZnJvbSBhbnkgZWxlbWVudCBvZiBvbGRTdGF0ZXMgdG8gdGhlIG5ld1xuICAgICAqIHN0YXRlLiBJZiB0aGUgY3VycmVudCBjb25uZWN0aXZpdHlTdGF0ZSBpcyBub3QgaW4gb2xkU3RhdGVzLCBkbyBub3RoaW5nLlxuICAgICAqIEBwYXJhbSBvbGRTdGF0ZXMgVGhlIHNldCBvZiBzdGF0ZXMgdG8gdHJhbnNpdGlvbiBmcm9tXG4gICAgICogQHBhcmFtIG5ld1N0YXRlIFRoZSBzdGF0ZSB0byB0cmFuc2l0aW9uIHRvXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgc3RhdGUgY2hhbmdlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgdHJhbnNpdGlvblRvU3RhdGUob2xkU3RhdGVzLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmIChvbGRTdGF0ZXMuaW5kZXhPZih0aGlzLmNvbm5lY3Rpdml0eVN0YXRlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY29ubmVjdGl2aXR5U3RhdGVdICtcbiAgICAgICAgICAgICAgICAnIC0+ICcgK1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSArXG4gICAgICAgICAgICAgICAgJyB3aXRoIGVycm9yIFwiJyArIGVycm9yTWVzc2FnZSArICdcIicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFjZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVt0aGlzLmNvbm5lY3Rpdml0eVN0YXRlXSArXG4gICAgICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpdml0eSBzdGF0ZSBjaGFuZ2UgdG8gJyArIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHRoaXMuY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgc3dpdGNoIChuZXdTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWTpcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BCYWNrb2ZmKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydEJhY2tvZmYoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q29ubmVjdGluZ0ludGVybmFsKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250aW51ZUNvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkU6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkICYmIHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQodGhpcy50cmFuc3BvcnQuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYSA9IHRoaXMudHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2h1dGRvd24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlIGJhY2tvZmYgdGltZXIgaGFzIGFscmVhZHkgZW5kZWQgYnkgdGhlIHRpbWUgd2UgZ2V0IHRvIHRoZVxuICAgICAgICAgICAgICAgICAqIFRSQU5TSUVOVF9GQUlMVVJFIHN0YXRlLCB3ZSB3YW50IHRvIGltbWVkaWF0ZWx5IHRyYW5zaXRpb24gb3V0IG9mXG4gICAgICAgICAgICAgICAgICogVFJBTlNJRU5UX0ZBSUxVUkUgYXMgdGhvdWdoIHRoZSBiYWNrb2ZmIHRpbWVyIGlzIGVuZGluZyByaWdodCBub3cgKi9cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYmFja29mZlRpbWVvdXQuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUJhY2tvZmZUaW1lcigpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkICYmIHRoaXMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQodGhpcy50cmFuc3BvcnQuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChfYiA9IHRoaXMudHJhbnNwb3J0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2h1dGRvd24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzdGF0ZTogdW5rbm93biBDb25uZWN0aXZpdHlTdGF0ZSAke25ld1N0YXRlfWApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5zdGF0ZUxpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcywgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIHRoaXMua2VlcGFsaXZlVGltZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVmKCkge1xuICAgICAgICB0aGlzLnJlZlRyYWNlKCdyZWZjb3VudCAnICsgdGhpcy5yZWZjb3VudCArICcgLT4gJyArICh0aGlzLnJlZmNvdW50ICsgMSkpO1xuICAgICAgICB0aGlzLnJlZmNvdW50ICs9IDE7XG4gICAgfVxuICAgIHVucmVmKCkge1xuICAgICAgICB0aGlzLnJlZlRyYWNlKCdyZWZjb3VudCAnICsgdGhpcy5yZWZjb3VudCArICcgLT4gJyArICh0aGlzLnJlZmNvdW50IC0gMSkpO1xuICAgICAgICB0aGlzLnJlZmNvdW50IC09IDE7XG4gICAgICAgIGlmICh0aGlzLnJlZmNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnU2h1dHRpbmcgZG93bicpO1xuICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgIHRoaXMuc2VjdXJlQ29ubmVjdG9yLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvblRvU3RhdGUoW2Nvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcsIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZXSwgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1bnJlZklmT25lUmVmKCkge1xuICAgICAgICBpZiAodGhpcy5yZWZjb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy51bnJlZigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjcmVhdGVDYWxsKG1ldGFkYXRhLCBob3N0LCBtZXRob2QsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICghdGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSBjYWxsLCBzdWJjaGFubmVsIG5vdCBSRUFEWScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGF0c1RyYWNrZXI7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsU3RhcnRlZCgpO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICBzdGF0c1RyYWNrZXIgPSB7XG4gICAgICAgICAgICAgICAgb25DYWxsRW5kOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsU3VjY2VlZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdHNUcmFja2VyID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LmNyZWF0ZUNhbGwobWV0YWRhdGEsIGhvc3QsIG1ldGhvZCwgbGlzdGVuZXIsIHN0YXRzVHJhY2tlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSBzdWJjaGFubmVsIGlzIGN1cnJlbnRseSBJRExFLCBzdGFydCBjb25uZWN0aW5nIGFuZCBzd2l0Y2ggdG8gdGhlXG4gICAgICogQ09OTkVDVElORyBzdGF0ZS4gSWYgdGhlIHN1YmNoYW5uZWwgaXMgY3VycmVudCBpbiBUUkFOU0lFTlRfRkFJTFVSRSxcbiAgICAgKiB0aGUgbmV4dCB0aW1lIGl0IHdvdWxkIHRyYW5zaXRpb24gdG8gSURMRSwgc3RhcnQgY29ubmVjdGluZyBhZ2FpbiBpbnN0ZWFkLlxuICAgICAqIE90aGVyd2lzZSwgZG8gbm90aGluZy5cbiAgICAgKi9cbiAgICBzdGFydENvbm5lY3RpbmcoKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgLyogRmlyc3QsIHRyeSB0byB0cmFuc2l0aW9uIGZyb20gSURMRSB0byBjb25uZWN0aW5nLiBJZiB0aGF0IGRvZXNuJ3QgaGFwcGVuXG4gICAgICAgICAgICAgKiBiZWNhdXNlIHRoZSBzdGF0ZSBpcyBub3QgY3VycmVudGx5IElETEUsIGNoZWNrIGlmIGl0IGlzXG4gICAgICAgICAgICAgKiBUUkFOU0lFTlRfRkFJTFVSRSwgYW5kIGlmIHNvIGluZGljYXRlIHRoYXQgaXQgc2hvdWxkIGdvIGJhY2sgdG9cbiAgICAgICAgICAgICAqIGNvbm5lY3RpbmcgYWZ0ZXIgdGhlIGJhY2tvZmYgdGltZXIgZW5kcy4gT3RoZXJ3aXNlIGRvIG5vdGhpbmcgKi9cbiAgICAgICAgICAgIGlmICghdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRV0sIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGludWVDb25uZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN1YmNoYW5uZWwncyBjdXJyZW50IGNvbm5lY3Rpdml0eSBzdGF0ZS5cbiAgICAgKi9cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZCBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGUgc3ViY2hhbm5lbCdzXG4gICAgICogY29ubmVjdGl2aXR5IHN0YXRlIGNoYW5nZXMuXG4gICAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAgICovXG4gICAgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnN0YXRlTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGxpc3RlbmVyIHByZXZpb3VzbHkgYWRkZWQgd2l0aCBgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmBcbiAgICAgKiBAcGFyYW0gbGlzdGVuZXIgQSByZWZlcmVuY2UgdG8gYSBmdW5jdGlvbiBwcmV2aW91c2x5IHBhc3NlZCB0b1xuICAgICAqICAgICBgYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcmBcbiAgICAgKi9cbiAgICByZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuc3RhdGVMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGJhY2tvZmYgdGltZW91dCwgYW5kIGltbWVkaWF0ZWx5IHN0YXJ0IGNvbm5lY3RpbmcgaWYgaW4gYmFja29mZi5cbiAgICAgKi9cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5iYWNrb2ZmVGltZW91dC5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9TdGF0ZShbY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkVdLCBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nO1xuICAgIH1cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHpSZWY7XG4gICAgfVxuICAgIGlzSGVhbHRoeSgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGFkZEhlYWx0aFN0YXRlV2F0Y2hlcihsaXN0ZW5lcikge1xuICAgICAgICAvLyBEbyBub3RoaW5nIHdpdGggdGhlIGxpc3RlbmVyXG4gICAgfVxuICAgIHJlbW92ZUhlYWx0aFN0YXRlV2F0Y2hlcihsaXN0ZW5lcikge1xuICAgICAgICAvLyBEbyBub3RoaW5nIHdpdGggdGhlIGxpc3RlbmVyXG4gICAgfVxuICAgIGdldFJlYWxTdWJjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVhbFN1YmNoYW5uZWxFcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG90aGVyLmdldFJlYWxTdWJjaGFubmVsKCkgPT09IHRoaXM7XG4gICAgfVxuICAgIHRocm90dGxlS2VlcGFsaXZlKG5ld0tlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgaWYgKG5ld0tlZXBhbGl2ZVRpbWUgPiB0aGlzLmtlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IG5ld0tlZXBhbGl2ZVRpbWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q2FsbENyZWRlbnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWN1cmVDb25uZWN0b3IuZ2V0Q2FsbENyZWRlbnRpYWxzKCk7XG4gICAgfVxuICAgIGdldENoYW5uZWwoKSB7XG4gICAgICAgIGlmICghdGhpcy5zdWJjaGFubmVsQ2hhbm5lbCkge1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQ2hhbm5lbCA9IG5ldyBzaW5nbGVfc3ViY2hhbm5lbF9jaGFubmVsXzEuU2luZ2xlU3ViY2hhbm5lbENoYW5uZWwodGhpcywgdGhpcy5jaGFubmVsVGFyZ2V0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN1YmNoYW5uZWxDaGFubmVsO1xuICAgIH1cbiAgICBhZGREYXRhV2F0Y2hlcihkYXRhV2F0Y2hlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuICAgIH1cbiAgICBnZXRPckNyZWF0ZURhdGFQcm9kdWNlcihuYW1lLCBjcmVhdGVEYXRhUHJvZHVjZXIpIHtcbiAgICAgICAgY29uc3QgZXhpc3RpbmdQcm9kdWNlciA9IHRoaXMuZGF0YVByb2R1Y2Vycy5nZXQobmFtZSk7XG4gICAgICAgIGlmIChleGlzdGluZ1Byb2R1Y2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdQcm9kdWNlcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdQcm9kdWNlciA9IGNyZWF0ZURhdGFQcm9kdWNlcih0aGlzKTtcbiAgICAgICAgdGhpcy5kYXRhUHJvZHVjZXJzLnNldChuYW1lLCBuZXdQcm9kdWNlcik7XG4gICAgICAgIHJldHVybiBuZXdQcm9kdWNlcjtcbiAgICB9XG4gICAgcmVtb3ZlRGF0YVByb2R1Y2VyKG5hbWUpIHtcbiAgICAgICAgdGhpcy5kYXRhUHJvZHVjZXJzLmRlbGV0ZShuYW1lKTtcbiAgICB9XG59XG5leHBvcnRzLlN1YmNoYW5uZWwgPSBTdWJjaGFubmVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ViY2hhbm5lbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNCBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xudmFyIF9hO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5HUlBDX05PREVfVVNFX0FMVEVSTkFUSVZFX1JFU09MVkVSID0gdm9pZCAwO1xuZXhwb3J0cy5HUlBDX05PREVfVVNFX0FMVEVSTkFUSVZFX1JFU09MVkVSID0gKChfYSA9IHByb2Nlc3MuZW52LkdSUENfTk9ERV9VU0VfQUxURVJOQVRJVkVfUkVTT0xWRVIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdmYWxzZScpID09PSAndHJ1ZSc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnZpcm9ubWVudC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRFRkFVTFRfUE9SVCA9IHZvaWQgMDtcbmV4cG9ydHMuc2V0dXAgPSBzZXR1cDtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IGRuc18xID0gcmVxdWlyZShcImRuc1wiKTtcbmNvbnN0IHNlcnZpY2VfY29uZmlnXzEgPSByZXF1aXJlKFwiLi9zZXJ2aWNlLWNvbmZpZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgY2FsbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2NhbGwtaW50ZXJmYWNlXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMiA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCBiYWNrb2ZmX3RpbWVvdXRfMSA9IHJlcXVpcmUoXCIuL2JhY2tvZmYtdGltZW91dFwiKTtcbmNvbnN0IGVudmlyb25tZW50XzEgPSByZXF1aXJlKFwiLi9lbnZpcm9ubWVudFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ2Ruc19yZXNvbHZlcic7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMi5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbi8qKlxuICogVGhlIGRlZmF1bHQgVENQIHBvcnQgdG8gY29ubmVjdCB0byBpZiBub3QgZXhwbGljaXRseSBzcGVjaWZpZWQgaW4gdGhlIHRhcmdldC5cbiAqL1xuZXhwb3J0cy5ERUZBVUxUX1BPUlQgPSA0NDM7XG5jb25zdCBERUZBVUxUX01JTl9USU1FX0JFVFdFRU5fUkVTT0xVVElPTlNfTVMgPSAzMDAwMDtcbi8qKlxuICogUmVzb2x2ZXIgaW1wbGVtZW50YXRpb24gdGhhdCBoYW5kbGVzIEROUyBuYW1lcyBhbmQgSVAgYWRkcmVzc2VzLlxuICovXG5jbGFzcyBEbnNSZXNvbHZlciB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBsaXN0ZW5lciwgY2hhbm5lbE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdUeHRQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdFNlcnZpY2VDb25maWdSZXN1bHQgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU2VydmljZUNvbmZpZ0VuYWJsZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJldHVybmVkSXBSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hbHRlcm5hdGl2ZVJlc29sdmVyID0gbmV3IGRuc18xLnByb21pc2VzLlJlc29sdmVyKCk7XG4gICAgICAgIHRyYWNlKCdSZXNvbHZlciBjb25zdHJ1Y3RlZCBmb3IgdGFyZ2V0ICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0YXJnZXQpKTtcbiAgICAgICAgaWYgKHRhcmdldC5hdXRob3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlci5zZXRTZXJ2ZXJzKFt0YXJnZXQuYXV0aG9yaXR5XSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaG9zdFBvcnQgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHRhcmdldC5wYXRoKTtcbiAgICAgICAgaWYgKGhvc3RQb3J0ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlwUmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZG5zSG9zdG5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgoMCwgbmV0XzEuaXNJUHY0KShob3N0UG9ydC5ob3N0KSB8fCAoMCwgbmV0XzEuaXNJUHY2KShob3N0UG9ydC5ob3N0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaXBSZXN1bHQgPSBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZHJlc3NlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9zdDogaG9zdFBvcnQuaG9zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogKF9hID0gaG9zdFBvcnQucG9ydCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZXhwb3J0cy5ERUZBVUxUX1BPUlQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICB0aGlzLmRuc0hvc3RuYW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pcFJlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5kbnNIb3N0bmFtZSA9IGhvc3RQb3J0Lmhvc3Q7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3J0ID0gKF9iID0gaG9zdFBvcnQucG9ydCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZXhwb3J0cy5ERUZBVUxUX1BPUlQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gTWF0aC5yYW5kb20oKSAqIDEwMDtcbiAgICAgICAgaWYgKGNoYW5uZWxPcHRpb25zWydncnBjLnNlcnZpY2VfY29uZmlnX2Rpc2FibGVfcmVzb2x1dGlvbiddID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmlzU2VydmljZUNvbmZpZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlZmF1bHRSZXNvbHV0aW9uRXJyb3IgPSB7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICBkZXRhaWxzOiBgTmFtZSByZXNvbHV0aW9uIGZhaWxlZCBmb3IgdGFyZ2V0ICR7KDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpfWAsXG4gICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYmFja29mZk9wdGlvbnMgPSB7XG4gICAgICAgICAgICBpbml0aWFsRGVsYXk6IGNoYW5uZWxPcHRpb25zWydncnBjLmluaXRpYWxfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgICAgIG1heERlbGF5OiBjaGFubmVsT3B0aW9uc1snZ3JwYy5tYXhfcmVjb25uZWN0X2JhY2tvZmZfbXMnXSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmID0gbmV3IGJhY2tvZmZfdGltZW91dF8xLkJhY2tvZmZUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRpbnVlUmVzb2x2aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFJlc29sdXRpb25XaXRoQmFja29mZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBiYWNrb2ZmT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYmFja29mZi51bnJlZigpO1xuICAgICAgICB0aGlzLm1pblRpbWVCZXR3ZWVuUmVzb2x1dGlvbnNNcyA9XG4gICAgICAgICAgICAoX2MgPSBjaGFubmVsT3B0aW9uc1snZ3JwYy5kbnNfbWluX3RpbWVfYmV0d2Vlbl9yZXNvbHV0aW9uc19tcyddKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBERUZBVUxUX01JTl9USU1FX0JFVFdFRU5fUkVTT0xVVElPTlNfTVM7XG4gICAgICAgIHRoaXMubmV4dFJlc29sdXRpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4geyB9LCAwKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSB0YXJnZXQgaXMgYW4gSVAgYWRkcmVzcywganVzdCBwcm92aWRlIHRoYXQgYWRkcmVzcyBhcyBhIHJlc3VsdC5cbiAgICAgKiBPdGhlcndpc2UsIGluaXRpYXRlIEEsIEFBQUEsIGFuZCBUWFQgbG9va3Vwc1xuICAgICAqL1xuICAgIHN0YXJ0UmVzb2x1dGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXBSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZXR1cm5lZElwUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ1JldHVybmluZyBJUCBhZGRyZXNzIGZvciB0YXJnZXQgJyArICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSk7XG4gICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcigoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21WYWx1ZSkodGhpcy5pcFJlc3VsdCksIHt9LCBudWxsLCAnJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXR1cm5lZElwUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5zdG9wKCk7XG4gICAgICAgICAgICB0aGlzLmJhY2tvZmYucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kbnNIb3N0bmFtZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdHJhY2UoJ0ZhaWxlZCB0byBwYXJzZSBETlMgYWRkcmVzcyAnICsgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpKTtcbiAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcigoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21FcnJvcikoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBGYWlsZWQgdG8gcGFyc2UgRE5TIGFkZHJlc3MgJHsoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCl9YFxuICAgICAgICAgICAgICAgIH0pLCB7fSwgbnVsbCwgJycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnN0b3BOZXh0UmVzb2x1dGlvblRpbWVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNlKCdMb29raW5nIHVwIEROUyBob3N0bmFtZSAnICsgdGhpcy5kbnNIb3N0bmFtZSk7XG4gICAgICAgICAgICAvKiBXZSBjbGVhciBvdXQgbGF0ZXN0TG9va3VwUmVzdWx0IGhlcmUgdG8gZW5zdXJlIHRoYXQgaXQgY29udGFpbnMgdGhlXG4gICAgICAgICAgICAgKiBsYXRlc3QgcmVzdWx0IHNpbmNlIHRoZSBsYXN0IHRpbWUgd2Ugc3RhcnRlZCByZXNvbHZpbmcuIFRoYXQgd2F5LCB0aGVcbiAgICAgICAgICAgICAqIFRYVCByZXNvbHV0aW9uIGhhbmRsZXIgY2FuIHVzZSBpdCwgYnV0IG9ubHkgaWYgaXQgZmluaXNoZXMgc2Vjb25kLiBXZVxuICAgICAgICAgICAgICogZG9uJ3QgY2xlYXIgb3V0IGFueSBwcmV2aW91cyBzZXJ2aWNlIGNvbmZpZyByZXN1bHRzIGJlY2F1c2UgaXQnc1xuICAgICAgICAgICAgICogYmV0dGVyIHRvIHVzZSBhIHNlcnZpY2UgY29uZmlnIHRoYXQncyBzbGlnaHRseSBvdXQgb2YgZGF0ZSB0aGFuIHRvXG4gICAgICAgICAgICAgKiByZXZlcnQgdG8gYW4gZWZmZWN0aXZlbHkgYmxhbmsgb25lLiAqL1xuICAgICAgICAgICAgdGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgY29uc3QgaG9zdG5hbWUgPSB0aGlzLmRuc0hvc3RuYW1lO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IHRoaXMubG9va3VwKGhvc3RuYW1lKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UudGhlbihhZGRyZXNzTGlzdCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdMb29rdXBQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCA9ICgwLCBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbVZhbHVlKShhZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzZXM6IFthZGRyZXNzXSxcbiAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbEFkZHJlc3Nlc1N0cmluZyA9ICdbJyArXG4gICAgICAgICAgICAgICAgICAgIGFkZHJlc3NMaXN0Lm1hcChhZGRyID0+IGFkZHIuaG9zdCArICc6JyArIGFkZHIucG9ydCkuam9pbignLCcpICtcbiAgICAgICAgICAgICAgICAgICAgJ10nO1xuICAgICAgICAgICAgICAgIHRyYWNlKCdSZXNvbHZlZCBhZGRyZXNzZXMgZm9yIHRhcmdldCAnICtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy50YXJnZXQpICtcbiAgICAgICAgICAgICAgICAgICAgJzogJyArXG4gICAgICAgICAgICAgICAgICAgIGFsbEFkZHJlc3Nlc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlIFRYVCBsb29rdXAgaGFzIG5vdCB5ZXQgZmluaXNoZWQsIGJvdGggb2YgdGhlIGxhc3QgdHdvXG4gICAgICAgICAgICAgICAgICogYXJndW1lbnRzIHdpbGwgYmUgbnVsbCwgd2hpY2ggaXMgdGhlIGVxdWl2YWxlbnQgb2YgZ2V0dGluZyBhblxuICAgICAgICAgICAgICAgICAqIGVtcHR5IFRYVCByZXNwb25zZS4gV2hlbiB0aGUgVFhUIGxvb2t1cCBkb2VzIGZpbmlzaCwgaXRzIGhhbmRsZXJcbiAgICAgICAgICAgICAgICAgKiBjYW4gdXBkYXRlIHRoZSBzZXJ2aWNlIGNvbmZpZyBieSB1c2luZyB0aGUgc2FtZSBhZGRyZXNzIGxpc3QgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBoZWFsdGhTdGF0dXMgPSB0aGlzLmxpc3RlbmVyKHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0LCB7fSwgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnUmVzdWx0LCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVIZWFsdGhTdGF0dXMoaGVhbHRoU3RhdHVzKTtcbiAgICAgICAgICAgIH0sIGVyciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFjZSgnUmVzb2x1dGlvbiBlcnJvciBmb3IgdGFyZ2V0ICcgK1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgK1xuICAgICAgICAgICAgICAgICAgICAnOiAnICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyKCgwLCBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbUVycm9yKSh0aGlzLmRlZmF1bHRSZXNvbHV0aW9uRXJyb3IpLCB7fSwgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnUmVzdWx0LCAnJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qIElmIHRoZXJlIGFscmVhZHkgaXMgYSBzdGlsbC1wZW5kaW5nIFRYVCByZXNvbHV0aW9uLCB3ZSBjYW4ganVzdCB1c2VcbiAgICAgICAgICAgICAqIHRoYXQgcmVzdWx0IHdoZW4gaXQgY29tZXMgaW4gKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2VydmljZUNvbmZpZ0VuYWJsZWQgJiYgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8qIFdlIGhhbmRsZSB0aGUgVFhUIHF1ZXJ5IHByb21pc2UgZGlmZmVyZW50bHkgdGhhbiB0aGUgb3RoZXJzIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgKiB0aGUgbmFtZSByZXNvbHV0aW9uIGF0dGVtcHQgYXMgYSB3aG9sZSBpcyBhIHN1Y2Nlc3MgZXZlbiBpZiB0aGUgVFhUXG4gICAgICAgICAgICAgICAgICogbG9va3VwIGZhaWxzICovXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9IHRoaXMucmVzb2x2ZVR4dChob3N0bmFtZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZS50aGVuKHR4dFJlY29yZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdUeHRQcm9taXNlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVHh0UHJvbWlzZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZXJ2aWNlQ29uZmlnO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZUNvbmZpZyA9ICgwLCBzZXJ2aWNlX2NvbmZpZ18xLmV4dHJhY3RBbmRTZWxlY3RTZXJ2aWNlQ29uZmlnKSh0eHRSZWNvcmQsIHRoaXMucGVyY2VudGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmljZUNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ1Jlc3VsdCA9ICgwLCBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbVZhbHVlKShzZXJ2aWNlQ29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ1Jlc3VsdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnUmVzdWx0ID0gKDAsIGNhbGxfaW50ZXJmYWNlXzEuc3RhdHVzT3JGcm9tRXJyb3IpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFBhcnNpbmcgc2VydmljZSBjb25maWcgZmFpbGVkIHdpdGggZXJyb3IgJHtlcnIubWVzc2FnZX1gXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXRlc3RMb29rdXBSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFdlIHJlbHkgaGVyZSBvbiB0aGUgYXNzdW1wdGlvbiB0aGF0IGNhbGxpbmcgdGhpcyBmdW5jdGlvbiB3aXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBpZGVudGljYWwgcGFyYW1ldGVycyB3aWxsIGJlIGVzc2VudGlhbHkgaWRlbXBvdGVudCwgYW5kIGNhbGxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGl0IHdpdGggdGhlIHNhbWUgYWRkcmVzcyBsaXN0IGFuZCBhIGRpZmZlcmVudCBzZXJ2aWNlIGNvbmZpZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICogc2hvdWxkIHJlc3VsdCBpbiBhIGZhc3QgYW5kIHNlYW1sZXNzIHN3aXRjaG92ZXIuICovXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyKHRoaXMubGF0ZXN0TG9va3VwUmVzdWx0LCB7fSwgdGhpcy5sYXRlc3RTZXJ2aWNlQ29uZmlnUmVzdWx0LCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiBUWFQgbG9va3VwIGZhaWxzIHdlIHNob3VsZCBkbyBub3RoaW5nLCB3aGljaCBtZWFucyB0aGF0IHdlXG4gICAgICAgICAgICAgICAgICAgICAqIGNvbnRpbnVlIHRvIHVzZSB0aGUgcmVzdWx0IG9mIHRoZSBtb3N0IHJlY2VudCBzdWNjZXNzZnVsIGxvb2t1cCxcbiAgICAgICAgICAgICAgICAgICAgICogb3IgdGhlIGRlZmF1bHQgbnVsbCBjb25maWcgb2JqZWN0IGlmIHRoZXJlIGhhcyBuZXZlciBiZWVuIGFcbiAgICAgICAgICAgICAgICAgICAgICogc3VjY2Vzc2Z1bCBsb29rdXAuIFdlIGRvIG5vdCBzZXQgdGhlIGxhdGVzdFNlcnZpY2VDb25maWdFcnJvclxuICAgICAgICAgICAgICAgICAgICAgKiBoZXJlIGJlY2F1c2UgdGhhdCBpcyBzcGVjaWZpY2FsbHkgdXNlZCBmb3IgcmVzcG9uc2UgdmFsaWRhdGlvblxuICAgICAgICAgICAgICAgICAgICAgKiBlcnJvcnMuIFdlIHN0aWxsIG5lZWQgdG8gaGFuZGxlIHRoaXMgZXJyb3Igc28gdGhhdCBpdCBkb2VzIG5vdFxuICAgICAgICAgICAgICAgICAgICAgKiBidWJibGUgdXAgYXMgYW4gdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uLiAqL1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBSZXNvbHZlckxpc3RlbmVyIHJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgTEIgcG9saWN5XG4gICAgICogYWNjZXB0ZWQgdGhlIHJlc29sdXRpb24gcmVzdWx0LiBBIGZhbHNlIHJlc3VsdCBvbiBhbiBvdGhlcndpc2Ugc3VjY2Vzc2Z1bFxuICAgICAqIHJlc29sdXRpb24gc2hvdWxkIGJlIHRyZWF0ZWQgYXMgYSByZXNvbHV0aW9uIGZhaWx1cmUuXG4gICAgICogQHBhcmFtIGhlYWx0aFN0YXR1c1xuICAgICAqL1xuICAgIGhhbmRsZUhlYWx0aFN0YXR1cyhoZWFsdGhTdGF0dXMpIHtcbiAgICAgICAgaWYgKGhlYWx0aFN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5iYWNrb2ZmLnN0b3AoKTtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb250aW51ZVJlc29sdmluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgbG9va3VwKGhvc3RuYW1lKSB7XG4gICAgICAgIGlmIChlbnZpcm9ubWVudF8xLkdSUENfTk9ERV9VU0VfQUxURVJOQVRJVkVfUkVTT0xWRVIpIHtcbiAgICAgICAgICAgIHRyYWNlKCdVc2luZyBhbHRlcm5hdGl2ZSBETlMgcmVzb2x2ZXIuJyk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKFtcbiAgICAgICAgICAgICAgICB0aGlzLmFsdGVybmF0aXZlUmVzb2x2ZXIucmVzb2x2ZTQoaG9zdG5hbWUpLFxuICAgICAgICAgICAgICAgIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlci5yZXNvbHZlNihob3N0bmFtZSksXG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIGlmIChyZWNvcmRzLmV2ZXJ5KHJlc3VsdCA9PiByZXN1bHQuc3RhdHVzID09PSAncmVqZWN0ZWQnKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZWNvcmRzWzBdLnJlYXNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVjb3Jkc1xuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnXG4gICAgICAgICAgICAgICAgICAgID8gWy4uLmFjYywgLi4ucmVzdWx0LnZhbHVlXVxuICAgICAgICAgICAgICAgICAgICA6IGFjYztcbiAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoYWRkciA9PiAoe1xuICAgICAgICAgICAgICAgIGhvc3Q6IGFkZHIsXG4gICAgICAgICAgICAgICAgcG9ydDogK3RoaXMucG9ydCxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBXZSBsb29rdXAgYm90aCBhZGRyZXNzIGZhbWlsaWVzIGhlcmUgYW5kIHRoZW4gc3BsaXQgdGhlbSB1cCBsYXRlclxuICAgICAgICAgKiBiZWNhdXNlIHdoZW4gbG9va2luZyB1cCBhIHNpbmdsZSBmYW1pbHksIGRucy5sb29rdXAgb3V0cHV0cyBhbiBlcnJvclxuICAgICAgICAgKiBpZiB0aGUgbmFtZSBleGlzdHMgYnV0IHRoZXJlIGFyZSBubyByZWNvcmRzIGZvciB0aGF0IGZhbWlseSwgYW5kIHRoYXRcbiAgICAgICAgICogZXJyb3IgaXMgaW5kaXN0aW5ndWlzaGFibGUgZnJvbSBvdGhlciBraW5kcyBvZiBlcnJvcnMgKi9cbiAgICAgICAgY29uc3QgYWRkcmVzc0xpc3QgPSBhd2FpdCBkbnNfMS5wcm9taXNlcy5sb29rdXAoaG9zdG5hbWUsIHsgYWxsOiB0cnVlIH0pO1xuICAgICAgICByZXR1cm4gYWRkcmVzc0xpc3QubWFwKGFkZHIgPT4gKHsgaG9zdDogYWRkci5hZGRyZXNzLCBwb3J0OiArdGhpcy5wb3J0IH0pKTtcbiAgICB9XG4gICAgYXN5bmMgcmVzb2x2ZVR4dChob3N0bmFtZSkge1xuICAgICAgICBpZiAoZW52aXJvbm1lbnRfMS5HUlBDX05PREVfVVNFX0FMVEVSTkFUSVZFX1JFU09MVkVSKSB7XG4gICAgICAgICAgICB0cmFjZSgnVXNpbmcgYWx0ZXJuYXRpdmUgRE5TIHJlc29sdmVyLicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWx0ZXJuYXRpdmVSZXNvbHZlci5yZXNvbHZlVHh0KGhvc3RuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZG5zXzEucHJvbWlzZXMucmVzb2x2ZVR4dChob3N0bmFtZSk7XG4gICAgfVxuICAgIHN0YXJ0TmV4dFJlc29sdXRpb25UaW1lcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgICAgIHRoaXMubmV4dFJlc29sdXRpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdG9wTmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGludWVSZXNvbHZpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmVzb2x1dGlvbldpdGhCYWNrb2ZmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMubWluVGltZUJldHdlZW5SZXNvbHV0aW9uc01zKTtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5uZXh0UmVzb2x1dGlvblRpbWVyKS51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICB0aGlzLmlzTmV4dFJlc29sdXRpb25UaW1lclJ1bm5pbmcgPSB0cnVlO1xuICAgIH1cbiAgICBzdG9wTmV4dFJlc29sdXRpb25UaW1lcigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubmV4dFJlc29sdXRpb25UaW1lcik7XG4gICAgICAgIHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBzdGFydFJlc29sdXRpb25XaXRoQmFja29mZigpIHtcbiAgICAgICAgaWYgKHRoaXMucGVuZGluZ0xvb2t1cFByb21pc2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYmFja29mZi5ydW5PbmNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TmV4dFJlc29sdXRpb25UaW1lcigpO1xuICAgICAgICAgICAgdGhpcy5zdGFydFJlc29sdXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICAvKiBJZiB0aGVyZSBpcyBhIHBlbmRpbmcgbG9va3VwLCBqdXN0IGxldCBpdCBmaW5pc2guIE90aGVyd2lzZSwgaWYgdGhlXG4gICAgICAgICAqIG5leHRSZXNvbHV0aW9uVGltZXIgb3IgYmFja29mZiB0aW1lciBpcyBydW5uaW5nLCBzZXQgdGhlXG4gICAgICAgICAqIGNvbnRpbnVlUmVzb2x2aW5nIGZsYWcgdG8gcmVzb2x2ZSB3aGVuIHdoaWNoZXZlciBvZiB0aG9zZSB0aW1lcnNcbiAgICAgICAgICogZmlyZXMuIE90aGVyd2lzZSwgc3RhcnQgcmVzb2x2aW5nIGltbWVkaWF0ZWx5LiAqL1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNOZXh0UmVzb2x1dGlvblRpbWVyUnVubmluZyB8fCB0aGlzLmJhY2tvZmYuaXNSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc05leHRSZXNvbHV0aW9uVGltZXJSdW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXNvbHV0aW9uIHVwZGF0ZSBkZWxheWVkIGJ5IFwibWluIHRpbWUgYmV0d2VlbiByZXNvbHV0aW9uc1wiIHJhdGUgbGltaXQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdyZXNvbHV0aW9uIHVwZGF0ZSBkZWxheWVkIGJ5IGJhY2tvZmYgdGltZXIgdW50aWwgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tvZmYuZ2V0RW5kVGltZSgpLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRpbnVlUmVzb2x2aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRSZXNvbHV0aW9uV2l0aEJhY2tvZmYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgcmVzb2x2ZXIgdG8gdGhlIHNhbWUgc3RhdGUgaXQgaGFkIHdoZW4gaXQgd2FzIGNyZWF0ZWQuIEluLWZsaWdodFxuICAgICAqIEROUyByZXF1ZXN0cyBjYW5ub3QgYmUgY2FuY2VsbGVkLCBidXQgdGhleSBhcmUgZGlzY2FyZGVkIGFuZCB0aGVpciByZXN1bHRzXG4gICAgICogd2lsbCBiZSBpZ25vcmVkLlxuICAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuY29udGludWVSZXNvbHZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5iYWNrb2ZmLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuYmFja29mZi5zdG9wKCk7XG4gICAgICAgIHRoaXMuc3RvcE5leHRSZXNvbHV0aW9uVGltZXIoKTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTG9va3VwUHJvbWlzZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1R4dFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdExvb2t1cFJlc3VsdCA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0U2VydmljZUNvbmZpZ1Jlc3VsdCA9IG51bGw7XG4gICAgICAgIHRoaXMucmV0dXJuZWRJcFJlc3VsdCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmF1bHQgYXV0aG9yaXR5IGZvciB0aGUgZ2l2ZW4gdGFyZ2V0LiBGb3IgSVAgdGFyZ2V0cywgdGhhdCBpc1xuICAgICAqIHRoZSBJUCBhZGRyZXNzLiBGb3IgRE5TIHRhcmdldHMsIGl0IGlzIHRoZSBob3N0bmFtZS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0XG4gICAgICovXG4gICAgc3RhdGljIGdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQucGF0aDtcbiAgICB9XG59XG4vKipcbiAqIFNldCB1cCB0aGUgRE5TIHJlc29sdmVyIGNsYXNzIGJ5IHJlZ2lzdGVyaW5nIGl0IGFzIHRoZSBoYW5kbGVyIGZvciB0aGVcbiAqIFwiZG5zOlwiIHByZWZpeCBhbmQgYXMgdGhlIGRlZmF1bHQgcmVzb2x2ZXIuXG4gKi9cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAgICgwLCByZXNvbHZlcl8xLnJlZ2lzdGVyUmVzb2x2ZXIpKCdkbnMnLCBEbnNSZXNvbHZlcik7XG4gICAgKDAsIHJlc29sdmVyXzEucmVnaXN0ZXJEZWZhdWx0U2NoZW1lKSgnZG5zJyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlci1kbnMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMucGFyc2VDSURSID0gcGFyc2VDSURSO1xuZXhwb3J0cy5tYXBQcm94eU5hbWUgPSBtYXBQcm94eU5hbWU7XG5leHBvcnRzLmdldFByb3hpZWRDb25uZWN0aW9uID0gZ2V0UHJveGllZENvbm5lY3Rpb247XG5jb25zdCBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IHVybF8xID0gcmVxdWlyZShcInVybFwiKTtcbmNvbnN0IHJlc29sdmVyX2Ruc18xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXItZG5zXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAncHJveHknO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5mdW5jdGlvbiBnZXRQcm94eUluZm8oKSB7XG4gICAgbGV0IHByb3h5RW52ID0gJyc7XG4gICAgbGV0IGVudlZhciA9ICcnO1xuICAgIC8qIFByZWZlciB1c2luZyAnZ3JwY19wcm94eScuIEZhbGxiYWNrIG9uICdodHRwX3Byb3h5JyBpZiBpdCBpcyBub3Qgc2V0LlxuICAgICAqIEFsc28gcHJlZmVyIHVzaW5nICdodHRwc19wcm94eScgd2l0aCBmYWxsYmFjayBvbiAnaHR0cF9wcm94eScuIFRoZVxuICAgICAqIGZhbGxiYWNrIGJlaGF2aW9yIGNhbiBiZSByZW1vdmVkIGlmIHRoZXJlJ3MgYSBkZW1hbmQgZm9yIGl0LlxuICAgICAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5ncnBjX3Byb3h5KSB7XG4gICAgICAgIGVudlZhciA9ICdncnBjX3Byb3h5JztcbiAgICAgICAgcHJveHlFbnYgPSBwcm9jZXNzLmVudi5ncnBjX3Byb3h5O1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5odHRwc19wcm94eSkge1xuICAgICAgICBlbnZWYXIgPSAnaHR0cHNfcHJveHknO1xuICAgICAgICBwcm94eUVudiA9IHByb2Nlc3MuZW52Lmh0dHBzX3Byb3h5O1xuICAgIH1cbiAgICBlbHNlIGlmIChwcm9jZXNzLmVudi5odHRwX3Byb3h5KSB7XG4gICAgICAgIGVudlZhciA9ICdodHRwX3Byb3h5JztcbiAgICAgICAgcHJveHlFbnYgPSBwcm9jZXNzLmVudi5odHRwX3Byb3h5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBsZXQgcHJveHlVcmw7XG4gICAgdHJ5IHtcbiAgICAgICAgcHJveHlVcmwgPSBuZXcgdXJsXzEuVVJMKHByb3h5RW52KTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgYGNhbm5vdCBwYXJzZSB2YWx1ZSBvZiBcIiR7ZW52VmFyfVwiIGVudiB2YXJgKTtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBpZiAocHJveHlVcmwucHJvdG9jb2wgIT09ICdodHRwOicpIHtcbiAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgYFwiJHtwcm94eVVybC5wcm90b2NvbH1cIiBzY2hlbWUgbm90IHN1cHBvcnRlZCBpbiBwcm94eSBVUklgKTtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBsZXQgdXNlckNyZWQgPSBudWxsO1xuICAgIGlmIChwcm94eVVybC51c2VybmFtZSkge1xuICAgICAgICBpZiAocHJveHlVcmwucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuSU5GTywgJ3VzZXJpbmZvIGZvdW5kIGluIHByb3h5IFVSSScpO1xuICAgICAgICAgICAgdXNlckNyZWQgPSBkZWNvZGVVUklDb21wb25lbnQoYCR7cHJveHlVcmwudXNlcm5hbWV9OiR7cHJveHlVcmwucGFzc3dvcmR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1c2VyQ3JlZCA9IHByb3h5VXJsLnVzZXJuYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGhvc3RuYW1lID0gcHJveHlVcmwuaG9zdG5hbWU7XG4gICAgbGV0IHBvcnQgPSBwcm94eVVybC5wb3J0O1xuICAgIC8qIFRoZSBwcm94eSBVUkwgdXNlcyB0aGUgc2NoZW1lIFwiaHR0cDpcIiwgd2hpY2ggaGFzIGEgZGVmYXVsdCBwb3J0IG51bWJlciBvZlxuICAgICAqIDgwLiBXZSBuZWVkIHRvIHNldCB0aGF0IGV4cGxpY2l0bHkgaGVyZSBpZiBpdCBpcyBvbWl0dGVkIGJlY2F1c2Ugb3RoZXJ3aXNlXG4gICAgICogaXQgd2lsbCB1c2UgZ1JQQydzIGRlZmF1bHQgcG9ydCA0NDMuICovXG4gICAgaWYgKHBvcnQgPT09ICcnKSB7XG4gICAgICAgIHBvcnQgPSAnODAnO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIGFkZHJlc3M6IGAke2hvc3RuYW1lfToke3BvcnR9YCxcbiAgICB9O1xuICAgIGlmICh1c2VyQ3JlZCkge1xuICAgICAgICByZXN1bHQuY3JlZHMgPSB1c2VyQ3JlZDtcbiAgICB9XG4gICAgdHJhY2UoJ1Byb3h5IHNlcnZlciAnICsgcmVzdWx0LmFkZHJlc3MgKyAnIHNldCBieSBlbnZpcm9ubWVudCB2YXJpYWJsZSAnICsgZW52VmFyKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0Tm9Qcm94eUhvc3RMaXN0KCkge1xuICAgIC8qIFByZWZlciB1c2luZyAnbm9fZ3JwY19wcm94eScuIEZhbGxiYWNrIG9uICdub19wcm94eScgaWYgaXQgaXMgbm90IHNldC4gKi9cbiAgICBsZXQgbm9Qcm94eVN0ciA9IHByb2Nlc3MuZW52Lm5vX2dycGNfcHJveHk7XG4gICAgbGV0IGVudlZhciA9ICdub19ncnBjX3Byb3h5JztcbiAgICBpZiAoIW5vUHJveHlTdHIpIHtcbiAgICAgICAgbm9Qcm94eVN0ciA9IHByb2Nlc3MuZW52Lm5vX3Byb3h5O1xuICAgICAgICBlbnZWYXIgPSAnbm9fcHJveHknO1xuICAgIH1cbiAgICBpZiAobm9Qcm94eVN0cikge1xuICAgICAgICB0cmFjZSgnTm8gcHJveHkgc2VydmVyIGxpc3Qgc2V0IGJ5IGVudmlyb25tZW50IHZhcmlhYmxlICcgKyBlbnZWYXIpO1xuICAgICAgICByZXR1cm4gbm9Qcm94eVN0ci5zcGxpdCgnLCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn1cbi8qXG4gKiBUaGUgZ3JvdXBzIGNvcnJlc3BvbmQgdG8gQ0lEUiBwYXJ0cyBhcyBmb2xsb3dzOlxuICogMS4gaXBcbiAqIDIuIHByZWZpeExlbmd0aFxuICovXG5mdW5jdGlvbiBwYXJzZUNJRFIoY2lkclN0cmluZykge1xuICAgIGNvbnN0IHNwbGl0UmFuZ2UgPSBjaWRyU3RyaW5nLnNwbGl0KCcvJyk7XG4gICAgaWYgKHNwbGl0UmFuZ2UubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwcmVmaXhMZW5ndGggPSBwYXJzZUludChzcGxpdFJhbmdlWzFdLCAxMCk7XG4gICAgaWYgKCEoMCwgbmV0XzEuaXNJUHY0KShzcGxpdFJhbmdlWzBdKSB8fCBOdW1iZXIuaXNOYU4ocHJlZml4TGVuZ3RoKSB8fCBwcmVmaXhMZW5ndGggPCAwIHx8IHByZWZpeExlbmd0aCA+IDMyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBpcDogaXBUb0ludChzcGxpdFJhbmdlWzBdKSxcbiAgICAgICAgcHJlZml4TGVuZ3RoOiBwcmVmaXhMZW5ndGhcbiAgICB9O1xufVxuZnVuY3Rpb24gaXBUb0ludChpcCkge1xuICAgIHJldHVybiBpcC5zcGxpdChcIi5cIikucmVkdWNlKChhY2MsIG9jdGV0KSA9PiAoYWNjIDw8IDgpICsgcGFyc2VJbnQob2N0ZXQsIDEwKSwgMCk7XG59XG5mdW5jdGlvbiBpc0lwSW5DSURSKGNpZHIsIHNlcnZlckhvc3QpIHtcbiAgICBjb25zdCBpcCA9IGNpZHIuaXA7XG4gICAgY29uc3QgbWFzayA9IC0xIDw8ICgzMiAtIGNpZHIucHJlZml4TGVuZ3RoKTtcbiAgICBjb25zdCBob3N0SVAgPSBpcFRvSW50KHNlcnZlckhvc3QpO1xuICAgIHJldHVybiAoaG9zdElQICYgbWFzaykgPT09IChpcCAmIG1hc2spO1xufVxuZnVuY3Rpb24gaG9zdE1hdGNoZXNOb1Byb3h5TGlzdChzZXJ2ZXJIb3N0KSB7XG4gICAgZm9yIChjb25zdCBob3N0IG9mIGdldE5vUHJveHlIb3N0TGlzdCgpKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZENJRFIgPSBwYXJzZUNJRFIoaG9zdCk7XG4gICAgICAgIC8vIGhvc3QgaXMgYSBDSURSIGFuZCBzZXJ2ZXJIb3N0IGlzIGFuIElQIGFkZHJlc3NcbiAgICAgICAgaWYgKCgwLCBuZXRfMS5pc0lQdjQpKHNlcnZlckhvc3QpICYmIHBhcnNlZENJRFIgJiYgaXNJcEluQ0lEUihwYXJzZWRDSURSLCBzZXJ2ZXJIb3N0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc2VydmVySG9zdC5lbmRzV2l0aChob3N0KSkge1xuICAgICAgICAgICAgLy8gaG9zdCBpcyBhIHNpbmdsZSBJUCBvciBhIGRvbWFpbiBuYW1lIHN1ZmZpeFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gbWFwUHJveHlOYW1lKHRhcmdldCwgb3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBub1Byb3h5UmVzdWx0ID0ge1xuICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgZXh0cmFPcHRpb25zOiB7fSxcbiAgICB9O1xuICAgIGlmICgoKF9hID0gb3B0aW9uc1snZ3JwYy5lbmFibGVfaHR0cF9wcm94eSddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICB9XG4gICAgaWYgKHRhcmdldC5zY2hlbWUgPT09ICd1bml4Jykge1xuICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgcHJveHlJbmZvID0gZ2V0UHJveHlJbmZvKCk7XG4gICAgaWYgKCFwcm94eUluZm8uYWRkcmVzcykge1xuICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgaG9zdFBvcnQgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHRhcmdldC5wYXRoKTtcbiAgICBpZiAoIWhvc3RQb3J0KSB7XG4gICAgICAgIHJldHVybiBub1Byb3h5UmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBzZXJ2ZXJIb3N0ID0gaG9zdFBvcnQuaG9zdDtcbiAgICBpZiAoaG9zdE1hdGNoZXNOb1Byb3h5TGlzdChzZXJ2ZXJIb3N0KSkge1xuICAgICAgICB0cmFjZSgnTm90IHVzaW5nIHByb3h5IGZvciB0YXJnZXQgaW4gbm9fcHJveHkgbGlzdDogJyArICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCkpO1xuICAgICAgICByZXR1cm4gbm9Qcm94eVJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgZXh0cmFPcHRpb25zID0ge1xuICAgICAgICAnZ3JwYy5odHRwX2Nvbm5lY3RfdGFyZ2V0JzogKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGFyZ2V0KSxcbiAgICB9O1xuICAgIGlmIChwcm94eUluZm8uY3JlZHMpIHtcbiAgICAgICAgZXh0cmFPcHRpb25zWydncnBjLmh0dHBfY29ubmVjdF9jcmVkcyddID0gcHJveHlJbmZvLmNyZWRzO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICAgIHNjaGVtZTogJ2RucycsXG4gICAgICAgICAgICBwYXRoOiBwcm94eUluZm8uYWRkcmVzcyxcbiAgICAgICAgfSxcbiAgICAgICAgZXh0cmFPcHRpb25zOiBleHRyYU9wdGlvbnMsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFByb3hpZWRDb25uZWN0aW9uKGFkZHJlc3MsIGNoYW5uZWxPcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICghKCdncnBjLmh0dHBfY29ubmVjdF90YXJnZXQnIGluIGNoYW5uZWxPcHRpb25zKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICBjb25zdCByZWFsVGFyZ2V0ID0gY2hhbm5lbE9wdGlvbnNbJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCddO1xuICAgIGNvbnN0IHBhcnNlZFRhcmdldCA9ICgwLCB1cmlfcGFyc2VyXzEucGFyc2VVcmkpKHJlYWxUYXJnZXQpO1xuICAgIGlmIChwYXJzZWRUYXJnZXQgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgY29uc3Qgc3BsaXRIb3N0UG9zdCA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkocGFyc2VkVGFyZ2V0LnBhdGgpO1xuICAgIGlmIChzcGxpdEhvc3RQb3N0ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IGhvc3RQb3J0ID0gYCR7c3BsaXRIb3N0UG9zdC5ob3N0fTokeyhfYSA9IHNwbGl0SG9zdFBvc3QucG9ydCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcmVzb2x2ZXJfZG5zXzEuREVGQVVMVF9QT1JUfWA7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgbWV0aG9kOiAnQ09OTkVDVCcsXG4gICAgICAgIHBhdGg6IGhvc3RQb3J0LFxuICAgIH07XG4gICAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAgICAgSG9zdDogaG9zdFBvcnQsXG4gICAgfTtcbiAgICAvLyBDb25uZWN0IHRvIHRoZSBzdWJjaGFubmVsIGFkZHJlc3MgYXMgYSBwcm94eVxuICAgIGlmICgoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuaXNUY3BTdWJjaGFubmVsQWRkcmVzcykoYWRkcmVzcykpIHtcbiAgICAgICAgb3B0aW9ucy5ob3N0ID0gYWRkcmVzcy5ob3N0O1xuICAgICAgICBvcHRpb25zLnBvcnQgPSBhZGRyZXNzLnBvcnQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvcHRpb25zLnNvY2tldFBhdGggPSBhZGRyZXNzLnBhdGg7XG4gICAgfVxuICAgIGlmICgnZ3JwYy5odHRwX2Nvbm5lY3RfY3JlZHMnIGluIGNoYW5uZWxPcHRpb25zKSB7XG4gICAgICAgIGhlYWRlcnNbJ1Byb3h5LUF1dGhvcml6YXRpb24nXSA9XG4gICAgICAgICAgICAnQmFzaWMgJyArXG4gICAgICAgICAgICAgICAgQnVmZmVyLmZyb20oY2hhbm5lbE9wdGlvbnNbJ2dycGMuaHR0cF9jb25uZWN0X2NyZWRzJ10pLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICB9XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gaGVhZGVycztcbiAgICBjb25zdCBwcm94eUFkZHJlc3NTdHJpbmcgPSAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYWRkcmVzcyk7XG4gICAgdHJhY2UoJ1VzaW5nIHByb3h5ICcgKyBwcm94eUFkZHJlc3NTdHJpbmcgKyAnIHRvIGNvbm5lY3QgdG8gJyArIG9wdGlvbnMucGF0aCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IGh0dHAucmVxdWVzdChvcHRpb25zKTtcbiAgICAgICAgcmVxdWVzdC5vbmNlKCdjb25uZWN0JywgKHJlcywgc29ja2V0LCBoZWFkKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXNDb2RlID09PSAyMDApIHtcbiAgICAgICAgICAgICAgICB0cmFjZSgnU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wYXRoICtcbiAgICAgICAgICAgICAgICAgICAgJyB0aHJvdWdoIHByb3h5ICcgK1xuICAgICAgICAgICAgICAgICAgICBwcm94eUFkZHJlc3NTdHJpbmcpO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBIVFRQIGNsaWVudCBtYXkgaGF2ZSBhbHJlYWR5IHJlYWQgYSBmZXcgYnl0ZXMgb2YgdGhlIHByb3hpZWRcbiAgICAgICAgICAgICAgICAvLyBjb25uZWN0aW9uLiBJZiB0aGF0J3MgdGhlIGNhc2UsIHB1dCB0aGVtIGJhY2sgaW50byB0aGUgc29ja2V0LlxuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjLW5vZGUvaXNzdWVzLzI3NDQuXG4gICAgICAgICAgICAgICAgaWYgKGhlYWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQudW5zaGlmdChoZWFkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhY2UoJ1N1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCBhIHBsYWludGV4dCBjb25uZWN0aW9uIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhdGggK1xuICAgICAgICAgICAgICAgICAgICAnIHRocm91Z2ggcHJveHkgJyArXG4gICAgICAgICAgICAgICAgICAgIHByb3h5QWRkcmVzc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShzb2NrZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgKDAsIGxvZ2dpbmdfMS5sb2cpKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgJ0ZhaWxlZCB0byBjb25uZWN0IHRvICcgK1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhdGggK1xuICAgICAgICAgICAgICAgICAgICAnIHRocm91Z2ggcHJveHkgJyArXG4gICAgICAgICAgICAgICAgICAgIHByb3h5QWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAgICAgICAgICcgd2l0aCBzdGF0dXMgJyArXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlKTtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlcXVlc3Qub25jZSgnZXJyb3InLCBlcnIgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICgwLCBsb2dnaW5nXzEubG9nKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuRVJST1IsICdGYWlsZWQgdG8gY29ubmVjdCB0byBwcm94eSAnICtcbiAgICAgICAgICAgICAgICBwcm94eUFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgICAgICcgd2l0aCBlcnJvciAnICtcbiAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcXVlc3QuZW5kKCk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odHRwX3Byb3h5LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN0cmVhbURlY29kZXIgPSB2b2lkIDA7XG52YXIgUmVhZFN0YXRlO1xuKGZ1bmN0aW9uIChSZWFkU3RhdGUpIHtcbiAgICBSZWFkU3RhdGVbUmVhZFN0YXRlW1wiTk9fREFUQVwiXSA9IDBdID0gXCJOT19EQVRBXCI7XG4gICAgUmVhZFN0YXRlW1JlYWRTdGF0ZVtcIlJFQURJTkdfU0laRVwiXSA9IDFdID0gXCJSRUFESU5HX1NJWkVcIjtcbiAgICBSZWFkU3RhdGVbUmVhZFN0YXRlW1wiUkVBRElOR19NRVNTQUdFXCJdID0gMl0gPSBcIlJFQURJTkdfTUVTU0FHRVwiO1xufSkoUmVhZFN0YXRlIHx8IChSZWFkU3RhdGUgPSB7fSkpO1xuY2xhc3MgU3RyZWFtRGVjb2RlciB7XG4gICAgY29uc3RydWN0b3IobWF4UmVhZE1lc3NhZ2VMZW5ndGgpIHtcbiAgICAgICAgdGhpcy5tYXhSZWFkTWVzc2FnZUxlbmd0aCA9IG1heFJlYWRNZXNzYWdlTGVuZ3RoO1xuICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5OT19EQVRBO1xuICAgICAgICB0aGlzLnJlYWRDb21wcmVzc0ZsYWcgPSBCdWZmZXIuYWxsb2MoMSk7XG4gICAgICAgIHRoaXMucmVhZFBhcnRpYWxTaXplID0gQnVmZmVyLmFsbG9jKDQpO1xuICAgICAgICB0aGlzLnJlYWRTaXplUmVtYWluaW5nID0gNDtcbiAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVNpemUgPSAwO1xuICAgICAgICB0aGlzLnJlYWRQYXJ0aWFsTWVzc2FnZSA9IFtdO1xuICAgICAgICB0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nID0gMDtcbiAgICB9XG4gICAgd3JpdGUoZGF0YSkge1xuICAgICAgICBsZXQgcmVhZEhlYWQgPSAwO1xuICAgICAgICBsZXQgdG9SZWFkO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKHJlYWRIZWFkIDwgZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5yZWFkU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFJlYWRTdGF0ZS5OT19EQVRBOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRDb21wcmVzc0ZsYWcgPSBkYXRhLnNsaWNlKHJlYWRIZWFkLCByZWFkSGVhZCArIDEpO1xuICAgICAgICAgICAgICAgICAgICByZWFkSGVhZCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTdGF0ZSA9IFJlYWRTdGF0ZS5SRUFESU5HX1NJWkU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFBhcnRpYWxTaXplLmZpbGwoMCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFNpemVSZW1haW5pbmcgPSA0O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRNZXNzYWdlU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZE1lc3NhZ2VSZW1haW5pbmcgPSAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRQYXJ0aWFsTWVzc2FnZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFJlYWRTdGF0ZS5SRUFESU5HX1NJWkU6XG4gICAgICAgICAgICAgICAgICAgIHRvUmVhZCA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gcmVhZEhlYWQsIHRoaXMucmVhZFNpemVSZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmNvcHkodGhpcy5yZWFkUGFydGlhbFNpemUsIDQgLSB0aGlzLnJlYWRTaXplUmVtYWluaW5nLCByZWFkSGVhZCwgcmVhZEhlYWQgKyB0b1JlYWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRTaXplUmVtYWluaW5nIC09IHRvUmVhZDtcbiAgICAgICAgICAgICAgICAgICAgcmVhZEhlYWQgKz0gdG9SZWFkO1xuICAgICAgICAgICAgICAgICAgICAvLyByZWFkU2l6ZVJlbWFpbmluZyA+PTAgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWFkU2l6ZVJlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkTWVzc2FnZVNpemUgPSB0aGlzLnJlYWRQYXJ0aWFsU2l6ZS5yZWFkVUludDMyQkUoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhSZWFkTWVzc2FnZUxlbmd0aCAhPT0gLTEgJiYgdGhpcy5yZWFkTWVzc2FnZVNpemUgPiB0aGlzLm1heFJlYWRNZXNzYWdlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZWNlaXZlZCBtZXNzYWdlIGxhcmdlciB0aGFuIG1heCAoJHt0aGlzLnJlYWRNZXNzYWdlU2l6ZX0gdnMgJHt0aGlzLm1heFJlYWRNZXNzYWdlTGVuZ3RofSlgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZE1lc3NhZ2VSZW1haW5pbmcgPSB0aGlzLnJlYWRNZXNzYWdlU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZFN0YXRlID0gUmVhZFN0YXRlLlJFQURJTkdfTUVTU0FHRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBCdWZmZXIuY29uY2F0KFt0aGlzLnJlYWRDb21wcmVzc0ZsYWcsIHRoaXMucmVhZFBhcnRpYWxTaXplXSwgNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkU3RhdGUgPSBSZWFkU3RhdGUuTk9fREFUQTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFJlYWRTdGF0ZS5SRUFESU5HX01FU1NBR0U6XG4gICAgICAgICAgICAgICAgICAgIHRvUmVhZCA9IE1hdGgubWluKGRhdGEubGVuZ3RoIC0gcmVhZEhlYWQsIHRoaXMucmVhZE1lc3NhZ2VSZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRQYXJ0aWFsTWVzc2FnZS5wdXNoKGRhdGEuc2xpY2UocmVhZEhlYWQsIHJlYWRIZWFkICsgdG9SZWFkKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZE1lc3NhZ2VSZW1haW5pbmcgLT0gdG9SZWFkO1xuICAgICAgICAgICAgICAgICAgICByZWFkSGVhZCArPSB0b1JlYWQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWRNZXNzYWdlUmVtYWluaW5nID49MCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlYWRNZXNzYWdlUmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBoYXZlIHJlYWQgYSBmdWxsIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lZE1lc3NhZ2VCdWZmZXJzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZENvbXByZXNzRmxhZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRQYXJ0aWFsU2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uY29uY2F0KHRoaXMucmVhZFBhcnRpYWxNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lZE1lc3NhZ2UgPSBCdWZmZXIuY29uY2F0KGZyYW1lZE1lc3NhZ2VCdWZmZXJzLCB0aGlzLnJlYWRNZXNzYWdlU2l6ZSArIDUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWFkU3RhdGUgPSBSZWFkU3RhdGUuTk9fREFUQTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGZyYW1lZE1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCByZWFkIHN0YXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5leHBvcnRzLlN0cmVhbURlY29kZXIgPSBTdHJlYW1EZWNvZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyZWFtLWRlY29kZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSHR0cDJTdWJjaGFubmVsQ2FsbCA9IHZvaWQgMDtcbmNvbnN0IGh0dHAyID0gcmVxdWlyZShcImh0dHAyXCIpO1xuY29uc3Qgb3MgPSByZXF1aXJlKFwib3NcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IHN0cmVhbV9kZWNvZGVyXzEgPSByZXF1aXJlKFwiLi9zdHJlYW0tZGVjb2RlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzIgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICdzdWJjaGFubmVsX2NhbGwnO1xuLyoqXG4gKiBTaG91bGQgZG8gYXBwcm94aW1hdGVseSB0aGUgc2FtZSB0aGluZyBhcyB1dGlsLmdldFN5c3RlbUVycm9yTmFtZSBidXQgdGhlXG4gKiBUeXBlU2NyaXB0IHR5cGVzIGRvbid0IGhhdmUgdGhhdCBmdW5jdGlvbiBmb3Igc29tZSByZWFzb24gc28gSSBqdXN0IG1hZGUgbXlcbiAqIG93bi5cbiAqIEBwYXJhbSBlcnJub1xuICovXG5mdW5jdGlvbiBnZXRTeXN0ZW1FcnJvck5hbWUoZXJybm8pIHtcbiAgICBmb3IgKGNvbnN0IFtuYW1lLCBudW1dIG9mIE9iamVjdC5lbnRyaWVzKG9zLmNvbnN0YW50cy5lcnJubykpIHtcbiAgICAgICAgaWYgKG51bSA9PT0gZXJybm8pIHtcbiAgICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnVW5rbm93biBzeXN0ZW0gZXJyb3IgJyArIGVycm5vO1xufVxuZnVuY3Rpb24gbWFwSHR0cFN0YXR1c0NvZGUoY29kZSkge1xuICAgIGNvbnN0IGRldGFpbHMgPSBgUmVjZWl2ZWQgSFRUUCBzdGF0dXMgY29kZSAke2NvZGV9YDtcbiAgICBsZXQgbWFwcGVkU3RhdHVzQ29kZTtcbiAgICBzd2l0Y2ggKGNvZGUpIHtcbiAgICAgICAgLy8gVE9ETyhtdXJnYXRyb2lkOTkpOiBoYW5kbGUgMTAwIGFuZCAxMDFcbiAgICAgICAgY2FzZSA0MDA6XG4gICAgICAgICAgICBtYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgbWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFVVEhFTlRJQ0FURUQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgICBtYXBwZWRTdGF0dXNDb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlBFUk1JU1NJT05fREVOSUVEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDA0OlxuICAgICAgICAgICAgbWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVEO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDI5OlxuICAgICAgICBjYXNlIDUwMjpcbiAgICAgICAgY2FzZSA1MDM6XG4gICAgICAgIGNhc2UgNTA0OlxuICAgICAgICAgICAgbWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbWFwcGVkU3RhdHVzQ29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb2RlOiBtYXBwZWRTdGF0dXNDb2RlLFxuICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKVxuICAgIH07XG59XG5jbGFzcyBIdHRwMlN1YmNoYW5uZWxDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihodHRwMlN0cmVhbSwgY2FsbEV2ZW50VHJhY2tlciwgbGlzdGVuZXIsIHRyYW5zcG9ydCwgY2FsbElkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5odHRwMlN0cmVhbSA9IGh0dHAyU3RyZWFtO1xuICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIgPSBjYWxsRXZlbnRUcmFja2VyO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICB0aGlzLmNhbGxJZCA9IGNhbGxJZDtcbiAgICAgICAgdGhpcy5pc1JlYWRGaWx0ZXJQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQdXNoUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhblB1c2ggPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IGFuICdlbmQnIGV2ZW50IGhhcyBjb21lIGZyb20gdGhlIGh0dHAyIHN0cmVhbSwgc28gdGhlcmVcbiAgICAgICAgICogd2lsbCBiZSBubyBtb3JlIGRhdGEgZXZlbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWFkc0Nsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXR1c091dHB1dCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzID0gW107XG4gICAgICAgIC8vIFRoaXMgaXMgcG9wdWxhdGVkIChub24tbnVsbCkgaWYgYW5kIG9ubHkgaWYgdGhlIGNhbGwgaGFzIGVuZGVkXG4gICAgICAgIHRoaXMuZmluYWxTdGF0dXMgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVybmFsRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLnNlcnZlckVuZGVkQ2FsbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25Ecm9wcGVkID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IG1heFJlY2VpdmVNZXNzYWdlTGVuZ3RoID0gKF9hID0gdHJhbnNwb3J0LmdldE9wdGlvbnMoKVsnZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBjb25zdGFudHNfMS5ERUZBVUxUX01BWF9SRUNFSVZFX01FU1NBR0VfTEVOR1RIO1xuICAgICAgICB0aGlzLmRlY29kZXIgPSBuZXcgc3RyZWFtX2RlY29kZXJfMS5TdHJlYW1EZWNvZGVyKG1heFJlY2VpdmVNZXNzYWdlTGVuZ3RoKTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ3Jlc3BvbnNlJywgKGhlYWRlcnMsIGZsYWdzKSA9PiB7XG4gICAgICAgICAgICBsZXQgaGVhZGVyc1N0cmluZyA9ICcnO1xuICAgICAgICAgICAgZm9yIChjb25zdCBoZWFkZXIgb2YgT2JqZWN0LmtleXMoaGVhZGVycykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzU3RyaW5nICs9ICdcXHRcXHQnICsgaGVhZGVyICsgJzogJyArIGhlYWRlcnNbaGVhZGVyXSArICdcXG4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgc2VydmVyIGhlYWRlcnM6XFxuJyArIGhlYWRlcnNTdHJpbmcpO1xuICAgICAgICAgICAgdGhpcy5odHRwU3RhdHVzQ29kZSA9IGhlYWRlcnNbJzpzdGF0dXMnXTtcbiAgICAgICAgICAgIGlmIChmbGFncyAmIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0ZMQUdfRU5EX1NUUkVBTSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhaWxlcnMoaGVhZGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgPSBtZXRhZGF0YV8xLk1ldGFkYXRhLmZyb21IdHRwMkhlYWRlcnMoaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZENhbGwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ3RyYWlsZXJzJywgKGhlYWRlcnMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlVHJhaWxlcnMoaGVhZGVycyk7XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbignZGF0YScsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAvKiBJZiB0aGUgc3RhdHVzIGhhcyBhbHJlYWR5IGJlZW4gb3V0cHV0LCBhbGxvdyB0aGUgaHR0cDIgc3RyZWFtIHRvXG4gICAgICAgICAgICAgKiBkcmFpbiB3aXRob3V0IHByb2Nlc3NpbmcgdGhlIGRhdGEuICovXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0dXNPdXRwdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdyZWNlaXZlIEhUVFAvMiBkYXRhIGZyYW1lIG9mIGxlbmd0aCAnICsgZGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2VzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IHRoaXMuZGVjb2Rlci53cml0ZShkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLyogU29tZSBzZXJ2ZXJzIHNlbmQgSFRNTCBlcnJvciBwYWdlcyBhbG9uZyB3aXRoIEhUVFAgc3RhdHVzIGNvZGVzLlxuICAgICAgICAgICAgICAgICAqIFdoZW4gdGhlIGNsaWVudCBhdHRlbXB0cyB0byBwYXJzZSB0aGlzIGFzIGEgbGVuZ3RoLWRlbGltaXRlZFxuICAgICAgICAgICAgICAgICAqIG1lc3NhZ2UsIHRoZSBwYXJzZWQgbWVzc2FnZSBzaXplIGlzIGdyZWF0ZXIgdGhhbiB0aGUgZGVmYXVsdCBsaW1pdCxcbiAgICAgICAgICAgICAgICAgKiByZXN1bHRpbmcgaW4gYSBtZXNzYWdlIGRlY29kaW5nIGVycm9yLiBJbiB0aGF0IHNpdHVhdGlvbiwgdGhlIEhUVFBcbiAgICAgICAgICAgICAgICAgKiBlcnJvciBjb2RlIGluZm9ybWF0aW9uIGlzIG1vcmUgdXNlZnVsIHRvIHRoZSB1c2VyIHRoYW4gdGhlXG4gICAgICAgICAgICAgICAgICogUkVTT1VSQ0VfRVhIQVVTVEVEIGVycm9yIGlzLCBzbyB3ZSByZXBvcnQgdGhhdCBpbnN0ZWFkLiBOb3JtYWxseSxcbiAgICAgICAgICAgICAgICAgKiB3ZSBkZWxheSBwcm9jZXNzaW5nIHRoZSBIVFRQIHN0YXR1cyB1bnRpbCBhZnRlciB0aGUgc3RyZWFtIGVuZHMsIHRvXG4gICAgICAgICAgICAgICAgICogcHJpb3JpdGl6ZSByZXBvcnRpbmcgdGhlIGdSUEMgc3RhdHVzIGZyb20gdHJhaWxlcnMgaWYgaXQgaXMgcHJlc2VudCxcbiAgICAgICAgICAgICAgICAgKiBidXQgd2hlbiB0aGVyZSBpcyBhIG1lc3NhZ2UgcGFyc2luZyBlcnJvciB3ZSBlbmQgdGhlIHN0cmVhbSBlYXJseVxuICAgICAgICAgICAgICAgICAqIGJlZm9yZSBwcm9jZXNzaW5nIHRyYWlsZXJzLiAqL1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmh0dHBTdGF0dXNDb2RlICE9PSB1bmRlZmluZWQgJiYgdGhpcy5odHRwU3RhdHVzQ29kZSAhPT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZFN0YXR1cyA9IG1hcEh0dHBTdGF0dXNDb2RlKHRoaXMuaHR0cFN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMobWFwcGVkU3RhdHVzLmNvZGUsIG1hcHBlZFN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuUkVTT1VSQ0VfRVhIQVVTVEVELCBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdwYXJzZWQgbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIuYWRkTWVzc2FnZVJlY2VpdmVkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50cnlQdXNoKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVhZHNDbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgaHR0cDJTdHJlYW0ub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXJ2ZXJFbmRlZENhbGwgPSB0cnVlO1xuICAgICAgICAgICAgLyogVXNlIHByb2Nlc3MubmV4dCB0aWNrIHRvIGVuc3VyZSB0aGF0IHRoaXMgY29kZSBoYXBwZW5zIGFmdGVyIGFueVxuICAgICAgICAgICAgICogXCJlcnJvclwiIGV2ZW50IHRoYXQgbWF5IGJlIGVtaXR0ZWQgYXQgYWJvdXQgdGhlIHNhbWUgdGltZSwgc28gdGhhdFxuICAgICAgICAgICAgICogd2UgY2FuIGJ1YmJsZSB1cCB0aGUgZXJyb3IgbWVzc2FnZSBmcm9tIHRoYXQgZXZlbnQuICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnSFRUUC8yIHN0cmVhbSBjbG9zZWQgd2l0aCBjb2RlICcgKyBodHRwMlN0cmVhbS5yc3RDb2RlKTtcbiAgICAgICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGEgZmluYWwgc3RhdHVzIHdpdGggYW4gT0sgc3RhdHVzIGNvZGUsIHRoYXQgbWVhbnMgdGhhdFxuICAgICAgICAgICAgICAgICAqIHdlIGhhdmUgcmVjZWl2ZWQgYWxsIG9mIHRoZSBtZXNzYWdlcyBhbmQgd2UgaGF2ZSBwcm9jZXNzZWQgdGhlXG4gICAgICAgICAgICAgICAgICogdHJhaWxlcnMgYW5kIHRoZSBjYWxsIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHksIHNvIGl0IGRvZXNuJ3QgbWF0dGVyXG4gICAgICAgICAgICAgICAgICogaG93IHRoZSBzdHJlYW0gZW5kcyBhZnRlciB0aGF0ICovXG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLmZpbmFsU3RhdHVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY29kZSkgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjb2RlO1xuICAgICAgICAgICAgICAgIGxldCBkZXRhaWxzID0gJyc7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChodHRwMlN0cmVhbS5yc3RDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfTk9fRVJST1I6XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBJZiB3ZSBnZXQgYSBOT19FUlJPUiBjb2RlIGFuZCB3ZSBhbHJlYWR5IGhhdmUgYSBzdGF0dXMsIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgICogc3RyZWFtIGNvbXBsZXRlZCBwcm9wZXJseSBhbmQgd2UganVzdCBoYXZlbid0IGZ1bGx5IHByb2Nlc3NlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICogaXQgeWV0ICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maW5hbFN0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmh0dHBTdGF0dXNDb2RlICYmIHRoaXMuaHR0cFN0YXR1c0NvZGUgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZFN0YXR1cyA9IG1hcEh0dHBTdGF0dXNDb2RlKHRoaXMuaHR0cFN0YXR1c0NvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBtYXBwZWRTdGF0dXMuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gbWFwcGVkU3RhdHVzLmRldGFpbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBgUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgJHtodHRwMlN0cmVhbS5yc3RDb2RlfSAoQ2FsbCBlbmRlZCB3aXRob3V0IGdSUEMgc3RhdHVzKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9SRUZVU0VEX1NUUkVBTTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ1N0cmVhbSByZWZ1c2VkIGJ5IHNlcnZlcic7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9DQU5DRUw6XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBCdWcgcmVwb3J0cyBpbmRpY2F0ZSB0aGF0IE5vZGUgc3ludGhlc2l6ZXMgYSBOR0hUVFAyX0NBTkNFTFxuICAgICAgICAgICAgICAgICAgICAgICAgICogY29kZSBmcm9tIGNvbm5lY3Rpb24gZHJvcHMuIFdlIHdhbnQgdG8gcHJpb3JpdGl6ZSByZXBvcnRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGFuIHVuYXZhaWxhYmxlIHN0YXR1cyB3aGVuIHRoYXQgaGFwcGVucy4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25Ecm9wcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ0Nvbm5lY3Rpb24gZHJvcHBlZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLkNBTkNFTExFRDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ0NhbGwgY2FuY2VsbGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0VOSEFOQ0VfWU9VUl9DQUxNOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gJ0JhbmR3aWR0aCBleGhhdXN0ZWQgb3IgbWVtb3J5IGxpbWl0IGV4Y2VlZGVkJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0lOQURFUVVBVEVfU0VDVVJJVFk6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gY29uc3RhbnRzXzEuU3RhdHVzLlBFUk1JU1NJT05fREVOSUVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9ICdQcm90b2NvbCBub3Qgc2VjdXJlIGVub3VnaCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBodHRwMi5jb25zdGFudHMuTkdIVFRQMl9JTlRFUk5BTF9FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcm5hbEVycm9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVGhpcyBlcnJvciBjb2RlIHdhcyBwcmV2aW91c2x5IGhhbmRsZWQgaW4gdGhlIGRlZmF1bHQgY2FzZSwgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogdGhlcmUgYXJlIHNldmVyYWwgaW5zdGFuY2VzIG9mIGl0IG9ubGluZSwgc28gSSB3YW50ZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgZXJyb3IgbWVzc2FnZSBzbyB0aGF0IHBlb3BsZSBmaW5kIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogaW5mb3JtYXRpb24gaW4gc2VhcmNoZXMsIGJ1dCBhbHNvIGluY2x1ZGUgdGhlIG1vcmUgcmVjb2duaXphYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogXCJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3JcIiBtZXNzYWdlLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPSBgUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgJHtodHRwMlN0cmVhbS5yc3RDb2RlfSAoSW50ZXJuYWwgc2VydmVyIGVycm9yKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnRlcm5hbEVycm9yLmNvZGUgPT09ICdFQ09OTlJFU0VUJyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludGVybmFsRXJyb3IuY29kZSA9PT0gJ0VUSU1FRE9VVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IHRoaXMuaW50ZXJuYWxFcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogVGhlIFwiUmVjZWl2ZWQgUlNUX1NUUkVBTSB3aXRoIGNvZGUgLi4uXCIgZXJyb3IgaXMgcHJlc2VydmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGhlcmUgZm9yIGNvbnRpbnVpdHkgd2l0aCBlcnJvcnMgcmVwb3J0ZWQgb25saW5lLCBidXQgdGhlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGVycm9yIG1lc3NhZ2UgYXQgdGhlIGVuZCB3aWxsIHByb2JhYmx5IGJlIG1vcmUgcmVsZXZhbnQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbW9zdCBjYXNlcy4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IGBSZWNlaXZlZCBSU1RfU1RSRUFNIHdpdGggY29kZSAke2h0dHAyU3RyZWFtLnJzdENvZGV9IHRyaWdnZXJlZCBieSBpbnRlcm5hbCBjbGllbnQgZXJyb3I6ICR7dGhpcy5pbnRlcm5hbEVycm9yLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUw7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gYFJlY2VpdmVkIFJTVF9TVFJFQU0gd2l0aCBjb2RlICR7aHR0cDJTdHJlYW0ucnN0Q29kZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgbm8tb3AgaWYgdHJhaWxlcnMgd2VyZSByZWNlaXZlZCBhdCBhbGwuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBPSywgYmVjYXVzZSBzdGF0dXMgY29kZXMgZW1pdHRlZCBoZXJlIGNvcnJlc3BvbmQgdG8gbW9yZVxuICAgICAgICAgICAgICAgIC8vIGNhdGFzdHJvcGhpYyBpc3N1ZXMgdGhhdCBwcmV2ZW50IHVzIGZyb20gcmVjZWl2aW5nIHRyYWlsZXJzIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIGZpcnN0IHBsYWNlLlxuICAgICAgICAgICAgICAgIHRoaXMuZW5kQ2FsbCh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICByc3RDb2RlOiBodHRwMlN0cmVhbS5yc3RDb2RlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBodHRwMlN0cmVhbS5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAvKiBXZSBuZWVkIGFuIGVycm9yIGhhbmRsZXIgaGVyZSB0byBzdG9wIFwiVW5jYXVnaHQgRXJyb3JcIiBleGNlcHRpb25zXG4gICAgICAgICAgICAgKiBmcm9tIGJ1YmJsaW5nIHVwLiBIb3dldmVyLCBlcnJvcnMgaGVyZSBzaG91bGQgYWxsIGNvcnJlc3BvbmQgdG9cbiAgICAgICAgICAgICAqIFwiY2xvc2VcIiBldmVudHMsIHdoZXJlIHdlIHdpbGwgaGFuZGxlIHRoZSBlcnJvciBtb3JlIGdyYW51bGFybHkgKi9cbiAgICAgICAgICAgIC8qIFNwZWNpZmljYWxseSBsb29raW5nIGZvciBzdHJlYW0gZXJyb3JzIHRoYXQgd2VyZSAqbm90KiBjb25zdHJ1Y3RlZFxuICAgICAgICAgICAgICogZnJvbSBhIFJTVF9TVFJFQU0gcmVzcG9uc2UgaGVyZTpcbiAgICAgICAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iLzhiODYyMGQ1ODAzMTQwNTAxNzU5ODM0MDJkZmRkZjI2NzRlOGUyMmEvbGliL2ludGVybmFsL2h0dHAyL2NvcmUuanMjTDIyNjdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKGVyci5jb2RlICE9PSAnRVJSX0hUVFAyX1NUUkVBTV9FUlJPUicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdOb2RlIGVycm9yIGV2ZW50OiBtZXNzYWdlPScgK1xuICAgICAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSArXG4gICAgICAgICAgICAgICAgICAgICcgY29kZT0nICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLmNvZGUgK1xuICAgICAgICAgICAgICAgICAgICAnIGVycm5vPScgK1xuICAgICAgICAgICAgICAgICAgICBnZXRTeXN0ZW1FcnJvck5hbWUoZXJyLmVycm5vKSArXG4gICAgICAgICAgICAgICAgICAgICcgc3lzY2FsbD0nICtcbiAgICAgICAgICAgICAgICAgICAgZXJyLnN5c2NhbGwpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJuYWxFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5vblN0cmVhbUVuZChmYWxzZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXREZWFkbGluZUluZm8oKSB7XG4gICAgICAgIHJldHVybiBbYHJlbW90ZV9hZGRyPSR7dGhpcy5nZXRQZWVyKCl9YF07XG4gICAgfVxuICAgIG9uRGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uRHJvcHBlZCA9IHRydWU7XG4gICAgICAgIC8qIEdpdmUgdGhlIGNhbGwgYW4gZXZlbnQgbG9vcCBjeWNsZSB0byBmaW5pc2ggbmF0dXJhbGx5IGJlZm9yZSByZXBvcnRpbmdcbiAgICAgICAgICogdGhlIGRpc2Nvbm5lY3Rpb24gYXMgYW4gZXJyb3IuICovXG4gICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVuZENhbGwoe1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnQ29ubmVjdGlvbiBkcm9wcGVkJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgb3V0cHV0U3RhdHVzKCkge1xuICAgICAgICAvKiBQcmVjb25kaXRpb246IHRoaXMuZmluYWxTdGF0dXMgIT09IG51bGwgKi9cbiAgICAgICAgaWYgKCF0aGlzLnN0YXR1c091dHB1dCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXNPdXRwdXQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5maW5hbFN0YXR1cy5jb2RlICtcbiAgICAgICAgICAgICAgICAnIGRldGFpbHM9XCInICtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbmFsU3RhdHVzLmRldGFpbHMgK1xuICAgICAgICAgICAgICAgICdcIicpO1xuICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uQ2FsbEVuZCh0aGlzLmZpbmFsU3RhdHVzKTtcbiAgICAgICAgICAgIC8qIFdlIGRlbGF5IHRoZSBhY3R1YWwgYWN0aW9uIG9mIGJ1YmJsaW5nIHVwIHRoZSBzdGF0dXMgdG8gaW5zdWxhdGUgdGhlXG4gICAgICAgICAgICAgKiBjbGVhbnVwIGNvZGUgaW4gdGhpcyBjbGFzcyBmcm9tIGFueSBlcnJvcnMgdGhhdCBtYXkgYmUgdGhyb3duIGluIHRoZVxuICAgICAgICAgICAgICogdXBwZXIgbGF5ZXJzIGFzIGEgcmVzdWx0IG9mIGJ1YmJsaW5nIHVwIHRoZSBzdGF0dXMuIEluIHBhcnRpY3VsYXIsXG4gICAgICAgICAgICAgKiBpZiB0aGUgc3RhdHVzIGlzIG5vdCBPSywgdGhlIFwiZXJyb3JcIiBldmVudCBtYXkgYmUgZW1pdHRlZFxuICAgICAgICAgICAgICogc3luY2hyb25vdXNseSBhdCB0aGUgdG9wIGxldmVsLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIHRocm93biBlcnJvciBpZlxuICAgICAgICAgICAgICogdGhlIHVzZXIgZG9lcyBub3QgaGFuZGxlIHRoYXQgZXZlbnQuICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZVN0YXR1cyh0aGlzLmZpbmFsU3RhdHVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLyogTGVhdmUgdGhlIGh0dHAyIHN0cmVhbSBpbiBmbG93aW5nIHN0YXRlIHRvIGRyYWluIGluY29taW5nIG1lc3NhZ2VzLCB0b1xuICAgICAgICAgICAgICogZW5zdXJlIHRoYXQgdGhlIHN0cmVhbSBjbG9zdXJlIGNvbXBsZXRlcy4gVGhlIGNhbGwgc3RyZWFtIGFscmVhZHkgZG9lc1xuICAgICAgICAgICAgICogbm90IHB1c2ggbW9yZSBtZXNzYWdlcyBhZnRlciB0aGUgc3RhdHVzIGlzIG91dHB1dCwgc28gdGhlIG1lc3NhZ2VzIGdvXG4gICAgICAgICAgICAgKiBub3doZXJlIGVpdGhlciB3YXkuICovXG4gICAgICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyYWNlKHRleHQpIHtcbiAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMi5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCAnWycgKyB0aGlzLmNhbGxJZCArICddICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT24gZmlyc3QgY2FsbCwgZW1pdHMgYSAnc3RhdHVzJyBldmVudCB3aXRoIHRoZSBnaXZlbiBTdGF0dXNPYmplY3QuXG4gICAgICogU3Vic2VxdWVudCBjYWxscyBhcmUgbm8tb3BzLlxuICAgICAqIEBwYXJhbSBzdGF0dXMgVGhlIHN0YXR1cyBvZiB0aGUgY2FsbC5cbiAgICAgKi9cbiAgICBlbmRDYWxsKHN0YXR1cykge1xuICAgICAgICAvKiBJZiB0aGUgc3RhdHVzIGlzIE9LIGFuZCBhIG5ldyBzdGF0dXMgY29tZXMgaW4gKGUuZy4gZnJvbSBhXG4gICAgICAgICAqIGRlc2VyaWFsaXphdGlvbiBmYWlsdXJlKSwgdGhhdCBuZXcgc3RhdHVzIHRha2VzIHByaW9yaXR5ICovXG4gICAgICAgIGlmICh0aGlzLmZpbmFsU3RhdHVzID09PSBudWxsIHx8IHRoaXMuZmluYWxTdGF0dXMuY29kZSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmFsU3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdHJveUh0dHAyU3RyZWFtKCk7XG4gICAgfVxuICAgIG1heWJlT3V0cHV0U3RhdHVzKCkge1xuICAgICAgICBpZiAodGhpcy5maW5hbFN0YXR1cyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLyogVGhlIGNvbWJpbmF0aW9uIGNoZWNrIG9mIHJlYWRzQ2xvc2VkIGFuZCB0aGF0IHRoZSB0d28gbWVzc2FnZSBidWZmZXJcbiAgICAgICAgICAgICAqIGFycmF5cyBhcmUgZW1wdHkgY2hlY2tzIHRoYXQgdGhlcmUgYWxsIGluY29taW5nIGRhdGEgaGFzIGJlZW4gZnVsbHlcbiAgICAgICAgICAgICAqIHByb2Nlc3NlZCAqL1xuICAgICAgICAgICAgaWYgKHRoaXMuZmluYWxTdGF0dXMuY29kZSAhPT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMucmVhZHNDbG9zZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnB1c2hlZFJlYWRNZXNzYWdlcy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuaXNSZWFkRmlsdGVyUGVuZGluZyAmJlxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5pc1B1c2hQZW5kaW5nKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHVzaChtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3B1c2hpbmcgdG8gcmVhZGVyIG1lc3NhZ2Ugb2YgbGVuZ3RoICcgK1xuICAgICAgICAgICAgKG1lc3NhZ2UgaW5zdGFuY2VvZiBCdWZmZXIgPyBtZXNzYWdlLmxlbmd0aCA6IG51bGwpKTtcbiAgICAgICAgdGhpcy5jYW5QdXNoID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNQdXNoUGVuZGluZyA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1B1c2hQZW5kaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvKiBJZiB3ZSBoYXZlIGFscmVhZHkgb3V0cHV0IHRoZSBzdGF0dXMgYW55IGxhdGVyIG1lc3NhZ2VzIHNob3VsZCBiZVxuICAgICAgICAgICAgICogaWdub3JlZCwgYW5kIGNhbiBjYXVzZSBvdXQtb2Ytb3JkZXIgb3BlcmF0aW9uIGVycm9ycyBoaWdoZXIgdXAgaW4gdGhlXG4gICAgICAgICAgICAgKiBzdGFjay4gQ2hlY2tpbmcgYXMgbGF0ZSBhcyBwb3NzaWJsZSBoZXJlIHRvIGF2b2lkIGFueSByYWNlIGNvbmRpdGlvbnMuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1c091dHB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVPdXRwdXRTdGF0dXMoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHRyeVB1c2gobWVzc2FnZUJ5dGVzKSB7XG4gICAgICAgIGlmICh0aGlzLmNhblB1c2gpIHtcbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0ucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMucHVzaChtZXNzYWdlQnl0ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgndW5wdXNoZWRSZWFkTWVzc2FnZXMucHVzaCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZUJ5dGVzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzLnB1c2gobWVzc2FnZUJ5dGVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVUcmFpbGVycyhoZWFkZXJzKSB7XG4gICAgICAgIHRoaXMuc2VydmVyRW5kZWRDYWxsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uU3RyZWFtRW5kKHRydWUpO1xuICAgICAgICBsZXQgaGVhZGVyc1N0cmluZyA9ICcnO1xuICAgICAgICBmb3IgKGNvbnN0IGhlYWRlciBvZiBPYmplY3Qua2V5cyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgaGVhZGVyc1N0cmluZyArPSAnXFx0XFx0JyArIGhlYWRlciArICc6ICcgKyBoZWFkZXJzW2hlYWRlcl0gKyAnXFxuJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzZXJ2ZXIgdHJhaWxlcnM6XFxuJyArIGhlYWRlcnNTdHJpbmcpO1xuICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IG1ldGFkYXRhXzEuTWV0YWRhdGEuZnJvbUh0dHAySGVhZGVycyhoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhTWFwID0gbWV0YWRhdGEuZ2V0TWFwKCk7XG4gICAgICAgIGxldCBzdGF0dXM7XG4gICAgICAgIGlmICh0eXBlb2YgbWV0YWRhdGFNYXBbJ2dycGMtc3RhdHVzJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBjb25zdCByZWNlaXZlZFN0YXR1cyA9IE51bWJlcihtZXRhZGF0YU1hcFsnZ3JwYy1zdGF0dXMnXSk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdyZWNlaXZlZCBzdGF0dXMgY29kZSAnICsgcmVjZWl2ZWRTdGF0dXMgKyAnIGZyb20gc2VydmVyJyk7XG4gICAgICAgICAgICBtZXRhZGF0YS5yZW1vdmUoJ2dycGMtc3RhdHVzJyk7XG4gICAgICAgICAgICBsZXQgZGV0YWlscyA9ICcnO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXRhZGF0YU1hcFsnZ3JwYy1tZXNzYWdlJ10gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlscyA9IGRlY29kZVVSSShtZXRhZGF0YU1hcFsnZ3JwYy1tZXNzYWdlJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzID0gbWV0YWRhdGFNYXBbJ2dycGMtbWVzc2FnZSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5yZW1vdmUoJ2dycGMtbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ3JlY2VpdmVkIHN0YXR1cyBkZXRhaWxzIHN0cmluZyBcIicgKyBkZXRhaWxzICsgJ1wiIGZyb20gc2VydmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogcmVjZWl2ZWRTdGF0dXMsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogZGV0YWlscyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5odHRwU3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgc3RhdHVzID0gbWFwSHR0cFN0YXR1c0NvZGUodGhpcy5odHRwU3RhdHVzQ29kZSk7XG4gICAgICAgICAgICBzdGF0dXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnTm8gc3RhdHVzIGluZm9ybWF0aW9uIHJlY2VpdmVkJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhpcyBpcyBhIG5vLW9wIGlmIHRoZSBjYWxsIHdhcyBhbHJlYWR5IGVuZGVkIHdoZW4gaGFuZGxpbmcgaGVhZGVycy5cbiAgICAgICAgdGhpcy5lbmRDYWxsKHN0YXR1cyk7XG4gICAgfVxuICAgIGRlc3Ryb3lIdHRwMlN0cmVhbSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBUaGUgaHR0cDIgc3RyZWFtIGNvdWxkIGFscmVhZHkgaGF2ZSBiZWVuIGRlc3Ryb3llZCBpZiBjYW5jZWxXaXRoU3RhdHVzXG4gICAgICAgIC8vIGlzIGNhbGxlZCBpbiByZXNwb25zZSB0byBhbiBpbnRlcm5hbCBodHRwMiBlcnJvci5cbiAgICAgICAgaWYgKHRoaXMuaHR0cDJTdHJlYW0uZGVzdHJveWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyogSWYgdGhlIHNlcnZlciBlbmRlZCB0aGUgY2FsbCwgc2VuZGluZyBhbiBSU1RfU1RSRUFNIGlzIHJlZHVuZGFudCwgc28gd2VcbiAgICAgICAgICoganVzdCBoYWxmIGNsb3NlIG9uIHRoZSBjbGllbnQgc2lkZSBpbnN0ZWFkIHRvIGZpbmlzaCBjbG9zaW5nIHRoZSBzdHJlYW0uXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5zZXJ2ZXJFbmRlZENhbGwpIHtcbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0uZW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKiBJZiB0aGUgY2FsbCBoYXMgZW5kZWQgd2l0aCBhbiBPSyBzdGF0dXMsIGNvbW11bmljYXRlIHRoYXQgd2hlbiBjbG9zaW5nXG4gICAgICAgICAgICAgKiB0aGUgc3RyZWFtLCBwYXJ0bHkgdG8gYXZvaWQgYSBzaXR1YXRpb24gaW4gd2hpY2ggd2UgZGV0ZWN0IGFuIGVycm9yXG4gICAgICAgICAgICAgKiBSU1RfU1RSRUFNIGFzIGEgcmVzdWx0IGFmdGVyIHdlIGhhdmUgdGhlIHN0YXR1cyAqL1xuICAgICAgICAgICAgbGV0IGNvZGU7XG4gICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMuZmluYWxTdGF0dXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb2RlKSA9PT0gY29uc3RhbnRzXzEuU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX05PX0VSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29kZSA9IGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2Nsb3NlIGh0dHAyIHN0cmVhbSB3aXRoIGNvZGUgJyArIGNvZGUpO1xuICAgICAgICAgICAgdGhpcy5odHRwMlN0cmVhbS5jbG9zZShjb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscykge1xuICAgICAgICB0aGlzLnRyYWNlKCdjYW5jZWxXaXRoU3RhdHVzIGNvZGU6ICcgKyBzdGF0dXMgKyAnIGRldGFpbHM6IFwiJyArIGRldGFpbHMgKyAnXCInKTtcbiAgICAgICAgdGhpcy5lbmRDYWxsKHsgY29kZTogc3RhdHVzLCBkZXRhaWxzLCBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSB9KTtcbiAgICB9XG4gICAgZ2V0U3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maW5hbFN0YXR1cztcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNwb3J0LmdldFBlZXJOYW1lKCk7XG4gICAgfVxuICAgIGdldENhbGxOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxJZDtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zcG9ydC5nZXRBdXRoQ29udGV4dCgpO1xuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIC8qIElmIHRoZSBzdHJlYW0gaGFzIGVuZGVkIHdpdGggYW4gZXJyb3IsIHdlIHNob3VsZCBub3QgZW1pdCBhbnkgbW9yZVxuICAgICAgICAgKiBtZXNzYWdlcyBhbmQgd2Ugc2hvdWxkIGNvbW11bmljYXRlIHRoYXQgdGhlIHN0cmVhbSBoYXMgZW5kZWQgKi9cbiAgICAgICAgaWYgKHRoaXMuZmluYWxTdGF0dXMgIT09IG51bGwgJiYgdGhpcy5maW5hbFN0YXR1cy5jb2RlICE9PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgIHRoaXMucmVhZHNDbG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5tYXliZU91dHB1dFN0YXR1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FuUHVzaCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLnVucHVzaGVkUmVhZE1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRNZXNzYWdlID0gdGhpcy51bnB1c2hlZFJlYWRNZXNzYWdlcy5zaGlmdCgpO1xuICAgICAgICAgICAgdGhpcy5wdXNoKG5leHRNZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKiBPbmx5IHJlc3VtZSByZWFkaW5nIGZyb20gdGhlIGh0dHAyU3RyZWFtIGlmIHdlIGRvbid0IGhhdmUgYW55IHBlbmRpbmdcbiAgICAgICAgICogbWVzc2FnZXMgdG8gZW1pdCAqL1xuICAgICAgICB0aGlzLmh0dHAyU3RyZWFtLnJlc3VtZSgpO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnd3JpdGUoKSBjYWxsZWQgd2l0aCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICBjb25zdCBjYiA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgLyogbmV4dFRpY2sgaGVyZSBlbnN1cmVzIHRoYXQgbm8gc3RyZWFtIGFjdGlvbiBjYW4gYmUgdGFrZW4gaW4gdGhlIGNhbGxcbiAgICAgICAgICAgICAqIHN0YWNrIG9mIHRoZSB3cml0ZSBjYWxsYmFjaywgaW4gb3JkZXIgdG8gaG9wZWZ1bGx5IHdvcmsgYXJvdW5kXG4gICAgICAgICAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvaXNzdWVzLzQ5MTQ3ICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgbGV0IGNvZGUgPSBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEU7XG4gICAgICAgICAgICAgICAgaWYgKChlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXJyb3IuY29kZSkgPT09XG4gICAgICAgICAgICAgICAgICAgICdFUlJfU1RSRUFNX1dSSVRFX0FGVEVSX0VORCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhjb2RlLCBgV3JpdGUgZXJyb3I6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKF9hID0gY29udGV4dC5jYWxsYmFjaykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoY29udGV4dCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50cmFjZSgnc2VuZGluZyBkYXRhIGNodW5rIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIuYWRkTWVzc2FnZVNlbnQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuaHR0cDJTdHJlYW0ud3JpdGUobWVzc2FnZSwgY2IpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5lbmRDYWxsKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYFdyaXRlIGZhaWxlZCB3aXRoIGVycm9yICR7ZXJyb3IubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaGFsZkNsb3NlKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdlbmQoKSBjYWxsZWQnKTtcbiAgICAgICAgdGhpcy50cmFjZSgnY2FsbGluZyBlbmQoKSBvbiBIVFRQLzIgc3RyZWFtJyk7XG4gICAgICAgIHRoaXMuaHR0cDJTdHJlYW0uZW5kKCk7XG4gICAgfVxufVxuZXhwb3J0cy5IdHRwMlN1YmNoYW5uZWxDYWxsID0gSHR0cDJTdWJjaGFubmVsQ2FsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YmNoYW5uZWwtY2FsbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMyBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IdHRwMlN1YmNoYW5uZWxDb25uZWN0b3IgPSB2b2lkIDA7XG5jb25zdCBodHRwMiA9IHJlcXVpcmUoXCJodHRwMlwiKTtcbmNvbnN0IHRsc18xID0gcmVxdWlyZShcInRsc1wiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgaHR0cF9wcm94eV8xID0gcmVxdWlyZShcIi4vaHR0cF9wcm94eVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgcmVzb2x2ZXJfMSA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgbmV0ID0gcmVxdWlyZShcIm5ldFwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfY2FsbF8xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1jYWxsXCIpO1xuY29uc3QgY2FsbF9udW1iZXJfMSA9IHJlcXVpcmUoXCIuL2NhbGwtbnVtYmVyXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAndHJhbnNwb3J0JztcbmNvbnN0IEZMT1dfQ09OVFJPTF9UUkFDRVJfTkFNRSA9ICd0cmFuc3BvcnRfZmxvd2N0cmwnO1xuY29uc3QgY2xpZW50VmVyc2lvbiA9IHJlcXVpcmUoJy4uLy4uL3BhY2thZ2UuanNvbicpLnZlcnNpb247XG5jb25zdCB7IEhUVFAyX0hFQURFUl9BVVRIT1JJVFksIEhUVFAyX0hFQURFUl9DT05URU5UX1RZUEUsIEhUVFAyX0hFQURFUl9NRVRIT0QsIEhUVFAyX0hFQURFUl9QQVRILCBIVFRQMl9IRUFERVJfVEUsIEhUVFAyX0hFQURFUl9VU0VSX0FHRU5ULCB9ID0gaHR0cDIuY29uc3RhbnRzO1xuY29uc3QgS0VFUEFMSVZFX1RJTUVPVVRfTVMgPSAyMDAwMDtcbmNvbnN0IHRvb01hbnlQaW5nc0RhdGEgPSBCdWZmZXIuZnJvbSgndG9vX21hbnlfcGluZ3MnLCAnYXNjaWknKTtcbmNsYXNzIEh0dHAyVHJhbnNwb3J0IHtcbiAgICBjb25zdHJ1Y3RvcihzZXNzaW9uLCBzdWJjaGFubmVsQWRkcmVzcywgb3B0aW9ucywgXG4gICAgLyoqXG4gICAgICogTmFtZSBvZiB0aGUgcmVtb3RlIHNlcnZlciwgaWYgaXQgaXMgbm90IHRoZSBzYW1lIGFzIHRoZSBzdWJjaGFubmVsXG4gICAgICogYWRkcmVzcywgaS5lLiBpZiBjb25uZWN0aW5nIHRocm91Z2ggYW4gSFRUUCBDT05ORUNUIHByb3h5LlxuICAgICAqL1xuICAgIHJlbW90ZU5hbWUpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5yZW1vdGVOYW1lID0gcmVtb3RlTmFtZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWVyIHJlZmVyZW5jZSBpbmRpY2F0aW5nIHdoZW4gdG8gc2VuZCB0aGUgbmV4dCBwaW5nIG9yIHdoZW4gdGhlIG1vc3QgcmVjZW50IHBpbmcgd2lsbCBiZSBjb25zaWRlcmVkIGxvc3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyB0aGF0IHRoZSBrZWVwYWxpdmUgdGltZXIgcmFuIG91dCB3aGlsZSB0aGVyZSB3ZXJlIG5vIGFjdGl2ZVxuICAgICAgICAgKiBjYWxscywgYW5kIGEgcGluZyBzaG91bGQgYmUgc2VudCB0aGUgbmV4dCB0aW1lIGEgY2FsbCBzdGFydHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBlbmRpbmdTZW5kS2VlcGFsaXZlUGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjdGl2ZUNhbGxzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0SGFuZGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMua2VlcGFsaXZlc1NlbnQgPSAwO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzU2VudCA9IDA7XG4gICAgICAgIHRoaXMubWVzc2FnZXNSZWNlaXZlZCA9IDA7XG4gICAgICAgIHRoaXMubGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wID0gbnVsbDtcbiAgICAgICAgLyogUG9wdWxhdGUgc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgYW5kIGNoYW5uZWx6UmVmIGJlZm9yZSBkb2luZyBhbnl0aGluZ1xuICAgICAgICAgKiBlbHNlLCBiZWNhdXNlIHRoZXkgYXJlIHVzZWQgaW4gdGhlIHRyYWNlIG1ldGhvZHMuICovXG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgPSAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoc3ViY2hhbm5lbEFkZHJlc3MpO1xuICAgICAgICBpZiAob3B0aW9uc1snZ3JwYy5lbmFibGVfY2hhbm5lbHonXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsekVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXJTdHViKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNhbGxUcmFja2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpTb2NrZXQpKHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcsICgpID0+IHRoaXMuZ2V0Q2hhbm5lbHpJbmZvKCksIHRoaXMuY2hhbm5lbHpFbmFibGVkKTtcbiAgICAgICAgLy8gQnVpbGQgdXNlci1hZ2VudCBzdHJpbmcuXG4gICAgICAgIHRoaXMudXNlckFnZW50ID0gW1xuICAgICAgICAgICAgb3B0aW9uc1snZ3JwYy5wcmltYXJ5X3VzZXJfYWdlbnQnXSxcbiAgICAgICAgICAgIGBncnBjLW5vZGUtanMvJHtjbGllbnRWZXJzaW9ufWAsXG4gICAgICAgICAgICBvcHRpb25zWydncnBjLnNlY29uZGFyeV91c2VyX2FnZW50J10sXG4gICAgICAgIF1cbiAgICAgICAgICAgIC5maWx0ZXIoZSA9PiBlKVxuICAgICAgICAgICAgLmpvaW4oJyAnKTsgLy8gcmVtb3ZlIGZhbHNleSB2YWx1ZXMgZmlyc3RcbiAgICAgICAgaWYgKCdncnBjLmtlZXBhbGl2ZV90aW1lX21zJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA9IG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVfbXMnXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zID0gLTE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdncnBjLmtlZXBhbGl2ZV90aW1lb3V0X21zJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyA9IG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3RpbWVvdXRfbXMnXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZW91dE1zID0gS0VFUEFMSVZFX1RJTUVPVVRfTVM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdncnBjLmtlZXBhbGl2ZV9wZXJtaXRfd2l0aG91dF9jYWxscycgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVXaXRob3V0Q2FsbHMgPVxuICAgICAgICAgICAgICAgIG9wdGlvbnNbJ2dycGMua2VlcGFsaXZlX3Blcm1pdF93aXRob3V0X2NhbGxzJ10gPT09IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNlc3Npb24ub25jZSgnY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdzZXNzaW9uIGNsb3NlZCcpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXNzaW9uLm9uY2UoJ2dvYXdheScsIChlcnJvckNvZGUsIGxhc3RTdHJlYW1JRCwgb3BhcXVlRGF0YSkgPT4ge1xuICAgICAgICAgICAgbGV0IHRvb01hbnlQaW5ncyA9IGZhbHNlO1xuICAgICAgICAgICAgLyogU2VlIHRoZSBsYXN0IHBhcmFncmFwaCBvZlxuICAgICAgICAgICAgICogaHR0cHM6Ly9naXRodWIuY29tL2dycGMvcHJvcG9zYWwvYmxvYi9tYXN0ZXIvQTgtY2xpZW50LXNpZGUta2VlcGFsaXZlLm1kI2Jhc2ljLWtlZXBhbGl2ZSAqL1xuICAgICAgICAgICAgaWYgKGVycm9yQ29kZSA9PT0gaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfRU5IQU5DRV9ZT1VSX0NBTE0gJiZcbiAgICAgICAgICAgICAgICBvcGFxdWVEYXRhICYmXG4gICAgICAgICAgICAgICAgb3BhcXVlRGF0YS5lcXVhbHModG9vTWFueVBpbmdzRGF0YSkpIHtcbiAgICAgICAgICAgICAgICB0b29NYW55UGluZ3MgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFjZSgnY29ubmVjdGlvbiBjbG9zZWQgYnkgR09BV0FZIHdpdGggY29kZSAnICtcbiAgICAgICAgICAgICAgICBlcnJvckNvZGUgK1xuICAgICAgICAgICAgICAgICcgYW5kIGRhdGEgJyArXG4gICAgICAgICAgICAgICAgKG9wYXF1ZURhdGEgPT09IG51bGwgfHwgb3BhcXVlRGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3BhcXVlRGF0YS50b1N0cmluZygpKSk7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydERpc2Nvbm5lY3RUb093bmVyKHRvb01hbnlQaW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXNzaW9uLm9uY2UoJ2Vycm9yJywgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnY29ubmVjdGlvbiBjbG9zZWQgd2l0aCBlcnJvciAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3QoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlc3Npb24uc29ja2V0Lm9uY2UoJ2Nsb3NlJywgKGhhZEVycm9yKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdjb25uZWN0aW9uIGNsb3NlZC4gaGFkRXJyb3I9JyArIGhhZEVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGxvZ2dpbmcuaXNUcmFjZXJFbmFibGVkKFRSQUNFUl9OQU1FKSkge1xuICAgICAgICAgICAgc2Vzc2lvbi5vbigncmVtb3RlU2V0dGluZ3MnLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCduZXcgc2V0dGluZ3MgcmVjZWl2ZWQnICtcbiAgICAgICAgICAgICAgICAgICAgKHRoaXMuc2Vzc2lvbiAhPT0gc2Vzc2lvbiA/ICcgb24gdGhlIG9sZCBjb25uZWN0aW9uJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICc6ICcgK1xuICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShzZXR0aW5ncykpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXNzaW9uLm9uKCdsb2NhbFNldHRpbmdzJywgKHNldHRpbmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnbG9jYWwgc2V0dGluZ3MgYWNrbm93bGVkZ2VkIGJ5IHJlbW90ZScgK1xuICAgICAgICAgICAgICAgICAgICAodGhpcy5zZXNzaW9uICE9PSBzZXNzaW9uID8gJyBvbiB0aGUgb2xkIGNvbm5lY3Rpb24nIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgJzogJyArXG4gICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvKiBTdGFydCB0aGUga2VlcGFsaXZlIHRpbWVyIGxhc3QsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlciB0cmFjZSBsb2dzLFxuICAgICAgICAgKiB3aGljaCBzaG91bGQgb25seSBoYXBwZW4gYWZ0ZXIgZXZlcnl0aGluZyBlbHNlIGlzIHNldCB1cC4gKi9cbiAgICAgICAgaWYgKHRoaXMua2VlcGFsaXZlV2l0aG91dENhbGxzKSB7XG4gICAgICAgICAgICB0aGlzLm1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Vzc2lvbi5zb2NrZXQgaW5zdGFuY2VvZiB0bHNfMS5UTFNTb2NrZXQpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0aENvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0U2VjdXJpdHlUeXBlOiAnc3NsJyxcbiAgICAgICAgICAgICAgICBzc2xQZWVyQ2VydGlmaWNhdGU6IHNlc3Npb24uc29ja2V0LmdldFBlZXJDZXJ0aWZpY2F0ZSgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hdXRoQ29udGV4dCA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldENoYW5uZWx6SW5mbygpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGNvbnN0IHNlc3Npb25Tb2NrZXQgPSB0aGlzLnNlc3Npb24uc29ja2V0O1xuICAgICAgICBjb25zdCByZW1vdGVBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5yZW1vdGVBZGRyZXNzXG4gICAgICAgICAgICA/ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzKShzZXNzaW9uU29ja2V0LnJlbW90ZUFkZHJlc3MsIHNlc3Npb25Tb2NrZXQucmVtb3RlUG9ydClcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgY29uc3QgbG9jYWxBZGRyZXNzID0gc2Vzc2lvblNvY2tldC5sb2NhbEFkZHJlc3NcbiAgICAgICAgICAgID8gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MpKHNlc3Npb25Tb2NrZXQubG9jYWxBZGRyZXNzLCBzZXNzaW9uU29ja2V0LmxvY2FsUG9ydClcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgbGV0IHRsc0luZm87XG4gICAgICAgIGlmICh0aGlzLnNlc3Npb24uZW5jcnlwdGVkKSB7XG4gICAgICAgICAgICBjb25zdCB0bHNTb2NrZXQgPSBzZXNzaW9uU29ja2V0O1xuICAgICAgICAgICAgY29uc3QgY2lwaGVySW5mbyA9IHRsc1NvY2tldC5nZXRDaXBoZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGNlcnRpZmljYXRlID0gdGxzU29ja2V0LmdldENlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBwZWVyQ2VydGlmaWNhdGUgPSB0bHNTb2NrZXQuZ2V0UGVlckNlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICB0bHNJbmZvID0ge1xuICAgICAgICAgICAgICAgIGNpcGhlclN1aXRlU3RhbmRhcmROYW1lOiAoX2EgPSBjaXBoZXJJbmZvLnN0YW5kYXJkTmFtZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCxcbiAgICAgICAgICAgICAgICBjaXBoZXJTdWl0ZU90aGVyTmFtZTogY2lwaGVySW5mby5zdGFuZGFyZE5hbWUgPyBudWxsIDogY2lwaGVySW5mby5uYW1lLFxuICAgICAgICAgICAgICAgIGxvY2FsQ2VydGlmaWNhdGU6IGNlcnRpZmljYXRlICYmICdyYXcnIGluIGNlcnRpZmljYXRlID8gY2VydGlmaWNhdGUucmF3IDogbnVsbCxcbiAgICAgICAgICAgICAgICByZW1vdGVDZXJ0aWZpY2F0ZTogcGVlckNlcnRpZmljYXRlICYmICdyYXcnIGluIHBlZXJDZXJ0aWZpY2F0ZVxuICAgICAgICAgICAgICAgICAgICA/IHBlZXJDZXJ0aWZpY2F0ZS5yYXdcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRsc0luZm8gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvY2tldEluZm8gPSB7XG4gICAgICAgICAgICByZW1vdGVBZGRyZXNzOiByZW1vdGVBZGRyZXNzLFxuICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBsb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICBzZWN1cml0eTogdGxzSW5mbyxcbiAgICAgICAgICAgIHJlbW90ZU5hbWU6IHRoaXMucmVtb3RlTmFtZSxcbiAgICAgICAgICAgIHN0cmVhbXNTdGFydGVkOiB0aGlzLnN0cmVhbVRyYWNrZXIuY2FsbHNTdGFydGVkLFxuICAgICAgICAgICAgc3RyZWFtc1N1Y2NlZWRlZDogdGhpcy5zdHJlYW1UcmFja2VyLmNhbGxzU3VjY2VlZGVkLFxuICAgICAgICAgICAgc3RyZWFtc0ZhaWxlZDogdGhpcy5zdHJlYW1UcmFja2VyLmNhbGxzRmFpbGVkLFxuICAgICAgICAgICAgbWVzc2FnZXNTZW50OiB0aGlzLm1lc3NhZ2VzU2VudCxcbiAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IHRoaXMubWVzc2FnZXNSZWNlaXZlZCxcbiAgICAgICAgICAgIGtlZXBBbGl2ZXNTZW50OiB0aGlzLmtlZXBhbGl2ZXNTZW50LFxuICAgICAgICAgICAgbGFzdExvY2FsU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogdGhpcy5zdHJlYW1UcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgbGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wOiB0aGlzLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXA6IHRoaXMubGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgIGxvY2FsRmxvd0NvbnRyb2xXaW5kb3c6IChfYiA9IHRoaXMuc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGwsXG4gICAgICAgICAgICByZW1vdGVGbG93Q29udHJvbFdpbmRvdzogKF9jID0gdGhpcy5zZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IG51bGwsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzb2NrZXRJbmZvO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJygnICtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgJykgJyArXG4gICAgICAgICAgICB0aGlzLnN1YmNoYW5uZWxBZGRyZXNzU3RyaW5nICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICB0ZXh0KTtcbiAgICB9XG4gICAga2VlcGFsaXZlVHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgJ2tlZXBhbGl2ZScsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIGZsb3dDb250cm9sVHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgRkxPV19DT05UUk9MX1RSQUNFUl9OQU1FLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbEFkZHJlc3NTdHJpbmcgK1xuICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgIHRleHQpO1xuICAgIH1cbiAgICBpbnRlcm5hbHNUcmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAndHJhbnNwb3J0X2ludGVybmFscycsICcoJyArXG4gICAgICAgICAgICB0aGlzLmNoYW5uZWx6UmVmLmlkICtcbiAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZyArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgdGV4dCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlIHRvIHRoZSBvd25lciBvZiB0aGlzIG9iamVjdCB0aGF0IHRoaXMgdHJhbnNwb3J0IHNob3VsZCBubyBsb25nZXJcbiAgICAgKiBiZSB1c2VkLiBUaGF0IGhhcHBlbnMgaWYgdGhlIGNvbm5lY3Rpb24gZHJvcHMsIG9yIGlmIHRoZSBzZXJ2ZXIgc2VuZHMgYVxuICAgICAqIEdPQVdBWS5cbiAgICAgKiBAcGFyYW0gdG9vTWFueVBpbmdzIElmIHRydWUsIHRoaXMgd2FzIHRyaWdnZXJlZCBieSBhIEdPQVdBWSB3aXRoIGRhdGFcbiAgICAgKiBpbmRpY2F0aW5nIHRoYXQgdGhlIHNlc3Npb24gd2FzIGNsb3NlZCBiZWNhdWVzIHRoZSBjbGllbnQgc2VudCB0b28gbWFueVxuICAgICAqIHBpbmdzLlxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgcmVwb3J0RGlzY29ubmVjdFRvT3duZXIodG9vTWFueVBpbmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RIYW5kbGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNjb25uZWN0SGFuZGxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdExpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKHRvb01hbnlQaW5ncykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgY29ubmVjdGlvbiBkcm9wcywgYnV0IG5vdCBHT0FXQVlzLlxuICAgICAqL1xuICAgIGhhbmRsZURpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgIHRoaXMucmVwb3J0RGlzY29ubmVjdFRvT3duZXIoZmFsc2UpO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdGhpcy5hY3RpdmVDYWxscykge1xuICAgICAgICAgICAgY2FsbC5vbkRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXYWl0IGFuIGV2ZW50IGxvb3AgY3ljbGUgYmVmb3JlIGRlc3Ryb3lpbmcgdGhlIGNvbm5lY3Rpb25cbiAgICAgICAgc2V0SW1tZWRpYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZGREaXNjb25uZWN0TGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cbiAgICBjYW5TZW5kUGluZygpIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5zZXNzaW9uLmRlc3Ryb3llZCAmJlxuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lTXMgPiAwICYmXG4gICAgICAgICAgICAodGhpcy5rZWVwYWxpdmVXaXRob3V0Q2FsbHMgfHwgdGhpcy5hY3RpdmVDYWxscy5zaXplID4gMCkpO1xuICAgIH1cbiAgICBtYXliZVNlbmRQaW5nKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuY2FuU2VuZFBpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU2VuZEtlZXBhbGl2ZVBpbmcgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmtlZXBhbGl2ZVRpbWVyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdrZWVwYWxpdmVUaW1lb3V0IGlzIG5vdCBudWxsJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZXNTZW50ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnU2VuZGluZyBwaW5nIHdpdGggdGltZW91dCAnICsgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMgKyAnbXMnKTtcbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIHRpbWVvdXQgcGFzc2VkIHdpdGhvdXQgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyk7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMua2VlcGFsaXZlVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIGxldCBwaW5nU2VuZEVycm9yID0gJyc7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwaW5nU2VudFN1Y2Nlc3NmdWxseSA9IHRoaXMuc2Vzc2lvbi5waW5nKChlcnIsIGR1cmF0aW9uLCBwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcktlZXBhbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1BpbmcgZmFpbGVkIHdpdGggZXJyb3IgJyArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdSZWNlaXZlZCBwaW5nIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFwaW5nU2VudFN1Y2Nlc3NmdWxseSkge1xuICAgICAgICAgICAgICAgIHBpbmdTZW5kRXJyb3IgPSAnUGluZyByZXR1cm5lZCBmYWxzZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIGdycGMvZ3JwYy1ub2RlIzIxMzlcbiAgICAgICAgICAgIHBpbmdTZW5kRXJyb3IgPSAoZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogJycpIHx8ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgfVxuICAgICAgICBpZiAocGluZ1NlbmRFcnJvcikge1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnUGluZyBzZW5kIGZhaWxlZDogJyArIHBpbmdTZW5kRXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBrZWVwYWxpdmUgcGluZyB0aW1lciBpZiBhcHByb3ByaWF0ZS4gSWYgdGhlIHRpbWVyIGFscmVhZHkgcmFuXG4gICAgICogb3V0IHdoaWxlIHRoZXJlIHdlcmUgbm8gYWN0aXZlIHJlcXVlc3RzLCBpbnN0ZWFkIHNlbmQgYSBwaW5nIGltbWVkaWF0ZWx5LlxuICAgICAqIElmIHRoZSBwaW5nIHRpbWVyIGlzIGFscmVhZHkgcnVubmluZyBvciBhIHBpbmcgaXMgY3VycmVudGx5IGluIGZsaWdodCxcbiAgICAgKiBpbnN0ZWFkIGRvIG5vdGhpbmcgYW5kIHdhaXQgZm9yIHRoZW0gdG8gcmVzb2x2ZS5cbiAgICAgKi9cbiAgICBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuY2FuU2VuZFBpbmcoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdTZW5kS2VlcGFsaXZlUGluZykge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU2VuZEtlZXBhbGl2ZVBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTZW5kUGluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmtlZXBhbGl2ZVRpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdTdGFydGluZyBrZWVwYWxpdmUgdGltZXIgZm9yICcgKyB0aGlzLmtlZXBhbGl2ZVRpbWVNcyArICdtcycpO1xuICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTZW5kUGluZygpO1xuICAgICAgICAgICAgfSwgdGhpcy5rZWVwYWxpdmVUaW1lTXMpO1xuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5rZWVwYWxpdmVUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBPdGhlcndpc2UsIHRoZXJlIGlzIGFscmVhZHkgZWl0aGVyIGEga2VlcGFsaXZlIHRpbWVyIG9yIGEgcGluZyBwZW5kaW5nLFxuICAgICAgICAgKiB3YWl0IGZvciB0aG9zZSB0byByZXNvbHZlLiAqL1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgd2hpY2hldmVyIGtlZXBhbGl2ZSB0aW1lb3V0IGlzIGN1cnJlbnRseSBhY3RpdmUsIGlmIGFueS5cbiAgICAgKi9cbiAgICBjbGVhcktlZXBhbGl2ZVRpbWVvdXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmtlZXBhbGl2ZVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5rZWVwYWxpdmVUaW1lcik7XG4gICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVBY3RpdmVDYWxsKGNhbGwpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVDYWxscy5kZWxldGUoY2FsbCk7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUNhbGxzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi51bnJlZigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZEFjdGl2ZUNhbGwoY2FsbCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUNhbGxzLmFkZChjYWxsKTtcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlQ2FsbHMuc2l6ZSA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnJlZigpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmtlZXBhbGl2ZVdpdGhvdXRDYWxscykge1xuICAgICAgICAgICAgICAgIHRoaXMubWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNyZWF0ZUNhbGwobWV0YWRhdGEsIGhvc3QsIG1ldGhvZCwgbGlzdGVuZXIsIHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBtZXRhZGF0YS50b0h0dHAySGVhZGVycygpO1xuICAgICAgICBoZWFkZXJzW0hUVFAyX0hFQURFUl9BVVRIT1JJVFldID0gaG9zdDtcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfVVNFUl9BR0VOVF0gPSB0aGlzLnVzZXJBZ2VudDtcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfQ09OVEVOVF9UWVBFXSA9ICdhcHBsaWNhdGlvbi9ncnBjJztcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfTUVUSE9EXSA9ICdQT1NUJztcbiAgICAgICAgaGVhZGVyc1tIVFRQMl9IRUFERVJfUEFUSF0gPSBtZXRob2Q7XG4gICAgICAgIGhlYWRlcnNbSFRUUDJfSEVBREVSX1RFXSA9ICd0cmFpbGVycyc7XG4gICAgICAgIGxldCBodHRwMlN0cmVhbTtcbiAgICAgICAgLyogSW4gdGhlb3J5LCBpZiBhbiBlcnJvciBpcyB0aHJvd24gYnkgc2Vzc2lvbi5yZXF1ZXN0IGJlY2F1c2Ugc2Vzc2lvbiBoYXNcbiAgICAgICAgICogYmVjb21lIHVudXNhYmxlIChlLmcuIGJlY2F1c2UgaXQgaGFzIHJlY2VpdmVkIGEgZ29hd2F5KSwgdGhpcyBzdWJjaGFubmVsXG4gICAgICAgICAqIHNob3VsZCBzb29uIHNlZSB0aGUgY29ycmVzcG9uZGluZyBjbG9zZSBvciBnb2F3YXkgZXZlbnQgYW55d2F5IGFuZCBsZWF2ZVxuICAgICAgICAgKiBSRUFEWS4gQnV0IHdlIGhhdmUgc2VlbiByZXBvcnRzIHRoYXQgdGhpcyBkb2VzIG5vdCBoYXBwZW5cbiAgICAgICAgICogKGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVhcGlzL25vZGVqcy1maXJlc3RvcmUvaXNzdWVzLzEwMjMjaXNzdWVjb21tZW50LTY1MzIwNDA5NilcbiAgICAgICAgICogc28gZm9yIGRlZmVuc2UgaW4gZGVwdGgsIHdlIGp1c3QgZGlzY2FyZCB0aGUgc2Vzc2lvbiB3aGVuIHdlIHNlZSBhblxuICAgICAgICAgKiBlcnJvciBoZXJlLlxuICAgICAgICAgKi9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGh0dHAyU3RyZWFtID0gdGhpcy5zZXNzaW9uLnJlcXVlc3QoaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsb3dDb250cm9sVHJhY2UoJ2xvY2FsIHdpbmRvdyBzaXplOiAnICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUgK1xuICAgICAgICAgICAgJyByZW1vdGUgd2luZG93IHNpemU6ICcgK1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uLnN0YXRlLnJlbW90ZVdpbmRvd1NpemUpO1xuICAgICAgICB0aGlzLmludGVybmFsc1RyYWNlKCdzZXNzaW9uLmNsb3NlZD0nICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5jbG9zZWQgK1xuICAgICAgICAgICAgJyBzZXNzaW9uLmRlc3Ryb3llZD0nICtcbiAgICAgICAgICAgIHRoaXMuc2Vzc2lvbi5kZXN0cm95ZWQgK1xuICAgICAgICAgICAgJyBzZXNzaW9uLnNvY2tldC5kZXN0cm95ZWQ9JyArXG4gICAgICAgICAgICB0aGlzLnNlc3Npb24uc29ja2V0LmRlc3Ryb3llZCk7XG4gICAgICAgIGxldCBldmVudFRyYWNrZXI7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICAgICAgbGV0IGNhbGw7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICBldmVudFRyYWNrZXIgPSB7XG4gICAgICAgICAgICAgICAgYWRkTWVzc2FnZVNlbnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzU2VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLmFkZE1lc3NhZ2VTZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhZGRNZXNzYWdlUmVjZWl2ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VzUmVjZWl2ZWQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIuYWRkTWVzc2FnZVJlY2VpdmVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkNhbGxFbmQ6IHN0YXR1cyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIub25DYWxsRW5kKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlciwgc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBY3RpdmVDYWxsKGNhbGwpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25TdHJlYW1FbmQ6IHN1Y2Nlc3MgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbFN1Y2NlZWRlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1UcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5vblN0cmVhbUVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZXZlbnRUcmFja2VyID0ge1xuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VTZW50OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIuYWRkTWVzc2FnZVNlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VSZWNlaXZlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLmFkZE1lc3NhZ2VSZWNlaXZlZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DYWxsRW5kOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyLm9uQ2FsbEVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQWN0aXZlQ2FsbChjYWxsKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uU3RyZWFtRW5kOiBzdWNjZXNzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzdWJjaGFubmVsQ2FsbFN0YXRzVHJhY2tlci5vblN0cmVhbUVuZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoc3ViY2hhbm5lbENhbGxTdGF0c1RyYWNrZXIsIHN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhbGwgPSBuZXcgc3ViY2hhbm5lbF9jYWxsXzEuSHR0cDJTdWJjaGFubmVsQ2FsbChodHRwMlN0cmVhbSwgZXZlbnRUcmFja2VyLCBsaXN0ZW5lciwgdGhpcywgKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCkpO1xuICAgICAgICB0aGlzLmFkZEFjdGl2ZUNhbGwoY2FsbCk7XG4gICAgICAgIHJldHVybiBjYWxsO1xuICAgIH1cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHpSZWY7XG4gICAgfVxuICAgIGdldFBlZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJjaGFubmVsQWRkcmVzc1N0cmluZztcbiAgICB9XG4gICAgZ2V0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucztcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhDb250ZXh0O1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5zZXNzaW9uLmNsb3NlKCk7XG4gICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgfVxufVxuY2xhc3MgSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsVGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbFRhcmdldCA9IGNoYW5uZWxUYXJnZXQ7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNTaHV0ZG93biA9IGZhbHNlO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykodGhpcy5jaGFubmVsVGFyZ2V0KSArICcgJyArIHRleHQpO1xuICAgIH1cbiAgICBjcmVhdGVTZXNzaW9uKHNlY3VyZUNvbm5lY3RSZXN1bHQsIGFkZHJlc3MsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaHV0ZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlY3VyZUNvbm5lY3RSZXN1bHQuc29ja2V0LmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCdDb25uZWN0aW9uIGNsb3NlZCBiZWZvcmUgc3RhcnRpbmcgSFRUUC8yIGhhbmRzaGFrZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oO1xuICAgICAgICAgICAgbGV0IHJlbW90ZU5hbWUgPSBudWxsO1xuICAgICAgICAgICAgbGV0IHJlYWxUYXJnZXQgPSB0aGlzLmNoYW5uZWxUYXJnZXQ7XG4gICAgICAgICAgICBpZiAoJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCcgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFRhcmdldCA9ICgwLCB1cmlfcGFyc2VyXzEucGFyc2VVcmkpKG9wdGlvbnNbJ2dycGMuaHR0cF9jb25uZWN0X3RhcmdldCddKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyc2VkVGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWxUYXJnZXQgPSBwYXJzZWRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgICAgIHJlbW90ZU5hbWUgPSAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwYXJzZWRUYXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNjaGVtZSA9IHNlY3VyZUNvbm5lY3RSZXN1bHQuc2VjdXJlID8gJ2h0dHBzJyA6ICdodHRwJztcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldFBhdGggPSAoMCwgcmVzb2x2ZXJfMS5nZXREZWZhdWx0QXV0aG9yaXR5KShyZWFsVGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGNsb3NlSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgLy8gTGVhdmUgdGltZSBmb3IgZXJyb3IgZXZlbnQgdG8gaGFwcGVuIGJlZm9yZSByZWplY3RpbmdcbiAgICAgICAgICAgICAgICBzZXRJbW1lZGlhdGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXJlcG9ydGVkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydGVkRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGAke2Vycm9yTWVzc2FnZS50cmltKCl9ICgke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0pYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBlcnJvckhhbmRsZXIgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnY29ubmVjdGlvbiBmYWlsZWQgd2l0aCBlcnJvciAnICsgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlcG9ydGVkRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0ZWRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChgJHtlcnJvck1lc3NhZ2V9ICgke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNlc3Npb25PcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGNyZWF0ZUNvbm5lY3Rpb246IChhdXRob3JpdHksIG9wdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQ7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICBpbml0aWFsV2luZG93U2l6ZTogKF9kID0gKF9hID0gb3B0aW9uc1snZ3JwYy1ub2RlLmZsb3dfY29udHJvbF93aW5kb3cnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9jID0gKF9iID0gaHR0cDIuZ2V0RGVmYXVsdFNldHRpbmdzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChodHRwMikpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5pbml0aWFsV2luZG93U2l6ZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogNjU1MzUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBtYXhTZW5kSGVhZGVyQmxvY2tMZW5ndGg6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgICAgIC8qIEJ5IGRlZmF1bHQsIHNldCBhIHZlcnkgbGFyZ2UgbWF4IHNlc3Npb24gbWVtb3J5IGxpbWl0LCB0byBlZmZlY3RpdmVseVxuICAgICAgICAgICAgICAgICAqIGRpc2FibGUgZW5mb3JjZW1lbnQgb2YgdGhlIGxpbWl0LiBTb21lIHRlc3RpbmcgaW5kaWNhdGVzIHRoYXQgTm9kZSdzXG4gICAgICAgICAgICAgICAgICogYmVoYXZpb3IgZGVncmFkZXMgYmFkbHkgd2hlbiB0aGlzIGxpbWl0IGlzIHJlYWNoZWQsIHNvIHdlIHNvbHZlIHRoYXRcbiAgICAgICAgICAgICAgICAgKiBieSBkaXNhYmxpbmcgdGhlIGNoZWNrIGVudGlyZWx5LiAqL1xuICAgICAgICAgICAgICAgIG1heFNlc3Npb25NZW1vcnk6IChfZSA9IG9wdGlvbnNbJ2dycGMtbm9kZS5tYXhfc2Vzc2lvbl9tZW1vcnknXSkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uID0gaHR0cDIuY29ubmVjdChgJHtzY2hlbWV9Oi8vJHt0YXJnZXRQYXRofWAsIHNlc3Npb25PcHRpb25zKTtcbiAgICAgICAgICAgIC8vIFByZXBhcmUgd2luZG93IHNpemUgY29uZmlndXJhdGlvbiBmb3IgcmVtb3RlU2V0dGluZ3MgaGFuZGxlclxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFdpbiA9IChfaCA9IChfZyA9IChfZiA9IGh0dHAyLmdldERlZmF1bHRTZXR0aW5ncykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmNhbGwoaHR0cDIpKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuaW5pdGlhbFdpbmRvd1NpemUpICE9PSBudWxsICYmIF9oICE9PSB2b2lkIDAgPyBfaCA6IDY1NTM1OyAvLyA2NSA1MzUgQlxuICAgICAgICAgICAgY29uc3QgY29ubldpbiA9IG9wdGlvbnNbJ2dycGMtbm9kZS5mbG93X2NvbnRyb2xfd2luZG93J107XG4gICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICAgICAgbGV0IGVycm9yTWVzc2FnZSA9ICdGYWlsZWQgdG8gY29ubmVjdCc7XG4gICAgICAgICAgICBsZXQgcmVwb3J0ZWRFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgc2Vzc2lvbi51bnJlZigpO1xuICAgICAgICAgICAgc2Vzc2lvbi5vbmNlKCdyZW1vdGVTZXR0aW5ncycsICgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgLy8gU2VuZCBXSU5ET1dfVVBEQVRFIG5vdyB0byBhdm9pZCA2NSBLQiBzdGFydC13aW5kb3cgc3RhbGwuXG4gICAgICAgICAgICAgICAgaWYgKGNvbm5XaW4gJiYgY29ubldpbiA+IGRlZmF1bHRXaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vZGUg4omlIDE0LjE4XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLnNldExvY2FsV2luZG93U2l6ZShjb25uV2luKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9sZGVyIE5vZGU6IGJ1bXAgYnkgdGhlIGRlbHRhXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWx0YSA9IGNvbm5XaW4gLSAoKF9hID0gc2Vzc2lvbi5zdGF0ZS5sb2NhbFdpbmRvd1NpemUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRXaW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmluY3JlbWVudFdpbmRvd1NpemUoZGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlc3Npb24ucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xvc2VIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBzZWN1cmVDb25uZWN0UmVzdWx0LnNvY2tldC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEh0dHAyVHJhbnNwb3J0KHNlc3Npb24sIGFkZHJlc3MsIG9wdGlvbnMsIHJlbW90ZU5hbWUpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXNzaW9uLm9uY2UoJ2Nsb3NlJywgY2xvc2VIYW5kbGVyKTtcbiAgICAgICAgICAgIHNlc3Npb24ub25jZSgnZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQub25jZSgnY2xvc2UnLCBjbG9zZUhhbmRsZXIpO1xuICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQub25jZSgnZXJyb3InLCBlcnJvckhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGNwQ29ubmVjdChhZGRyZXNzLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiAoMCwgaHR0cF9wcm94eV8xLmdldFByb3hpZWRDb25uZWN0aW9uKShhZGRyZXNzLCBvcHRpb25zKS50aGVuKHByb3hpZWRTb2NrZXQgPT4ge1xuICAgICAgICAgICAgaWYgKHByb3hpZWRTb2NrZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJveGllZFNvY2tldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb3NlQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdTb2NrZXQgY2xvc2VkJykpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvckNhbGxiYWNrID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzb2NrZXQgPSBuZXQuY29ubmVjdChhZGRyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgY2xvc2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHNvY2tldCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQub25jZSgnY2xvc2UnLCBjbG9zZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uY2UoJ2Vycm9yJywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBjb25uZWN0KGFkZHJlc3MsIHNlY3VyZUNvbm5lY3Rvciwgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5pc1NodXRkb3duKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGNwQ29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgIGxldCBzZWN1cmVDb25uZWN0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgY29uc3QgYWRkcmVzc1N0cmluZyA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoYWRkcmVzc1N0cmluZyArICcgV2FpdGluZyBmb3Igc2VjdXJlQ29ubmVjdG9yIHRvIGJlIHJlYWR5Jyk7XG4gICAgICAgICAgICBhd2FpdCBzZWN1cmVDb25uZWN0b3Iud2FpdEZvclJlYWR5KCk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKGFkZHJlc3NTdHJpbmcgKyAnIHNlY3VyZUNvbm5lY3RvciBpcyByZWFkeScpO1xuICAgICAgICAgICAgdGNwQ29ubmVjdGlvbiA9IGF3YWl0IHRoaXMudGNwQ29ubmVjdChhZGRyZXNzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRjcENvbm5lY3Rpb24uc2V0Tm9EZWxheSgpO1xuICAgICAgICAgICAgdGhpcy50cmFjZShhZGRyZXNzU3RyaW5nICsgJyBFc3RhYmxpc2hlZCBUQ1AgY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgc2VjdXJlQ29ubmVjdFJlc3VsdCA9IGF3YWl0IHNlY3VyZUNvbm5lY3Rvci5jb25uZWN0KHRjcENvbm5lY3Rpb24pO1xuICAgICAgICAgICAgdGhpcy50cmFjZShhZGRyZXNzU3RyaW5nICsgJyBFc3RhYmxpc2hlZCBzZWN1cmUgY29ubmVjdGlvbicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlU2Vzc2lvbihzZWN1cmVDb25uZWN0UmVzdWx0LCBhZGRyZXNzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGNwQ29ubmVjdGlvbiA9PT0gbnVsbCB8fCB0Y3BDb25uZWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0Y3BDb25uZWN0aW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHNlY3VyZUNvbm5lY3RSZXN1bHQgPT09IG51bGwgfHwgc2VjdXJlQ29ubmVjdFJlc3VsdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VjdXJlQ29ubmVjdFJlc3VsdC5zb2NrZXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLmlzU2h1dGRvd24gPSB0cnVlO1xuICAgICAgICAoX2EgPSB0aGlzLnNlc3Npb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jbG9zZSgpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBudWxsO1xuICAgIH1cbn1cbmV4cG9ydHMuSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yID0gSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNwb3J0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlN1YmNoYW5uZWxQb29sID0gdm9pZCAwO1xuZXhwb3J0cy5nZXRTdWJjaGFubmVsUG9vbCA9IGdldFN1YmNoYW5uZWxQb29sO1xuY29uc3QgY2hhbm5lbF9vcHRpb25zXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLW9wdGlvbnNcIik7XG5jb25zdCBzdWJjaGFubmVsXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgdHJhbnNwb3J0XzEgPSByZXF1aXJlKFwiLi90cmFuc3BvcnRcIik7XG4vLyAxMCBzZWNvbmRzIGluIG1pbGxpc2Vjb25kcy4gVGhpcyB2YWx1ZSBpcyBhcmJpdHJhcnkuXG4vKipcbiAqIFRoZSBhbW91bnQgb2YgdGltZSBpbiBiZXR3ZWVuIGNoZWNrcyBmb3IgZHJvcHBpbmcgc3ViY2hhbm5lbHMgdGhhdCBoYXZlIG5vXG4gKiBvdGhlciByZWZlcmVuY2VzXG4gKi9cbmNvbnN0IFJFRl9DSEVDS19JTlRFUlZBTCA9IDEwMDAwO1xuY2xhc3MgU3ViY2hhbm5lbFBvb2wge1xuICAgIC8qKlxuICAgICAqIEEgcG9vbCBvZiBzdWJjaGFubmVscyB1c2UgZm9yIG1ha2luZyBjb25uZWN0aW9ucy4gU3ViY2hhbm5lbHMgd2l0aCB0aGVcbiAgICAgKiBleGFjdCBzYW1lIHBhcmFtZXRlcnMgd2lsbCBiZSByZXVzZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucG9vbCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVyIG9mIGEgdGFzayBwZXJmb3JtaW5nIGEgcGVyaW9kaWMgc3ViY2hhbm5lbCBjbGVhbnVwLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhbnVwVGltZXIgPSBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnJlZnMgYWxsIHVudXNlZCBzdWJjaGFubmVscyBhbmQgY2FuY2VscyB0aGUgY2xlYW51cCB0YXNrIGlmIGFsbFxuICAgICAqIHN1YmNoYW5uZWxzIGhhdmUgYmVlbiB1bnJlZmVkLlxuICAgICAqL1xuICAgIHVucmVmVW51c2VkU3ViY2hhbm5lbHMoKSB7XG4gICAgICAgIGxldCBhbGxTdWJjaGFubmVsc1VucmVmZWQgPSB0cnVlO1xuICAgICAgICAvKiBUaGVzZSBvYmplY3RzIGFyZSBjcmVhdGVkIHdpdGggT2JqZWN0LmNyZWF0ZShudWxsKSwgc28gdGhleSBkbyBub3RcbiAgICAgICAgICogaGF2ZSBhIHByb3RvdHlwZSwgd2hpY2ggbWVhbnMgdGhhdCBmb3IgKC4uLiBpbiAuLi4pIGxvb3BzIG92ZXIgdGhlbVxuICAgICAgICAgKiBkbyBub3QgbmVlZCB0byBiZSBmaWx0ZXJlZCAqL1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1kaXNhYmxlLW5leHQtbGluZTpmb3JpblxuICAgICAgICBmb3IgKGNvbnN0IGNoYW5uZWxUYXJnZXQgaW4gdGhpcy5wb29sKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsT2JqQXJyYXkgPSB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF07XG4gICAgICAgICAgICBjb25zdCByZWZlZFN1YmNoYW5uZWxzID0gc3ViY2hhbm5lbE9iakFycmF5LmZpbHRlcih2YWx1ZSA9PiAhdmFsdWUuc3ViY2hhbm5lbC51bnJlZklmT25lUmVmKCkpO1xuICAgICAgICAgICAgaWYgKHJlZmVkU3ViY2hhbm5lbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGFsbFN1YmNoYW5uZWxzVW5yZWZlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyogRm9yIGVhY2ggc3ViY2hhbm5lbCBpbiB0aGUgcG9vbCwgdHJ5IHRvIHVucmVmIGl0IGlmIGl0IGhhc1xuICAgICAgICAgICAgICogZXhhY3RseSBvbmUgcmVmICh3aGljaCBpcyB0aGUgcmVmIGZyb20gdGhlIHBvb2wgaXRzZWxmKS4gSWYgdGhhdFxuICAgICAgICAgICAgICogZG9lcyBoYXBwZW4sIHJlbW92ZSB0aGUgc3ViY2hhbm5lbCBmcm9tIHRoZSBwb29sICovXG4gICAgICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0gPSByZWZlZFN1YmNoYW5uZWxzO1xuICAgICAgICB9XG4gICAgICAgIC8qIEN1cnJlbnRseSB3ZSBkbyBub3QgZGVsZXRlIGtleXMgd2l0aCBlbXB0eSB2YWx1ZXMuIElmIHRoYXQgcmVzdWx0c1xuICAgICAgICAgKiBpbiBzaWduaWZpY2FudCBtZW1vcnkgdXNhZ2Ugd2Ugc2hvdWxkIGNoYW5nZSBpdC4gKi9cbiAgICAgICAgLy8gQ2FuY2VsIHRoZSBjbGVhbnVwIHRhc2sgaWYgYWxsIHN1YmNoYW5uZWxzIGhhdmUgYmVlbiB1bnJlZmVkLlxuICAgICAgICBpZiAoYWxsU3ViY2hhbm5lbHNVbnJlZmVkICYmIHRoaXMuY2xlYW51cFRpbWVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuY2xlYW51cFRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cFRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgdGhlIGNsZWFudXAgdGFzayBpcyBzcGF3bmVkLlxuICAgICAqL1xuICAgIGVuc3VyZUNsZWFudXBUYXNrKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5jbGVhbnVwVGltZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW51cFRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudW5yZWZVbnVzZWRTdWJjaGFubmVscygpO1xuICAgICAgICAgICAgfSwgUkVGX0NIRUNLX0lOVEVSVkFMKTtcbiAgICAgICAgICAgIC8vIFVucmVmIGJlY2F1c2UgdGhpcyB0aW1lciBzaG91bGQgbm90IGtlZXAgdGhlIGV2ZW50IGxvb3AgcnVubmluZy5cbiAgICAgICAgICAgIC8vIENhbGwgdW5yZWYgb25seSBpZiBpdCBleGlzdHMgdG8gYWRkcmVzcyBlbGVjdHJvbi9lbGVjdHJvbiMyMTE2MlxuICAgICAgICAgICAgKF9iID0gKF9hID0gdGhpcy5jbGVhbnVwVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3ViY2hhbm5lbCBpZiBvbmUgYWxyZWFkeSBleGlzdHMgd2l0aCBleGFjdGx5IG1hdGNoaW5nIHBhcmFtZXRlcnMuXG4gICAgICogT3RoZXJ3aXNlLCBjcmVhdGUgYW5kIHNhdmUgYSBzdWJjaGFubmVsIHdpdGggdGhvc2UgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbFRhcmdldFxuICAgICAqIEBwYXJhbSBzdWJjaGFubmVsVGFyZ2V0XG4gICAgICogQHBhcmFtIGNoYW5uZWxBcmd1bWVudHNcbiAgICAgKiBAcGFyYW0gY2hhbm5lbENyZWRlbnRpYWxzXG4gICAgICovXG4gICAgZ2V0T3JDcmVhdGVTdWJjaGFubmVsKGNoYW5uZWxUYXJnZXRVcmksIHN1YmNoYW5uZWxUYXJnZXQsIGNoYW5uZWxBcmd1bWVudHMsIGNoYW5uZWxDcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLmVuc3VyZUNsZWFudXBUYXNrKCk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxUYXJnZXQgPSAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShjaGFubmVsVGFyZ2V0VXJpKTtcbiAgICAgICAgaWYgKGNoYW5uZWxUYXJnZXQgaW4gdGhpcy5wb29sKSB7XG4gICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsT2JqQXJyYXkgPSB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN1YmNoYW5uZWxPYmogb2Ygc3ViY2hhbm5lbE9iakFycmF5KSB7XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc0VxdWFsKShzdWJjaGFubmVsVGFyZ2V0LCBzdWJjaGFubmVsT2JqLnN1YmNoYW5uZWxBZGRyZXNzKSAmJlxuICAgICAgICAgICAgICAgICAgICAoMCwgY2hhbm5lbF9vcHRpb25zXzEuY2hhbm5lbE9wdGlvbnNFcXVhbCkoY2hhbm5lbEFyZ3VtZW50cywgc3ViY2hhbm5lbE9iai5jaGFubmVsQXJndW1lbnRzKSAmJlxuICAgICAgICAgICAgICAgICAgICBjaGFubmVsQ3JlZGVudGlhbHMuX2VxdWFscyhzdWJjaGFubmVsT2JqLmNoYW5uZWxDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YmNoYW5uZWxPYmouc3ViY2hhbm5lbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIG5vIG1hdGNoaW5nIHN1YmNoYW5uZWwgd2FzIGZvdW5kXG4gICAgICAgIGNvbnN0IHN1YmNoYW5uZWwgPSBuZXcgc3ViY2hhbm5lbF8xLlN1YmNoYW5uZWwoY2hhbm5lbFRhcmdldFVyaSwgc3ViY2hhbm5lbFRhcmdldCwgY2hhbm5lbEFyZ3VtZW50cywgY2hhbm5lbENyZWRlbnRpYWxzLCBuZXcgdHJhbnNwb3J0XzEuSHR0cDJTdWJjaGFubmVsQ29ubmVjdG9yKGNoYW5uZWxUYXJnZXRVcmkpKTtcbiAgICAgICAgaWYgKCEoY2hhbm5lbFRhcmdldCBpbiB0aGlzLnBvb2wpKSB7XG4gICAgICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvb2xbY2hhbm5lbFRhcmdldF0ucHVzaCh7XG4gICAgICAgICAgICBzdWJjaGFubmVsQWRkcmVzczogc3ViY2hhbm5lbFRhcmdldCxcbiAgICAgICAgICAgIGNoYW5uZWxBcmd1bWVudHMsXG4gICAgICAgICAgICBjaGFubmVsQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICBzdWJjaGFubmVsLFxuICAgICAgICB9KTtcbiAgICAgICAgc3ViY2hhbm5lbC5yZWYoKTtcbiAgICAgICAgcmV0dXJuIHN1YmNoYW5uZWw7XG4gICAgfVxufVxuZXhwb3J0cy5TdWJjaGFubmVsUG9vbCA9IFN1YmNoYW5uZWxQb29sO1xuY29uc3QgZ2xvYmFsU3ViY2hhbm5lbFBvb2wgPSBuZXcgU3ViY2hhbm5lbFBvb2woKTtcbi8qKlxuICogR2V0IGVpdGhlciB0aGUgZ2xvYmFsIHN1YmNoYW5uZWwgcG9vbCwgb3IgYSBuZXcgc3ViY2hhbm5lbCBwb29sLlxuICogQHBhcmFtIGdsb2JhbFxuICovXG5mdW5jdGlvbiBnZXRTdWJjaGFubmVsUG9vbChnbG9iYWwpIHtcbiAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxTdWJjaGFubmVsUG9vbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViY2hhbm5lbFBvb2woKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJjaGFubmVsLXBvb2wuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjIgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTG9hZEJhbGFuY2luZ0NhbGwgPSB2b2lkIDA7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgZGVhZGxpbmVfMSA9IHJlcXVpcmUoXCIuL2RlYWRsaW5lXCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb250cm9sX3BsYW5lX3N0YXR1c18xID0gcmVxdWlyZShcIi4vY29udHJvbC1wbGFuZS1zdGF0dXNcIik7XG5jb25zdCBodHRwMiA9IHJlcXVpcmUoXCJodHRwMlwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ2xvYWRfYmFsYW5jaW5nX2NhbGwnO1xuY2xhc3MgTG9hZEJhbGFuY2luZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWwsIGNhbGxDb25maWcsIG1ldGhvZE5hbWUsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSwgY2FsbE51bWJlcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB0aGlzLmNoYW5uZWwgPSBjaGFubmVsO1xuICAgICAgICB0aGlzLmNhbGxDb25maWcgPSBjYWxsQ29uZmlnO1xuICAgICAgICB0aGlzLm1ldGhvZE5hbWUgPSBtZXRob2ROYW1lO1xuICAgICAgICB0aGlzLmhvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgICAgIHRoaXMuZGVhZGxpbmUgPSBkZWFkbGluZTtcbiAgICAgICAgdGhpcy5jYWxsTnVtYmVyID0gY2FsbE51bWJlcjtcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ0hhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5vbkNhbGxFbmRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRTdGFydFRpbWUgPSBudWxsO1xuICAgICAgICBjb25zdCBzcGxpdFBhdGggPSB0aGlzLm1ldGhvZE5hbWUuc3BsaXQoJy8nKTtcbiAgICAgICAgbGV0IHNlcnZpY2VOYW1lID0gJyc7XG4gICAgICAgIC8qIFRoZSBzdGFuZGFyZCBwYXRoIGZvcm1hdCBpcyBcIi97c2VydmljZU5hbWV9L3ttZXRob2ROYW1lfVwiLCBzbyBpZiB3ZSBzcGxpdFxuICAgICAgICAgKiBieSAnLycsIHRoZSBmaXJzdCBpdGVtIHNob3VsZCBiZSBlbXB0eSBhbmQgdGhlIHNlY29uZCBzaG91bGQgYmUgdGhlXG4gICAgICAgICAqIHNlcnZpY2UgbmFtZSAqL1xuICAgICAgICBpZiAoc3BsaXRQYXRoLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICBzZXJ2aWNlTmFtZSA9IHNwbGl0UGF0aFsxXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBob3N0bmFtZSA9IChfYiA9IChfYSA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkodGhpcy5ob3N0KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhvc3QpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6ICdsb2NhbGhvc3QnO1xuICAgICAgICAvKiBDdXJyZW50bHksIGNhbGwgY3JlZGVudGlhbHMgYXJlIG9ubHkgYWxsb3dlZCBvbiBIVFRQUyBjb25uZWN0aW9ucywgc28gd2VcbiAgICAgICAgICogY2FuIGFzc3VtZSB0aGF0IHRoZSBzY2hlbWUgaXMgXCJodHRwc1wiICovXG4gICAgICAgIHRoaXMuc2VydmljZVVybCA9IGBodHRwczovLyR7aG9zdG5hbWV9LyR7c2VydmljZU5hbWV9YDtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZUluZm8oKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGNvbnN0IGRlYWRsaW5lSW5mbyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5jaGlsZFN0YXJ0VGltZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRTdGFydFRpbWUgPiB0aGlzLnN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgIGlmICgoX2EgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0T3B0aW9ucygpLndhaXRGb3JSZWFkeSkge1xuICAgICAgICAgICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaCgnd2FpdF9mb3JfcmVhZHknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYExCIHBpY2s6ICR7KDAsIGRlYWRsaW5lXzEuZm9ybWF0RGF0ZURpZmZlcmVuY2UpKHRoaXMuc3RhcnRUaW1lLCB0aGlzLmNoaWxkU3RhcnRUaW1lKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKC4uLnRoaXMuY2hpbGQuZ2V0RGVhZGxpbmVJbmZvKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGRlYWRsaW5lSW5mbztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgoX2IgPSB0aGlzLm1ldGFkYXRhKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0T3B0aW9ucygpLndhaXRGb3JSZWFkeSkge1xuICAgICAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKCd3YWl0X2Zvcl9yZWFkeScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goJ1dhaXRpbmcgZm9yIExCIHBpY2snKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVhZGxpbmVJbmZvO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ1snICsgdGhpcy5jYWxsTnVtYmVyICsgJ10gJyArIHRleHQpO1xuICAgIH1cbiAgICBvdXRwdXRTdGF0dXMoc3RhdHVzLCBwcm9ncmVzcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIXRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgc3RhdHVzLmNvZGUgK1xuICAgICAgICAgICAgICAgICcgZGV0YWlscz1cIicgK1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kZXRhaWxzICtcbiAgICAgICAgICAgICAgICAnXCIgc3RhcnQgdGltZT0nICtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VGltZS50b0lTT1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbmFsU3RhdHVzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0dXMpLCB7IHByb2dyZXNzIH0pO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5saXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uUmVjZWl2ZVN0YXR1cyhmaW5hbFN0YXR1cyk7XG4gICAgICAgICAgICAoX2IgPSB0aGlzLm9uQ2FsbEVuZGVkKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbCh0aGlzLCBmaW5hbFN0YXR1cy5jb2RlLCBmaW5hbFN0YXR1cy5kZXRhaWxzLCBmaW5hbFN0YXR1cy5tZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9QaWNrKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkb1BpY2sgY2FsbGVkIGJlZm9yZSBzdGFydCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2UoJ1BpY2sgY2FsbGVkJyk7XG4gICAgICAgIGNvbnN0IGZpbmFsTWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhLmNsb25lKCk7XG4gICAgICAgIGNvbnN0IHBpY2tSZXN1bHQgPSB0aGlzLmNoYW5uZWwuZG9QaWNrKGZpbmFsTWV0YWRhdGEsIHRoaXMuY2FsbENvbmZpZy5waWNrSW5mb3JtYXRpb24pO1xuICAgICAgICBjb25zdCBzdWJjaGFubmVsU3RyaW5nID0gcGlja1Jlc3VsdC5zdWJjaGFubmVsXG4gICAgICAgICAgICA/ICcoJyArXG4gICAgICAgICAgICAgICAgcGlja1Jlc3VsdC5zdWJjaGFubmVsLmdldENoYW5uZWx6UmVmKCkuaWQgK1xuICAgICAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgICAgIHBpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRBZGRyZXNzKClcbiAgICAgICAgICAgIDogJycgKyBwaWNrUmVzdWx0LnN1YmNoYW5uZWw7XG4gICAgICAgIHRoaXMudHJhY2UoJ1BpY2sgcmVzdWx0OiAnICtcbiAgICAgICAgICAgIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlW3BpY2tSZXN1bHQucGlja1Jlc3VsdFR5cGVdICtcbiAgICAgICAgICAgICcgc3ViY2hhbm5lbDogJyArXG4gICAgICAgICAgICBzdWJjaGFubmVsU3RyaW5nICtcbiAgICAgICAgICAgICcgc3RhdHVzOiAnICtcbiAgICAgICAgICAgICgoX2EgPSBwaWNrUmVzdWx0LnN0YXR1cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvZGUpICtcbiAgICAgICAgICAgICcgJyArXG4gICAgICAgICAgICAoKF9iID0gcGlja1Jlc3VsdC5zdGF0dXMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5kZXRhaWxzKSk7XG4gICAgICAgIHN3aXRjaCAocGlja1Jlc3VsdC5waWNrUmVzdWx0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5DT01QTEVURTpcbiAgICAgICAgICAgICAgICBjb25zdCBjb21iaW5lZENhbGxDcmVkZW50aWFscyA9IHRoaXMuY3JlZGVudGlhbHMuY29tcG9zZShwaWNrUmVzdWx0LnN1YmNoYW5uZWwuZ2V0Q2FsbENyZWRlbnRpYWxzKCkpO1xuICAgICAgICAgICAgICAgIGNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzXG4gICAgICAgICAgICAgICAgICAgIC5nZW5lcmF0ZU1ldGFkYXRhKHsgbWV0aG9kX25hbWU6IHRoaXMubWV0aG9kTmFtZSwgc2VydmljZV91cmw6IHRoaXMuc2VydmljZVVybCB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihjcmVkc01ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiB0aGlzIGNhbGwgd2FzIGNhbmNlbGxlZCAoZS5nLiBieSB0aGUgZGVhZGxpbmUpIGJlZm9yZVxuICAgICAgICAgICAgICAgICAgICAgKiBtZXRhZGF0YSBnZW5lcmF0aW9uIGZpbmlzaGVkLCB3ZSBzaG91bGRuJ3QgZG8gYW55dGhpbmcgd2l0aFxuICAgICAgICAgICAgICAgICAgICAgKiBpdC4gKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0NyZWRlbnRpYWxzIG1ldGFkYXRhIGdlbmVyYXRpb24gZmluaXNoZWQgYWZ0ZXIgY2FsbCBlbmRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTWV0YWRhdGEubWVyZ2UoY3JlZHNNZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5hbE1ldGFkYXRhLmdldCgnYXV0aG9yaXphdGlvbicpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogJ1wiYXV0aG9yaXphdGlvblwiIG1ldGFkYXRhIGNhbm5vdCBoYXZlIG11bHRpcGxlIHZhbHVlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1BpY2tlZCBzdWJjaGFubmVsICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNoYW5uZWxTdHJpbmcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcgaGFzIHN0YXRlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3BpY2tSZXN1bHQuc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBhZnRlciBnZXR0aW5nIGNyZWRlbnRpYWxzIG1ldGFkYXRhLiBSZXRyeWluZyBwaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRvUGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYWRsaW5lICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxNZXRhZGF0YS5zZXQoJ2dycGMtdGltZW91dCcsICgwLCBkZWFkbGluZV8xLmdldERlYWRsaW5lVGltZW91dFN0cmluZykodGhpcy5kZWFkbGluZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkID0gcGlja1Jlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdWJjaGFubmVsLmdldFJlYWxTdWJjaGFubmVsKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3JlYXRlQ2FsbChmaW5hbE1ldGFkYXRhLCB0aGlzLmhvc3QsIHRoaXMubWV0aG9kTmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiBtZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1ldGFkYXRhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogbWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1lc3NhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzdGF0dXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5yc3RDb2RlID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cDIuY29uc3RhbnRzLk5HSFRUUDJfUkVGVVNFRF9TVFJFQU0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHN0YXR1cywgJ1JFRlVTRUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHN0YXR1cywgJ1BST0NFU1NFRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZFN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdGYWlsZWQgdG8gc3RhcnQgY2FsbCBvbiBwaWNrZWQgc3ViY2hhbm5lbCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsU3RyaW5nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHdpdGggZXJyb3IgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdGYWlsZWQgdG8gc3RhcnQgSFRUUC8yIHN0cmVhbSB3aXRoIGVycm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ05PVF9TVEFSVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKF9hID0gcGlja1Jlc3VsdC5vbkNhbGxTdGFydGVkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwaWNrUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNhbGxFbmRlZCA9IHBpY2tSZXN1bHQub25DYWxsRW5kZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0NyZWF0ZWQgY2hpbGQgY2FsbCBbJyArIHRoaXMuY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZFBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ01lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGQuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dCh0aGlzLnBlbmRpbmdNZXNzYWdlLmNvbnRleHQsIHRoaXMucGVuZGluZ01lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhc3N1bWUgdGhlIGVycm9yIGNvZGUgaXNuJ3QgMCAoU3RhdHVzLk9LKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvZGUsIGRldGFpbHMgfSA9ICgwLCBjb250cm9sX3BsYW5lX3N0YXR1c18xLnJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZSkodHlwZW9mIGVycm9yLmNvZGUgPT09ICdudW1iZXInID8gZXJyb3IuY29kZSA6IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOLCBgR2V0dGluZyBtZXRhZGF0YSBmcm9tIHBsdWdpbiBmYWlsZWQgd2l0aCBlcnJvcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogZGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLkRST1A6XG4gICAgICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHBpY2tSZXN1bHQuc3RhdHVzLmNvZGUsIHBpY2tSZXN1bHQuc3RhdHVzLmRldGFpbHMpO1xuICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHsgY29kZSwgZGV0YWlscywgbWV0YWRhdGE6IHBpY2tSZXN1bHQuc3RhdHVzLm1ldGFkYXRhIH0sICdEUk9QJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLlRSQU5TSUVOVF9GQUlMVVJFOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnF1ZXVlQ2FsbEZvclBpY2sodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IGNvZGUsIGRldGFpbHMgfSA9ICgwLCBjb250cm9sX3BsYW5lX3N0YXR1c18xLnJlc3RyaWN0Q29udHJvbFBsYW5lU3RhdHVzQ29kZSkocGlja1Jlc3VsdC5zdGF0dXMuY29kZSwgcGlja1Jlc3VsdC5zdGF0dXMuZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIHNldEltbWVkaWF0ZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7IGNvZGUsIGRldGFpbHMsIG1ldGFkYXRhOiBwaWNrUmVzdWx0LnN0YXR1cy5tZXRhZGF0YSB9LCAnUFJPQ0VTU0VEJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuUVVFVUU6XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsLnF1ZXVlQ2FsbEZvclBpY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnRyYWNlKCdjYW5jZWxXaXRoU3RhdHVzIGNvZGU6ICcgKyBzdGF0dXMgKyAnIGRldGFpbHM6IFwiJyArIGRldGFpbHMgKyAnXCInKTtcbiAgICAgICAgKF9hID0gdGhpcy5jaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKTtcbiAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoeyBjb2RlOiBzdGF0dXMsIGRldGFpbHM6IGRldGFpbHMsIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpIH0sICdQUk9DRVNTRUQnKTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIChfYiA9IChfYSA9IHRoaXMuY2hpbGQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRQZWVyKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuY2hhbm5lbC5nZXRUYXJnZXQoKTtcbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0IGNhbGxlZCcpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5kb1BpY2soKTtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3dyaXRlKCkgY2FsbGVkIHdpdGggbWVzc2FnZSBvZiBsZW5ndGggJyArIG1lc3NhZ2UubGVuZ3RoKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc2VuZE1lc3NhZ2VXaXRoQ29udGV4dChjb250ZXh0LCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSB7IGNvbnRleHQsIG1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0UmVhZCBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2hhbGZDbG9zZSBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuaGFsZkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdIYWxmQ2xvc2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxzKGNyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZ2V0Q2FsbE51bWJlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbE51bWJlcjtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGlsZC5nZXRBdXRoQ29udGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkxvYWRCYWxhbmNpbmdDYWxsID0gTG9hZEJhbGFuY2luZ0NhbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2luZy1jYWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlc29sdmluZ0NhbGwgPSB2b2lkIDA7XG5jb25zdCBjYWxsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jYWxsLWNyZWRlbnRpYWxzXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBkZWFkbGluZV8xID0gcmVxdWlyZShcIi4vZGVhZGxpbmVcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnRyb2xfcGxhbmVfc3RhdHVzXzEgPSByZXF1aXJlKFwiLi9jb250cm9sLXBsYW5lLXN0YXR1c1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3Jlc29sdmluZ19jYWxsJztcbmNsYXNzIFJlc29sdmluZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWwsIG1ldGhvZCwgb3B0aW9ucywgZmlsdGVyU3RhY2tGYWN0b3J5LCBjYWxsTnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gICAgICAgIHRoaXMubWV0aG9kID0gbWV0aG9kO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeSA9IGZpbHRlclN0YWNrRmFjdG9yeTtcbiAgICAgICAgdGhpcy5jYWxsTnVtYmVyID0gY2FsbE51bWJlcjtcbiAgICAgICAgdGhpcy5jaGlsZCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ0hhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmVuZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVhZEZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy53cml0ZUZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nQ2hpbGRTdGF0dXMgPSBudWxsO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdHVzV2F0Y2hlcnMgPSBbXTtcbiAgICAgICAgdGhpcy5kZWFkbGluZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7IH0sIDApO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZWFkbGluZVN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZFN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVkZW50aWFscyBjb25maWd1cmVkIGZvciB0aGlzIHNwZWNpZmljIGNhbGwuIERvZXMgbm90IGluY2x1ZGVcbiAgICAgICAgICogY2FsbCBjcmVkZW50aWFscyBhc3NvY2lhdGVkIHdpdGggdGhlIGNoYW5uZWwgY3JlZGVudGlhbHMgdXNlZCB0byBjcmVhdGVcbiAgICAgICAgICogdGhlIGNoYW5uZWwuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVFbXB0eSgpO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gb3B0aW9ucy5kZWFkbGluZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gb3B0aW9ucy5ob3N0O1xuICAgICAgICBpZiAob3B0aW9ucy5wYXJlbnRDYWxsKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5mbGFncyAmIGNvbnN0YW50c18xLlByb3BhZ2F0ZS5DQU5DRUxMQVRJT04pIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmVudENhbGwub24oJ2NhbmNlbGxlZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdDYW5jZWxsZWQgYnkgcGFyZW50IGNhbGwnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmZsYWdzICYgY29uc3RhbnRzXzEuUHJvcGFnYXRlLkRFQURMSU5FKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUHJvcGFnYXRpbmcgZGVhZGxpbmUgZnJvbSBwYXJlbnQ6ICcgK1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnBhcmVudENhbGwuZ2V0RGVhZGxpbmUoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWFkbGluZSA9ICgwLCBkZWFkbGluZV8xLm1pbkRlYWRsaW5lKSh0aGlzLmRlYWRsaW5lLCBvcHRpb25zLnBhcmVudENhbGwuZ2V0RGVhZGxpbmUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnQ3JlYXRlZCcpO1xuICAgICAgICB0aGlzLnJ1bkRlYWRsaW5lVGltZXIoKTtcbiAgICB9XG4gICAgdHJhY2UodGV4dCkge1xuICAgICAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsICdbJyArIHRoaXMuY2FsbE51bWJlciArICddICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgcnVuRGVhZGxpbmVUaW1lcigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVhZGxpbmVUaW1lcik7XG4gICAgICAgIHRoaXMuZGVhZGxpbmVTdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLnRyYWNlKCdEZWFkbGluZTogJyArICgwLCBkZWFkbGluZV8xLmRlYWRsaW5lVG9TdHJpbmcpKHRoaXMuZGVhZGxpbmUpKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9ICgwLCBkZWFkbGluZV8xLmdldFJlbGF0aXZlVGltZW91dCkodGhpcy5kZWFkbGluZSk7XG4gICAgICAgIGlmICh0aW1lb3V0ICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnRGVhZGxpbmUgd2lsbCBiZSByZWFjaGVkIGluICcgKyB0aW1lb3V0ICsgJ21zJyk7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVEZWFkbGluZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGVhZGxpbmVTdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5ERUFETElORV9FWENFRURFRCwgJ0RlYWRsaW5lIGV4Y2VlZGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZGVhZGxpbmVJbmZvID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgZGVhZGxpbmVFbmRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICBkZWFkbGluZUluZm8ucHVzaChgRGVhZGxpbmUgZXhjZWVkZWQgYWZ0ZXIgJHsoMCwgZGVhZGxpbmVfMS5mb3JtYXREYXRlRGlmZmVyZW5jZSkodGhpcy5kZWFkbGluZVN0YXJ0VGltZSwgZGVhZGxpbmVFbmRUaW1lKX1gKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWdSZWNlaXZlZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lID4gdGhpcy5kZWFkbGluZVN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYG5hbWUgcmVzb2x1dGlvbjogJHsoMCwgZGVhZGxpbmVfMS5mb3JtYXREYXRlRGlmZmVyZW5jZSkodGhpcy5kZWFkbGluZVN0YXJ0VGltZSwgdGhpcy5jb25maWdSZWNlaXZlZFRpbWUpfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGlsZFN0YXJ0VGltZSA+IHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYG1ldGFkYXRhIGZpbHRlcnM6ICR7KDAsIGRlYWRsaW5lXzEuZm9ybWF0RGF0ZURpZmZlcmVuY2UpKHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lLCB0aGlzLmNoaWxkU3RhcnRUaW1lKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKCd3YWl0aW5nIGZvciBtZXRhZGF0YSBmaWx0ZXJzJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKCd3YWl0aW5nIGZvciBuYW1lIHJlc29sdXRpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goLi4udGhpcy5jaGlsZC5nZXREZWFkbGluZUluZm8oKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsV2l0aFN0YXR1cyhjb25zdGFudHNfMS5TdGF0dXMuREVBRExJTkVfRVhDRUVERUQsIGRlYWRsaW5lSW5mby5qb2luKCcsJykpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0aW1lb3V0IDw9IDApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGhhbmRsZURlYWRsaW5lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVhZGxpbmVUaW1lciA9IHNldFRpbWVvdXQoaGFuZGxlRGVhZGxpbmUsIHRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG91dHB1dFN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmVuZGVkKSB7XG4gICAgICAgICAgICB0aGlzLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5maWx0ZXJTdGFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyU3RhY2sgPSB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeS5jcmVhdGVGaWx0ZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYWRsaW5lVGltZXIpO1xuICAgICAgICAgICAgY29uc3QgZmlsdGVyZWRTdGF0dXMgPSB0aGlzLmZpbHRlclN0YWNrLnJlY2VpdmVUcmFpbGVycyhzdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy50cmFjZSgnZW5kZWQgd2l0aCBzdGF0dXM6IGNvZGU9JyArXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTdGF0dXMuY29kZSArXG4gICAgICAgICAgICAgICAgJyBkZXRhaWxzPVwiJyArXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRTdGF0dXMuZGV0YWlscyArXG4gICAgICAgICAgICAgICAgJ1wiJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXR1c1dhdGNoZXJzLmZvckVhY2god2F0Y2hlciA9PiB3YXRjaGVyKGZpbHRlcmVkU3RhdHVzKSk7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5saXN0ZW5lcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uUmVjZWl2ZVN0YXR1cyhmaWx0ZXJlZFN0YXR1cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kTWVzc2FnZU9uQ2hpbGQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2VuZE1lc3NhZ2VvbkNoaWxkIGNhbGxlZCB3aXRoIGNoaWxkIG5vdCBwb3B1bGF0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGQ7XG4gICAgICAgIHRoaXMud3JpdGVGaWx0ZXJQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5maWx0ZXJTdGFjay5zZW5kTWVzc2FnZShQcm9taXNlLnJlc29sdmUoeyBtZXNzYWdlOiBtZXNzYWdlLCBmbGFnczogY29udGV4dC5mbGFncyB9KSkudGhlbihmaWx0ZXJlZE1lc3NhZ2UgPT4ge1xuICAgICAgICAgICAgdGhpcy53cml0ZUZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNoaWxkLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgZmlsdGVyZWRNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGVuZGluZ0hhbGZDbG9zZSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAoc3RhdHVzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLmNvZGUsIHN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldENvbmZpZygpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEgfHwgIXRoaXMubGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZ2V0Q29uZmlnIGNhbGxlZCBiZWZvcmUgc3RhcnQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25maWdSZXN1bHQgPSB0aGlzLmNoYW5uZWwuZ2V0Q29uZmlnKHRoaXMubWV0aG9kLCB0aGlzLm1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGNvbmZpZ1Jlc3VsdC50eXBlID09PSAnTk9ORScpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5xdWV1ZUNhbGxGb3JDb25maWcodGhpcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29uZmlnUmVzdWx0LnR5cGUgPT09ICdFUlJPUicpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmdldE9wdGlvbnMoKS53YWl0Rm9yUmVhZHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWwucXVldWVDYWxsRm9yQ29uZmlnKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoY29uZmlnUmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25maWdSZXN1bHQudHlwZSA9PT0gJ1NVQ0NFU1MnXG4gICAgICAgIHRoaXMuY29uZmlnUmVjZWl2ZWRUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgY29uc3QgY29uZmlnID0gY29uZmlnUmVzdWx0LmNvbmZpZztcbiAgICAgICAgaWYgKGNvbmZpZy5zdGF0dXMgIT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgY29uc3QgeyBjb2RlLCBkZXRhaWxzIH0gPSAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKGNvbmZpZy5zdGF0dXMsICdGYWlsZWQgdG8gcm91dGUgY2FsbCB0byBtZXRob2QgJyArIHRoaXMubWV0aG9kKTtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLm1ldGhvZENvbmZpZy50aW1lb3V0KSB7XG4gICAgICAgICAgICBjb25zdCBjb25maWdEZWFkbGluZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25maWdEZWFkbGluZS5zZXRTZWNvbmRzKGNvbmZpZ0RlYWRsaW5lLmdldFNlY29uZHMoKSArIGNvbmZpZy5tZXRob2RDb25maWcudGltZW91dC5zZWNvbmRzKTtcbiAgICAgICAgICAgIGNvbmZpZ0RlYWRsaW5lLnNldE1pbGxpc2Vjb25kcyhjb25maWdEZWFkbGluZS5nZXRNaWxsaXNlY29uZHMoKSArXG4gICAgICAgICAgICAgICAgY29uZmlnLm1ldGhvZENvbmZpZy50aW1lb3V0Lm5hbm9zIC8gMTAwMDAwMCk7XG4gICAgICAgICAgICB0aGlzLmRlYWRsaW5lID0gKDAsIGRlYWRsaW5lXzEubWluRGVhZGxpbmUpKHRoaXMuZGVhZGxpbmUsIGNvbmZpZ0RlYWRsaW5lKTtcbiAgICAgICAgICAgIHRoaXMucnVuRGVhZGxpbmVUaW1lcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2tGYWN0b3J5LnB1c2goY29uZmlnLmR5bmFtaWNGaWx0ZXJGYWN0b3JpZXMpO1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrID0gdGhpcy5maWx0ZXJTdGFja0ZhY3RvcnkuY3JlYXRlRmlsdGVyKCk7XG4gICAgICAgIHRoaXMuZmlsdGVyU3RhY2suc2VuZE1ldGFkYXRhKFByb21pc2UucmVzb2x2ZSh0aGlzLm1ldGFkYXRhKSkudGhlbihmaWx0ZXJlZE1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQgPSB0aGlzLmNoYW5uZWwuY3JlYXRlUmV0cnlpbmdDYWxsKGNvbmZpZywgdGhpcy5tZXRob2QsIHRoaXMuaG9zdCwgdGhpcy5jcmVkZW50aWFscywgdGhpcy5kZWFkbGluZSk7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdDcmVhdGVkIGNoaWxkIFsnICsgdGhpcy5jaGlsZC5nZXRDYWxsTnVtYmVyKCkgKyAnXScpO1xuICAgICAgICAgICAgdGhpcy5jaGlsZFN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLnN0YXJ0KGZpbHRlcmVkTWV0YWRhdGEsIHtcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogbWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBtZXRhZGF0YScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKHRoaXMuZmlsdGVyU3RhY2sucmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiBtZXNzYWdlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgbWVzc2FnZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlYWRGaWx0ZXJQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJTdGFjay5yZWNlaXZlTWVzc2FnZShtZXNzYWdlKS50aGVuKGZpbHRlcmVkTWVzc3NhZ2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnRmluaXNoZWQgZmlsdGVyaW5nIHJlY2VpdmVkIG1lc3NhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVhZEZpbHRlclBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShmaWx0ZXJlZE1lc3NzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdDaGlsZFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0U3RhdHVzKHRoaXMucGVuZGluZ0NoaWxkU3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxXaXRoU3RhdHVzKHN0YXR1cy5jb2RlLCBzdGF0dXMuZGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdSZWNlaXZlZCBzdGF0dXMnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZEZpbHRlclBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0NoaWxkU3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWRQZW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZC5zdGFydFJlYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnBlbmRpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZU9uQ2hpbGQodGhpcy5wZW5kaW5nTWVzc2FnZS5jb250ZXh0LCB0aGlzLnBlbmRpbmdNZXNzYWdlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nSGFsZkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZC5oYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgKHN0YXR1cykgPT4ge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJlcG9ydFJlc29sdmVyRXJyb3Ioc3RhdHVzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMubWV0YWRhdGEpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRPcHRpb25zKCkud2FpdEZvclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWwucXVldWVDYWxsRm9yQ29uZmlnKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYW5jZWxXaXRoU3RhdHVzKHN0YXR1cywgZGV0YWlscykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NhbmNlbFdpdGhTdGF0dXMgY29kZTogJyArIHN0YXR1cyArICcgZGV0YWlsczogXCInICsgZGV0YWlscyArICdcIicpO1xuICAgICAgICAoX2EgPSB0aGlzLmNoaWxkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpO1xuICAgICAgICB0aGlzLm91dHB1dFN0YXR1cyh7XG4gICAgICAgICAgICBjb2RlOiBzdGF0dXMsXG4gICAgICAgICAgICBkZXRhaWxzOiBkZXRhaWxzLFxuICAgICAgICAgICAgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gKF9iID0gKF9hID0gdGhpcy5jaGlsZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFBlZXIoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5jaGFubmVsLmdldFRhcmdldCgpO1xuICAgIH1cbiAgICBzdGFydChtZXRhZGF0YSwgbGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnc3RhcnQgY2FsbGVkJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YS5jbG9uZSgpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMuZ2V0Q29uZmlnKCk7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlV2l0aENvbnRleHQoY29udGV4dCwgbWVzc2FnZSkge1xuICAgICAgICB0aGlzLnRyYWNlKCd3cml0ZSgpIGNhbGxlZCB3aXRoIG1lc3NhZ2Ugb2YgbGVuZ3RoICcgKyBtZXNzYWdlLmxlbmd0aCk7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkKSB7XG4gICAgICAgICAgICB0aGlzLnNlbmRNZXNzYWdlT25DaGlsZChjb250ZXh0LCBtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSB7IGNvbnRleHQsIG1lc3NhZ2UgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0UmVhZCBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlYWRQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2hhbGZDbG9zZSBjYWxsZWQnKTtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGQgJiYgIXRoaXMud3JpdGVGaWx0ZXJQZW5kaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkLmhhbGZDbG9zZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nSGFsZkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRDcmVkZW50aWFscyhjcmVkZW50aWFscykge1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgfVxuICAgIGFkZFN0YXR1c1dhdGNoZXIod2F0Y2hlcikge1xuICAgICAgICB0aGlzLnN0YXR1c1dhdGNoZXJzLnB1c2god2F0Y2hlcik7XG4gICAgfVxuICAgIGdldENhbGxOdW1iZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxOdW1iZXI7XG4gICAgfVxuICAgIGdldEF1dGhDb250ZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5jaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0QXV0aENvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZXNvbHZpbmdDYWxsID0gUmVzb2x2aW5nQ2FsbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmluZy1jYWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJldHJ5aW5nQ2FsbCA9IGV4cG9ydHMuTWVzc2FnZUJ1ZmZlclRyYWNrZXIgPSBleHBvcnRzLlJldHJ5VGhyb3R0bGVyID0gdm9pZCAwO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBkZWFkbGluZV8xID0gcmVxdWlyZShcIi4vZGVhZGxpbmVcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3JldHJ5aW5nX2NhbGwnO1xuY2xhc3MgUmV0cnlUaHJvdHRsZXIge1xuICAgIGNvbnN0cnVjdG9yKG1heFRva2VucywgdG9rZW5SYXRpbywgcHJldmlvdXNSZXRyeVRocm90dGxlcikge1xuICAgICAgICB0aGlzLm1heFRva2VucyA9IG1heFRva2VucztcbiAgICAgICAgdGhpcy50b2tlblJhdGlvID0gdG9rZW5SYXRpbztcbiAgICAgICAgaWYgKHByZXZpb3VzUmV0cnlUaHJvdHRsZXIpIHtcbiAgICAgICAgICAgIC8qIFdoZW4gY2Fycnlpbmcgb3ZlciB0b2tlbnMgZnJvbSBhIHByZXZpb3VzIGNvbmZpZywgcmVzY2FsZSB0aGVtIHRvIHRoZVxuICAgICAgICAgICAgICogbmV3IG1heCB2YWx1ZSAqL1xuICAgICAgICAgICAgdGhpcy50b2tlbnMgPVxuICAgICAgICAgICAgICAgIHByZXZpb3VzUmV0cnlUaHJvdHRsZXIudG9rZW5zICpcbiAgICAgICAgICAgICAgICAgICAgKG1heFRva2VucyAvIHByZXZpb3VzUmV0cnlUaHJvdHRsZXIubWF4VG9rZW5zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5zID0gbWF4VG9rZW5zO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFkZENhbGxTdWNjZWVkZWQoKSB7XG4gICAgICAgIHRoaXMudG9rZW5zID0gTWF0aC5taW4odGhpcy50b2tlbnMgKyB0aGlzLnRva2VuUmF0aW8sIHRoaXMubWF4VG9rZW5zKTtcbiAgICB9XG4gICAgYWRkQ2FsbEZhaWxlZCgpIHtcbiAgICAgICAgdGhpcy50b2tlbnMgPSBNYXRoLm1heCh0aGlzLnRva2VucyAtIDEsIDApO1xuICAgIH1cbiAgICBjYW5SZXRyeUNhbGwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRva2VucyA+ICh0aGlzLm1heFRva2VucyAvIDIpO1xuICAgIH1cbn1cbmV4cG9ydHMuUmV0cnlUaHJvdHRsZXIgPSBSZXRyeVRocm90dGxlcjtcbmNsYXNzIE1lc3NhZ2VCdWZmZXJUcmFja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih0b3RhbExpbWl0LCBsaW1pdFBlckNhbGwpIHtcbiAgICAgICAgdGhpcy50b3RhbExpbWl0ID0gdG90YWxMaW1pdDtcbiAgICAgICAgdGhpcy5saW1pdFBlckNhbGwgPSBsaW1pdFBlckNhbGw7XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgPSAwO1xuICAgICAgICB0aGlzLmFsbG9jYXRlZFBlckNhbGwgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGFsbG9jYXRlKHNpemUsIGNhbGxJZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQZXJDYWxsID0gKF9hID0gdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmdldChjYWxsSWQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICBpZiAodGhpcy5saW1pdFBlckNhbGwgLSBjdXJyZW50UGVyQ2FsbCA8IHNpemUgfHxcbiAgICAgICAgICAgIHRoaXMudG90YWxMaW1pdCAtIHRoaXMudG90YWxBbGxvY2F0ZWQgPCBzaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLnNldChjYWxsSWQsIGN1cnJlbnRQZXJDYWxsICsgc2l6ZSk7XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgKz0gc2l6ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZyZWUoc2l6ZSwgY2FsbElkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMudG90YWxBbGxvY2F0ZWQgPCBzaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYnVmZmVyIGFsbG9jYXRpb24gc3RhdGU6IGNhbGwgJHtjYWxsSWR9IGZyZWVkICR7c2l6ZX0gPiB0b3RhbCBhbGxvY2F0ZWQgJHt0aGlzLnRvdGFsQWxsb2NhdGVkfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudG90YWxBbGxvY2F0ZWQgLT0gc2l6ZTtcbiAgICAgICAgY29uc3QgY3VycmVudFBlckNhbGwgPSAoX2EgPSB0aGlzLmFsbG9jYXRlZFBlckNhbGwuZ2V0KGNhbGxJZCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDA7XG4gICAgICAgIGlmIChjdXJyZW50UGVyQ2FsbCA8IHNpemUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBidWZmZXIgYWxsb2NhdGlvbiBzdGF0ZTogY2FsbCAke2NhbGxJZH0gZnJlZWQgJHtzaXplfSA+IGFsbG9jYXRlZCBmb3IgY2FsbCAke2N1cnJlbnRQZXJDYWxsfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWxsb2NhdGVkUGVyQ2FsbC5zZXQoY2FsbElkLCBjdXJyZW50UGVyQ2FsbCAtIHNpemUpO1xuICAgIH1cbiAgICBmcmVlQWxsKGNhbGxJZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRQZXJDYWxsID0gKF9hID0gdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmdldChjYWxsSWQpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICBpZiAodGhpcy50b3RhbEFsbG9jYXRlZCA8IGN1cnJlbnRQZXJDYWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgYnVmZmVyIGFsbG9jYXRpb24gc3RhdGU6IGNhbGwgJHtjYWxsSWR9IGFsbG9jYXRlZCAke2N1cnJlbnRQZXJDYWxsfSA+IHRvdGFsIGFsbG9jYXRlZCAke3RoaXMudG90YWxBbGxvY2F0ZWR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3RhbEFsbG9jYXRlZCAtPSBjdXJyZW50UGVyQ2FsbDtcbiAgICAgICAgdGhpcy5hbGxvY2F0ZWRQZXJDYWxsLmRlbGV0ZShjYWxsSWQpO1xuICAgIH1cbn1cbmV4cG9ydHMuTWVzc2FnZUJ1ZmZlclRyYWNrZXIgPSBNZXNzYWdlQnVmZmVyVHJhY2tlcjtcbmNvbnN0IFBSRVZJT05TX1JQQ19BVFRFTVBUU19NRVRBREFUQV9LRVkgPSAnZ3JwYy1wcmV2aW91cy1ycGMtYXR0ZW1wdHMnO1xuY29uc3QgREVGQVVMVF9NQVhfQVRURU1QVFNfTElNSVQgPSA1O1xuY2xhc3MgUmV0cnlpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsLCBjYWxsQ29uZmlnLCBtZXRob2ROYW1lLCBob3N0LCBjcmVkZW50aWFscywgZGVhZGxpbmUsIGNhbGxOdW1iZXIsIGJ1ZmZlclRyYWNrZXIsIHJldHJ5VGhyb3R0bGVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5jYWxsQ29uZmlnID0gY2FsbENvbmZpZztcbiAgICAgICAgdGhpcy5tZXRob2ROYW1lID0gbWV0aG9kTmFtZTtcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdDtcbiAgICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGNyZWRlbnRpYWxzO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gZGVhZGxpbmU7XG4gICAgICAgIHRoaXMuY2FsbE51bWJlciA9IGNhbGxOdW1iZXI7XG4gICAgICAgIHRoaXMuYnVmZmVyVHJhY2tlciA9IGJ1ZmZlclRyYWNrZXI7XG4gICAgICAgIHRoaXMucmV0cnlUaHJvdHRsZXIgPSByZXRyeVRocm90dGxlcjtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMuaW5pdGlhbE1ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHMgPSBbXTtcbiAgICAgICAgdGhpcy53cml0ZUJ1ZmZlciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG9mZnNldCBvZiBtZXNzYWdlIGluZGljZXMgaW4gdGhlIHdyaXRlQnVmZmVyLiBGb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICogd3JpdGVCdWZmZXJPZmZzZXQgaXMgMTAsIG1lc3NhZ2UgMTAgaXMgaW4gd3JpdGVCdWZmZXJbMF0gYW5kIG1lc3NhZ2UgMTVcbiAgICAgICAgICogaXMgaW4gd3JpdGVCdWZmZXJbNV0uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyT2Zmc2V0ID0gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyB3aGV0aGVyIGEgcmVhZCBoYXMgYmVlbiBzdGFydGVkLCBzbyB0aGF0IHdlIGtub3cgd2hldGhlciB0byBzdGFydFxuICAgICAgICAgKiByZWFkcyBvbiBuZXcgY2hpbGQgY2FsbHMuIFRoaXMgb25seSBtYXR0ZXJzIGZvciB0aGUgZmlyc3QgcmVhZCwgYmVjYXVzZVxuICAgICAgICAgKiBvbmNlIGEgbWVzc2FnZSBjb21lcyBpbiB0aGUgY2hpbGQgY2FsbCBiZWNvbWVzIGNvbW1pdHRlZCBhbmQgdGhlcmUgd2lsbFxuICAgICAgICAgKiBiZSBubyBuZXcgY2hpbGQgY2FsbHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlYWRTdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBhdHRlbXB0cyBzbyBmYXJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXR0ZW1wdHMgPSAwO1xuICAgICAgICB0aGlzLmhlZGdpbmdUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuY29tbWl0dGVkQ2FsbEluZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbml0aWFsUmV0cnlCYWNrb2ZmU2VjID0gMDtcbiAgICAgICAgdGhpcy5uZXh0UmV0cnlCYWNrb2ZmU2VjID0gMDtcbiAgICAgICAgY29uc3QgbWF4QXR0ZW1wdHNMaW1pdCA9IChfYSA9IGNoYW5uZWwuZ2V0T3B0aW9ucygpWydncnBjLW5vZGUucmV0cnlfbWF4X2F0dGVtcHRzX2xpbWl0J10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfTUFYX0FUVEVNUFRTX0xJTUlUO1xuICAgICAgICBpZiAoY2hhbm5lbC5nZXRPcHRpb25zKClbJ2dycGMuZW5hYmxlX3JldHJpZXMnXSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdOT19SRVRSWSc7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsQ29uZmlnLm1ldGhvZENvbmZpZy5yZXRyeVBvbGljeSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdSRVRSWSc7XG4gICAgICAgICAgICBjb25zdCByZXRyeVBvbGljeSA9IGNhbGxDb25maWcubWV0aG9kQ29uZmlnLnJldHJ5UG9saWN5O1xuICAgICAgICAgICAgdGhpcy5uZXh0UmV0cnlCYWNrb2ZmU2VjID0gdGhpcy5pbml0aWFsUmV0cnlCYWNrb2ZmU2VjID0gTnVtYmVyKHJldHJ5UG9saWN5LmluaXRpYWxCYWNrb2ZmLnN1YnN0cmluZygwLCByZXRyeVBvbGljeS5pbml0aWFsQmFja29mZi5sZW5ndGggLSAxKSk7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gTWF0aC5taW4ocmV0cnlQb2xpY3kubWF4QXR0ZW1wdHMsIG1heEF0dGVtcHRzTGltaXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnSEVER0lORyc7XG4gICAgICAgICAgICB0aGlzLm1heEF0dGVtcHRzID0gTWF0aC5taW4oY2FsbENvbmZpZy5tZXRob2RDb25maWcuaGVkZ2luZ1BvbGljeS5tYXhBdHRlbXB0cywgbWF4QXR0ZW1wdHNMaW1pdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ1RSQU5TUEFSRU5UX09OTFknO1xuICAgICAgICAgICAgdGhpcy5tYXhBdHRlbXB0cyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZUluZm8oKSB7XG4gICAgICAgIGlmICh0aGlzLnVuZGVybHlpbmdDYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWFkbGluZUluZm8gPSBbXTtcbiAgICAgICAgY29uc3QgbGF0ZXN0Q2FsbCA9IHRoaXMudW5kZXJseWluZ0NhbGxzW3RoaXMudW5kZXJseWluZ0NhbGxzLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZGVhZGxpbmVJbmZvLnB1c2goYHByZXZpb3VzIGF0dGVtcHRzOiAke3RoaXMudW5kZXJseWluZ0NhbGxzLmxlbmd0aCAtIDF9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhdGVzdENhbGwuc3RhcnRUaW1lID4gdGhpcy5zdGFydFRpbWUpIHtcbiAgICAgICAgICAgIGRlYWRsaW5lSW5mby5wdXNoKGB0aW1lIHRvIGN1cnJlbnQgYXR0ZW1wdCBzdGFydDogJHsoMCwgZGVhZGxpbmVfMS5mb3JtYXREYXRlRGlmZmVyZW5jZSkodGhpcy5zdGFydFRpbWUsIGxhdGVzdENhbGwuc3RhcnRUaW1lKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBkZWFkbGluZUluZm8ucHVzaCguLi5sYXRlc3RDYWxsLmNhbGwuZ2V0RGVhZGxpbmVJbmZvKCkpO1xuICAgICAgICByZXR1cm4gZGVhZGxpbmVJbmZvO1xuICAgIH1cbiAgICBnZXRDYWxsTnVtYmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsTnVtYmVyO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgJ1snICsgdGhpcy5jYWxsTnVtYmVyICsgJ10gJyArIHRleHQpO1xuICAgIH1cbiAgICByZXBvcnRTdGF0dXMoc3RhdHVzT2JqZWN0KSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2VuZGVkIHdpdGggc3RhdHVzOiBjb2RlPScgK1xuICAgICAgICAgICAgc3RhdHVzT2JqZWN0LmNvZGUgK1xuICAgICAgICAgICAgJyBkZXRhaWxzPVwiJyArXG4gICAgICAgICAgICBzdGF0dXNPYmplY3QuZGV0YWlscyArXG4gICAgICAgICAgICAnXCIgc3RhcnQgdGltZT0nICtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lLnRvSVNPU3RyaW5nKCkpO1xuICAgICAgICB0aGlzLmJ1ZmZlclRyYWNrZXIuZnJlZUFsbCh0aGlzLmNhbGxOdW1iZXIpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyT2Zmc2V0ID0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyID0gW107XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gRXhwbGljaXRseSBjb25zdHJ1Y3Qgc3RhdHVzIG9iamVjdCB0byByZW1vdmUgcHJvZ3Jlc3MgZmllbGRcbiAgICAgICAgICAgIChfYSA9IHRoaXMubGlzdGVuZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vblJlY2VpdmVTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IHN0YXR1c09iamVjdC5jb2RlLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IHN0YXR1c09iamVjdC5kZXRhaWxzLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBzdGF0dXNPYmplY3QubWV0YWRhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhbmNlbFdpdGhTdGF0dXMoc3RhdHVzLCBkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NhbmNlbFdpdGhTdGF0dXMgY29kZTogJyArIHN0YXR1cyArICcgZGV0YWlsczogXCInICsgZGV0YWlscyArICdcIicpO1xuICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyh7IGNvZGU6IHN0YXR1cywgZGV0YWlscywgbWV0YWRhdGE6IG5ldyBtZXRhZGF0YV8xLk1ldGFkYXRhKCkgfSk7XG4gICAgICAgIGZvciAoY29uc3QgeyBjYWxsIH0gb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMpIHtcbiAgICAgICAgICAgIGNhbGwuY2FuY2VsV2l0aFN0YXR1cyhzdGF0dXMsIGRldGFpbHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbW1pdHRlZENhbGxJbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudW5kZXJseWluZ0NhbGxzW3RoaXMuY29tbWl0dGVkQ2FsbEluZGV4XS5jYWxsLmdldFBlZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLndyaXRlQnVmZmVyW21lc3NhZ2VJbmRleCAtIHRoaXMud3JpdGVCdWZmZXJPZmZzZXRdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdGUkVFRCcsXG4gICAgICAgICAgICBhbGxvY2F0ZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV4dEJ1ZmZlckluZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCArIHRoaXMud3JpdGVCdWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICBjbGVhclNlbnRNZXNzYWdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdDT01NSVRURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4O1xuICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbdGhpcy5jb21taXR0ZWRDYWxsSW5kZXhdLnN0YXRlID09PSAnQ09NUExFVEVEJykge1xuICAgICAgICAgICAgLyogSWYgdGhlIGNvbW1pdHRlZCBjYWxsIGlzIGNvbXBsZXRlZCwgY2xlYXIgYWxsIG1lc3NhZ2VzLCBldmVuIGlmIHNvbWVcbiAgICAgICAgICAgICAqIGhhdmUgbm90IGJlZW4gc2VudC4gKi9cbiAgICAgICAgICAgIGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4ID0gdGhpcy5nZXROZXh0QnVmZmVySW5kZXgoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4ID1cbiAgICAgICAgICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1t0aGlzLmNvbW1pdHRlZENhbGxJbmRleF0ubmV4dE1lc3NhZ2VUb1NlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbWVzc2FnZUluZGV4ID0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldDsgbWVzc2FnZUluZGV4IDwgZWFybGllc3ROZWVkZWRNZXNzYWdlSW5kZXg7IG1lc3NhZ2VJbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJFbnRyeSA9IHRoaXMuZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KTtcbiAgICAgICAgICAgIGlmIChidWZmZXJFbnRyeS5hbGxvY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlclRyYWNrZXIuZnJlZShidWZmZXJFbnRyeS5tZXNzYWdlLm1lc3NhZ2UubGVuZ3RoLCB0aGlzLmNhbGxOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIgPSB0aGlzLndyaXRlQnVmZmVyLnNsaWNlKGVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4IC0gdGhpcy53cml0ZUJ1ZmZlck9mZnNldCk7XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXJPZmZzZXQgPSBlYXJsaWVzdE5lZWRlZE1lc3NhZ2VJbmRleDtcbiAgICB9XG4gICAgY29tbWl0Q2FsbChpbmRleCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ0NPTU1JVFRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYWNlKCdDb21taXR0aW5nIGNhbGwgWycgK1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbaW5kZXhdLmNhbGwuZ2V0Q2FsbE51bWJlcigpICtcbiAgICAgICAgICAgICddIGF0IGluZGV4ICcgK1xuICAgICAgICAgICAgaW5kZXgpO1xuICAgICAgICB0aGlzLnN0YXRlID0gJ0NPTU1JVFRFRCc7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuY2FsbENvbmZpZykub25Db21taXR0ZWQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgdGhpcy5jb21taXR0ZWRDYWxsSW5kZXggPSBpbmRleDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnVuZGVybHlpbmdDYWxscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbaV0uc3RhdGUgPT09ICdDT01QTEVURUQnKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1tpXS5zdGF0ZSA9ICdDT01QTEVURUQnO1xuICAgICAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbaV0uY2FsbC5jYW5jZWxXaXRoU3RhdHVzKGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsICdEaXNjYXJkZWQgaW4gZmF2b3Igb2Ygb3RoZXIgaGVkZ2VkIGF0dGVtcHQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFyU2VudE1lc3NhZ2VzKCk7XG4gICAgfVxuICAgIGNvbW1pdENhbGxXaXRoTW9zdE1lc3NhZ2VzKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ0NPTU1JVFRFRCcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbW9zdE1lc3NhZ2VzID0gLTE7XG4gICAgICAgIGxldCBjYWxsV2l0aE1vc3RNZXNzYWdlcyA9IC0xO1xuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY2hpbGRDYWxsXSBvZiB0aGlzLnVuZGVybHlpbmdDYWxscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmIChjaGlsZENhbGwuc3RhdGUgPT09ICdBQ1RJVkUnICYmXG4gICAgICAgICAgICAgICAgY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kID4gbW9zdE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgbW9zdE1lc3NhZ2VzID0gY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kO1xuICAgICAgICAgICAgICAgIGNhbGxXaXRoTW9zdE1lc3NhZ2VzID0gaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhbGxXaXRoTW9zdE1lc3NhZ2VzID09PSAtMSkge1xuICAgICAgICAgICAgLyogVGhlcmUgYXJlIG5vIGFjdGl2ZSBjYWxscywgZGlzYWJsZSByZXRyaWVzIHRvIGZvcmNlIHRoZSBuZXh0IGNhbGwgdGhhdFxuICAgICAgICAgICAgICogaXMgc3RhcnRlZCB0byBiZSBjb21taXR0ZWQuICovXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ1RSQU5TUEFSRU5UX09OTFknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxXaXRoTW9zdE1lc3NhZ2VzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc1N0YXR1c0NvZGVJbkxpc3QobGlzdCwgY29kZSkge1xuICAgICAgICByZXR1cm4gbGlzdC5zb21lKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gY29kZSB8fFxuICAgICAgICAgICAgICAgIHZhbHVlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKSA9PT0gKChfYSA9IGNvbnN0YW50c18xLlN0YXR1c1tjb2RlXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0TmV4dFJldHJ5Sml0dGVyKCkge1xuICAgICAgICAvKiBKaXR0ZXIgb2YgKy0yMCUgaXMgYXBwbGllZDogaHR0cHM6Ly9naXRodWIuY29tL2dycGMvcHJvcG9zYWwvYmxvYi9tYXN0ZXIvQTYtY2xpZW50LXJldHJpZXMubWQjZXhwb25lbnRpYWwtYmFja29mZiAqL1xuICAgICAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqICgxLjIgLSAwLjgpICsgMC44O1xuICAgIH1cbiAgICBnZXROZXh0UmV0cnlCYWNrb2ZmTXMoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgcmV0cnlQb2xpY3kgPSAoX2EgPSB0aGlzLmNhbGxDb25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXRob2RDb25maWcucmV0cnlQb2xpY3k7XG4gICAgICAgIGlmICghcmV0cnlQb2xpY3kpIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGppdHRlciA9IHRoaXMuZ2V0TmV4dFJldHJ5Sml0dGVyKCk7XG4gICAgICAgIGNvbnN0IG5leHRCYWNrb2ZmTXMgPSBqaXR0ZXIgKiB0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgKiAxMDAwO1xuICAgICAgICBjb25zdCBtYXhCYWNrb2ZmU2VjID0gTnVtYmVyKHJldHJ5UG9saWN5Lm1heEJhY2tvZmYuc3Vic3RyaW5nKDAsIHJldHJ5UG9saWN5Lm1heEJhY2tvZmYubGVuZ3RoIC0gMSkpO1xuICAgICAgICB0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgPSBNYXRoLm1pbih0aGlzLm5leHRSZXRyeUJhY2tvZmZTZWMgKiByZXRyeVBvbGljeS5iYWNrb2ZmTXVsdGlwbGllciwgbWF4QmFja29mZlNlYyk7XG4gICAgICAgIHJldHVybiBuZXh0QmFja29mZk1zO1xuICAgIH1cbiAgICBtYXliZVJldHJ5Q2FsbChwdXNoYmFjaywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09ICdSRVRSWScpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdHRlbXB0cyA+PSB0aGlzLm1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJldHJ5RGVsYXlNcztcbiAgICAgICAgaWYgKHB1c2hiYWNrID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXRyeURlbGF5TXMgPSB0aGlzLmdldE5leHRSZXRyeUJhY2tvZmZNcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHB1c2hiYWNrIDwgMCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICdUUkFOU1BBUkVOVF9PTkxZJztcbiAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHJ5RGVsYXlNcyA9IHB1c2hiYWNrO1xuICAgICAgICAgICAgdGhpcy5uZXh0UmV0cnlCYWNrb2ZmU2VjID0gdGhpcy5pbml0aWFsUmV0cnlCYWNrb2ZmU2VjO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSAnUkVUUlknKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoX2IgPSAoX2EgPSB0aGlzLnJldHJ5VGhyb3R0bGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuUmV0cnlDYWxsKCkpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dGVtcHRzICs9IDE7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydE5ld0F0dGVtcHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JldHJ5IGF0dGVtcHQgZGVuaWVkIGJ5IHRocm90dGxpbmcgcG9saWN5Jyk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCByZXRyeURlbGF5TXMpO1xuICAgIH1cbiAgICBjb3VudEFjdGl2ZUNhbGxzKCkge1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdGhpcy51bmRlcmx5aW5nQ2FsbHMpIHtcbiAgICAgICAgICAgIGlmICgoY2FsbCA9PT0gbnVsbCB8fCBjYWxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsLnN0YXRlKSA9PT0gJ0FDVElWRScpIHtcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gICAgaGFuZGxlUHJvY2Vzc2VkU3RhdHVzKHN0YXR1cywgY2FsbEluZGV4LCBwdXNoYmFjaykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlICdDT01NSVRURUQnOlxuICAgICAgICAgICAgY2FzZSAnTk9fUkVUUlknOlxuICAgICAgICAgICAgY2FzZSAnVFJBTlNQQVJFTlRfT05MWSc6XG4gICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0hFREdJTkcnOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhdHVzQ29kZUluTGlzdCgoX2EgPSB0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kubm9uRmF0YWxTdGF0dXNDb2RlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW10sIHN0YXR1cy5jb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLnJldHJ5VGhyb3R0bGVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGVsYXlNcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHB1c2hiYWNrID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheU1zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwdXNoYmFjayA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAnVFJBTlNQQVJFTlRfT05MWSc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxheU1zID0gcHVzaGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1heWJlU3RhcnRIZWRnaW5nQXR0ZW1wdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYWZ0ZXIgdHJ5aW5nIHRvIHN0YXJ0IGEgY2FsbCB0aGVyZSBhcmUgbm8gYWN0aXZlIGNhbGxzLCB0aGlzIHdhcyB0aGUgbGFzdCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50QWN0aXZlQ2FsbHMoKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIGRlbGF5TXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUkVUUlknOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhdHVzQ29kZUluTGlzdCh0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLnJldHJ5UG9saWN5LnJldHJ5YWJsZVN0YXR1c0NvZGVzLCBzdGF0dXMuY29kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9jID0gdGhpcy5yZXRyeVRocm90dGxlcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXliZVJldHJ5Q2FsbChwdXNoYmFjaywgcmV0cmllZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoY2FsbEluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRQdXNoYmFjayhtZXRhZGF0YSkge1xuICAgICAgICBjb25zdCBtZFZhbHVlID0gbWV0YWRhdGEuZ2V0KCdncnBjLXJldHJ5LXB1c2hiYWNrLW1zJyk7XG4gICAgICAgIGlmIChtZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChtZFZhbHVlWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIGhhbmRsZUNoaWxkU3RhdHVzKHN0YXR1cywgY2FsbEluZGV4KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMudW5kZXJseWluZ0NhbGxzW2NhbGxJbmRleF0uc3RhdGUgPT09ICdDT01QTEVURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFjZSgnc3RhdGU9JyArXG4gICAgICAgICAgICB0aGlzLnN0YXRlICtcbiAgICAgICAgICAgICcgaGFuZGxpbmcgc3RhdHVzIHdpdGggcHJvZ3Jlc3MgJyArXG4gICAgICAgICAgICBzdGF0dXMucHJvZ3Jlc3MgK1xuICAgICAgICAgICAgJyBmcm9tIGNoaWxkIFsnICtcbiAgICAgICAgICAgIHRoaXMudW5kZXJseWluZ0NhbGxzW2NhbGxJbmRleF0uY2FsbC5nZXRDYWxsTnVtYmVyKCkgK1xuICAgICAgICAgICAgJ10gaW4gc3RhdGUgJyArXG4gICAgICAgICAgICB0aGlzLnVuZGVybHlpbmdDYWxsc1tjYWxsSW5kZXhdLnN0YXRlKTtcbiAgICAgICAgdGhpcy51bmRlcmx5aW5nQ2FsbHNbY2FsbEluZGV4XS5zdGF0ZSA9ICdDT01QTEVURUQnO1xuICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5yZXRyeVRocm90dGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZENhbGxTdWNjZWVkZWQoKTtcbiAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ05PX1JFVFJZJykge1xuICAgICAgICAgICAgdGhpcy5jb21taXRDYWxsKGNhbGxJbmRleCk7XG4gICAgICAgICAgICB0aGlzLnJlcG9ydFN0YXR1cyhzdGF0dXMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSAnQ09NTUlUVEVEJykge1xuICAgICAgICAgICAgdGhpcy5yZXBvcnRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwdXNoYmFjayA9IHRoaXMuZ2V0UHVzaGJhY2soc3RhdHVzLm1ldGFkYXRhKTtcbiAgICAgICAgc3dpdGNoIChzdGF0dXMucHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgIGNhc2UgJ05PVF9TVEFSVEVEJzpcbiAgICAgICAgICAgICAgICAvLyBSUEMgbmV2ZXIgbGVhdmVzIHRoZSBjbGllbnQsIGFsd2F5cyBzYWZlIHRvIHJldHJ5XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydE5ld0F0dGVtcHQoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ1JFRlVTRUQnOlxuICAgICAgICAgICAgICAgIC8vIFJQQyByZWFjaGVzIHRoZSBzZXJ2ZXIgbGlicmFyeSwgYnV0IG5vdCB0aGUgc2VydmVyIGFwcGxpY2F0aW9uIGxvZ2ljXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQcm9jZXNzZWRTdGF0dXMoc3RhdHVzLCBjYWxsSW5kZXgsIHB1c2hiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNwYXJlbnRSZXRyeVVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0TmV3QXR0ZW1wdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0RST1AnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChjYWxsSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVwb3J0U3RhdHVzKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQUk9DRVNTRUQnOlxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUHJvY2Vzc2VkU3RhdHVzKHN0YXR1cywgY2FsbEluZGV4LCBwdXNoYmFjayk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbWF5YmVTdGFydEhlZGdpbmdBdHRlbXB0KCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ0hFREdJTkcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hdHRlbXB0cyA+PSB0aGlzLm1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hdHRlbXB0cyArPSAxO1xuICAgICAgICB0aGlzLnN0YXJ0TmV3QXR0ZW1wdCgpO1xuICAgICAgICB0aGlzLm1heWJlU3RhcnRIZWRnaW5nVGltZXIoKTtcbiAgICB9XG4gICAgbWF5YmVTdGFydEhlZGdpbmdUaW1lcigpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmICh0aGlzLmhlZGdpbmdUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaGVkZ2luZ1RpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gJ0hFREdJTkcnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNhbGxDb25maWcubWV0aG9kQ29uZmlnLmhlZGdpbmdQb2xpY3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWRnaW5nUG9saWN5ID0gdGhpcy5jYWxsQ29uZmlnLm1ldGhvZENvbmZpZy5oZWRnaW5nUG9saWN5O1xuICAgICAgICBpZiAodGhpcy5hdHRlbXB0cyA+PSB0aGlzLm1heEF0dGVtcHRzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGVkZ2luZ0RlbGF5U3RyaW5nID0gKF9hID0gaGVkZ2luZ1BvbGljeS5oZWRnaW5nRGVsYXkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcwcyc7XG4gICAgICAgIGNvbnN0IGhlZGdpbmdEZWxheVNlYyA9IE51bWJlcihoZWRnaW5nRGVsYXlTdHJpbmcuc3Vic3RyaW5nKDAsIGhlZGdpbmdEZWxheVN0cmluZy5sZW5ndGggLSAxKSk7XG4gICAgICAgIHRoaXMuaGVkZ2luZ1RpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1heWJlU3RhcnRIZWRnaW5nQXR0ZW1wdCgpO1xuICAgICAgICB9LCBoZWRnaW5nRGVsYXlTZWMgKiAxMDAwKTtcbiAgICAgICAgKF9jID0gKF9iID0gdGhpcy5oZWRnaW5nVGltZXIpLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYik7XG4gICAgfVxuICAgIHN0YXJ0TmV3QXR0ZW1wdCgpIHtcbiAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoYW5uZWwuY3JlYXRlTG9hZEJhbGFuY2luZ0NhbGwodGhpcy5jYWxsQ29uZmlnLCB0aGlzLm1ldGhvZE5hbWUsIHRoaXMuaG9zdCwgdGhpcy5jcmVkZW50aWFscywgdGhpcy5kZWFkbGluZSk7XG4gICAgICAgIHRoaXMudHJhY2UoJ0NyZWF0ZWQgY2hpbGQgY2FsbCBbJyArXG4gICAgICAgICAgICBjaGlsZC5nZXRDYWxsTnVtYmVyKCkgK1xuICAgICAgICAgICAgJ10gZm9yIGF0dGVtcHQgJyArXG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRzKTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnVuZGVybHlpbmdDYWxscy5sZW5ndGg7XG4gICAgICAgIHRoaXMudW5kZXJseWluZ0NhbGxzLnB1c2goe1xuICAgICAgICAgICAgc3RhdGU6ICdBQ1RJVkUnLFxuICAgICAgICAgICAgY2FsbDogY2hpbGQsXG4gICAgICAgICAgICBuZXh0TWVzc2FnZVRvU2VuZDogMCxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzQXR0ZW1wdHMgPSB0aGlzLmF0dGVtcHRzIC0gMTtcbiAgICAgICAgY29uc3QgaW5pdGlhbE1ldGFkYXRhID0gdGhpcy5pbml0aWFsTWV0YWRhdGEuY2xvbmUoKTtcbiAgICAgICAgaWYgKHByZXZpb3VzQXR0ZW1wdHMgPiAwKSB7XG4gICAgICAgICAgICBpbml0aWFsTWV0YWRhdGEuc2V0KFBSRVZJT05TX1JQQ19BVFRFTVBUU19NRVRBREFUQV9LRVksIGAke3ByZXZpb3VzQXR0ZW1wdHN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlY2VpdmVkTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgY2hpbGQuc3RhcnQoaW5pdGlhbE1ldGFkYXRhLCB7XG4gICAgICAgICAgICBvblJlY2VpdmVNZXRhZGF0YTogbWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIG1ldGFkYXRhIGZyb20gY2hpbGQgWycgKyBjaGlsZC5nZXRDYWxsTnVtYmVyKCkgKyAnXScpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbChpbmRleCk7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzQXR0ZW1wdHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLnNldChQUkVWSU9OU19SUENfQVRURU1QVFNfTUVUQURBVEFfS0VZLCBgJHtwcmV2aW91c0F0dGVtcHRzfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy51bmRlcmx5aW5nQ2FsbHNbaW5kZXhdLnN0YXRlID09PSAnQUNUSVZFJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogbWVzc2FnZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnUmVjZWl2ZWQgbWVzc2FnZSBmcm9tIGNoaWxkIFsnICsgY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1pdENhbGwoaW5kZXgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVuZGVybHlpbmdDYWxsc1tpbmRleF0uc3RhdGUgPT09ICdBQ1RJVkUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25SZWNlaXZlU3RhdHVzOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1JlY2VpdmVkIHN0YXR1cyBmcm9tIGNoaWxkIFsnICsgY2hpbGQuZ2V0Q2FsbE51bWJlcigpICsgJ10nKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlY2VpdmVkTWV0YWRhdGEgJiYgcHJldmlvdXNBdHRlbXB0cyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLm1ldGFkYXRhLnNldChQUkVWSU9OU19SUENfQVRURU1QVFNfTUVUQURBVEFfS0VZLCBgJHtwcmV2aW91c0F0dGVtcHRzfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoaWxkU3RhdHVzKHN0YXR1cywgaW5kZXgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2VuZE5leHRDaGlsZE1lc3NhZ2UoaW5kZXgpO1xuICAgICAgICBpZiAodGhpcy5yZWFkU3RhcnRlZCkge1xuICAgICAgICAgICAgY2hpbGQuc3RhcnRSZWFkKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnQobWV0YWRhdGEsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ3N0YXJ0IGNhbGxlZCcpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMuaW5pdGlhbE1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMuYXR0ZW1wdHMgKz0gMTtcbiAgICAgICAgdGhpcy5zdGFydE5ld0F0dGVtcHQoKTtcbiAgICAgICAgdGhpcy5tYXliZVN0YXJ0SGVkZ2luZ1RpbWVyKCk7XG4gICAgfVxuICAgIGhhbmRsZUNoaWxkV3JpdGVDb21wbGV0ZWQoY2hpbGRJbmRleCwgbWVzc2FnZUluZGV4KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KSkuY2FsbGJhY2spID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgdGhpcy5jbGVhclNlbnRNZXNzYWdlcygpO1xuICAgICAgICBjb25zdCBjaGlsZENhbGwgPSB0aGlzLnVuZGVybHlpbmdDYWxsc1tjaGlsZEluZGV4XTtcbiAgICAgICAgY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kICs9IDE7XG4gICAgICAgIHRoaXMuc2VuZE5leHRDaGlsZE1lc3NhZ2UoY2hpbGRJbmRleCk7XG4gICAgfVxuICAgIHNlbmROZXh0Q2hpbGRNZXNzYWdlKGNoaWxkSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY2hpbGRDYWxsID0gdGhpcy51bmRlcmx5aW5nQ2FsbHNbY2hpbGRJbmRleF07XG4gICAgICAgIGlmIChjaGlsZENhbGwuc3RhdGUgPT09ICdDT01QTEVURUQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVzc2FnZUluZGV4ID0gY2hpbGRDYWxsLm5leHRNZXNzYWdlVG9TZW5kO1xuICAgICAgICBpZiAodGhpcy5nZXRCdWZmZXJFbnRyeShtZXNzYWdlSW5kZXgpKSB7XG4gICAgICAgICAgICBjb25zdCBidWZmZXJFbnRyeSA9IHRoaXMuZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4KTtcbiAgICAgICAgICAgIHN3aXRjaCAoYnVmZmVyRW50cnkuZW50cnlUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnTUVTU0FHRSc6XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ2FsbC5jYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoaWxkV3JpdGVDb21wbGV0ZWQoY2hpbGRJbmRleCwgbWVzc2FnZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sIGJ1ZmZlckVudHJ5Lm1lc3NhZ2UubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9wdGltaXphdGlvbjogaWYgdGhlIG5leHQgZW50cnkgaXMgSEFMRl9DTE9TRSwgc2VuZCBpdCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAvLyB3aXRob3V0IHdhaXRpbmcgZm9yIHRoZSBtZXNzYWdlIGNhbGxiYWNrLiBUaGlzIGlzIHNhZmUgYmVjYXVzZSB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAvLyBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byB0aGUgdW5kZXJseWluZyB0cmFuc3BvcnQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRFbnRyeSA9IHRoaXMuZ2V0QnVmZmVyRW50cnkobWVzc2FnZUluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RW50cnkuZW50cnlUeXBlID09PSAnSEFMRl9DTE9TRScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1NlbmRpbmcgaGFsZkNsb3NlIGltbWVkaWF0ZWx5IGFmdGVyIG1lc3NhZ2UgdG8gY2hpbGQgWycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQ2FsbC5jYWxsLmdldENhbGxOdW1iZXIoKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ10gLSBvcHRpbWl6aW5nIGZvciB1bmFyeS9maW5hbCBtZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZENhbGwubmV4dE1lc3NhZ2VUb1NlbmQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkQ2FsbC5jYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0hBTEZfQ0xPU0UnOlxuICAgICAgICAgICAgICAgICAgICBjaGlsZENhbGwubmV4dE1lc3NhZ2VUb1NlbmQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRDYWxsLmNhbGwuaGFsZkNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0ZSRUVEJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gU2hvdWxkIG5vdCBiZSBwb3NzaWJsZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzZW5kTWVzc2FnZVdpdGhDb250ZXh0KGNvbnRleHQsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy50cmFjZSgnd3JpdGUoKSBjYWxsZWQgd2l0aCBtZXNzYWdlIG9mIGxlbmd0aCAnICsgbWVzc2FnZS5sZW5ndGgpO1xuICAgICAgICBjb25zdCB3cml0ZU9iaiA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICBmbGFnczogY29udGV4dC5mbGFncyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWVzc2FnZUluZGV4ID0gdGhpcy5nZXROZXh0QnVmZmVySW5kZXgoKTtcbiAgICAgICAgY29uc3QgYnVmZmVyRW50cnkgPSB7XG4gICAgICAgICAgICBlbnRyeVR5cGU6ICdNRVNTQUdFJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHdyaXRlT2JqLFxuICAgICAgICAgICAgYWxsb2NhdGVkOiB0aGlzLmJ1ZmZlclRyYWNrZXIuYWxsb2NhdGUobWVzc2FnZS5sZW5ndGgsIHRoaXMuY2FsbE51bWJlciksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud3JpdGVCdWZmZXIucHVzaChidWZmZXJFbnRyeSk7XG4gICAgICAgIGlmIChidWZmZXJFbnRyeS5hbGxvY2F0ZWQpIHtcbiAgICAgICAgICAgIC8vIFJ1biB0aGlzIGluIG5leHQgdGljayB0byBhdm9pZCBzdXNwZW5kaW5nIHRoZSBjdXJyZW50IGV4ZWN1dGlvbiBjb250ZXh0XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgaXQgbWlnaHQgY2F1c2UgaGFsZiBjbG9zaW5nIHRoZSBjYWxsIGJlZm9yZSBzZW5kaW5nIG1lc3NhZ2VcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAoX2EgPSBjb250ZXh0LmNhbGxiYWNrKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChjb250ZXh0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbY2FsbEluZGV4LCBjYWxsXSBvZiB0aGlzLnVuZGVybHlpbmdDYWxscy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2FsbC5zdGF0ZSA9PT0gJ0FDVElWRScgJiZcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5uZXh0TWVzc2FnZVRvU2VuZCA9PT0gbWVzc2FnZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuY2FsbC5zZW5kTWVzc2FnZVdpdGhDb250ZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVDaGlsZFdyaXRlQ29tcGxldGVkKGNhbGxJbmRleCwgbWVzc2FnZUluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWl0Q2FsbFdpdGhNb3N0TWVzc2FnZXMoKTtcbiAgICAgICAgICAgIC8vIGNvbW1pdENhbGxXaXRoTW9zdE1lc3NhZ2VzIGNhbiBmYWlsIGlmIHdlIGFyZSBiZXR3ZWVuIHBpbmcgYXR0ZW1wdHNcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbW1pdHRlZENhbGxJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNhbGwgPSB0aGlzLnVuZGVybHlpbmdDYWxsc1t0aGlzLmNvbW1pdHRlZENhbGxJbmRleF07XG4gICAgICAgICAgICBidWZmZXJFbnRyeS5jYWxsYmFjayA9IGNvbnRleHQuY2FsbGJhY2s7XG4gICAgICAgICAgICBpZiAoY2FsbC5zdGF0ZSA9PT0gJ0FDVElWRScgJiYgY2FsbC5uZXh0TWVzc2FnZVRvU2VuZCA9PT0gbWVzc2FnZUluZGV4KSB7XG4gICAgICAgICAgICAgICAgY2FsbC5jYWxsLnNlbmRNZXNzYWdlV2l0aENvbnRleHQoe1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNoaWxkV3JpdGVDb21wbGV0ZWQodGhpcy5jb21taXR0ZWRDYWxsSW5kZXgsIG1lc3NhZ2VJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0aGlzLnRyYWNlKCdzdGFydFJlYWQgY2FsbGVkJyk7XG4gICAgICAgIHRoaXMucmVhZFN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICBmb3IgKGNvbnN0IHVuZGVybHlpbmdDYWxsIG9mIHRoaXMudW5kZXJseWluZ0NhbGxzKSB7XG4gICAgICAgICAgICBpZiAoKHVuZGVybHlpbmdDYWxsID09PSBudWxsIHx8IHVuZGVybHlpbmdDYWxsID09PSB2b2lkIDAgPyB2b2lkIDAgOiB1bmRlcmx5aW5nQ2FsbC5zdGF0ZSkgPT09ICdBQ1RJVkUnKSB7XG4gICAgICAgICAgICAgICAgdW5kZXJseWluZ0NhbGwuY2FsbC5zdGFydFJlYWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYWxmQ2xvc2UoKSB7XG4gICAgICAgIHRoaXMudHJhY2UoJ2hhbGZDbG9zZSBjYWxsZWQnKTtcbiAgICAgICAgY29uc3QgaGFsZkNsb3NlSW5kZXggPSB0aGlzLmdldE5leHRCdWZmZXJJbmRleCgpO1xuICAgICAgICB0aGlzLndyaXRlQnVmZmVyLnB1c2goe1xuICAgICAgICAgICAgZW50cnlUeXBlOiAnSEFMRl9DTE9TRScsXG4gICAgICAgICAgICBhbGxvY2F0ZWQ6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIHRoaXMudW5kZXJseWluZ0NhbGxzKSB7XG4gICAgICAgICAgICBpZiAoKGNhbGwgPT09IG51bGwgfHwgY2FsbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FsbC5zdGF0ZSkgPT09ICdBQ1RJVkUnKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VuZCBoYWxmQ2xvc2UgdG8gY2FsbCB3aGVuIGVpdGhlcjpcbiAgICAgICAgICAgICAgICAvLyAtIG5leHRNZXNzYWdlVG9TZW5kID09PSBoYWxmQ2xvc2VJbmRleCAtIDE6IGxhc3QgbWVzc2FnZSBzZW50LCBjYWxsYmFjayBwZW5kaW5nIChvcHRpbWl6YXRpb24pXG4gICAgICAgICAgICAgICAgLy8gLSBuZXh0TWVzc2FnZVRvU2VuZCA9PT0gaGFsZkNsb3NlSW5kZXg6IGFsbCBtZXNzYWdlcyBzZW50IGFuZCBhY2tub3dsZWRnZWRcbiAgICAgICAgICAgICAgICBpZiAoY2FsbC5uZXh0TWVzc2FnZVRvU2VuZCA9PT0gaGFsZkNsb3NlSW5kZXhcbiAgICAgICAgICAgICAgICAgICAgfHwgY2FsbC5uZXh0TWVzc2FnZVRvU2VuZCA9PT0gaGFsZkNsb3NlSW5kZXggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1NlbmRpbmcgaGFsZkNsb3NlIGltbWVkaWF0ZWx5IHRvIGNoaWxkIFsnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGwuY2FsbC5nZXRDYWxsTnVtYmVyKCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ10gLSBhbGwgbWVzc2FnZXMgYWxyZWFkeSBzZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwubmV4dE1lc3NhZ2VUb1NlbmQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5jYWxsLmhhbGZDbG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGhhbGZDbG9zZSB3aWxsIGJlIHNlbnQgYnkgc2VuZE5leHRDaGlsZE1lc3NhZ2Ugd2hlbiBtZXNzYWdlIGNhbGxiYWNrcyBjb21wbGV0ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxzKG5ld0NyZWRlbnRpYWxzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC4nKTtcbiAgICB9XG4gICAgZ2V0TWV0aG9kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2ROYW1lO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3N0O1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tbWl0dGVkQ2FsbEluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy51bmRlcmx5aW5nQ2FsbHNbdGhpcy5jb21taXR0ZWRDYWxsSW5kZXhdLmNhbGwuZ2V0QXV0aENvbnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5SZXRyeWluZ0NhbGwgPSBSZXRyeWluZ0NhbGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXRyeWluZy1jYWxsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJhc2VTdWJjaGFubmVsV3JhcHBlciA9IHZvaWQgMDtcbmNsYXNzIEJhc2VTdWJjaGFubmVsV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3IoY2hpbGQpIHtcbiAgICAgICAgdGhpcy5jaGlsZCA9IGNoaWxkO1xuICAgICAgICB0aGlzLmhlYWx0aHkgPSB0cnVlO1xuICAgICAgICB0aGlzLmhlYWx0aExpc3RlbmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5yZWZjb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZGF0YVdhdGNoZXJzID0gbmV3IFNldCgpO1xuICAgICAgICBjaGlsZC5hZGRIZWFsdGhTdGF0ZVdhdGNoZXIoY2hpbGRIZWFsdGh5ID0+IHtcbiAgICAgICAgICAgIC8qIEEgY2hhbmdlIHRvIHRoZSBjaGlsZCBoZWFsdGggc3RhdGUgb25seSBhZmZlY3RzIHRoaXMgd3JhcHBlcidzIG92ZXJhbGxcbiAgICAgICAgICAgICAqIGhlYWx0aCBzdGF0ZSBpZiB0aGlzIHdyYXBwZXIgaXMgcmVwb3J0aW5nIGhlYWx0aHkuICovXG4gICAgICAgICAgICBpZiAodGhpcy5oZWFsdGh5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIZWFsdGhMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZUhlYWx0aExpc3RlbmVycygpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmhlYWx0aExpc3RlbmVycykge1xuICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5pc0hlYWx0aHkoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkLmdldENvbm5lY3Rpdml0eVN0YXRlKCk7XG4gICAgfVxuICAgIGFkZENvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5jaGlsZC5hZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgcmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmNoaWxkLnJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgIH1cbiAgICBzdGFydENvbm5lY3RpbmcoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQuc3RhcnRDb25uZWN0aW5nKCk7XG4gICAgfVxuICAgIGdldEFkZHJlc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkLmdldEFkZHJlc3MoKTtcbiAgICB9XG4gICAgdGhyb3R0bGVLZWVwYWxpdmUobmV3S2VlcGFsaXZlVGltZSkge1xuICAgICAgICB0aGlzLmNoaWxkLnRocm90dGxlS2VlcGFsaXZlKG5ld0tlZXBhbGl2ZVRpbWUpO1xuICAgIH1cbiAgICByZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQucmVmKCk7XG4gICAgICAgIHRoaXMucmVmY291bnQgKz0gMTtcbiAgICB9XG4gICAgdW5yZWYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGQudW5yZWYoKTtcbiAgICAgICAgdGhpcy5yZWZjb3VudCAtPSAxO1xuICAgICAgICBpZiAodGhpcy5yZWZjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChjb25zdCB3YXRjaGVyIG9mIHRoaXMuZGF0YVdhdGNoZXJzKSB7XG4gICAgICAgICAgICB3YXRjaGVyLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0Q2hhbm5lbHpSZWYoKTtcbiAgICB9XG4gICAgaXNIZWFsdGh5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFsdGh5ICYmIHRoaXMuY2hpbGQuaXNIZWFsdGh5KCk7XG4gICAgfVxuICAgIGFkZEhlYWx0aFN0YXRlV2F0Y2hlcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmhlYWx0aExpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgIH1cbiAgICByZW1vdmVIZWFsdGhTdGF0ZVdhdGNoZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5oZWFsdGhMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB9XG4gICAgYWRkRGF0YVdhdGNoZXIoZGF0YVdhdGNoZXIpIHtcbiAgICAgICAgZGF0YVdhdGNoZXIuc2V0U3ViY2hhbm5lbCh0aGlzLmdldFJlYWxTdWJjaGFubmVsKCkpO1xuICAgICAgICB0aGlzLmRhdGFXYXRjaGVycy5hZGQoZGF0YVdhdGNoZXIpO1xuICAgIH1cbiAgICBzZXRIZWFsdGh5KGhlYWx0aHkpIHtcbiAgICAgICAgaWYgKGhlYWx0aHkgIT09IHRoaXMuaGVhbHRoeSkge1xuICAgICAgICAgICAgdGhpcy5oZWFsdGh5ID0gaGVhbHRoeTtcbiAgICAgICAgICAgIC8qIEEgY2hhbmdlIHRvIHRoaXMgd3JhcHBlcidzIGhlYWx0aCBzdGF0ZSBvbmx5IGFmZmVjdHMgdGhlIG92ZXJhbGxcbiAgICAgICAgICAgICAqIHJlcG9ydGVkIGhlYWx0aCBzdGF0ZSBpZiB0aGUgY2hpbGQgaXMgaGVhbHRoeS4gKi9cbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkLmlzSGVhbHRoeSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVIZWFsdGhMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRSZWFsU3ViY2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0UmVhbFN1YmNoYW5uZWwoKTtcbiAgICB9XG4gICAgcmVhbFN1YmNoYW5uZWxFcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVhbFN1YmNoYW5uZWwoKSA9PT0gb3RoZXIuZ2V0UmVhbFN1YmNoYW5uZWwoKTtcbiAgICB9XG4gICAgZ2V0Q2FsbENyZWRlbnRpYWxzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZC5nZXRDYWxsQ3JlZGVudGlhbHMoKTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQuZ2V0Q2hhbm5lbCgpO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVN1YmNoYW5uZWxXcmFwcGVyID0gQmFzZVN1YmNoYW5uZWxXcmFwcGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ViY2hhbm5lbC1pbnRlcmZhY2UuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuSW50ZXJuYWxDaGFubmVsID0gZXhwb3J0cy5TVUJDSEFOTkVMX0FSR1NfRVhDTFVERV9LRVlfUFJFRklYID0gdm9pZCAwO1xuY29uc3QgY2hhbm5lbF9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1jcmVkZW50aWFsc1wiKTtcbmNvbnN0IHJlc29sdmluZ19sb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZpbmctbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfcG9vbF8xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1wb29sXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGZpbHRlcl9zdGFja18xID0gcmVxdWlyZShcIi4vZmlsdGVyLXN0YWNrXCIpO1xuY29uc3QgY29tcHJlc3Npb25fZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9jb21wcmVzc2lvbi1maWx0ZXJcIik7XG5jb25zdCByZXNvbHZlcl8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZXJcIik7XG5jb25zdCBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgaHR0cF9wcm94eV8xID0gcmVxdWlyZShcIi4vaHR0cF9wcm94eVwiKTtcbmNvbnN0IHVyaV9wYXJzZXJfMSA9IHJlcXVpcmUoXCIuL3VyaS1wYXJzZXJcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGNoYW5uZWx6XzEgPSByZXF1aXJlKFwiLi9jaGFubmVselwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jaW5nX2NhbGxfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jaW5nLWNhbGxcIik7XG5jb25zdCBkZWFkbGluZV8xID0gcmVxdWlyZShcIi4vZGVhZGxpbmVcIik7XG5jb25zdCByZXNvbHZpbmdfY2FsbF8xID0gcmVxdWlyZShcIi4vcmVzb2x2aW5nLWNhbGxcIik7XG5jb25zdCBjYWxsX251bWJlcl8xID0gcmVxdWlyZShcIi4vY2FsbC1udW1iZXJcIik7XG5jb25zdCBjb250cm9sX3BsYW5lX3N0YXR1c18xID0gcmVxdWlyZShcIi4vY29udHJvbC1wbGFuZS1zdGF0dXNcIik7XG5jb25zdCByZXRyeWluZ19jYWxsXzEgPSByZXF1aXJlKFwiLi9yZXRyeWluZy1jYWxsXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtaW50ZXJmYWNlXCIpO1xuLyoqXG4gKiBTZWUgaHR0cHM6Ly9ub2RlanMub3JnL2FwaS90aW1lcnMuaHRtbCN0aW1lcnNfc2V0aW50ZXJ2YWxfY2FsbGJhY2tfZGVsYXlfYXJnc1xuICovXG5jb25zdCBNQVhfVElNRU9VVF9USU1FID0gMjE0NzQ4MzY0NztcbmNvbnN0IE1JTl9JRExFX1RJTUVPVVRfTVMgPSAxMDAwO1xuLy8gMzAgbWludXRlc1xuY29uc3QgREVGQVVMVF9JRExFX1RJTUVPVVRfTVMgPSAzMCAqIDYwICogMTAwMDtcbmNvbnN0IFJFVFJZX1RIUk9UVExFUl9NQVAgPSBuZXcgTWFwKCk7XG5jb25zdCBERUZBVUxUX1JFVFJZX0JVRkZFUl9TSVpFX0JZVEVTID0gMSA8PCAyNDsgLy8gMTYgTUJcbmNvbnN0IERFRkFVTFRfUEVSX1JQQ19SRVRSWV9CVUZGRVJfU0laRV9CWVRFUyA9IDEgPDwgMjA7IC8vIDEgTUJcbmNsYXNzIENoYW5uZWxTdWJjaGFubmVsV3JhcHBlciBleHRlbmRzIHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEuQmFzZVN1YmNoYW5uZWxXcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZFN1YmNoYW5uZWwsIGNoYW5uZWwpIHtcbiAgICAgICAgc3VwZXIoY2hpbGRTdWJjaGFubmVsKTtcbiAgICAgICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgICAgICAgdGhpcy5yZWZDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIgPSAoc3ViY2hhbm5lbCwgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIGtlZXBhbGl2ZVRpbWUpID0+IHtcbiAgICAgICAgICAgIGNoYW5uZWwudGhyb3R0bGVLZWVwYWxpdmUoa2VlcGFsaXZlVGltZSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJlZigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGQuYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbC5hZGRXcmFwcGVkU3ViY2hhbm5lbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoaWxkLnJlZigpO1xuICAgICAgICB0aGlzLnJlZkNvdW50ICs9IDE7XG4gICAgfVxuICAgIHVucmVmKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnVucmVmKCk7XG4gICAgICAgIHRoaXMucmVmQ291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZC5yZW1vdmVDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsLnJlbW92ZVdyYXBwZWRTdWJjaGFubmVsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgU2h1dGRvd25QaWNrZXIge1xuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBpY2tSZXN1bHRUeXBlOiBwaWNrZXJfMS5QaWNrUmVzdWx0VHlwZS5EUk9QLFxuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6ICdDaGFubmVsIGNsb3NlZCBiZWZvcmUgY2FsbCBzdGFydGVkJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1YmNoYW5uZWw6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxTdGFydGVkOiBudWxsLFxuICAgICAgICAgICAgb25DYWxsRW5kZWQ6IG51bGxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlNVQkNIQU5ORUxfQVJHU19FWENMVURFX0tFWV9QUkVGSVggPSAnZ3JwYy5pbnRlcm5hbC5ub19zdWJjaGFubmVsJztcbmNsYXNzIENoYW5uZWx6SW5mb1RyYWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy50cmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2UoKTtcbiAgICAgICAgdGhpcy5jYWxsVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXIoKTtcbiAgICAgICAgdGhpcy5jaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlcigpO1xuICAgICAgICB0aGlzLnN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICB9XG4gICAgZ2V0Q2hhbm5lbHpJbmZvQ2FsbGJhY2soKSB7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRhcmdldDogdGhpcy50YXJnZXQsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICAgICAgdHJhY2U6IHRoaXMudHJhY2UsXG4gICAgICAgICAgICAgICAgY2FsbFRyYWNrZXI6IHRoaXMuY2FsbFRyYWNrZXIsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IHRoaXMuY2hpbGRyZW5UcmFja2VyLmdldENoaWxkTGlzdHMoKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5jbGFzcyBJbnRlcm5hbENoYW5uZWwge1xuICAgIGNvbnN0cnVjdG9yKHRhcmdldCwgY3JlZGVudGlhbHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIHRoaXMuY3JlZGVudGlhbHMgPSBjcmVkZW50aWFscztcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlciA9IG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcigpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgcXVldWVkIHVwIHRvIGdldCBhIGNhbGwgY29uZmlnLiBTaG91bGQgb25seSBiZSBwb3B1bGF0ZWQgYmVmb3JlIHRoZVxuICAgICAgICAgKiBmaXJzdCB0aW1lIHRoZSByZXNvbHZlciByZXR1cm5zIGEgcmVzdWx0LCB3aGljaCBpbmNsdWRlcyB0aGUgQ29uZmlnU2VsZWN0b3IuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlID0gW107XG4gICAgICAgIHRoaXMucGlja1F1ZXVlID0gW107XG4gICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGVXYXRjaGVycyA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyB0aW1lciBkb2VzIG5vdCBkbyBhbnl0aGluZyBvbiBpdHMgb3duLiBJdHMgcHVycG9zZSBpcyB0byBob2xkIHRoZVxuICAgICAgICAgKiBldmVudCBsb29wIG9wZW4gd2hpbGUgdGhlcmUgYXJlIGFueSBwZW5kaW5nIGNhbGxzIGZvciB0aGUgY2hhbm5lbCB0aGF0XG4gICAgICAgICAqIGhhdmUgbm90IHlldCBiZWVuIGFzc2lnbmVkIHRvIHNwZWNpZmljIHN1YmNoYW5uZWxzLiBJbiBvdGhlciB3b3JkcyxcbiAgICAgICAgICogdGhlIGludmFyaWFudCBpcyB0aGF0IGNhbGxSZWZUaW1lciBpcyByZWZmZWQgaWYgYW5kIG9ubHkgaWYgcGlja1F1ZXVlXG4gICAgICAgICAqIGlzIG5vbi1lbXB0eS4gSW4gYWRkaXRpb24sIHRoZSB0aW1lciBpcyBudWxsIHdoaWxlIHRoZSBzdGF0ZSBpcyBJRExFIG9yXG4gICAgICAgICAqIFNIVVRET1dOIGFuZCB0aGVyZSBhcmUgbm8gcGVuZGluZyBjYWxscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb25maWdTZWxlY3RvciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBlcnJvciBmcm9tIHRoZSBuYW1lIHJlc29sdmVyIGlmIGl0IGZhaWxlZCBtb3N0IHJlY2VudGx5LiBJdFxuICAgICAgICAgKiBpcyBvbmx5IHVzZWQgdG8gZW5kIGNhbGxzIHRoYXQgc3RhcnQgd2hpbGUgdGhlcmUgaXMgbm8gY29uZmlnIHNlbGVjdG9yXG4gICAgICAgICAqIGFuZCB0aGUgbmFtZSByZXNvbHZlciBpcyBpbiBiYWNrb2ZmLCBzbyBpdCBzaG91bGQgYmUgbnVsbGVkIGlmXG4gICAgICAgICAqIGNvbmZpZ1NlbGVjdG9yIGJlY29tZXMgc2V0IG9yIHRoZSBjaGFubmVsIHN0YXRlIGJlY29tZXMgYW55dGhpbmcgb3RoZXJcbiAgICAgICAgICogdGhhbiBUUkFOU0lFTlRfRkFJTFVSRS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFJlc29sdXRpb25FcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMud3JhcHBlZFN1YmNoYW5uZWxzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmNhbGxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuaWRsZVRpbWVyID0gbnVsbDtcbiAgICAgICAgLy8gQ2hhbm5lbHogaW5mb1xuICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IHRydWU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSYW5kb21seSBnZW5lcmF0ZWQgSUQgdG8gYmUgcGFzc2VkIHRvIHRoZSBjb25maWcgc2VsZWN0b3IsIGZvciB1c2UgYnlcbiAgICAgICAgICogcmluZ19oYXNoIGluIHhEUy4gQW4gaW50ZWdlciBkaXN0cmlidXRlZCBhcHByb3hpbWF0ZWx5IHVuaWZvcm1seSBiZXR3ZWVuXG4gICAgICAgICAqIDAgYW5kIE1BWF9TQUZFX0lOVEVHRVIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJhbmRvbUNoYW5uZWxJZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsIHRhcmdldCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoY3JlZGVudGlhbHMgaW5zdGFuY2VvZiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCBjcmVkZW50aWFscyBtdXN0IGJlIGEgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2hhbm5lbCBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyID0gbmV3IENoYW5uZWx6SW5mb1RyYWNrZXIodGFyZ2V0KTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxUYXJnZXRVcmkgPSAoMCwgdXJpX3BhcnNlcl8xLnBhcnNlVXJpKSh0YXJnZXQpO1xuICAgICAgICBpZiAob3JpZ2luYWxUYXJnZXRVcmkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IHBhcnNlIHRhcmdldCBuYW1lIFwiJHt0YXJnZXR9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICAvKiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgdGFyZ2V0IGhhcyBhIHNjaGVtZSB0aGF0IGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGVcbiAgICAgICAgICogcmVzb2x2ZXIgKi9cbiAgICAgICAgY29uc3QgZGVmYXVsdFNjaGVtZU1hcFJlc3VsdCA9ICgwLCByZXNvbHZlcl8xLm1hcFVyaURlZmF1bHRTY2hlbWUpKG9yaWdpbmFsVGFyZ2V0VXJpKTtcbiAgICAgICAgaWYgKGRlZmF1bHRTY2hlbWVNYXBSZXN1bHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgYSBkZWZhdWx0IHNjaGVtZSBmb3IgdGFyZ2V0IG5hbWUgXCIke3RhcmdldH1cImApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNbJ2dycGMuZW5hYmxlX2NoYW5uZWx6J10gPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFubmVselJlZiA9ICgwLCBjaGFubmVsel8xLnJlZ2lzdGVyQ2hhbm5lbHpDaGFubmVsKSh0YXJnZXQsIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci5nZXRDaGFubmVsekluZm9DYWxsYmFjaygpLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLnRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0NoYW5uZWwgY3JlYXRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnNbJ2dycGMuZGVmYXVsdF9hdXRob3JpdHknXSkge1xuICAgICAgICAgICAgdGhpcy5kZWZhdWx0QXV0aG9yaXR5ID0gdGhpcy5vcHRpb25zWydncnBjLmRlZmF1bHRfYXV0aG9yaXR5J107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlZmF1bHRBdXRob3JpdHkgPSAoMCwgcmVzb2x2ZXJfMS5nZXREZWZhdWx0QXV0aG9yaXR5KShkZWZhdWx0U2NoZW1lTWFwUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm94eU1hcFJlc3VsdCA9ICgwLCBodHRwX3Byb3h5XzEubWFwUHJveHlOYW1lKShkZWZhdWx0U2NoZW1lTWFwUmVzdWx0LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBwcm94eU1hcFJlc3VsdC50YXJnZXQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucywgcHJveHlNYXBSZXN1bHQuZXh0cmFPcHRpb25zKTtcbiAgICAgICAgLyogVGhlIGdsb2JhbCBib29sZWFuIHBhcmFtZXRlciB0byBnZXRTdWJjaGFubmVsUG9vbCBoYXMgdGhlIGludmVyc2UgbWVhbmluZyB0byB3aGF0XG4gICAgICAgICAqIHRoZSBncnBjLnVzZV9sb2NhbF9zdWJjaGFubmVsX3Bvb2wgY2hhbm5lbCBvcHRpb24gbWVhbnMuICovXG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFBvb2wgPSAoMCwgc3ViY2hhbm5lbF9wb29sXzEuZ2V0U3ViY2hhbm5lbFBvb2wpKCgoX2EgPSB0aGlzLm9wdGlvbnNbJ2dycGMudXNlX2xvY2FsX3N1YmNoYW5uZWxfcG9vbCddKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSA9PT0gMCk7XG4gICAgICAgIHRoaXMucmV0cnlCdWZmZXJUcmFja2VyID0gbmV3IHJldHJ5aW5nX2NhbGxfMS5NZXNzYWdlQnVmZmVyVHJhY2tlcigoX2IgPSB0aGlzLm9wdGlvbnNbJ2dycGMucmV0cnlfYnVmZmVyX3NpemUnXSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogREVGQVVMVF9SRVRSWV9CVUZGRVJfU0laRV9CWVRFUywgKF9jID0gdGhpcy5vcHRpb25zWydncnBjLnBlcl9ycGNfcmV0cnlfYnVmZmVyX3NpemUnXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogREVGQVVMVF9QRVJfUlBDX1JFVFJZX0JVRkZFUl9TSVpFX0JZVEVTKTtcbiAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lID0gKF9kID0gdGhpcy5vcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lX21zJ10pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IC0xO1xuICAgICAgICB0aGlzLmlkbGVUaW1lb3V0TXMgPSBNYXRoLm1heCgoX2UgPSB0aGlzLm9wdGlvbnNbJ2dycGMuY2xpZW50X2lkbGVfdGltZW91dF9tcyddKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBERUZBVUxUX0lETEVfVElNRU9VVF9NUywgTUlOX0lETEVfVElNRU9VVF9NUyk7XG4gICAgICAgIGNvbnN0IGNoYW5uZWxDb250cm9sSGVscGVyID0ge1xuICAgICAgICAgICAgY3JlYXRlU3ViY2hhbm5lbDogKHN1YmNoYW5uZWxBZGRyZXNzLCBzdWJjaGFubmVsQXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsU3ViY2hhbm5lbEFyZ3MgPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdWJjaGFubmVsQXJncykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFrZXkuc3RhcnRzV2l0aChleHBvcnRzLlNVQkNIQU5ORUxfQVJHU19FWENMVURFX0tFWV9QUkVGSVgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbFN1YmNoYW5uZWxBcmdzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsID0gdGhpcy5zdWJjaGFubmVsUG9vbC5nZXRPckNyZWF0ZVN1YmNoYW5uZWwodGhpcy50YXJnZXQsIHN1YmNoYW5uZWxBZGRyZXNzLCBmaW5hbFN1YmNoYW5uZWxBcmdzLCB0aGlzLmNyZWRlbnRpYWxzKTtcbiAgICAgICAgICAgICAgICBzdWJjaGFubmVsLnRocm90dGxlS2VlcGFsaXZlKHRoaXMua2VlcGFsaXZlVGltZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci50cmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDcmVhdGVkIHN1YmNoYW5uZWwgb3IgdXNlZCBleGlzdGluZyBzdWJjaGFubmVsJywgc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZFN1YmNoYW5uZWwgPSBuZXcgQ2hhbm5lbFN1YmNoYW5uZWxXcmFwcGVyKHN1YmNoYW5uZWwsIHRoaXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB3cmFwcGVkU3ViY2hhbm5lbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVldWVDb3B5ID0gdGhpcy5waWNrUXVldWUuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tRdWV1ZSA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZUNvcHkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxSZWZUaW1lclVucmVmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiBxdWV1ZUNvcHkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5kb1BpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlTdGF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWVzdFJlcmVzb2x1dGlvbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZC5cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc29sdmluZyBsb2FkIGJhbGFuY2VyIHNob3VsZCBuZXZlciBjYWxsIHJlcXVlc3RSZXJlc29sdXRpb24nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRDaGFubmVsekNoaWxkOiAoY2hpbGQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLmNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZUNoYW5uZWx6Q2hpbGQ6IChjaGlsZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuY2hpbGRyZW5UcmFja2VyLnVucmVmQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzb2x2aW5nTG9hZEJhbGFuY2VyID0gbmV3IHJlc29sdmluZ19sb2FkX2JhbGFuY2VyXzEuUmVzb2x2aW5nTG9hZEJhbGFuY2VyKHRoaXMudGFyZ2V0LCBjaGFubmVsQ29udHJvbEhlbHBlciwgdGhpcy5vcHRpb25zLCAoc2VydmljZUNvbmZpZywgY29uZmlnU2VsZWN0b3IpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGlmIChzZXJ2aWNlQ29uZmlnLnJldHJ5VGhyb3R0bGluZykge1xuICAgICAgICAgICAgICAgIFJFVFJZX1RIUk9UVExFUl9NQVAuc2V0KHRoaXMuZ2V0VGFyZ2V0KCksIG5ldyByZXRyeWluZ19jYWxsXzEuUmV0cnlUaHJvdHRsZXIoc2VydmljZUNvbmZpZy5yZXRyeVRocm90dGxpbmcubWF4VG9rZW5zLCBzZXJ2aWNlQ29uZmlnLnJldHJ5VGhyb3R0bGluZy50b2tlblJhdGlvLCBSRVRSWV9USFJPVFRMRVJfTUFQLmdldCh0aGlzLmdldFRhcmdldCgpKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgUkVUUllfVEhST1RUTEVSX01BUC5kZWxldGUodGhpcy5nZXRUYXJnZXQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIudHJhY2UuYWRkVHJhY2UoJ0NUX0lORk8nLCAnQWRkcmVzcyByZXNvbHV0aW9uIHN1Y2NlZWRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKF9hID0gdGhpcy5jb25maWdTZWxlY3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVucmVmKCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdG9yID0gY29uZmlnU2VsZWN0b3I7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgLyogV2UgcHJvY2VzcyB0aGUgcXVldWUgYXN5bmNocm9ub3VzbHkgdG8gZW5zdXJlIHRoYXQgdGhlIGNvcnJlc3BvbmRpbmdcbiAgICAgICAgICAgICAqIGxvYWQgYmFsYW5jZXIgdXBkYXRlIGhhcyBjb21wbGV0ZWQuICovXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2NhbFF1ZXVlID0gdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlID0gW107XG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxSZWZUaW1lclVucmVmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiBsb2NhbFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGwuZ2V0Q29uZmlnKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIHN0YXR1cyA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIudHJhY2UuYWRkVHJhY2UoJ0NUX1dBUk5JTkcnLCAnQWRkcmVzcyByZXNvbHV0aW9uIGZhaWxlZCB3aXRoIGNvZGUgJyArXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5jb2RlICtcbiAgICAgICAgICAgICAgICAgICAgJyBhbmQgZGV0YWlscyBcIicgK1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGV0YWlscyArXG4gICAgICAgICAgICAgICAgICAgICdcIicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ05hbWUgcmVzb2x1dGlvbiBmYWlsZWQgd2l0aCBjYWxscyBxdWV1ZWQgZm9yIGNvbmZpZyBzZWxlY3Rpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ1NlbGVjdG9yID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVzb2x1dGlvbkVycm9yID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCAoMCwgY29udHJvbF9wbGFuZV9zdGF0dXNfMS5yZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUpKHN0YXR1cy5jb2RlLCBzdGF0dXMuZGV0YWlscykpLCB7IG1ldGFkYXRhOiBzdGF0dXMubWV0YWRhdGEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2NhbFF1ZXVlID0gdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgICAgIGlmIChsb2NhbFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxSZWZUaW1lclVucmVmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgbG9jYWxRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGNhbGwucmVwb3J0UmVzb2x2ZXJFcnJvcihzdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5maWx0ZXJTdGFja0ZhY3RvcnkgPSBuZXcgZmlsdGVyX3N0YWNrXzEuRmlsdGVyU3RhY2tGYWN0b3J5KFtcbiAgICAgICAgICAgIG5ldyBjb21wcmVzc2lvbl9maWx0ZXJfMS5Db21wcmVzc2lvbkZpbHRlckZhY3RvcnkodGhpcywgdGhpcy5vcHRpb25zKSxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudHJhY2UoJ0NoYW5uZWwgY29uc3RydWN0ZWQgd2l0aCBvcHRpb25zICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkob3B0aW9ucywgdW5kZWZpbmVkLCAyKSk7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCk7XG4gICAgICAgIGlmICgoMCwgbG9nZ2luZ18xLmlzVHJhY2VyRW5hYmxlZCkoJ2NoYW5uZWxfc3RhY2t0cmFjZScpKSB7XG4gICAgICAgICAgICAoMCwgbG9nZ2luZ18xLnRyYWNlKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdjaGFubmVsX3N0YWNrdHJhY2UnLCAnKCcgK1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYuaWQgK1xuICAgICAgICAgICAgICAgICcpICcgK1xuICAgICAgICAgICAgICAgICdDaGFubmVsIGNvbnN0cnVjdGVkIFxcbicgK1xuICAgICAgICAgICAgICAgICgoX2YgPSBlcnJvci5zdGFjaykgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnN1YnN0cmluZyhlcnJvci5zdGFjay5pbmRleE9mKCdcXG4nKSArIDEpKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0QWN0aXZpdHlUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgIH1cbiAgICB0cmFjZSh0ZXh0LCB2ZXJib3NpdHlPdmVycmlkZSkge1xuICAgICAgICAoMCwgbG9nZ2luZ18xLnRyYWNlKSh2ZXJib3NpdHlPdmVycmlkZSAhPT0gbnVsbCAmJiB2ZXJib3NpdHlPdmVycmlkZSAhPT0gdm9pZCAwID8gdmVyYm9zaXR5T3ZlcnJpZGUgOiBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdjaGFubmVsJywgJygnICsgdGhpcy5jaGFubmVselJlZi5pZCArICcpICcgKyAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCkgKyAnICcgKyB0ZXh0KTtcbiAgICB9XG4gICAgY2FsbFJlZlRpbWVyUmVmKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGlmICghdGhpcy5jYWxsUmVmVGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4geyB9LCBNQVhfVElNRU9VVF9USU1FKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgaGFzUmVmIGZ1bmN0aW9uIGRvZXMgbm90IGV4aXN0LCBhbHdheXMgcnVuIHRoZSBjb2RlXG4gICAgICAgIGlmICghKChfYiA9IChfYSA9IHRoaXMuY2FsbFJlZlRpbWVyKS5oYXNSZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKSkpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2UoJ2NhbGxSZWZUaW1lci5yZWYgfCBjb25maWdTZWxlY3Rpb25RdWV1ZS5sZW5ndGg9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZS5sZW5ndGggK1xuICAgICAgICAgICAgICAgICcgcGlja1F1ZXVlLmxlbmd0aD0nICtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tRdWV1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgKF9kID0gKF9jID0gdGhpcy5jYWxsUmVmVGltZXIpLnJlZikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmNhbGwoX2MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhbGxSZWZUaW1lclVucmVmKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYztcbiAgICAgICAgLy8gSWYgdGhlIHRpbWVyIG9yIHRoZSBoYXNSZWYgZnVuY3Rpb24gZG9lcyBub3QgZXhpc3QsIGFsd2F5cyBydW4gdGhlIGNvZGVcbiAgICAgICAgaWYgKCEoKF9hID0gdGhpcy5jYWxsUmVmVGltZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oYXNSZWYpIHx8IHRoaXMuY2FsbFJlZlRpbWVyLmhhc1JlZigpKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlKCdjYWxsUmVmVGltZXIudW5yZWYgfCBjb25maWdTZWxlY3Rpb25RdWV1ZS5sZW5ndGg9JyArXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdTZWxlY3Rpb25RdWV1ZS5sZW5ndGggK1xuICAgICAgICAgICAgICAgICcgcGlja1F1ZXVlLmxlbmd0aD0nICtcbiAgICAgICAgICAgICAgICB0aGlzLnBpY2tRdWV1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgKF9jID0gKF9iID0gdGhpcy5jYWxsUmVmVGltZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi51bnJlZikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlV2F0Y2hlcih3YXRjaGVyT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IHdhdGNoZXJJbmRleCA9IHRoaXMuY29ubmVjdGl2aXR5U3RhdGVXYXRjaGVycy5maW5kSW5kZXgodmFsdWUgPT4gdmFsdWUgPT09IHdhdGNoZXJPYmplY3QpO1xuICAgICAgICBpZiAod2F0Y2hlckluZGV4ID49IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGl2aXR5U3RhdGVXYXRjaGVycy5zcGxpY2Uod2F0Y2hlckluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShuZXdTdGF0ZSkge1xuICAgICAgICAoMCwgbG9nZ2luZ18xLnRyYWNlKShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsICdjb25uZWN0aXZpdHlfc3RhdGUnLCAnKCcgK1xuICAgICAgICAgICAgdGhpcy5jaGFubmVselJlZi5pZCArXG4gICAgICAgICAgICAnKSAnICtcbiAgICAgICAgICAgICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRoaXMudGFyZ2V0KSArXG4gICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbdGhpcy5jb25uZWN0aXZpdHlTdGF0ZV0gK1xuICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsekluZm9UcmFja2VyLnRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpdml0eSBzdGF0ZSBjaGFuZ2UgdG8gJyArIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW25ld1N0YXRlXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuc3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgY29uc3Qgd2F0Y2hlcnNDb3B5ID0gdGhpcy5jb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAoY29uc3Qgd2F0Y2hlck9iamVjdCBvZiB3YXRjaGVyc0NvcHkpIHtcbiAgICAgICAgICAgIGlmIChuZXdTdGF0ZSAhPT0gd2F0Y2hlck9iamVjdC5jdXJyZW50U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBpZiAod2F0Y2hlck9iamVjdC50aW1lcikge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQod2F0Y2hlck9iamVjdC50aW1lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVXYXRjaGVyKHdhdGNoZXJPYmplY3QpO1xuICAgICAgICAgICAgICAgIHdhdGNoZXJPYmplY3QuY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm90dGxlS2VlcGFsaXZlKG5ld0tlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgaWYgKG5ld0tlZXBhbGl2ZVRpbWUgPiB0aGlzLmtlZXBhbGl2ZVRpbWUpIHtcbiAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZSA9IG5ld0tlZXBhbGl2ZVRpbWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHdyYXBwZWRTdWJjaGFubmVsIG9mIHRoaXMud3JhcHBlZFN1YmNoYW5uZWxzKSB7XG4gICAgICAgICAgICAgICAgd3JhcHBlZFN1YmNoYW5uZWwudGhyb3R0bGVLZWVwYWxpdmUobmV3S2VlcGFsaXZlVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkV3JhcHBlZFN1YmNoYW5uZWwod3JhcHBlZFN1YmNoYW5uZWwpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkU3ViY2hhbm5lbHMuYWRkKHdyYXBwZWRTdWJjaGFubmVsKTtcbiAgICB9XG4gICAgcmVtb3ZlV3JhcHBlZFN1YmNoYW5uZWwod3JhcHBlZFN1YmNoYW5uZWwpIHtcbiAgICAgICAgdGhpcy53cmFwcGVkU3ViY2hhbm5lbHMuZGVsZXRlKHdyYXBwZWRTdWJjaGFubmVsKTtcbiAgICB9XG4gICAgZG9QaWNrKG1ldGFkYXRhLCBleHRyYVBpY2tJbmZvKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQaWNrZXIucGljayh7XG4gICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGEsXG4gICAgICAgICAgICBleHRyYVBpY2tJbmZvOiBleHRyYVBpY2tJbmZvLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcXVldWVDYWxsRm9yUGljayhjYWxsKSB7XG4gICAgICAgIHRoaXMucGlja1F1ZXVlLnB1c2goY2FsbCk7XG4gICAgICAgIHRoaXMuY2FsbFJlZlRpbWVyUmVmKCk7XG4gICAgfVxuICAgIGdldENvbmZpZyhtZXRob2QsIG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpdml0eVN0YXRlICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTikge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZpbmdMb2FkQmFsYW5jZXIuZXhpdElkbGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb25maWdTZWxlY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnU1VDQ0VTUycsXG4gICAgICAgICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZ1NlbGVjdG9yLmludm9rZShtZXRob2QsIG1ldGFkYXRhLCB0aGlzLnJhbmRvbUNoYW5uZWxJZCksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlc29sdXRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdFUlJPUicsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLmN1cnJlbnRSZXNvbHV0aW9uRXJyb3IsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdOT05FJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlQ2FsbEZvckNvbmZpZyhjYWxsKSB7XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUucHVzaChjYWxsKTtcbiAgICAgICAgdGhpcy5jYWxsUmVmVGltZXJSZWYoKTtcbiAgICB9XG4gICAgZW50ZXJJZGxlKCkge1xuICAgICAgICB0aGlzLnJlc29sdmluZ0xvYWRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSk7XG4gICAgICAgIHRoaXMuY3VycmVudFBpY2tlciA9IG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzLnJlc29sdmluZ0xvYWRCYWxhbmNlcik7XG4gICAgICAgIGlmICh0aGlzLmlkbGVUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWRsZVRpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuaWRsZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYWxsUmVmVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5jYWxsUmVmVGltZXIpO1xuICAgICAgICAgICAgdGhpcy5jYWxsUmVmVGltZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0SWRsZVRpbWVvdXQodGltZW91dE1zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuaWRsZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsQ291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgLyogSWYgdGhlcmUgaXMgY3VycmVudGx5IGEgY2FsbCwgdGhlIGNoYW5uZWwgd2lsbCBub3QgZ28gaWRsZSBmb3IgYVxuICAgICAgICAgICAgICAgICAqIHBlcmlvZCBvZiBhdCBsZWFzdCBpZGxlVGltZW91dE1zLCBzbyBjaGVjayBhZ2FpbiBhZnRlciB0aGF0IHRpbWUuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydElkbGVUaW1lb3V0KHRoaXMuaWRsZVRpbWVvdXRNcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RBY3Rpdml0eSA9IG5vdy52YWx1ZU9mKCkgLSB0aGlzLmxhc3RBY3Rpdml0eVRpbWVzdGFtcC52YWx1ZU9mKCk7XG4gICAgICAgICAgICBpZiAodGltZVNpbmNlTGFzdEFjdGl2aXR5ID49IHRoaXMuaWRsZVRpbWVvdXRNcykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0lkbGUgdGltZXIgdHJpZ2dlcmVkIGFmdGVyICcgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGVUaW1lb3V0TXMgK1xuICAgICAgICAgICAgICAgICAgICAnbXMgb2YgaW5hY3Rpdml0eScpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJJZGxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiBXaGVuZXZlciB0aGUgdGltZXIgZmlyZXMgd2l0aCB0aGUgbGF0ZXN0IGFjdGl2aXR5IGJlaW5nIHRvbyByZWNlbnQsXG4gICAgICAgICAgICAgICAgICogc2V0IHRoZSB0aW1lciBhZ2FpbiBmb3IgdGhlIHRpbWUgd2hlbiB0aGUgdGltZSBzaW5jZSB0aGUgbGFzdFxuICAgICAgICAgICAgICAgICAqIGFjdGl2aXR5IGlzIGVxdWFsIHRvIHRoZSB0aW1lb3V0LiBUaGlzIHNob3VsZCByZXN1bHQgaW4gdGhlIHRpbWVyXG4gICAgICAgICAgICAgICAgICogZmlyaW5nIG5vIG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IGlkbGVUaW1lb3V0TXMvMiBvbiBhdmVyYWdlLiAqL1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRJZGxlVGltZW91dCh0aGlzLmlkbGVUaW1lb3V0TXMgLSB0aW1lU2luY2VMYXN0QWN0aXZpdHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aW1lb3V0TXMpO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmlkbGVUaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgbWF5YmVTdGFydElkbGVUaW1lcigpIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOICYmXG4gICAgICAgICAgICAhdGhpcy5pZGxlVGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRJZGxlVGltZW91dCh0aGlzLmlkbGVUaW1lb3V0TXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uQ2FsbFN0YXJ0KCkge1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci5jYWxsVHJhY2tlci5hZGRDYWxsU3RhcnRlZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbENvdW50ICs9IDE7XG4gICAgfVxuICAgIG9uQ2FsbEVuZChzdGF0dXMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHpFbmFibGVkKSB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5PSykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpJbmZvVHJhY2tlci5jYWxsVHJhY2tlci5hZGRDYWxsU3VjY2VlZGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6SW5mb1RyYWNrZXIuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsbENvdW50IC09IDE7XG4gICAgICAgIHRoaXMubGFzdEFjdGl2aXR5VGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgdGhpcy5tYXliZVN0YXJ0SWRsZVRpbWVyKCk7XG4gICAgfVxuICAgIGNyZWF0ZUxvYWRCYWxhbmNpbmdDYWxsKGNhbGxDb25maWcsIG1ldGhvZCwgaG9zdCwgY3JlZGVudGlhbHMsIGRlYWRsaW5lKSB7XG4gICAgICAgIGNvbnN0IGNhbGxOdW1iZXIgPSAoMCwgY2FsbF9udW1iZXJfMS5nZXROZXh0Q2FsbE51bWJlcikoKTtcbiAgICAgICAgdGhpcy50cmFjZSgnY3JlYXRlTG9hZEJhbGFuY2luZ0NhbGwgWycgKyBjYWxsTnVtYmVyICsgJ10gbWV0aG9kPVwiJyArIG1ldGhvZCArICdcIicpO1xuICAgICAgICByZXR1cm4gbmV3IGxvYWRfYmFsYW5jaW5nX2NhbGxfMS5Mb2FkQmFsYW5jaW5nQ2FsbCh0aGlzLCBjYWxsQ29uZmlnLCBtZXRob2QsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSwgY2FsbE51bWJlcik7XG4gICAgfVxuICAgIGNyZWF0ZVJldHJ5aW5nQ2FsbChjYWxsQ29uZmlnLCBtZXRob2QsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSkge1xuICAgICAgICBjb25zdCBjYWxsTnVtYmVyID0gKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCk7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NyZWF0ZVJldHJ5aW5nQ2FsbCBbJyArIGNhbGxOdW1iZXIgKyAnXSBtZXRob2Q9XCInICsgbWV0aG9kICsgJ1wiJyk7XG4gICAgICAgIHJldHVybiBuZXcgcmV0cnlpbmdfY2FsbF8xLlJldHJ5aW5nQ2FsbCh0aGlzLCBjYWxsQ29uZmlnLCBtZXRob2QsIGhvc3QsIGNyZWRlbnRpYWxzLCBkZWFkbGluZSwgY2FsbE51bWJlciwgdGhpcy5yZXRyeUJ1ZmZlclRyYWNrZXIsIFJFVFJZX1RIUk9UVExFUl9NQVAuZ2V0KHRoaXMuZ2V0VGFyZ2V0KCkpKTtcbiAgICB9XG4gICAgY3JlYXRlUmVzb2x2aW5nQ2FsbChtZXRob2QsIGRlYWRsaW5lLCBob3N0LCBwYXJlbnRDYWxsLCBwcm9wYWdhdGVGbGFncykge1xuICAgICAgICBjb25zdCBjYWxsTnVtYmVyID0gKDAsIGNhbGxfbnVtYmVyXzEuZ2V0TmV4dENhbGxOdW1iZXIpKCk7XG4gICAgICAgIHRoaXMudHJhY2UoJ2NyZWF0ZVJlc29sdmluZ0NhbGwgWycgK1xuICAgICAgICAgICAgY2FsbE51bWJlciArXG4gICAgICAgICAgICAnXSBtZXRob2Q9XCInICtcbiAgICAgICAgICAgIG1ldGhvZCArXG4gICAgICAgICAgICAnXCIsIGRlYWRsaW5lPScgK1xuICAgICAgICAgICAgKDAsIGRlYWRsaW5lXzEuZGVhZGxpbmVUb1N0cmluZykoZGVhZGxpbmUpKTtcbiAgICAgICAgY29uc3QgZmluYWxPcHRpb25zID0ge1xuICAgICAgICAgICAgZGVhZGxpbmU6IGRlYWRsaW5lLFxuICAgICAgICAgICAgZmxhZ3M6IHByb3BhZ2F0ZUZsYWdzICE9PSBudWxsICYmIHByb3BhZ2F0ZUZsYWdzICE9PSB2b2lkIDAgPyBwcm9wYWdhdGVGbGFncyA6IGNvbnN0YW50c18xLlByb3BhZ2F0ZS5ERUZBVUxUUyxcbiAgICAgICAgICAgIGhvc3Q6IGhvc3QgIT09IG51bGwgJiYgaG9zdCAhPT0gdm9pZCAwID8gaG9zdCA6IHRoaXMuZGVmYXVsdEF1dGhvcml0eSxcbiAgICAgICAgICAgIHBhcmVudENhbGw6IHBhcmVudENhbGwsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGNhbGwgPSBuZXcgcmVzb2x2aW5nX2NhbGxfMS5SZXNvbHZpbmdDYWxsKHRoaXMsIG1ldGhvZCwgZmluYWxPcHRpb25zLCB0aGlzLmZpbHRlclN0YWNrRmFjdG9yeS5jbG9uZSgpLCBjYWxsTnVtYmVyKTtcbiAgICAgICAgdGhpcy5vbkNhbGxTdGFydCgpO1xuICAgICAgICBjYWxsLmFkZFN0YXR1c1dhdGNoZXIoc3RhdHVzID0+IHtcbiAgICAgICAgICAgIHRoaXMub25DYWxsRW5kKHN0YXR1cyk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5yZXNvbHZpbmdMb2FkQmFsYW5jZXIuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGlja2VyID0gbmV3IFNodXRkb3duUGlja2VyKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbCBvZiB0aGlzLmNvbmZpZ1NlbGVjdGlvblF1ZXVlKSB7XG4gICAgICAgICAgICBjYWxsLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLCAnQ2hhbm5lbCBjbG9zZWQgYmVmb3JlIGNhbGwgc3RhcnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0aW9uUXVldWUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIHRoaXMucGlja1F1ZXVlKSB7XG4gICAgICAgICAgICBjYWxsLmNhbmNlbFdpdGhTdGF0dXMoY29uc3RhbnRzXzEuU3RhdHVzLlVOQVZBSUxBQkxFLCAnQ2hhbm5lbCBjbG9zZWQgYmVmb3JlIGNhbGwgc3RhcnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGlja1F1ZXVlID0gW107XG4gICAgICAgIGlmICh0aGlzLmNhbGxSZWZUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNhbGxSZWZUaW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaWRsZVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5pZGxlVGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoYW5uZWx6RW5hYmxlZCkge1xuICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKSh0aGlzLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN1YmNoYW5uZWxQb29sLnVucmVmVW51c2VkU3ViY2hhbm5lbHMoKTtcbiAgICAgICAgKF9hID0gdGhpcy5jb25maWdTZWxlY3RvcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVucmVmKCk7XG4gICAgICAgIHRoaXMuY29uZmlnU2VsZWN0b3IgPSBudWxsO1xuICAgIH1cbiAgICBnZXRUYXJnZXQoKSB7XG4gICAgICAgIHJldHVybiAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKSh0aGlzLnRhcmdldCk7XG4gICAgfVxuICAgIGdldENvbm5lY3Rpdml0eVN0YXRlKHRyeVRvQ29ubmVjdCkge1xuICAgICAgICBjb25zdCBjb25uZWN0aXZpdHlTdGF0ZSA9IHRoaXMuY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgICAgIGlmICh0cnlUb0Nvbm5lY3QpIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2aW5nTG9hZEJhbGFuY2VyLmV4aXRJZGxlKCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RBY3Rpdml0eVRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB0aGlzLm1heWJlU3RhcnRJZGxlVGltZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgfVxuICAgIHdhdGNoQ29ubmVjdGl2aXR5U3RhdGUoY3VycmVudFN0YXRlLCBkZWFkbGluZSwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuY29ubmVjdGl2aXR5U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlNIVVRET1dOKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYW5uZWwgaGFzIGJlZW4gc2h1dCBkb3duJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRpbWVyID0gbnVsbDtcbiAgICAgICAgaWYgKGRlYWRsaW5lICE9PSBJbmZpbml0eSkge1xuICAgICAgICAgICAgY29uc3QgZGVhZGxpbmVEYXRlID0gZGVhZGxpbmUgaW5zdGFuY2VvZiBEYXRlID8gZGVhZGxpbmUgOiBuZXcgRGF0ZShkZWFkbGluZSk7XG4gICAgICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgaWYgKGRlYWRsaW5lID09PSAtSW5maW5pdHkgfHwgZGVhZGxpbmVEYXRlIDw9IG5vdykge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soY2FsbGJhY2ssIG5ldyBFcnJvcignRGVhZGxpbmUgcGFzc2VkIHdpdGhvdXQgY29ubmVjdGl2aXR5IHN0YXRlIGNoYW5nZScpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVXYXRjaGVyKHdhdGNoZXJPYmplY3QpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignRGVhZGxpbmUgcGFzc2VkIHdpdGhvdXQgY29ubmVjdGl2aXR5IHN0YXRlIGNoYW5nZScpKTtcbiAgICAgICAgICAgIH0sIGRlYWRsaW5lRGF0ZS5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3YXRjaGVyT2JqZWN0ID0ge1xuICAgICAgICAgICAgY3VycmVudFN0YXRlLFxuICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICB0aW1lcixcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jb25uZWN0aXZpdHlTdGF0ZVdhdGNoZXJzLnB1c2god2F0Y2hlck9iamVjdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgY2hhbm5lbHogcmVmZXJlbmNlIG9iamVjdCBmb3IgdGhpcyBjaGFubmVsLiBUaGUgcmV0dXJuZWQgdmFsdWUgaXNcbiAgICAgKiBnYXJiYWdlIGlmIGNoYW5uZWx6IGlzIGRpc2FibGVkIGZvciB0aGlzIGNoYW5uZWwuXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBnZXRDaGFubmVselJlZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHpSZWY7XG4gICAgfVxuICAgIGNyZWF0ZUNhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtZXRob2QgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsI2NyZWF0ZUNhbGw6IG1ldGhvZCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodHlwZW9mIGRlYWRsaW5lID09PSAnbnVtYmVyJyB8fCBkZWFkbGluZSBpbnN0YW5jZW9mIERhdGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsI2NyZWF0ZUNhbGw6IGRlYWRsaW5lIG11c3QgYmUgYSBudW1iZXIgb3IgRGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpdml0eVN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5TSFVURE9XTikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaGFubmVsIGhhcyBiZWVuIHNodXQgZG93bicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVJlc29sdmluZ0NhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpO1xuICAgIH1cbiAgICBnZXRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zO1xuICAgIH1cbn1cbmV4cG9ydHMuSW50ZXJuYWxDaGFubmVsID0gSW50ZXJuYWxDaGFubmVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJuYWwtY2hhbm5lbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5DaGFubmVsSW1wbGVtZW50YXRpb24gPSB2b2lkIDA7XG5jb25zdCBjaGFubmVsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLWNyZWRlbnRpYWxzXCIpO1xuY29uc3QgaW50ZXJuYWxfY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwtY2hhbm5lbFwiKTtcbmNsYXNzIENoYW5uZWxJbXBsZW1lbnRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCBjcmVkZW50aWFscywgb3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIHRhcmdldCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwgdGFyZ2V0IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShjcmVkZW50aWFscyBpbnN0YW5jZW9mIGNoYW5uZWxfY3JlZGVudGlhbHNfMS5DaGFubmVsQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsIGNyZWRlbnRpYWxzIG11c3QgYmUgYSBDaGFubmVsQ3JlZGVudGlhbHMgb2JqZWN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDaGFubmVsIG9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmludGVybmFsQ2hhbm5lbCA9IG5ldyBpbnRlcm5hbF9jaGFubmVsXzEuSW50ZXJuYWxDaGFubmVsKHRhcmdldCwgY3JlZGVudGlhbHMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5pbnRlcm5hbENoYW5uZWwuY2xvc2UoKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbENoYW5uZWwuZ2V0VGFyZ2V0KCk7XG4gICAgfVxuICAgIGdldENvbm5lY3Rpdml0eVN0YXRlKHRyeVRvQ29ubmVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbENoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUodHJ5VG9Db25uZWN0KTtcbiAgICB9XG4gICAgd2F0Y2hDb25uZWN0aXZpdHlTdGF0ZShjdXJyZW50U3RhdGUsIGRlYWRsaW5lLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmludGVybmFsQ2hhbm5lbC53YXRjaENvbm5lY3Rpdml0eVN0YXRlKGN1cnJlbnRTdGF0ZSwgZGVhZGxpbmUsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjaGFubmVseiByZWZlcmVuY2Ugb2JqZWN0IGZvciB0aGlzIGNoYW5uZWwuIFRoZSByZXR1cm5lZCB2YWx1ZSBpc1xuICAgICAqIGdhcmJhZ2UgaWYgY2hhbm5lbHogaXMgZGlzYWJsZWQgZm9yIHRoaXMgY2hhbm5lbC5cbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGdldENoYW5uZWx6UmVmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbENoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKTtcbiAgICB9XG4gICAgY3JlYXRlQ2FsbChtZXRob2QsIGRlYWRsaW5lLCBob3N0LCBwYXJlbnRDYWxsLCBwcm9wYWdhdGVGbGFncykge1xuICAgICAgICBpZiAodHlwZW9mIG1ldGhvZCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwjY3JlYXRlQ2FsbDogbWV0aG9kIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh0eXBlb2YgZGVhZGxpbmUgPT09ICdudW1iZXInIHx8IGRlYWRsaW5lIGluc3RhbmNlb2YgRGF0ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NoYW5uZWwjY3JlYXRlQ2FsbDogZGVhZGxpbmUgbXVzdCBiZSBhIG51bWJlciBvciBEYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxDaGFubmVsLmNyZWF0ZUNhbGwobWV0aG9kLCBkZWFkbGluZSwgaG9zdCwgcGFyZW50Q2FsbCwgcHJvcGFnYXRlRmxhZ3MpO1xuICAgIH1cbn1cbmV4cG9ydHMuQ2hhbm5lbEltcGxlbWVudGF0aW9uID0gQ2hhbm5lbEltcGxlbWVudGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2hhbm5lbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsID0gZXhwb3J0cy5TZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGwgPSBleHBvcnRzLlNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbCA9IGV4cG9ydHMuU2VydmVyVW5hcnlDYWxsSW1wbCA9IHZvaWQgMDtcbmV4cG9ydHMuc2VydmVyRXJyb3JUb1N0YXR1cyA9IHNlcnZlckVycm9yVG9TdGF0dXM7XG5jb25zdCBldmVudHNfMSA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5jb25zdCBzdHJlYW1fMSA9IHJlcXVpcmUoXCJzdHJlYW1cIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmZ1bmN0aW9uIHNlcnZlckVycm9yVG9TdGF0dXMoZXJyb3IsIG92ZXJyaWRlVHJhaWxlcnMpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc3RhdHVzID0ge1xuICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgZGV0YWlsczogJ21lc3NhZ2UnIGluIGVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIEVycm9yJyxcbiAgICAgICAgbWV0YWRhdGE6IChfYSA9IG92ZXJyaWRlVHJhaWxlcnMgIT09IG51bGwgJiYgb3ZlcnJpZGVUcmFpbGVycyAhPT0gdm9pZCAwID8gb3ZlcnJpZGVUcmFpbGVycyA6IGVycm9yLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLFxuICAgIH07XG4gICAgaWYgKCdjb2RlJyBpbiBlcnJvciAmJlxuICAgICAgICB0eXBlb2YgZXJyb3IuY29kZSA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgTnVtYmVyLmlzSW50ZWdlcihlcnJvci5jb2RlKSkge1xuICAgICAgICBzdGF0dXMuY29kZSA9IGVycm9yLmNvZGU7XG4gICAgICAgIGlmICgnZGV0YWlscycgaW4gZXJyb3IgJiYgdHlwZW9mIGVycm9yLmRldGFpbHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBzdGF0dXMuZGV0YWlscyA9IGVycm9yLmRldGFpbHM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0YXR1cztcbn1cbmNsYXNzIFNlcnZlclVuYXJ5Q2FsbEltcGwgZXh0ZW5kcyBldmVudHNfMS5FdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHBhdGgsIGNhbGwsIG1ldGFkYXRhLCByZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldERlYWRsaW5lKCk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGg7XG4gICAgfVxuICAgIGdldEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0SG9zdCgpO1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRBdXRoQ29udGV4dCgpO1xuICAgIH1cbiAgICBnZXRNZXRyaWNzUmVjb3JkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0TWV0cmljc1JlY29yZGVyKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJVbmFyeUNhbGxJbXBsID0gU2VydmVyVW5hcnlDYWxsSW1wbDtcbmNsYXNzIFNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbCBleHRlbmRzIHN0cmVhbV8xLlJlYWRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBjYWxsLCBtZXRhZGF0YSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgX3JlYWQoc2l6ZSkge1xuICAgICAgICB0aGlzLmNhbGwuc3RhcnRSZWFkKCk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1ldGFkYXRhKHJlc3BvbnNlTWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXREZWFkbGluZSgpO1xuICAgIH1cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldEhvc3QoKTtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0QXV0aENvbnRleHQoKTtcbiAgICB9XG4gICAgZ2V0TWV0cmljc1JlY29yZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldE1ldHJpY3NSZWNvcmRlcigpO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVyUmVhZGFibGVTdHJlYW1JbXBsID0gU2VydmVyUmVhZGFibGVTdHJlYW1JbXBsO1xuY2xhc3MgU2VydmVyV3JpdGFibGVTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuV3JpdGFibGUge1xuICAgIGNvbnN0cnVjdG9yKHBhdGgsIGNhbGwsIG1ldGFkYXRhLCByZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKHsgb2JqZWN0TW9kZTogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICAgICAgdGhpcy5jYWxsID0gY2FsbDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSB7XG4gICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuT0ssXG4gICAgICAgICAgICBkZXRhaWxzOiAnT0snLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgPSBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICB0aGlzLm9uKCdlcnJvcicsIGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTdGF0dXMgPSBzZXJ2ZXJFcnJvclRvU3RhdHVzKGVycik7XG4gICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShyZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldERlYWRsaW5lKCk7XG4gICAgfVxuICAgIGdldFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGg7XG4gICAgfVxuICAgIGdldEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0SG9zdCgpO1xuICAgIH1cbiAgICBnZXRBdXRoQ29udGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXRBdXRoQ29udGV4dCgpO1xuICAgIH1cbiAgICBnZXRNZXRyaWNzUmVjb3JkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0TWV0cmljc1JlY29yZGVyKCk7XG4gICAgfVxuICAgIF93cml0ZShjaHVuaywgZW5jb2RpbmcsIFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5jYWxsLnNlbmRNZXNzYWdlKGNodW5rLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIF9maW5hbChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB0aGlzLmNhbGwuc2VuZFN0YXR1cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMucGVuZGluZ1N0YXR1cyksIHsgbWV0YWRhdGE6IChfYSA9IHRoaXMucGVuZGluZ1N0YXR1cy5tZXRhZGF0YSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdGhpcy50cmFpbGluZ01ldGFkYXRhIH0pKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBlbmQobWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuZW5kKCk7XG4gICAgfVxufVxuZXhwb3J0cy5TZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGwgPSBTZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGw7XG5jbGFzcyBTZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsIGV4dGVuZHMgc3RyZWFtXzEuRHVwbGV4IHtcbiAgICBjb25zdHJ1Y3RvcihwYXRoLCBjYWxsLCBtZXRhZGF0YSkge1xuICAgICAgICBzdXBlcih7IG9iamVjdE1vZGU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0ge1xuICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgZGV0YWlsczogJ09LJyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy50cmFpbGluZ01ldGFkYXRhID0gbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKTtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCBlcnIgPT4ge1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gc2VydmVyRXJyb3JUb1N0YXR1cyhlcnIpO1xuICAgICAgICAgICAgdGhpcy5lbmQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFBlZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0UGVlcigpO1xuICAgIH1cbiAgICBzZW5kTWV0YWRhdGEocmVzcG9uc2VNZXRhZGF0YSkge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1ldGFkYXRhKHJlc3BvbnNlTWV0YWRhdGEpO1xuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbC5nZXREZWFkbGluZSgpO1xuICAgIH1cbiAgICBnZXRQYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldEhvc3QoKTtcbiAgICB9XG4gICAgZ2V0QXV0aENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGwuZ2V0QXV0aENvbnRleHQoKTtcbiAgICB9XG4gICAgZ2V0TWV0cmljc1JlY29yZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsLmdldE1ldHJpY3NSZWNvcmRlcigpO1xuICAgIH1cbiAgICBfcmVhZChzaXplKSB7XG4gICAgICAgIHRoaXMuY2FsbC5zdGFydFJlYWQoKTtcbiAgICB9XG4gICAgX3dyaXRlKGNodW5rLCBlbmNvZGluZywgXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGwuc2VuZE1lc3NhZ2UoY2h1bmssIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgX2ZpbmFsKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIHRoaXMuY2FsbC5zZW5kU3RhdHVzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wZW5kaW5nU3RhdHVzKSwgeyBtZXRhZGF0YTogKF9hID0gdGhpcy5wZW5kaW5nU3RhdHVzLm1ldGFkYXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnRyYWlsaW5nTWV0YWRhdGEgfSkpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGVuZChtZXRhZGF0YSkge1xuICAgICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudHJhaWxpbmdNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5lbmQoKTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlckR1cGxleFN0cmVhbUltcGwgPSBTZXJ2ZXJEdXBsZXhTdHJlYW1JbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2VydmVyLWNhbGwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMTkgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2VydmVyQ3JlZGVudGlhbHMgPSB2b2lkIDA7XG5leHBvcnRzLmNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscyA9IGNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscztcbmV4cG9ydHMuY3JlYXRlU2VydmVyQ3JlZGVudGlhbHNXaXRoSW50ZXJjZXB0b3JzID0gY3JlYXRlU2VydmVyQ3JlZGVudGlhbHNXaXRoSW50ZXJjZXB0b3JzO1xuY29uc3QgdGxzX2hlbHBlcnNfMSA9IHJlcXVpcmUoXCIuL3Rscy1oZWxwZXJzXCIpO1xuY2xhc3MgU2VydmVyQ3JlZGVudGlhbHMge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZlckNvbnN0cnVjdG9yT3B0aW9ucywgY29udGV4dE9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXJ2ZXJDb25zdHJ1Y3Rvck9wdGlvbnMgPSBzZXJ2ZXJDb25zdHJ1Y3Rvck9wdGlvbnM7XG4gICAgICAgIHRoaXMud2F0Y2hlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29udGV4dE9wdGlvbnMgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdENvbnRleHRPcHRpb25zID0gY29udGV4dE9wdGlvbnMgIT09IG51bGwgJiYgY29udGV4dE9wdGlvbnMgIT09IHZvaWQgMCA/IGNvbnRleHRPcHRpb25zIDogbnVsbDtcbiAgICB9XG4gICAgX2FkZFdhdGNoZXIod2F0Y2hlcikge1xuICAgICAgICB0aGlzLndhdGNoZXJzLmFkZCh3YXRjaGVyKTtcbiAgICB9XG4gICAgX3JlbW92ZVdhdGNoZXIod2F0Y2hlcikge1xuICAgICAgICB0aGlzLndhdGNoZXJzLmRlbGV0ZSh3YXRjaGVyKTtcbiAgICB9XG4gICAgZ2V0V2F0Y2hlckNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy53YXRjaGVycy5zaXplO1xuICAgIH1cbiAgICB1cGRhdGVTZWN1cmVDb250ZXh0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubGF0ZXN0Q29udGV4dE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBmb3IgKGNvbnN0IHdhdGNoZXIgb2YgdGhpcy53YXRjaGVycykge1xuICAgICAgICAgICAgd2F0Y2hlcih0aGlzLmxhdGVzdENvbnRleHRPcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaXNTZWN1cmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZlckNvbnN0cnVjdG9yT3B0aW9ucyAhPT0gbnVsbDtcbiAgICB9XG4gICAgX2dldFNlY3VyZUNvbnRleHRPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYXRlc3RDb250ZXh0T3B0aW9ucztcbiAgICB9XG4gICAgX2dldENvbnN0cnVjdG9yT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VydmVyQ29uc3RydWN0b3JPcHRpb25zO1xuICAgIH1cbiAgICBfZ2V0SW50ZXJjZXB0b3JzKCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVJbnNlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbnNlY3VyZVNlcnZlckNyZWRlbnRpYWxzKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVTc2wocm9vdENlcnRzLCBrZXlDZXJ0UGFpcnMsIGNoZWNrQ2xpZW50Q2VydGlmaWNhdGUgPSBmYWxzZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChyb290Q2VydHMgIT09IG51bGwgJiYgIUJ1ZmZlci5pc0J1ZmZlcihyb290Q2VydHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdyb290Q2VydHMgbXVzdCBiZSBudWxsIG9yIGEgQnVmZmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGtleUNlcnRQYWlycykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2tleUNlcnRQYWlycyBtdXN0IGJlIGFuIGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjaGVja0NsaWVudENlcnRpZmljYXRlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NoZWNrQ2xpZW50Q2VydGlmaWNhdGUgbXVzdCBiZSBhIGJvb2xlYW4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjZXJ0ID0gW107XG4gICAgICAgIGNvbnN0IGtleSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleUNlcnRQYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFpciA9IGtleUNlcnRQYWlyc1tpXTtcbiAgICAgICAgICAgIGlmIChwYWlyID09PSBudWxsIHx8IHR5cGVvZiBwYWlyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGtleUNlcnRQYWlyWyR7aX1dIG11c3QgYmUgYW4gb2JqZWN0YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwYWlyLnByaXZhdGVfa2V5KSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGtleUNlcnRQYWlyWyR7aX1dLnByaXZhdGVfa2V5IG11c3QgYmUgYSBCdWZmZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKHBhaXIuY2VydF9jaGFpbikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBrZXlDZXJ0UGFpclske2l9XS5jZXJ0X2NoYWluIG11c3QgYmUgYSBCdWZmZXJgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNlcnQucHVzaChwYWlyLmNlcnRfY2hhaW4pO1xuICAgICAgICAgICAga2V5LnB1c2gocGFpci5wcml2YXRlX2tleSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyh7XG4gICAgICAgICAgICByZXF1ZXN0Q2VydDogY2hlY2tDbGllbnRDZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgIGNpcGhlcnM6IHRsc19oZWxwZXJzXzEuQ0lQSEVSX1NVSVRFUyxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgY2E6IChfYSA9IHJvb3RDZXJ0cyAhPT0gbnVsbCAmJiByb290Q2VydHMgIT09IHZvaWQgMCA/IHJvb3RDZXJ0cyA6ICgwLCB0bHNfaGVscGVyc18xLmdldERlZmF1bHRSb290c0RhdGEpKCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNlcnQsXG4gICAgICAgICAgICBrZXksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVyQ3JlZGVudGlhbHMgPSBTZXJ2ZXJDcmVkZW50aWFscztcbmNsYXNzIEluc2VjdXJlU2VydmVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKG51bGwpO1xuICAgIH1cbiAgICBfZ2V0U2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIEluc2VjdXJlU2VydmVyQ3JlZGVudGlhbHM7XG4gICAgfVxufVxuY2xhc3MgU2VjdXJlU2VydmVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY29uc3RydWN0b3JPcHRpb25zLCBjb250ZXh0T3B0aW9ucykge1xuICAgICAgICBzdXBlcihjb25zdHJ1Y3Rvck9wdGlvbnMsIGNvbnRleHRPcHRpb25zKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBjb25zdHJ1Y3Rvck9wdGlvbnMpLCBjb250ZXh0T3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBlcXVhbGl0eSBieSBjaGVja2luZyB0aGUgb3B0aW9ucyB0aGF0IGFyZSBhY3R1YWxseSBzZXQgYnlcbiAgICAgKiBjcmVhdGVTc2wuXG4gICAgICogQHBhcmFtIG90aGVyXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBfZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzID09PSBvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZWN1cmVTZXJ2ZXJDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpb25zLmNhIGVxdWFsaXR5IGNoZWNrXG4gICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIodGhpcy5vcHRpb25zLmNhKSAmJiBCdWZmZXIuaXNCdWZmZXIob3RoZXIub3B0aW9ucy5jYSkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmNhLmVxdWFscyhvdGhlci5vcHRpb25zLmNhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2EgIT09IG90aGVyLm9wdGlvbnMuY2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW9ucy5jZXJ0IGVxdWFsaXR5IGNoZWNrXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5jZXJ0KSAmJiBBcnJheS5pc0FycmF5KG90aGVyLm9wdGlvbnMuY2VydCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY2VydC5sZW5ndGggIT09IG90aGVyLm9wdGlvbnMuY2VydC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5jZXJ0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhpc0NlcnQgPSB0aGlzLm9wdGlvbnMuY2VydFtpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBvdGhlckNlcnQgPSBvdGhlci5vcHRpb25zLmNlcnRbaV07XG4gICAgICAgICAgICAgICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih0aGlzQ2VydCkgJiYgQnVmZmVyLmlzQnVmZmVyKG90aGVyQ2VydCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzQ2VydC5lcXVhbHMob3RoZXJDZXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc0NlcnQgIT09IG90aGVyQ2VydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jZXJ0ICE9PSBvdGhlci5vcHRpb25zLmNlcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW9ucy5rZXkgZXF1YWxpdHkgY2hlY2tcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmtleSkgJiYgQXJyYXkuaXNBcnJheShvdGhlci5vcHRpb25zLmtleSkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMua2V5Lmxlbmd0aCAhPT0gb3RoZXIub3B0aW9ucy5rZXkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnMua2V5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhpc0tleSA9IHRoaXMub3B0aW9ucy5rZXlbaV07XG4gICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJLZXkgPSBvdGhlci5vcHRpb25zLmtleVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKHRoaXNLZXkpICYmIEJ1ZmZlci5pc0J1ZmZlcihvdGhlcktleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzS2V5LmVxdWFscyhvdGhlcktleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNLZXkgIT09IG90aGVyS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmtleSAhPT0gb3RoZXIub3B0aW9ucy5rZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW9ucy5yZXF1ZXN0Q2VydCBlcXVhbGl0eSBjaGVja1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlcXVlc3RDZXJ0ICE9PSBvdGhlci5vcHRpb25zLnJlcXVlc3RDZXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLyogY2lwaGVycyBpcyBkZXJpdmVkIGZyb20gYSB2YWx1ZSB0aGF0IGlzIGNvbnN0YW50IGZvciB0aGUgcHJvY2Vzcywgc28gbm9cbiAgICAgICAgICogZXF1YWxpdHkgY2hlY2sgaXMgbmVlZGVkLiAqL1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5jbGFzcyBDZXJ0aWZpY2F0ZVByb3ZpZGVyU2VydmVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLCBjYUNlcnRpZmljYXRlUHJvdmlkZXIsIHJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSkge1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICByZXF1ZXN0Q2VydDogY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyICE9PSBudWxsLFxuICAgICAgICAgICAgcmVqZWN0VW5hdXRob3JpemVkOiByZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUsXG4gICAgICAgICAgICBjaXBoZXJzOiB0bHNfaGVscGVyc18xLkNJUEhFUl9TVUlURVNcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLmNhQ2VydGlmaWNhdGVQcm92aWRlciA9IGNhQ2VydGlmaWNhdGVQcm92aWRlcjtcbiAgICAgICAgdGhpcy5yZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUgPSByZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGU7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIgPSB0aGlzLmhhbmRsZUNhQ2VydGlmaWNhdGVVcGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlVXBkYXRlTGlzdGVuZXIgPSB0aGlzLmhhbmRsZUlkZW50aXR5Q2VydGl0aWZpY2F0ZVVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBfYWRkV2F0Y2hlcih3YXRjaGVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0V2F0Y2hlckNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuYWRkQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLmFkZElkZW50aXR5Q2VydGlmaWNhdGVMaXN0ZW5lcih0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuX2FkZFdhdGNoZXIod2F0Y2hlcik7XG4gICAgfVxuICAgIF9yZW1vdmVXYXRjaGVyKHdhdGNoZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlci5fcmVtb3ZlV2F0Y2hlcih3YXRjaGVyKTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0V2F0Y2hlckNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMuY2FDZXJ0aWZpY2F0ZVByb3ZpZGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucmVtb3ZlQ2FDZXJ0aWZpY2F0ZUxpc3RlbmVyKHRoaXMuY2FDZXJ0aWZpY2F0ZVVwZGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIHRoaXMuaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLnJlbW92ZUlkZW50aXR5Q2VydGlmaWNhdGVMaXN0ZW5lcih0aGlzLmlkZW50aXR5Q2VydGlmaWNhdGVVcGRhdGVMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAodGhpcyA9PT0gb3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKG90aGVyIGluc3RhbmNlb2YgQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIgPT09IG90aGVyLmNhQ2VydGlmaWNhdGVQcm92aWRlciAmJlxuICAgICAgICAgICAgdGhpcy5pZGVudGl0eUNlcnRpZmljYXRlUHJvdmlkZXIgPT09IG90aGVyLmlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciAmJlxuICAgICAgICAgICAgdGhpcy5yZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUgPT09IG90aGVyLnJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZVNlY3VyZUNvbnRleHRPcHRpb25zKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jYUNlcnRpZmljYXRlUHJvdmlkZXIgIT09IG51bGwgJiYgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhOiAoX2EgPSB0aGlzLmxhdGVzdENhVXBkYXRlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FDZXJ0aWZpY2F0ZSxcbiAgICAgICAgICAgIGNlcnQ6IFt0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlLmNlcnRpZmljYXRlXSxcbiAgICAgICAgICAgIGtleTogW3RoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUucHJpdmF0ZUtleV0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZpbmFsaXplVXBkYXRlKCkge1xuICAgICAgICBjb25zdCBzZWN1cmVDb250ZXh0T3B0aW9ucyA9IHRoaXMuY2FsY3VsYXRlU2VjdXJlQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgdGhpcy51cGRhdGVTZWN1cmVDb250ZXh0T3B0aW9ucyhzZWN1cmVDb250ZXh0T3B0aW9ucyk7XG4gICAgfVxuICAgIGhhbmRsZUNhQ2VydGlmaWNhdGVVcGRhdGUodXBkYXRlKSB7XG4gICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSB1cGRhdGU7XG4gICAgICAgIHRoaXMuZmluYWxpemVVcGRhdGUoKTtcbiAgICB9XG4gICAgaGFuZGxlSWRlbnRpdHlDZXJ0aXRpZmljYXRlVXBkYXRlKHVwZGF0ZSkge1xuICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gdXBkYXRlO1xuICAgICAgICB0aGlzLmZpbmFsaXplVXBkYXRlKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzKGNhQ2VydGlmaWNhdGVQcm92aWRlciwgaWRlbnRpdHlDZXJ0aWZpY2F0ZVByb3ZpZGVyLCByZXF1aXJlQ2xpZW50Q2VydGlmaWNhdGUpIHtcbiAgICByZXR1cm4gbmV3IENlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscyhjYUNlcnRpZmljYXRlUHJvdmlkZXIsIGlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciwgcmVxdWlyZUNsaWVudENlcnRpZmljYXRlKTtcbn1cbmNsYXNzIEludGVyY2VwdG9yU2VydmVyQ3JlZGVudGlhbHMgZXh0ZW5kcyBTZXJ2ZXJDcmVkZW50aWFscyB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRDcmVkZW50aWFscywgaW50ZXJjZXB0b3JzKSB7XG4gICAgICAgIHN1cGVyKHt9KTtcbiAgICAgICAgdGhpcy5jaGlsZENyZWRlbnRpYWxzID0gY2hpbGRDcmVkZW50aWFscztcbiAgICAgICAgdGhpcy5pbnRlcmNlcHRvcnMgPSBpbnRlcmNlcHRvcnM7XG4gICAgfVxuICAgIF9pc1NlY3VyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDcmVkZW50aWFscy5faXNTZWN1cmUoKTtcbiAgICB9XG4gICAgX2VxdWFscyhvdGhlcikge1xuICAgICAgICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIEludGVyY2VwdG9yU2VydmVyQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEodGhpcy5jaGlsZENyZWRlbnRpYWxzLl9lcXVhbHMob3RoZXIuY2hpbGRDcmVkZW50aWFscykpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaW50ZXJjZXB0b3JzLmxlbmd0aCAhPT0gb3RoZXIuaW50ZXJjZXB0b3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbnRlcmNlcHRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVyY2VwdG9yc1tpXSAhPT0gb3RoZXIuaW50ZXJjZXB0b3JzW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfZ2V0SW50ZXJjZXB0b3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcmNlcHRvcnM7XG4gICAgfVxuICAgIF9hZGRXYXRjaGVyKHdhdGNoZXIpIHtcbiAgICAgICAgdGhpcy5jaGlsZENyZWRlbnRpYWxzLl9hZGRXYXRjaGVyKHdhdGNoZXIpO1xuICAgIH1cbiAgICBfcmVtb3ZlV2F0Y2hlcih3YXRjaGVyKSB7XG4gICAgICAgIHRoaXMuY2hpbGRDcmVkZW50aWFscy5fcmVtb3ZlV2F0Y2hlcih3YXRjaGVyKTtcbiAgICB9XG4gICAgX2dldENvbnN0cnVjdG9yT3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDcmVkZW50aWFscy5fZ2V0Q29uc3RydWN0b3JPcHRpb25zKCk7XG4gICAgfVxuICAgIF9nZXRTZWN1cmVDb250ZXh0T3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRDcmVkZW50aWFscy5fZ2V0U2VjdXJlQ29udGV4dE9wdGlvbnMoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXJDcmVkZW50aWFsc1dpdGhJbnRlcmNlcHRvcnMoY3JlZGVudGlhbHMsIGludGVyY2VwdG9ycykge1xuICAgIHJldHVybiBuZXcgSW50ZXJjZXB0b3JTZXJ2ZXJDcmVkZW50aWFscyhjcmVkZW50aWFscywgaW50ZXJjZXB0b3JzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZlci1jcmVkZW50aWFscy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMiBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kdXJhdGlvbk1lc3NhZ2VUb0R1cmF0aW9uID0gZHVyYXRpb25NZXNzYWdlVG9EdXJhdGlvbjtcbmV4cG9ydHMubXNUb0R1cmF0aW9uID0gbXNUb0R1cmF0aW9uO1xuZXhwb3J0cy5kdXJhdGlvblRvTXMgPSBkdXJhdGlvblRvTXM7XG5leHBvcnRzLmlzRHVyYXRpb24gPSBpc0R1cmF0aW9uO1xuZXhwb3J0cy5pc0R1cmF0aW9uTWVzc2FnZSA9IGlzRHVyYXRpb25NZXNzYWdlO1xuZXhwb3J0cy5wYXJzZUR1cmF0aW9uID0gcGFyc2VEdXJhdGlvbjtcbmV4cG9ydHMuZHVyYXRpb25Ub1N0cmluZyA9IGR1cmF0aW9uVG9TdHJpbmc7XG5mdW5jdGlvbiBkdXJhdGlvbk1lc3NhZ2VUb0R1cmF0aW9uKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiBOdW1iZXIucGFyc2VJbnQobWVzc2FnZS5zZWNvbmRzKSxcbiAgICAgICAgbmFub3M6IG1lc3NhZ2UubmFub3NcbiAgICB9O1xufVxuZnVuY3Rpb24gbXNUb0R1cmF0aW9uKG1pbGxpcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlY29uZHM6IChtaWxsaXMgLyAxMDAwKSB8IDAsXG4gICAgICAgIG5hbm9zOiAoKG1pbGxpcyAlIDEwMDApICogMTAwMDAwMCkgfCAwLFxuICAgIH07XG59XG5mdW5jdGlvbiBkdXJhdGlvblRvTXMoZHVyYXRpb24pIHtcbiAgICByZXR1cm4gKGR1cmF0aW9uLnNlY29uZHMgKiAxMDAwICsgZHVyYXRpb24ubmFub3MgLyAxMDAwMDAwKSB8IDA7XG59XG5mdW5jdGlvbiBpc0R1cmF0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZS5zZWNvbmRzID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUubmFub3MgPT09ICdudW1iZXInO1xufVxuZnVuY3Rpb24gaXNEdXJhdGlvbk1lc3NhZ2UodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlLnNlY29uZHMgPT09ICdzdHJpbmcnICYmIHR5cGVvZiB2YWx1ZS5uYW5vcyA9PT0gJ251bWJlcic7XG59XG5jb25zdCBkdXJhdGlvblJlZ2V4ID0gL14oXFxkKykoPzpcXC4oXFxkKykpP3MkLztcbmZ1bmN0aW9uIHBhcnNlRHVyYXRpb24odmFsdWUpIHtcbiAgICBjb25zdCBtYXRjaCA9IHZhbHVlLm1hdGNoKGR1cmF0aW9uUmVnZXgpO1xuICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHNlY29uZHM6IE51bWJlci5wYXJzZUludChtYXRjaFsxXSwgMTApLFxuICAgICAgICBuYW5vczogbWF0Y2hbMl0gPyBOdW1iZXIucGFyc2VJbnQobWF0Y2hbMl0ucGFkRW5kKDksICcwJyksIDEwKSA6IDBcbiAgICB9O1xufVxuZnVuY3Rpb24gZHVyYXRpb25Ub1N0cmluZyhkdXJhdGlvbikge1xuICAgIGlmIChkdXJhdGlvbi5uYW5vcyA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYCR7ZHVyYXRpb24uc2Vjb25kc31zYDtcbiAgICB9XG4gICAgbGV0IHNjYWxlRmFjdG9yO1xuICAgIGlmIChkdXJhdGlvbi5uYW5vcyAlIDEwMDAwMDAgPT09IDApIHtcbiAgICAgICAgc2NhbGVGYWN0b3IgPSAxMDAwMDAwO1xuICAgIH1cbiAgICBlbHNlIGlmIChkdXJhdGlvbi5uYW5vcyAlIDEwMDAgPT09IDApIHtcbiAgICAgICAgc2NhbGVGYWN0b3IgPSAxMDAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2NhbGVGYWN0b3IgPSAxO1xuICAgIH1cbiAgICByZXR1cm4gYCR7ZHVyYXRpb24uc2Vjb25kc30uJHtkdXJhdGlvbi5uYW5vcyAvIHNjYWxlRmFjdG9yfXNgO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHVyYXRpb24uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vKlxuICogQ29weXJpZ2h0IDIwMjUgZ1JQQyBhdXRob3JzLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuT3JjYU9vYk1ldHJpY3NTdWJjaGFubmVsV3JhcHBlciA9IGV4cG9ydHMuR1JQQ19NRVRSSUNTX0hFQURFUiA9IGV4cG9ydHMuU2VydmVyTWV0cmljUmVjb3JkZXIgPSBleHBvcnRzLlBlclJlcXVlc3RNZXRyaWNSZWNvcmRlciA9IHZvaWQgMDtcbmV4cG9ydHMuY3JlYXRlT3JjYUNsaWVudCA9IGNyZWF0ZU9yY2FDbGllbnQ7XG5leHBvcnRzLmNyZWF0ZU1ldHJpY3NSZWFkZXIgPSBjcmVhdGVNZXRyaWNzUmVhZGVyO1xuY29uc3QgbWFrZV9jbGllbnRfMSA9IHJlcXVpcmUoXCIuL21ha2UtY2xpZW50XCIpO1xuY29uc3QgZHVyYXRpb25fMSA9IHJlcXVpcmUoXCIuL2R1cmF0aW9uXCIpO1xuY29uc3QgY2hhbm5lbF9jcmVkZW50aWFsc18xID0gcmVxdWlyZShcIi4vY2hhbm5lbC1jcmVkZW50aWFsc1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWludGVyZmFjZVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3QgYmFja29mZl90aW1lb3V0XzEgPSByZXF1aXJlKFwiLi9iYWNrb2ZmLXRpbWVvdXRcIik7XG5jb25zdCBjb25uZWN0aXZpdHlfc3RhdGVfMSA9IHJlcXVpcmUoXCIuL2Nvbm5lY3Rpdml0eS1zdGF0ZVwiKTtcbmNvbnN0IGxvYWRlZE9yY2FQcm90byA9IG51bGw7XG5mdW5jdGlvbiBsb2FkT3JjYVByb3RvKCkge1xuICAgIGlmIChsb2FkZWRPcmNhUHJvdG8pIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlZE9yY2FQcm90bztcbiAgICB9XG4gICAgLyogVGhlIHB1cnBvc2Ugb2YgdGhpcyBjb21wbGV4aXR5IGlzIHRvIGF2b2lkIGxvYWRpbmcgQGdycGMvcHJvdG8tbG9hZGVyIGF0XG4gICAgICogcnVudGltZSBmb3IgdXNlcnMgd2hvIHdpbGwgbm90IHVzZS9lbmFibGUgT1JDQS4gKi9cbiAgICBjb25zdCBsb2FkZXJMb2FkU3luYyA9IHJlcXVpcmUoJ0BncnBjL3Byb3RvLWxvYWRlcicpXG4gICAgICAgIC5sb2FkU3luYztcbiAgICBjb25zdCBsb2FkZWRQcm90byA9IGxvYWRlckxvYWRTeW5jKCd4ZHMvc2VydmljZS9vcmNhL3YzL29yY2EucHJvdG8nLCB7XG4gICAgICAgIGtlZXBDYXNlOiB0cnVlLFxuICAgICAgICBsb25nczogU3RyaW5nLFxuICAgICAgICBlbnVtczogU3RyaW5nLFxuICAgICAgICBkZWZhdWx0czogdHJ1ZSxcbiAgICAgICAgb25lb2ZzOiB0cnVlLFxuICAgICAgICBpbmNsdWRlRGlyczogW1xuICAgICAgICAgICAgYCR7X19kaXJuYW1lfS8uLi8uLi9wcm90by94ZHNgLFxuICAgICAgICAgICAgYCR7X19kaXJuYW1lfS8uLi8uLi9wcm90by9wcm90b2MtZ2VuLXZhbGlkYXRlYFxuICAgICAgICBdLFxuICAgIH0pO1xuICAgIHJldHVybiAoMCwgbWFrZV9jbGllbnRfMS5sb2FkUGFja2FnZURlZmluaXRpb24pKGxvYWRlZFByb3RvKTtcbn1cbi8qKlxuICogT1JDQSBtZXRyaWNzIHJlY29yZGVyIGZvciBhIHNpbmdsZSByZXF1ZXN0XG4gKi9cbmNsYXNzIFBlclJlcXVlc3RNZXRyaWNSZWNvcmRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZSA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvcmRzIGEgcmVxdWVzdCBjb3N0IG1ldHJpYyBtZWFzdXJlbWVudCBmb3IgdGhlIGNhbGwuXG4gICAgICogQHBhcmFtIG5hbWVcbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICByZWNvcmRSZXF1ZXN0Q29zdE1ldHJpYyhuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMubWVzc2FnZS5yZXF1ZXN0X2Nvc3QpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZS5yZXF1ZXN0X2Nvc3QgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc3NhZ2UucmVxdWVzdF9jb3N0W25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZHMgYSByZXF1ZXN0IGNvc3QgbWV0cmljIG1lYXN1cmVtZW50IGZvciB0aGUgY2FsbC5cbiAgICAgKiBAcGFyYW0gbmFtZVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHJlY29yZFV0aWxpemF0aW9uTWV0cmljKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5tZXNzYWdlLnV0aWxpemF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UudXRpbGl6YXRpb24gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lc3NhZ2UudXRpbGl6YXRpb25bbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkcyBhbiBvcGFxdWUgbmFtZWQgbWV0cmljIG1lYXN1cmVtZW50IGZvciB0aGUgY2FsbC5cbiAgICAgKiBAcGFyYW0gbmFtZVxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHJlY29yZE5hbWVkTWV0cmljKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5tZXNzYWdlLm5hbWVkX21ldHJpY3MpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZS5uYW1lZF9tZXRyaWNzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXNzYWdlLm5hbWVkX21ldHJpY3NbbmFtZV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkcyB0aGUgQ1BVIHV0aWxpemF0aW9uIG1ldHJpYyBtZWFzdXJlbWVudCBmb3IgdGhlIGNhbGwuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICovXG4gICAgcmVjb3JkQ1BVVXRpbGl6YXRpb25NZXRyaWModmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlLmNwdV91dGlsaXphdGlvbiA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvcmRzIHRoZSBtZW1vcnkgdXRpbGl6YXRpb24gbWV0cmljIG1lYXN1cmVtZW50IGZvciB0aGUgY2FsbC5cbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICByZWNvcmRNZW1vcnlVdGlsaXphdGlvbk1ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UubWVtX3V0aWxpemF0aW9uID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZHMgdGhlIG1lbW9yeSB1dGlsaXphdGlvbiBtZXRyaWMgbWVhc3VyZW1lbnQgZm9yIHRoZSBjYWxsLlxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHJlY29yZEFwcGxpY2F0aW9uVXRpbGl6YXRpb25NZXRyaWModmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlLmFwcGxpY2F0aW9uX3V0aWxpemF0aW9uID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZHMgdGhlIHF1ZXJpZXMgcGVyIHNlY29uZCBtZWFzdXJlbWVudC5cbiAgICAgKiBAcGFyYW0gdmFsdWVcbiAgICAgKi9cbiAgICByZWNvcmRRcHNNZXRyaWModmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlLnJwc19mcmFjdGlvbmFsID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZHMgdGhlIGVycm9ycyBwZXIgc2Vjb25kIG1lYXN1cmVtZW50LlxuICAgICAqIEBwYXJhbSB2YWx1ZVxuICAgICAqL1xuICAgIHJlY29yZEVwc01ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UuZXBzID0gdmFsdWU7XG4gICAgfVxuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgY29uc3Qgb3JjYVByb3RvID0gbG9hZE9yY2FQcm90bygpO1xuICAgICAgICByZXR1cm4gb3JjYVByb3RvLnhkcy5kYXRhLm9yY2EudjMuT3JjYUxvYWRSZXBvcnQuc2VyaWFsaXplKHRoaXMubWVzc2FnZSk7XG4gICAgfVxufVxuZXhwb3J0cy5QZXJSZXF1ZXN0TWV0cmljUmVjb3JkZXIgPSBQZXJSZXF1ZXN0TWV0cmljUmVjb3JkZXI7XG5jb25zdCBERUZBVUxUX1JFUE9SVF9JTlRFUlZBTF9NUyA9IDMwMDAwO1xuY2xhc3MgU2VydmVyTWV0cmljUmVjb3JkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB7fTtcbiAgICAgICAgdGhpcy5zZXJ2aWNlSW1wbGVtZW50YXRpb24gPSB7XG4gICAgICAgICAgICBTdHJlYW1Db3JlTWV0cmljczogY2FsbCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0SW50ZXJ2YWwgPSBjYWxsLnJlcXVlc3QucmVwb3J0X2ludGVydmFsID9cbiAgICAgICAgICAgICAgICAgICAgKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zKSgoMCwgZHVyYXRpb25fMS5kdXJhdGlvbk1lc3NhZ2VUb0R1cmF0aW9uKShjYWxsLnJlcXVlc3QucmVwb3J0X2ludGVydmFsKSkgOlxuICAgICAgICAgICAgICAgICAgICBERUZBVUxUX1JFUE9SVF9JTlRFUlZBTF9NUztcbiAgICAgICAgICAgICAgICBjb25zdCByZXBvcnRUaW1lciA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC53cml0ZSh0aGlzLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0sIHJlcG9ydEludGVydmFsKTtcbiAgICAgICAgICAgICAgICBjYWxsLm9uKCdjYW5jZWxsZWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwocmVwb3J0VGltZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICBwdXRVdGlsaXphdGlvbk1ldHJpYyhuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMubWVzc2FnZS51dGlsaXphdGlvbikge1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlLnV0aWxpemF0aW9uID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXNzYWdlLnV0aWxpemF0aW9uW25hbWVdID0gdmFsdWU7XG4gICAgfVxuICAgIHNldEFsbFV0aWxpemF0aW9uTWV0cmljcyhtZXRyaWNzKSB7XG4gICAgICAgIHRoaXMubWVzc2FnZS51dGlsaXphdGlvbiA9IE9iamVjdC5hc3NpZ24oe30sIG1ldHJpY3MpO1xuICAgIH1cbiAgICBkZWxldGVVdGlsaXphdGlvbk1ldHJpYyhuYW1lKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5tZXNzYWdlLnV0aWxpemF0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdHJ1ZSA6IGRlbGV0ZSBfYVtuYW1lXTtcbiAgICB9XG4gICAgc2V0Q3B1VXRpbGl6YXRpb25NZXRyaWModmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlLmNwdV91dGlsaXphdGlvbiA9IHZhbHVlO1xuICAgIH1cbiAgICBkZWxldGVDcHVVdGlsaXphdGlvbk1ldHJpYygpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMubWVzc2FnZS5jcHVfdXRpbGl6YXRpb247XG4gICAgfVxuICAgIHNldEFwcGxpY2F0aW9uVXRpbGl6YXRpb25NZXRyaWModmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlLmFwcGxpY2F0aW9uX3V0aWxpemF0aW9uID0gdmFsdWU7XG4gICAgfVxuICAgIGRlbGV0ZUFwcGxpY2F0aW9uVXRpbGl6YXRpb25NZXRyaWMoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2UuYXBwbGljYXRpb25fdXRpbGl6YXRpb247XG4gICAgfVxuICAgIHNldFFwc01ldHJpYyh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UucnBzX2ZyYWN0aW9uYWwgPSB2YWx1ZTtcbiAgICB9XG4gICAgZGVsZXRlUXBzTWV0cmljKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5tZXNzYWdlLnJwc19mcmFjdGlvbmFsO1xuICAgIH1cbiAgICBzZXRFcHNNZXRyaWModmFsdWUpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlLmVwcyA9IHZhbHVlO1xuICAgIH1cbiAgICBkZWxldGVFcHNNZXRyaWMoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm1lc3NhZ2UuZXBzO1xuICAgIH1cbiAgICBhZGRUb1NlcnZlcihzZXJ2ZXIpIHtcbiAgICAgICAgY29uc3Qgc2VydmljZURlZmluaXRpb24gPSBsb2FkT3JjYVByb3RvKCkueGRzLnNlcnZpY2Uub3JjYS52My5PcGVuUmNhU2VydmljZS5zZXJ2aWNlO1xuICAgICAgICBzZXJ2ZXIuYWRkU2VydmljZShzZXJ2aWNlRGVmaW5pdGlvbiwgdGhpcy5zZXJ2aWNlSW1wbGVtZW50YXRpb24pO1xuICAgIH1cbn1cbmV4cG9ydHMuU2VydmVyTWV0cmljUmVjb3JkZXIgPSBTZXJ2ZXJNZXRyaWNSZWNvcmRlcjtcbmZ1bmN0aW9uIGNyZWF0ZU9yY2FDbGllbnQoY2hhbm5lbCkge1xuICAgIGNvbnN0IENsaWVudENsYXNzID0gbG9hZE9yY2FQcm90bygpLnhkcy5zZXJ2aWNlLm9yY2EudjMuT3BlblJjYVNlcnZpY2U7XG4gICAgcmV0dXJuIG5ldyBDbGllbnRDbGFzcygndW51c2VkJywgY2hhbm5lbF9jcmVkZW50aWFsc18xLkNoYW5uZWxDcmVkZW50aWFscy5jcmVhdGVJbnNlY3VyZSgpLCB7IGNoYW5uZWxPdmVycmlkZTogY2hhbm5lbCB9KTtcbn1cbmV4cG9ydHMuR1JQQ19NRVRSSUNTX0hFQURFUiA9ICdlbmRwb2ludC1sb2FkLW1ldHJpY3MtYmluJztcbmNvbnN0IFBBUlNFRF9MT0FEX1JFUE9SVF9LRVkgPSAnZ3JwY19vcmNhX2xvYWRfcmVwb3J0Jztcbi8qKlxuICogQ3JlYXRlIGFuIG9uQ2FsbEVuZGVkIGNhbGxiYWNrIGZvciB1c2UgaW4gYSBwaWNrZXIuXG4gKiBAcGFyYW0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIHRvIGhhbmRsZSBtZXRyaWNzLCB3aGVuZXZlciB0aGV5IGFyZSBwcm92aWRlZC5cbiAqIEBwYXJhbSBwcmV2aW91c09uQ2FsbEVuZGVkIFRoZSBwcmV2aW91cyBvbkNhbGxFbmRlZCBjYWxsYmFjayB0byBwcm9wYWdhdGVcbiAqIHRvLCBpZiBhcHBsaWNhYmxlLlxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gY3JlYXRlTWV0cmljc1JlYWRlcihsaXN0ZW5lciwgcHJldmlvdXNPbkNhbGxFbmRlZCkge1xuICAgIHJldHVybiAoY29kZSwgZGV0YWlscywgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgbGV0IHBhcnNlZExvYWRSZXBvcnQgPSBtZXRhZGF0YS5nZXRPcGFxdWUoUEFSU0VEX0xPQURfUkVQT1JUX0tFWSk7XG4gICAgICAgIGlmIChwYXJzZWRMb2FkUmVwb3J0KSB7XG4gICAgICAgICAgICBsaXN0ZW5lcihwYXJzZWRMb2FkUmVwb3J0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWRMb2FkUmVwb3J0ID0gbWV0YWRhdGEuZ2V0KGV4cG9ydHMuR1JQQ19NRVRSSUNTX0hFQURFUik7XG4gICAgICAgICAgICBpZiAoc2VyaWFsaXplZExvYWRSZXBvcnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yY2FQcm90byA9IGxvYWRPcmNhUHJvdG8oKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRMb2FkUmVwb3J0ID0gb3JjYVByb3RvLnhkcy5kYXRhLm9yY2EudjMuT3JjYUxvYWRSZXBvcnQuZGVzZXJpYWxpemUoc2VyaWFsaXplZExvYWRSZXBvcnRbMF0pO1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyKHBhcnNlZExvYWRSZXBvcnQpO1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLnNldE9wYXF1ZShQQVJTRURfTE9BRF9SRVBPUlRfS0VZLCBwYXJzZWRMb2FkUmVwb3J0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldmlvdXNPbkNhbGxFbmRlZCkge1xuICAgICAgICAgICAgcHJldmlvdXNPbkNhbGxFbmRlZChjb2RlLCBkZXRhaWxzLCBtZXRhZGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuY29uc3QgREFUQV9QUk9EVUNFUl9LRVkgPSAnb3JjYV9vb2JfbWV0cmljcyc7XG5jbGFzcyBPb2JNZXRyaWNzRGF0YVdhdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKG1ldHJpY3NMaXN0ZW5lciwgaW50ZXJ2YWxNcykge1xuICAgICAgICB0aGlzLm1ldHJpY3NMaXN0ZW5lciA9IG1ldHJpY3NMaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5pbnRlcnZhbE1zID0gaW50ZXJ2YWxNcztcbiAgICAgICAgdGhpcy5kYXRhUHJvZHVjZXIgPSBudWxsO1xuICAgIH1cbiAgICBzZXRTdWJjaGFubmVsKHN1YmNoYW5uZWwpIHtcbiAgICAgICAgY29uc3QgcHJvZHVjZXIgPSBzdWJjaGFubmVsLmdldE9yQ3JlYXRlRGF0YVByb2R1Y2VyKERBVEFfUFJPRFVDRVJfS0VZLCBjcmVhdGVPb2JNZXRyaWNzRGF0YVByb2R1Y2VyKTtcbiAgICAgICAgdGhpcy5kYXRhUHJvZHVjZXIgPSBwcm9kdWNlcjtcbiAgICAgICAgcHJvZHVjZXIuYWRkRGF0YVdhdGNoZXIodGhpcyk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5kYXRhUHJvZHVjZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZW1vdmVEYXRhV2F0Y2hlcih0aGlzKTtcbiAgICB9XG4gICAgZ2V0SW50ZXJ2YWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVydmFsTXM7XG4gICAgfVxuICAgIG9uTWV0cmljc1VwZGF0ZShtZXRyaWNzKSB7XG4gICAgICAgIHRoaXMubWV0cmljc0xpc3RlbmVyKG1ldHJpY3MpO1xuICAgIH1cbn1cbmNsYXNzIE9vYk1ldHJpY3NEYXRhUHJvZHVjZXIge1xuICAgIGNvbnN0cnVjdG9yKHN1YmNoYW5uZWwpIHtcbiAgICAgICAgdGhpcy5zdWJjaGFubmVsID0gc3ViY2hhbm5lbDtcbiAgICAgICAgdGhpcy5kYXRhV2F0Y2hlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMub3JjYVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubWV0cmljc0NhbGwgPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRJbnRlcnZhbCA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLmJhY2tvZmZUaW1lciA9IG5ldyBiYWNrb2ZmX3RpbWVvdXRfMS5CYWNrb2ZmVGltZW91dCgoKSA9PiB0aGlzLnVwZGF0ZU1ldHJpY3NTdWJzY3JpcHRpb24oKSk7XG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIgPSAoKSA9PiB0aGlzLnVwZGF0ZU1ldHJpY3NTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgY2hhbm5lbCA9IHN1YmNoYW5uZWwuZ2V0Q2hhbm5lbCgpO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNyZWF0ZU9yY2FDbGllbnQoY2hhbm5lbCk7XG4gICAgICAgIHN1YmNoYW5uZWwuYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICB9XG4gICAgYWRkRGF0YVdhdGNoZXIoZGF0YVdhdGNoZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhV2F0Y2hlcnMuYWRkKGRhdGFXYXRjaGVyKTtcbiAgICAgICAgdGhpcy51cGRhdGVNZXRyaWNzU3Vic2NyaXB0aW9uKCk7XG4gICAgfVxuICAgIHJlbW92ZURhdGFXYXRjaGVyKGRhdGFXYXRjaGVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5kYXRhV2F0Y2hlcnMuZGVsZXRlKGRhdGFXYXRjaGVyKTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVdhdGNoZXJzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc3ViY2hhbm5lbC5yZW1vdmVEYXRhUHJvZHVjZXIoREFUQV9QUk9EVUNFUl9LRVkpO1xuICAgICAgICAgICAgKF9hID0gdGhpcy5tZXRyaWNzQ2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5tZXRyaWNzQ2FsbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNsaWVudC5jbG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5zdWJjaGFubmVsLnJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIodGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1ldHJpY3NTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGVNZXRyaWNzU3Vic2NyaXB0aW9uKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmRhdGFXYXRjaGVycy5zaXplID09PSAwIHx8ICF0aGlzLm9yY2FTdXBwb3J0ZWQgfHwgdGhpcy5zdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgIT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3SW50ZXJ2YWwgPSBNYXRoLm1pbiguLi5BcnJheS5mcm9tKHRoaXMuZGF0YVdhdGNoZXJzKS5tYXAod2F0Y2hlciA9PiB3YXRjaGVyLmdldEludGVydmFsKCkpKTtcbiAgICAgICAgaWYgKCF0aGlzLm1ldHJpY3NDYWxsIHx8IG5ld0ludGVydmFsICE9PSB0aGlzLmN1cnJlbnRJbnRlcnZhbCkge1xuICAgICAgICAgICAgKF9hID0gdGhpcy5tZXRyaWNzQ2FsbCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW50ZXJ2YWwgPSBuZXdJbnRlcnZhbDtcbiAgICAgICAgICAgIGNvbnN0IG1ldHJpY3NDYWxsID0gdGhpcy5jbGllbnQuc3RyZWFtQ29yZU1ldHJpY3MoeyByZXBvcnRfaW50ZXJ2YWw6ICgwLCBkdXJhdGlvbl8xLm1zVG9EdXJhdGlvbikobmV3SW50ZXJ2YWwpIH0pO1xuICAgICAgICAgICAgdGhpcy5tZXRyaWNzQ2FsbCA9IG1ldHJpY3NDYWxsO1xuICAgICAgICAgICAgbWV0cmljc0NhbGwub24oJ2RhdGEnLCAocmVwb3J0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhV2F0Y2hlcnMuZm9yRWFjaCh3YXRjaGVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2F0Y2hlci5vbk1ldHJpY3NVcGRhdGUocmVwb3J0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbWV0cmljc0NhbGwub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRyaWNzQ2FsbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3JjYVN1cHBvcnRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuQ0FOQ0VMTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrb2ZmVGltZXIucnVuT25jZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBPcmNhT29iTWV0cmljc1N1YmNoYW5uZWxXcmFwcGVyIGV4dGVuZHMgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMS5CYXNlU3ViY2hhbm5lbFdyYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkLCBtZXRyaWNzTGlzdGVuZXIsIGludGVydmFsTXMpIHtcbiAgICAgICAgc3VwZXIoY2hpbGQpO1xuICAgICAgICB0aGlzLmFkZERhdGFXYXRjaGVyKG5ldyBPb2JNZXRyaWNzRGF0YVdhdGNoZXIobWV0cmljc0xpc3RlbmVyLCBpbnRlcnZhbE1zKSk7XG4gICAgfVxuICAgIGdldFdyYXBwZWRTdWJjaGFubmVsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZDtcbiAgICB9XG59XG5leHBvcnRzLk9yY2FPb2JNZXRyaWNzU3ViY2hhbm5lbFdyYXBwZXIgPSBPcmNhT29iTWV0cmljc1N1YmNoYW5uZWxXcmFwcGVyO1xuZnVuY3Rpb24gY3JlYXRlT29iTWV0cmljc0RhdGFQcm9kdWNlcihzdWJjaGFubmVsKSB7XG4gICAgcmV0dXJuIG5ldyBPb2JNZXRyaWNzRGF0YVByb2R1Y2VyKHN1YmNoYW5uZWwpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3JjYS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNCBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNlU2VydmVySW50ZXJjZXB0aW5nQ2FsbCA9IGV4cG9ydHMuU2VydmVySW50ZXJjZXB0aW5nQ2FsbCA9IGV4cG9ydHMuUmVzcG9uZGVyQnVpbGRlciA9IGV4cG9ydHMuU2VydmVyTGlzdGVuZXJCdWlsZGVyID0gdm9pZCAwO1xuZXhwb3J0cy5pc0ludGVyY2VwdGluZ1NlcnZlckxpc3RlbmVyID0gaXNJbnRlcmNlcHRpbmdTZXJ2ZXJMaXN0ZW5lcjtcbmV4cG9ydHMuZ2V0U2VydmVySW50ZXJjZXB0aW5nQ2FsbCA9IGdldFNlcnZlckludGVyY2VwdGluZ0NhbGw7XG5jb25zdCBtZXRhZGF0YV8xID0gcmVxdWlyZShcIi4vbWV0YWRhdGFcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGh0dHAyID0gcmVxdWlyZShcImh0dHAyXCIpO1xuY29uc3QgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuY29uc3QgemxpYiA9IHJlcXVpcmUoXCJ6bGliXCIpO1xuY29uc3Qgc3RyZWFtX2RlY29kZXJfMSA9IHJlcXVpcmUoXCIuL3N0cmVhbS1kZWNvZGVyXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCB0bHNfMSA9IHJlcXVpcmUoXCJ0bHNcIik7XG5jb25zdCBvcmNhXzEgPSByZXF1aXJlKFwiLi9vcmNhXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnc2VydmVyX2NhbGwnO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jbGFzcyBTZXJ2ZXJMaXN0ZW5lckJ1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGFsZkNsb3NlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNhbmNlbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgd2l0aE9uUmVjZWl2ZU1ldGFkYXRhKG9uUmVjZWl2ZU1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvblJlY2VpdmVNZXRhZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVNZXNzYWdlKG9uUmVjZWl2ZU1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gb25SZWNlaXZlTWVzc2FnZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhPblJlY2VpdmVIYWxmQ2xvc2Uob25SZWNlaXZlSGFsZkNsb3NlKSB7XG4gICAgICAgIHRoaXMuaGFsZkNsb3NlID0gb25SZWNlaXZlSGFsZkNsb3NlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2l0aE9uQ2FuY2VsKG9uQ2FuY2VsKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsID0gb25DYW5jZWw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBidWlsZCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiB0aGlzLm1ldGFkYXRhLFxuICAgICAgICAgICAgb25SZWNlaXZlTWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICAgICAgb25SZWNlaXZlSGFsZkNsb3NlOiB0aGlzLmhhbGZDbG9zZSxcbiAgICAgICAgICAgIG9uQ2FuY2VsOiB0aGlzLmNhbmNlbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlckxpc3RlbmVyQnVpbGRlciA9IFNlcnZlckxpc3RlbmVyQnVpbGRlcjtcbmZ1bmN0aW9uIGlzSW50ZXJjZXB0aW5nU2VydmVyTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICByZXR1cm4gKGxpc3RlbmVyLm9uUmVjZWl2ZU1ldGFkYXRhICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgbGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEubGVuZ3RoID09PSAxKTtcbn1cbmNsYXNzIEludGVyY2VwdGluZ1NlcnZlckxpc3RlbmVySW1wbCB7XG4gICAgY29uc3RydWN0b3IobGlzdGVuZXIsIG5leHRMaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMubmV4dExpc3RlbmVyID0gbmV4dExpc3RlbmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogT25jZSB0aGUgY2FsbCBpcyBjYW5jZWxsZWQsIGlnbm9yZSBhbGwgb3RoZXIgZXZlbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc1BlbmRpbmdIYWxmQ2xvc2UgPSBmYWxzZTtcbiAgICB9XG4gICAgcHJvY2Vzc1BlbmRpbmdNZXNzYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNQZW5kaW5nTWVzc2FnZSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSh0aGlzLnBlbmRpbmdNZXNzYWdlKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByb2Nlc3NQZW5kaW5nSGFsZkNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNQZW5kaW5nSGFsZkNsb3NlKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRMaXN0ZW5lci5vblJlY2VpdmVIYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ0hhbGZDbG9zZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uUmVjZWl2ZU1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSwgaW50ZXJjZXB0ZWRNZXRhZGF0YSA9PiB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEoaW50ZXJjZXB0ZWRNZXRhZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nTWVzc2FnZSgpO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ0hhbGZDbG9zZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSB0cnVlO1xuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSwgbXNnID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBtc2c7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNQZW5kaW5nTWVzc2FnZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRMaXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG1zZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzUGVuZGluZ0hhbGZDbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgb25SZWNlaXZlSGFsZkNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxpc3RlbmVyLm9uUmVjZWl2ZUhhbGZDbG9zZSgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9jZXNzaW5nTWV0YWRhdGEgfHwgdGhpcy5wcm9jZXNzaW5nTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzUGVuZGluZ0hhbGZDbG9zZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRMaXN0ZW5lci5vblJlY2VpdmVIYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uQ2FuY2VsKCkge1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubGlzdGVuZXIub25DYW5jZWwoKTtcbiAgICAgICAgdGhpcy5uZXh0TGlzdGVuZXIub25DYW5jZWwoKTtcbiAgICB9XG59XG5jbGFzcyBSZXNwb25kZXJCdWlsZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgd2l0aFN0YXJ0KHN0YXJ0KSB7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGhTZW5kTWV0YWRhdGEoc2VuZE1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBzZW5kTWV0YWRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoU2VuZE1lc3NhZ2Uoc2VuZE1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gc2VuZE1lc3NhZ2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoU2VuZFN0YXR1cyhzZW5kU3RhdHVzKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc2VuZFN0YXR1cztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGJ1aWxkKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnQ6IHRoaXMuc3RhcnQsXG4gICAgICAgICAgICBzZW5kTWV0YWRhdGE6IHRoaXMubWV0YWRhdGEsXG4gICAgICAgICAgICBzZW5kTWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgICAgICAgICAgc2VuZFN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5SZXNwb25kZXJCdWlsZGVyID0gUmVzcG9uZGVyQnVpbGRlcjtcbmNvbnN0IGRlZmF1bHRTZXJ2ZXJMaXN0ZW5lciA9IHtcbiAgICBvblJlY2VpdmVNZXRhZGF0YTogKG1ldGFkYXRhLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWV0YWRhdGEpO1xuICAgIH0sXG4gICAgb25SZWNlaXZlTWVzc2FnZTogKG1lc3NhZ2UsIG5leHQpID0+IHtcbiAgICAgICAgbmV4dChtZXNzYWdlKTtcbiAgICB9LFxuICAgIG9uUmVjZWl2ZUhhbGZDbG9zZTogbmV4dCA9PiB7XG4gICAgICAgIG5leHQoKTtcbiAgICB9LFxuICAgIG9uQ2FuY2VsOiAoKSA9PiB7IH0sXG59O1xuY29uc3QgZGVmYXVsdFJlc3BvbmRlciA9IHtcbiAgICBzdGFydDogbmV4dCA9PiB7XG4gICAgICAgIG5leHQoKTtcbiAgICB9LFxuICAgIHNlbmRNZXRhZGF0YTogKG1ldGFkYXRhLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWV0YWRhdGEpO1xuICAgIH0sXG4gICAgc2VuZE1lc3NhZ2U6IChtZXNzYWdlLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQobWVzc2FnZSk7XG4gICAgfSxcbiAgICBzZW5kU3RhdHVzOiAoc3RhdHVzLCBuZXh0KSA9PiB7XG4gICAgICAgIG5leHQoc3RhdHVzKTtcbiAgICB9LFxufTtcbmNsYXNzIFNlcnZlckludGVyY2VwdGluZ0NhbGwge1xuICAgIGNvbnN0cnVjdG9yKG5leHRDYWxsLCByZXNwb25kZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICB0aGlzLm5leHRDYWxsID0gbmV4dENhbGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc2VudE1ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZSA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2VDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMucGVuZGluZ1N0YXR1cyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzcG9uZGVyID0ge1xuICAgICAgICAgICAgc3RhcnQ6IChfYSA9IHJlc3BvbmRlciA9PT0gbnVsbCB8fCByZXNwb25kZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3BvbmRlci5zdGFydCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVmYXVsdFJlc3BvbmRlci5zdGFydCxcbiAgICAgICAgICAgIHNlbmRNZXRhZGF0YTogKF9iID0gcmVzcG9uZGVyID09PSBudWxsIHx8IHJlc3BvbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uZGVyLnNlbmRNZXRhZGF0YSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdFJlc3BvbmRlci5zZW5kTWV0YWRhdGEsXG4gICAgICAgICAgICBzZW5kTWVzc2FnZTogKF9jID0gcmVzcG9uZGVyID09PSBudWxsIHx8IHJlc3BvbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uZGVyLnNlbmRNZXNzYWdlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0UmVzcG9uZGVyLnNlbmRNZXNzYWdlLFxuICAgICAgICAgICAgc2VuZFN0YXR1czogKF9kID0gcmVzcG9uZGVyID09PSBudWxsIHx8IHJlc3BvbmRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzcG9uZGVyLnNlbmRTdGF0dXMpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRSZXNwb25kZXIuc2VuZFN0YXR1cyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcHJvY2Vzc1BlbmRpbmdNZXNzYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTWVzc2FnZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRNZXNzYWdlKHRoaXMucGVuZGluZ01lc3NhZ2UsIHRoaXMucGVuZGluZ01lc3NhZ2VDYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdNZXNzYWdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2VDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvY2Vzc1BlbmRpbmdTdGF0dXMoKSB7XG4gICAgICAgIGlmICh0aGlzLnBlbmRpbmdTdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dENhbGwuc2VuZFN0YXR1cyh0aGlzLnBlbmRpbmdTdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnJlc3BvbmRlci5zdGFydChpbnRlcmNlcHRlZExpc3RlbmVyID0+IHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgIGNvbnN0IGZ1bGxJbnRlcmNlcHRlZExpc3RlbmVyID0ge1xuICAgICAgICAgICAgICAgIG9uUmVjZWl2ZU1ldGFkYXRhOiAoX2EgPSBpbnRlcmNlcHRlZExpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGVkTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGVkTGlzdGVuZXIub25SZWNlaXZlTWV0YWRhdGEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGRlZmF1bHRTZXJ2ZXJMaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBvblJlY2VpdmVNZXNzYWdlOiAoX2IgPSBpbnRlcmNlcHRlZExpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGVkTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGVkTGlzdGVuZXIub25SZWNlaXZlTWVzc2FnZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogZGVmYXVsdFNlcnZlckxpc3RlbmVyLm9uUmVjZWl2ZU1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgb25SZWNlaXZlSGFsZkNsb3NlOiAoX2MgPSBpbnRlcmNlcHRlZExpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGVkTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGVkTGlzdGVuZXIub25SZWNlaXZlSGFsZkNsb3NlKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBkZWZhdWx0U2VydmVyTGlzdGVuZXIub25SZWNlaXZlSGFsZkNsb3NlLFxuICAgICAgICAgICAgICAgIG9uQ2FuY2VsOiAoX2QgPSBpbnRlcmNlcHRlZExpc3RlbmVyID09PSBudWxsIHx8IGludGVyY2VwdGVkTGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGludGVyY2VwdGVkTGlzdGVuZXIub25DYW5jZWwpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRTZXJ2ZXJMaXN0ZW5lci5vbkNhbmNlbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyID0gbmV3IEludGVyY2VwdGluZ1NlcnZlckxpc3RlbmVySW1wbChmdWxsSW50ZXJjZXB0ZWRMaXN0ZW5lciwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbC5zdGFydChmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbmRNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2VudE1ldGFkYXRhID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZXNwb25kZXIuc2VuZE1ldGFkYXRhKG1ldGFkYXRhLCBpbnRlcmNlcHRlZE1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZ01ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRNZXRhZGF0YShpbnRlcmNlcHRlZE1ldGFkYXRhKTtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc1BlbmRpbmdNZXNzYWdlKCk7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NQZW5kaW5nU3RhdHVzKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlID0gdHJ1ZTtcbiAgICAgICAgaWYgKCF0aGlzLnNlbnRNZXRhZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kTWV0YWRhdGEobmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNwb25kZXIuc2VuZE1lc3NhZ2UobWVzc2FnZSwgaW50ZXJjZXB0ZWRNZXNzYWdlID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvY2Vzc2luZ01lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ01lc3NhZ2UgPSBpbnRlcmNlcHRlZE1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWVzc2FnZUNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRNZXNzYWdlKGludGVyY2VwdGVkTWVzc2FnZSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZFN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5yZXNwb25kZXIuc2VuZFN0YXR1cyhzdGF0dXMsIGludGVyY2VwdGVkU3RhdHVzID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByb2Nlc3NpbmdNZXRhZGF0YSB8fCB0aGlzLnByb2Nlc3NpbmdNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nU3RhdHVzID0gaW50ZXJjZXB0ZWRTdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRDYWxsLnNlbmRTdGF0dXMoaW50ZXJjZXB0ZWRTdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhcnRSZWFkKCkge1xuICAgICAgICB0aGlzLm5leHRDYWxsLnN0YXJ0UmVhZCgpO1xuICAgIH1cbiAgICBnZXRQZWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2FsbC5nZXRQZWVyKCk7XG4gICAgfVxuICAgIGdldERlYWRsaW5lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2FsbC5nZXREZWFkbGluZSgpO1xuICAgIH1cbiAgICBnZXRIb3N0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2FsbC5nZXRIb3N0KCk7XG4gICAgfVxuICAgIGdldEF1dGhDb250ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2FsbC5nZXRBdXRoQ29udGV4dCgpO1xuICAgIH1cbiAgICBnZXRDb25uZWN0aW9uSW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dENhbGwuZ2V0Q29ubmVjdGlvbkluZm8oKTtcbiAgICB9XG4gICAgZ2V0TWV0cmljc1JlY29yZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0Q2FsbC5nZXRNZXRyaWNzUmVjb3JkZXIoKTtcbiAgICB9XG59XG5leHBvcnRzLlNlcnZlckludGVyY2VwdGluZ0NhbGwgPSBTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsO1xuY29uc3QgR1JQQ19BQ0NFUFRfRU5DT0RJTkdfSEVBREVSID0gJ2dycGMtYWNjZXB0LWVuY29kaW5nJztcbmNvbnN0IEdSUENfRU5DT0RJTkdfSEVBREVSID0gJ2dycGMtZW5jb2RpbmcnO1xuY29uc3QgR1JQQ19NRVNTQUdFX0hFQURFUiA9ICdncnBjLW1lc3NhZ2UnO1xuY29uc3QgR1JQQ19TVEFUVVNfSEVBREVSID0gJ2dycGMtc3RhdHVzJztcbmNvbnN0IEdSUENfVElNRU9VVF9IRUFERVIgPSAnZ3JwYy10aW1lb3V0JztcbmNvbnN0IERFQURMSU5FX1JFR0VYID0gLyhcXGR7MSw4fSlcXHMqKFtITVNtdW5dKS87XG5jb25zdCBkZWFkbGluZVVuaXRzVG9NcyA9IHtcbiAgICBIOiAzNjAwMDAwLFxuICAgIE06IDYwMDAwLFxuICAgIFM6IDEwMDAsXG4gICAgbTogMSxcbiAgICB1OiAwLjAwMSxcbiAgICBuOiAwLjAwMDAwMSxcbn07XG5jb25zdCBkZWZhdWx0Q29tcHJlc3Npb25IZWFkZXJzID0ge1xuICAgIC8vIFRPRE8oY2ppaHJpZyk6IFJlbW92ZSB0aGVzZSBlbmNvZGluZyBoZWFkZXJzIGZyb20gdGhlIGRlZmF1bHQgcmVzcG9uc2VcbiAgICAvLyBvbmNlIGNvbXByZXNzaW9uIGlzIGludGVncmF0ZWQuXG4gICAgW0dSUENfQUNDRVBUX0VOQ09ESU5HX0hFQURFUl06ICdpZGVudGl0eSxkZWZsYXRlLGd6aXAnLFxuICAgIFtHUlBDX0VOQ09ESU5HX0hFQURFUl06ICdpZGVudGl0eScsXG59O1xuY29uc3QgZGVmYXVsdFJlc3BvbnNlSGVhZGVycyA9IHtcbiAgICBbaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9TVEFUVVNdOiBodHRwMi5jb25zdGFudHMuSFRUUF9TVEFUVVNfT0ssXG4gICAgW2h0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfQ09OVEVOVF9UWVBFXTogJ2FwcGxpY2F0aW9uL2dycGMrcHJvdG8nLFxufTtcbmNvbnN0IGRlZmF1bHRSZXNwb25zZU9wdGlvbnMgPSB7XG4gICAgd2FpdEZvclRyYWlsZXJzOiB0cnVlLFxufTtcbmNsYXNzIEJhc2VTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihzdHJlYW0sIGhlYWRlcnMsIGNhbGxFdmVudFRyYWNrZXIsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5zdHJlYW0gPSBzdHJlYW07XG4gICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlciA9IGNhbGxFdmVudFRyYWNrZXI7XG4gICAgICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYWRsaW5lVGltZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmRlYWRsaW5lID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4U2VuZE1lc3NhZ2VTaXplID0gY29uc3RhbnRzXzEuREVGQVVMVF9NQVhfU0VORF9NRVNTQUdFX0xFTkdUSDtcbiAgICAgICAgdGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUgPSBjb25zdGFudHNfMS5ERUZBVUxUX01BWF9SRUNFSVZFX01FU1NBR0VfTEVOR1RIO1xuICAgICAgICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1ldGFkYXRhU2VudCA9IGZhbHNlO1xuICAgICAgICB0aGlzLndhbnRUcmFpbGVycyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbmNlbE5vdGlmaWVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5jb21pbmdFbmNvZGluZyA9ICdpZGVudGl0eSc7XG4gICAgICAgIHRoaXMucmVhZFF1ZXVlID0gW107XG4gICAgICAgIHRoaXMuaXNSZWFkUGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJlY2VpdmVkSGFsZkNsb3NlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RyZWFtRW5kZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZXRyaWNzUmVjb3JkZXIgPSBuZXcgb3JjYV8xLlBlclJlcXVlc3RNZXRyaWNSZWNvcmRlcigpO1xuICAgICAgICB0aGlzLnN0cmVhbS5vbmNlKCdlcnJvcicsIChlcnIpID0+IHtcbiAgICAgICAgICAgIC8qIFdlIG5lZWQgYW4gZXJyb3IgaGFuZGxlciB0byBhdm9pZCB1bmNhdWdodCBlcnJvciBldmVudCBleGNlcHRpb25zLCBidXRcbiAgICAgICAgICAgICAqIHRoZXJlIGlzIG5vdGhpbmcgd2UgY2FuIHJlYXNvbmFibHkgZG8gaGVyZS4gQW55IGVycm9yIGV2ZW50IHNob3VsZFxuICAgICAgICAgICAgICogaGF2ZSBhIGNvcnJlc3BvbmRpbmcgY2xvc2UgZXZlbnQsIHdoaWNoIGhhbmRsZXMgZW1pdHRpbmcgdGhlIGNhbmNlbGxlZFxuICAgICAgICAgICAgICogZXZlbnQuIEFuZCB0aGUgc3RyZWFtIGlzIG5vdyBpbiBhIGJhZCBzdGF0ZSwgc28gd2UgY2FuJ3QgcmVhc29uYWJseVxuICAgICAgICAgICAgICogZXhwZWN0IHRvIGJlIGFibGUgdG8gc2VuZCBhbiBlcnJvciBvdmVyIGl0LiAqL1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdHJlYW0ub25jZSgnY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byBtZXRob2QgJyArXG4gICAgICAgICAgICAgICAgKChfYSA9IHRoaXMuaGFuZGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnBhdGgpICtcbiAgICAgICAgICAgICAgICAnIHN0cmVhbSBjbG9zZWQgd2l0aCByc3RDb2RlICcgK1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLnJzdENvZGUpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FsbEV2ZW50VHJhY2tlciAmJiAhdGhpcy5zdHJlYW1FbmRlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtRW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbEV2ZW50VHJhY2tlci5vblN0cmVhbUVuZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uQ2FsbEVuZCh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5DQU5DRUxMRUQsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6ICdTdHJlYW0gY2xvc2VkIGJlZm9yZSBzZW5kaW5nIHN0YXR1cycsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ub3RpZnlPbkNhbmNlbCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zdHJlYW0ub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVEYXRhRnJhbWUoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0cmVhbS5wYXVzZSgpO1xuICAgICAgICB0aGlzLnN0cmVhbS5vbignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVFbmRFdmVudCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCdncnBjLm1heF9zZW5kX21lc3NhZ2VfbGVuZ3RoJyBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm1heFNlbmRNZXNzYWdlU2l6ZSA9IG9wdGlvbnNbJ2dycGMubWF4X3NlbmRfbWVzc2FnZV9sZW5ndGgnXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2dycGMubWF4X3JlY2VpdmVfbWVzc2FnZV9sZW5ndGgnIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplID0gb3B0aW9uc1snZ3JwYy5tYXhfcmVjZWl2ZV9tZXNzYWdlX2xlbmd0aCddO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaG9zdCA9IChfYSA9IGhlYWRlcnNbJzphdXRob3JpdHknXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogaGVhZGVycy5ob3N0O1xuICAgICAgICB0aGlzLmRlY29kZXIgPSBuZXcgc3RyZWFtX2RlY29kZXJfMS5TdHJlYW1EZWNvZGVyKHRoaXMubWF4UmVjZWl2ZU1lc3NhZ2VTaXplKTtcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBtZXRhZGF0YV8xLk1ldGFkYXRhLmZyb21IdHRwMkhlYWRlcnMoaGVhZGVycyk7XG4gICAgICAgIGlmIChsb2dnaW5nLmlzVHJhY2VyRW5hYmxlZChUUkFDRVJfTkFNRSkpIHtcbiAgICAgICAgICAgIHRyYWNlKCdSZXF1ZXN0IHRvICcgK1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlci5wYXRoICtcbiAgICAgICAgICAgICAgICAnIHJlY2VpdmVkIGhlYWRlcnMgJyArXG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEudG9KU09OKCkpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lb3V0SGVhZGVyID0gbWV0YWRhdGEuZ2V0KEdSUENfVElNRU9VVF9IRUFERVIpO1xuICAgICAgICBpZiAodGltZW91dEhlYWRlci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVRpbWVvdXRIZWFkZXIodGltZW91dEhlYWRlclswXSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW5jb2RpbmdIZWFkZXIgPSBtZXRhZGF0YS5nZXQoR1JQQ19FTkNPRElOR19IRUFERVIpO1xuICAgICAgICBpZiAoZW5jb2RpbmdIZWFkZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5pbmNvbWluZ0VuY29kaW5nID0gZW5jb2RpbmdIZWFkZXJbMF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVtb3ZlIHNldmVyYWwgaGVhZGVycyB0aGF0IHNob3VsZCBub3QgYmUgcHJvcGFnYXRlZCB0byB0aGUgYXBwbGljYXRpb25cbiAgICAgICAgbWV0YWRhdGEucmVtb3ZlKEdSUENfVElNRU9VVF9IRUFERVIpO1xuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoR1JQQ19FTkNPRElOR19IRUFERVIpO1xuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoR1JQQ19BQ0NFUFRfRU5DT0RJTkdfSEVBREVSKTtcbiAgICAgICAgbWV0YWRhdGEucmVtb3ZlKGh0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfQUNDRVBUX0VOQ09ESU5HKTtcbiAgICAgICAgbWV0YWRhdGEucmVtb3ZlKGh0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfVEUpO1xuICAgICAgICBtZXRhZGF0YS5yZW1vdmUoaHR0cDIuY29uc3RhbnRzLkhUVFAyX0hFQURFUl9DT05URU5UX1RZUEUpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IChfYiA9IHN0cmVhbS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc29ja2V0O1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25JbmZvID0ge1xuICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBzb2NrZXQgPT09IG51bGwgfHwgc29ja2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb2NrZXQubG9jYWxBZGRyZXNzLFxuICAgICAgICAgICAgbG9jYWxQb3J0OiBzb2NrZXQgPT09IG51bGwgfHwgc29ja2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb2NrZXQubG9jYWxQb3J0LFxuICAgICAgICAgICAgcmVtb3RlQWRkcmVzczogc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LnJlbW90ZUFkZHJlc3MsXG4gICAgICAgICAgICByZW1vdGVQb3J0OiBzb2NrZXQgPT09IG51bGwgfHwgc29ja2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb2NrZXQucmVtb3RlUG9ydFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNob3VsZFNlbmRNZXRyaWNzID0gISFvcHRpb25zWydncnBjLnNlcnZlcl9jYWxsX21ldHJpY19yZWNvcmRpbmcnXTtcbiAgICB9XG4gICAgaGFuZGxlVGltZW91dEhlYWRlcih0aW1lb3V0SGVhZGVyKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gdGltZW91dEhlYWRlci50b1N0cmluZygpLm1hdGNoKERFQURMSU5FX1JFR0VYKTtcbiAgICAgICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSB7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBJbnZhbGlkICR7R1JQQ19USU1FT1VUX0hFQURFUn0gdmFsdWUgXCIke3RpbWVvdXRIZWFkZXJ9XCJgLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBjb25zdHJ1Y3RvciB0byBjb21wbGV0ZSBiZWZvcmUgc2VuZGluZyB0aGUgZXJyb3IuXG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSAoK21hdGNoWzFdICogZGVhZGxpbmVVbml0c1RvTXNbbWF0Y2hbMl1dKSB8IDA7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuZGVhZGxpbmUgPSBub3cuc2V0TWlsbGlzZWNvbmRzKG5vdy5nZXRNaWxsaXNlY29uZHMoKSArIHRpbWVvdXQpO1xuICAgICAgICB0aGlzLmRlYWRsaW5lVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuREVBRExJTkVfRVhDRUVERUQsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogJ0RlYWRsaW5lIGV4Y2VlZGVkJyxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNlbmRTdGF0dXMoc3RhdHVzKTtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgfVxuICAgIGNoZWNrQ2FuY2VsbGVkKCkge1xuICAgICAgICAvKiBJbiBzb21lIGNhc2VzIHRoZSBzdHJlYW0gY2FuIGJlY29tZSBkZXN0cm95ZWQgYmVmb3JlIHRoZSBjbG9zZSBldmVudFxuICAgICAgICAgKiBmaXJlcy4gVGhhdCBjcmVhdGVzIGEgcmFjZSBjb25kaXRpb24gdGhhdCB0aGlzIGNoZWNrIHdvcmtzIGFyb3VuZCAqL1xuICAgICAgICBpZiAoIXRoaXMuY2FuY2VsbGVkICYmICh0aGlzLnN0cmVhbS5kZXN0cm95ZWQgfHwgdGhpcy5zdHJlYW0uY2xvc2VkKSkge1xuICAgICAgICAgICAgdGhpcy5ub3RpZnlPbkNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNhbmNlbGxlZDtcbiAgICB9XG4gICAgbm90aWZ5T25DYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbmNlbE5vdGlmaWVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYW5jZWxOb3RpZmllZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljaygoKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmxpc3RlbmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub25DYW5jZWwoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmRlYWRsaW5lVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRlYWRsaW5lVGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZsdXNoIGluY29taW5nIGRhdGEgZnJhbWVzXG4gICAgICAgIHRoaXMuc3RyZWFtLnJlc3VtZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNlcnZlciBoYW5kbGVyIGNhbiBzdGFydCBzZW5kaW5nIG1lc3NhZ2VzIHdpdGhvdXQgZXhwbGljaXRseSBzZW5kaW5nXG4gICAgICogbWV0YWRhdGEuIEluIHRoYXQgY2FzZSwgd2UgbmVlZCB0byBzZW5kIGhlYWRlcnMgYmVmb3JlIHNlbmRpbmcgYW55XG4gICAgICogbWVzc2FnZXMuIFRoaXMgZnVuY3Rpb24gZG9lcyB0aGF0IGlmIG5lY2Vzc2FyeS5cbiAgICAgKi9cbiAgICBtYXliZVNlbmRNZXRhZGF0YSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhU2VudCkge1xuICAgICAgICAgICAgdGhpcy5zZW5kTWV0YWRhdGEobmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VyaWFsaXplIGEgbWVzc2FnZSB0byBhIGxlbmd0aC1kZWxpbWl0ZWQgYnl0ZSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHZhbHVlXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBzZXJpYWxpemVNZXNzYWdlKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VCdWZmZXIgPSB0aGlzLmhhbmRsZXIuc2VyaWFsaXplKHZhbHVlKTtcbiAgICAgICAgY29uc3QgYnl0ZUxlbmd0aCA9IG1lc3NhZ2VCdWZmZXIuYnl0ZUxlbmd0aDtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gQnVmZmVyLmFsbG9jVW5zYWZlKGJ5dGVMZW5ndGggKyA1KTtcbiAgICAgICAgLyogTm90ZTogcmVzcG9uc2UgY29tcHJlc3Npb24gaXMgY3VycmVudGx5IG5vdCBzdXBwb3J0ZWQsIHNvIHRoaXNcbiAgICAgICAgICogY29tcHJlc3NlZCBiaXQgaXMgYWx3YXlzIDAuICovXG4gICAgICAgIG91dHB1dC53cml0ZVVJbnQ4KDAsIDApO1xuICAgICAgICBvdXRwdXQud3JpdGVVSW50MzJCRShieXRlTGVuZ3RoLCAxKTtcbiAgICAgICAgbWVzc2FnZUJ1ZmZlci5jb3B5KG91dHB1dCwgNSk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuICAgIGRlY29tcHJlc3NNZXNzYWdlKG1lc3NhZ2UsIGVuY29kaW5nKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VDb250ZW50cyA9IG1lc3NhZ2Uuc3ViYXJyYXkoNSk7XG4gICAgICAgIGlmIChlbmNvZGluZyA9PT0gJ2lkZW50aXR5Jykge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2VDb250ZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbmNvZGluZyA9PT0gJ2RlZmxhdGUnIHx8IGVuY29kaW5nID09PSAnZ3ppcCcpIHtcbiAgICAgICAgICAgIGxldCBkZWNvbXByZXNzZXI7XG4gICAgICAgICAgICBpZiAoZW5jb2RpbmcgPT09ICdkZWZsYXRlJykge1xuICAgICAgICAgICAgICAgIGRlY29tcHJlc3NlciA9IHpsaWIuY3JlYXRlSW5mbGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVjb21wcmVzc2VyID0gemxpYi5jcmVhdGVHdW56aXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlUGFydHMgPSBbXTtcbiAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZVBhcnRzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICB0b3RhbExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUgIT09IC0xICYmIHRvdGFsTGVuZ3RoID4gdGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29tcHJlc3Nlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5SRVNPVVJDRV9FWEhBVVNURUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIG1lc3NhZ2UgdGhhdCBkZWNvbXByZXNzZXMgdG8gYSBzaXplIGxhcmdlciB0aGFuICR7dGhpcy5tYXhSZWNlaXZlTWVzc2FnZVNpemV9YFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkZWNvbXByZXNzZXIub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShCdWZmZXIuY29uY2F0KG1lc3NhZ2VQYXJ0cykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRlY29tcHJlc3Nlci53cml0ZShtZXNzYWdlQ29udGVudHMpO1xuICAgICAgICAgICAgICAgIGRlY29tcHJlc3Nlci5lbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgbWVzc2FnZSBjb21wcmVzc2VkIHdpdGggdW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2VuY29kaW5nfVwiYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGRlY29tcHJlc3NBbmRNYXliZVB1c2gocXVldWVFbnRyeSkge1xuICAgICAgICBpZiAocXVldWVFbnRyeS50eXBlICE9PSAnQ09NUFJFU1NFRCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBxdWV1ZSBlbnRyeSB0eXBlOiAke3F1ZXVlRW50cnkudHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb21wcmVzc2VkID0gcXVldWVFbnRyeS5jb21wcmVzc2VkTWVzc2FnZS5yZWFkVUludDgoMCkgPT09IDE7XG4gICAgICAgIGNvbnN0IGNvbXByZXNzZWRNZXNzYWdlRW5jb2RpbmcgPSBjb21wcmVzc2VkXG4gICAgICAgICAgICA/IHRoaXMuaW5jb21pbmdFbmNvZGluZ1xuICAgICAgICAgICAgOiAnaWRlbnRpdHknO1xuICAgICAgICBsZXQgZGVjb21wcmVzc2VkTWVzc2FnZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlY29tcHJlc3NlZE1lc3NhZ2UgPSBhd2FpdCB0aGlzLmRlY29tcHJlc3NNZXNzYWdlKHF1ZXVlRW50cnkuY29tcHJlc3NlZE1lc3NhZ2UsIGNvbXByZXNzZWRNZXNzYWdlRW5jb2RpbmcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyhlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBxdWV1ZUVudHJ5LnBhcnNlZE1lc3NhZ2UgPSB0aGlzLmhhbmRsZXIuZGVzZXJpYWxpemUoZGVjb21wcmVzc2VkTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuSU5URVJOQUwsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogYEVycm9yIGRlc2VyaWFsaXppbmcgcmVxdWVzdDogJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVFbnRyeS50eXBlID0gJ1JFQURBQkxFJztcbiAgICAgICAgdGhpcy5tYXliZVB1c2hOZXh0TWVzc2FnZSgpO1xuICAgIH1cbiAgICBtYXliZVB1c2hOZXh0TWVzc2FnZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubGlzdGVuZXIgJiZcbiAgICAgICAgICAgIHRoaXMuaXNSZWFkUGVuZGluZyAmJlxuICAgICAgICAgICAgdGhpcy5yZWFkUXVldWUubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgdGhpcy5yZWFkUXVldWVbMF0udHlwZSAhPT0gJ0NPTVBSRVNTRUQnKSB7XG4gICAgICAgICAgICB0aGlzLmlzUmVhZFBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRRdWV1ZUVudHJ5ID0gdGhpcy5yZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChuZXh0UXVldWVFbnRyeS50eXBlID09PSAnUkVBREFCTEUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVNZXNzYWdlKG5leHRRdWV1ZUVudHJ5LnBhcnNlZE1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbmV4dFF1ZXVlRW50cnkudHlwZSA9PT0gJ0hBTEZfQ0xPU0UnXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lci5vblJlY2VpdmVIYWxmQ2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVEYXRhRnJhbWUoZGF0YSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlci5wYXRoICtcbiAgICAgICAgICAgICcgcmVjZWl2ZWQgZGF0YSBmcmFtZSBvZiBzaXplICcgK1xuICAgICAgICAgICAgZGF0YS5sZW5ndGgpO1xuICAgICAgICBsZXQgcmF3TWVzc2FnZXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByYXdNZXNzYWdlcyA9IHRoaXMuZGVjb2Rlci53cml0ZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHsgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRCwgZGV0YWlsczogZS5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZUJ5dGVzIG9mIHJhd01lc3NhZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbS5wYXVzZSgpO1xuICAgICAgICAgICAgY29uc3QgcXVldWVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnQ09NUFJFU1NFRCcsXG4gICAgICAgICAgICAgICAgY29tcHJlc3NlZE1lc3NhZ2U6IG1lc3NhZ2VCeXRlcyxcbiAgICAgICAgICAgICAgICBwYXJzZWRNZXNzYWdlOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucmVhZFF1ZXVlLnB1c2gocXVldWVFbnRyeSk7XG4gICAgICAgICAgICB0aGlzLmRlY29tcHJlc3NBbmRNYXliZVB1c2gocXVldWVFbnRyeSk7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLmNhbGxFdmVudFRyYWNrZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5hZGRNZXNzYWdlUmVjZWl2ZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoYW5kbGVFbmRFdmVudCgpIHtcbiAgICAgICAgdGhpcy5yZWFkUXVldWUucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiAnSEFMRl9DTE9TRScsXG4gICAgICAgICAgICBjb21wcmVzc2VkTWVzc2FnZTogbnVsbCxcbiAgICAgICAgICAgIHBhcnNlZE1lc3NhZ2U6IG51bGwsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlY2VpdmVkSGFsZkNsb3NlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5tYXliZVB1c2hOZXh0TWVzc2FnZSgpO1xuICAgIH1cbiAgICBzdGFydChsaXN0ZW5lcikge1xuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICsgdGhpcy5oYW5kbGVyLnBhdGggKyAnIHN0YXJ0IGNhbGxlZCcpO1xuICAgICAgICBpZiAodGhpcy5jaGVja0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgICAgICBsaXN0ZW5lci5vblJlY2VpdmVNZXRhZGF0YSh0aGlzLm1ldGFkYXRhKTtcbiAgICB9XG4gICAgc2VuZE1ldGFkYXRhKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YVNlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1ldGFkYXRhU2VudCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGN1c3RvbSA9IG1ldGFkYXRhID8gbWV0YWRhdGEudG9IdHRwMkhlYWRlcnMoKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFJlc3BvbnNlSGVhZGVycyksIGRlZmF1bHRDb21wcmVzc2lvbkhlYWRlcnMpLCBjdXN0b20pO1xuICAgICAgICB0aGlzLnN0cmVhbS5yZXNwb25kKGhlYWRlcnMsIGRlZmF1bHRSZXNwb25zZU9wdGlvbnMpO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZShtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5jaGVja0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSB0aGlzLnNlcmlhbGl6ZU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGBFcnJvciBzZXJpYWxpemluZyByZXNwb25zZTogJHsoMCwgZXJyb3JfMS5nZXRFcnJvck1lc3NhZ2UpKGUpfWAsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tYXhTZW5kTWVzc2FnZVNpemUgIT09IC0xICYmXG4gICAgICAgICAgICByZXNwb25zZS5sZW5ndGggLSA1ID4gdGhpcy5tYXhTZW5kTWVzc2FnZVNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlJFU09VUkNFX0VYSEFVU1RFRCxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgU2VudCBtZXNzYWdlIGxhcmdlciB0aGFuIG1heCAoJHtyZXNwb25zZS5sZW5ndGh9IHZzLiAke3RoaXMubWF4U2VuZE1lc3NhZ2VTaXplfSlgLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXliZVNlbmRNZXRhZGF0YSgpO1xuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byAnICtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlci5wYXRoICtcbiAgICAgICAgICAgICcgc2VudCBkYXRhIGZyYW1lIG9mIHNpemUgJyArXG4gICAgICAgICAgICByZXNwb25zZS5sZW5ndGgpO1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZShyZXNwb25zZSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgRXJyb3Igd3JpdGluZyBtZXNzYWdlOiAkeygwLCBlcnJvcl8xLmdldEVycm9yTWVzc2FnZSkoZXJyb3IpfWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfYSA9IHRoaXMuY2FsbEV2ZW50VHJhY2tlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFkZE1lc3NhZ2VTZW50KCk7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2VuZFN0YXR1cyhzdGF0dXMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgIGlmICh0aGlzLmNoZWNrQ2FuY2VsbGVkKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnUmVxdWVzdCB0byBtZXRob2QgJyArXG4gICAgICAgICAgICAoKF9hID0gdGhpcy5oYW5kbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucGF0aCkgK1xuICAgICAgICAgICAgJyBlbmRlZCB3aXRoIHN0YXR1cyBjb2RlOiAnICtcbiAgICAgICAgICAgIGNvbnN0YW50c18xLlN0YXR1c1tzdGF0dXMuY29kZV0gK1xuICAgICAgICAgICAgJyBkZXRhaWxzOiAnICtcbiAgICAgICAgICAgIHN0YXR1cy5kZXRhaWxzKTtcbiAgICAgICAgY29uc3Qgc3RhdHVzTWV0YWRhdGEgPSAoX2MgPSAoX2IgPSBzdGF0dXMubWV0YWRhdGEpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jbG9uZSgpKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpO1xuICAgICAgICBpZiAodGhpcy5zaG91bGRTZW5kTWV0cmljcykge1xuICAgICAgICAgICAgc3RhdHVzTWV0YWRhdGEuc2V0KG9yY2FfMS5HUlBDX01FVFJJQ1NfSEVBREVSLCB0aGlzLm1ldHJpY3NSZWNvcmRlci5zZXJpYWxpemUoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGFTZW50KSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMud2FudFRyYWlsZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YW50VHJhaWxlcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLm9uY2UoJ3dhbnRUcmFpbGVycycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbEV2ZW50VHJhY2tlciAmJiAhdGhpcy5zdHJlYW1FbmRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdHJlYW1FbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIub25TdHJlYW1FbmQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIub25DYWxsRW5kKHN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJhaWxlcnNUb1NlbmQgPSBPYmplY3QuYXNzaWduKHsgW0dSUENfU1RBVFVTX0hFQURFUl06IHN0YXR1cy5jb2RlLCBbR1JQQ19NRVNTQUdFX0hFQURFUl06IGVuY29kZVVSSShzdGF0dXMuZGV0YWlscykgfSwgc3RhdHVzTWV0YWRhdGEudG9IdHRwMkhlYWRlcnMoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RyZWFtLnNlbmRUcmFpbGVycyh0cmFpbGVyc1RvU2VuZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5T25DYW5jZWwoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbS5lbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5T25DYW5jZWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNhbGxFdmVudFRyYWNrZXIgJiYgIXRoaXMuc3RyZWFtRW5kZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0cmVhbUVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxFdmVudFRyYWNrZXIub25TdHJlYW1FbmQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsRXZlbnRUcmFja2VyLm9uQ2FsbEVuZChzdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhaWxlcnMtb25seSByZXNwb25zZVxuICAgICAgICAgICAgY29uc3QgdHJhaWxlcnNUb1NlbmQgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBbR1JQQ19TVEFUVVNfSEVBREVSXTogc3RhdHVzLmNvZGUsIFtHUlBDX01FU1NBR0VfSEVBREVSXTogZW5jb2RlVVJJKHN0YXR1cy5kZXRhaWxzKSB9LCBkZWZhdWx0UmVzcG9uc2VIZWFkZXJzKSwgc3RhdHVzTWV0YWRhdGEudG9IdHRwMkhlYWRlcnMoKSk7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbS5yZXNwb25kKHRyYWlsZXJzVG9TZW5kLCB7IGVuZFN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHRoaXMubm90aWZ5T25DYW5jZWwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydFJlYWQoKSB7XG4gICAgICAgIHRyYWNlKCdSZXF1ZXN0IHRvICcgKyB0aGlzLmhhbmRsZXIucGF0aCArICcgc3RhcnRSZWFkIGNhbGxlZCcpO1xuICAgICAgICBpZiAodGhpcy5jaGVja0NhbmNlbGxlZCgpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1JlYWRQZW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMucmVhZFF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJlY2VpdmVkSGFsZkNsb3NlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJlYW0ucmVzdW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1heWJlUHVzaE5leHRNZXNzYWdlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0UGVlcigpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBzb2NrZXQgPSAoX2EgPSB0aGlzLnN0cmVhbS5zZXNzaW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc29ja2V0O1xuICAgICAgICBpZiAoc29ja2V0ID09PSBudWxsIHx8IHNvY2tldCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc29ja2V0LnJlbW90ZUFkZHJlc3MpIHtcbiAgICAgICAgICAgIGlmIChzb2NrZXQucmVtb3RlUG9ydCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtzb2NrZXQucmVtb3RlQWRkcmVzc306JHtzb2NrZXQucmVtb3RlUG9ydH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvY2tldC5yZW1vdGVBZGRyZXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICd1bmtub3duJztcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXREZWFkbGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVhZGxpbmU7XG4gICAgfVxuICAgIGdldEhvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvc3Q7XG4gICAgfVxuICAgIGdldEF1dGhDb250ZXh0KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICgoKF9hID0gdGhpcy5zdHJlYW0uc2Vzc2lvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNvY2tldCkgaW5zdGFuY2VvZiB0bHNfMS5UTFNTb2NrZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHBlZXJDZXJ0aWZpY2F0ZSA9IHRoaXMuc3RyZWFtLnNlc3Npb24uc29ja2V0LmdldFBlZXJDZXJ0aWZpY2F0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0cmFuc3BvcnRTZWN1cml0eVR5cGU6ICdzc2wnLFxuICAgICAgICAgICAgICAgIHNzbFBlZXJDZXJ0aWZpY2F0ZTogcGVlckNlcnRpZmljYXRlLnJhdyA/IHBlZXJDZXJ0aWZpY2F0ZSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb25uZWN0aW9uSW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbkluZm87XG4gICAgfVxuICAgIGdldE1ldHJpY3NSZWNvcmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0cmljc1JlY29yZGVyO1xuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVNlcnZlckludGVyY2VwdGluZ0NhbGwgPSBCYXNlU2VydmVySW50ZXJjZXB0aW5nQ2FsbDtcbmZ1bmN0aW9uIGdldFNlcnZlckludGVyY2VwdGluZ0NhbGwoaW50ZXJjZXB0b3JzLCBzdHJlYW0sIGhlYWRlcnMsIGNhbGxFdmVudFRyYWNrZXIsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBtZXRob2REZWZpbml0aW9uID0ge1xuICAgICAgICBwYXRoOiBoYW5kbGVyLnBhdGgsXG4gICAgICAgIHJlcXVlc3RTdHJlYW06IGhhbmRsZXIudHlwZSA9PT0gJ2NsaWVudFN0cmVhbScgfHwgaGFuZGxlci50eXBlID09PSAnYmlkaScsXG4gICAgICAgIHJlc3BvbnNlU3RyZWFtOiBoYW5kbGVyLnR5cGUgPT09ICdzZXJ2ZXJTdHJlYW0nIHx8IGhhbmRsZXIudHlwZSA9PT0gJ2JpZGknLFxuICAgICAgICByZXF1ZXN0RGVzZXJpYWxpemU6IGhhbmRsZXIuZGVzZXJpYWxpemUsXG4gICAgICAgIHJlc3BvbnNlU2VyaWFsaXplOiBoYW5kbGVyLnNlcmlhbGl6ZSxcbiAgICB9O1xuICAgIGNvbnN0IGJhc2VDYWxsID0gbmV3IEJhc2VTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsKHN0cmVhbSwgaGVhZGVycywgY2FsbEV2ZW50VHJhY2tlciwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGludGVyY2VwdG9ycy5yZWR1Y2UoKGNhbGwsIGludGVyY2VwdG9yKSA9PiB7XG4gICAgICAgIHJldHVybiBpbnRlcmNlcHRvcihtZXRob2REZWZpbml0aW9uLCBjYWxsKTtcbiAgICB9LCBiYXNlQ2FsbCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2ZXItaW50ZXJjZXB0b3JzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX19ydW5Jbml0aWFsaXplcnMgPSAodGhpcyAmJiB0aGlzLl9fcnVuSW5pdGlhbGl6ZXJzKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgaW5pdGlhbGl6ZXJzLCB2YWx1ZSkge1xuICAgIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gdXNlVmFsdWUgPyBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnLCB2YWx1ZSkgOiBpbml0aWFsaXplcnNbaV0uY2FsbCh0aGlzQXJnKTtcbiAgICB9XG4gICAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xudmFyIF9fZXNEZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19lc0RlY29yYXRlKSB8fCBmdW5jdGlvbiAoY3RvciwgZGVzY3JpcHRvckluLCBkZWNvcmF0b3JzLCBjb250ZXh0SW4sIGluaXRpYWxpemVycywgZXh0cmFJbml0aWFsaXplcnMpIHtcbiAgICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICAgIHZhciB0YXJnZXQgPSAhZGVzY3JpcHRvckluICYmIGN0b3IgPyBjb250ZXh0SW5bXCJzdGF0aWNcIl0gPyBjdG9yIDogY3Rvci5wcm90b3R5cGUgOiBudWxsO1xuICAgIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICAgIHZhciBfLCBkb25lID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluLmFjY2VzcykgY29udGV4dC5hY2Nlc3NbcF0gPSBjb250ZXh0SW4uYWNjZXNzW3BdO1xuICAgICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgICAgaWYgKGtpbmQgPT09IFwiYWNjZXNzb3JcIikge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5nZXQpKSBkZXNjcmlwdG9yLmdldCA9IF87XG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgICAgZWxzZSBkZXNjcmlwdG9yW2tleV0gPSBfO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0YXJnZXQpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGNvbnRleHRJbi5uYW1lLCBkZXNjcmlwdG9yKTtcbiAgICBkb25lID0gdHJ1ZTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlcnZlciA9IHZvaWQgMDtcbmNvbnN0IGh0dHAyID0gcmVxdWlyZShcImh0dHAyXCIpO1xuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCJ1dGlsXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCBzZXJ2ZXJfY2FsbF8xID0gcmVxdWlyZShcIi4vc2VydmVyLWNhbGxcIik7XG5jb25zdCBzZXJ2ZXJfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL3NlcnZlci1jcmVkZW50aWFsc1wiKTtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCB1cmlfcGFyc2VyXzEgPSByZXF1aXJlKFwiLi91cmktcGFyc2VyXCIpO1xuY29uc3QgY2hhbm5lbHpfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuY29uc3Qgc2VydmVyX2ludGVyY2VwdG9yc18xID0gcmVxdWlyZShcIi4vc2VydmVyLWludGVyY2VwdG9yc1wiKTtcbmNvbnN0IFVOTElNSVRFRF9DT05ORUNUSU9OX0FHRV9NUyA9IH4oMSA8PCAzMSk7XG5jb25zdCBLRUVQQUxJVkVfTUFYX1RJTUVfTVMgPSB+KDEgPDwgMzEpO1xuY29uc3QgS0VFUEFMSVZFX1RJTUVPVVRfTVMgPSAyMDAwMDtcbmNvbnN0IE1BWF9DT05ORUNUSU9OX0lETEVfTVMgPSB+KDEgPDwgMzEpO1xuY29uc3QgeyBIVFRQMl9IRUFERVJfUEFUSCB9ID0gaHR0cDIuY29uc3RhbnRzO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnc2VydmVyJztcbmNvbnN0IGtNYXhBZ2UgPSBCdWZmZXIuZnJvbSgnbWF4X2FnZScpO1xuZnVuY3Rpb24gc2VydmVyQ2FsbFRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgJ3NlcnZlcl9jYWxsJywgdGV4dCk7XG59XG5mdW5jdGlvbiBub29wKCkgeyB9XG4vKipcbiAqIERlY29yYXRvciB0byB3cmFwIGEgY2xhc3MgbWV0aG9kIHdpdGggdXRpbC5kZXByZWNhdGVcbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIG91dHB1dCBpZiB0aGUgZGVwcmVjYXRlZCBtZXRob2QgaXMgY2FsbGVkXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiBkZXByZWNhdGUobWVzc2FnZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB1dGlsLmRlcHJlY2F0ZSh0YXJnZXQsIG1lc3NhZ2UpO1xuICAgIH07XG59XG5mdW5jdGlvbiBnZXRVbmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UobWV0aG9kTmFtZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELFxuICAgICAgICBkZXRhaWxzOiBgVGhlIHNlcnZlciBkb2VzIG5vdCBpbXBsZW1lbnQgdGhlIG1ldGhvZCAke21ldGhvZE5hbWV9YCxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdEhhbmRsZXIoaGFuZGxlclR5cGUsIG1ldGhvZE5hbWUpIHtcbiAgICBjb25zdCB1bmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UgPSBnZXRVbmltcGxlbWVudGVkU3RhdHVzUmVzcG9uc2UobWV0aG9kTmFtZSk7XG4gICAgc3dpdGNoIChoYW5kbGVyVHlwZSkge1xuICAgICAgICBjYXNlICd1bmFyeSc6XG4gICAgICAgICAgICByZXR1cm4gKGNhbGwsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlLCBudWxsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ2NsaWVudFN0cmVhbSc6XG4gICAgICAgICAgICByZXR1cm4gKGNhbGwsIGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlLCBudWxsKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ3NlcnZlclN0cmVhbSc6XG4gICAgICAgICAgICByZXR1cm4gKGNhbGwpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsLmVtaXQoJ2Vycm9yJywgdW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgJ2JpZGknOlxuICAgICAgICAgICAgcmV0dXJuIChjYWxsKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FsbC5lbWl0KCdlcnJvcicsIHVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGhhbmRsZXJUeXBlICR7aGFuZGxlclR5cGV9YCk7XG4gICAgfVxufVxubGV0IFNlcnZlciA9ICgoKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGxldCBfaW5zdGFuY2VFeHRyYUluaXRpYWxpemVycyA9IFtdO1xuICAgIGxldCBfc3RhcnRfZGVjb3JhdG9ycztcbiAgICByZXR1cm4gX2EgPSBjbGFzcyBTZXJ2ZXIge1xuICAgICAgICAgICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRQb3J0cyA9IChfX3J1bkluaXRpYWxpemVycyh0aGlzLCBfaW5zdGFuY2VFeHRyYUluaXRpYWxpemVycyksIG5ldyBNYXAoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5odHRwMlNlcnZlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXRzID0gbmV3IE1hcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGlzIGZpZWxkIG9ubHkgZXhpc3RzIHRvIGVuc3VyZSB0aGF0IHRoZSBzdGFydCBtZXRob2QgdGhyb3dzIGFuIGVycm9yIGlmXG4gICAgICAgICAgICAgICAgICogaXQgaXMgY2FsbGVkIHR3aWNlLCBhcyBpdCBkaWQgcHJldmlvdXNseS5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNodXRkb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJBZGRyZXNzU3RyaW5nID0gJ251bGwnO1xuICAgICAgICAgICAgICAgIC8vIENoYW5uZWx6IEluZm9cbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge307XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9uc1snZ3JwYy5lbmFibGVfY2hhbm5lbHonXSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6RW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWx6VHJhY2UgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVselRyYWNlU3R1YigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyID0gbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlclN0dWIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckNoaWxkcmVuVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyU3R1YigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25DaGlsZHJlblRyYWNrZXIgPSBuZXcgY2hhbm5lbHpfMS5DaGFubmVsekNoaWxkcmVuVHJhY2tlclN0dWIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZSA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6VHJhY2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2FsbFRyYWNrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckNoaWxkcmVuVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlciA9IG5ldyBjaGFubmVsel8xLkNoYW5uZWx6Q2hpbGRyZW5UcmFja2VyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpSZWYgPSAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U2VydmVyKSgnc2VydmVyJywgKCkgPT4gdGhpcy5nZXRDaGFubmVsekluZm8oKSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdTZXJ2ZXIgY3JlYXRlZCcpO1xuICAgICAgICAgICAgICAgIHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zID1cbiAgICAgICAgICAgICAgICAgICAgKF9iID0gdGhpcy5vcHRpb25zWydncnBjLm1heF9jb25uZWN0aW9uX2FnZV9tcyddKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVM7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhDb25uZWN0aW9uQWdlR3JhY2VNcyA9XG4gICAgICAgICAgICAgICAgICAgIChfYyA9IHRoaXMub3B0aW9uc1snZ3JwYy5tYXhfY29ubmVjdGlvbl9hZ2VfZ3JhY2VfbXMnXSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TO1xuICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zID1cbiAgICAgICAgICAgICAgICAgICAgKF9kID0gdGhpcy5vcHRpb25zWydncnBjLmtlZXBhbGl2ZV90aW1lX21zJ10pICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IEtFRVBBTElWRV9NQVhfVElNRV9NUztcbiAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVvdXRNcyA9XG4gICAgICAgICAgICAgICAgICAgIChfZSA9IHRoaXMub3B0aW9uc1snZ3JwYy5rZWVwYWxpdmVfdGltZW91dF9tcyddKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiBLRUVQQUxJVkVfVElNRU9VVF9NUztcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZGxlVGltZW91dCA9XG4gICAgICAgICAgICAgICAgICAgIChfZiA9IHRoaXMub3B0aW9uc1snZ3JwYy5tYXhfY29ubmVjdGlvbl9pZGxlX21zJ10pICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IE1BWF9DT05ORUNUSU9OX0lETEVfTVM7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25TZXJ2ZXJPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBtYXhTZW5kSGVhZGVyQmxvY2tMZW5ndGg6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCdncnBjLW5vZGUubWF4X3Nlc3Npb25fbWVtb3J5JyBpbiB0aGlzLm9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tb25TZXJ2ZXJPcHRpb25zLm1heFNlc3Npb25NZW1vcnkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zWydncnBjLW5vZGUubWF4X3Nlc3Npb25fbWVtb3J5J107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvKiBCeSBkZWZhdWx0LCBzZXQgYSB2ZXJ5IGxhcmdlIG1heCBzZXNzaW9uIG1lbW9yeSBsaW1pdCwgdG8gZWZmZWN0aXZlbHlcbiAgICAgICAgICAgICAgICAgICAgICogZGlzYWJsZSBlbmZvcmNlbWVudCBvZiB0aGUgbGltaXQuIFNvbWUgdGVzdGluZyBpbmRpY2F0ZXMgdGhhdCBOb2RlJ3NcbiAgICAgICAgICAgICAgICAgICAgICogYmVoYXZpb3IgZGVncmFkZXMgYmFkbHkgd2hlbiB0aGlzIGxpbWl0IGlzIHJlYWNoZWQsIHNvIHdlIHNvbHZlIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgICogYnkgZGlzYWJsaW5nIHRoZSBjaGVjayBlbnRpcmVseS4gKi9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tb25TZXJ2ZXJPcHRpb25zLm1heFNlc3Npb25NZW1vcnkgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCdncnBjLm1heF9jb25jdXJyZW50X3N0cmVhbXMnIGluIHRoaXMub3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1vblNlcnZlck9wdGlvbnMuc2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhDb25jdXJyZW50U3RyZWFtczogdGhpcy5vcHRpb25zWydncnBjLm1heF9jb25jdXJyZW50X3N0cmVhbXMnXSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmNlcHRvcnMgPSAoX2cgPSB0aGlzLm9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdTZXJ2ZXIgY29uc3RydWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdldENoYW5uZWx6SW5mbygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZTogdGhpcy5jaGFubmVselRyYWNlLFxuICAgICAgICAgICAgICAgICAgICBjYWxsVHJhY2tlcjogdGhpcy5jYWxsVHJhY2tlcixcbiAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJDaGlsZHJlbjogdGhpcy5saXN0ZW5lckNoaWxkcmVuVHJhY2tlci5nZXRDaGlsZExpc3RzKCksXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25DaGlsZHJlbjogdGhpcy5zZXNzaW9uQ2hpbGRyZW5UcmFja2VyLmdldENoaWxkTGlzdHMoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2V0Q2hhbm5lbHpTZXNzaW9uSW5mbyhzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkluZm8gPSB0aGlzLnNlc3Npb25zLmdldChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uU29ja2V0ID0gc2Vzc2lvbi5zb2NrZXQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3RlQWRkcmVzcyA9IHNlc3Npb25Tb2NrZXQucmVtb3RlQWRkcmVzc1xuICAgICAgICAgICAgICAgICAgICA/ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdHJpbmdUb1N1YmNoYW5uZWxBZGRyZXNzKShzZXNzaW9uU29ja2V0LnJlbW90ZUFkZHJlc3MsIHNlc3Npb25Tb2NrZXQucmVtb3RlUG9ydClcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsQWRkcmVzcyA9IHNlc3Npb25Tb2NrZXQubG9jYWxBZGRyZXNzXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN0cmluZ1RvU3ViY2hhbm5lbEFkZHJlc3MpKHNlc3Npb25Tb2NrZXQubG9jYWxBZGRyZXNzLCBzZXNzaW9uU29ja2V0LmxvY2FsUG9ydClcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIGxldCB0bHNJbmZvO1xuICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uLmVuY3J5cHRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0bHNTb2NrZXQgPSBzZXNzaW9uU29ja2V0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaXBoZXJJbmZvID0gdGxzU29ja2V0LmdldENpcGhlcigpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjZXJ0aWZpY2F0ZSA9IHRsc1NvY2tldC5nZXRDZXJ0aWZpY2F0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwZWVyQ2VydGlmaWNhdGUgPSB0bHNTb2NrZXQuZ2V0UGVlckNlcnRpZmljYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRsc0luZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaXBoZXJTdWl0ZVN0YW5kYXJkTmFtZTogKF9iID0gY2lwaGVySW5mby5zdGFuZGFyZE5hbWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjaXBoZXJTdWl0ZU90aGVyTmFtZTogY2lwaGVySW5mby5zdGFuZGFyZE5hbWUgPyBudWxsIDogY2lwaGVySW5mby5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxDZXJ0aWZpY2F0ZTogY2VydGlmaWNhdGUgJiYgJ3JhdycgaW4gY2VydGlmaWNhdGUgPyBjZXJ0aWZpY2F0ZS5yYXcgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlQ2VydGlmaWNhdGU6IHBlZXJDZXJ0aWZpY2F0ZSAmJiAncmF3JyBpbiBwZWVyQ2VydGlmaWNhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBlZXJDZXJ0aWZpY2F0ZS5yYXdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0bHNJbmZvID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc29ja2V0SW5mbyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3RlQWRkcmVzczogcmVtb3RlQWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBsb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5OiB0bHNJbmZvLFxuICAgICAgICAgICAgICAgICAgICByZW1vdGVOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBzdHJlYW1zU3RhcnRlZDogc2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5jYWxsc1N0YXJ0ZWQsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbXNTdWNjZWVkZWQ6IHNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuY2FsbHNTdWNjZWVkZWQsXG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbXNGYWlsZWQ6IHNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuY2FsbHNGYWlsZWQsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzU2VudDogc2Vzc2lvbkluZm8ubWVzc2FnZXNTZW50LFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc1JlY2VpdmVkOiBzZXNzaW9uSW5mby5tZXNzYWdlc1JlY2VpdmVkLFxuICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmVzU2VudDogc2Vzc2lvbkluZm8ua2VlcEFsaXZlc1NlbnQsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RMb2NhbFN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RSZW1vdGVTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBzZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmxhc3RDYWxsU3RhcnRlZFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wOiBzZXNzaW9uSW5mby5sYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXA6IHNlc3Npb25JbmZvLmxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsRmxvd0NvbnRyb2xXaW5kb3c6IChfYyA9IHNlc3Npb24uc3RhdGUubG9jYWxXaW5kb3dTaXplKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICByZW1vdGVGbG93Q29udHJvbFdpbmRvdzogKF9kID0gc2Vzc2lvbi5zdGF0ZS5yZW1vdGVXaW5kb3dTaXplKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNvY2tldEluZm87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjZSh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCAnKCcgKyB0aGlzLmNoYW5uZWx6UmVmLmlkICsgJykgJyArIHRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAga2VlcGFsaXZlVHJhY2UodGV4dCkge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCAna2VlcGFsaXZlJywgJygnICsgdGhpcy5jaGFubmVselJlZi5pZCArICcpICcgKyB0ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZFByb3RvU2VydmljZSgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZC4gVXNlIGFkZFNlcnZpY2UoKSBpbnN0ZWFkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZGRTZXJ2aWNlKHNlcnZpY2UsIGltcGxlbWVudGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2UgPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHNlcnZpY2UgIT09ICdvYmplY3QnIHx8XG4gICAgICAgICAgICAgICAgICAgIGltcGxlbWVudGF0aW9uID09PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbXBsZW1lbnRhdGlvbiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhZGRTZXJ2aWNlKCkgcmVxdWlyZXMgdHdvIG9iamVjdHMgYXMgYXJndW1lbnRzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VLZXlzID0gT2JqZWN0LmtleXMoc2VydmljZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZpY2VLZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBhZGQgYW4gZW1wdHkgc2VydmljZSB0byBhIHNlcnZlcicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXJ2aWNlS2V5cy5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhdHRycyA9IHNlcnZpY2VbbmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZXRob2RUeXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMucmVxdWVzdFN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLnJlc3BvbnNlU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kVHlwZSA9ICdiaWRpJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAnY2xpZW50U3RyZWFtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5yZXNwb25zZVN0cmVhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAnc2VydmVyU3RyZWFtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZFR5cGUgPSAndW5hcnknO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbXBsRm4gPSBpbXBsZW1lbnRhdGlvbltuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltcGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbXBsRm4gPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgYXR0cnMub3JpZ2luYWxOYW1lID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1wbEZuID0gaW1wbGVtZW50YXRpb25bYXR0cnMub3JpZ2luYWxOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1wbEZuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGltcGwgPSBpbXBsRm4uYmluZChpbXBsZW1lbnRhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbXBsID0gZ2V0RGVmYXVsdEhhbmRsZXIobWV0aG9kVHlwZSwgbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VjY2VzcyA9IHRoaXMucmVnaXN0ZXIoYXR0cnMucGF0aCwgaW1wbCwgYXR0cnMucmVzcG9uc2VTZXJpYWxpemUsIGF0dHJzLnJlcXVlc3REZXNlcmlhbGl6ZSwgbWV0aG9kVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNZXRob2QgaGFuZGxlciBmb3IgJHthdHRycy5wYXRofSBhbHJlYWR5IHByb3ZpZGVkLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1vdmVTZXJ2aWNlKHNlcnZpY2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VydmljZSA9PT0gbnVsbCB8fCB0eXBlb2Ygc2VydmljZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdyZW1vdmVTZXJ2aWNlKCkgcmVxdWlyZXMgb2JqZWN0IGFzIGFyZ3VtZW50Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZpY2VLZXlzID0gT2JqZWN0LmtleXMoc2VydmljZSk7XG4gICAgICAgICAgICAgICAgc2VydmljZUtleXMuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBzZXJ2aWNlW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVucmVnaXN0ZXIoYXR0cnMucGF0aCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaW5kKHBvcnQsIGNyZWRzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQuIFVzZSBiaW5kQXN5bmMoKSBpbnN0ZWFkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCwgc28gQVBJIHN0YWJpbGl0eSBpcyBub3QgZ3VhcmFudGVlZCBhY3Jvc3MgbWlub3IgdmVyc2lvbnMuXG4gICAgICAgICAgICAgKiBAcGFyYW0gYm91bmRBZGRyZXNzXG4gICAgICAgICAgICAgKiBAcmV0dXJuc1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBleHBlcmltZW50YWxSZWdpc3Rlckxpc3RlbmVyVG9DaGFubmVseihib3VuZEFkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIGNoYW5uZWx6XzEucmVnaXN0ZXJDaGFubmVselNvY2tldCkoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGJvdW5kQWRkcmVzcyksICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsQWRkcmVzczogYm91bmRBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlQWRkcmVzczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3VyaXR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbXNTdGFydGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtc1N1Y2NlZWRlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbXNGYWlsZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlc1JlY2VpdmVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAga2VlcEFsaXZlc1NlbnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TG9jYWxTdHJlYW1DcmVhdGVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFJlbW90ZVN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxGbG93Q29udHJvbFdpbmRvdzogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUZsb3dDb250cm9sV2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0sIHRoaXMuY2hhbm5lbHpFbmFibGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbFVucmVnaXN0ZXJMaXN0ZW5lckZyb21DaGFubmVseihjaGFubmVselJlZikge1xuICAgICAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikoY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlYXRlSHR0cDJTZXJ2ZXIoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgaHR0cDJTZXJ2ZXI7XG4gICAgICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWxzLl9pc1NlY3VyZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdG9yT3B0aW9ucyA9IGNyZWRlbnRpYWxzLl9nZXRDb25zdHJ1Y3Rvck9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGV4dE9wdGlvbnMgPSBjcmVkZW50aWFscy5fZ2V0U2VjdXJlQ29udGV4dE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjdXJlU2VydmVyT3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMuY29tbW9uU2VydmVyT3B0aW9ucyksIGNvbnN0cnVjdG9yT3B0aW9ucyksIGNvbnRleHRPcHRpb25zKSwgeyBlbmFibGVUcmFjZTogdGhpcy5vcHRpb25zWydncnBjLW5vZGUudGxzX2VuYWJsZV90cmFjZSddID09PSAxIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXJlQ3JlZGVudGlhbHNWYWxpZCA9IGNvbnRleHRPcHRpb25zICE9PSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdJbml0aWFsIGNyZWRlbnRpYWxzIHZhbGlkOiAnICsgYXJlQ3JlZGVudGlhbHNWYWxpZCk7XG4gICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyID0gaHR0cDIuY3JlYXRlU2VjdXJlU2VydmVyKHNlY3VyZVNlcnZlck9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5wcmVwZW5kTGlzdGVuZXIoJ2Nvbm5lY3Rpb24nLCAoc29ja2V0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFyZUNyZWRlbnRpYWxzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdEcm9wcGVkIGNvbm5lY3Rpb24gZnJvbSAnICsgSlNPTi5zdHJpbmdpZnkoc29ja2V0LmFkZHJlc3MoKSkgKyAnIGR1ZSB0byB1bmxvYWRlZCBjcmVkZW50aWFscycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5vbignc2VjdXJlQ29ubmVjdGlvbicsIChzb2NrZXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIFRoZXNlIGVycm9ycyBuZWVkIHRvIGJlIGhhbmRsZWQgYnkgdGhlIHVzZXIgb2YgSHR0cDJTZWN1cmVTZXJ2ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBhY2NvcmRpbmcgdG8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2lzc3Vlcy8zNTgyNCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0Lm9uKCdlcnJvcicsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnQW4gaW5jb21pbmcgVExTIGNvbm5lY3Rpb24gY2xvc2VkIHdpdGggZXJyb3I6ICcgKyBlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVkc1dhdGNoZXIgPSBvcHRpb25zID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjdXJlU2VydmVyID0gaHR0cDJTZXJ2ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJlU2VydmVyLnNldFNlY3VyZUNvbnRleHQob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgJ0ZhaWxlZCB0byBzZXQgc2VjdXJlIGNvbnRleHQgd2l0aCBlcnJvciAnICsgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYXJlQ3JlZGVudGlhbHNWYWxpZCA9IG9wdGlvbnMgIT09IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdQb3N0LXVwZGF0ZSBjcmVkZW50aWFscyB2YWxpZDogJyArIGFyZUNyZWRlbnRpYWxzVmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFscy5fYWRkV2F0Y2hlcihjcmVkc1dhdGNoZXIpO1xuICAgICAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFscy5fcmVtb3ZlV2F0Y2hlcihjcmVkc1dhdGNoZXIpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyID0gaHR0cDIuY3JlYXRlU2VydmVyKHRoaXMuY29tbW9uU2VydmVyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLnNldFRpbWVvdXQoMCwgbm9vcCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0dXBIYW5kbGVycyhodHRwMlNlcnZlciwgY3JlZGVudGlhbHMuX2dldEludGVyY2VwdG9ycygpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaHR0cDJTZXJ2ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaW5kT25lQWRkcmVzcyhhZGRyZXNzLCBib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdBdHRlbXB0aW5nIHRvIGJpbmQgJyArICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaHR0cDJTZXJ2ZXIgPSB0aGlzLmNyZWF0ZUh0dHAyU2VydmVyKGJvdW5kUG9ydE9iamVjdC5jcmVkZW50aWFscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb25FcnJvciA9IChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0ZhaWxlZCB0byBiaW5kICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5zdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nKShhZGRyZXNzKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyB3aXRoIGVycm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6ICdwb3J0JyBpbiBhZGRyZXNzID8gYWRkcmVzcy5wb3J0IDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIub25jZSgnZXJyb3InLCBvbkVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIubGlzdGVuKGFkZHJlc3MsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kQWRkcmVzcyA9IGh0dHAyU2VydmVyLmFkZHJlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib3VuZFN1YmNoYW5uZWxBZGRyZXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBib3VuZEFkZHJlc3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRTdWJjaGFubmVsQWRkcmVzcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogYm91bmRBZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3VuZFN1YmNoYW5uZWxBZGRyZXNzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3N0OiBib3VuZEFkZHJlc3MuYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9ydDogYm91bmRBZGRyZXNzLnBvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWx6UmVmID0gdGhpcy5leHBlcmltZW50YWxSZWdpc3Rlckxpc3RlbmVyVG9DaGFubmVseihib3VuZFN1YmNoYW5uZWxBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJDaGlsZHJlblRyYWNrZXIucmVmQ2hpbGQoY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5odHRwMlNlcnZlcnMuc2V0KGh0dHAyU2VydmVyLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpSZWY6IGNoYW5uZWx6UmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25zOiBuZXcgU2V0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duc0NoYW5uZWx6UmVmOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5saXN0ZW5pbmdTZXJ2ZXJzLmFkZChodHRwMlNlcnZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdTdWNjZXNzZnVsbHkgYm91bmQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKGJvdW5kU3ViY2hhbm5lbEFkZHJlc3MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6ICdwb3J0JyBpbiBib3VuZFN1YmNoYW5uZWxBZGRyZXNzID8gYm91bmRTdWJjaGFubmVsQWRkcmVzcy5wb3J0IDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cDJTZXJ2ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXN5bmMgYmluZE1hbnlQb3J0cyhhZGRyZXNzTGlzdCwgYm91bmRQb3J0T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGFkZHJlc3NMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5pc1RjcFN1YmNoYW5uZWxBZGRyZXNzKShhZGRyZXNzTGlzdFswXSkgJiYgYWRkcmVzc0xpc3RbMF0ucG9ydCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvKiBJZiBiaW5kaW5nIHRvIHBvcnQgMCwgZmlyc3QgdHJ5IHRvIGJpbmQgdGhlIGZpcnN0IGFkZHJlc3MsIHRoZW4gYmluZFxuICAgICAgICAgICAgICAgICAgICAgKiB0aGUgcmVzdCBvZiB0aGUgYWRkcmVzcyBsaXN0IHRvIHRoZSBzcGVjaWZpYyBwb3J0IHRoYXQgaXQgYmluZHMuICovXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0QWRkcmVzc1Jlc3VsdCA9IGF3YWl0IHRoaXMuYmluZE9uZUFkZHJlc3MoYWRkcmVzc0xpc3RbMF0sIGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXJzdEFkZHJlc3NSZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIElmIHRoZSBmaXJzdCBhZGRyZXNzIGZhaWxzIHRvIGJpbmQsIHRyeSB0aGUgc2FtZSBvcGVyYXRpb24gc3RhcnRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGZyb20gdGhlIHNlY29uZCBpdGVtIGluIHRoZSBsaXN0LiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdEFkZHJlc3NSZXN1bHQgPSBhd2FpdCB0aGlzLmJpbmRNYW55UG9ydHMoYWRkcmVzc0xpc3Quc2xpY2UoMSksIGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCByZXN0QWRkcmVzc1Jlc3VsdCksIHsgZXJyb3JzOiBbZmlyc3RBZGRyZXNzUmVzdWx0LmVycm9yLCAuLi5yZXN0QWRkcmVzc1Jlc3VsdC5lcnJvcnNdIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdEFkZHJlc3NlcyA9IGFkZHJlc3NMaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChhZGRyZXNzID0+ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5pc1RjcFN1YmNoYW5uZWxBZGRyZXNzKShhZGRyZXNzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBob3N0OiBhZGRyZXNzLmhvc3QsIHBvcnQ6IGZpcnN0QWRkcmVzc1Jlc3VsdC5wb3J0IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdEFkZHJlc3NSZXN1bHQgPSBhd2FpdCBQcm9taXNlLmFsbChyZXN0QWRkcmVzc2VzLm1hcChhZGRyZXNzID0+IHRoaXMuYmluZE9uZUFkZHJlc3MoYWRkcmVzcywgYm91bmRQb3J0T2JqZWN0KSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsUmVzdWx0cyA9IFtmaXJzdEFkZHJlc3NSZXN1bHQsIC4uLnJlc3RBZGRyZXNzUmVzdWx0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IGFsbFJlc3VsdHMuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZXJyb3IgPT09IHVuZGVmaW5lZCkubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnQ6IGZpcnN0QWRkcmVzc1Jlc3VsdC5wb3J0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yczogYWxsUmVzdWx0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAocmVzdWx0ID0+IHJlc3VsdC5lcnJvciksXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoYWRkcmVzc0xpc3QubWFwKGFkZHJlc3MgPT4gdGhpcy5iaW5kT25lQWRkcmVzcyhhZGRyZXNzLCBib3VuZFBvcnRPYmplY3QpKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudDogYWxsUmVzdWx0cy5maWx0ZXIocmVzdWx0ID0+IHJlc3VsdC5lcnJvciA9PT0gdW5kZWZpbmVkKS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3J0OiBhbGxSZXN1bHRzWzBdLnBvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnM6IGFsbFJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJlc3VsdCA9PiByZXN1bHQuZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChyZXN1bHQgPT4gcmVzdWx0LmVycm9yKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBiaW5kQWRkcmVzc0xpc3QoYWRkcmVzc0xpc3QsIGJvdW5kUG9ydE9iamVjdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJpbmRSZXN1bHQgPSBhd2FpdCB0aGlzLmJpbmRNYW55UG9ydHMoYWRkcmVzc0xpc3QsIGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgaWYgKGJpbmRSZXN1bHQuY291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaW5kUmVzdWx0LmNvdW50IDwgYWRkcmVzc0xpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nLmxvZyhjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuSU5GTywgYFdBUk5JTkcgT25seSAke2JpbmRSZXN1bHQuY291bnR9IGFkZHJlc3NlcyBhZGRlZCBvdXQgb2YgdG90YWwgJHthZGRyZXNzTGlzdC5sZW5ndGh9IHJlc29sdmVkYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJpbmRSZXN1bHQucG9ydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yU3RyaW5nID0gYE5vIGFkZHJlc3MgYWRkZWQgb3V0IG9mIHRvdGFsICR7YWRkcmVzc0xpc3QubGVuZ3RofSByZXNvbHZlZGA7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dpbmcubG9nKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5FUlJPUiwgZXJyb3JTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7ZXJyb3JTdHJpbmd9IGVycm9yczogWyR7YmluZFJlc3VsdC5lcnJvcnMuam9pbignLCcpfV1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlUG9ydChwb3J0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlZW5SZXNvbHV0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc29sdmVyTGlzdGVuZXIgPSAoZW5kcG9pbnRMaXN0LCBhdHRyaWJ1dGVzLCBzZXJ2aWNlQ29uZmlnLCByZXNvbHV0aW9uTm90ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlZW5SZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWVuUmVzb2x1dGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVuZHBvaW50TGlzdC5vaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoZW5kcG9pbnRMaXN0LmVycm9yLmRldGFpbHMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NMaXN0ID0gW10uY29uY2F0KC4uLmVuZHBvaW50TGlzdC52YWx1ZS5tYXAoZW5kcG9pbnQgPT4gZW5kcG9pbnQuYWRkcmVzc2VzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWRkcmVzc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgTm8gYWRkcmVzc2VzIHJlc29sdmVkIGZvciBwb3J0ICR7cG9ydH1gKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGFkZHJlc3NMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvbHZlciA9ICgwLCByZXNvbHZlcl8xLmNyZWF0ZVJlc29sdmVyKShwb3J0LCByZXNvbHZlckxpc3RlbmVyLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlci51cGRhdGVSZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhc3luYyBiaW5kUG9ydChwb3J0LCBib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGRyZXNzTGlzdCA9IGF3YWl0IHRoaXMucmVzb2x2ZVBvcnQocG9ydCk7XG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kUG9ydE9iamVjdC5jYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVVuYmluZChib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JpbmRBc3luYyBvcGVyYXRpb24gY2FuY2VsbGVkIGJ5IHVuYmluZCBjYWxsJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcnROdW1iZXIgPSBhd2FpdCB0aGlzLmJpbmRBZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICBpZiAoYm91bmRQb3J0T2JqZWN0LmNhbmNlbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVW5iaW5kKGJvdW5kUG9ydE9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmluZEFzeW5jIG9wZXJhdGlvbiBjYW5jZWxsZWQgYnkgdW5iaW5kIGNhbGwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcnROdW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub3JtYWxpemVQb3J0KHBvcnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbml0aWFsUG9ydFVyaSA9ICgwLCB1cmlfcGFyc2VyXzEucGFyc2VVcmkpKHBvcnQpO1xuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsUG9ydFVyaSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBwYXJzZSBwb3J0IFwiJHtwb3J0fVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcnRVcmkgPSAoMCwgcmVzb2x2ZXJfMS5tYXBVcmlEZWZhdWx0U2NoZW1lKShpbml0aWFsUG9ydFVyaSk7XG4gICAgICAgICAgICAgICAgaWYgKHBvcnRVcmkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZ2V0IGEgZGVmYXVsdCBzY2hlbWUgZm9yIHBvcnQgXCIke3BvcnR9XCJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcnRVcmk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiaW5kQXN5bmMocG9ydCwgY3JlZHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2h1dGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiaW5kQXN5bmMgY2FsbGVkIGFmdGVyIHNodXRkb3duJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcG9ydCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncG9ydCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjcmVkcyA9PT0gbnVsbCB8fCAhKGNyZWRzIGluc3RhbmNlb2Ygc2VydmVyX2NyZWRlbnRpYWxzXzEuU2VydmVyQ3JlZGVudGlhbHMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2NyZWRzIG11c3QgYmUgYSBTZXJ2ZXJDcmVkZW50aWFscyBvYmplY3QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnYmluZEFzeW5jIHBvcnQ9JyArIHBvcnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvcnRVcmkgPSB0aGlzLm5vcm1hbGl6ZVBvcnQocG9ydCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmZXJyZWRDYWxsYmFjayA9IChlcnJvciwgcG9ydCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IGNhbGxiYWNrKGVycm9yLCBwb3J0KSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvKiBGaXJzdCwgaWYgdGhpcyBwb3J0IGlzIGFscmVhZHkgYm91bmQgb3IgdGhhdCBiaW5kIG9wZXJhdGlvbiBpcyBpblxuICAgICAgICAgICAgICAgICAqIHByb2dyZXNzLCB1c2UgdGhhdCByZXN1bHQuICovXG4gICAgICAgICAgICAgICAgbGV0IGJvdW5kUG9ydE9iamVjdCA9IHRoaXMuYm91bmRQb3J0cy5nZXQoKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykocG9ydFVyaSkpO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjcmVkcy5fZXF1YWxzKGJvdW5kUG9ydE9iamVjdC5jcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkQ2FsbGJhY2sobmV3IEVycm9yKGAke3BvcnR9IGFscmVhZHkgYm91bmQgd2l0aCBpbmNvbXBhdGlibGUgY3JlZGVudGlhbHNgKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogSWYgdGhhdCBvcGVyYXRpb24gaGFzIHByZXZpb3VzbHkgYmVlbiBjYW5jZWxsZWQgYnkgYW4gdW5iaW5kIGNhbGwsXG4gICAgICAgICAgICAgICAgICAgICAqIHVuY2FuY2VsIGl0LiAqL1xuICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QuY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChib3VuZFBvcnRPYmplY3QuY29tcGxldGlvblByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5jb21wbGV0aW9uUHJvbWlzZS50aGVuKHBvcnROdW0gPT4gY2FsbGJhY2sobnVsbCwgcG9ydE51bSksIGVycm9yID0+IGNhbGxiYWNrKGVycm9yLCAwKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZENhbGxiYWNrKG51bGwsIGJvdW5kUG9ydE9iamVjdC5wb3J0TnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWFwS2V5OiAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShwb3J0VXJpKSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxVcmk6IHBvcnRVcmksXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Qcm9taXNlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjYW5jZWxsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBwb3J0TnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsczogY3JlZHMsXG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmluZ1NlcnZlcnM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0UG9ydCA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkocG9ydFVyaS5wYXRoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21wbGV0aW9uUHJvbWlzZSA9IHRoaXMuYmluZFBvcnQocG9ydFVyaSwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QuY29tcGxldGlvblByb21pc2UgPSBjb21wbGV0aW9uUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAvKiBJZiB0aGUgcG9ydCBudW1iZXIgaXMgMCwgZGVmZXIgcG9wdWxhdGluZyB0aGUgbWFwIGVudHJ5IHVudGlsIGFmdGVyIHRoZVxuICAgICAgICAgICAgICAgICAqIGJpbmQgb3BlcmF0aW9uIGNvbXBsZXRlcyBhbmQgd2UgaGF2ZSBhIHNwZWNpZmljIHBvcnQgbnVtYmVyLiBPdGhlcndpc2UsXG4gICAgICAgICAgICAgICAgICogcG9wdWxhdGUgaXQgaW1tZWRpYXRlbHkuICovXG4gICAgICAgICAgICAgICAgaWYgKChzcGxpdFBvcnQgPT09IG51bGwgfHwgc3BsaXRQb3J0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzcGxpdFBvcnQucG9ydCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvblByb21pc2UudGhlbihwb3J0TnVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVXJpID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtZTogcG9ydFVyaS5zY2hlbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yaXR5OiBwb3J0VXJpLmF1dGhvcml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAoMCwgdXJpX3BhcnNlcl8xLmNvbWJpbmVIb3N0UG9ydCkoeyBob3N0OiBzcGxpdFBvcnQuaG9zdCwgcG9ydDogcG9ydE51bSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QubWFwS2V5ID0gKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykoZmluYWxVcmkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LmNvbXBsZXRpb25Qcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5wb3J0TnVtYmVyID0gcG9ydE51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYm91bmRQb3J0cy5zZXQoYm91bmRQb3J0T2JqZWN0Lm1hcEtleSwgYm91bmRQb3J0T2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHBvcnROdW0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvciwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3VuZFBvcnRzLnNldChib3VuZFBvcnRPYmplY3QubWFwS2V5LCBib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICBjb21wbGV0aW9uUHJvbWlzZS50aGVuKHBvcnROdW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LmNvbXBsZXRpb25Qcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5wb3J0TnVtYmVyID0gcG9ydE51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHBvcnROdW0pO1xuICAgICAgICAgICAgICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnJvciwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlZ2lzdGVySW5qZWN0b3JUb0NoYW5uZWx6KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgY2hhbm5lbHpfMS5yZWdpc3RlckNoYW5uZWx6U29ja2V0KSgnaW5qZWN0b3InLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEFkZHJlc3M6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVBZGRyZXNzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VjdXJpdHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdGVOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtc1N0YXJ0ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1zU3VjY2VlZGVkOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtc0ZhaWxlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzU2VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzUmVjZWl2ZWQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZWVwQWxpdmVzU2VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RMb2NhbFN0cmVhbUNyZWF0ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UmVtb3RlU3RyZWFtQ3JlYXRlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlU2VudFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlUmVjZWl2ZWRUaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEZsb3dDb250cm9sV2luZG93OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3RlRmxvd0NvbnRyb2xXaW5kb3c6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5jaGFubmVsekVuYWJsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWwsIHNvIEFQSSBzdGFiaWxpdHkgaXMgbm90IGd1YXJhbnRlZWQgYWNyb3NzIG1pbm9yIHZlcnNpb25zLlxuICAgICAgICAgICAgICogQHBhcmFtIGNyZWRlbnRpYWxzXG4gICAgICAgICAgICAgKiBAcGFyYW0gY2hhbm5lbHpSZWZcbiAgICAgICAgICAgICAqIEByZXR1cm5zXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbENyZWF0ZUNvbm5lY3Rpb25JbmplY3RvcldpdGhDaGFubmVselJlZihjcmVkZW50aWFscywgY2hhbm5lbHpSZWYsIG93bnNDaGFubmVselJlZiA9IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWxzID09PSBudWxsIHx8ICEoY3JlZGVudGlhbHMgaW5zdGFuY2VvZiBzZXJ2ZXJfY3JlZGVudGlhbHNfMS5TZXJ2ZXJDcmVkZW50aWFscykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY3JlZHMgbXVzdCBiZSBhIFNlcnZlckNyZWRlbnRpYWxzIG9iamVjdCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGFubmVsekVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckNoaWxkcmVuVHJhY2tlci5yZWZDaGlsZChjaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlciA9IHRoaXMuY3JlYXRlSHR0cDJTZXJ2ZXIoY3JlZGVudGlhbHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25zU2V0ID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaHR0cDJTZXJ2ZXJzLnNldChzZXJ2ZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpSZWY6IGNoYW5uZWx6UmVmLFxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uczogc2Vzc2lvbnNTZXQsXG4gICAgICAgICAgICAgICAgICAgIG93bnNDaGFubmVselJlZlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGluamVjdENvbm5lY3Rpb246IChjb25uZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXIuZW1pdCgnY29ubmVjdGlvbicsIGNvbm5lY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkcmFpbjogKGdyYWNlVGltZU1zKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzZXNzaW9uIG9mIHNlc3Npb25zU2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2MgPSAoX2IgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2Ygc2Vzc2lvbnNTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZ3JhY2VUaW1lTXMpKS51bnJlZikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkZXN0cm95OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2VydmVyKHNlcnZlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2Ygc2Vzc2lvbnNTZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjcmVhdGVDb25uZWN0aW9uSW5qZWN0b3IoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3JlZGVudGlhbHMgPT09IG51bGwgfHwgIShjcmVkZW50aWFscyBpbnN0YW5jZW9mIHNlcnZlcl9jcmVkZW50aWFsc18xLlNlcnZlckNyZWRlbnRpYWxzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjcmVkcyBtdXN0IGJlIGEgU2VydmVyQ3JlZGVudGlhbHMgb2JqZWN0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWx6UmVmID0gdGhpcy5yZWdpc3RlckluamVjdG9yVG9DaGFubmVseigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmV4cGVyaW1lbnRhbENyZWF0ZUNvbm5lY3Rpb25JbmplY3RvcldpdGhDaGFubmVselJlZihjcmVkZW50aWFscywgY2hhbm5lbHpSZWYsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xvc2VTZXJ2ZXIoc2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ0Nsb3Npbmcgc2VydmVyIHdpdGggYWRkcmVzcyAnICsgSlNPTi5zdHJpbmdpZnkoc2VydmVyLmFkZHJlc3MoKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcnZlckluZm8gPSB0aGlzLmh0dHAyU2VydmVycy5nZXQoc2VydmVyKTtcbiAgICAgICAgICAgICAgICBzZXJ2ZXIuY2xvc2UoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VydmVySW5mbyAmJiBzZXJ2ZXJJbmZvLm93bnNDaGFubmVselJlZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lckNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKHNlcnZlckluZm8uY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKShzZXJ2ZXJJbmZvLmNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmh0dHAyU2VydmVycy5kZWxldGUoc2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgPT09IG51bGwgfHwgY2FsbGJhY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbG9zZVNlc3Npb24oc2Vzc2lvbiwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnQ2xvc2luZyBzZXNzaW9uIGluaXRpYXRlZCBieSAnICsgKChfYiA9IHNlc3Npb24uc29ja2V0KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IucmVtb3RlQWRkcmVzcykpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlc3Npb25JbmZvID0gdGhpcy5zZXNzaW9ucy5nZXQoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgY29uc3QgY2xvc2VDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25DaGlsZHJlblRyYWNrZXIudW5yZWZDaGlsZChzZXNzaW9uSW5mby5yZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGNoYW5uZWx6XzEudW5yZWdpc3RlckNoYW5uZWx6UmVmKShzZXNzaW9uSW5mby5yZWYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrID09PSBudWxsIHx8IGNhbGxiYWNrID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHNlc3Npb24uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGNsb3NlQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZShjbG9zZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb21wbGV0ZVVuYmluZChib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlcnZlciBvZiBib3VuZFBvcnRPYmplY3QubGlzdGVuaW5nU2VydmVycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJJbmZvID0gdGhpcy5odHRwMlNlcnZlcnMuZ2V0KHNlcnZlcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXJ2ZXIoc2VydmVyLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3VuZFBvcnRPYmplY3QubGlzdGVuaW5nU2VydmVycy5kZWxldGUoc2VydmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2Ygc2VydmVySW5mby5zZXNzaW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRQb3J0cy5kZWxldGUoYm91bmRQb3J0T2JqZWN0Lm1hcEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVuYmluZCBhIHByZXZpb3VzbHkgYm91bmQgcG9ydCwgb3IgY2FuY2VsIGFuIGluLXByb2dyZXNzIGJpbmRBc3luY1xuICAgICAgICAgICAgICogb3BlcmF0aW9uLiBJZiBwb3J0IDAgd2FzIGJvdW5kLCBvbmx5IHRoZSBhY3R1YWwgYm91bmQgcG9ydCBjYW4gYmVcbiAgICAgICAgICAgICAqIHVuYm91bmQuIEZvciBleGFtcGxlLCBpZiBiaW5kQXN5bmMgd2FzIGNhbGxlZCB3aXRoIFwibG9jYWxob3N0OjBcIiBhbmQgdGhlXG4gICAgICAgICAgICAgKiBib3VuZCBwb3J0IHJlc3VsdCB3YXMgNTQzMjEsIGl0IGNhbiBiZSB1bmJvdW5kIGFzIFwibG9jYWxob3N0OjU0MzIxXCIuXG4gICAgICAgICAgICAgKiBAcGFyYW0gcG9ydFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB1bmJpbmQocG9ydCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ3VuYmluZCBwb3J0PScgKyBwb3J0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwb3J0VXJpID0gdGhpcy5ub3JtYWxpemVQb3J0KHBvcnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0UG9ydCA9ICgwLCB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydCkocG9ydFVyaS5wYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoKHNwbGl0UG9ydCA9PT0gbnVsbCB8fCBzcGxpdFBvcnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNwbGl0UG9ydC5wb3J0KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCB1bmJpbmQgcG9ydCAwJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kUG9ydE9iamVjdCA9IHRoaXMuYm91bmRQb3J0cy5nZXQoKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykocG9ydFVyaSkpO1xuICAgICAgICAgICAgICAgIGlmIChib3VuZFBvcnRPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgndW5iaW5kaW5nICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0Lm1hcEtleSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIG9yaWdpbmFsbHkgYm91bmQgYXMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgdXJpX3BhcnNlcl8xLnVyaVRvU3RyaW5nKShib3VuZFBvcnRPYmplY3Qub3JpZ2luYWxVcmkpKTtcbiAgICAgICAgICAgICAgICAgICAgLyogSWYgdGhlIGJpbmQgb3BlcmF0aW9uIGlzIHBlbmRpbmcsIHRoZSBjYW5jZWxsZWQgZmxhZyB3aWxsIHRyaWdnZXJcbiAgICAgICAgICAgICAgICAgICAgICogdGhlIHVuYmluZCBvcGVyYXRpb24gbGF0ZXIuICovXG4gICAgICAgICAgICAgICAgICAgIGlmIChib3VuZFBvcnRPYmplY3QuY29tcGxldGlvblByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdW5kUG9ydE9iamVjdC5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVVuYmluZChib3VuZFBvcnRPYmplY3QpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHcmFjZWZ1bGx5IGNsb3NlIGFsbCBjb25uZWN0aW9ucyBhc3NvY2lhdGVkIHdpdGggYSBwcmV2aW91c2x5IGJvdW5kIHBvcnQuXG4gICAgICAgICAgICAgKiBBZnRlciB0aGUgZ3JhY2UgdGltZSwgZm9yY2VmdWxseSBjbG9zZSBhbGwgcmVtYWluaW5nIG9wZW4gY29ubmVjdGlvbnMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogSWYgcG9ydCAwIHdhcyBib3VuZCwgb25seSB0aGUgYWN0dWFsIGJvdW5kIHBvcnQgY2FuIGJlXG4gICAgICAgICAgICAgKiBkcmFpbmVkLiBGb3IgZXhhbXBsZSwgaWYgYmluZEFzeW5jIHdhcyBjYWxsZWQgd2l0aCBcImxvY2FsaG9zdDowXCIgYW5kIHRoZVxuICAgICAgICAgICAgICogYm91bmQgcG9ydCByZXN1bHQgd2FzIDU0MzIxLCBpdCBjYW4gYmUgZHJhaW5lZCBhcyBcImxvY2FsaG9zdDo1NDMyMVwiLlxuICAgICAgICAgICAgICogQHBhcmFtIHBvcnRcbiAgICAgICAgICAgICAqIEBwYXJhbSBncmFjZVRpbWVNc1xuICAgICAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZHJhaW4ocG9ydCwgZ3JhY2VUaW1lTXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ2RyYWluIHBvcnQ9JyArIHBvcnQgKyAnIGdyYWNlVGltZU1zPScgKyBncmFjZVRpbWVNcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcG9ydFVyaSA9IHRoaXMubm9ybWFsaXplUG9ydChwb3J0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBzcGxpdFBvcnQgPSAoMCwgdXJpX3BhcnNlcl8xLnNwbGl0SG9zdFBvcnQpKHBvcnRVcmkucGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKChzcGxpdFBvcnQgPT09IG51bGwgfHwgc3BsaXRQb3J0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzcGxpdFBvcnQucG9ydCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZHJhaW4gcG9ydCAwJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGJvdW5kUG9ydE9iamVjdCA9IHRoaXMuYm91bmRQb3J0cy5nZXQoKDAsIHVyaV9wYXJzZXJfMS51cmlUb1N0cmluZykocG9ydFVyaSkpO1xuICAgICAgICAgICAgICAgIGlmICghYm91bmRQb3J0T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYWxsU2Vzc2lvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBodHRwMlNlcnZlciBvZiBib3VuZFBvcnRPYmplY3QubGlzdGVuaW5nU2VydmVycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJFbnRyeSA9IHRoaXMuaHR0cDJTZXJ2ZXJzLmdldChodHRwMlNlcnZlcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzZXNzaW9uIG9mIHNlcnZlckVudHJ5LnNlc3Npb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vzc2lvbnMuYWRkKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXNzaW9uKHNlc3Npb24sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vzc2lvbnMuZGVsZXRlKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIEFmdGVyIHRoZSBncmFjZSB0aW1lIGVuZHMsIHNlbmQgYW5vdGhlciBnb2F3YXkgdG8gYWxsIHJlbWFpbmluZyBzZXNzaW9uc1xuICAgICAgICAgICAgICAgICAqIHdpdGggdGhlIENBTkNFTCBjb2RlLiAqL1xuICAgICAgICAgICAgICAgIChfYyA9IChfYiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlc3Npb24gb2YgYWxsU2Vzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveShodHRwMi5jb25zdGFudHMuTkdIVFRQMl9DQU5DRUwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgZ3JhY2VUaW1lTXMpKS51bnJlZikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yY2VTaHV0ZG93bigpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGJvdW5kUG9ydE9iamVjdCBvZiB0aGlzLmJvdW5kUG9ydHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYm91bmRQb3J0T2JqZWN0LmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYm91bmRQb3J0cy5jbGVhcigpO1xuICAgICAgICAgICAgICAgIC8vIENsb3NlIHRoZSBzZXJ2ZXIgaWYgaXQgaXMgc3RpbGwgcnVubmluZy5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNlcnZlciBvZiB0aGlzLmh0dHAyU2VydmVycy5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZVNlcnZlcihzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBBbHdheXMgZGVzdHJveSBhbnkgYXZhaWxhYmxlIHNlc3Npb25zLiBJdCdzIHBvc3NpYmxlIHRoYXQgb25lIG9yIG1vcmVcbiAgICAgICAgICAgICAgICAvLyB0cnlTaHV0ZG93bigpIGNhbGxzIGFyZSBpbiBwcm9ncmVzcy4gRG9uJ3Qgd2FpdCBvbiB0aGVtIHRvIGZpbmlzaC5cbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25zLmZvckVhY2goKGNoYW5uZWx6SW5mbywgc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FzdCBOR0hUVFAyX0NBTkNFTCB0byBhbnkgYmVjYXVzZSBUeXBlU2NyaXB0IGRvZXNuJ3Qgc2VlbSB0b1xuICAgICAgICAgICAgICAgICAgICAvLyByZWNvZ25pemUgZGVzdHJveShjb2RlKSBhcyBhIHZhbGlkIHNpZ25hdHVyZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX0NBTkNFTCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9ucy5jbGVhcigpO1xuICAgICAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgdGhpcy5zaHV0ZG93biA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWdpc3RlcihuYW1lLCBoYW5kbGVyLCBzZXJpYWxpemUsIGRlc2VyaWFsaXplLCB0eXBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGFuZGxlcnMuaGFzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zZXQobmFtZSwge1xuICAgICAgICAgICAgICAgICAgICBmdW5jOiBoYW5kbGVyLFxuICAgICAgICAgICAgICAgICAgICBzZXJpYWxpemUsXG4gICAgICAgICAgICAgICAgICAgIGRlc2VyaWFsaXplLFxuICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBuYW1lLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdW5yZWdpc3RlcihuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMuZGVsZXRlKG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBAZGVwcmVjYXRlZCBObyBsb25nZXIgbmVlZGVkIGFzIG9mIHZlcnNpb24gMS4xMC54XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmh0dHAyU2VydmVycy5zaXplID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgIFsuLi50aGlzLmh0dHAyU2VydmVycy5rZXlzKCldLmV2ZXJ5KHNlcnZlciA9PiAhc2VydmVyLmxpc3RlbmluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXJ2ZXIgbXVzdCBiZSBib3VuZCBpbiBvcmRlciB0byBzdGFydCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2VydmVyIGlzIGFscmVhZHkgc3RhcnRlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5U2h1dGRvd24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICAgICAgY29uc3Qgd3JhcHBlZENhbGxiYWNrID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikodGhpcy5jaGFubmVselJlZik7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nQ2hlY2tzID0gMDtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBtYXliZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQ2hlY2tzLS07XG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nQ2hlY2tzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cmFwcGVkQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNodXRkb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtzZXJ2ZXJLZXksIHNlcnZlcl0gb2YgdGhpcy5odHRwMlNlcnZlcnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdDaGVja3MrKztcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VydmVyU3RyaW5nID0gc2VydmVyLmNoYW5uZWx6UmVmLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoJ1dhaXRpbmcgZm9yIHNlcnZlciAnICsgc2VydmVyU3RyaW5nICsgJyB0byBjbG9zZScpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlU2VydmVyKHNlcnZlcktleSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnU2VydmVyICcgKyBzZXJ2ZXJTdHJpbmcgKyAnIGZpbmlzaGVkIGNsb3NpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2Vzc2lvbiBvZiBzZXJ2ZXIuc2Vzc2lvbnMua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nQ2hlY2tzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZXNzaW9uU3RyaW5nID0gKF9iID0gc2Vzc2lvbi5zb2NrZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZW1vdGVBZGRyZXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnV2FpdGluZyBmb3Igc2Vzc2lvbiAnICsgc2Vzc2lvblN0cmluZyArICcgdG8gY2xvc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VTZXNzaW9uKHNlc3Npb24sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdTZXNzaW9uICcgKyBzZXNzaW9uU3RyaW5nICsgJyBmaW5pc2hlZCBjbG9zaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdDaGVja3MgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRkSHR0cDJQb3J0KCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IHlldCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBHZXQgdGhlIGNoYW5uZWx6IHJlZmVyZW5jZSBvYmplY3QgZm9yIHRoaXMgc2VydmVyLiBUaGUgcmV0dXJuZWQgdmFsdWUgaXNcbiAgICAgICAgICAgICAqIGdhcmJhZ2UgaWYgY2hhbm5lbHogaXMgZGlzYWJsZWQgZm9yIHRoaXMgc2VydmVyLlxuICAgICAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZ2V0Q2hhbm5lbHpSZWYoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhbm5lbHpSZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdmVyaWZ5Q29udGVudFR5cGUoc3RyZWFtLCBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSBoZWFkZXJzW2h0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfQ09OVEVOVF9UWVBFXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnRUeXBlICE9PSAnc3RyaW5nJyB8fFxuICAgICAgICAgICAgICAgICAgICAhY29udGVudFR5cGUuc3RhcnRzV2l0aCgnYXBwbGljYXRpb24vZ3JwYycpKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbS5yZXNwb25kKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX1NUQVRVU106IGh0dHAyLmNvbnN0YW50cy5IVFRQX1NUQVRVU19VTlNVUFBPUlRFRF9NRURJQV9UWVBFLFxuICAgICAgICAgICAgICAgICAgICB9LCB7IGVuZFN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9yZXRyaWV2ZUhhbmRsZXIocGF0aCkge1xuICAgICAgICAgICAgICAgIHNlcnZlckNhbGxUcmFjZSgnUmVjZWl2ZWQgY2FsbCB0byBtZXRob2QgJyArXG4gICAgICAgICAgICAgICAgICAgIHBhdGggK1xuICAgICAgICAgICAgICAgICAgICAnIGF0IGFkZHJlc3MgJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyQWRkcmVzc1N0cmluZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuaGFuZGxlcnMuZ2V0KHBhdGgpO1xuICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyQ2FsbFRyYWNlKCdObyBoYW5kbGVyIHJlZ2lzdGVyZWQgZm9yIG1ldGhvZCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggK1xuICAgICAgICAgICAgICAgICAgICAgICAgJy4gU2VuZGluZyBVTklNUExFTUVOVEVEIHN0YXR1cy4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3Jlc3BvbmRXaXRoRXJyb3IoZXJyLCBzdHJlYW0sIGNoYW5uZWx6U2Vzc2lvbkluZm8gPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgICAgICBjb25zdCB0cmFpbGVyc1RvU2VuZCA9IE9iamVjdC5hc3NpZ24oeyAnZ3JwYy1zdGF0dXMnOiAoX2IgPSBlcnIuY29kZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLCAnZ3JwYy1tZXNzYWdlJzogZXJyLmRldGFpbHMsIFtodHRwMi5jb25zdGFudHMuSFRUUDJfSEVBREVSX1NUQVRVU106IGh0dHAyLmNvbnN0YW50cy5IVFRQX1NUQVRVU19PSywgW2h0dHAyLmNvbnN0YW50cy5IVFRQMl9IRUFERVJfQ09OVEVOVF9UWVBFXTogJ2FwcGxpY2F0aW9uL2dycGMrcHJvdG8nIH0sIChfYyA9IGVyci5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnRvSHR0cDJIZWFkZXJzKCkpO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5yZXNwb25kKHRyYWlsZXJzVG9TZW5kLCB7IGVuZFN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvID09PSBudWxsIHx8IGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY2hhbm5lbHpIYW5kbGVyKGV4dHJhSW50ZXJjZXB0b3JzLCBzdHJlYW0sIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgaGFuZGxpbmcgaWRsZSB0aW1lb3V0XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0cmVhbU9wZW5lZChzdHJlYW0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWx6U2Vzc2lvbkluZm8gPSB0aGlzLnNlc3Npb25zLmdldChzdHJlYW0uc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsVHJhY2tlci5hZGRDYWxsU3RhcnRlZCgpO1xuICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IG51bGwgfHwgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2hhbm5lbHpTZXNzaW9uSW5mby5zdHJlYW1UcmFja2VyLmFkZENhbGxTdGFydGVkKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl92ZXJpZnlDb250ZW50VHlwZShzdHJlYW0sIGhlYWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvID09PSBudWxsIHx8IGNoYW5uZWx6U2Vzc2lvbkluZm8gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsRmFpbGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9IGhlYWRlcnNbSFRUUDJfSEVBREVSX1BBVEhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLl9yZXRyaWV2ZUhhbmRsZXIocGF0aCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3BvbmRXaXRoRXJyb3IoZ2V0VW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlKHBhdGgpLCBzdHJlYW0sIGNoYW5uZWx6U2Vzc2lvbkluZm8pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxFdmVudFRyYWNrZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZE1lc3NhZ2VTZW50OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbHpTZXNzaW9uSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8ubWVzc2FnZXNTZW50ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5sYXN0TWVzc2FnZVNlbnRUaW1lc3RhbXAgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhZGRNZXNzYWdlUmVjZWl2ZWQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVselNlc3Npb25JbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5tZXNzYWdlc1JlY2VpdmVkICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mby5sYXN0TWVzc2FnZVJlY2VpdmVkVGltZXN0YW1wID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgb25DYWxsRW5kOiBzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy5jb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxTdWNjZWVkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBvblN0cmVhbUVuZDogc3VjY2VzcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbHpTZXNzaW9uSW5mbykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWx6U2Vzc2lvbkluZm8uc3RyZWFtVHJhY2tlci5hZGRDYWxsU3VjY2VlZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGwgPSAoMCwgc2VydmVyX2ludGVyY2VwdG9yc18xLmdldFNlcnZlckludGVyY2VwdGluZ0NhbGwpKFsuLi5leHRyYUludGVyY2VwdG9ycywgLi4udGhpcy5pbnRlcmNlcHRvcnNdLCBzdHJlYW0sIGhlYWRlcnMsIGNhbGxFdmVudFRyYWNrZXIsIGhhbmRsZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9ydW5IYW5kbGVyRm9yQ2FsbChjYWxsLCBoYW5kbGVyKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxUcmFja2VyLmFkZENhbGxGYWlsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHpTZXNzaW9uSW5mbyA9PT0gbnVsbCB8fCBjaGFubmVselNlc3Npb25JbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGFubmVselNlc3Npb25JbmZvLnN0cmVhbVRyYWNrZXIuYWRkQ2FsbEZhaWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLklOVEVSTkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFVua25vd24gaGFuZGxlciB0eXBlOiAke2hhbmRsZXIudHlwZX1gLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfc3RyZWFtSGFuZGxlcihleHRyYUludGVyY2VwdG9ycywgc3RyZWFtLCBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIGhhbmRsaW5nIGlkbGUgdGltZW91dFxuICAgICAgICAgICAgICAgIHRoaXMub25TdHJlYW1PcGVuZWQoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmVyaWZ5Q29udGVudFR5cGUoc3RyZWFtLCBoZWFkZXJzKSAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSBoZWFkZXJzW0hUVFAyX0hFQURFUl9QQVRIXTtcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5fcmV0cmlldmVIYW5kbGVyKHBhdGgpO1xuICAgICAgICAgICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNwb25kV2l0aEVycm9yKGdldFVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZShwYXRoKSwgc3RyZWFtLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjYWxsID0gKDAsIHNlcnZlcl9pbnRlcmNlcHRvcnNfMS5nZXRTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsKShbLi4uZXh0cmFJbnRlcmNlcHRvcnMsIC4uLnRoaXMuaW50ZXJjZXB0b3JzXSwgc3RyZWFtLCBoZWFkZXJzLCBudWxsLCBoYW5kbGVyLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fcnVuSGFuZGxlckZvckNhbGwoY2FsbCwgaGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5JTlRFUk5BTCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBVbmtub3duIGhhbmRsZXIgdHlwZTogJHtoYW5kbGVyLnR5cGV9YCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3J1bkhhbmRsZXJGb3JDYWxsKGNhbGwsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHR5cGUgfSA9IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd1bmFyeScpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlVW5hcnkoY2FsbCwgaGFuZGxlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdjbGllbnRTdHJlYW0nKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZUNsaWVudFN0cmVhbWluZyhjYWxsLCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3NlcnZlclN0cmVhbScpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2VydmVyU3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnYmlkaScpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlQmlkaVN0cmVhbWluZyhjYWxsLCBoYW5kbGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfc2V0dXBIYW5kbGVycyhodHRwMlNlcnZlciwgZXh0cmFJbnRlcmNlcHRvcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaHR0cDJTZXJ2ZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzZXJ2ZXJBZGRyZXNzID0gaHR0cDJTZXJ2ZXIuYWRkcmVzcygpO1xuICAgICAgICAgICAgICAgIGxldCBzZXJ2ZXJBZGRyZXNzU3RyaW5nID0gJ251bGwnO1xuICAgICAgICAgICAgICAgIGlmIChzZXJ2ZXJBZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VydmVyQWRkcmVzcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckFkZHJlc3NTdHJpbmcgPSBzZXJ2ZXJBZGRyZXNzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyQWRkcmVzc1N0cmluZyA9IHNlcnZlckFkZHJlc3MuYWRkcmVzcyArICc6JyArIHNlcnZlckFkZHJlc3MucG9ydDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckFkZHJlc3NTdHJpbmcgPSBzZXJ2ZXJBZGRyZXNzU3RyaW5nO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmNoYW5uZWx6RW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuX2NoYW5uZWx6SGFuZGxlclxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX3N0cmVhbUhhbmRsZXI7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkhhbmRsZXIgPSB0aGlzLmNoYW5uZWx6RW5hYmxlZFxuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuX2NoYW5uZWx6U2Vzc2lvbkhhbmRsZXIoaHR0cDJTZXJ2ZXIpXG4gICAgICAgICAgICAgICAgICAgIDogdGhpcy5fc2Vzc2lvbkhhbmRsZXIoaHR0cDJTZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIGh0dHAyU2VydmVyLm9uKCdzdHJlYW0nLCBoYW5kbGVyLmJpbmQodGhpcywgZXh0cmFJbnRlcmNlcHRvcnMpKTtcbiAgICAgICAgICAgICAgICBodHRwMlNlcnZlci5vbignc2Vzc2lvbicsIHNlc3Npb25IYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9zZXNzaW9uSGFuZGxlcihodHRwMlNlcnZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLmh0dHAyU2VydmVycy5nZXQoaHR0cDJTZXJ2ZXIpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2Vzc2lvbnMuYWRkKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGlvbkFnZVRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtlZXBhbGl2ZVRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZGxlVGltZW91dE9iaiA9IHRoaXMuZW5hYmxlSWRsZVRpbWVvdXQoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heENvbm5lY3Rpb25BZ2VNcyAhPT0gVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcHBseSBhIHJhbmRvbSBqaXR0ZXIgd2l0aGluIGEgKy8tMTAlIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqaXR0ZXJNYWduaXR1ZGUgPSB0aGlzLm1heENvbm5lY3Rpb25BZ2VNcyAvIDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgaml0dGVyID0gTWF0aC5yYW5kb20oKSAqIGppdHRlck1hZ25pdHVkZSAqIDIgLSBqaXR0ZXJNYWduaXR1ZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25uZWN0aW9uQWdlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnQ29ubmVjdGlvbiBkcm9wcGVkIGJ5IG1heCBjb25uZWN0aW9uIGFnZTogJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoX2IgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlbW90ZUFkZHJlc3MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmdvYXdheShodHRwMi5jb25zdGFudHMuTkdIVFRQMl9OT19FUlJPUiwgfigxIDw8IDMxKSwga01heEFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBnb2F3YXkgY2FuJ3QgYmUgc2VudCBiZWNhdXNlIHRoZSBzZXNzaW9uIGlzIGFscmVhZHkgY2xvc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBBbGxvdyBhIGdyYWNlIHBlcmlvZCBhZnRlciBzZW5kaW5nIHRoZSBHT0FXQVkgYmVmb3JlIGZvcmNpYmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICogY2xvc2luZyB0aGUgY29ubmVjdGlvbi4gKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhDb25uZWN0aW9uQWdlR3JhY2VNcyAhPT0gVU5MSU1JVEVEX0NPTk5FQ1RJT05fQUdFX01TKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5tYXhDb25uZWN0aW9uQWdlR3JhY2VNcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChjb25uZWN0aW9uQWdlR3JhY2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5tYXhDb25uZWN0aW9uQWdlTXMgKyBqaXR0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gY29ubmVjdGlvbkFnZVRpbWVyLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChjb25uZWN0aW9uQWdlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFyS2VlcGFsaXZlVGltZW91dCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZWVwYWxpdmVUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChrZWVwYWxpdmVUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2VlcGFsaXZlVGltZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5TZW5kUGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoIXNlc3Npb24uZGVzdHJveWVkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUaW1lTXMgPCBLRUVQQUxJVkVfTUFYX1RJTUVfTVMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA+IDApO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0ICovXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZW5kUGluZzsgLy8gaG9pc3RlZCBmb3IgdXNlIGluIG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FuU2VuZFBpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1N0YXJ0aW5nIGtlZXBhbGl2ZSB0aW1lciBmb3IgJyArIHRoaXMua2VlcGFsaXZlVGltZU1zICsgJ21zJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZWVwYWxpdmVUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRQaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmtlZXBhbGl2ZVRpbWVNcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBrZWVwYWxpdmVUaW1lci51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoa2VlcGFsaXZlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzZW5kUGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FuU2VuZFBpbmcoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1NlbmRpbmcgcGluZyB3aXRoIHRpbWVvdXQgJyArIHRoaXMua2VlcGFsaXZlVGltZW91dE1zICsgJ21zJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcGluZ1NlbmRFcnJvciA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5nU2VudFN1Y2Nlc3NmdWxseSA9IHNlc3Npb24ucGluZygoZXJyLCBkdXJhdGlvbiwgcGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcktlZXBhbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnUGluZyBmYWlsZWQgd2l0aCBlcnJvcjogJyArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1JlY2VpdmVkIHBpbmcgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGluZ1NlbnRTdWNjZXNzZnVsbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluZ1NlbmRFcnJvciA9ICdQaW5nIHJldHVybmVkIGZhbHNlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdycGMvZ3JwYy1ub2RlIzIxMzlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaW5nU2VuZEVycm9yID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6ICcnKSB8fCAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGluZ1NlbmRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVHJhY2UoJ1Bpbmcgc2VuZCBmYWlsZWQ6ICcgKyBwaW5nU2VuZEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDb25uZWN0aW9uIGRyb3BwZWQgZHVlIHRvIHBpbmcgc2VuZCBlcnJvcjogJyArIHBpbmdTZW5kRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25DbG9zZWRCeVNlcnZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAga2VlcGFsaXZlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcktlZXBhbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIHRpbWVvdXQgcGFzc2VkIHdpdGhvdXQgcmVzcG9uc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdDb25uZWN0aW9uIGRyb3BwZWQgYnkga2VlcGFsaXZlIHRpbWVvdXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uQ2xvc2VkQnlTZXJ2ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0ga2VlcGFsaXZlVGltZXIudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGtlZXBhbGl2ZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lcigpO1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLm9uKCdjbG9zZScsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25DbG9zZWRCeVNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhY2UoYENvbm5lY3Rpb24gZHJvcHBlZCBieSBjbGllbnQgJHsoX2IgPSBzZXNzaW9uLnNvY2tldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnJlbW90ZUFkZHJlc3N9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbkFnZVRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25BZ2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY29ubmVjdGlvbkFnZUdyYWNlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWRsZVRpbWVvdXRPYmogIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaWRsZVRpbWVvdXRPYmoudGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXRzLmRlbGV0ZShzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IHRoaXMuaHR0cDJTZXJ2ZXJzLmdldChodHRwMlNlcnZlcikpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zZXNzaW9ucy5kZWxldGUoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY2hhbm5lbHpTZXNzaW9uSGFuZGxlcihodHRwMlNlcnZlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiAoc2Vzc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWx6UmVmID0gKDAsIGNoYW5uZWx6XzEucmVnaXN0ZXJDaGFubmVselNvY2tldCkoKF9jID0gKF9iID0gc2Vzc2lvbi5zb2NrZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZW1vdGVBZGRyZXNzKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAndW5rbm93bicsIHRoaXMuZ2V0Q2hhbm5lbHpTZXNzaW9uSW5mby5iaW5kKHRoaXMsIHNlc3Npb24pLCB0aGlzLmNoYW5uZWx6RW5hYmxlZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5uZWx6U2Vzc2lvbkluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWY6IGNoYW5uZWx6UmVmLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtVHJhY2tlcjogbmV3IGNoYW5uZWx6XzEuQ2hhbm5lbHpDYWxsVHJhY2tlcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNTZW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXNSZWNlaXZlZDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBBbGl2ZXNTZW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VTZW50VGltZXN0YW1wOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1lc3NhZ2VSZWNlaXZlZFRpbWVzdGFtcDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgKF9kID0gdGhpcy5odHRwMlNlcnZlcnMuZ2V0KGh0dHAyU2VydmVyKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNlc3Npb25zLmFkZChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9ucy5zZXQoc2Vzc2lvbiwgY2hhbm5lbHpTZXNzaW9uSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudEFkZHJlc3MgPSBgJHtzZXNzaW9uLnNvY2tldC5yZW1vdGVBZGRyZXNzfToke3Nlc3Npb24uc29ja2V0LnJlbW90ZVBvcnR9YDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZXN0YWJsaXNoZWQgYnkgY2xpZW50ICcgKyBjbGllbnRBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnQ29ubmVjdGlvbiBlc3RhYmxpc2hlZCBieSBjbGllbnQgJyArIGNsaWVudEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25DaGlsZHJlblRyYWNrZXIucmVmQ2hpbGQoY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29ubmVjdGlvbkFnZVRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtlZXBhbGl2ZVRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlkbGVUaW1lb3V0T2JqID0gdGhpcy5lbmFibGVJZGxlVGltZW91dChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zICE9PSBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGEgcmFuZG9tIGppdHRlciB3aXRoaW4gYSArLy0xMCUgcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGppdHRlck1hZ25pdHVkZSA9IHRoaXMubWF4Q29ubmVjdGlvbkFnZU1zIC8gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBqaXR0ZXIgPSBNYXRoLnJhbmRvbSgpICogaml0dGVyTWFnbml0dWRlICogMiAtIGppdHRlck1hZ25pdHVkZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25BZ2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uQ2xvc2VkQnlTZXJ2ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDb25uZWN0aW9uIGRyb3BwZWQgYnkgbWF4IGNvbm5lY3Rpb24gYWdlIGZyb20gJyArIGNsaWVudEFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZ29hd2F5KGh0dHAyLmNvbnN0YW50cy5OR0hUVFAyX05PX0VSUk9SLCB+KDEgPDwgMzEpLCBrTWF4QWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGdvYXdheSBjYW4ndCBiZSBzZW50IGJlY2F1c2UgdGhlIHNlc3Npb24gaXMgYWxyZWFkeSBjbG9zZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qIEFsbG93IGEgZ3JhY2UgcGVyaW9kIGFmdGVyIHNlbmRpbmcgdGhlIEdPQVdBWSBiZWZvcmUgZm9yY2libHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBjbG9zaW5nIHRoZSBjb25uZWN0aW9uLiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zICE9PSBVTkxJTUlURURfQ09OTkVDVElPTl9BR0VfTVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbkFnZUdyYWNlVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLm1heENvbm5lY3Rpb25BZ2VHcmFjZU1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gY29ubmVjdGlvbkFnZUdyYWNlVGltZXIudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLm1heENvbm5lY3Rpb25BZ2VNcyArIGppdHRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2UgPSBjb25uZWN0aW9uQWdlVGltZXIudW5yZWYpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5jYWxsKGNvbm5lY3Rpb25BZ2VUaW1lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xlYXJLZWVwYWxpdmVUaW1lb3V0ID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtlZXBhbGl2ZVRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoa2VlcGFsaXZlVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2VlcGFsaXZlVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhblNlbmRQaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICghc2Vzc2lvbi5kZXN0cm95ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRpbWVNcyA8IEtFRVBBTElWRV9NQVhfVElNRV9NUyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMua2VlcGFsaXZlVGltZU1zID4gMCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3QgKi9cbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbmRQaW5nOyAvLyBob2lzdGVkIGZvciB1c2UgaW4gbWF5YmVTdGFydEtlZXBhbGl2ZVBpbmdUaW1lclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnU3RhcnRpbmcga2VlcGFsaXZlIHRpbWVyIGZvciAnICsgdGhpcy5rZWVwYWxpdmVUaW1lTXMgKyAnbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtlZXBhbGl2ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcktlZXBhbGl2ZVRpbWVvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kUGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5rZWVwYWxpdmVUaW1lTXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0ga2VlcGFsaXZlVGltZW91dC51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoa2VlcGFsaXZlVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHNlbmRQaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjYW5TZW5kUGluZygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnU2VuZGluZyBwaW5nIHdpdGggdGltZW91dCAnICsgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMgKyAnbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwaW5nU2VuZEVycm9yID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpbmdTZW50U3VjY2Vzc2Z1bGx5ID0gc2Vzc2lvbi5waW5nKChlcnIsIGR1cmF0aW9uLCBwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIGZhaWxlZCB3aXRoIGVycm9yOiAnICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBkdWUgdG8gZXJyb3Igb2YgYSBwaW5nIGZyYW1lICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVyci5tZXNzYWdlICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHJldHVybiBpbiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uQ2xvc2VkQnlTZXJ2ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdSZWNlaXZlZCBwaW5nIHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZVN0YXJ0S2VlcGFsaXZlUGluZ1RpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBpbmdTZW50U3VjY2Vzc2Z1bGx5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpbmdTZW5kRXJyb3IgPSAnUGluZyByZXR1cm5lZCBmYWxzZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBncnBjL2dycGMtbm9kZSMyMTM5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGluZ1NlbmRFcnJvciA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiAnJykgfHwgJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpbmdTZW5kRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmtlZXBhbGl2ZVRyYWNlKCdQaW5nIHNlbmQgZmFpbGVkOiAnICsgcGluZ1NlbmRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBkdWUgdG8gcGluZyBzZW5kIGVycm9yOiAnICsgcGluZ1NlbmRFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNsb3NlZEJ5U2VydmVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVselNlc3Npb25JbmZvLmtlZXBBbGl2ZXNTZW50ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZWVwYWxpdmVUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJLZWVwYWxpdmVUaW1lb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5rZWVwYWxpdmVUcmFjZSgnUGluZyB0aW1lb3V0IHBhc3NlZCB3aXRob3V0IHJlc3BvbnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVselRyYWNlLmFkZFRyYWNlKCdDVF9JTkZPJywgJ0Nvbm5lY3Rpb24gZHJvcHBlZCBieSBrZWVwYWxpdmUgdGltZW91dCBmcm9tICcgKyBjbGllbnRBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uQ2xvc2VkQnlTZXJ2ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5rZWVwYWxpdmVUaW1lb3V0TXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0ga2VlcGFsaXZlVGltZW91dC51bnJlZikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoa2VlcGFsaXZlVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIG1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5vbignY2xvc2UnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2I7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlc3Npb25DbG9zZWRCeVNlcnZlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbHpUcmFjZS5hZGRUcmFjZSgnQ1RfSU5GTycsICdDb25uZWN0aW9uIGRyb3BwZWQgYnkgY2xpZW50ICcgKyBjbGllbnRBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbkNoaWxkcmVuVHJhY2tlci51bnJlZkNoaWxkKGNoYW5uZWx6UmVmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBjaGFubmVsel8xLnVucmVnaXN0ZXJDaGFubmVselJlZikoY2hhbm5lbHpSZWYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25BZ2VUaW1lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0aW9uQWdlVGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvbm5lY3Rpb25BZ2VHcmFjZVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyS2VlcGFsaXZlVGltZW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkbGVUaW1lb3V0T2JqICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkbGVUaW1lb3V0T2JqLnRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Vzc2lvbklkbGVUaW1lb3V0cy5kZWxldGUoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSB0aGlzLmh0dHAyU2VydmVycy5nZXQoaHR0cDJTZXJ2ZXIpKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc2Vzc2lvbnMuZGVsZXRlKHNlc3Npb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9ucy5kZWxldGUoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbmFibGVJZGxlVGltZW91dChzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iLCBfYztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uSWRsZVRpbWVvdXQgPj0gTUFYX0NPTk5FQ1RJT05fSURMRV9NUykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZVRpbWVvdXRPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVN0cmVhbXM6IDAsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RJZGxlOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlOiB0aGlzLm9uU3RyZWFtQ2xvc2UuYmluZCh0aGlzLCBzZXNzaW9uKSxcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogc2V0VGltZW91dCh0aGlzLm9uSWRsZVRpbWVvdXQsIHRoaXMuc2Vzc2lvbklkbGVUaW1lb3V0LCB0aGlzLCBzZXNzaW9uKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIChfYyA9IChfYiA9IGlkbGVUaW1lb3V0T2JqLnRpbWVvdXQpLnVucmVmKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXRzLnNldChzZXNzaW9uLCBpZGxlVGltZW91dE9iaik7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzb2NrZXQgfSA9IHNlc3Npb247XG4gICAgICAgICAgICAgICAgdGhpcy50cmFjZSgnRW5hYmxlIGlkbGUgdGltZW91dCBmb3IgJyArXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5yZW1vdGVBZGRyZXNzICtcbiAgICAgICAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW90ZVBvcnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpZGxlVGltZW91dE9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9uSWRsZVRpbWVvdXQoY3R4LCBzZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzb2NrZXQgfSA9IHNlc3Npb247XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbkluZm8gPSBjdHguc2Vzc2lvbklkbGVUaW1lb3V0cy5nZXQoc2Vzc2lvbik7XG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgY2FsbGVkIHdoaWxlIHdlIGhhdmUgYWN0aXZlU3RyZWFtcyAtIHRpbWVyIHdpbGwgbm90IGJlIHJlc2NoZWR1bGVkXG4gICAgICAgICAgICAgICAgLy8gdW50aWwgbGFzdCBhY3RpdmUgc3RyZWFtIGlzIGNsb3NlZCwgdGhlbiBpdCB3aWxsIGNhbGwgLnJlZnJlc2goKSBvbiB0aGUgdGltZXJcbiAgICAgICAgICAgICAgICAvLyBpbXBvcnRhbnQgcGFydCBpcyB0byBub3QgY2xlYXJUaW1lb3V0KHRpbWVyKSBvciBpdCBiZWNvbWVzIHVudXNhYmxlXG4gICAgICAgICAgICAgICAgLy8gZm9yIGZ1dHVyZSByZWZyZXNoZXNcbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbkluZm8gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uSW5mby5hY3RpdmVTdHJlYW1zID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gc2Vzc2lvbkluZm8ubGFzdElkbGUgPj0gY3R4LnNlc3Npb25JZGxlVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRyYWNlKCdTZXNzaW9uIGlkbGUgdGltZW91dCB0cmlnZ2VyZWQgZm9yICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzb2NrZXQgPT09IG51bGwgfHwgc29ja2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb2NrZXQucmVtb3RlQWRkcmVzcykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc6JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNvY2tldCA9PT0gbnVsbCB8fCBzb2NrZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvY2tldC5yZW1vdGVQb3J0KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBsYXN0IGlkbGUgYXQgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkluZm8ubGFzdElkbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNsb3NlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25JbmZvLnRpbWVvdXQucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb25TdHJlYW1PcGVuZWQoc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHN0cmVhbS5zZXNzaW9uO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkbGVUaW1lb3V0T2JqID0gdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXRzLmdldChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoaWRsZVRpbWVvdXRPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWVvdXRPYmouYWN0aXZlU3RyZWFtcyArPSAxO1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0ub25jZSgnY2xvc2UnLCBpZGxlVGltZW91dE9iai5vbkNsb3NlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvblN0cmVhbUNsb3NlKHNlc3Npb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIF9jO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkbGVUaW1lb3V0T2JqID0gdGhpcy5zZXNzaW9uSWRsZVRpbWVvdXRzLmdldChzZXNzaW9uKTtcbiAgICAgICAgICAgICAgICBpZiAoaWRsZVRpbWVvdXRPYmopIHtcbiAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWVvdXRPYmouYWN0aXZlU3RyZWFtcyAtPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWRsZVRpbWVvdXRPYmouYWN0aXZlU3RyZWFtcyA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWVvdXRPYmoubGFzdElkbGUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRsZVRpbWVvdXRPYmoudGltZW91dC5yZWZyZXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYWNlKCdTZXNzaW9uIG9uU3RyZWFtQ2xvc2UnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKF9iID0gc2Vzc2lvbi5zb2NrZXQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZW1vdGVBZGRyZXNzKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzonICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKF9jID0gc2Vzc2lvbi5zb2NrZXQpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5yZW1vdGVQb3J0KSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyBhdCAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZGxlVGltZW91dE9iai5sYXN0SWRsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBfbWV0YWRhdGEgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLm1ldGFkYXRhID8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIF9zdGFydF9kZWNvcmF0b3JzID0gW2RlcHJlY2F0ZSgnQ2FsbGluZyBzdGFydCgpIGlzIG5vIGxvbmdlciBuZWNlc3NhcnkuIEl0IGNhbiBiZSBzYWZlbHkgb21pdHRlZC4nKV07XG4gICAgICAgICAgICBfX2VzRGVjb3JhdGUoX2EsIG51bGwsIF9zdGFydF9kZWNvcmF0b3JzLCB7IGtpbmQ6IFwibWV0aG9kXCIsIG5hbWU6IFwic3RhcnRcIiwgc3RhdGljOiBmYWxzZSwgcHJpdmF0ZTogZmFsc2UsIGFjY2VzczogeyBoYXM6IG9iaiA9PiBcInN0YXJ0XCIgaW4gb2JqLCBnZXQ6IG9iaiA9PiBvYmouc3RhcnQgfSwgbWV0YWRhdGE6IF9tZXRhZGF0YSB9LCBudWxsLCBfaW5zdGFuY2VFeHRyYUluaXRpYWxpemVycyk7XG4gICAgICAgICAgICBpZiAoX21ldGFkYXRhKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2EsIFN5bWJvbC5tZXRhZGF0YSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlLCB2YWx1ZTogX21ldGFkYXRhIH0pO1xuICAgICAgICB9KSgpLFxuICAgICAgICBfYTtcbn0pKCk7XG5leHBvcnRzLlNlcnZlciA9IFNlcnZlcjtcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVuYXJ5KGNhbGwsIGhhbmRsZXIpIHtcbiAgICBsZXQgc3RyZWFtO1xuICAgIGZ1bmN0aW9uIHJlc3BvbmQoZXJyLCB2YWx1ZSwgdHJhaWxlciwgZmxhZ3MpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKCgwLCBzZXJ2ZXJfY2FsbF8xLnNlcnZlckVycm9yVG9TdGF0dXMpKGVyciwgdHJhaWxlcikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhbGwuc2VuZE1lc3NhZ2UodmFsdWUsICgpID0+IHtcbiAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLk9LLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6ICdPSycsXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHRyYWlsZXIgIT09IG51bGwgJiYgdHJhaWxlciAhPT0gdm9pZCAwID8gdHJhaWxlciA6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCByZXF1ZXN0TWV0YWRhdGE7XG4gICAgbGV0IHJlcXVlc3RNZXNzYWdlID0gbnVsbDtcbiAgICBjYWxsLnN0YXJ0KHtcbiAgICAgICAgb25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHJlcXVlc3RNZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgY2FsbC5zdGFydFJlYWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5JTVBMRU1FTlRFRCxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFJlY2VpdmVkIGEgc2Vjb25kIHJlcXVlc3QgbWVzc2FnZSBmb3Igc2VydmVyIHN0cmVhbWluZyBtZXRob2QgJHtoYW5kbGVyLnBhdGh9YCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdE1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgY2FsbC5zdGFydFJlYWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWNlaXZlSGFsZkNsb3NlKCkge1xuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgbm8gcmVxdWVzdCBtZXNzYWdlIGZvciBzZXJ2ZXIgc3RyZWFtaW5nIG1ldGhvZCAke2hhbmRsZXIucGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHJlYW0gPSBuZXcgc2VydmVyX2NhbGxfMS5TZXJ2ZXJXcml0YWJsZVN0cmVhbUltcGwoaGFuZGxlci5wYXRoLCBjYWxsLCByZXF1ZXN0TWV0YWRhdGEsIHJlcXVlc3RNZXNzYWdlKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5mdW5jKHN0cmVhbSwgcmVzcG9uZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBTZXJ2ZXIgbWV0aG9kIGhhbmRsZXIgdGhyZXcgZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25DYW5jZWwoKSB7XG4gICAgICAgICAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2NhbmNlbGxlZCcsICdjYW5jZWxsZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUNsaWVudFN0cmVhbWluZyhjYWxsLCBoYW5kbGVyKSB7XG4gICAgbGV0IHN0cmVhbTtcbiAgICBmdW5jdGlvbiByZXNwb25kKGVyciwgdmFsdWUsIHRyYWlsZXIsIGZsYWdzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cygoMCwgc2VydmVyX2NhbGxfMS5zZXJ2ZXJFcnJvclRvU3RhdHVzKShlcnIsIHRyYWlsZXIpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjYWxsLnNlbmRNZXNzYWdlKHZhbHVlLCAoKSA9PiB7XG4gICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5PSyxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiAnT0snLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB0cmFpbGVyICE9PSBudWxsICYmIHRyYWlsZXIgIT09IHZvaWQgMCA/IHRyYWlsZXIgOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYWxsLnN0YXJ0KHtcbiAgICAgICAgb25SZWNlaXZlTWV0YWRhdGEobWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHN0cmVhbSA9IG5ldyBzZXJ2ZXJfY2FsbF8xLlNlcnZlckR1cGxleFN0cmVhbUltcGwoaGFuZGxlci5wYXRoLCBjYWxsLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXIuZnVuYyhzdHJlYW0sIHJlc3BvbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTktOT1dOLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgU2VydmVyIG1ldGhvZCBoYW5kbGVyIHRocmV3IGVycm9yICR7ZXJyLm1lc3NhZ2V9YCxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVjZWl2ZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgc3RyZWFtLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uUmVjZWl2ZUhhbGZDbG9zZSgpIHtcbiAgICAgICAgICAgIHN0cmVhbS5wdXNoKG51bGwpO1xuICAgICAgICB9LFxuICAgICAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnY2FuY2VsbGVkJywgJ2NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBoYW5kbGVTZXJ2ZXJTdHJlYW1pbmcoY2FsbCwgaGFuZGxlcikge1xuICAgIGxldCBzdHJlYW07XG4gICAgbGV0IHJlcXVlc3RNZXRhZGF0YTtcbiAgICBsZXQgcmVxdWVzdE1lc3NhZ2UgPSBudWxsO1xuICAgIGNhbGwuc3RhcnQoe1xuICAgICAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICAgICAgcmVxdWVzdE1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICBjYWxsLnN0YXJ0UmVhZCgpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0TWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIGNhbGwuc2VuZFN0YXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTklNUExFTUVOVEVELFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBgUmVjZWl2ZWQgYSBzZWNvbmQgcmVxdWVzdCBtZXNzYWdlIGZvciBzZXJ2ZXIgc3RyZWFtaW5nIG1ldGhvZCAke2hhbmRsZXIucGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0TWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICBjYWxsLnN0YXJ0UmVhZCgpO1xuICAgICAgICB9LFxuICAgICAgICBvblJlY2VpdmVIYWxmQ2xvc2UoKSB7XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOSU1QTEVNRU5URUQsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBSZWNlaXZlZCBubyByZXF1ZXN0IG1lc3NhZ2UgZm9yIHNlcnZlciBzdHJlYW1pbmcgbWV0aG9kICR7aGFuZGxlci5wYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmVhbSA9IG5ldyBzZXJ2ZXJfY2FsbF8xLlNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbChoYW5kbGVyLnBhdGgsIGNhbGwsIHJlcXVlc3RNZXRhZGF0YSwgcmVxdWVzdE1lc3NhZ2UpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyLmZ1bmMoc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjYWxsLnNlbmRTdGF0dXMoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5LTk9XTixcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYFNlcnZlciBtZXRob2QgaGFuZGxlciB0aHJldyBlcnJvciAke2Vyci5tZXNzYWdlfWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNhbmNlbCgpIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0pIHtcbiAgICAgICAgICAgICAgICBzdHJlYW0uY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzdHJlYW0uZW1pdCgnY2FuY2VsbGVkJywgJ2NhbmNlbGxlZCcpO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5mdW5jdGlvbiBoYW5kbGVCaWRpU3RyZWFtaW5nKGNhbGwsIGhhbmRsZXIpIHtcbiAgICBsZXQgc3RyZWFtO1xuICAgIGNhbGwuc3RhcnQoe1xuICAgICAgICBvblJlY2VpdmVNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICAgICAgc3RyZWFtID0gbmV3IHNlcnZlcl9jYWxsXzEuU2VydmVyRHVwbGV4U3RyZWFtSW1wbChoYW5kbGVyLnBhdGgsIGNhbGwsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlci5mdW5jKHN0cmVhbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY2FsbC5zZW5kU3RhdHVzKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogY29uc3RhbnRzXzEuU3RhdHVzLlVOS05PV04sXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBTZXJ2ZXIgbWV0aG9kIGhhbmRsZXIgdGhyZXcgZXJyb3IgJHtlcnIubWVzc2FnZX1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbnVsbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb25SZWNlaXZlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgICAgICBzdHJlYW0ucHVzaChtZXNzYWdlKTtcbiAgICAgICAgfSxcbiAgICAgICAgb25SZWNlaXZlSGFsZkNsb3NlKCkge1xuICAgICAgICAgICAgc3RyZWFtLnB1c2gobnVsbCk7XG4gICAgICAgIH0sXG4gICAgICAgIG9uQ2FuY2VsKCkge1xuICAgICAgICAgICAgaWYgKHN0cmVhbSkge1xuICAgICAgICAgICAgICAgIHN0cmVhbS5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdjYW5jZWxsZWQnLCAnY2FuY2VsbGVkJyk7XG4gICAgICAgICAgICAgICAgc3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TdGF0dXNCdWlsZGVyID0gdm9pZCAwO1xuLyoqXG4gKiBBIGJ1aWxkZXIgZm9yIGdSUEMgc3RhdHVzIG9iamVjdHMuXG4gKi9cbmNsYXNzIFN0YXR1c0J1aWxkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmNvZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBudWxsO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHN0YXR1cyBjb2RlIHRvIHRoZSBidWlsZGVyLlxuICAgICAqL1xuICAgIHdpdGhDb2RlKGNvZGUpIHtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgZGV0YWlscyB0byB0aGUgYnVpbGRlci5cbiAgICAgKi9cbiAgICB3aXRoRGV0YWlscyhkZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IGRldGFpbHM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIG1ldGFkYXRhIHRvIHRoZSBidWlsZGVyLlxuICAgICAqL1xuICAgIHdpdGhNZXRhZGF0YShtZXRhZGF0YSkge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgdGhlIHN0YXR1cyBvYmplY3QuXG4gICAgICovXG4gICAgYnVpbGQoKSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5jb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0dXMuY29kZSA9IHRoaXMuY29kZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZXRhaWxzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBzdGF0dXMuZGV0YWlscyA9IHRoaXMuZGV0YWlscztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhdHVzLm1ldGFkYXRhID0gdGhpcy5tZXRhZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdHVzO1xuICAgIH1cbn1cbmV4cG9ydHMuU3RhdHVzQnVpbGRlciA9IFN0YXR1c0J1aWxkZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGF0dXMtYnVpbGRlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5MZWFmTG9hZEJhbGFuY2VyID0gZXhwb3J0cy5QaWNrRmlyc3RMb2FkQmFsYW5jZXIgPSBleHBvcnRzLlBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcgPSB2b2lkIDA7XG5leHBvcnRzLnNodWZmbGVkID0gc2h1ZmZsZWQ7XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG5jb25zdCBsb2FkX2JhbGFuY2VyXzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyXCIpO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBwaWNrZXJfMSA9IHJlcXVpcmUoXCIuL3BpY2tlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18yID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgbmV0XzEgPSByZXF1aXJlKFwibmV0XCIpO1xuY29uc3QgY2FsbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL2NhbGwtaW50ZXJmYWNlXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAncGlja19maXJzdCc7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbmNvbnN0IFRZUEVfTkFNRSA9ICdwaWNrX2ZpcnN0Jztcbi8qKlxuICogRGVsYXkgYWZ0ZXIgc3RhcnRpbmcgYSBjb25uZWN0aW9uIG9uIGEgc3ViY2hhbm5lbCBiZWZvcmUgc3RhcnRpbmcgYVxuICogY29ubmVjdGlvbiBvbiB0aGUgbmV4dCBzdWJjaGFubmVsIGluIHRoZSBsaXN0LCBmb3IgSGFwcHkgRXllYmFsbHMgYWxnb3JpdGhtLlxuICovXG5jb25zdCBDT05ORUNUSU9OX0RFTEFZX0lOVEVSVkFMX01TID0gMjUwO1xuY2xhc3MgUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3Ioc2h1ZmZsZUFkZHJlc3NMaXN0KSB7XG4gICAgICAgIHRoaXMuc2h1ZmZsZUFkZHJlc3NMaXN0ID0gc2h1ZmZsZUFkZHJlc3NMaXN0O1xuICAgIH1cbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICB0b0pzb25PYmplY3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBbVFlQRV9OQU1FXToge1xuICAgICAgICAgICAgICAgIHNodWZmbGVBZGRyZXNzTGlzdDogdGhpcy5zaHVmZmxlQWRkcmVzc0xpc3QsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXRTaHVmZmxlQWRkcmVzc0xpc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNodWZmbGVBZGRyZXNzTGlzdDtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgY3JlYXRlRnJvbUpzb24ob2JqKSB7XG4gICAgICAgIGlmICgnc2h1ZmZsZUFkZHJlc3NMaXN0JyBpbiBvYmogJiZcbiAgICAgICAgICAgICEodHlwZW9mIG9iai5zaHVmZmxlQWRkcmVzc0xpc3QgPT09ICdib29sZWFuJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncGlja19maXJzdCBjb25maWcgZmllbGQgc2h1ZmZsZUFkZHJlc3NMaXN0IG11c3QgYmUgYSBib29sZWFuIGlmIHByb3ZpZGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnKG9iai5zaHVmZmxlQWRkcmVzc0xpc3QgPT09IHRydWUpO1xuICAgIH1cbn1cbmV4cG9ydHMuUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyA9IFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWc7XG4vKipcbiAqIFBpY2tlciBmb3IgYSBgUGlja0ZpcnN0TG9hZEJhbGFuY2VyYCBpbiB0aGUgUkVBRFkgc3RhdGUuIEFsd2F5cyByZXR1cm5zIHRoZVxuICogcGlja2VkIHN1YmNoYW5uZWwuXG4gKi9cbmNsYXNzIFBpY2tGaXJzdFBpY2tlciB7XG4gICAgY29uc3RydWN0b3Ioc3ViY2hhbm5lbCkge1xuICAgICAgICB0aGlzLnN1YmNoYW5uZWwgPSBzdWJjaGFubmVsO1xuICAgIH1cbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwaWNrUmVzdWx0VHlwZTogcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuQ09NUExFVEUsXG4gICAgICAgICAgICBzdWJjaGFubmVsOiB0aGlzLnN1YmNoYW5uZWwsXG4gICAgICAgICAgICBzdGF0dXM6IG51bGwsXG4gICAgICAgICAgICBvbkNhbGxTdGFydGVkOiBudWxsLFxuICAgICAgICAgICAgb25DYWxsRW5kZWQ6IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm4gYSBuZXcgYXJyYXkgd2l0aCB0aGUgZWxlbWVudHMgb2YgdGhlIGlucHV0IGFycmF5IGluIGEgcmFuZG9tIG9yZGVyXG4gKiBAcGFyYW0gbGlzdCBUaGUgaW5wdXQgYXJyYXlcbiAqIEByZXR1cm5zIEEgc2h1ZmZsZWQgYXJyYXkgb2YgdGhlIGVsZW1lbnRzIG9mIGxpc3RcbiAqL1xuZnVuY3Rpb24gc2h1ZmZsZWQobGlzdCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGxpc3Quc2xpY2UoKTtcbiAgICBmb3IgKGxldCBpID0gcmVzdWx0Lmxlbmd0aCAtIDE7IGkgPiAxOyBpLS0pIHtcbiAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICBjb25zdCB0ZW1wID0gcmVzdWx0W2ldO1xuICAgICAgICByZXN1bHRbaV0gPSByZXN1bHRbal07XG4gICAgICAgIHJlc3VsdFtqXSA9IHRlbXA7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEludGVybGVhdmUgYWRkcmVzc2VzIGluIGFkZHJlc3NMaXN0IGJ5IGZhbWlseSBpbiBhY2NvcmRhbmNlIHdpdGggUkZDLTgzMDQgc2VjdGlvbiA0XG4gKiBAcGFyYW0gYWRkcmVzc0xpc3RcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIGludGVybGVhdmVBZGRyZXNzRmFtaWxpZXMoYWRkcmVzc0xpc3QpIHtcbiAgICBpZiAoYWRkcmVzc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgY29uc3QgaXB2NkFkZHJlc3NlcyA9IFtdO1xuICAgIGNvbnN0IGlwdjRBZGRyZXNzZXMgPSBbXTtcbiAgICBjb25zdCBpcHY2Rmlyc3QgPSAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzIuaXNUY3BTdWJjaGFubmVsQWRkcmVzcykoYWRkcmVzc0xpc3RbMF0pICYmICgwLCBuZXRfMS5pc0lQdjYpKGFkZHJlc3NMaXN0WzBdLmhvc3QpO1xuICAgIGZvciAoY29uc3QgYWRkcmVzcyBvZiBhZGRyZXNzTGlzdCkge1xuICAgICAgICBpZiAoKDAsIHN1YmNoYW5uZWxfYWRkcmVzc18yLmlzVGNwU3ViY2hhbm5lbEFkZHJlc3MpKGFkZHJlc3MpICYmICgwLCBuZXRfMS5pc0lQdjYpKGFkZHJlc3MuaG9zdCkpIHtcbiAgICAgICAgICAgIGlwdjZBZGRyZXNzZXMucHVzaChhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlwdjRBZGRyZXNzZXMucHVzaChhZGRyZXNzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBmaXJzdExpc3QgPSBpcHY2Rmlyc3QgPyBpcHY2QWRkcmVzc2VzIDogaXB2NEFkZHJlc3NlcztcbiAgICBjb25zdCBzZWNvbmRMaXN0ID0gaXB2NkZpcnN0ID8gaXB2NEFkZHJlc3NlcyA6IGlwdjZBZGRyZXNzZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLm1heChmaXJzdExpc3QubGVuZ3RoLCBzZWNvbmRMaXN0Lmxlbmd0aCk7IGkrKykge1xuICAgICAgICBpZiAoaSA8IGZpcnN0TGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGZpcnN0TGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPCBzZWNvbmRMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goc2Vjb25kTGlzdFtpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IFJFUE9SVF9IRUFMVEhfU1RBVFVTX09QVElPTl9OQU1FID0gJ2dycGMtbm9kZS5pbnRlcm5hbC5waWNrLWZpcnN0LnJlcG9ydF9oZWFsdGhfc3RhdHVzJztcbmNsYXNzIFBpY2tGaXJzdExvYWRCYWxhbmNlciB7XG4gICAgLyoqXG4gICAgICogTG9hZCBiYWxhbmNlciB0aGF0IGF0dGVtcHRzIHRvIGNvbm5lY3QgdG8gZWFjaCBiYWNrZW5kIGluIHRoZSBhZGRyZXNzIGxpc3RcbiAgICAgKiBpbiBvcmRlciwgYW5kIHBpY2tzIHRoZSBmaXJzdCBvbmUgdGhhdCBjb25uZWN0cywgdXNpbmcgaXQgZm9yIGV2ZXJ5XG4gICAgICogcmVxdWVzdC5cbiAgICAgKiBAcGFyYW0gY2hhbm5lbENvbnRyb2xIZWxwZXIgYENoYW5uZWxDb250cm9sSGVscGVyYCBpbnN0YW5jZSBwcm92aWRlZCBieVxuICAgICAqICAgICB0aGlzIGxvYWQgYmFsYW5jZXIncyBvd25lci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbGlzdCBvZiBzdWJjaGFubmVscyB0aGlzIGxvYWQgYmFsYW5jZXIgaXMgY3VycmVudGx5IGF0dGVtcHRpbmcgdG9cbiAgICAgICAgICogY29ubmVjdCB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IGNvbm5lY3Rpdml0eSBzdGF0ZSBvZiB0aGUgbG9hZCBiYWxhbmNlci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbmRleCB3aXRoaW4gdGhlIGBzdWJjaGFubmVsc2AgYXJyYXkgb2YgdGhlIHN1YmNoYW5uZWwgd2l0aCB0aGUgbW9zdFxuICAgICAgICAgKiByZWNlbnRseSBzdGFydGVkIGNvbm5lY3Rpb24gYXR0ZW1wdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFN1YmNoYW5uZWxJbmRleCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IHBpY2tlZCBzdWJjaGFubmVsIHVzZWQgZm9yIG1ha2luZyBjYWxscy4gUG9wdWxhdGVkIGlmXG4gICAgICAgICAqIGFuZCBvbmx5IGlmIHRoZSBsb2FkIGJhbGFuY2VyJ3MgY3VycmVudCBzdGF0ZSBpcyBSRUFEWS4gSW4gdGhhdCBjYXNlLFxuICAgICAgICAgKiB0aGUgc3ViY2hhbm5lbCdzIGN1cnJlbnQgc3RhdGUgaXMgYWxzbyBSRUFEWS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFBpY2sgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdGVuZXIgY2FsbGJhY2sgYXR0YWNoZWQgdG8gZWFjaCBzdWJjaGFubmVsIGluIHRoZSBgc3ViY2hhbm5lbHNgIGxpc3RcbiAgICAgICAgICogd2hpbGUgZXN0YWJsaXNoaW5nIGEgY29ubmVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIgPSAoc3ViY2hhbm5lbCwgcHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIGtlZXBhbGl2ZVRpbWUsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblN1YmNoYW5uZWxTdGF0ZVVwZGF0ZShzdWJjaGFubmVsLCBwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5waWNrZWRTdWJjaGFubmVsSGVhbHRoTGlzdGVuZXIgPSAoKSA9PiB0aGlzLmNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgTEIgcG9saWN5IGVudGVycyBzdGlja3kgVFJBTlNJRU5UX0ZBSUxVUkUgbW9kZSB3aGVuIGFsbFxuICAgICAgICAgKiBzdWJjaGFubmVscyBoYXZlIGZhaWxlZCB0byBjb25uZWN0IGF0IGxlYXN0IG9uY2UsIGFuZCBpdCBzdGF5cyBpbiB0aGF0XG4gICAgICAgICAqIG1vZGUgdW50aWwgYSBjb25uZWN0aW9uIGF0dGVtcHQgaXMgc3VjY2Vzc2Z1bC4gV2hpbGUgaW4gc3RpY2t5IFRGIG1vZGUsXG4gICAgICAgICAqIHRoZSBMQiBwb2xpY3kgY29udGludW91c2x5IGF0dGVtcHRzIHRvIGNvbm5lY3QgdG8gYWxsIG9mIGl0cyBzdWJjaGFubmVscy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXBvcnRIZWFsdGhTdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb3N0IHJlY2VudCBlcnJvciByZXBvcnRlZCBieSBhbnkgc3ViY2hhbm5lbCBhcyBpdCB0cmFuc2l0aW9uZWQgdG9cbiAgICAgICAgICogVFJBTlNJRU5UX0ZBSUxVUkUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMubGF0ZXN0QWRkcmVzc0xpc3QgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdE9wdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5sYXRlc3RSZXNvbHV0aW9uTm90ZSA9ICcnO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsgfSwgMCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQpO1xuICAgIH1cbiAgICBhbGxDaGlsZHJlbkhhdmVSZXBvcnRlZFRGKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbi5ldmVyeShjaGlsZCA9PiBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUpO1xuICAgIH1cbiAgICByZXNldENoaWxkcmVuUmVwb3J0ZWRURigpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5ldmVyeShjaGlsZCA9PiBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUgPSBmYWxzZSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWNrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXBvcnRIZWFsdGhTdGF0dXMgJiYgIXRoaXMuY3VycmVudFBpY2suaXNIZWFsdGh5KCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgUGlja2VkIHN1YmNoYW5uZWwgJHt0aGlzLmN1cnJlbnRQaWNrLmdldEFkZHJlc3MoKX0gaXMgdW5oZWFsdGh5YDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoe1xuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZLCBuZXcgUGlja0ZpcnN0UGlja2VyKHRoaXMuY3VycmVudFBpY2spLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgoKF9hID0gdGhpcy5sYXRlc3RBZGRyZXNzTGlzdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBObyBjb25uZWN0aW9uIGVzdGFibGlzaGVkLiBMYXN0IGVycm9yOiAke3RoaXMubGFzdEVycm9yfS4gUmVzb2x1dGlvbiBub3RlOiAke3RoaXMubGF0ZXN0UmVzb2x1dGlvbk5vdGV9YDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSwgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYE5vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuIExhc3QgZXJyb3I6ICR7dGhpcy5sYXN0RXJyb3J9LiBSZXNvbHV0aW9uIG5vdGU6ICR7dGhpcy5sYXRlc3RSZXNvbHV0aW9uTm90ZX1gO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yTWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORywgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXF1ZXN0UmVyZXNvbHV0aW9uKCkge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnJlcXVlc3RSZXJlc29sdXRpb24oKTtcbiAgICB9XG4gICAgbWF5YmVFbnRlclN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlKCkge1xuICAgICAgICBpZiAoIXRoaXMuYWxsQ2hpbGRyZW5IYXZlUmVwb3J0ZWRURigpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXRDaGlsZHJlblJlcG9ydGVkVEYoKTtcbiAgICAgICAgaWYgKHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0aWNreVRyYW5zaWVudEZhaWx1cmVNb2RlID0gdHJ1ZTtcbiAgICAgICAgZm9yIChjb25zdCB7IHN1YmNoYW5uZWwgfSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzdWJjaGFubmVsLnN0YXJ0Q29ubmVjdGluZygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICB9XG4gICAgcmVtb3ZlQ3VycmVudFBpY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQaWNrICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrLnJlbW92ZUNvbm5lY3Rpdml0eVN0YXRlTGlzdGVuZXIodGhpcy5zdWJjaGFubmVsU3RhdGVMaXN0ZW5lcik7XG4gICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnJlbW92ZUNoYW5uZWx6Q2hpbGQodGhpcy5jdXJyZW50UGljay5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBpY2sucmVtb3ZlSGVhbHRoU3RhdGVXYXRjaGVyKHRoaXMucGlja2VkU3ViY2hhbm5lbEhlYWx0aExpc3RlbmVyKTtcbiAgICAgICAgICAgIC8vIFVucmVmIGxhc3QsIHRvIGF2b2lkIHRyaWdnZXJpbmcgbGlzdGVuZXJzXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrLnVucmVmKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQaWNrID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblN1YmNoYW5uZWxTdGF0ZVVwZGF0ZShzdWJjaGFubmVsLCBwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKChfYSA9IHRoaXMuY3VycmVudFBpY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5yZWFsU3ViY2hhbm5lbEVxdWFscyhzdWJjaGFubmVsKSkge1xuICAgICAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ3VycmVudFBpY2soKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFJlcG9ydE5ld1N0YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBbaW5kZXgsIGNoaWxkXSBvZiB0aGlzLmNoaWxkcmVuLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKHN1YmNoYW5uZWwucmVhbFN1YmNoYW5uZWxFcXVhbHMoY2hpbGQuc3ViY2hhbm5lbCkpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGlja1N1YmNoYW5uZWwoY2hpbGQuc3ViY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXdTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuaGFzUmVwb3J0ZWRUcmFuc2llbnRGYWlsdXJlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXliZUVudGVyU3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmN1cnJlbnRTdWJjaGFubmVsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnROZXh0U3ViY2hhbm5lbENvbm5lY3RpbmcoaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZC5zdWJjaGFubmVsLnN0YXJ0Q29ubmVjdGluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydE5leHRTdWJjaGFubmVsQ29ubmVjdGluZyhzdGFydEluZGV4KSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25EZWxheVRpbWVvdXQpO1xuICAgICAgICBmb3IgKGNvbnN0IFtpbmRleCwgY2hpbGRdIG9mIHRoaXMuY2hpbGRyZW4uZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPj0gc3RhcnRJbmRleCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWxTdGF0ZSA9IGNoaWxkLnN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3ViY2hhbm5lbFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFIHx8XG4gICAgICAgICAgICAgICAgICAgIHN1YmNoYW5uZWxTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0Q29ubmVjdGluZyhpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tYXliZUVudGVyU3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGF2ZSBhIHNpbmdsZSBzdWJjaGFubmVsIGluIHRoZSBgc3ViY2hhbm5lbHNgIGxpc3Qgc3RhcnQgY29ubmVjdGluZy5cbiAgICAgKiBAcGFyYW0gc3ViY2hhbm5lbEluZGV4IFRoZSBpbmRleCBpbnRvIHRoZSBgc3ViY2hhbm5lbHNgIGxpc3QuXG4gICAgICovXG4gICAgc3RhcnRDb25uZWN0aW5nKHN1YmNoYW5uZWxJbmRleCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uRGVsYXlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3ViY2hhbm5lbEluZGV4ID0gc3ViY2hhbm5lbEluZGV4O1xuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltzdWJjaGFubmVsSW5kZXhdLnN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT1cbiAgICAgICAgICAgIGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRyYWNlKCdTdGFydCBjb25uZWN0aW5nIHRvIHN1YmNoYW5uZWwgd2l0aCBhZGRyZXNzICcgK1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5bc3ViY2hhbm5lbEluZGV4XS5zdWJjaGFubmVsLmdldEFkZHJlc3MoKSk7XG4gICAgICAgICAgICBwcm9jZXNzLm5leHRUaWNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgKF9hID0gdGhpcy5jaGlsZHJlbltzdWJjaGFubmVsSW5kZXhdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3ViY2hhbm5lbC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkRlbGF5VGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydE5leHRTdWJjaGFubmVsQ29ubmVjdGluZyhzdWJjaGFubmVsSW5kZXggKyAxKTtcbiAgICAgICAgfSwgQ09OTkVDVElPTl9ERUxBWV9JTlRFUlZBTF9NUyk7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuY29ubmVjdGlvbkRlbGF5VGltZW91dCkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjbGFyZSB0aGF0IHRoZSBzcGVjaWZpZWQgc3ViY2hhbm5lbCBzaG91bGQgYmUgdXNlZCB0byBtYWtlIHJlcXVlc3RzLlxuICAgICAqIFRoaXMgZnVuY3Rpb25zIHRoZSBzYW1lIGluZGVwZW5kZW50IG9mIHdoZXRoZXIgc3ViY2hhbm5lbCBpcyBhIG1lbWJlciBvZlxuICAgICAqIHRoaXMuY2hpbGRyZW4gYW5kIHdoZXRoZXIgaXQgaXMgZXF1YWwgdG8gdGhpcy5jdXJyZW50UGljay5cbiAgICAgKiBQcmVyZXF1aXNpdGU6IHN1YmNoYW5uZWwuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gUkVBRFkuXG4gICAgICogQHBhcmFtIHN1YmNoYW5uZWxcbiAgICAgKi9cbiAgICBwaWNrU3ViY2hhbm5lbChzdWJjaGFubmVsKSB7XG4gICAgICAgIHRyYWNlKCdQaWNrIHN1YmNoYW5uZWwgd2l0aCBhZGRyZXNzICcgKyBzdWJjaGFubmVsLmdldEFkZHJlc3MoKSk7XG4gICAgICAgIHRoaXMuc3RpY2t5VHJhbnNpZW50RmFpbHVyZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgLyogUmVmIGJlZm9yZSByZW1vdmVDdXJyZW50UGljayBhbmQgcmVzZXRTdWJjaGFubmVsTGlzdCB0byBhdm9pZCB0aGVcbiAgICAgICAgICogcmVmY291bnQgZHJvcHBpbmcgdG8gMCBkdXJpbmcgdGhpcyBwcm9jZXNzLiAqL1xuICAgICAgICBzdWJjaGFubmVsLnJlZigpO1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLmFkZENoYW5uZWx6Q2hpbGQoc3ViY2hhbm5lbC5nZXRDaGFubmVselJlZigpKTtcbiAgICAgICAgdGhpcy5yZW1vdmVDdXJyZW50UGljaygpO1xuICAgICAgICB0aGlzLnJlc2V0U3ViY2hhbm5lbExpc3QoKTtcbiAgICAgICAgc3ViY2hhbm5lbC5hZGRDb25uZWN0aXZpdHlTdGF0ZUxpc3RlbmVyKHRoaXMuc3ViY2hhbm5lbFN0YXRlTGlzdGVuZXIpO1xuICAgICAgICBzdWJjaGFubmVsLmFkZEhlYWx0aFN0YXRlV2F0Y2hlcih0aGlzLnBpY2tlZFN1YmNoYW5uZWxIZWFsdGhMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMuY3VycmVudFBpY2sgPSBzdWJjaGFubmVsO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uRGVsYXlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRSZXBvcnROZXdTdGF0ZSgpO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShuZXdTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdHJhY2UoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbdGhpcy5jdXJyZW50U3RhdGVdICtcbiAgICAgICAgICAgICcgLT4gJyArXG4gICAgICAgICAgICBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZVtuZXdTdGF0ZV0pO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKG5ld1N0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSk7XG4gICAgfVxuICAgIHJlc2V0U3ViY2hhbm5lbExpc3QoKSB7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgLyogQWx3YXlzIHJlbW9ldiB0aGUgY29ubmVjdGl2aXR5IHN0YXRlIGxpc3RlbmVyLiBJZiB0aGUgc3ViY2hhbm5lbCBpc1xuICAgICAgICAgICAgICAgZ2V0dGluZyBwaWNrZWQsIGl0IHdpbGwgYmUgcmUtYWRkZWQgdGhlbi4gKi9cbiAgICAgICAgICAgIGNoaWxkLnN1YmNoYW5uZWwucmVtb3ZlQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgICAgIC8qIFJlZnMgYXJlIGNvdW50ZWQgaW5kZXBlbmRlbnRseSBmb3IgdGhlIGNoaWxkcmVuIGxpc3QgYW5kIHRoZVxuICAgICAgICAgICAgICogY3VycmVudFBpY2ssIHNvIHdlIGNhbGwgdW5yZWYgd2hldGhlciBvciBub3QgdGhlIGNoaWxkIGlzIHRoZVxuICAgICAgICAgICAgICogY3VycmVudFBpY2suIENoYW5uZWx6IGNoaWxkIHJlZmVyZW5jZXMgYXJlIGFsc28gcmVmY291bnRlZCwgc29cbiAgICAgICAgICAgICAqIHJlbW92ZUNoYW5uZWx6Q2hpbGQgY2FuIGJlIGhhbmRsZWQgdGhlIHNhbWUgd2F5LiAqL1xuICAgICAgICAgICAgY2hpbGQuc3ViY2hhbm5lbC51bnJlZigpO1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5yZW1vdmVDaGFubmVsekNoaWxkKGNoaWxkLnN1YmNoYW5uZWwuZ2V0Q2hhbm5lbHpSZWYoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50U3ViY2hhbm5lbEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIH1cbiAgICBjb25uZWN0VG9BZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgb3B0aW9ucykge1xuICAgICAgICB0cmFjZSgnY29ubmVjdFRvQWRkcmVzc0xpc3QoWycgKyBhZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYWRkcmVzcykpICsgJ10pJyk7XG4gICAgICAgIGNvbnN0IG5ld0NoaWxkcmVuTGlzdCA9IGFkZHJlc3NMaXN0Lm1hcChhZGRyZXNzID0+ICh7XG4gICAgICAgICAgICBzdWJjaGFubmVsOiB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLmNyZWF0ZVN1YmNoYW5uZWwoYWRkcmVzcywgb3B0aW9ucyksXG4gICAgICAgICAgICBoYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmU6IGZhbHNlLFxuICAgICAgICB9KSk7XG4gICAgICAgIGZvciAoY29uc3QgeyBzdWJjaGFubmVsIH0gb2YgbmV3Q2hpbGRyZW5MaXN0KSB7XG4gICAgICAgICAgICBpZiAoc3ViY2hhbm5lbC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgIHRoaXMucGlja1N1YmNoYW5uZWwoc3ViY2hhbm5lbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIFJlZiBlYWNoIHN1YmNoYW5uZWwgYmVmb3JlIHJlc2V0dGluZyB0aGUgbGlzdCwgdG8gZW5zdXJlIHRoYXRcbiAgICAgICAgICogc3ViY2hhbm5lbHMgc2hhcmVkIGJldHdlZW4gdGhlIGxpc3QgZG9uJ3QgZHJvcCB0byAwIHJlZnMgZHVyaW5nIHRoZVxuICAgICAgICAgKiB0cmFuc2l0aW9uLiAqL1xuICAgICAgICBmb3IgKGNvbnN0IHsgc3ViY2hhbm5lbCB9IG9mIG5ld0NoaWxkcmVuTGlzdCkge1xuICAgICAgICAgICAgc3ViY2hhbm5lbC5yZWYoKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIuYWRkQ2hhbm5lbHpDaGlsZChzdWJjaGFubmVsLmdldENoYW5uZWx6UmVmKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbmV3Q2hpbGRyZW5MaXN0O1xuICAgICAgICBmb3IgKGNvbnN0IHsgc3ViY2hhbm5lbCB9IG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWwuYWRkQ29ubmVjdGl2aXR5U3RhdGVMaXN0ZW5lcih0aGlzLnN1YmNoYW5uZWxTdGF0ZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGlmIChjaGlsZC5zdWJjaGFubmVsLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09XG4gICAgICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC5oYXNSZXBvcnRlZFRyYW5zaWVudEZhaWx1cmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhcnROZXh0U3ViY2hhbm5lbENvbm5lY3RpbmcoMCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kUmVwb3J0TmV3U3RhdGUoKTtcbiAgICB9XG4gICAgdXBkYXRlQWRkcmVzc0xpc3QobWF5YmVFbmRwb2ludExpc3QsIGxiQ29uZmlnLCBvcHRpb25zLCByZXNvbHV0aW9uTm90ZSkge1xuICAgICAgICBpZiAoIShsYkNvbmZpZyBpbnN0YW5jZW9mIFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXliZUVuZHBvaW50TGlzdC5vaykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwICYmIHRoaXMuY3VycmVudFBpY2sgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIobWF5YmVFbmRwb2ludExpc3QuZXJyb3IpLCBtYXliZUVuZHBvaW50TGlzdC5lcnJvci5kZXRhaWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbmRwb2ludExpc3QgPSBtYXliZUVuZHBvaW50TGlzdC52YWx1ZTtcbiAgICAgICAgdGhpcy5yZXBvcnRIZWFsdGhTdGF0dXMgPSBvcHRpb25zW1JFUE9SVF9IRUFMVEhfU1RBVFVTX09QVElPTl9OQU1FXTtcbiAgICAgICAgLyogUHJldmlvdXNseSwgYW4gdXBkYXRlIHdvdWxkIGJlIGRpc2NhcmRlZCBpZiBpdCB3YXMgaWRlbnRpY2FsIHRvIHRoZVxuICAgICAgICAgKiBwcmV2aW91cyB1cGRhdGUsIHRvIG1pbmltaXplIGNodXJuLiBOb3cgdGhlIEROUyByZXNvbHZlciBpc1xuICAgICAgICAgKiByYXRlLWxpbWl0ZWQsIHNvIHRoYXQgaXMgbGVzcyBvZiBhIGNvbmNlcm4uICovXG4gICAgICAgIGlmIChsYkNvbmZpZy5nZXRTaHVmZmxlQWRkcmVzc0xpc3QoKSkge1xuICAgICAgICAgICAgZW5kcG9pbnRMaXN0ID0gc2h1ZmZsZWQoZW5kcG9pbnRMaXN0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByYXdBZGRyZXNzTGlzdCA9IFtdLmNvbmNhdCguLi5lbmRwb2ludExpc3QubWFwKGVuZHBvaW50ID0+IGVuZHBvaW50LmFkZHJlc3NlcykpO1xuICAgICAgICB0cmFjZSgndXBkYXRlQWRkcmVzc0xpc3QoWycgKyByYXdBZGRyZXNzTGlzdC5tYXAoYWRkcmVzcyA9PiAoMCwgc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZykoYWRkcmVzcykpICsgJ10pJyk7XG4gICAgICAgIGNvbnN0IGFkZHJlc3NMaXN0ID0gaW50ZXJsZWF2ZUFkZHJlc3NGYW1pbGllcyhyYXdBZGRyZXNzTGlzdCk7XG4gICAgICAgIHRoaXMubGF0ZXN0QWRkcmVzc0xpc3QgPSBhZGRyZXNzTGlzdDtcbiAgICAgICAgdGhpcy5sYXRlc3RPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jb25uZWN0VG9BZGRyZXNzTGlzdChhZGRyZXNzTGlzdCwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMubGF0ZXN0UmVzb2x1dGlvbk5vdGUgPSByZXNvbHV0aW9uTm90ZTtcbiAgICAgICAgaWYgKHJhd0FkZHJlc3NMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSAnTm8gYWRkcmVzc2VzIHJlc29sdmVkJztcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBleGl0SWRsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFICYmXG4gICAgICAgICAgICB0aGlzLmxhdGVzdEFkZHJlc3NMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RUb0FkZHJlc3NMaXN0KHRoaXMubGF0ZXN0QWRkcmVzc0xpc3QsIHRoaXMubGF0ZXN0T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmVzZXRCYWNrb2ZmKCkge1xuICAgICAgICAvKiBUaGUgcGljayBmaXJzdCBsb2FkIGJhbGFuY2VyIGRvZXMgbm90IGhhdmUgYSBjb25uZWN0aW9uIGJhY2tvZmYsIHNvIHRoaXNcbiAgICAgICAgICogZG9lcyBub3RoaW5nICovXG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICB0aGlzLnJlbW92ZUN1cnJlbnRQaWNrKCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuUGlja0ZpcnN0TG9hZEJhbGFuY2VyID0gUGlja0ZpcnN0TG9hZEJhbGFuY2VyO1xuY29uc3QgTEVBRl9DT05GSUcgPSBuZXcgUGlja0ZpcnN0TG9hZEJhbGFuY2luZ0NvbmZpZyhmYWxzZSk7XG4vKipcbiAqIFRoaXMgY2xhc3MgaGFuZGxlcyB0aGUgbGVhZiBsb2FkIGJhbGFuY2luZyBvcGVyYXRpb25zIGZvciBhIHNpbmdsZSBlbmRwb2ludC5cbiAqIEl0IGlzIGEgdGhpbiB3cmFwcGVyIGFyb3VuZCBhIFBpY2tGaXJzdExvYWRCYWxhbmNlciB3aXRoIGEgZGlmZmVyZW50IEFQSVxuICogdGhhdCBtb3JlIGNsb3NlbHkgcmVmbGVjdHMgaG93IGl0IHdpbGwgYmUgdXNlZCBhcyBhIGxlYWYgYmFsYW5jZXIuXG4gKi9cbmNsYXNzIExlYWZMb2FkQmFsYW5jZXIge1xuICAgIGNvbnN0cnVjdG9yKGVuZHBvaW50LCBjaGFubmVsQ29udHJvbEhlbHBlciwgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpIHtcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IGVuZHBvaW50O1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnJlc29sdXRpb25Ob3RlID0gcmVzb2x1dGlvbk5vdGU7XG4gICAgICAgIHRoaXMubGF0ZXN0U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICBjb25zdCBjaGlsZENoYW5uZWxDb250cm9sSGVscGVyID0gKDAsIGxvYWRfYmFsYW5jZXJfMS5jcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyKShjaGFubmVsQ29udHJvbEhlbHBlciwge1xuICAgICAgICAgICAgdXBkYXRlU3RhdGU6IChjb25uZWN0aXZpdHlTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdFN0YXRlID0gY29ubmVjdGl2aXR5U3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgICAgICAgICAgY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBpY2tGaXJzdEJhbGFuY2VyID0gbmV3IFBpY2tGaXJzdExvYWRCYWxhbmNlcihjaGlsZENoYW5uZWxDb250cm9sSGVscGVyKTtcbiAgICAgICAgdGhpcy5sYXRlc3RQaWNrZXIgPSBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcy5waWNrRmlyc3RCYWxhbmNlcik7XG4gICAgfVxuICAgIHN0YXJ0Q29ubmVjdGluZygpIHtcbiAgICAgICAgdGhpcy5waWNrRmlyc3RCYWxhbmNlci51cGRhdGVBZGRyZXNzTGlzdCgoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21WYWx1ZSkoW3RoaXMuZW5kcG9pbnRdKSwgTEVBRl9DT05GSUcsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRpb25zKSwgeyBbUkVQT1JUX0hFQUxUSF9TVEFUVVNfT1BUSU9OX05BTUVdOiB0cnVlIH0pLCB0aGlzLnJlc29sdXRpb25Ob3RlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBlbmRwb2ludCBhc3NvY2lhdGVkIHdpdGggdGhpcyBMZWFmTG9hZEJhbGFuY2VyIHRvIGEgbmV3XG4gICAgICogZW5kcG9pbnQuIERvZXMgbm90IHRyaWdnZXIgY29ubmVjdGlvbiBlc3RhYmxpc2htZW50IGlmIGEgY29ubmVjdGlvblxuICAgICAqIGF0dGVtcHQgaXMgbm90IGFscmVhZHkgaW4gcHJvZ3Jlc3MuXG4gICAgICogQHBhcmFtIG5ld0VuZHBvaW50XG4gICAgICovXG4gICAgdXBkYXRlRW5kcG9pbnQobmV3RW5kcG9pbnQsIG5ld09wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gbmV3T3B0aW9ucztcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IG5ld0VuZHBvaW50O1xuICAgICAgICBpZiAodGhpcy5sYXRlc3RTdGF0ZSAhPT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRDb25uZWN0aXZpdHlTdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF0ZXN0U3RhdGU7XG4gICAgfVxuICAgIGdldFBpY2tlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF0ZXN0UGlja2VyO1xuICAgIH1cbiAgICBnZXRFbmRwb2ludCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kcG9pbnQ7XG4gICAgfVxuICAgIGV4aXRJZGxlKCkge1xuICAgICAgICB0aGlzLnBpY2tGaXJzdEJhbGFuY2VyLmV4aXRJZGxlKCk7XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMucGlja0ZpcnN0QmFsYW5jZXIuZGVzdHJveSgpO1xuICAgIH1cbn1cbmV4cG9ydHMuTGVhZkxvYWRCYWxhbmNlciA9IExlYWZMb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSkoVFlQRV9OQU1FLCBQaWNrRmlyc3RMb2FkQmFsYW5jZXIsIFBpY2tGaXJzdExvYWRCYWxhbmNpbmdDb25maWcpO1xuICAgICgwLCBsb2FkX2JhbGFuY2VyXzEucmVnaXN0ZXJEZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSkoVFlQRV9OQU1FKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWQtYmFsYW5jZXItcGljay1maXJzdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNCBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5GaWxlV2F0Y2hlckNlcnRpZmljYXRlUHJvdmlkZXIgPSB2b2lkIDA7XG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwidXRpbFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ2NlcnRpZmljYXRlX3Byb3ZpZGVyJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY29uc3QgcmVhZEZpbGVQcm9taXNlID0gKDAsIHV0aWxfMS5wcm9taXNpZnkpKGZzLnJlYWRGaWxlKTtcbmNsYXNzIEZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnJlZnJlc2hUaW1lciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsZVJlc3VsdFByb21pc2UgPSBudWxsO1xuICAgICAgICB0aGlzLmxhdGVzdENhVXBkYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmNhTGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmlkZW50aXR5TGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gbnVsbDtcbiAgICAgICAgaWYgKChjb25maWcuY2VydGlmaWNhdGVGaWxlID09PSB1bmRlZmluZWQpICE9PSAoY29uZmlnLnByaXZhdGVLZXlGaWxlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NlcnRpZmljYXRlRmlsZSBhbmQgcHJpdmF0ZUtleUZpbGUgbXVzdCBiZSBzZXQgb3IgdW5zZXQgdG9nZXRoZXInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLmNlcnRpZmljYXRlRmlsZSA9PT0gdW5kZWZpbmVkICYmIGNvbmZpZy5jYUNlcnRpZmljYXRlRmlsZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0IGxlYXN0IG9uZSBvZiBjZXJ0aWZpY2F0ZUZpbGUgYW5kIGNhQ2VydGlmaWNhdGVGaWxlIG11c3QgYmUgc2V0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ0ZpbGUgd2F0Y2hlciBjb25zdHJ1Y3RlZCB3aXRoIGNvbmZpZyAnICsgSlNPTi5zdHJpbmdpZnkoY29uZmlnKSk7XG4gICAgfVxuICAgIHVwZGF0ZUNlcnRpZmljYXRlcygpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlsZVJlc3VsdFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbGVSZXN1bHRQcm9taXNlID0gUHJvbWlzZS5hbGxTZXR0bGVkKFtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmNlcnRpZmljYXRlRmlsZSA/IHJlYWRGaWxlUHJvbWlzZSh0aGlzLmNvbmZpZy5jZXJ0aWZpY2F0ZUZpbGUpIDogUHJvbWlzZS5yZWplY3QoKSxcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnByaXZhdGVLZXlGaWxlID8gcmVhZEZpbGVQcm9taXNlKHRoaXMuY29uZmlnLnByaXZhdGVLZXlGaWxlKSA6IFByb21pc2UucmVqZWN0KCksXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5jYUNlcnRpZmljYXRlRmlsZSA/IHJlYWRGaWxlUHJvbWlzZSh0aGlzLmNvbmZpZy5jYUNlcnRpZmljYXRlRmlsZSkgOiBQcm9taXNlLnJlamVjdCgpXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmZpbGVSZXN1bHRQcm9taXNlLnRoZW4oKFtjZXJ0aWZpY2F0ZVJlc3VsdCwgcHJpdmF0ZUtleVJlc3VsdCwgY2FDZXJ0aWZpY2F0ZVJlc3VsdF0pID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWZyZXNoVGltZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFjZSgnRmlsZSB3YXRjaGVyIHJlYWQgY2VydGlmaWNhdGVzIGNlcnRpZmljYXRlICcgKyBjZXJ0aWZpY2F0ZVJlc3VsdC5zdGF0dXMgKyAnLCBwcml2YXRlS2V5ICcgKyBwcml2YXRlS2V5UmVzdWx0LnN0YXR1cyArICcsIENBIGNlcnRpZmljYXRlICcgKyBjYUNlcnRpZmljYXRlUmVzdWx0LnN0YXR1cyk7XG4gICAgICAgICAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVJlc3VsdFByb21pc2UgPSBudWxsO1xuICAgICAgICAgICAgaWYgKGNlcnRpZmljYXRlUmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgcHJpdmF0ZUtleVJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RJZGVudGl0eVVwZGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2VydGlmaWNhdGU6IGNlcnRpZmljYXRlUmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcml2YXRlS2V5OiBwcml2YXRlS2V5UmVzdWx0LnZhbHVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhQ2VydGlmaWNhdGVSZXN1bHQuc3RhdHVzID09PSAnZnVsZmlsbGVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q2FVcGRhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNhQ2VydGlmaWNhdGU6IGNhQ2VydGlmaWNhdGVSZXN1bHQudmFsdWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDYVVwZGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuaWRlbnRpdHlMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcih0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgbGlzdGVuZXIgb2YgdGhpcy5jYUxpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyKHRoaXMubGF0ZXN0Q2FVcGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2UoJ0ZpbGUgd2F0Y2hlciBpbml0aWF0ZWQgY2VydGlmaWNhdGUgdXBkYXRlJyk7XG4gICAgfVxuICAgIG1heWJlU3RhcnRXYXRjaGluZ0ZpbGVzKCkge1xuICAgICAgICBpZiAoIXRoaXMucmVmcmVzaFRpbWVyKSB7XG4gICAgICAgICAgICAvKiBQZXJmb3JtIHRoZSBmaXJzdCByZWFkIGltbWVkaWF0ZWx5LCBidXQgb25seSBpZiB0aGVyZSB3YXMgbm90IGFscmVhZHlcbiAgICAgICAgICAgICAqIGEgcmVjZW50IHJlYWQsIHRvIGF2b2lkIHJlYWRpbmcgZnJvbSB0aGUgZmlsZXN5c3RlbSBzaWduaWZpY2FudGx5IG1vcmVcbiAgICAgICAgICAgICAqIGZyZXF1ZW50bHkgdGhhbiBjb25maWd1cmVkIGlmIHRoZSBwcm92aWRlciBxdWlja2x5IHN3aXRjaGVzIGJldHdlZW5cbiAgICAgICAgICAgICAqIHVzZWQgYW5kIHVudXNlZC4gKi9cbiAgICAgICAgICAgIGNvbnN0IHRpbWVTaW5jZUxhc3RVcGRhdGUgPSB0aGlzLmxhc3RVcGRhdGVUaW1lID8gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAtIHRoaXMubGFzdFVwZGF0ZVRpbWUuZ2V0VGltZSgpIDogSW5maW5pdHk7XG4gICAgICAgICAgICBpZiAodGltZVNpbmNlTGFzdFVwZGF0ZSA+IHRoaXMuY29uZmlnLnJlZnJlc2hJbnRlcnZhbE1zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDZXJ0aWZpY2F0ZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lU2luY2VMYXN0VXBkYXRlID4gdGhpcy5jb25maWcucmVmcmVzaEludGVydmFsTXMgKiAyKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgb3V0IG9sZCB1cGRhdGVzIGlmIHRoZXkgYXJlIGRlZmluaXRlbHkgc3RhbGVcbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENhVXBkYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hUaW1lciA9IHNldEludGVydmFsKCgpID0+IHRoaXMudXBkYXRlQ2VydGlmaWNhdGVzKCksIHRoaXMuY29uZmlnLnJlZnJlc2hJbnRlcnZhbE1zKTtcbiAgICAgICAgICAgIHRyYWNlKCdGaWxlIHdhdGNoZXIgc3RhcnRlZCB3YXRjaGluZycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1heWJlU3RvcFdhdGNoaW5nRmlsZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhTGlzdGVuZXJzLnNpemUgPT09IDAgJiYgdGhpcy5pZGVudGl0eUxpc3RlbmVycy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZpbGVSZXN1bHRQcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZnJlc2hUaW1lcikge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5yZWZyZXNoVGltZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRDYUNlcnRpZmljYXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5jYUxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLm1heWJlU3RhcnRXYXRjaGluZ0ZpbGVzKCk7XG4gICAgICAgIGlmICh0aGlzLmxhdGVzdENhVXBkYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2sobGlzdGVuZXIsIHRoaXMubGF0ZXN0Q2FVcGRhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUNhQ2VydGlmaWNhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmNhTGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMubWF5YmVTdG9wV2F0Y2hpbmdGaWxlcygpO1xuICAgIH1cbiAgICBhZGRJZGVudGl0eUNlcnRpZmljYXRlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy5pZGVudGl0eUxpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLm1heWJlU3RhcnRXYXRjaGluZ0ZpbGVzKCk7XG4gICAgICAgIGlmICh0aGlzLmxhdGVzdElkZW50aXR5VXBkYXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2sobGlzdGVuZXIsIHRoaXMubGF0ZXN0SWRlbnRpdHlVcGRhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZUlkZW50aXR5Q2VydGlmaWNhdGVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmlkZW50aXR5TGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgICAgIHRoaXMubWF5YmVTdG9wV2F0Y2hpbmdGaWxlcygpO1xuICAgIH1cbn1cbmV4cG9ydHMuRmlsZVdhdGNoZXJDZXJ0aWZpY2F0ZVByb3ZpZGVyID0gRmlsZVdhdGNoZXJDZXJ0aWZpY2F0ZVByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2VydGlmaWNhdGUtcHJvdmlkZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNVQkNIQU5ORUxfQVJHU19FWENMVURFX0tFWV9QUkVGSVggPSBleHBvcnRzLmNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHMgPSBleHBvcnRzLkZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlciA9IGV4cG9ydHMuY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzID0gZXhwb3J0cy5jcmVhdGVTZXJ2ZXJDcmVkZW50aWFsc1dpdGhJbnRlcmNlcHRvcnMgPSBleHBvcnRzLkJhc2VTdWJjaGFubmVsV3JhcHBlciA9IGV4cG9ydHMucmVnaXN0ZXJBZG1pblNlcnZpY2UgPSBleHBvcnRzLkZpbHRlclN0YWNrRmFjdG9yeSA9IGV4cG9ydHMuQmFzZUZpbHRlciA9IGV4cG9ydHMuc3RhdHVzT3JGcm9tRXJyb3IgPSBleHBvcnRzLnN0YXR1c09yRnJvbVZhbHVlID0gZXhwb3J0cy5QaWNrUmVzdWx0VHlwZSA9IGV4cG9ydHMuUXVldWVQaWNrZXIgPSBleHBvcnRzLlVuYXZhaWxhYmxlUGlja2VyID0gZXhwb3J0cy5DaGlsZExvYWRCYWxhbmNlckhhbmRsZXIgPSBleHBvcnRzLkVuZHBvaW50TWFwID0gZXhwb3J0cy5lbmRwb2ludEhhc0FkZHJlc3MgPSBleHBvcnRzLmVuZHBvaW50VG9TdHJpbmcgPSBleHBvcnRzLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcgPSBleHBvcnRzLkxlYWZMb2FkQmFsYW5jZXIgPSBleHBvcnRzLmlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQgPSBleHBvcnRzLnBhcnNlTG9hZEJhbGFuY2luZ0NvbmZpZyA9IGV4cG9ydHMuc2VsZWN0TGJDb25maWdGcm9tTGlzdCA9IGV4cG9ydHMucmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlID0gZXhwb3J0cy5jcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyID0gZXhwb3J0cy5CYWNrb2ZmVGltZW91dCA9IGV4cG9ydHMucGFyc2VEdXJhdGlvbiA9IGV4cG9ydHMuZHVyYXRpb25Ub01zID0gZXhwb3J0cy5zcGxpdEhvc3RQb3J0ID0gZXhwb3J0cy51cmlUb1N0cmluZyA9IGV4cG9ydHMuQ0hBTk5FTF9BUkdTX0NPTkZJR19TRUxFQ1RPUl9LRVkgPSBleHBvcnRzLmNyZWF0ZVJlc29sdmVyID0gZXhwb3J0cy5yZWdpc3RlclJlc29sdmVyID0gZXhwb3J0cy5sb2cgPSBleHBvcnRzLnRyYWNlID0gdm9pZCAwO1xudmFyIGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ0cmFjZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9nZ2luZ18xLnRyYWNlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibG9nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2dnaW5nXzEubG9nOyB9IH0pO1xudmFyIHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZ2lzdGVyUmVzb2x2ZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmVyXzEucmVnaXN0ZXJSZXNvbHZlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZVJlc29sdmVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlcl8xLmNyZWF0ZVJlc29sdmVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ0hBTk5FTF9BUkdTX0NPTkZJR19TRUxFQ1RPUl9LRVlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlc29sdmVyXzEuQ0hBTk5FTF9BUkdTX0NPTkZJR19TRUxFQ1RPUl9LRVk7IH0gfSk7XG52YXIgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInVyaVRvU3RyaW5nXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmc7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzcGxpdEhvc3RQb3J0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1cmlfcGFyc2VyXzEuc3BsaXRIb3N0UG9ydDsgfSB9KTtcbnZhciBkdXJhdGlvbl8xID0gcmVxdWlyZShcIi4vZHVyYXRpb25cIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJkdXJhdGlvblRvTXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFyc2VEdXJhdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gZHVyYXRpb25fMS5wYXJzZUR1cmF0aW9uOyB9IH0pO1xudmFyIGJhY2tvZmZfdGltZW91dF8xID0gcmVxdWlyZShcIi4vYmFja29mZi10aW1lb3V0XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmFja29mZlRpbWVvdXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJhY2tvZmZfdGltZW91dF8xLkJhY2tvZmZUaW1lb3V0OyB9IH0pO1xudmFyIGxvYWRfYmFsYW5jZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjcmVhdGVDaGlsZENoYW5uZWxDb250cm9sSGVscGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyXzEuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInNlbGVjdExiQ29uZmlnRnJvbUxpc3RcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGxvYWRfYmFsYW5jZXJfMS5zZWxlY3RMYkNvbmZpZ0Zyb21MaXN0OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicGFyc2VMb2FkQmFsYW5jaW5nQ29uZmlnXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyXzEucGFyc2VMb2FkQmFsYW5jaW5nQ29uZmlnOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiaXNMb2FkQmFsYW5jZXJOYW1lUmVnaXN0ZXJlZFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl8xLmlzTG9hZEJhbGFuY2VyTmFtZVJlZ2lzdGVyZWQ7IH0gfSk7XG52YXIgbG9hZF9iYWxhbmNlcl9waWNrX2ZpcnN0XzEgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLXBpY2stZmlyc3RcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJMZWFmTG9hZEJhbGFuY2VyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMS5MZWFmTG9hZEJhbGFuY2VyOyB9IH0pO1xudmFyIHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZ1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc3ViY2hhbm5lbF9hZGRyZXNzXzEuc3ViY2hhbm5lbEFkZHJlc3NUb1N0cmluZzsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImVuZHBvaW50VG9TdHJpbmdcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmNoYW5uZWxfYWRkcmVzc18xLmVuZHBvaW50VG9TdHJpbmc7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJlbmRwb2ludEhhc0FkZHJlc3NcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YmNoYW5uZWxfYWRkcmVzc18xLmVuZHBvaW50SGFzQWRkcmVzczsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkVuZHBvaW50TWFwXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJjaGFubmVsX2FkZHJlc3NfMS5FbmRwb2ludE1hcDsgfSB9KTtcbnZhciBsb2FkX2JhbGFuY2VyX2NoaWxkX2hhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItY2hpbGQtaGFuZGxlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gbG9hZF9iYWxhbmNlcl9jaGlsZF9oYW5kbGVyXzEuQ2hpbGRMb2FkQmFsYW5jZXJIYW5kbGVyOyB9IH0pO1xudmFyIHBpY2tlcl8xID0gcmVxdWlyZShcIi4vcGlja2VyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiVW5hdmFpbGFibGVQaWNrZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUXVldWVQaWNrZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBpY2tlcl8xLlF1ZXVlUGlja2VyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUGlja1Jlc3VsdFR5cGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlOyB9IH0pO1xudmFyIGNhbGxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9jYWxsLWludGVyZmFjZVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInN0YXR1c09yRnJvbVZhbHVlXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsX2ludGVyZmFjZV8xLnN0YXR1c09yRnJvbVZhbHVlOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RhdHVzT3JGcm9tRXJyb3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxfaW50ZXJmYWNlXzEuc3RhdHVzT3JGcm9tRXJyb3I7IH0gfSk7XG52YXIgZmlsdGVyXzEgPSByZXF1aXJlKFwiLi9maWx0ZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJCYXNlRmlsdGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaWx0ZXJfMS5CYXNlRmlsdGVyOyB9IH0pO1xudmFyIGZpbHRlcl9zdGFja18xID0gcmVxdWlyZShcIi4vZmlsdGVyLXN0YWNrXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRmlsdGVyU3RhY2tGYWN0b3J5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaWx0ZXJfc3RhY2tfMS5GaWx0ZXJTdGFja0ZhY3Rvcnk7IH0gfSk7XG52YXIgYWRtaW5fMSA9IHJlcXVpcmUoXCIuL2FkbWluXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVnaXN0ZXJBZG1pblNlcnZpY2VcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFkbWluXzEucmVnaXN0ZXJBZG1pblNlcnZpY2U7IH0gfSk7XG52YXIgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtaW50ZXJmYWNlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQmFzZVN1YmNoYW5uZWxXcmFwcGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJjaGFubmVsX2ludGVyZmFjZV8xLkJhc2VTdWJjaGFubmVsV3JhcHBlcjsgfSB9KTtcbnZhciBzZXJ2ZXJfY3JlZGVudGlhbHNfMSA9IHJlcXVpcmUoXCIuL3NlcnZlci1jcmVkZW50aWFsc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImNyZWF0ZVNlcnZlckNyZWRlbnRpYWxzV2l0aEludGVyY2VwdG9yc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2NyZWRlbnRpYWxzXzEuY3JlYXRlU2VydmVyQ3JlZGVudGlhbHNXaXRoSW50ZXJjZXB0b3JzOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlclNlcnZlckNyZWRlbnRpYWxzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzZXJ2ZXJfY3JlZGVudGlhbHNfMS5jcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyU2VydmVyQ3JlZGVudGlhbHM7IH0gfSk7XG52YXIgY2VydGlmaWNhdGVfcHJvdmlkZXJfMSA9IHJlcXVpcmUoXCIuL2NlcnRpZmljYXRlLXByb3ZpZGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRmlsZVdhdGNoZXJDZXJ0aWZpY2F0ZVByb3ZpZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjZXJ0aWZpY2F0ZV9wcm92aWRlcl8xLkZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlcjsgfSB9KTtcbnZhciBjaGFubmVsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLWNyZWRlbnRpYWxzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY3JlYXRlQ2VydGlmaWNhdGVQcm92aWRlckNoYW5uZWxDcmVkZW50aWFsc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhbm5lbF9jcmVkZW50aWFsc18xLmNyZWF0ZUNlcnRpZmljYXRlUHJvdmlkZXJDaGFubmVsQ3JlZGVudGlhbHM7IH0gfSk7XG52YXIgaW50ZXJuYWxfY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vaW50ZXJuYWwtY2hhbm5lbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNVQkNIQU5ORUxfQVJHU19FWENMVURFX0tFWV9QUkVGSVhcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGludGVybmFsX2NoYW5uZWxfMS5TVUJDSEFOTkVMX0FSR1NfRVhDTFVERV9LRVlfUFJFRklYOyB9IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhwZXJpbWVudGFsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDE5IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXAgPSBzZXR1cDtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IGNhbGxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9jYWxsLWludGVyZmFjZVwiKTtcbmNsYXNzIFVkc1Jlc29sdmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGxpc3RlbmVyLCBjaGFubmVsT3B0aW9ucykge1xuICAgICAgICB0aGlzLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbmRwb2ludHMgPSBbXTtcbiAgICAgICAgbGV0IHBhdGg7XG4gICAgICAgIGlmICh0YXJnZXQuYXV0aG9yaXR5ID09PSAnJykge1xuICAgICAgICAgICAgcGF0aCA9ICcvJyArIHRhcmdldC5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF0aCA9IHRhcmdldC5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kcG9pbnRzID0gW3sgYWRkcmVzc2VzOiBbeyBwYXRoIH1dIH1dO1xuICAgIH1cbiAgICB1cGRhdGVSZXNvbHV0aW9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzUmV0dXJuZWRSZXN1bHQpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgcHJvY2Vzcy5uZXh0VGljayh0aGlzLmxpc3RlbmVyLCAoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21WYWx1ZSkodGhpcy5lbmRwb2ludHMpLCB7fSwgbnVsbCwgJycpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiAnbG9jYWxob3N0JztcbiAgICB9XG59XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgcmVzb2x2ZXJfMS5yZWdpc3RlclJlc29sdmVyKSgndW5peCcsIFVkc1Jlc29sdmVyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc29sdmVyLXVkcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyMSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNldHVwID0gc2V0dXA7XG5jb25zdCBuZXRfMSA9IHJlcXVpcmUoXCJuZXRcIik7XG5jb25zdCBjYWxsX2ludGVyZmFjZV8xID0gcmVxdWlyZShcIi4vY2FsbC1pbnRlcmZhY2VcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IG1ldGFkYXRhXzEgPSByZXF1aXJlKFwiLi9tZXRhZGF0YVwiKTtcbmNvbnN0IHJlc29sdmVyXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlclwiKTtcbmNvbnN0IHN1YmNoYW5uZWxfYWRkcmVzc18xID0gcmVxdWlyZShcIi4vc3ViY2hhbm5lbC1hZGRyZXNzXCIpO1xuY29uc3QgdXJpX3BhcnNlcl8xID0gcmVxdWlyZShcIi4vdXJpLXBhcnNlclwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnaXBfcmVzb2x2ZXInO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCBJUFY0X1NDSEVNRSA9ICdpcHY0JztcbmNvbnN0IElQVjZfU0NIRU1FID0gJ2lwdjYnO1xuLyoqXG4gKiBUaGUgZGVmYXVsdCBUQ1AgcG9ydCB0byBjb25uZWN0IHRvIGlmIG5vdCBleHBsaWNpdGx5IHNwZWNpZmllZCBpbiB0aGUgdGFyZ2V0LlxuICovXG5jb25zdCBERUZBVUxUX1BPUlQgPSA0NDM7XG5jbGFzcyBJcFJlc29sdmVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQsIGxpc3RlbmVyLCBjaGFubmVsT3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgdGhpcy5lbmRwb2ludHMgPSBbXTtcbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgdHJhY2UoJ1Jlc29sdmVyIGNvbnN0cnVjdGVkIGZvciB0YXJnZXQgJyArICgwLCB1cmlfcGFyc2VyXzEudXJpVG9TdHJpbmcpKHRhcmdldCkpO1xuICAgICAgICBjb25zdCBhZGRyZXNzZXMgPSBbXTtcbiAgICAgICAgaWYgKCEodGFyZ2V0LnNjaGVtZSA9PT0gSVBWNF9TQ0hFTUUgfHwgdGFyZ2V0LnNjaGVtZSA9PT0gSVBWNl9TQ0hFTUUpKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yID0ge1xuICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBgVW5yZWNvZ25pemVkIHNjaGVtZSAke3RhcmdldC5zY2hlbWV9IGluIElQIHJlc29sdmVyYCxcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aExpc3QgPSB0YXJnZXQucGF0aC5zcGxpdCgnLCcpO1xuICAgICAgICBmb3IgKGNvbnN0IHBhdGggb2YgcGF0aExpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGhvc3RQb3J0ID0gKDAsIHVyaV9wYXJzZXJfMS5zcGxpdEhvc3RQb3J0KShwYXRoKTtcbiAgICAgICAgICAgIGlmIChob3N0UG9ydCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IGNvbnN0YW50c18xLlN0YXR1cy5VTkFWQUlMQUJMRSxcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogYEZhaWxlZCB0byBwYXJzZSAke3RhcmdldC5zY2hlbWV9IGFkZHJlc3MgJHtwYXRofWAsXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBuZXcgbWV0YWRhdGFfMS5NZXRhZGF0YSgpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCh0YXJnZXQuc2NoZW1lID09PSBJUFY0X1NDSEVNRSAmJiAhKDAsIG5ldF8xLmlzSVB2NCkoaG9zdFBvcnQuaG9zdCkpIHx8XG4gICAgICAgICAgICAgICAgKHRhcmdldC5zY2hlbWUgPT09IElQVjZfU0NIRU1FICYmICEoMCwgbmV0XzEuaXNJUHY2KShob3N0UG9ydC5ob3N0KSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0ge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBjb25zdGFudHNfMS5TdGF0dXMuVU5BVkFJTEFCTEUsXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGBGYWlsZWQgdG8gcGFyc2UgJHt0YXJnZXQuc2NoZW1lfSBhZGRyZXNzICR7cGF0aH1gLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogbmV3IG1ldGFkYXRhXzEuTWV0YWRhdGEoKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkZHJlc3Nlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBob3N0OiBob3N0UG9ydC5ob3N0LFxuICAgICAgICAgICAgICAgIHBvcnQ6IChfYSA9IGhvc3RQb3J0LnBvcnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IERFRkFVTFRfUE9SVCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW5kcG9pbnRzID0gYWRkcmVzc2VzLm1hcChhZGRyZXNzID0+ICh7IGFkZHJlc3NlczogW2FkZHJlc3NdIH0pKTtcbiAgICAgICAgdHJhY2UoJ1BhcnNlZCAnICsgdGFyZ2V0LnNjaGVtZSArICcgYWRkcmVzcyBsaXN0ICcgKyBhZGRyZXNzZXMubWFwKHN1YmNoYW5uZWxfYWRkcmVzc18xLnN1YmNoYW5uZWxBZGRyZXNzVG9TdHJpbmcpKTtcbiAgICB9XG4gICAgdXBkYXRlUmVzb2x1dGlvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmhhc1JldHVybmVkUmVzdWx0KSB7XG4gICAgICAgICAgICB0aGlzLmhhc1JldHVybmVkUmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXIoKDAsIGNhbGxfaW50ZXJmYWNlXzEuc3RhdHVzT3JGcm9tRXJyb3IpKHRoaXMuZXJyb3IpLCB7fSwgbnVsbCwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcigoMCwgY2FsbF9pbnRlcmZhY2VfMS5zdGF0dXNPckZyb21WYWx1ZSkodGhpcy5lbmRwb2ludHMpLCB7fSwgbnVsbCwgJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuaGFzUmV0dXJuZWRSZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RhdGljIGdldERlZmF1bHRBdXRob3JpdHkodGFyZ2V0KSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQucGF0aC5zcGxpdCgnLCcpWzBdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAgICgwLCByZXNvbHZlcl8xLnJlZ2lzdGVyUmVzb2x2ZXIpKElQVjRfU0NIRU1FLCBJcFJlc29sdmVyKTtcbiAgICAoMCwgcmVzb2x2ZXJfMS5yZWdpc3RlclJlc29sdmVyKShJUFY2X1NDSEVNRSwgSXBSZXNvbHZlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlci1pcC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb3VuZFJvYmluTG9hZEJhbGFuY2VyID0gdm9pZCAwO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IGNvbm5lY3Rpdml0eV9zdGF0ZV8xID0gcmVxdWlyZShcIi4vY29ubmVjdGl2aXR5LXN0YXRlXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBsb2dnaW5nID0gcmVxdWlyZShcIi4vbG9nZ2luZ1wiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItcGljay1maXJzdFwiKTtcbmNvbnN0IFRSQUNFUl9OQU1FID0gJ3JvdW5kX3JvYmluJztcbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgICBsb2dnaW5nLnRyYWNlKGNvbnN0YW50c18xLkxvZ1ZlcmJvc2l0eS5ERUJVRywgVFJBQ0VSX05BTUUsIHRleHQpO1xufVxuY29uc3QgVFlQRV9OQU1FID0gJ3JvdW5kX3JvYmluJztcbmNsYXNzIFJvdW5kUm9iaW5Mb2FkQmFsYW5jaW5nQ29uZmlnIHtcbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuICAgIHRvSnNvbk9iamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFtUWVBFX05BTUVdOiB7fSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBzdGF0aWMgY3JlYXRlRnJvbUpzb24ob2JqKSB7XG4gICAgICAgIHJldHVybiBuZXcgUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWcoKTtcbiAgICB9XG59XG5jbGFzcyBSb3VuZFJvYmluUGlja2VyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGlsZHJlbiwgbmV4dEluZGV4ID0gMCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMubmV4dEluZGV4ID0gbmV4dEluZGV4O1xuICAgIH1cbiAgICBwaWNrKHBpY2tBcmdzKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkUGlja2VyID0gdGhpcy5jaGlsZHJlblt0aGlzLm5leHRJbmRleF0ucGlja2VyO1xuICAgICAgICB0aGlzLm5leHRJbmRleCA9ICh0aGlzLm5leHRJbmRleCArIDEpICUgdGhpcy5jaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgIHJldHVybiBjaGlsZFBpY2tlci5waWNrKHBpY2tBcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgd2hhdCB0aGUgbmV4dCBzdWJjaGFubmVsIHJldHVybmVkIHdvdWxkIGJlLiBVc2VkIGJ5IHRoZSBsb2FkXG4gICAgICogYmFsYW5jZXIgaW1wbGVtZW50YXRpb24gdG8gcHJlc2VydmUgdGhpcyBwYXJ0IG9mIHRoZSBwaWNrZXIgc3RhdGUgaWZcbiAgICAgKiBwb3NzaWJsZSB3aGVuIGEgc3ViY2hhbm5lbCBjb25uZWN0cyBvciBkaXNjb25uZWN0cy5cbiAgICAgKi9cbiAgICBwZWVrTmV4dEVuZHBvaW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlblt0aGlzLm5leHRJbmRleF0uZW5kcG9pbnQ7XG4gICAgfVxufVxuZnVuY3Rpb24gcm90YXRlQXJyYXkobGlzdCwgc3RhcnRJbmRleCkge1xuICAgIHJldHVybiBbLi4ubGlzdC5zbGljZShzdGFydEluZGV4KSwgLi4ubGlzdC5zbGljZSgwLCBzdGFydEluZGV4KV07XG59XG5jbGFzcyBSb3VuZFJvYmluTG9hZEJhbGFuY2VyIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFubmVsQ29udHJvbEhlbHBlcikge1xuICAgICAgICB0aGlzLmNoYW5uZWxDb250cm9sSGVscGVyID0gY2hhbm5lbENvbnRyb2xIZWxwZXI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5JRExFO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZWFkeVBpY2tlciA9IG51bGw7XG4gICAgICAgIHRoaXMudXBkYXRlc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciA9ICgwLCBsb2FkX2JhbGFuY2VyXzEuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlcikoY2hhbm5lbENvbnRyb2xIZWxwZXIsIHtcbiAgICAgICAgICAgIHVwZGF0ZVN0YXRlOiAoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgLyogRW5zdXJlIHRoYXQgbmFtZSByZXNvbHV0aW9uIGlzIHJlcXVlc3RlZCBhZ2FpbiBhZnRlciBhY3RpdmVcbiAgICAgICAgICAgICAgICAgKiBjb25uZWN0aW9ucyBhcmUgZHJvcHBlZC4gVGhpcyBpcyBtb3JlIGFnZ3Jlc3NpdmUgdGhhbiBuZWNlc3NhcnkgdG9cbiAgICAgICAgICAgICAgICAgKiBhY2NvbXBsaXNoIHRoYXQsIHNvIHdlIGFyZSBjb3VudGluZyBvbiByZXNvbHZlcnMgdG8gaGF2ZVxuICAgICAgICAgICAgICAgICAqIHJlYXNvbmFibGUgcmF0ZSBsaW1pdHMuICovXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSAmJiBjb25uZWN0aXZpdHlTdGF0ZSAhPT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kVXBkYXRlU3RhdGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb3VudENoaWxkcmVuV2l0aFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuLmZpbHRlcihjaGlsZCA9PiBjaGlsZC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpID09PSBzdGF0ZSlcbiAgICAgICAgICAgIC5sZW5ndGg7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlKCkge1xuICAgICAgICBpZiAodGhpcy51cGRhdGVzUGF1c2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY291bnRDaGlsZHJlbldpdGhTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCByZWFkeUNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT4gY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpO1xuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRSZWFkeVBpY2tlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRQaWNrZWRFbmRwb2ludCA9IHRoaXMuY3VycmVudFJlYWR5UGlja2VyLnBlZWtOZXh0RW5kcG9pbnQoKTtcbiAgICAgICAgICAgICAgICBpbmRleCA9IHJlYWR5Q2hpbGRyZW4uZmluZEluZGV4KGNoaWxkID0+ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludEVxdWFsKShjaGlsZC5nZXRFbmRwb2ludCgpLCBuZXh0UGlja2VkRW5kcG9pbnQpKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZLCBuZXcgUm91bmRSb2JpblBpY2tlcihyZWFkeUNoaWxkcmVuLm1hcChjaGlsZCA9PiAoe1xuICAgICAgICAgICAgICAgIGVuZHBvaW50OiBjaGlsZC5nZXRFbmRwb2ludCgpLFxuICAgICAgICAgICAgICAgIHBpY2tlcjogY2hpbGQuZ2V0UGlja2VyKCksXG4gICAgICAgICAgICB9KSksIGluZGV4KSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb3VudENoaWxkcmVuV2l0aFN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcpID4gMCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5DT05ORUNUSU5HLCBuZXcgcGlja2VyXzEuUXVldWVQaWNrZXIodGhpcyksIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY291bnRDaGlsZHJlbldpdGhTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSkgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgcm91bmRfcm9iaW46IE5vIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuIExhc3QgZXJyb3I6ICR7dGhpcy5sYXN0RXJyb3J9YDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcih7XG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JNZXNzYWdlLFxuICAgICAgICAgICAgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEUsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgLyogcm91bmRfcm9iaW4gc2hvdWxkIGtlZXAgYWxsIGNoaWxkcmVuIGNvbm5lY3RlZCwgdGhpcyBpcyBob3cgd2UgZG8gdGhhdC5cbiAgICAgICAgICogV2UgY2FuJ3QgZG8gdGhpcyBtb3JlIGVmZmljaWVudGx5IGluIHRoZSBpbmRpdmlkdWFsIGNoaWxkJ3MgdXBkYXRlU3RhdGVcbiAgICAgICAgICogY2FsbGJhY2sgYmVjYXVzZSB0aGF0IGRvZXNuJ3QgaGF2ZSBhIHJlZmVyZW5jZSB0byB3aGljaCBjaGlsZCB0aGUgc3RhdGVcbiAgICAgICAgICogY2hhbmdlIGlzIGFzc29jaWF0ZWQgd2l0aC4gKi9cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmV4aXRJZGxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRyYWNlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY3VycmVudFN0YXRlXSArXG4gICAgICAgICAgICAnIC0+ICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbbmV3U3RhdGVdKTtcbiAgICAgICAgaWYgKG5ld1N0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVhZHlQaWNrZXIgPSBwaWNrZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRSZWFkeVBpY2tlciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShuZXdTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICByZXNldFN1YmNoYW5uZWxMaXN0KCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGNoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgfVxuICAgIHVwZGF0ZUFkZHJlc3NMaXN0KG1heWJlRW5kcG9pbnRMaXN0LCBsYkNvbmZpZywgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpIHtcbiAgICAgICAgaWYgKCEobGJDb25maWcgaW5zdGFuY2VvZiBSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1heWJlRW5kcG9pbnRMaXN0Lm9rKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIobWF5YmVFbmRwb2ludExpc3QuZXJyb3IpLCBtYXliZUVuZHBvaW50TGlzdC5lcnJvci5kZXRhaWxzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSAoTWF0aC5yYW5kb20oKSAqIG1heWJlRW5kcG9pbnRMaXN0LnZhbHVlLmxlbmd0aCkgfCAwO1xuICAgICAgICBjb25zdCBlbmRwb2ludExpc3QgPSByb3RhdGVBcnJheShtYXliZUVuZHBvaW50TGlzdC52YWx1ZSwgc3RhcnRJbmRleCk7XG4gICAgICAgIHRoaXMucmVzZXRTdWJjaGFubmVsTGlzdCgpO1xuICAgICAgICBpZiAoZW5kcG9pbnRMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYE5vIGFkZHJlc3NlcyByZXNvbHZlZC4gUmVzb2x1dGlvbiBub3RlOiAke3Jlc29sdXRpb25Ob3RlfWA7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFLCBuZXcgcGlja2VyXzEuVW5hdmFpbGFibGVQaWNrZXIoeyBkZXRhaWxzOiBlcnJvck1lc3NhZ2UgfSksIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ0Nvbm5lY3QgdG8gZW5kcG9pbnQgbGlzdCAnICsgZW5kcG9pbnRMaXN0Lm1hcChzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nKSk7XG4gICAgICAgIHRoaXMudXBkYXRlc1BhdXNlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBlbmRwb2ludExpc3QubWFwKGVuZHBvaW50ID0+IG5ldyBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMS5MZWFmTG9hZEJhbGFuY2VyKGVuZHBvaW50LCB0aGlzLmNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIsIG9wdGlvbnMsIHJlc29sdXRpb25Ob3RlKSk7XG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgY2hpbGQuc3RhcnRDb25uZWN0aW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVzUGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kVXBkYXRlU3RhdGUoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGV4aXRJZGxlKCkge1xuICAgICAgICAvKiBUaGUgcm91bmRfcm9iaW4gTEIgcG9saWN5IGlzIG9ubHkgaW4gdGhlIElETEUgc3RhdGUgaWYgaXQgaGFzIG5vXG4gICAgICAgICAqIGFkZHJlc3NlcyB0byB0cnkgdG8gY29ubmVjdCB0byBhbmQgaXQgaGFzIG5vIHBpY2tlZCBzdWJjaGFubmVsLlxuICAgICAgICAgKiBJbiB0aGF0IGNhc2UsIHRoZXJlIGlzIG5vIG1lYW5pbmdmdWwgYWN0aW9uIHRoYXQgY2FuIGJlIHRha2VuIGhlcmUuICovXG4gICAgfVxuICAgIHJlc2V0QmFja29mZigpIHtcbiAgICAgICAgLy8gVGhpcyBMQiBwb2xpY3kgaGFzIG5vIGJhY2tvZmYgdG8gcmVzZXRcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5yZXNldFN1YmNoYW5uZWxMaXN0KCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuUm91bmRSb2JpbkxvYWRCYWxhbmNlciA9IFJvdW5kUm9iaW5Mb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSkoVFlQRV9OQU1FLCBSb3VuZFJvYmluTG9hZEJhbGFuY2VyLCBSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLXJvdW5kLXJvYmluLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDIyIGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG52YXIgX2E7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIgPSBleHBvcnRzLk91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnID0gdm9pZCAwO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGR1cmF0aW9uXzEgPSByZXF1aXJlKFwiLi9kdXJhdGlvblwiKTtcbmNvbnN0IGV4cGVyaW1lbnRhbF8xID0gcmVxdWlyZShcIi4vZXhwZXJpbWVudGFsXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlclwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlci1jaGlsZC1oYW5kbGVyXCIpO1xuY29uc3QgcGlja2VyXzEgPSByZXF1aXJlKFwiLi9waWNrZXJcIik7XG5jb25zdCBzdWJjaGFubmVsX2FkZHJlc3NfMSA9IHJlcXVpcmUoXCIuL3N1YmNoYW5uZWwtYWRkcmVzc1wiKTtcbmNvbnN0IHN1YmNoYW5uZWxfaW50ZXJmYWNlXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWludGVyZmFjZVwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3QgVFJBQ0VSX05BTUUgPSAnb3V0bGllcl9kZXRlY3Rpb24nO1xuZnVuY3Rpb24gdHJhY2UodGV4dCkge1xuICAgIGxvZ2dpbmcudHJhY2UoY29uc3RhbnRzXzEuTG9nVmVyYm9zaXR5LkRFQlVHLCBUUkFDRVJfTkFNRSwgdGV4dCk7XG59XG5jb25zdCBUWVBFX05BTUUgPSAnb3V0bGllcl9kZXRlY3Rpb24nO1xuY29uc3QgT1VUTElFUl9ERVRFQ1RJT05fRU5BQkxFRCA9ICgoX2EgPSBwcm9jZXNzLmVudi5HUlBDX0VYUEVSSU1FTlRBTF9FTkFCTEVfT1VUTElFUl9ERVRFQ1RJT04pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICd0cnVlJykgPT09ICd0cnVlJztcbmNvbnN0IGRlZmF1bHRTdWNjZXNzUmF0ZUVqZWN0aW9uQ29uZmlnID0ge1xuICAgIHN0ZGV2X2ZhY3RvcjogMTkwMCxcbiAgICBlbmZvcmNlbWVudF9wZXJjZW50YWdlOiAxMDAsXG4gICAgbWluaW11bV9ob3N0czogNSxcbiAgICByZXF1ZXN0X3ZvbHVtZTogMTAwLFxufTtcbmNvbnN0IGRlZmF1bHRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnID0ge1xuICAgIHRocmVzaG9sZDogODUsXG4gICAgZW5mb3JjZW1lbnRfcGVyY2VudGFnZTogMTAwLFxuICAgIG1pbmltdW1faG9zdHM6IDUsXG4gICAgcmVxdWVzdF92b2x1bWU6IDUwLFxufTtcbmZ1bmN0aW9uIHZhbGlkYXRlRmllbGRUeXBlKG9iaiwgZmllbGROYW1lLCBleHBlY3RlZFR5cGUsIG9iamVjdE5hbWUpIHtcbiAgICBpZiAoZmllbGROYW1lIGluIG9iaiAmJlxuICAgICAgICBvYmpbZmllbGROYW1lXSAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgIHR5cGVvZiBvYmpbZmllbGROYW1lXSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgIGNvbnN0IGZ1bGxGaWVsZE5hbWUgPSBvYmplY3ROYW1lID8gYCR7b2JqZWN0TmFtZX0uJHtmaWVsZE5hbWV9YCA6IGZpZWxkTmFtZTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgJHtmdWxsRmllbGROYW1lfSBwYXJzZSBlcnJvcjogZXhwZWN0ZWQgJHtleHBlY3RlZFR5cGV9LCBnb3QgJHt0eXBlb2Ygb2JqW2ZpZWxkTmFtZV19YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQb3NpdGl2ZUR1cmF0aW9uKG9iaiwgZmllbGROYW1lLCBvYmplY3ROYW1lKSB7XG4gICAgY29uc3QgZnVsbEZpZWxkTmFtZSA9IG9iamVjdE5hbWUgPyBgJHtvYmplY3ROYW1lfS4ke2ZpZWxkTmFtZX1gIDogZmllbGROYW1lO1xuICAgIGlmIChmaWVsZE5hbWUgaW4gb2JqICYmIG9ialtmaWVsZE5hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCEoMCwgZHVyYXRpb25fMS5pc0R1cmF0aW9uKShvYmpbZmllbGROYW1lXSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgb3V0bGllciBkZXRlY3Rpb24gY29uZmlnICR7ZnVsbEZpZWxkTmFtZX0gcGFyc2UgZXJyb3I6IGV4cGVjdGVkIER1cmF0aW9uLCBnb3QgJHt0eXBlb2Ygb2JqW2ZpZWxkTmFtZV19YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEob2JqW2ZpZWxkTmFtZV0uc2Vjb25kcyA+PSAwICYmXG4gICAgICAgICAgICBvYmpbZmllbGROYW1lXS5zZWNvbmRzIDw9IDMxNTU3NjAwMDAwMCAmJlxuICAgICAgICAgICAgb2JqW2ZpZWxkTmFtZV0ubmFub3MgPj0gMCAmJlxuICAgICAgICAgICAgb2JqW2ZpZWxkTmFtZV0ubmFub3MgPD0gOTk5OTk5OTk5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgJHtmdWxsRmllbGROYW1lfSBwYXJzZSBlcnJvcjogdmFsdWVzIG91dCBvZiByYW5nZSBmb3Igbm9uLW5lZ2F0aXZlIER1YXJhdGlvbmApO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVQZXJjZW50YWdlKG9iaiwgZmllbGROYW1lLCBvYmplY3ROYW1lKSB7XG4gICAgY29uc3QgZnVsbEZpZWxkTmFtZSA9IG9iamVjdE5hbWUgPyBgJHtvYmplY3ROYW1lfS4ke2ZpZWxkTmFtZX1gIDogZmllbGROYW1lO1xuICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iaiwgZmllbGROYW1lLCAnbnVtYmVyJywgb2JqZWN0TmFtZSk7XG4gICAgaWYgKGZpZWxkTmFtZSBpbiBvYmogJiZcbiAgICAgICAgb2JqW2ZpZWxkTmFtZV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAhKG9ialtmaWVsZE5hbWVdID49IDAgJiYgb2JqW2ZpZWxkTmFtZV0gPD0gMTAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG91dGxpZXIgZGV0ZWN0aW9uIGNvbmZpZyAke2Z1bGxGaWVsZE5hbWV9IHBhcnNlIGVycm9yOiB2YWx1ZSBvdXQgb2YgcmFuZ2UgZm9yIHBlcmNlbnRhZ2UgKDAtMTAwKWApO1xuICAgIH1cbn1cbmNsYXNzIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnIHtcbiAgICBjb25zdHJ1Y3RvcihpbnRlcnZhbE1zLCBiYXNlRWplY3Rpb25UaW1lTXMsIG1heEVqZWN0aW9uVGltZU1zLCBtYXhFamVjdGlvblBlcmNlbnQsIHN1Y2Nlc3NSYXRlRWplY3Rpb24sIGZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb24sIGNoaWxkUG9saWN5KSB7XG4gICAgICAgIHRoaXMuY2hpbGRQb2xpY3kgPSBjaGlsZFBvbGljeTtcbiAgICAgICAgaWYgKGNoaWxkUG9saWN5LmdldExvYWRCYWxhbmNlck5hbWUoKSA9PT0gJ3BpY2tfZmlyc3QnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ291dGxpZXJfZGV0ZWN0aW9uIExCIHBvbGljeSBjYW5ub3QgaGF2ZSBhIHBpY2tfZmlyc3QgY2hpbGQgcG9saWN5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcnZhbE1zID0gaW50ZXJ2YWxNcyAhPT0gbnVsbCAmJiBpbnRlcnZhbE1zICE9PSB2b2lkIDAgPyBpbnRlcnZhbE1zIDogMTAwMDA7XG4gICAgICAgIHRoaXMuYmFzZUVqZWN0aW9uVGltZU1zID0gYmFzZUVqZWN0aW9uVGltZU1zICE9PSBudWxsICYmIGJhc2VFamVjdGlvblRpbWVNcyAhPT0gdm9pZCAwID8gYmFzZUVqZWN0aW9uVGltZU1zIDogMzAwMDA7XG4gICAgICAgIHRoaXMubWF4RWplY3Rpb25UaW1lTXMgPSBtYXhFamVjdGlvblRpbWVNcyAhPT0gbnVsbCAmJiBtYXhFamVjdGlvblRpbWVNcyAhPT0gdm9pZCAwID8gbWF4RWplY3Rpb25UaW1lTXMgOiAzMDAwMDA7XG4gICAgICAgIHRoaXMubWF4RWplY3Rpb25QZXJjZW50ID0gbWF4RWplY3Rpb25QZXJjZW50ICE9PSBudWxsICYmIG1heEVqZWN0aW9uUGVyY2VudCAhPT0gdm9pZCAwID8gbWF4RWplY3Rpb25QZXJjZW50IDogMTA7XG4gICAgICAgIHRoaXMuc3VjY2Vzc1JhdGVFamVjdGlvbiA9IHN1Y2Nlc3NSYXRlRWplY3Rpb25cbiAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZyksIHN1Y2Nlc3NSYXRlRWplY3Rpb24pIDogbnVsbDtcbiAgICAgICAgdGhpcy5mYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uID0gZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvblxuICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnKSwgZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbikgOiBudWxsO1xuICAgIH1cbiAgICBnZXRMb2FkQmFsYW5jZXJOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbiAgICB0b0pzb25PYmplY3QoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBvdXRsaWVyX2RldGVjdGlvbjoge1xuICAgICAgICAgICAgICAgIGludGVydmFsOiAoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMuaW50ZXJ2YWxNcyksXG4gICAgICAgICAgICAgICAgYmFzZV9lamVjdGlvbl90aW1lOiAoMCwgZHVyYXRpb25fMS5tc1RvRHVyYXRpb24pKHRoaXMuYmFzZUVqZWN0aW9uVGltZU1zKSxcbiAgICAgICAgICAgICAgICBtYXhfZWplY3Rpb25fdGltZTogKDAsIGR1cmF0aW9uXzEubXNUb0R1cmF0aW9uKSh0aGlzLm1heEVqZWN0aW9uVGltZU1zKSxcbiAgICAgICAgICAgICAgICBtYXhfZWplY3Rpb25fcGVyY2VudDogdGhpcy5tYXhFamVjdGlvblBlcmNlbnQsXG4gICAgICAgICAgICAgICAgc3VjY2Vzc19yYXRlX2VqZWN0aW9uOiAoX2EgPSB0aGlzLnN1Y2Nlc3NSYXRlRWplY3Rpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb246IChfYiA9IHRoaXMuZmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbikgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNoaWxkX3BvbGljeTogW3RoaXMuY2hpbGRQb2xpY3kudG9Kc29uT2JqZWN0KCldLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0SW50ZXJ2YWxNcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxNcztcbiAgICB9XG4gICAgZ2V0QmFzZUVqZWN0aW9uVGltZU1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXNlRWplY3Rpb25UaW1lTXM7XG4gICAgfVxuICAgIGdldE1heEVqZWN0aW9uVGltZU1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhFamVjdGlvblRpbWVNcztcbiAgICB9XG4gICAgZ2V0TWF4RWplY3Rpb25QZXJjZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXhFamVjdGlvblBlcmNlbnQ7XG4gICAgfVxuICAgIGdldFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1Y2Nlc3NSYXRlRWplY3Rpb247XG4gICAgfVxuICAgIGdldEZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb25Db25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb247XG4gICAgfVxuICAgIGdldENoaWxkUG9saWN5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZFBvbGljeTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUZyb21Kc29uKG9iaikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhbGlkYXRlUG9zaXRpdmVEdXJhdGlvbihvYmosICdpbnRlcnZhbCcpO1xuICAgICAgICB2YWxpZGF0ZVBvc2l0aXZlRHVyYXRpb24ob2JqLCAnYmFzZV9lamVjdGlvbl90aW1lJyk7XG4gICAgICAgIHZhbGlkYXRlUG9zaXRpdmVEdXJhdGlvbihvYmosICdtYXhfZWplY3Rpb25fdGltZScpO1xuICAgICAgICB2YWxpZGF0ZVBlcmNlbnRhZ2Uob2JqLCAnbWF4X2VqZWN0aW9uX3BlcmNlbnQnKTtcbiAgICAgICAgaWYgKCdzdWNjZXNzX3JhdGVfZWplY3Rpb24nIGluIG9iaiAmJlxuICAgICAgICAgICAgb2JqLnN1Y2Nlc3NfcmF0ZV9lamVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgc3VjY2Vzc19yYXRlX2VqZWN0aW9uIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0ZUZpZWxkVHlwZShvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCAnc3RkZXZfZmFjdG9yJywgJ251bWJlcicsICdzdWNjZXNzX3JhdGVfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlUGVyY2VudGFnZShvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCAnZW5mb3JjZW1lbnRfcGVyY2VudGFnZScsICdzdWNjZXNzX3JhdGVfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24sICdtaW5pbXVtX2hvc3RzJywgJ251bWJlcicsICdzdWNjZXNzX3JhdGVfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5zdWNjZXNzX3JhdGVfZWplY3Rpb24sICdyZXF1ZXN0X3ZvbHVtZScsICdudW1iZXInLCAnc3VjY2Vzc19yYXRlX2VqZWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nIGluIG9iaiAmJlxuICAgICAgICAgICAgb2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWxpZGF0ZVBlcmNlbnRhZ2Uob2JqLmZhaWx1cmVfcGVyY2VudGFnZV9lamVjdGlvbiwgJ3RocmVzaG9sZCcsICdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlUGVyY2VudGFnZShvYmouZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uLCAnZW5mb3JjZW1lbnRfcGVyY2VudGFnZScsICdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24sICdtaW5pbXVtX2hvc3RzJywgJ251bWJlcicsICdmYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iai5mYWlsdXJlX3BlcmNlbnRhZ2VfZWplY3Rpb24sICdyZXF1ZXN0X3ZvbHVtZScsICdudW1iZXInLCAnZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoJ2NoaWxkX3BvbGljeScgaW4gb2JqKSB8fCAhQXJyYXkuaXNBcnJheShvYmouY2hpbGRfcG9saWN5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdvdXRsaWVyIGRldGVjdGlvbiBjb25maWcgY2hpbGRfcG9saWN5IG11c3QgYmUgYW4gYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGlsZFBvbGljeSA9ICgwLCBsb2FkX2JhbGFuY2VyXzEuc2VsZWN0TGJDb25maWdGcm9tTGlzdCkob2JqLmNoaWxkX3BvbGljeSk7XG4gICAgICAgIGlmICghY2hpbGRQb2xpY3kpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignb3V0bGllciBkZXRlY3Rpb24gY29uZmlnIGNoaWxkX3BvbGljeTogbm8gdmFsaWQgcmVjb2duaXplZCBwb2xpY3kgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnKG9iai5pbnRlcnZhbCA/ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9Ncykob2JqLmludGVydmFsKSA6IG51bGwsIG9iai5iYXNlX2VqZWN0aW9uX3RpbWUgPyAoMCwgZHVyYXRpb25fMS5kdXJhdGlvblRvTXMpKG9iai5iYXNlX2VqZWN0aW9uX3RpbWUpIDogbnVsbCwgb2JqLm1heF9lamVjdGlvbl90aW1lID8gKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zKShvYmoubWF4X2VqZWN0aW9uX3RpbWUpIDogbnVsbCwgKF9hID0gb2JqLm1heF9lamVjdGlvbl9wZXJjZW50KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBudWxsLCBvYmouc3VjY2Vzc19yYXRlX2VqZWN0aW9uLCBvYmouZmFpbHVyZV9wZXJjZW50YWdlX2VqZWN0aW9uLCBjaGlsZFBvbGljeSk7XG4gICAgfVxufVxuZXhwb3J0cy5PdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2luZ0NvbmZpZyA9IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnO1xuY2xhc3MgT3V0bGllckRldGVjdGlvblN1YmNoYW5uZWxXcmFwcGVyIGV4dGVuZHMgc3ViY2hhbm5lbF9pbnRlcmZhY2VfMS5CYXNlU3ViY2hhbm5lbFdyYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoaWxkU3ViY2hhbm5lbCwgbWFwRW50cnkpIHtcbiAgICAgICAgc3VwZXIoY2hpbGRTdWJjaGFubmVsKTtcbiAgICAgICAgdGhpcy5tYXBFbnRyeSA9IG1hcEVudHJ5O1xuICAgICAgICB0aGlzLnJlZkNvdW50ID0gMDtcbiAgICB9XG4gICAgcmVmKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnJlZigpO1xuICAgICAgICB0aGlzLnJlZkNvdW50ICs9IDE7XG4gICAgfVxuICAgIHVucmVmKCkge1xuICAgICAgICB0aGlzLmNoaWxkLnVucmVmKCk7XG4gICAgICAgIHRoaXMucmVmQ291bnQgLT0gMTtcbiAgICAgICAgaWYgKHRoaXMucmVmQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWFwRW50cnkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMubWFwRW50cnkuc3ViY2hhbm5lbFdyYXBwZXJzLmluZGV4T2YodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBFbnRyeS5zdWJjaGFubmVsV3JhcHBlcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWplY3QoKSB7XG4gICAgICAgIHRoaXMuc2V0SGVhbHRoeShmYWxzZSk7XG4gICAgfVxuICAgIHVuZWplY3QoKSB7XG4gICAgICAgIHRoaXMuc2V0SGVhbHRoeSh0cnVlKTtcbiAgICB9XG4gICAgZ2V0TWFwRW50cnkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcEVudHJ5O1xuICAgIH1cbiAgICBnZXRXcmFwcGVkU3ViY2hhbm5lbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGQ7XG4gICAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRW1wdHlCdWNrZXQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogMCxcbiAgICAgICAgZmFpbHVyZTogMCxcbiAgICB9O1xufVxuY2xhc3MgQ2FsbENvdW50ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldCA9IGNyZWF0ZUVtcHR5QnVja2V0KCk7XG4gICAgICAgIHRoaXMuaW5hY3RpdmVCdWNrZXQgPSBjcmVhdGVFbXB0eUJ1Y2tldCgpO1xuICAgIH1cbiAgICBhZGRTdWNjZXNzKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldC5zdWNjZXNzICs9IDE7XG4gICAgfVxuICAgIGFkZEZhaWx1cmUoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlQnVja2V0LmZhaWx1cmUgKz0gMTtcbiAgICB9XG4gICAgc3dpdGNoQnVja2V0cygpIHtcbiAgICAgICAgdGhpcy5pbmFjdGl2ZUJ1Y2tldCA9IHRoaXMuYWN0aXZlQnVja2V0O1xuICAgICAgICB0aGlzLmFjdGl2ZUJ1Y2tldCA9IGNyZWF0ZUVtcHR5QnVja2V0KCk7XG4gICAgfVxuICAgIGdldExhc3RTdWNjZXNzZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmluYWN0aXZlQnVja2V0LnN1Y2Nlc3M7XG4gICAgfVxuICAgIGdldExhc3RGYWlsdXJlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5hY3RpdmVCdWNrZXQuZmFpbHVyZTtcbiAgICB9XG59XG5jbGFzcyBPdXRsaWVyRGV0ZWN0aW9uUGlja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih3cmFwcGVkUGlja2VyLCBjb3VudENhbGxzKSB7XG4gICAgICAgIHRoaXMud3JhcHBlZFBpY2tlciA9IHdyYXBwZWRQaWNrZXI7XG4gICAgICAgIHRoaXMuY291bnRDYWxscyA9IGNvdW50Q2FsbHM7XG4gICAgfVxuICAgIHBpY2socGlja0FyZ3MpIHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZFBpY2sgPSB0aGlzLndyYXBwZWRQaWNrZXIucGljayhwaWNrQXJncyk7XG4gICAgICAgIGlmICh3cmFwcGVkUGljay5waWNrUmVzdWx0VHlwZSA9PT0gcGlja2VyXzEuUGlja1Jlc3VsdFR5cGUuQ09NUExFVEUpIHtcbiAgICAgICAgICAgIGNvbnN0IHN1YmNoYW5uZWxXcmFwcGVyID0gd3JhcHBlZFBpY2suc3ViY2hhbm5lbDtcbiAgICAgICAgICAgIGNvbnN0IG1hcEVudHJ5ID0gc3ViY2hhbm5lbFdyYXBwZXIuZ2V0TWFwRW50cnkoKTtcbiAgICAgICAgICAgIGlmIChtYXBFbnRyeSkge1xuICAgICAgICAgICAgICAgIGxldCBvbkNhbGxFbmRlZCA9IHdyYXBwZWRQaWNrLm9uQ2FsbEVuZGVkO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50Q2FsbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgb25DYWxsRW5kZWQgPSAoc3RhdHVzQ29kZSwgZGV0YWlscywgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNDb2RlID09PSBjb25zdGFudHNfMS5TdGF0dXMuT0spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBFbnRyeS5jb3VudGVyLmFkZFN1Y2Nlc3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcEVudHJ5LmNvdW50ZXIuYWRkRmFpbHVyZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gd3JhcHBlZFBpY2sub25DYWxsRW5kZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHdyYXBwZWRQaWNrLCBzdGF0dXNDb2RlLCBkZXRhaWxzLCBtZXRhZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHdyYXBwZWRQaWNrKSwgeyBzdWJjaGFubmVsOiBzdWJjaGFubmVsV3JhcHBlci5nZXRXcmFwcGVkU3ViY2hhbm5lbCgpLCBvbkNhbGxFbmRlZDogb25DYWxsRW5kZWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB3cmFwcGVkUGljayksIHsgc3ViY2hhbm5lbDogc3ViY2hhbm5lbFdyYXBwZXIuZ2V0V3JhcHBlZFN1YmNoYW5uZWwoKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwcGVkUGljaztcbiAgICAgICAgfVxuICAgIH1cbn1cbmNsYXNzIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxDb250cm9sSGVscGVyKSB7XG4gICAgICAgIHRoaXMuZW50cnlNYXAgPSBuZXcgc3ViY2hhbm5lbF9hZGRyZXNzXzEuRW5kcG9pbnRNYXAoKTtcbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVyU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5jaGlsZEJhbGFuY2VyID0gbmV3IGxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xLkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlcigoMCwgZXhwZXJpbWVudGFsXzEuY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlcikoY2hhbm5lbENvbnRyb2xIZWxwZXIsIHtcbiAgICAgICAgICAgIGNyZWF0ZVN1YmNoYW5uZWw6IChzdWJjaGFubmVsQWRkcmVzcywgc3ViY2hhbm5lbEFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN1YmNoYW5uZWwgPSBjaGFubmVsQ29udHJvbEhlbHBlci5jcmVhdGVTdWJjaGFubmVsKHN1YmNoYW5uZWxBZGRyZXNzLCBzdWJjaGFubmVsQXJncyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWFwRW50cnkgPSB0aGlzLmVudHJ5TWFwLmdldEZvclN1YmNoYW5uZWxBZGRyZXNzKHN1YmNoYW5uZWxBZGRyZXNzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsV3JhcHBlciA9IG5ldyBPdXRsaWVyRGV0ZWN0aW9uU3ViY2hhbm5lbFdyYXBwZXIob3JpZ2luYWxTdWJjaGFubmVsLCBtYXBFbnRyeSk7XG4gICAgICAgICAgICAgICAgaWYgKChtYXBFbnRyeSA9PT0gbnVsbCB8fCBtYXBFbnRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wKSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYWRkcmVzcyBpcyBlamVjdGVkLCBwcm9wYWdhdGUgdGhhdCB0byB0aGUgbmV3IHN1YmNoYW5uZWwgd3JhcHBlclxuICAgICAgICAgICAgICAgICAgICBzdWJjaGFubmVsV3JhcHBlci5lamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXBFbnRyeSA9PT0gbnVsbCB8fCBtYXBFbnRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogbWFwRW50cnkuc3ViY2hhbm5lbFdyYXBwZXJzLnB1c2goc3ViY2hhbm5lbFdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdWJjaGFubmVsV3JhcHBlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cGRhdGVTdGF0ZTogKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvbnRyb2xIZWxwZXIudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5U3RhdGUsIG5ldyBPdXRsaWVyRGV0ZWN0aW9uUGlja2VyKHBpY2tlciwgdGhpcy5pc0NvdW50aW5nRW5hYmxlZCgpKSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5uZWxDb250cm9sSGVscGVyLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eVN0YXRlLCBwaWNrZXIsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmVqZWN0aW9uVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7IH0sIDApO1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZWplY3Rpb25UaW1lcik7XG4gICAgfVxuICAgIGlzQ291bnRpbmdFbmFibGVkKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMubGF0ZXN0Q29uZmlnICE9PSBudWxsICYmXG4gICAgICAgICAgICAodGhpcy5sYXRlc3RDb25maWcuZ2V0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZygpICE9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5sYXRlc3RDb25maWcuZ2V0RmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbkNvbmZpZygpICE9PSBudWxsKSk7XG4gICAgfVxuICAgIGdldEN1cnJlbnRFamVjdGlvblBlcmNlbnQoKSB7XG4gICAgICAgIGxldCBlamVjdGlvbkNvdW50ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBtYXBFbnRyeSBvZiB0aGlzLmVudHJ5TWFwLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAobWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZWplY3Rpb25Db3VudCArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoZWplY3Rpb25Db3VudCAqIDEwMCkgLyB0aGlzLmVudHJ5TWFwLnNpemU7XG4gICAgfVxuICAgIHJ1blN1Y2Nlc3NSYXRlQ2hlY2soZWplY3Rpb25UaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhdGVzdENvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlQ29uZmlnID0gdGhpcy5sYXRlc3RDb25maWcuZ2V0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZygpO1xuICAgICAgICBpZiAoIXN1Y2Nlc3NSYXRlQ29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1J1bm5pbmcgc3VjY2VzcyByYXRlIGNoZWNrJyk7XG4gICAgICAgIC8vIFN0ZXAgMVxuICAgICAgICBjb25zdCB0YXJnZXRSZXF1ZXN0Vm9sdW1lID0gc3VjY2Vzc1JhdGVDb25maWcucmVxdWVzdF92b2x1bWU7XG4gICAgICAgIGxldCBhZGRyZXNlc1dpdGhUYXJnZXRWb2x1bWUgPSAwO1xuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZXMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBbZW5kcG9pbnQsIG1hcEVudHJ5XSBvZiB0aGlzLmVudHJ5TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0U3VjY2Vzc2VzKCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdEZhaWx1cmVzKCk7XG4gICAgICAgICAgICB0cmFjZSgnU3RhdHMgZm9yICcgK1xuICAgICAgICAgICAgICAgICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nKShlbmRwb2ludCkgK1xuICAgICAgICAgICAgICAgICc6IHN1Y2Nlc3Nlcz0nICtcbiAgICAgICAgICAgICAgICBzdWNjZXNzZXMgK1xuICAgICAgICAgICAgICAgICcgZmFpbHVyZXM9JyArXG4gICAgICAgICAgICAgICAgZmFpbHVyZXMgK1xuICAgICAgICAgICAgICAgICcgdGFyZ2V0UmVxdWVzdFZvbHVtZT0nICtcbiAgICAgICAgICAgICAgICB0YXJnZXRSZXF1ZXN0Vm9sdW1lKTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzZXMgKyBmYWlsdXJlcyA+PSB0YXJnZXRSZXF1ZXN0Vm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgYWRkcmVzZXNXaXRoVGFyZ2V0Vm9sdW1lICs9IDE7XG4gICAgICAgICAgICAgICAgc3VjY2Vzc1JhdGVzLnB1c2goc3VjY2Vzc2VzIC8gKHN1Y2Nlc3NlcyArIGZhaWx1cmVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ0ZvdW5kICcgK1xuICAgICAgICAgICAgYWRkcmVzZXNXaXRoVGFyZ2V0Vm9sdW1lICtcbiAgICAgICAgICAgICcgc3VjY2VzcyByYXRlIGNhbmRpZGF0ZXM7IGN1cnJlbnRFamVjdGlvblBlcmNlbnQ9JyArXG4gICAgICAgICAgICB0aGlzLmdldEN1cnJlbnRFamVjdGlvblBlcmNlbnQoKSArXG4gICAgICAgICAgICAnIHN1Y2Nlc3NSYXRlcz1bJyArXG4gICAgICAgICAgICBzdWNjZXNzUmF0ZXMgK1xuICAgICAgICAgICAgJ10nKTtcbiAgICAgICAgaWYgKGFkZHJlc2VzV2l0aFRhcmdldFZvbHVtZSA8IHN1Y2Nlc3NSYXRlQ29uZmlnLm1pbmltdW1faG9zdHMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGVwIDJcbiAgICAgICAgY29uc3Qgc3VjY2Vzc1JhdGVNZWFuID0gc3VjY2Vzc1JhdGVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpIC8gc3VjY2Vzc1JhdGVzLmxlbmd0aDtcbiAgICAgICAgbGV0IHN1Y2Nlc3NSYXRlRGV2aWF0aW9uU3VtID0gMDtcbiAgICAgICAgZm9yIChjb25zdCByYXRlIG9mIHN1Y2Nlc3NSYXRlcykge1xuICAgICAgICAgICAgY29uc3QgZGV2aWF0aW9uID0gcmF0ZSAtIHN1Y2Nlc3NSYXRlTWVhbjtcbiAgICAgICAgICAgIHN1Y2Nlc3NSYXRlRGV2aWF0aW9uU3VtICs9IGRldmlhdGlvbiAqIGRldmlhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZVZhcmlhbmNlID0gc3VjY2Vzc1JhdGVEZXZpYXRpb25TdW0gLyBzdWNjZXNzUmF0ZXMubGVuZ3RoO1xuICAgICAgICBjb25zdCBzdWNjZXNzUmF0ZVN0ZGV2ID0gTWF0aC5zcXJ0KHN1Y2Nlc3NSYXRlVmFyaWFuY2UpO1xuICAgICAgICBjb25zdCBlamVjdGlvblRocmVzaG9sZCA9IHN1Y2Nlc3NSYXRlTWVhbiAtXG4gICAgICAgICAgICBzdWNjZXNzUmF0ZVN0ZGV2ICogKHN1Y2Nlc3NSYXRlQ29uZmlnLnN0ZGV2X2ZhY3RvciAvIDEwMDApO1xuICAgICAgICB0cmFjZSgnc3RkZXY9JyArIHN1Y2Nlc3NSYXRlU3RkZXYgKyAnIGVqZWN0aW9uVGhyZXNob2xkPScgKyBlamVjdGlvblRocmVzaG9sZCk7XG4gICAgICAgIC8vIFN0ZXAgM1xuICAgICAgICBmb3IgKGNvbnN0IFthZGRyZXNzLCBtYXBFbnRyeV0gb2YgdGhpcy5lbnRyeU1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIC8vIFN0ZXAgMy5pXG4gICAgICAgICAgICBpZiAodGhpcy5nZXRDdXJyZW50RWplY3Rpb25QZXJjZW50KCkgPj1cbiAgICAgICAgICAgICAgICB0aGlzLmxhdGVzdENvbmZpZy5nZXRNYXhFamVjdGlvblBlcmNlbnQoKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAzLmlpXG4gICAgICAgICAgICBjb25zdCBzdWNjZXNzZXMgPSBtYXBFbnRyeS5jb3VudGVyLmdldExhc3RTdWNjZXNzZXMoKTtcbiAgICAgICAgICAgIGNvbnN0IGZhaWx1cmVzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0RmFpbHVyZXMoKTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzZXMgKyBmYWlsdXJlcyA8IHRhcmdldFJlcXVlc3RWb2x1bWUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFN0ZXAgMy5paWlcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NSYXRlID0gc3VjY2Vzc2VzIC8gKHN1Y2Nlc3NlcyArIGZhaWx1cmVzKTtcbiAgICAgICAgICAgIHRyYWNlKCdDaGVja2luZyBjYW5kaWRhdGUgJyArIGFkZHJlc3MgKyAnIHN1Y2Nlc3NSYXRlPScgKyBzdWNjZXNzUmF0ZSk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc1JhdGUgPCBlamVjdGlvblRocmVzaG9sZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmRvbU51bWJlciA9IE1hdGgucmFuZG9tKCkgKiAxMDA7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ0NhbmRpZGF0ZSAnICtcbiAgICAgICAgICAgICAgICAgICAgYWRkcmVzcyArXG4gICAgICAgICAgICAgICAgICAgICcgcmFuZG9tTnVtYmVyPScgK1xuICAgICAgICAgICAgICAgICAgICByYW5kb21OdW1iZXIgK1xuICAgICAgICAgICAgICAgICAgICAnIGVuZm9yY2VtZW50X3BlcmNlbnRhZ2U9JyArXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3NSYXRlQ29uZmlnLmVuZm9yY2VtZW50X3BlcmNlbnRhZ2UpO1xuICAgICAgICAgICAgICAgIGlmIChyYW5kb21OdW1iZXIgPCBzdWNjZXNzUmF0ZUNvbmZpZy5lbmZvcmNlbWVudF9wZXJjZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNlKCdFamVjdGluZyBjYW5kaWRhdGUgJyArIGFkZHJlc3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVqZWN0KG1hcEVudHJ5LCBlamVjdGlvblRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJ1bkZhaWx1cmVQZXJjZW50YWdlQ2hlY2soZWplY3Rpb25UaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhdGVzdENvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnID0gdGhpcy5sYXRlc3RDb25maWcuZ2V0RmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbkNvbmZpZygpO1xuICAgICAgICBpZiAoIWZhaWx1cmVQZXJjZW50YWdlQ29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1J1bm5pbmcgZmFpbHVyZSBwZXJjZW50YWdlIGNoZWNrLiB0aHJlc2hvbGQ9JyArXG4gICAgICAgICAgICBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy50aHJlc2hvbGQgK1xuICAgICAgICAgICAgJyByZXF1ZXN0IHZvbHVtZSB0aHJlc2hvbGQ9JyArXG4gICAgICAgICAgICBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy5yZXF1ZXN0X3ZvbHVtZSk7XG4gICAgICAgIC8vIFN0ZXAgMVxuICAgICAgICBsZXQgYWRkcmVzc2VzV2l0aFRhcmdldFZvbHVtZSA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgdGhpcy5lbnRyeU1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgY29uc3Qgc3VjY2Vzc2VzID0gbWFwRW50cnkuY291bnRlci5nZXRMYXN0U3VjY2Vzc2VzKCk7XG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdEZhaWx1cmVzKCk7XG4gICAgICAgICAgICBpZiAoc3VjY2Vzc2VzICsgZmFpbHVyZXMgPj0gZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcucmVxdWVzdF92b2x1bWUpIHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzZXNXaXRoVGFyZ2V0Vm9sdW1lICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFkZHJlc3Nlc1dpdGhUYXJnZXRWb2x1bWUgPCBmYWlsdXJlUGVyY2VudGFnZUNvbmZpZy5taW5pbXVtX2hvc3RzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RlcCAyXG4gICAgICAgIGZvciAoY29uc3QgW2FkZHJlc3MsIG1hcEVudHJ5XSBvZiB0aGlzLmVudHJ5TWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgLy8gU3RlcCAyLmlcbiAgICAgICAgICAgIGlmICh0aGlzLmdldEN1cnJlbnRFamVjdGlvblBlcmNlbnQoKSA+PVxuICAgICAgICAgICAgICAgIHRoaXMubGF0ZXN0Q29uZmlnLmdldE1heEVqZWN0aW9uUGVyY2VudCgpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIDIuaWlcbiAgICAgICAgICAgIGNvbnN0IHN1Y2Nlc3NlcyA9IG1hcEVudHJ5LmNvdW50ZXIuZ2V0TGFzdFN1Y2Nlc3NlcygpO1xuICAgICAgICAgICAgY29uc3QgZmFpbHVyZXMgPSBtYXBFbnRyeS5jb3VudGVyLmdldExhc3RGYWlsdXJlcygpO1xuICAgICAgICAgICAgdHJhY2UoJ0NhbmRpZGF0ZSBzdWNjZXNzZXM9JyArIHN1Y2Nlc3NlcyArICcgZmFpbHVyZXM9JyArIGZhaWx1cmVzKTtcbiAgICAgICAgICAgIGlmIChzdWNjZXNzZXMgKyBmYWlsdXJlcyA8IGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnLnJlcXVlc3Rfdm9sdW1lKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTdGVwIDIuaWlpXG4gICAgICAgICAgICBjb25zdCBmYWlsdXJlUGVyY2VudGFnZSA9IChmYWlsdXJlcyAqIDEwMCkgLyAoZmFpbHVyZXMgKyBzdWNjZXNzZXMpO1xuICAgICAgICAgICAgaWYgKGZhaWx1cmVQZXJjZW50YWdlID4gZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcudGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZG9tTnVtYmVyID0gTWF0aC5yYW5kb20oKSAqIDEwMDtcbiAgICAgICAgICAgICAgICB0cmFjZSgnQ2FuZGlkYXRlICcgK1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzICtcbiAgICAgICAgICAgICAgICAgICAgJyByYW5kb21OdW1iZXI9JyArXG4gICAgICAgICAgICAgICAgICAgIHJhbmRvbU51bWJlciArXG4gICAgICAgICAgICAgICAgICAgICcgZW5mb3JjZW1lbnRfcGVyY2VudGFnZT0nICtcbiAgICAgICAgICAgICAgICAgICAgZmFpbHVyZVBlcmNlbnRhZ2VDb25maWcuZW5mb3JjZW1lbnRfcGVyY2VudGFnZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmRvbU51bWJlciA8IGZhaWx1cmVQZXJjZW50YWdlQ29uZmlnLmVuZm9yY2VtZW50X3BlcmNlbnRhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2UoJ0VqZWN0aW5nIGNhbmRpZGF0ZSAnICsgYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWplY3QobWFwRW50cnksIGVqZWN0aW9uVGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWplY3QobWFwRW50cnksIGVqZWN0aW9uVGltZXN0YW1wKSB7XG4gICAgICAgIG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIG1hcEVudHJ5LmVqZWN0aW9uVGltZU11bHRpcGxpZXIgKz0gMTtcbiAgICAgICAgZm9yIChjb25zdCBzdWJjaGFubmVsV3JhcHBlciBvZiBtYXBFbnRyeS5zdWJjaGFubmVsV3JhcHBlcnMpIHtcbiAgICAgICAgICAgIHN1YmNoYW5uZWxXcmFwcGVyLmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdW5lamVjdChtYXBFbnRyeSkge1xuICAgICAgICBtYXBFbnRyeS5jdXJyZW50RWplY3Rpb25UaW1lc3RhbXAgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IHN1YmNoYW5uZWxXcmFwcGVyIG9mIG1hcEVudHJ5LnN1YmNoYW5uZWxXcmFwcGVycykge1xuICAgICAgICAgICAgc3ViY2hhbm5lbFdyYXBwZXIudW5lamVjdCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN3aXRjaEFsbEJ1Y2tldHMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWFwRW50cnkgb2YgdGhpcy5lbnRyeU1hcC52YWx1ZXMoKSkge1xuICAgICAgICAgICAgbWFwRW50cnkuY291bnRlci5zd2l0Y2hCdWNrZXRzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhcnRUaW1lcihkZWxheU1zKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHRoaXMuZWplY3Rpb25UaW1lciA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5ydW5DaGVja3MoKSwgZGVsYXlNcyk7XG4gICAgICAgIChfYiA9IChfYSA9IHRoaXMuZWplY3Rpb25UaW1lcikudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB9XG4gICAgcnVuQ2hlY2tzKCkge1xuICAgICAgICBjb25zdCBlamVjdGlvblRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRyYWNlKCdFamVjdGlvbiB0aW1lciBydW5uaW5nJyk7XG4gICAgICAgIHRoaXMuc3dpdGNoQWxsQnVja2V0cygpO1xuICAgICAgICBpZiAoIXRoaXMubGF0ZXN0Q29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aW1lclN0YXJ0VGltZSA9IGVqZWN0aW9uVGltZXN0YW1wO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZXIodGhpcy5sYXRlc3RDb25maWcuZ2V0SW50ZXJ2YWxNcygpKTtcbiAgICAgICAgdGhpcy5ydW5TdWNjZXNzUmF0ZUNoZWNrKGVqZWN0aW9uVGltZXN0YW1wKTtcbiAgICAgICAgdGhpcy5ydW5GYWlsdXJlUGVyY2VudGFnZUNoZWNrKGVqZWN0aW9uVGltZXN0YW1wKTtcbiAgICAgICAgZm9yIChjb25zdCBbYWRkcmVzcywgbWFwRW50cnldIG9mIHRoaXMuZW50cnlNYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAobWFwRW50cnkuY3VycmVudEVqZWN0aW9uVGltZXN0YW1wID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcEVudHJ5LmVqZWN0aW9uVGltZU11bHRpcGxpZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcEVudHJ5LmVqZWN0aW9uVGltZU11bHRpcGxpZXIgLT0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlRWplY3Rpb25UaW1lTXMgPSB0aGlzLmxhdGVzdENvbmZpZy5nZXRCYXNlRWplY3Rpb25UaW1lTXMoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXhFamVjdGlvblRpbWVNcyA9IHRoaXMubGF0ZXN0Q29uZmlnLmdldE1heEVqZWN0aW9uVGltZU1zKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmV0dXJuVGltZSA9IG5ldyBEYXRlKG1hcEVudHJ5LmN1cnJlbnRFamVjdGlvblRpbWVzdGFtcC5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIHJldHVyblRpbWUuc2V0TWlsbGlzZWNvbmRzKHJldHVyblRpbWUuZ2V0TWlsbGlzZWNvbmRzKCkgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbihiYXNlRWplY3Rpb25UaW1lTXMgKiBtYXBFbnRyeS5lamVjdGlvblRpbWVNdWx0aXBsaWVyLCBNYXRoLm1heChiYXNlRWplY3Rpb25UaW1lTXMsIG1heEVqZWN0aW9uVGltZU1zKSkpO1xuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5UaW1lIDwgbmV3IERhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgnVW5lamVjdGluZyAnICsgYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5lamVjdChtYXBFbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZUFkZHJlc3NMaXN0KGVuZHBvaW50TGlzdCwgbGJDb25maWcsIG9wdGlvbnMsIHJlc29sdXRpb25Ob3RlKSB7XG4gICAgICAgIGlmICghKGxiQ29uZmlnIGluc3RhbmNlb2YgT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNpbmdDb25maWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2UoJ1JlY2VpdmVkIHVwZGF0ZSB3aXRoIGNvbmZpZzogJyArIEpTT04uc3RyaW5naWZ5KGxiQ29uZmlnLnRvSnNvbk9iamVjdCgpLCB1bmRlZmluZWQsIDIpKTtcbiAgICAgICAgaWYgKGVuZHBvaW50TGlzdC5vaykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBlbmRwb2ludExpc3QudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZW50cnlNYXAuaGFzKGVuZHBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFjZSgnQWRkaW5nIG1hcCBlbnRyeSBmb3IgJyArICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nKShlbmRwb2ludCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVudHJ5TWFwLnNldChlbmRwb2ludCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRlcjogbmV3IENhbGxDb3VudGVyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWplY3Rpb25UaW1lc3RhbXA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBlamVjdGlvblRpbWVNdWx0aXBsaWVyOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViY2hhbm5lbFdyYXBwZXJzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbnRyeU1hcC5kZWxldGVNaXNzaW5nKGVuZHBvaW50TGlzdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hpbGRQb2xpY3kgPSBsYkNvbmZpZy5nZXRDaGlsZFBvbGljeSgpO1xuICAgICAgICB0aGlzLmNoaWxkQmFsYW5jZXIudXBkYXRlQWRkcmVzc0xpc3QoZW5kcG9pbnRMaXN0LCBjaGlsZFBvbGljeSwgb3B0aW9ucywgcmVzb2x1dGlvbk5vdGUpO1xuICAgICAgICBpZiAobGJDb25maWcuZ2V0U3VjY2Vzc1JhdGVFamVjdGlvbkNvbmZpZygpIHx8XG4gICAgICAgICAgICBsYkNvbmZpZy5nZXRGYWlsdXJlUGVyY2VudGFnZUVqZWN0aW9uQ29uZmlnKCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRpbWVyU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgdHJhY2UoJ1ByZXZpb3VzIHRpbWVyIGV4aXN0ZWQuIFJlcGxhY2luZyB0aW1lcicpO1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVqZWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ0RlbGF5ID0gbGJDb25maWcuZ2V0SW50ZXJ2YWxNcygpIC1cbiAgICAgICAgICAgICAgICAgICAgKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy50aW1lclN0YXJ0VGltZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lcihyZW1haW5pbmdEZWxheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFjZSgnU3RhcnRpbmcgbmV3IHRpbWVyJyk7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lclN0YXJ0VGltZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVyKGxiQ29uZmlnLmdldEludGVydmFsTXMoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hBbGxCdWNrZXRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0cmFjZSgnQ291bnRpbmcgZGlzYWJsZWQuIENhbmNlbGxpbmcgdGltZXIuJyk7XG4gICAgICAgICAgICB0aGlzLnRpbWVyU3RhcnRUaW1lID0gbnVsbDtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmVqZWN0aW9uVGltZXIpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBtYXBFbnRyeSBvZiB0aGlzLmVudHJ5TWFwLnZhbHVlcygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmVqZWN0KG1hcEVudHJ5KTtcbiAgICAgICAgICAgICAgICBtYXBFbnRyeS5lamVjdGlvblRpbWVNdWx0aXBsaWVyID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxhdGVzdENvbmZpZyA9IGxiQ29uZmlnO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZXhpdElkbGUoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5leGl0SWRsZSgpO1xuICAgIH1cbiAgICByZXNldEJhY2tvZmYoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5yZXNldEJhY2tvZmYoKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZWplY3Rpb25UaW1lcik7XG4gICAgICAgIHRoaXMuY2hpbGRCYWxhbmNlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldFR5cGVOYW1lKCkge1xuICAgICAgICByZXR1cm4gVFlQRV9OQU1FO1xuICAgIH1cbn1cbmV4cG9ydHMuT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNlciA9IE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXI7XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBpZiAoT1VUTElFUl9ERVRFQ1RJT05fRU5BQkxFRCkge1xuICAgICAgICAoMCwgZXhwZXJpbWVudGFsXzEucmVnaXN0ZXJMb2FkQmFsYW5jZXJUeXBlKShUWVBFX05BTUUsIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jZXIsIE91dGxpZXJEZXRlY3Rpb25Mb2FkQmFsYW5jaW5nQ29uZmlnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuLypcbiAqIENvcHlyaWdodCAyMDI1IGdSUEMgYXV0aG9ycy5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlByaW9yaXR5UXVldWUgPSB2b2lkIDA7XG5jb25zdCB0b3AgPSAwO1xuY29uc3QgcGFyZW50ID0gKGkpID0+IE1hdGguZmxvb3IoaSAvIDIpO1xuY29uc3QgbGVmdCA9IChpKSA9PiBpICogMiArIDE7XG5jb25zdCByaWdodCA9IChpKSA9PiBpICogMiArIDI7XG4vKipcbiAqIEEgZ2VuZXJpYyBwcmlvcml0eSBxdWV1ZSBpbXBsZW1lbnRlZCBhcyBhbiBhcnJheS1iYXNlZCBiaW5hcnkgaGVhcC5cbiAqIEFkYXB0ZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDI5MTk3NTIvMTU5Mzg4XG4gKi9cbmNsYXNzIFByaW9yaXR5UXVldWUge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbXBhcmF0b3IgUmV0dXJucyB0cnVlIGlmIHRoZSBmaXJzdCBhcmd1bWVudCBzaG91bGQgcHJlY2VkZSB0aGVcbiAgICAgKiAgIHNlY29uZCBpbiB0aGUgcXVldWUuIERlZmF1bHRzIHRvIGAoYSwgYikgPT4gYSA+IGJgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29tcGFyYXRvciA9IChhLCBiKSA9PiBhID4gYikge1xuICAgICAgICB0aGlzLmNvbXBhcmF0b3IgPSBjb21wYXJhdG9yO1xuICAgICAgICB0aGlzLmhlYXAgPSBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgVGhlIG51bWJlciBvZiBpdGVtcyBjdXJyZW50bHkgaW4gdGhlIHF1ZXVlXG4gICAgICovXG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhcC5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlcmUgYXJlIG5vIGl0ZW1zIGluIHRoZSBxdWV1ZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSgpID09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2sgYXQgdGhlIGZyb250IGl0ZW0gdGhhdCB3b3VsZCBiZSBwb3BwZWQsIHdpdGhvdXQgbW9kaWZ5aW5nIHRoZSBjb250ZW50c1xuICAgICAqIG9mIHRoZSBxdWV1ZVxuICAgICAqIEByZXR1cm5zIFRoZSBmcm9udCBpdGVtIGluIHRoZSBxdWV1ZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBxdWV1ZSBpcyBlbXB0eVxuICAgICAqL1xuICAgIHBlZWsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlYXBbdG9wXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBpdGVtcyB0byB0aGUgcXVldWVcbiAgICAgKiBAcGFyYW0gdmFsdWVzIFRoZSBpdGVtcyB0byBhZGRcbiAgICAgKiBAcmV0dXJucyBUaGUgbmV3IHNpemUgb2YgdGhlIHF1ZXVlIGFmdGVyIGFkZGluZyB0aGUgaXRlbXNcbiAgICAgKi9cbiAgICBwdXNoKC4uLnZhbHVlcykge1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhlYXAucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnNpZnRVcCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhlIGZyb250IGl0ZW0gaW4gdGhlIHF1ZXVlIGFuZCByZXR1cm4gaXRcbiAgICAgKiBAcmV0dXJucyBUaGUgZnJvbnQgaXRlbSBpbiB0aGUgcXVldWUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgcXVldWUgaXMgZW1wdHlcbiAgICAgKi9cbiAgICBwb3AoKSB7XG4gICAgICAgIGNvbnN0IHBvcHBlZFZhbHVlID0gdGhpcy5wZWVrKCk7XG4gICAgICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuc2l6ZSgpIC0gMTtcbiAgICAgICAgaWYgKGJvdHRvbSA+IHRvcCkge1xuICAgICAgICAgICAgdGhpcy5zd2FwKHRvcCwgYm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYXAucG9wKCk7XG4gICAgICAgIHRoaXMuc2lmdERvd24oKTtcbiAgICAgICAgcmV0dXJuIHBvcHBlZFZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW11bHRhbmVvdXNseSByZW1vdmUgdGhlIGZyb250IGl0ZW0gaW4gdGhlIHF1ZXVlIGFuZCBhZGQgdGhlIHByb3ZpZGVkXG4gICAgICogaXRlbS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIGl0ZW0gdG8gYWRkXG4gICAgICogQHJldHVybnMgVGhlIGZyb250IGl0ZW0gaW4gdGhlIHF1ZXVlLCBvciB1bmRlZmluZWQgaWYgdGhlIHF1ZXVlIGlzIGVtcHR5XG4gICAgICovXG4gICAgcmVwbGFjZSh2YWx1ZSkge1xuICAgICAgICBjb25zdCByZXBsYWNlZFZhbHVlID0gdGhpcy5wZWVrKCk7XG4gICAgICAgIHRoaXMuaGVhcFt0b3BdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuc2lmdERvd24oKTtcbiAgICAgICAgcmV0dXJuIHJlcGxhY2VkVmFsdWU7XG4gICAgfVxuICAgIGdyZWF0ZXIoaSwgaikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJhdG9yKHRoaXMuaGVhcFtpXSwgdGhpcy5oZWFwW2pdKTtcbiAgICB9XG4gICAgc3dhcChpLCBqKSB7XG4gICAgICAgIFt0aGlzLmhlYXBbaV0sIHRoaXMuaGVhcFtqXV0gPSBbdGhpcy5oZWFwW2pdLCB0aGlzLmhlYXBbaV1dO1xuICAgIH1cbiAgICBzaWZ0VXAoKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5zaXplKCkgLSAxO1xuICAgICAgICB3aGlsZSAobm9kZSA+IHRvcCAmJiB0aGlzLmdyZWF0ZXIobm9kZSwgcGFyZW50KG5vZGUpKSkge1xuICAgICAgICAgICAgdGhpcy5zd2FwKG5vZGUsIHBhcmVudChub2RlKSk7XG4gICAgICAgICAgICBub2RlID0gcGFyZW50KG5vZGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNpZnREb3duKCkge1xuICAgICAgICBsZXQgbm9kZSA9IHRvcDtcbiAgICAgICAgd2hpbGUgKChsZWZ0KG5vZGUpIDwgdGhpcy5zaXplKCkgJiYgdGhpcy5ncmVhdGVyKGxlZnQobm9kZSksIG5vZGUpKSB8fFxuICAgICAgICAgICAgKHJpZ2h0KG5vZGUpIDwgdGhpcy5zaXplKCkgJiYgdGhpcy5ncmVhdGVyKHJpZ2h0KG5vZGUpLCBub2RlKSkpIHtcbiAgICAgICAgICAgIGxldCBtYXhDaGlsZCA9IChyaWdodChub2RlKSA8IHRoaXMuc2l6ZSgpICYmIHRoaXMuZ3JlYXRlcihyaWdodChub2RlKSwgbGVmdChub2RlKSkpID8gcmlnaHQobm9kZSkgOiBsZWZ0KG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5zd2FwKG5vZGUsIG1heENoaWxkKTtcbiAgICAgICAgICAgIG5vZGUgPSBtYXhDaGlsZDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuUHJpb3JpdHlRdWV1ZSA9IFByaW9yaXR5UXVldWU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcmlvcml0eS1xdWV1ZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAyNSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XZWlnaHRlZFJvdW5kUm9iaW5Mb2FkQmFsYW5jaW5nQ29uZmlnID0gdm9pZCAwO1xuZXhwb3J0cy5zZXR1cCA9IHNldHVwO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5jb25zdCBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbmNvbnN0IGR1cmF0aW9uXzEgPSByZXF1aXJlKFwiLi9kdXJhdGlvblwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXJcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMSA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItcGljay1maXJzdFwiKTtcbmNvbnN0IGxvZ2dpbmcgPSByZXF1aXJlKFwiLi9sb2dnaW5nXCIpO1xuY29uc3Qgb3JjYV8xID0gcmVxdWlyZShcIi4vb3JjYVwiKTtcbmNvbnN0IHBpY2tlcl8xID0gcmVxdWlyZShcIi4vcGlja2VyXCIpO1xuY29uc3QgcHJpb3JpdHlfcXVldWVfMSA9IHJlcXVpcmUoXCIuL3ByaW9yaXR5LXF1ZXVlXCIpO1xuY29uc3Qgc3ViY2hhbm5lbF9hZGRyZXNzXzEgPSByZXF1aXJlKFwiLi9zdWJjaGFubmVsLWFkZHJlc3NcIik7XG5jb25zdCBUUkFDRVJfTkFNRSA9ICd3ZWlnaHRlZF9yb3VuZF9yb2Jpbic7XG5mdW5jdGlvbiB0cmFjZSh0ZXh0KSB7XG4gICAgbG9nZ2luZy50cmFjZShjb25zdGFudHNfMS5Mb2dWZXJib3NpdHkuREVCVUcsIFRSQUNFUl9OQU1FLCB0ZXh0KTtcbn1cbmNvbnN0IFRZUEVfTkFNRSA9ICd3ZWlnaHRlZF9yb3VuZF9yb2Jpbic7XG5jb25zdCBERUZBVUxUX09PQl9SRVBPUlRJTkdfUEVSSU9EX01TID0gMTAwMDA7XG5jb25zdCBERUZBVUxUX0JMQUNLT1VUX1BFUklPRF9NUyA9IDEwMDAwO1xuY29uc3QgREVGQVVMVF9XRUlHSFRfRVhQSVJBVElPTl9QRVJJT0RfTVMgPSAzICogNjAwMDA7XG5jb25zdCBERUZBVUxUX1dFSUdIVF9VUERBVEVfUEVSSU9EX01TID0gMTAwMDtcbmNvbnN0IERFRkFVTFRfRVJST1JfVVRJTElaQVRJT05fUEVOQUxUWSA9IDE7XG5mdW5jdGlvbiB2YWxpZGF0ZUZpZWxkVHlwZShvYmosIGZpZWxkTmFtZSwgZXhwZWN0ZWRUeXBlKSB7XG4gICAgaWYgKGZpZWxkTmFtZSBpbiBvYmogJiZcbiAgICAgICAgb2JqW2ZpZWxkTmFtZV0gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICB0eXBlb2Ygb2JqW2ZpZWxkTmFtZV0gIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHdlaWdodGVkIHJvdW5kIHJvYmluIGNvbmZpZyAke2ZpZWxkTmFtZX0gcGFyc2UgZXJyb3I6IGV4cGVjdGVkICR7ZXhwZWN0ZWRUeXBlfSwgZ290ICR7dHlwZW9mIG9ialtmaWVsZE5hbWVdfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHBhcnNlRHVyYXRpb25GaWVsZChvYmosIGZpZWxkTmFtZSkge1xuICAgIGlmIChmaWVsZE5hbWUgaW4gb2JqICYmIG9ialtmaWVsZE5hbWVdICE9PSB1bmRlZmluZWQgJiYgb2JqW2ZpZWxkTmFtZV0gIT09IG51bGwpIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uT2JqZWN0O1xuICAgICAgICBpZiAoKDAsIGR1cmF0aW9uXzEuaXNEdXJhdGlvbikob2JqW2ZpZWxkTmFtZV0pKSB7XG4gICAgICAgICAgICBkdXJhdGlvbk9iamVjdCA9IG9ialtmaWVsZE5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCgwLCBkdXJhdGlvbl8xLmlzRHVyYXRpb25NZXNzYWdlKShvYmpbZmllbGROYW1lXSkpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uT2JqZWN0ID0gKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25NZXNzYWdlVG9EdXJhdGlvbikob2JqW2ZpZWxkTmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBvYmpbZmllbGROYW1lXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZER1cmF0aW9uID0gKDAsIGR1cmF0aW9uXzEucGFyc2VEdXJhdGlvbikob2JqW2ZpZWxkTmFtZV0pO1xuICAgICAgICAgICAgaWYgKCFwYXJzZWREdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgd2VpZ2h0ZWQgcm91bmQgcm9iaW4gY29uZmlnICR7ZmllbGROYW1lfTogZmFpbGVkIHRvIHBhcnNlIGR1cmF0aW9uIHN0cmluZyAke29ialtmaWVsZE5hbWVdfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZHVyYXRpb25PYmplY3QgPSBwYXJzZWREdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgd2VpZ2h0ZWQgcm91bmQgcm9iaW4gY29uZmlnICR7ZmllbGROYW1lfTogZXhwZWN0ZWQgZHVyYXRpb24sIGdvdCAke3R5cGVvZiBvYmpbZmllbGROYW1lXX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25Ub01zKShkdXJhdGlvbk9iamVjdCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuY2xhc3MgV2VpZ2h0ZWRSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZyB7XG4gICAgY29uc3RydWN0b3IoZW5hYmxlT29iTG9hZFJlcG9ydCwgb29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zLCBibGFja291dFBlcmlvZE1zLCB3ZWlnaHRFeHBpcmF0aW9uUGVyaW9kTXMsIHdlaWdodFVwZGF0ZVBlcmlvZE1zLCBlcnJvclV0aWxpemF0aW9uUGVuYWx0eSkge1xuICAgICAgICB0aGlzLmVuYWJsZU9vYkxvYWRSZXBvcnQgPSBlbmFibGVPb2JMb2FkUmVwb3J0ICE9PSBudWxsICYmIGVuYWJsZU9vYkxvYWRSZXBvcnQgIT09IHZvaWQgMCA/IGVuYWJsZU9vYkxvYWRSZXBvcnQgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5vb2JMb2FkUmVwb3J0aW5nUGVyaW9kTXMgPSBvb2JMb2FkUmVwb3J0aW5nUGVyaW9kTXMgIT09IG51bGwgJiYgb29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zICE9PSB2b2lkIDAgPyBvb2JMb2FkUmVwb3J0aW5nUGVyaW9kTXMgOiBERUZBVUxUX09PQl9SRVBPUlRJTkdfUEVSSU9EX01TO1xuICAgICAgICB0aGlzLmJsYWNrb3V0UGVyaW9kTXMgPSBibGFja291dFBlcmlvZE1zICE9PSBudWxsICYmIGJsYWNrb3V0UGVyaW9kTXMgIT09IHZvaWQgMCA/IGJsYWNrb3V0UGVyaW9kTXMgOiBERUZBVUxUX0JMQUNLT1VUX1BFUklPRF9NUztcbiAgICAgICAgdGhpcy53ZWlnaHRFeHBpcmF0aW9uUGVyaW9kTXMgPSB3ZWlnaHRFeHBpcmF0aW9uUGVyaW9kTXMgIT09IG51bGwgJiYgd2VpZ2h0RXhwaXJhdGlvblBlcmlvZE1zICE9PSB2b2lkIDAgPyB3ZWlnaHRFeHBpcmF0aW9uUGVyaW9kTXMgOiBERUZBVUxUX1dFSUdIVF9FWFBJUkFUSU9OX1BFUklPRF9NUztcbiAgICAgICAgdGhpcy53ZWlnaHRVcGRhdGVQZXJpb2RNcyA9IE1hdGgubWF4KHdlaWdodFVwZGF0ZVBlcmlvZE1zICE9PSBudWxsICYmIHdlaWdodFVwZGF0ZVBlcmlvZE1zICE9PSB2b2lkIDAgPyB3ZWlnaHRVcGRhdGVQZXJpb2RNcyA6IERFRkFVTFRfV0VJR0hUX1VQREFURV9QRVJJT0RfTVMsIDEwMCk7XG4gICAgICAgIHRoaXMuZXJyb3JVdGlsaXphdGlvblBlbmFsdHkgPSBlcnJvclV0aWxpemF0aW9uUGVuYWx0eSAhPT0gbnVsbCAmJiBlcnJvclV0aWxpemF0aW9uUGVuYWx0eSAhPT0gdm9pZCAwID8gZXJyb3JVdGlsaXphdGlvblBlbmFsdHkgOiBERUZBVUxUX0VSUk9SX1VUSUxJWkFUSU9OX1BFTkFMVFk7XG4gICAgfVxuICAgIGdldExvYWRCYWxhbmNlck5hbWUoKSB7XG4gICAgICAgIHJldHVybiBUWVBFX05BTUU7XG4gICAgfVxuICAgIHRvSnNvbk9iamVjdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVuYWJsZV9vb2JfbG9hZF9yZXBvcnQ6IHRoaXMuZW5hYmxlT29iTG9hZFJlcG9ydCxcbiAgICAgICAgICAgIG9vYl9sb2FkX3JlcG9ydGluZ19wZXJpb2Q6ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9TdHJpbmcpKCgwLCBkdXJhdGlvbl8xLm1zVG9EdXJhdGlvbikodGhpcy5vb2JMb2FkUmVwb3J0aW5nUGVyaW9kTXMpKSxcbiAgICAgICAgICAgIGJsYWNrb3V0X3BlcmlvZDogKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25Ub1N0cmluZykoKDAsIGR1cmF0aW9uXzEubXNUb0R1cmF0aW9uKSh0aGlzLmJsYWNrb3V0UGVyaW9kTXMpKSxcbiAgICAgICAgICAgIHdlaWdodF9leHBpcmF0aW9uX3BlcmlvZDogKDAsIGR1cmF0aW9uXzEuZHVyYXRpb25Ub1N0cmluZykoKDAsIGR1cmF0aW9uXzEubXNUb0R1cmF0aW9uKSh0aGlzLndlaWdodEV4cGlyYXRpb25QZXJpb2RNcykpLFxuICAgICAgICAgICAgd2VpZ2h0X3VwZGF0ZV9wZXJpb2Q6ICgwLCBkdXJhdGlvbl8xLmR1cmF0aW9uVG9TdHJpbmcpKCgwLCBkdXJhdGlvbl8xLm1zVG9EdXJhdGlvbikodGhpcy53ZWlnaHRVcGRhdGVQZXJpb2RNcykpLFxuICAgICAgICAgICAgZXJyb3JfdXRpbGl6YXRpb25fcGVuYWx0eTogdGhpcy5lcnJvclV0aWxpemF0aW9uUGVuYWx0eVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlRnJvbUpzb24ob2JqKSB7XG4gICAgICAgIHZhbGlkYXRlRmllbGRUeXBlKG9iaiwgJ2VuYWJsZV9vb2JfbG9hZF9yZXBvcnQnLCAnYm9vbGVhbicpO1xuICAgICAgICB2YWxpZGF0ZUZpZWxkVHlwZShvYmosICdlcnJvcl91dGlsaXphdGlvbl9wZW5hbHR5JywgJ251bWJlcicpO1xuICAgICAgICBpZiAob2JqLmVycm9yX3V0aWxpemF0aW9uX3BlbmFsdHkgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3dlaWdodGVkIHJvdW5kIHJvYmluIGNvbmZpZyBlcnJvcl91dGlsaXphdGlvbl9wZW5hbHR5IDwgMCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgV2VpZ2h0ZWRSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZyhvYmouZW5hYmxlX29vYl9sb2FkX3JlcG9ydCwgcGFyc2VEdXJhdGlvbkZpZWxkKG9iaiwgJ29vYl9sb2FkX3JlcG9ydGluZ19wZXJpb2QnKSwgcGFyc2VEdXJhdGlvbkZpZWxkKG9iaiwgJ2JsYWNrb3V0X3BlcmlvZCcpLCBwYXJzZUR1cmF0aW9uRmllbGQob2JqLCAnd2VpZ2h0X2V4cGlyYXRpb25fcGVyaW9kJyksIHBhcnNlRHVyYXRpb25GaWVsZChvYmosICd3ZWlnaHRfdXBkYXRlX3BlcmlvZCcpLCBvYmouZXJyb3JfdXRpbGl6YXRpb25fcGVuYWx0eSk7XG4gICAgfVxuICAgIGdldEVuYWJsZU9vYkxvYWRSZXBvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZU9vYkxvYWRSZXBvcnQ7XG4gICAgfVxuICAgIGdldE9vYkxvYWRSZXBvcnRpbmdQZXJpb2RNcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zO1xuICAgIH1cbiAgICBnZXRCbGFja291dFBlcmlvZE1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ibGFja291dFBlcmlvZE1zO1xuICAgIH1cbiAgICBnZXRXZWlnaHRFeHBpcmF0aW9uUGVyaW9kTXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndlaWdodEV4cGlyYXRpb25QZXJpb2RNcztcbiAgICB9XG4gICAgZ2V0V2VpZ2h0VXBkYXRlUGVyaW9kTXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndlaWdodFVwZGF0ZVBlcmlvZE1zO1xuICAgIH1cbiAgICBnZXRFcnJvclV0aWxpemF0aW9uUGVuYWx0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JVdGlsaXphdGlvblBlbmFsdHk7XG4gICAgfVxufVxuZXhwb3J0cy5XZWlnaHRlZFJvdW5kUm9iaW5Mb2FkQmFsYW5jaW5nQ29uZmlnID0gV2VpZ2h0ZWRSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZztcbmNsYXNzIFdlaWdodGVkUm91bmRSb2JpblBpY2tlciB7XG4gICAgY29uc3RydWN0b3IoY2hpbGRyZW4sIG1ldHJpY3NIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMubWV0cmljc0hhbmRsZXIgPSBtZXRyaWNzSGFuZGxlcjtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IG5ldyBwcmlvcml0eV9xdWV1ZV8xLlByaW9yaXR5UXVldWUoKGEsIGIpID0+IGEuZGVhZGxpbmUgPCBiLmRlYWRsaW5lKTtcbiAgICAgICAgY29uc3QgcG9zaXRpdmVXZWlnaHQgPSBjaGlsZHJlbi5maWx0ZXIocGlja2VyID0+IHBpY2tlci53ZWlnaHQgPiAwKTtcbiAgICAgICAgbGV0IGF2ZXJhZ2VXZWlnaHQ7XG4gICAgICAgIGlmIChwb3NpdGl2ZVdlaWdodC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICBhdmVyYWdlV2VpZ2h0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCB3ZWlnaHRTdW0gPSAwO1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IHdlaWdodCB9IG9mIHBvc2l0aXZlV2VpZ2h0KSB7XG4gICAgICAgICAgICAgICAgd2VpZ2h0U3VtICs9IHdlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF2ZXJhZ2VXZWlnaHQgPSB3ZWlnaHRTdW0gLyBwb3NpdGl2ZVdlaWdodC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICAgICAgY29uc3QgcGVyaW9kID0gY2hpbGQud2VpZ2h0ID4gMCA/IDEgLyBjaGlsZC53ZWlnaHQgOiBhdmVyYWdlV2VpZ2h0O1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBlbmRwb2ludE5hbWU6IGNoaWxkLmVuZHBvaW50TmFtZSxcbiAgICAgICAgICAgICAgICBwaWNrZXI6IGNoaWxkLnBpY2tlcixcbiAgICAgICAgICAgICAgICBwZXJpb2Q6IHBlcmlvZCxcbiAgICAgICAgICAgICAgICBkZWFkbGluZTogTWF0aC5yYW5kb20oKSAqIHBlcmlvZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcGljayhwaWNrQXJncykge1xuICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMucXVldWUucG9wKCk7XG4gICAgICAgIHRoaXMucXVldWUucHVzaChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGVudHJ5KSwgeyBkZWFkbGluZTogZW50cnkuZGVhZGxpbmUgKyBlbnRyeS5wZXJpb2QgfSkpO1xuICAgICAgICBjb25zdCBjaGlsZFBpY2sgPSBlbnRyeS5waWNrZXIucGljayhwaWNrQXJncyk7XG4gICAgICAgIGlmIChjaGlsZFBpY2sucGlja1Jlc3VsdFR5cGUgPT09IHBpY2tlcl8xLlBpY2tSZXN1bHRUeXBlLkNPTVBMRVRFKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZXRyaWNzSGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNoaWxkUGljayksIHsgb25DYWxsRW5kZWQ6ICgwLCBvcmNhXzEuY3JlYXRlTWV0cmljc1JlYWRlcikobG9hZFJlcG9ydCA9PiB0aGlzLm1ldHJpY3NIYW5kbGVyKGxvYWRSZXBvcnQsIGVudHJ5LmVuZHBvaW50TmFtZSksIGNoaWxkUGljay5vbkNhbGxFbmRlZCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdWJjaGFubmVsV3JhcHBlciA9IGNoaWxkUGljay5zdWJjaGFubmVsO1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGNoaWxkUGljayksIHsgc3ViY2hhbm5lbDogc3ViY2hhbm5lbFdyYXBwZXIuZ2V0V3JhcHBlZFN1YmNoYW5uZWwoKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZFBpY2s7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBXZWlnaHRlZFJvdW5kUm9iaW5Mb2FkQmFsYW5jZXIge1xuICAgIGNvbnN0cnVjdG9yKGNoYW5uZWxDb250cm9sSGVscGVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIgPSBjaGFubmVsQ29udHJvbEhlbHBlcjtcbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBudWxsO1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLklETEU7XG4gICAgICAgIHRoaXMudXBkYXRlc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmxhc3RFcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMud2VpZ2h0VXBkYXRlVGltZXIgPSBudWxsO1xuICAgIH1cbiAgICBjb3VudENoaWxkcmVuV2l0aFN0YXRlKHN0YXRlKSB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5jaGlsZHJlbi52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKGVudHJ5LmNoaWxkLmdldENvbm5lY3Rpdml0eVN0YXRlKCkgPT09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgY291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgfVxuICAgIHVwZGF0ZVdlaWdodChlbnRyeSwgbG9hZFJlcG9ydCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBxcHMgPSBsb2FkUmVwb3J0LnJwc19mcmFjdGlvbmFsO1xuICAgICAgICBsZXQgdXRpbGl6YXRpb24gPSBsb2FkUmVwb3J0LmFwcGxpY2F0aW9uX3V0aWxpemF0aW9uO1xuICAgICAgICBpZiAodXRpbGl6YXRpb24gPiAwICYmIHFwcyA+IDApIHtcbiAgICAgICAgICAgIHV0aWxpemF0aW9uICs9IChsb2FkUmVwb3J0LmVwcyAvIHFwcykgKiAoKF9iID0gKF9hID0gdGhpcy5sYXRlc3RDb25maWcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRFcnJvclV0aWxpemF0aW9uUGVuYWx0eSgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdXZWlnaHQgPSB1dGlsaXphdGlvbiA9PT0gMCA/IDAgOiBxcHMgLyB1dGlsaXphdGlvbjtcbiAgICAgICAgaWYgKG5ld1dlaWdodCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGlmIChlbnRyeS5ub25FbXB0eVNpbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICBlbnRyeS5ub25FbXB0eVNpbmNlID0gbm93O1xuICAgICAgICB9XG4gICAgICAgIGVudHJ5Lmxhc3RVcGRhdGVkID0gbm93O1xuICAgICAgICBlbnRyeS53ZWlnaHQgPSBuZXdXZWlnaHQ7XG4gICAgfVxuICAgIGdldFdlaWdodChlbnRyeSkge1xuICAgICAgICBpZiAoIXRoaXMubGF0ZXN0Q29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgaWYgKG5vdyAtIGVudHJ5Lmxhc3RVcGRhdGVkLmdldFRpbWUoKSA+PSB0aGlzLmxhdGVzdENvbmZpZy5nZXRXZWlnaHRFeHBpcmF0aW9uUGVyaW9kTXMoKSkge1xuICAgICAgICAgICAgZW50cnkubm9uRW1wdHlTaW5jZSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibGFja291dFBlcmlvZCA9IHRoaXMubGF0ZXN0Q29uZmlnLmdldEJsYWNrb3V0UGVyaW9kTXMoKTtcbiAgICAgICAgaWYgKGJsYWNrb3V0UGVyaW9kID4gMCAmJiAoZW50cnkubm9uRW1wdHlTaW5jZSA9PT0gbnVsbCB8fCBub3cgLSBlbnRyeS5ub25FbXB0eVNpbmNlLmdldFRpbWUoKSA8IGJsYWNrb3V0UGVyaW9kKSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudHJ5LndlaWdodDtcbiAgICB9XG4gICAgY2FsY3VsYXRlQW5kVXBkYXRlU3RhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnVwZGF0ZXNQYXVzZWQgfHwgIXRoaXMubGF0ZXN0Q29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY291bnRDaGlsZHJlbldpdGhTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCB3ZWlnaHRlZFBpY2tlcnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2VuZHBvaW50LCBlbnRyeV0gb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5jaGlsZC5nZXRDb25uZWN0aXZpdHlTdGF0ZSgpICE9PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2VpZ2h0ZWRQaWNrZXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBlbmRwb2ludE5hbWU6IGVuZHBvaW50LFxuICAgICAgICAgICAgICAgICAgICBwaWNrZXI6IGVudHJ5LmNoaWxkLmdldFBpY2tlcigpLFxuICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IHRoaXMuZ2V0V2VpZ2h0KGVudHJ5KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2UoJ0NyZWF0ZWQgcGlja2VyIHdpdGggd2VpZ2h0czogJyArIHdlaWdodGVkUGlja2Vycy5tYXAoZW50cnkgPT4gZW50cnkuZW5kcG9pbnROYW1lICsgJzonICsgZW50cnkud2VpZ2h0KS5qb2luKCcsJykpO1xuICAgICAgICAgICAgbGV0IG1ldHJpY3NIYW5kbGVyO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmxhdGVzdENvbmZpZy5nZXRFbmFibGVPb2JMb2FkUmVwb3J0KCkpIHtcbiAgICAgICAgICAgICAgICBtZXRyaWNzSGFuZGxlciA9IChsb2FkUmVwb3J0LCBlbmRwb2ludE5hbWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hpbGRFbnRyeSA9IHRoaXMuY2hpbGRyZW4uZ2V0KGVuZHBvaW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZEVudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVdlaWdodChjaGlsZEVudHJ5LCBsb2FkUmVwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXRyaWNzSGFuZGxlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZLCBuZXcgV2VpZ2h0ZWRSb3VuZFJvYmluUGlja2VyKHdlaWdodGVkUGlja2VycywgbWV0cmljc0hhbmRsZXIpLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvdW50Q2hpbGRyZW5XaXRoU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuQ09OTkVDVElORykgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLkNPTk5FQ1RJTkcsIG5ldyBwaWNrZXJfMS5RdWV1ZVBpY2tlcih0aGlzKSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jb3VudENoaWxkcmVuV2l0aFN0YXRlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlRSQU5TSUVOVF9GQUlMVVJFKSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGB3ZWlnaHRlZF9yb3VuZF9yb2JpbjogTm8gY29ubmVjdGlvbiBlc3RhYmxpc2hlZC4gTGFzdCBlcnJvcjogJHt0aGlzLmxhc3RFcnJvcn1gO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgbmV3IHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyKHtcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICB9KSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSwgbmV3IHBpY2tlcl8xLlF1ZXVlUGlja2VyKHRoaXMpLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgICAvKiByb3VuZF9yb2JpbiBzaG91bGQga2VlcCBhbGwgY2hpbGRyZW4gY29ubmVjdGVkLCB0aGlzIGlzIGhvdyB3ZSBkbyB0aGF0LlxuICAgICAgICAgICogV2UgY2FuJ3QgZG8gdGhpcyBtb3JlIGVmZmljaWVudGx5IGluIHRoZSBpbmRpdmlkdWFsIGNoaWxkJ3MgdXBkYXRlU3RhdGVcbiAgICAgICAgICAqIGNhbGxiYWNrIGJlY2F1c2UgdGhhdCBkb2Vzbid0IGhhdmUgYSByZWZlcmVuY2UgdG8gd2hpY2ggY2hpbGQgdGhlIHN0YXRlXG4gICAgICAgICAgKiBjaGFuZ2UgaXMgYXNzb2NpYXRlZCB3aXRoLiAqL1xuICAgICAgICBmb3IgKGNvbnN0IHsgY2hpbGQgfSBvZiB0aGlzLmNoaWxkcmVuLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQuZ2V0Q29ubmVjdGl2aXR5U3RhdGUoKSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuSURMRSkge1xuICAgICAgICAgICAgICAgIGNoaWxkLmV4aXRJZGxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlU3RhdGUobmV3U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgIHRyYWNlKGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlW3RoaXMuY3VycmVudFN0YXRlXSArXG4gICAgICAgICAgICAnIC0+ICcgK1xuICAgICAgICAgICAgY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGVbbmV3U3RhdGVdKTtcbiAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci51cGRhdGVTdGF0ZShuZXdTdGF0ZSwgcGlja2VyLCBlcnJvck1lc3NhZ2UpO1xuICAgIH1cbiAgICB1cGRhdGVBZGRyZXNzTGlzdChtYXliZUVuZHBvaW50TGlzdCwgbGJDb25maWcsIG9wdGlvbnMsIHJlc29sdXRpb25Ob3RlKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghKGxiQ29uZmlnIGluc3RhbmNlb2YgV2VpZ2h0ZWRSb3VuZFJvYmluTG9hZEJhbGFuY2luZ0NvbmZpZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1heWJlRW5kcG9pbnRMaXN0Lm9rKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5zaXplID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdGF0ZShjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5UUkFOU0lFTlRfRkFJTFVSRSwgbmV3IHBpY2tlcl8xLlVuYXZhaWxhYmxlUGlja2VyKG1heWJlRW5kcG9pbnRMaXN0LmVycm9yKSwgbWF5YmVFbmRwb2ludExpc3QuZXJyb3IuZGV0YWlscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF5YmVFbmRwb2ludExpc3QudmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgTm8gYWRkcmVzc2VzIHJlc29sdmVkLiBSZXNvbHV0aW9uIG5vdGU6ICR7cmVzb2x1dGlvbk5vdGV9YDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUoY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuVFJBTlNJRU5UX0ZBSUxVUkUsIG5ldyBwaWNrZXJfMS5VbmF2YWlsYWJsZVBpY2tlcih7IGRldGFpbHM6IGVycm9yTWVzc2FnZSB9KSwgZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjZSgnQ29ubmVjdCB0byBlbmRwb2ludCBsaXN0ICcgKyBtYXliZUVuZHBvaW50TGlzdC52YWx1ZS5tYXAoc3ViY2hhbm5lbF9hZGRyZXNzXzEuZW5kcG9pbnRUb1N0cmluZykpO1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBzZWVuRW5kcG9pbnROYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy51cGRhdGVzUGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sYXRlc3RDb25maWcgPSBsYkNvbmZpZztcbiAgICAgICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBtYXliZUVuZHBvaW50TGlzdC52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9ICgwLCBzdWJjaGFubmVsX2FkZHJlc3NfMS5lbmRwb2ludFRvU3RyaW5nKShlbmRwb2ludCk7XG4gICAgICAgICAgICBzZWVuRW5kcG9pbnROYW1lcy5hZGQobmFtZSk7XG4gICAgICAgICAgICBsZXQgZW50cnkgPSB0aGlzLmNoaWxkcmVuLmdldChuYW1lKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICBlbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGQ6IG5ldyBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3RfMS5MZWFmTG9hZEJhbGFuY2VyKGVuZHBvaW50LCAoMCwgbG9hZF9iYWxhbmNlcl8xLmNyZWF0ZUNoaWxkQ2hhbm5lbENvbnRyb2xIZWxwZXIpKHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVN0YXRlOiAoY29ubmVjdGl2aXR5U3RhdGUsIHBpY2tlciwgZXJyb3JNZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogRW5zdXJlIHRoYXQgbmFtZSByZXNvbHV0aW9uIGlzIHJlcXVlc3RlZCBhZ2FpbiBhZnRlciBhY3RpdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogY29ubmVjdGlvbnMgYXJlIGRyb3BwZWQuIFRoaXMgaXMgbW9yZSBhZ2dyZXNzaXZlIHRoYW4gbmVjZXNzYXJ5IHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIGFjY29tcGxpc2ggdGhhdCwgc28gd2UgYXJlIGNvdW50aW5nIG9uIHJlc29sdmVycyB0byBoYXZlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqIHJlYXNvbmFibGUgcmF0ZSBsaW1pdHMuICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBjb25uZWN0aXZpdHlfc3RhdGVfMS5Db25uZWN0aXZpdHlTdGF0ZS5SRUFEWSAmJiBjb25uZWN0aXZpdHlTdGF0ZSAhPT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsQ29udHJvbEhlbHBlci5yZXF1ZXN0UmVyZXNvbHV0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aXZpdHlTdGF0ZSA9PT0gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGUuUkVBRFkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkubm9uRW1wdHlTaW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0RXJyb3IgPSBlcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kVXBkYXRlU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTdWJjaGFubmVsOiAoc3ViY2hhbm5lbEFkZHJlc3MsIHN1YmNoYW5uZWxBcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3ViY2hhbm5lbCA9IHRoaXMuY2hhbm5lbENvbnRyb2xIZWxwZXIuY3JlYXRlU3ViY2hhbm5lbChzdWJjaGFubmVsQWRkcmVzcywgc3ViY2hhbm5lbEFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeSA9PT0gbnVsbCB8fCBlbnRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZW50cnkub29iTWV0cmljc0xpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgb3JjYV8xLk9yY2FPb2JNZXRyaWNzU3ViY2hhbm5lbFdyYXBwZXIoc3ViY2hhbm5lbCwgZW50cnkub29iTWV0cmljc0xpc3RlbmVyLCB0aGlzLmxhdGVzdENvbmZpZy5nZXRPb2JMb2FkUmVwb3J0aW5nUGVyaW9kTXMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3ViY2hhbm5lbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLCBvcHRpb25zLCByZXNvbHV0aW9uTm90ZSksXG4gICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBub3csXG4gICAgICAgICAgICAgICAgICAgIG5vbkVtcHR5U2luY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHdlaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgb29iTWV0cmljc0xpc3RlbmVyOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNldChuYW1lLCBlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGJDb25maWcuZ2V0RW5hYmxlT29iTG9hZFJlcG9ydCgpKSB7XG4gICAgICAgICAgICAgICAgZW50cnkub29iTWV0cmljc0xpc3RlbmVyID0gbG9hZFJlcG9ydCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlV2VpZ2h0KGVudHJ5LCBsb2FkUmVwb3J0KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW50cnkub29iTWV0cmljc0xpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IFtlbmRwb2ludE5hbWUsIGVudHJ5XSBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBpZiAoc2VlbkVuZHBvaW50TmFtZXMuaGFzKGVuZHBvaW50TmFtZSkpIHtcbiAgICAgICAgICAgICAgICBlbnRyeS5jaGlsZC5zdGFydENvbm5lY3RpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVudHJ5LmNoaWxkLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmRlbGV0ZShlbmRwb2ludE5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlc1BhdXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUFuZFVwZGF0ZVN0YXRlKCk7XG4gICAgICAgIGlmICh0aGlzLndlaWdodFVwZGF0ZVRpbWVyKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMud2VpZ2h0VXBkYXRlVGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud2VpZ2h0VXBkYXRlVGltZXIgPSAoX2IgPSAoX2EgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IGNvbm5lY3Rpdml0eV9zdGF0ZV8xLkNvbm5lY3Rpdml0eVN0YXRlLlJFQURZKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRVcGRhdGVTdGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBsYkNvbmZpZy5nZXRXZWlnaHRVcGRhdGVQZXJpb2RNcygpKSkudW5yZWYpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGV4aXRJZGxlKCkge1xuICAgICAgICAvKiBUaGUgd2VpZ2h0ZWRfcm91bmRfcm9iaW4gTEIgcG9saWN5IGlzIG9ubHkgaW4gdGhlIElETEUgc3RhdGUgaWYgaXQgaGFzXG4gICAgICAgICAqIG5vIGFkZHJlc3NlcyB0byB0cnkgdG8gY29ubmVjdCB0byBhbmQgaXQgaGFzIG5vIHBpY2tlZCBzdWJjaGFubmVsLlxuICAgICAgICAgKiBJbiB0aGF0IGNhc2UsIHRoZXJlIGlzIG5vIG1lYW5pbmdmdWwgYWN0aW9uIHRoYXQgY2FuIGJlIHRha2VuIGhlcmUuICovXG4gICAgfVxuICAgIHJlc2V0QmFja29mZigpIHtcbiAgICAgICAgLy8gVGhpcyBMQiBwb2xpY3kgaGFzIG5vIGJhY2tvZmYgdG8gcmVzZXRcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiB0aGlzLmNoaWxkcmVuLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBlbnRyeS5jaGlsZC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5jbGVhcigpO1xuICAgICAgICBpZiAodGhpcy53ZWlnaHRVcGRhdGVUaW1lcikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLndlaWdodFVwZGF0ZVRpbWVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRUeXBlTmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIFRZUEVfTkFNRTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXR1cCgpIHtcbiAgICAoMCwgbG9hZF9iYWxhbmNlcl8xLnJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSkoVFlQRV9OQU1FLCBXZWlnaHRlZFJvdW5kUm9iaW5Mb2FkQmFsYW5jZXIsIFdlaWdodGVkUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWcpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9hZC1iYWxhbmNlci13ZWlnaHRlZC1yb3VuZC1yb2Jpbi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbi8qXG4gKiBDb3B5cmlnaHQgMjAxOSBnUlBDIGF1dGhvcnMuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leHBlcmltZW50YWwgPSBleHBvcnRzLlNlcnZlck1ldHJpY1JlY29yZGVyID0gZXhwb3J0cy5TZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsID0gZXhwb3J0cy5SZXNwb25kZXJCdWlsZGVyID0gZXhwb3J0cy5TZXJ2ZXJMaXN0ZW5lckJ1aWxkZXIgPSBleHBvcnRzLmFkZEFkbWluU2VydmljZXNUb1NlcnZlciA9IGV4cG9ydHMuZ2V0Q2hhbm5lbHpIYW5kbGVycyA9IGV4cG9ydHMuZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbiA9IGV4cG9ydHMuSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IgPSBleHBvcnRzLkludGVyY2VwdGluZ0NhbGwgPSBleHBvcnRzLlJlcXVlc3RlckJ1aWxkZXIgPSBleHBvcnRzLkxpc3RlbmVyQnVpbGRlciA9IGV4cG9ydHMuU3RhdHVzQnVpbGRlciA9IGV4cG9ydHMuZ2V0Q2xpZW50Q2hhbm5lbCA9IGV4cG9ydHMuU2VydmVyQ3JlZGVudGlhbHMgPSBleHBvcnRzLlNlcnZlciA9IGV4cG9ydHMuc2V0TG9nVmVyYm9zaXR5ID0gZXhwb3J0cy5zZXRMb2dnZXIgPSBleHBvcnRzLmxvYWQgPSBleHBvcnRzLmxvYWRPYmplY3QgPSBleHBvcnRzLkNhbGxDcmVkZW50aWFscyA9IGV4cG9ydHMuQ2hhbm5lbENyZWRlbnRpYWxzID0gZXhwb3J0cy53YWl0Rm9yQ2xpZW50UmVhZHkgPSBleHBvcnRzLmNsb3NlQ2xpZW50ID0gZXhwb3J0cy5DaGFubmVsID0gZXhwb3J0cy5tYWtlR2VuZXJpY0NsaWVudENvbnN0cnVjdG9yID0gZXhwb3J0cy5tYWtlQ2xpZW50Q29uc3RydWN0b3IgPSBleHBvcnRzLmxvYWRQYWNrYWdlRGVmaW5pdGlvbiA9IGV4cG9ydHMuQ2xpZW50ID0gZXhwb3J0cy5jb21wcmVzc2lvbkFsZ29yaXRobXMgPSBleHBvcnRzLnByb3BhZ2F0ZSA9IGV4cG9ydHMuY29ubmVjdGl2aXR5U3RhdGUgPSBleHBvcnRzLnN0YXR1cyA9IGV4cG9ydHMubG9nVmVyYm9zaXR5ID0gZXhwb3J0cy5NZXRhZGF0YSA9IGV4cG9ydHMuY3JlZGVudGlhbHMgPSB2b2lkIDA7XG5jb25zdCBjYWxsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jYWxsLWNyZWRlbnRpYWxzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2FsbENyZWRlbnRpYWxzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsX2NyZWRlbnRpYWxzXzEuQ2FsbENyZWRlbnRpYWxzOyB9IH0pO1xuY29uc3QgY2hhbm5lbF8xID0gcmVxdWlyZShcIi4vY2hhbm5lbFwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNoYW5uZWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNoYW5uZWxfMS5DaGFubmVsSW1wbGVtZW50YXRpb247IH0gfSk7XG5jb25zdCBjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEgPSByZXF1aXJlKFwiLi9jb21wcmVzc2lvbi1hbGdvcml0aG1zXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiY29tcHJlc3Npb25BbGdvcml0aG1zXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb21wcmVzc2lvbl9hbGdvcml0aG1zXzEuQ29tcHJlc3Npb25BbGdvcml0aG1zOyB9IH0pO1xuY29uc3QgY29ubmVjdGl2aXR5X3N0YXRlXzEgPSByZXF1aXJlKFwiLi9jb25uZWN0aXZpdHktc3RhdGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJjb25uZWN0aXZpdHlTdGF0ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29ubmVjdGl2aXR5X3N0YXRlXzEuQ29ubmVjdGl2aXR5U3RhdGU7IH0gfSk7XG5jb25zdCBjaGFubmVsX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9jaGFubmVsLWNyZWRlbnRpYWxzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ2hhbm5lbENyZWRlbnRpYWxzXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzOyB9IH0pO1xuY29uc3QgY2xpZW50XzEgPSByZXF1aXJlKFwiLi9jbGllbnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDbGllbnRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudF8xLkNsaWVudDsgfSB9KTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4vY29uc3RhbnRzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibG9nVmVyYm9zaXR5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb25zdGFudHNfMS5Mb2dWZXJib3NpdHk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdGF0dXNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbnN0YW50c18xLlN0YXR1czsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcInByb3BhZ2F0ZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uc3RhbnRzXzEuUHJvcGFnYXRlOyB9IH0pO1xuY29uc3QgbG9nZ2luZyA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdcIik7XG5jb25zdCBtYWtlX2NsaWVudF8xID0gcmVxdWlyZShcIi4vbWFrZS1jbGllbnRcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJsb2FkUGFja2FnZURlZmluaXRpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ha2VfY2xpZW50XzEubG9hZFBhY2thZ2VEZWZpbml0aW9uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibWFrZUNsaWVudENvbnN0cnVjdG9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBtYWtlX2NsaWVudF8xLm1ha2VDbGllbnRDb25zdHJ1Y3RvcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIm1ha2VHZW5lcmljQ2xpZW50Q29uc3RydWN0b3JcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ha2VfY2xpZW50XzEubWFrZUNsaWVudENvbnN0cnVjdG9yOyB9IH0pO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTWV0YWRhdGFcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1ldGFkYXRhXzEuTWV0YWRhdGE7IH0gfSk7XG5jb25zdCBzZXJ2ZXJfMSA9IHJlcXVpcmUoXCIuL3NlcnZlclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyXzEuU2VydmVyOyB9IH0pO1xuY29uc3Qgc2VydmVyX2NyZWRlbnRpYWxzXzEgPSByZXF1aXJlKFwiLi9zZXJ2ZXItY3JlZGVudGlhbHNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTZXJ2ZXJDcmVkZW50aWFsc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2NyZWRlbnRpYWxzXzEuU2VydmVyQ3JlZGVudGlhbHM7IH0gfSk7XG5jb25zdCBzdGF0dXNfYnVpbGRlcl8xID0gcmVxdWlyZShcIi4vc3RhdHVzLWJ1aWxkZXJcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTdGF0dXNCdWlsZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzdGF0dXNfYnVpbGRlcl8xLlN0YXR1c0J1aWxkZXI7IH0gfSk7XG4vKioqKiBDbGllbnQgQ3JlZGVudGlhbHMgKioqKi9cbi8vIFVzaW5nIGFzc2lnbiBvbmx5IGNvcGllcyBlbnVtZXJhYmxlIHByb3BlcnRpZXMsIHdoaWNoIGlzIHdoYXQgd2Ugd2FudFxuZXhwb3J0cy5jcmVkZW50aWFscyA9IHtcbiAgICAvKipcbiAgICAgKiBDb21iaW5lIGEgQ2hhbm5lbENyZWRlbnRpYWxzIHdpdGggYW55IG51bWJlciBvZiBDYWxsQ3JlZGVudGlhbHMgaW50byBhXG4gICAgICogc2luZ2xlIENoYW5uZWxDcmVkZW50aWFscyBvYmplY3QuXG4gICAgICogQHBhcmFtIGNoYW5uZWxDcmVkZW50aWFscyBUaGUgQ2hhbm5lbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gY2FsbENyZWRlbnRpYWxzIEFueSBudW1iZXIgb2YgQ2FsbENyZWRlbnRpYWxzIG9iamVjdHMuXG4gICAgICogQHJldHVybiBUaGUgcmVzdWx0aW5nIENoYW5uZWxDcmVkZW50aWFscyBvYmplY3QuXG4gICAgICovXG4gICAgY29tYmluZUNoYW5uZWxDcmVkZW50aWFsczogKGNoYW5uZWxDcmVkZW50aWFscywgLi4uY2FsbENyZWRlbnRpYWxzKSA9PiB7XG4gICAgICAgIHJldHVybiBjYWxsQ3JlZGVudGlhbHMucmVkdWNlKChhY2MsIG90aGVyKSA9PiBhY2MuY29tcG9zZShvdGhlciksIGNoYW5uZWxDcmVkZW50aWFscyk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDb21iaW5lIGFueSBudW1iZXIgb2YgQ2FsbENyZWRlbnRpYWxzIGludG8gYSBzaW5nbGUgQ2FsbENyZWRlbnRpYWxzXG4gICAgICogb2JqZWN0LlxuICAgICAqIEBwYXJhbSBmaXJzdCBUaGUgZmlyc3QgQ2FsbENyZWRlbnRpYWxzIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gYWRkaXRpb25hbCBBbnkgbnVtYmVyIG9mIGFkZGl0aW9uYWwgQ2FsbENyZWRlbnRpYWxzIG9iamVjdHMuXG4gICAgICogQHJldHVybiBUaGUgcmVzdWx0aW5nIENhbGxDcmVkZW50aWFscyBvYmplY3QuXG4gICAgICovXG4gICAgY29tYmluZUNhbGxDcmVkZW50aWFsczogKGZpcnN0LCAuLi5hZGRpdGlvbmFsKSA9PiB7XG4gICAgICAgIHJldHVybiBhZGRpdGlvbmFsLnJlZHVjZSgoYWNjLCBvdGhlcikgPT4gYWNjLmNvbXBvc2Uob3RoZXIpLCBmaXJzdCk7XG4gICAgfSxcbiAgICAvLyBmcm9tIGNoYW5uZWwtY3JlZGVudGlhbHMudHNcbiAgICBjcmVhdGVJbnNlY3VyZTogY2hhbm5lbF9jcmVkZW50aWFsc18xLkNoYW5uZWxDcmVkZW50aWFscy5jcmVhdGVJbnNlY3VyZSxcbiAgICBjcmVhdGVTc2w6IGNoYW5uZWxfY3JlZGVudGlhbHNfMS5DaGFubmVsQ3JlZGVudGlhbHMuY3JlYXRlU3NsLFxuICAgIGNyZWF0ZUZyb21TZWN1cmVDb250ZXh0OiBjaGFubmVsX2NyZWRlbnRpYWxzXzEuQ2hhbm5lbENyZWRlbnRpYWxzLmNyZWF0ZUZyb21TZWN1cmVDb250ZXh0LFxuICAgIC8vIGZyb20gY2FsbC1jcmVkZW50aWFscy50c1xuICAgIGNyZWF0ZUZyb21NZXRhZGF0YUdlbmVyYXRvcjogY2FsbF9jcmVkZW50aWFsc18xLkNhbGxDcmVkZW50aWFscy5jcmVhdGVGcm9tTWV0YWRhdGFHZW5lcmF0b3IsXG4gICAgY3JlYXRlRnJvbUdvb2dsZUNyZWRlbnRpYWw6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRnJvbUdvb2dsZUNyZWRlbnRpYWwsXG4gICAgY3JlYXRlRW1wdHk6IGNhbGxfY3JlZGVudGlhbHNfMS5DYWxsQ3JlZGVudGlhbHMuY3JlYXRlRW1wdHksXG59O1xuLyoqXG4gKiBDbG9zZSBhIENsaWVudCBvYmplY3QuXG4gKiBAcGFyYW0gY2xpZW50IFRoZSBjbGllbnQgdG8gY2xvc2UuXG4gKi9cbmNvbnN0IGNsb3NlQ2xpZW50ID0gKGNsaWVudCkgPT4gY2xpZW50LmNsb3NlKCk7XG5leHBvcnRzLmNsb3NlQ2xpZW50ID0gY2xvc2VDbGllbnQ7XG5jb25zdCB3YWl0Rm9yQ2xpZW50UmVhZHkgPSAoY2xpZW50LCBkZWFkbGluZSwgY2FsbGJhY2spID0+IGNsaWVudC53YWl0Rm9yUmVhZHkoZGVhZGxpbmUsIGNhbGxiYWNrKTtcbmV4cG9ydHMud2FpdEZvckNsaWVudFJlYWR5ID0gd2FpdEZvckNsaWVudFJlYWR5O1xuLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKioqKiBVbmltcGxlbWVudGVkIGZ1bmN0aW9uIHN0dWJzICoqKiovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5jb25zdCBsb2FkT2JqZWN0ID0gKHZhbHVlLCBvcHRpb25zKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYXZhaWxhYmxlIGluIHRoaXMgbGlicmFyeS4gVXNlIEBncnBjL3Byb3RvLWxvYWRlciBhbmQgbG9hZFBhY2thZ2VEZWZpbml0aW9uIGluc3RlYWQnKTtcbn07XG5leHBvcnRzLmxvYWRPYmplY3QgPSBsb2FkT2JqZWN0O1xuY29uc3QgbG9hZCA9IChmaWxlbmFtZSwgZm9ybWF0LCBvcHRpb25zKSA9PiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgYXZhaWxhYmxlIGluIHRoaXMgbGlicmFyeS4gVXNlIEBncnBjL3Byb3RvLWxvYWRlciBhbmQgbG9hZFBhY2thZ2VEZWZpbml0aW9uIGluc3RlYWQnKTtcbn07XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuY29uc3Qgc2V0TG9nZ2VyID0gKGxvZ2dlcikgPT4ge1xuICAgIGxvZ2dpbmcuc2V0TG9nZ2VyKGxvZ2dlcik7XG59O1xuZXhwb3J0cy5zZXRMb2dnZXIgPSBzZXRMb2dnZXI7XG5jb25zdCBzZXRMb2dWZXJib3NpdHkgPSAodmVyYm9zaXR5KSA9PiB7XG4gICAgbG9nZ2luZy5zZXRMb2dnZXJWZXJib3NpdHkodmVyYm9zaXR5KTtcbn07XG5leHBvcnRzLnNldExvZ1ZlcmJvc2l0eSA9IHNldExvZ1ZlcmJvc2l0eTtcbmNvbnN0IGdldENsaWVudENoYW5uZWwgPSAoY2xpZW50KSA9PiB7XG4gICAgcmV0dXJuIGNsaWVudF8xLkNsaWVudC5wcm90b3R5cGUuZ2V0Q2hhbm5lbC5jYWxsKGNsaWVudCk7XG59O1xuZXhwb3J0cy5nZXRDbGllbnRDaGFubmVsID0gZ2V0Q2xpZW50Q2hhbm5lbDtcbnZhciBjbGllbnRfaW50ZXJjZXB0b3JzXzEgPSByZXF1aXJlKFwiLi9jbGllbnQtaW50ZXJjZXB0b3JzXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTGlzdGVuZXJCdWlsZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnRfaW50ZXJjZXB0b3JzXzEuTGlzdGVuZXJCdWlsZGVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUmVxdWVzdGVyQnVpbGRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50X2ludGVyY2VwdG9yc18xLlJlcXVlc3RlckJ1aWxkZXI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJJbnRlcmNlcHRpbmdDYWxsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnRfaW50ZXJjZXB0b3JzXzEuSW50ZXJjZXB0aW5nQ2FsbDsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkludGVyY2VwdG9yQ29uZmlndXJhdGlvbkVycm9yXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnRfaW50ZXJjZXB0b3JzXzEuSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3I7IH0gfSk7XG52YXIgY2hhbm5lbHpfMSA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvblwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhbm5lbHpfMS5nZXRDaGFubmVselNlcnZpY2VEZWZpbml0aW9uOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiZ2V0Q2hhbm5lbHpIYW5kbGVyc1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2hhbm5lbHpfMS5nZXRDaGFubmVsekhhbmRsZXJzOyB9IH0pO1xudmFyIGFkbWluXzEgPSByZXF1aXJlKFwiLi9hZG1pblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcImFkZEFkbWluU2VydmljZXNUb1NlcnZlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gYWRtaW5fMS5hZGRBZG1pblNlcnZpY2VzVG9TZXJ2ZXI7IH0gfSk7XG52YXIgc2VydmVyX2ludGVyY2VwdG9yc18xID0gcmVxdWlyZShcIi4vc2VydmVyLWludGVyY2VwdG9yc1wiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlckxpc3RlbmVyQnVpbGRlclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2ludGVyY2VwdG9yc18xLlNlcnZlckxpc3RlbmVyQnVpbGRlcjsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlJlc3BvbmRlckJ1aWxkZXJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNlcnZlcl9pbnRlcmNlcHRvcnNfMS5SZXNwb25kZXJCdWlsZGVyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2VydmVySW50ZXJjZXB0aW5nQ2FsbFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2VydmVyX2ludGVyY2VwdG9yc18xLlNlcnZlckludGVyY2VwdGluZ0NhbGw7IH0gfSk7XG52YXIgb3JjYV8xID0gcmVxdWlyZShcIi4vb3JjYVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlNlcnZlck1ldHJpY1JlY29yZGVyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBvcmNhXzEuU2VydmVyTWV0cmljUmVjb3JkZXI7IH0gfSk7XG5jb25zdCBleHBlcmltZW50YWwgPSByZXF1aXJlKFwiLi9leHBlcmltZW50YWxcIik7XG5leHBvcnRzLmV4cGVyaW1lbnRhbCA9IGV4cGVyaW1lbnRhbDtcbmNvbnN0IHJlc29sdmVyX2RucyA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyLWRuc1wiKTtcbmNvbnN0IHJlc29sdmVyX3VkcyA9IHJlcXVpcmUoXCIuL3Jlc29sdmVyLXVkc1wiKTtcbmNvbnN0IHJlc29sdmVyX2lwID0gcmVxdWlyZShcIi4vcmVzb2x2ZXItaXBcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3QgPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLXBpY2stZmlyc3RcIik7XG5jb25zdCBsb2FkX2JhbGFuY2VyX3JvdW5kX3JvYmluID0gcmVxdWlyZShcIi4vbG9hZC1iYWxhbmNlci1yb3VuZC1yb2JpblwiKTtcbmNvbnN0IGxvYWRfYmFsYW5jZXJfb3V0bGllcl9kZXRlY3Rpb24gPSByZXF1aXJlKFwiLi9sb2FkLWJhbGFuY2VyLW91dGxpZXItZGV0ZWN0aW9uXCIpO1xuY29uc3QgbG9hZF9iYWxhbmNlcl93ZWlnaHRlZF9yb3VuZF9yb2JpbiA9IHJlcXVpcmUoXCIuL2xvYWQtYmFsYW5jZXItd2VpZ2h0ZWQtcm91bmQtcm9iaW5cIik7XG5jb25zdCBjaGFubmVseiA9IHJlcXVpcmUoXCIuL2NoYW5uZWx6XCIpO1xuKCgpID0+IHtcbiAgICByZXNvbHZlcl9kbnMuc2V0dXAoKTtcbiAgICByZXNvbHZlcl91ZHMuc2V0dXAoKTtcbiAgICByZXNvbHZlcl9pcC5zZXR1cCgpO1xuICAgIGxvYWRfYmFsYW5jZXJfcGlja19maXJzdC5zZXR1cCgpO1xuICAgIGxvYWRfYmFsYW5jZXJfcm91bmRfcm9iaW4uc2V0dXAoKTtcbiAgICBsb2FkX2JhbGFuY2VyX291dGxpZXJfZGV0ZWN0aW9uLnNldHVwKCk7XG4gICAgbG9hZF9iYWxhbmNlcl93ZWlnaHRlZF9yb3VuZF9yb2Jpbi5zZXR1cCgpO1xuICAgIGNoYW5uZWx6LnNldHVwKCk7XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiLyoqXG4gKiBHZXQgdGhlIHR5cGUgb2YgYSBKU09OIHZhbHVlLlxuICogRGlzdGluZ3Vpc2hlcyBiZXR3ZWVuIGFycmF5LCBudWxsIGFuZCBvYmplY3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0eXBlb2ZKc29uVmFsdWUodmFsdWUpIHtcbiAgICBsZXQgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICBpZiAodCA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG59XG4vKipcbiAqIElzIHRoaXMgYSBKU09OIG9iamVjdCAoaW5zdGVhZCBvZiBhbiBhcnJheSBvciBudWxsKT9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSnNvbk9iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG4iLCIvLyBsb29rdXAgdGFibGUgZnJvbSBiYXNlNjQgY2hhcmFjdGVyIHRvIGJ5dGVcbmxldCBlbmNUYWJsZSA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvJy5zcGxpdCgnJyk7XG4vLyBsb29rdXAgdGFibGUgZnJvbSBiYXNlNjQgY2hhcmFjdGVyICpjb2RlKiB0byBieXRlIGJlY2F1c2UgbG9va3VwIGJ5IG51bWJlciBpcyBmYXN0XG5sZXQgZGVjVGFibGUgPSBbXTtcbmZvciAobGV0IGkgPSAwOyBpIDwgZW5jVGFibGUubGVuZ3RoOyBpKyspXG4gICAgZGVjVGFibGVbZW5jVGFibGVbaV0uY2hhckNvZGVBdCgwKV0gPSBpO1xuLy8gc3VwcG9ydCBiYXNlNjR1cmwgdmFyaWFudHNcbmRlY1RhYmxlW1wiLVwiLmNoYXJDb2RlQXQoMCldID0gZW5jVGFibGUuaW5kZXhPZihcIitcIik7XG5kZWNUYWJsZVtcIl9cIi5jaGFyQ29kZUF0KDApXSA9IGVuY1RhYmxlLmluZGV4T2YoXCIvXCIpO1xuLyoqXG4gKiBEZWNvZGVzIGEgYmFzZTY0IHN0cmluZyB0byBhIGJ5dGUgYXJyYXkuXG4gKlxuICogLSBpZ25vcmVzIHdoaXRlLXNwYWNlLCBpbmNsdWRpbmcgbGluZSBicmVha3MgYW5kIHRhYnNcbiAqIC0gYWxsb3dzIGlubmVyIHBhZGRpbmcgKGNhbiBkZWNvZGUgY29uY2F0ZW5hdGVkIGJhc2U2NCBzdHJpbmdzKVxuICogLSBkb2VzIG5vdCByZXF1aXJlIHBhZGRpbmdcbiAqIC0gdW5kZXJzdGFuZHMgYmFzZTY0dXJsIGVuY29kaW5nOlxuICogICBcIi1cIiBpbnN0ZWFkIG9mIFwiK1wiLFxuICogICBcIl9cIiBpbnN0ZWFkIG9mIFwiL1wiLFxuICogICBubyBwYWRkaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRkZWNvZGUoYmFzZTY0U3RyKSB7XG4gICAgLy8gZXN0aW1hdGUgYnl0ZSBzaXplLCBub3QgYWNjb3VudGluZyBmb3IgaW5uZXIgcGFkZGluZyBhbmQgd2hpdGVzcGFjZVxuICAgIGxldCBlcyA9IGJhc2U2NFN0ci5sZW5ndGggKiAzIC8gNDtcbiAgICAvLyBpZiAoZXMgJSAzICE9PSAwKVxuICAgIC8vIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBiYXNlNjQgc3RyaW5nJyk7XG4gICAgaWYgKGJhc2U2NFN0cltiYXNlNjRTdHIubGVuZ3RoIC0gMl0gPT0gJz0nKVxuICAgICAgICBlcyAtPSAyO1xuICAgIGVsc2UgaWYgKGJhc2U2NFN0cltiYXNlNjRTdHIubGVuZ3RoIC0gMV0gPT0gJz0nKVxuICAgICAgICBlcyAtPSAxO1xuICAgIGxldCBieXRlcyA9IG5ldyBVaW50OEFycmF5KGVzKSwgYnl0ZVBvcyA9IDAsIC8vIHBvc2l0aW9uIGluIGJ5dGUgYXJyYXlcbiAgICBncm91cFBvcyA9IDAsIC8vIHBvc2l0aW9uIGluIGJhc2U2NCBncm91cFxuICAgIGIsIC8vIGN1cnJlbnQgYnl0ZVxuICAgIHAgPSAwIC8vIHByZXZpb3VzIGJ5dGVcbiAgICA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYXNlNjRTdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYiA9IGRlY1RhYmxlW2Jhc2U2NFN0ci5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgaWYgKGIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEZhbGxUaHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKU1xuICAgICAgICAgICAgc3dpdGNoIChiYXNlNjRTdHJbaV0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICc9JzpcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAwOyAvLyByZXNldCBzdGF0ZSB3aGVuIHBhZGRpbmcgZm91bmRcbiAgICAgICAgICAgICAgICBjYXNlICdcXG4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ1xccic6XG4gICAgICAgICAgICAgICAgY2FzZSAnXFx0JzpcbiAgICAgICAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIHNraXAgd2hpdGUtc3BhY2UsIGFuZCBwYWRkaW5nXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoYGludmFsaWQgYmFzZTY0IHN0cmluZy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGdyb3VwUG9zKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcCA9IGI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAxO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGJ5dGVzW2J5dGVQb3MrK10gPSBwIDw8IDIgfCAoYiAmIDQ4KSA+PiA0O1xuICAgICAgICAgICAgICAgIHAgPSBiO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBieXRlc1tieXRlUG9zKytdID0gKHAgJiAxNSkgPDwgNCB8IChiICYgNjApID4+IDI7XG4gICAgICAgICAgICAgICAgcCA9IGI7XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGJ5dGVzW2J5dGVQb3MrK10gPSAocCAmIDMpIDw8IDYgfCBiO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoZ3JvdXBQb3MgPT0gMSlcbiAgICAgICAgdGhyb3cgRXJyb3IoYGludmFsaWQgYmFzZTY0IHN0cmluZy5gKTtcbiAgICByZXR1cm4gYnl0ZXMuc3ViYXJyYXkoMCwgYnl0ZVBvcyk7XG59XG4vKipcbiAqIEVuY29kZXMgYSBieXRlIGFycmF5IHRvIGEgYmFzZTY0IHN0cmluZy5cbiAqIEFkZHMgcGFkZGluZyBhdCB0aGUgZW5kLlxuICogRG9lcyBub3QgaW5zZXJ0IG5ld2xpbmVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0ZW5jb2RlKGJ5dGVzKSB7XG4gICAgbGV0IGJhc2U2NCA9ICcnLCBncm91cFBvcyA9IDAsIC8vIHBvc2l0aW9uIGluIGJhc2U2NCBncm91cFxuICAgIGIsIC8vIGN1cnJlbnQgYnl0ZVxuICAgIHAgPSAwOyAvLyBjYXJyeSBvdmVyIGZyb20gcHJldmlvdXMgYnl0ZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYiA9IGJ5dGVzW2ldO1xuICAgICAgICBzd2l0Y2ggKGdyb3VwUG9zKSB7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgYmFzZTY0ICs9IGVuY1RhYmxlW2IgPj4gMl07XG4gICAgICAgICAgICAgICAgcCA9IChiICYgMykgPDwgNDtcbiAgICAgICAgICAgICAgICBncm91cFBvcyA9IDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgYmFzZTY0ICs9IGVuY1RhYmxlW3AgfCBiID4+IDRdO1xuICAgICAgICAgICAgICAgIHAgPSAoYiAmIDE1KSA8PCAyO1xuICAgICAgICAgICAgICAgIGdyb3VwUG9zID0gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBiYXNlNjQgKz0gZW5jVGFibGVbcCB8IGIgPj4gNl07XG4gICAgICAgICAgICAgICAgYmFzZTY0ICs9IGVuY1RhYmxlW2IgJiA2M107XG4gICAgICAgICAgICAgICAgZ3JvdXBQb3MgPSAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIHBhZGRpbmcgcmVxdWlyZWQ/XG4gICAgaWYgKGdyb3VwUG9zKSB7XG4gICAgICAgIGJhc2U2NCArPSBlbmNUYWJsZVtwXTtcbiAgICAgICAgYmFzZTY0ICs9ICc9JztcbiAgICAgICAgaWYgKGdyb3VwUG9zID09IDEpXG4gICAgICAgICAgICBiYXNlNjQgKz0gJz0nO1xuICAgIH1cbiAgICByZXR1cm4gYmFzZTY0O1xufVxuIiwiLyoqXG4gKiBUaGlzIGhhbmRsZXIgaW1wbGVtZW50cyB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgZm9yIHVua25vd24gZmllbGRzLlxuICogV2hlbiByZWFkaW5nIGRhdGEsIHVua25vd24gZmllbGRzIGFyZSBzdG9yZWQgb24gdGhlIG1lc3NhZ2UsIGluIGFcbiAqIHN5bWJvbCBwcm9wZXJ0eS5cbiAqIFdoZW4gd3JpdGluZyBkYXRhLCB0aGUgc3ltYm9sIHByb3BlcnR5IGlzIHF1ZXJpZWQgYW5kIHVua25vd24gZmllbGRzXG4gKiBhcmUgc2VyaWFsaXplZCBpbnRvIHRoZSBvdXRwdXQgYWdhaW4uXG4gKi9cbmV4cG9ydCB2YXIgVW5rbm93bkZpZWxkSGFuZGxlcjtcbihmdW5jdGlvbiAoVW5rbm93bkZpZWxkSGFuZGxlcikge1xuICAgIC8qKlxuICAgICAqIFRoZSBzeW1ib2wgdXNlZCB0byBzdG9yZSB1bmtub3duIGZpZWxkcyBmb3IgYSBtZXNzYWdlLlxuICAgICAqIFRoZSBwcm9wZXJ0eSBtdXN0IGNvbmZvcm0gdG8gYFVua25vd25GaWVsZENvbnRhaW5lcmAuXG4gICAgICovXG4gICAgVW5rbm93bkZpZWxkSGFuZGxlci5zeW1ib2wgPSBTeW1ib2wuZm9yKFwicHJvdG9idWYtdHMvdW5rbm93blwiKTtcbiAgICAvKipcbiAgICAgKiBTdG9yZSBhbiB1bmtub3duIGZpZWxkIGR1cmluZyBiaW5hcnkgcmVhZCBkaXJlY3RseSBvbiB0aGUgbWVzc2FnZS5cbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjb21wYXRpYmxlIHdpdGggYEJpbmFyeVJlYWRPcHRpb25zLnJlYWRVbmtub3duRmllbGRgLlxuICAgICAqL1xuICAgIFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkID0gKHR5cGVOYW1lLCBtZXNzYWdlLCBmaWVsZE5vLCB3aXJlVHlwZSwgZGF0YSkgPT4ge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gaXMobWVzc2FnZSkgPyBtZXNzYWdlW1Vua25vd25GaWVsZEhhbmRsZXIuc3ltYm9sXSA6IG1lc3NhZ2VbVW5rbm93bkZpZWxkSGFuZGxlci5zeW1ib2xdID0gW107XG4gICAgICAgIGNvbnRhaW5lci5wdXNoKHsgbm86IGZpZWxkTm8sIHdpcmVUeXBlLCBkYXRhIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogV3JpdGUgdW5rbm93biBmaWVsZHMgc3RvcmVkIGZvciB0aGUgbWVzc2FnZSB0byB0aGUgd3JpdGVyLlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGNvbXBhdGlibGUgd2l0aCBgQmluYXJ5V3JpdGVPcHRpb25zLndyaXRlVW5rbm93bkZpZWxkc2AuXG4gICAgICovXG4gICAgVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlID0gKHR5cGVOYW1lLCBtZXNzYWdlLCB3cml0ZXIpID0+IHtcbiAgICAgICAgZm9yIChsZXQgeyBubywgd2lyZVR5cGUsIGRhdGEgfSBvZiBVbmtub3duRmllbGRIYW5kbGVyLmxpc3QobWVzc2FnZSkpXG4gICAgICAgICAgICB3cml0ZXIudGFnKG5vLCB3aXJlVHlwZSkucmF3KGRhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTGlzdCB1bmtub3duIGZpZWxkcyBzdG9yZWQgZm9yIHRoZSBtZXNzYWdlLlxuICAgICAqIE5vdGUgdGhhdCB0aGVyZSBtYXkgYmUgbXVsdGlwbGVzIGZpZWxkcyB3aXRoIHRoZSBzYW1lIG51bWJlci5cbiAgICAgKi9cbiAgICBVbmtub3duRmllbGRIYW5kbGVyLmxpc3QgPSAobWVzc2FnZSwgZmllbGRObykgPT4ge1xuICAgICAgICBpZiAoaXMobWVzc2FnZSkpIHtcbiAgICAgICAgICAgIGxldCBhbGwgPSBtZXNzYWdlW1Vua25vd25GaWVsZEhhbmRsZXIuc3ltYm9sXTtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZE5vID8gYWxsLmZpbHRlcih1ZiA9PiB1Zi5ubyA9PSBmaWVsZE5vKSA6IGFsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW107XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IHVua25vd24gZmllbGQgYnkgZmllbGQgbnVtYmVyLlxuICAgICAqL1xuICAgIFVua25vd25GaWVsZEhhbmRsZXIubGFzdCA9IChtZXNzYWdlLCBmaWVsZE5vKSA9PiBVbmtub3duRmllbGRIYW5kbGVyLmxpc3QobWVzc2FnZSwgZmllbGRObykuc2xpY2UoLTEpWzBdO1xuICAgIGNvbnN0IGlzID0gKG1lc3NhZ2UpID0+IG1lc3NhZ2UgJiYgQXJyYXkuaXNBcnJheShtZXNzYWdlW1Vua25vd25GaWVsZEhhbmRsZXIuc3ltYm9sXSk7XG59KShVbmtub3duRmllbGRIYW5kbGVyIHx8IChVbmtub3duRmllbGRIYW5kbGVyID0ge30pKTtcbi8qKlxuICogTWVyZ2VzIGJpbmFyeSB3cml0ZSBvciByZWFkIG9wdGlvbnMuIExhdGVyIHZhbHVlcyBvdmVycmlkZSBlYXJsaWVyIHZhbHVlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQmluYXJ5T3B0aW9ucyhhLCBiKSB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYSksIGIpO1xufVxuLyoqXG4gKiBQcm90b2J1ZiBiaW5hcnkgZm9ybWF0IHdpcmUgdHlwZXMuXG4gKlxuICogQSB3aXJlIHR5cGUgcHJvdmlkZXMganVzdCBlbm91Z2ggaW5mb3JtYXRpb24gdG8gZmluZCB0aGUgbGVuZ3RoIG9mIHRoZVxuICogZm9sbG93aW5nIHZhbHVlLlxuICpcbiAqIFNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL2RvY3MvZW5jb2Rpbmcjc3RydWN0dXJlXG4gKi9cbmV4cG9ydCB2YXIgV2lyZVR5cGU7XG4oZnVuY3Rpb24gKFdpcmVUeXBlKSB7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgaW50MzIsIGludDY0LCB1aW50MzIsIHVpbnQ2NCwgc2ludDMyLCBzaW50NjQsIGJvb2wsIGVudW1cbiAgICAgKi9cbiAgICBXaXJlVHlwZVtXaXJlVHlwZVtcIlZhcmludFwiXSA9IDBdID0gXCJWYXJpbnRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBmaXhlZDY0LCBzZml4ZWQ2NCwgZG91YmxlLlxuICAgICAqIEFsd2F5cyA4IGJ5dGVzIHdpdGggbGl0dGxlLWVuZGlhbiBieXRlIG9yZGVyLlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiQml0NjRcIl0gPSAxXSA9IFwiQml0NjRcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBzdHJpbmcsIGJ5dGVzLCBlbWJlZGRlZCBtZXNzYWdlcywgcGFja2VkIHJlcGVhdGVkIGZpZWxkc1xuICAgICAqXG4gICAgICogT25seSByZXBlYXRlZCBudW1lcmljIHR5cGVzICh0eXBlcyB3aGljaCB1c2UgdGhlIHZhcmludCwgMzItYml0LFxuICAgICAqIG9yIDY0LWJpdCB3aXJlIHR5cGVzKSBjYW4gYmUgcGFja2VkLiBJbiBwcm90bzMsIHN1Y2ggZmllbGRzIGFyZVxuICAgICAqIHBhY2tlZCBieSBkZWZhdWx0LlxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiTGVuZ3RoRGVsaW1pdGVkXCJdID0gMl0gPSBcIkxlbmd0aERlbGltaXRlZFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIGdyb3Vwc1xuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJTdGFydEdyb3VwXCJdID0gM10gPSBcIlN0YXJ0R3JvdXBcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBncm91cHNcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIFdpcmVUeXBlW1dpcmVUeXBlW1wiRW5kR3JvdXBcIl0gPSA0XSA9IFwiRW5kR3JvdXBcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBmaXhlZDMyLCBzZml4ZWQzMiwgZmxvYXQuXG4gICAgICogQWx3YXlzIDQgYnl0ZXMgd2l0aCBsaXR0bGUtZW5kaWFuIGJ5dGUgb3JkZXIuXG4gICAgICovXG4gICAgV2lyZVR5cGVbV2lyZVR5cGVbXCJCaXQzMlwiXSA9IDVdID0gXCJCaXQzMlwiO1xufSkoV2lyZVR5cGUgfHwgKFdpcmVUeXBlID0ge30pKTtcbiIsIi8vIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHRcbi8vIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxuLy8gY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lclxuLy8gaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZVxuLy8gZGlzdHJpYnV0aW9uLlxuLy8gKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuLy8gQ29kZSBnZW5lcmF0ZWQgYnkgdGhlIFByb3RvY29sIEJ1ZmZlciBjb21waWxlciBpcyBvd25lZCBieSB0aGUgb3duZXJcbi8vIG9mIHRoZSBpbnB1dCBmaWxlIHVzZWQgd2hlbiBnZW5lcmF0aW5nIGl0LiAgVGhpcyBjb2RlIGlzIG5vdFxuLy8gc3RhbmRhbG9uZSBhbmQgcmVxdWlyZXMgYSBzdXBwb3J0IGxpYnJhcnkgdG8gYmUgbGlua2VkIHdpdGggaXQuICBUaGlzXG4vLyBzdXBwb3J0IGxpYnJhcnkgaXMgaXRzZWxmIGNvdmVyZWQgYnkgdGhlIGFib3ZlIGxpY2Vuc2UuXG4vKipcbiAqIFJlYWQgYSA2NCBiaXQgdmFyaW50IGFzIHR3byBKUyBudW1iZXJzLlxuICpcbiAqIFJldHVybnMgdHVwbGU6XG4gKiBbMF06IGxvdyBiaXRzXG4gKiBbMF06IGhpZ2ggYml0c1xuICpcbiAqIENvcHlyaWdodCAyMDA4IEdvb2dsZSBJbmMuICBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvOGE3MTkyN2Q3NGE0Y2UzNGVmZTJkODc2OWZkYTE5OGY1MmQyMGQxMi9qcy9leHBlcmltZW50YWwvcnVudGltZS9rZXJuZWwvYnVmZmVyX2RlY29kZXIuanMjTDE3NVxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50NjRyZWFkKCkge1xuICAgIGxldCBsb3dCaXRzID0gMDtcbiAgICBsZXQgaGlnaEJpdHMgPSAwO1xuICAgIGZvciAobGV0IHNoaWZ0ID0gMDsgc2hpZnQgPCAyODsgc2hpZnQgKz0gNykge1xuICAgICAgICBsZXQgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgICAgICBsb3dCaXRzIHw9IChiICYgMHg3RikgPDwgc2hpZnQ7XG4gICAgICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuYXNzZXJ0Qm91bmRzKCk7XG4gICAgICAgICAgICByZXR1cm4gW2xvd0JpdHMsIGhpZ2hCaXRzXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWlkZGxlQnl0ZSA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIC8vIGxhc3QgZm91ciBiaXRzIG9mIHRoZSBmaXJzdCAzMiBiaXQgbnVtYmVyXG4gICAgbG93Qml0cyB8PSAobWlkZGxlQnl0ZSAmIDB4MEYpIDw8IDI4O1xuICAgIC8vIDMgdXBwZXIgYml0cyBhcmUgcGFydCBvZiB0aGUgbmV4dCAzMiBiaXQgbnVtYmVyXG4gICAgaGlnaEJpdHMgPSAobWlkZGxlQnl0ZSAmIDB4NzApID4+IDQ7XG4gICAgaWYgKChtaWRkbGVCeXRlICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gW2xvd0JpdHMsIGhpZ2hCaXRzXTtcbiAgICB9XG4gICAgZm9yIChsZXQgc2hpZnQgPSAzOyBzaGlmdCA8PSAzMTsgc2hpZnQgKz0gNykge1xuICAgICAgICBsZXQgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgICAgICBoaWdoQml0cyB8PSAoYiAmIDB4N0YpIDw8IHNoaWZ0O1xuICAgICAgICBpZiAoKGIgJiAweDgwKSA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICAgICAgcmV0dXJuIFtsb3dCaXRzLCBoaWdoQml0c107XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHZhcmludCcpO1xufVxuLyoqXG4gKiBXcml0ZSBhIDY0IGJpdCB2YXJpbnQsIGdpdmVuIGFzIHR3byBKUyBudW1iZXJzLCB0byB0aGUgZ2l2ZW4gYnl0ZXMgYXJyYXkuXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm90b2NvbGJ1ZmZlcnMvcHJvdG9idWYvYmxvYi84YTcxOTI3ZDc0YTRjZTM0ZWZlMmQ4NzY5ZmRhMTk4ZjUyZDIwZDEyL2pzL2V4cGVyaW1lbnRhbC9ydW50aW1lL2tlcm5lbC93cml0ZXIuanMjTDM0NFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50NjR3cml0ZShsbywgaGksIGJ5dGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyODsgaSA9IGkgKyA3KSB7XG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gbG8gPj4+IGk7XG4gICAgICAgIGNvbnN0IGhhc05leHQgPSAhKChzaGlmdCA+Pj4gNykgPT0gMCAmJiBoaSA9PSAwKTtcbiAgICAgICAgY29uc3QgYnl0ZSA9IChoYXNOZXh0ID8gc2hpZnQgfCAweDgwIDogc2hpZnQpICYgMHhGRjtcbiAgICAgICAgYnl0ZXMucHVzaChieXRlKTtcbiAgICAgICAgaWYgKCFoYXNOZXh0KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3BsaXRCaXRzID0gKChsbyA+Pj4gMjgpICYgMHgwRikgfCAoKGhpICYgMHgwNykgPDwgNCk7XG4gICAgY29uc3QgaGFzTW9yZUJpdHMgPSAhKChoaSA+PiAzKSA9PSAwKTtcbiAgICBieXRlcy5wdXNoKChoYXNNb3JlQml0cyA/IHNwbGl0Qml0cyB8IDB4ODAgOiBzcGxpdEJpdHMpICYgMHhGRik7XG4gICAgaWYgKCFoYXNNb3JlQml0cykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAzOyBpIDwgMzE7IGkgPSBpICsgNykge1xuICAgICAgICBjb25zdCBzaGlmdCA9IGhpID4+PiBpO1xuICAgICAgICBjb25zdCBoYXNOZXh0ID0gISgoc2hpZnQgPj4+IDcpID09IDApO1xuICAgICAgICBjb25zdCBieXRlID0gKGhhc05leHQgPyBzaGlmdCB8IDB4ODAgOiBzaGlmdCkgJiAweEZGO1xuICAgICAgICBieXRlcy5wdXNoKGJ5dGUpO1xuICAgICAgICBpZiAoIWhhc05leHQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBieXRlcy5wdXNoKChoaSA+Pj4gMzEpICYgMHgwMSk7XG59XG4vLyBjb25zdGFudHMgZm9yIGJpbmFyeSBtYXRoXG5jb25zdCBUV09fUFdSXzMyX0RCTCA9ICgxIDw8IDE2KSAqICgxIDw8IDE2KTtcbi8qKlxuICogUGFyc2UgZGVjaW1hbCBzdHJpbmcgb2YgNjQgYml0IGludGVnZXIgdmFsdWUgYXMgdHdvIEpTIG51bWJlcnMuXG4gKlxuICogUmV0dXJucyB0dXBsZTpcbiAqIFswXTogbWludXMgc2lnbj9cbiAqIFsxXTogbG93IGJpdHNcbiAqIFsyXTogaGlnaCBiaXRzXG4gKlxuICogQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludDY0ZnJvbVN0cmluZyhkZWMpIHtcbiAgICAvLyBDaGVjayBmb3IgbWludXMgc2lnbi5cbiAgICBsZXQgbWludXMgPSBkZWNbMF0gPT0gJy0nO1xuICAgIGlmIChtaW51cylcbiAgICAgICAgZGVjID0gZGVjLnNsaWNlKDEpO1xuICAgIC8vIFdvcmsgNiBkZWNpbWFsIGRpZ2l0cyBhdCBhIHRpbWUsIGFjdGluZyBsaWtlIHdlJ3JlIGNvbnZlcnRpbmcgYmFzZSAxZTZcbiAgICAvLyBkaWdpdHMgdG8gYmluYXJ5LiBUaGlzIGlzIHNhZmUgdG8gZG8gd2l0aCBmbG9hdGluZyBwb2ludCBtYXRoIGJlY2F1c2VcbiAgICAvLyBOdW1iZXIuaXNTYWZlSW50ZWdlcihBTExfMzJfQklUUyAqIDFlNikgPT0gdHJ1ZS5cbiAgICBjb25zdCBiYXNlID0gMWU2O1xuICAgIGxldCBsb3dCaXRzID0gMDtcbiAgICBsZXQgaGlnaEJpdHMgPSAwO1xuICAgIGZ1bmN0aW9uIGFkZDFlNmRpZ2l0KGJlZ2luLCBlbmQpIHtcbiAgICAgICAgLy8gTm90ZTogTnVtYmVyKCcnKSBpcyAwLlxuICAgICAgICBjb25zdCBkaWdpdDFlNiA9IE51bWJlcihkZWMuc2xpY2UoYmVnaW4sIGVuZCkpO1xuICAgICAgICBoaWdoQml0cyAqPSBiYXNlO1xuICAgICAgICBsb3dCaXRzID0gbG93Qml0cyAqIGJhc2UgKyBkaWdpdDFlNjtcbiAgICAgICAgLy8gQ2FycnkgYml0cyBmcm9tIGxvd0JpdHMgdG8gaGlnaEJpdHNcbiAgICAgICAgaWYgKGxvd0JpdHMgPj0gVFdPX1BXUl8zMl9EQkwpIHtcbiAgICAgICAgICAgIGhpZ2hCaXRzID0gaGlnaEJpdHMgKyAoKGxvd0JpdHMgLyBUV09fUFdSXzMyX0RCTCkgfCAwKTtcbiAgICAgICAgICAgIGxvd0JpdHMgPSBsb3dCaXRzICUgVFdPX1BXUl8zMl9EQkw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYWRkMWU2ZGlnaXQoLTI0LCAtMTgpO1xuICAgIGFkZDFlNmRpZ2l0KC0xOCwgLTEyKTtcbiAgICBhZGQxZTZkaWdpdCgtMTIsIC02KTtcbiAgICBhZGQxZTZkaWdpdCgtNik7XG4gICAgcmV0dXJuIFttaW51cywgbG93Qml0cywgaGlnaEJpdHNdO1xufVxuLyoqXG4gKiBGb3JtYXQgNjQgYml0IGludGVnZXIgdmFsdWUgKGFzIHR3byBKUyBudW1iZXJzKSB0byBkZWNpbWFsIHN0cmluZy5cbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW50NjR0b1N0cmluZyhiaXRzTG93LCBiaXRzSGlnaCkge1xuICAgIC8vIFNraXAgdGhlIGV4cGVuc2l2ZSBjb252ZXJzaW9uIGlmIHRoZSBudW1iZXIgaXMgc21hbGwgZW5vdWdoIHRvIHVzZSB0aGVcbiAgICAvLyBidWlsdC1pbiBjb252ZXJzaW9ucy5cbiAgICBpZiAoKGJpdHNIaWdoID4+PiAwKSA8PSAweDFGRkZGRikge1xuICAgICAgICByZXR1cm4gJycgKyAoVFdPX1BXUl8zMl9EQkwgKiBiaXRzSGlnaCArIChiaXRzTG93ID4+PiAwKSk7XG4gICAgfVxuICAgIC8vIFdoYXQgdGhpcyBjb2RlIGlzIGRvaW5nIGlzIGVzc2VudGlhbGx5IGNvbnZlcnRpbmcgdGhlIGlucHV0IG51bWJlciBmcm9tXG4gICAgLy8gYmFzZS0yIHRvIGJhc2UtMWU3LCB3aGljaCBhbGxvd3MgdXMgdG8gcmVwcmVzZW50IHRoZSA2NC1iaXQgcmFuZ2Ugd2l0aFxuICAgIC8vIG9ubHkgMyAodmVyeSBsYXJnZSkgZGlnaXRzLiBUaG9zZSBkaWdpdHMgYXJlIHRoZW4gdHJpdmlhbCB0byBjb252ZXJ0IHRvXG4gICAgLy8gYSBiYXNlLTEwIHN0cmluZy5cbiAgICAvLyBUaGUgbWFnaWMgbnVtYmVycyB1c2VkIGhlcmUgYXJlIC1cbiAgICAvLyAyXjI0ID0gMTY3NzcyMTYgPSAoMSw2Nzc3MjE2KSBpbiBiYXNlLTFlNy5cbiAgICAvLyAyXjQ4ID0gMjgxNDc0OTc2NzEwNjU2ID0gKDIsODE0NzQ5Nyw2NzEwNjU2KSBpbiBiYXNlLTFlNy5cbiAgICAvLyBTcGxpdCAzMjozMiByZXByZXNlbnRhdGlvbiBpbnRvIDE2OjI0OjI0IHJlcHJlc2VudGF0aW9uIHNvIG91clxuICAgIC8vIGludGVybWVkaWF0ZSBkaWdpdHMgZG9uJ3Qgb3ZlcmZsb3cuXG4gICAgbGV0IGxvdyA9IGJpdHNMb3cgJiAweEZGRkZGRjtcbiAgICBsZXQgbWlkID0gKCgoYml0c0xvdyA+Pj4gMjQpIHwgKGJpdHNIaWdoIDw8IDgpKSA+Pj4gMCkgJiAweEZGRkZGRjtcbiAgICBsZXQgaGlnaCA9IChiaXRzSGlnaCA+PiAxNikgJiAweEZGRkY7XG4gICAgLy8gQXNzZW1ibGUgb3VyIHRocmVlIGJhc2UtMWU3IGRpZ2l0cywgaWdub3JpbmcgY2Fycmllcy4gVGhlIG1heGltdW1cbiAgICAvLyB2YWx1ZSBpbiBhIGRpZ2l0IGF0IHRoaXMgc3RlcCBpcyByZXByZXNlbnRhYmxlIGFzIGEgNDgtYml0IGludGVnZXIsIHdoaWNoXG4gICAgLy8gY2FuIGJlIHN0b3JlZCBpbiBhIDY0LWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgbGV0IGRpZ2l0QSA9IGxvdyArIChtaWQgKiA2Nzc3MjE2KSArIChoaWdoICogNjcxMDY1Nik7XG4gICAgbGV0IGRpZ2l0QiA9IG1pZCArIChoaWdoICogODE0NzQ5Nyk7XG4gICAgbGV0IGRpZ2l0QyA9IChoaWdoICogMik7XG4gICAgLy8gQXBwbHkgY2FycmllcyBmcm9tIEEgdG8gQiBhbmQgZnJvbSBCIHRvIEMuXG4gICAgbGV0IGJhc2UgPSAxMDAwMDAwMDtcbiAgICBpZiAoZGlnaXRBID49IGJhc2UpIHtcbiAgICAgICAgZGlnaXRCICs9IE1hdGguZmxvb3IoZGlnaXRBIC8gYmFzZSk7XG4gICAgICAgIGRpZ2l0QSAlPSBiYXNlO1xuICAgIH1cbiAgICBpZiAoZGlnaXRCID49IGJhc2UpIHtcbiAgICAgICAgZGlnaXRDICs9IE1hdGguZmxvb3IoZGlnaXRCIC8gYmFzZSk7XG4gICAgICAgIGRpZ2l0QiAlPSBiYXNlO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IGJhc2UtMWU3IGRpZ2l0cyB0byBiYXNlLTEwLCB3aXRoIG9wdGlvbmFsIGxlYWRpbmcgemVyb2VzLlxuICAgIGZ1bmN0aW9uIGRlY2ltYWxGcm9tMWU3KGRpZ2l0MWU3LCBuZWVkTGVhZGluZ1plcm9zKSB7XG4gICAgICAgIGxldCBwYXJ0aWFsID0gZGlnaXQxZTcgPyBTdHJpbmcoZGlnaXQxZTcpIDogJyc7XG4gICAgICAgIGlmIChuZWVkTGVhZGluZ1plcm9zKSB7XG4gICAgICAgICAgICByZXR1cm4gJzAwMDAwMDAnLnNsaWNlKHBhcnRpYWwubGVuZ3RoKSArIHBhcnRpYWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnRpYWw7XG4gICAgfVxuICAgIHJldHVybiBkZWNpbWFsRnJvbTFlNyhkaWdpdEMsIC8qbmVlZExlYWRpbmdaZXJvcz0qLyAwKSArXG4gICAgICAgIGRlY2ltYWxGcm9tMWU3KGRpZ2l0QiwgLypuZWVkTGVhZGluZ1plcm9zPSovIGRpZ2l0QykgK1xuICAgICAgICAvLyBJZiB0aGUgZmluYWwgMWU3IGRpZ2l0IGRpZG4ndCBuZWVkIGxlYWRpbmcgemVyb3MsIHdlIHdvdWxkIGhhdmVcbiAgICAgICAgLy8gcmV0dXJuZWQgdmlhIHRoZSB0cml2aWFsIGNvZGUgcGF0aCBhdCB0aGUgdG9wLlxuICAgICAgICBkZWNpbWFsRnJvbTFlNyhkaWdpdEEsIC8qbmVlZExlYWRpbmdaZXJvcz0qLyAxKTtcbn1cbi8qKlxuICogV3JpdGUgYSAzMiBiaXQgdmFyaW50LCBzaWduZWQgb3IgdW5zaWduZWQuIFNhbWUgYXMgYHZhcmludDY0d3JpdGUoMCwgdmFsdWUsIGJ5dGVzKWBcbiAqXG4gKiBDb3B5cmlnaHQgMjAwOCBHb29nbGUgSW5jLiAgQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi9ibG9iLzFiMTg4MzNmNGYyYTJmNjgxZjRlNGEyNWNkZjNiMGE0MzExNWVjMjYvanMvYmluYXJ5L2VuY29kZXIuanMjTDE0NFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50MzJ3cml0ZSh2YWx1ZSwgYnl0ZXMpIHtcbiAgICBpZiAodmFsdWUgPj0gMCkge1xuICAgICAgICAvLyB3cml0ZSB2YWx1ZSBhcyB2YXJpbnQgMzJcbiAgICAgICAgd2hpbGUgKHZhbHVlID4gMHg3Zikge1xuICAgICAgICAgICAgYnl0ZXMucHVzaCgodmFsdWUgJiAweDdmKSB8IDB4ODApO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+Pj4gNztcbiAgICAgICAgfVxuICAgICAgICBieXRlcy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHZhbHVlICYgMTI3IHwgMTI4KTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgPj4gNztcbiAgICAgICAgfVxuICAgICAgICBieXRlcy5wdXNoKDEpO1xuICAgIH1cbn1cbi8qKlxuICogUmVhZCBhbiB1bnNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vcHJvdG9jb2xidWZmZXJzL3Byb3RvYnVmL2Jsb2IvOGE3MTkyN2Q3NGE0Y2UzNGVmZTJkODc2OWZkYTE5OGY1MmQyMGQxMi9qcy9leHBlcmltZW50YWwvcnVudGltZS9rZXJuZWwvYnVmZmVyX2RlY29kZXIuanMjTDIyMFxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFyaW50MzJyZWFkKCkge1xuICAgIGxldCBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgbGV0IHJlc3VsdCA9IGIgJiAweDdGO1xuICAgIGlmICgoYiAmIDB4ODApID09IDApIHtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIHJlc3VsdCB8PSAoYiAmIDB4N0YpIDw8IDc7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHg3RikgPDwgMTQ7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHg3RikgPDwgMjE7XG4gICAgaWYgKChiICYgMHg4MCkgPT0gMCkge1xuICAgICAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBFeHRyYWN0IG9ubHkgbGFzdCA0IGJpdHNcbiAgICBiID0gdGhpcy5idWZbdGhpcy5wb3MrK107XG4gICAgcmVzdWx0IHw9IChiICYgMHgwRikgPDwgMjg7XG4gICAgZm9yIChsZXQgcmVhZEJ5dGVzID0gNTsgKChiICYgMHg4MCkgIT09IDApICYmIHJlYWRCeXRlcyA8IDEwOyByZWFkQnl0ZXMrKylcbiAgICAgICAgYiA9IHRoaXMuYnVmW3RoaXMucG9zKytdO1xuICAgIGlmICgoYiAmIDB4ODApICE9IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB2YXJpbnQnKTtcbiAgICB0aGlzLmFzc2VydEJvdW5kcygpO1xuICAgIC8vIFJlc3VsdCBjYW4gaGF2ZSAzMiBiaXRzLCBjb252ZXJ0IGl0IHRvIHVuc2lnbmVkXG4gICAgcmV0dXJuIHJlc3VsdCA+Pj4gMDtcbn1cbiIsImltcG9ydCB7IGludDY0ZnJvbVN0cmluZywgaW50NjR0b1N0cmluZyB9IGZyb20gXCIuL2dvb2ctdmFyaW50XCI7XG5sZXQgQkk7XG5leHBvcnQgZnVuY3Rpb24gZGV0ZWN0QmkoKSB7XG4gICAgY29uc3QgZHYgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDgpKTtcbiAgICBjb25zdCBvayA9IGdsb2JhbFRoaXMuQmlnSW50ICE9PSB1bmRlZmluZWRcbiAgICAgICAgJiYgdHlwZW9mIGR2LmdldEJpZ0ludDY0ID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIGR2LmdldEJpZ1VpbnQ2NCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICYmIHR5cGVvZiBkdi5zZXRCaWdJbnQ2NCA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICYmIHR5cGVvZiBkdi5zZXRCaWdVaW50NjQgPT09IFwiZnVuY3Rpb25cIjtcbiAgICBCSSA9IG9rID8ge1xuICAgICAgICBNSU46IEJpZ0ludChcIi05MjIzMzcyMDM2ODU0Nzc1ODA4XCIpLFxuICAgICAgICBNQVg6IEJpZ0ludChcIjkyMjMzNzIwMzY4NTQ3NzU4MDdcIiksXG4gICAgICAgIFVNSU46IEJpZ0ludChcIjBcIiksXG4gICAgICAgIFVNQVg6IEJpZ0ludChcIjE4NDQ2NzQ0MDczNzA5NTUxNjE1XCIpLFxuICAgICAgICBDOiBCaWdJbnQsXG4gICAgICAgIFY6IGR2LFxuICAgIH0gOiB1bmRlZmluZWQ7XG59XG5kZXRlY3RCaSgpO1xuZnVuY3Rpb24gYXNzZXJ0QmkoYmkpIHtcbiAgICBpZiAoIWJpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCaWdJbnQgdW5hdmFpbGFibGUsIHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGltb3N0YW1tL3Byb3RvYnVmLXRzL2Jsb2IvdjEuMC44L01BTlVBTC5tZCNiaWdpbnQtc3VwcG9ydFwiKTtcbn1cbi8vIHVzZWQgdG8gdmFsaWRhdGUgZnJvbShzdHJpbmcpIGlucHV0ICh3aGVuIGJpZ2ludCBpcyB1bmF2YWlsYWJsZSlcbmNvbnN0IFJFX0RFQ0lNQUxfU1RSID0gL14tP1swLTldKyQvO1xuLy8gY29uc3RhbnRzIGZvciBiaW5hcnkgbWF0aFxuY29uc3QgVFdPX1BXUl8zMl9EQkwgPSAweDEwMDAwMDAwMDtcbmNvbnN0IEhBTEZfMl9QV1JfMzIgPSAweDA4MDAwMDAwMDtcbi8vIGJhc2UgY2xhc3MgZm9yIFBiTG9uZyBhbmQgUGJVTG9uZyBwcm92aWRlcyBzaGFyZWQgY29kZVxuY2xhc3MgU2hhcmVkUGJMb25nIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugd2l0aCB0aGUgZ2l2ZW4gYml0cy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihsbywgaGkpIHtcbiAgICAgICAgdGhpcy5sbyA9IGxvIHwgMDtcbiAgICAgICAgdGhpcy5oaSA9IGhpIHwgMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhpcyBpbnN0YW5jZSBlcXVhbCB0byAwP1xuICAgICAqL1xuICAgIGlzWmVybygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG8gPT0gMCAmJiB0aGlzLmhpID09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gYSBuYXRpdmUgbnVtYmVyLlxuICAgICAqL1xuICAgIHRvTnVtYmVyKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdGhpcy5oaSAqIFRXT19QV1JfMzJfREJMICsgKHRoaXMubG8gPj4+IDApO1xuICAgICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHJlc3VsdCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgY29udmVydCB0byBzYWZlIG51bWJlclwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIDY0LWJpdCB1bnNpZ25lZCBpbnRlZ2VyIGFzIHR3byAzMi1iaXQgdmFsdWVzLlxuICogQ29udmVydHMgYmV0d2VlbiBgc3RyaW5nYCwgYG51bWJlcmAgYW5kIGBiaWdpbnRgIHJlcHJlc2VudGF0aW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIFBiVUxvbmcgZXh0ZW5kcyBTaGFyZWRQYkxvbmcge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBpbnN0YW5jZSBmcm9tIGEgYHN0cmluZ2AsIGBudW1iZXJgIG9yIGBiaWdpbnRgLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHZhbHVlKSB7XG4gICAgICAgIGlmIChCSSlcbiAgICAgICAgICAgIC8vIG5vaW5zcGVjdGlvbiBGYWxsVGhyb3VnaEluU3dpdGNoU3RhdGVtZW50SlNcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCIwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyaW5nIGlzIG5vIGludGVnZXInKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBCSS5DKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlpFUk87XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gQkkuQyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgQkkuVU1JTilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2lnbmVkIHZhbHVlIGZvciB1bG9uZycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiBCSS5VTUFYKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bG9uZyB0b28gbGFyZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgQkkuVi5zZXRCaWdVaW50NjQoMCwgdmFsdWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBiVUxvbmcoQkkuVi5nZXRJbnQzMigwLCB0cnVlKSwgQkkuVi5nZXRJbnQzMig0LCB0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCIwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFSRV9ERUNJTUFMX1NUUi50ZXN0KHZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyaW5nIGlzIG5vIGludGVnZXInKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IFttaW51cywgbG8sIGhpXSA9IGludDY0ZnJvbVN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtaW51cylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2lnbmVkIHZhbHVlIGZvciB1bG9uZycpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFBiVUxvbmcobG8sIGhpKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNTYWZlSW50ZWdlcih2YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ251bWJlciBpcyBubyBpbnRlZ2VyJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpZ25lZCB2YWx1ZSBmb3IgdWxvbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQYlVMb25nKHZhbHVlLCB2YWx1ZSAvIFRXT19QV1JfMzJfREJMKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHZhbHVlICcgKyB0eXBlb2YgdmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRvIGRlY2ltYWwgc3RyaW5nLlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gQkkgPyB0aGlzLnRvQmlnSW50KCkudG9TdHJpbmcoKSA6IGludDY0dG9TdHJpbmcodGhpcy5sbywgdGhpcy5oaSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gbmF0aXZlIGJpZ2ludC5cbiAgICAgKi9cbiAgICB0b0JpZ0ludCgpIHtcbiAgICAgICAgYXNzZXJ0QmkoQkkpO1xuICAgICAgICBCSS5WLnNldEludDMyKDAsIHRoaXMubG8sIHRydWUpO1xuICAgICAgICBCSS5WLnNldEludDMyKDQsIHRoaXMuaGksIHRydWUpO1xuICAgICAgICByZXR1cm4gQkkuVi5nZXRCaWdVaW50NjQoMCwgdHJ1ZSk7XG4gICAgfVxufVxuLyoqXG4gKiB1bG9uZyAwIHNpbmdsZXRvbi5cbiAqL1xuUGJVTG9uZy5aRVJPID0gbmV3IFBiVUxvbmcoMCwgMCk7XG4vKipcbiAqIDY0LWJpdCBzaWduZWQgaW50ZWdlciBhcyB0d28gMzItYml0IHZhbHVlcy5cbiAqIENvbnZlcnRzIGJldHdlZW4gYHN0cmluZ2AsIGBudW1iZXJgIGFuZCBgYmlnaW50YCByZXByZXNlbnRhdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYkxvbmcgZXh0ZW5kcyBTaGFyZWRQYkxvbmcge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBpbnN0YW5jZSBmcm9tIGEgYHN0cmluZ2AsIGBudW1iZXJgIG9yIGBiaWdpbnRgLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tKHZhbHVlKSB7XG4gICAgICAgIGlmIChCSSlcbiAgICAgICAgICAgIC8vIG5vaW5zcGVjdGlvbiBGYWxsVGhyb3VnaEluU3dpdGNoU3RhdGVtZW50SlNcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCIwXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RyaW5nIGlzIG5vIGludGVnZXInKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBCSS5DKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlpFUk87XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gQkkuQyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJpZ2ludFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgQkkuTUlOKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduZWQgbG9uZyB0b28gc21hbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gQkkuTUFYKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduZWQgbG9uZyB0b28gbGFyZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgQkkuVi5zZXRCaWdJbnQ2NCgwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUGJMb25nKEJJLlYuZ2V0SW50MzIoMCwgdHJ1ZSksIEJJLlYuZ2V0SW50MzIoNCwgdHJ1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IFwiMFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuWkVSTztcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghUkVfREVDSU1BTF9TVFIudGVzdCh2YWx1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmluZyBpcyBubyBpbnRlZ2VyJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBbbWludXMsIGxvLCBoaV0gPSBpbnQ2NGZyb21TdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWludXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaSA+IEhBTEZfMl9QV1JfMzIgfHwgKGhpID09IEhBTEZfMl9QV1JfMzIgJiYgbG8gIT0gMCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduZWQgbG9uZyB0b28gc21hbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChoaSA+PSBIQUxGXzJfUFdSXzMyKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzaWduZWQgbG9uZyB0b28gbGFyZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBibCA9IG5ldyBQYkxvbmcobG8sIGhpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1pbnVzID8gcGJsLm5lZ2F0ZSgpIDogcGJsO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5aRVJPO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKHZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbnVtYmVyIGlzIG5vIGludGVnZXInKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlID4gMFxuICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgUGJMb25nKHZhbHVlLCB2YWx1ZSAvIFRXT19QV1JfMzJfREJMKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgUGJMb25nKC12YWx1ZSwgLXZhbHVlIC8gVFdPX1BXUl8zMl9EQkwpLm5lZ2F0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gdmFsdWUgJyArIHR5cGVvZiB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERvIHdlIGhhdmUgYSBtaW51cyBzaWduP1xuICAgICAqL1xuICAgIGlzTmVnYXRpdmUoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5oaSAmIEhBTEZfMl9QV1JfMzIpICE9PSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOZWdhdGUgdHdvJ3MgY29tcGxlbWVudC5cbiAgICAgKiBJbnZlcnQgYWxsIHRoZSBiaXRzIGFuZCBhZGQgb25lIHRvIHRoZSByZXN1bHQuXG4gICAgICovXG4gICAgbmVnYXRlKCkge1xuICAgICAgICBsZXQgaGkgPSB+dGhpcy5oaSwgbG8gPSB0aGlzLmxvO1xuICAgICAgICBpZiAobG8pXG4gICAgICAgICAgICBsbyA9IH5sbyArIDE7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGhpICs9IDE7XG4gICAgICAgIHJldHVybiBuZXcgUGJMb25nKGxvLCBoaSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gZGVjaW1hbCBzdHJpbmcuXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGlmIChCSSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvQmlnSW50KCkudG9TdHJpbmcoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNOZWdhdGl2ZSgpKSB7XG4gICAgICAgICAgICBsZXQgbiA9IHRoaXMubmVnYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gJy0nICsgaW50NjR0b1N0cmluZyhuLmxvLCBuLmhpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW50NjR0b1N0cmluZyh0aGlzLmxvLCB0aGlzLmhpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0byBuYXRpdmUgYmlnaW50LlxuICAgICAqL1xuICAgIHRvQmlnSW50KCkge1xuICAgICAgICBhc3NlcnRCaShCSSk7XG4gICAgICAgIEJJLlYuc2V0SW50MzIoMCwgdGhpcy5sbywgdHJ1ZSk7XG4gICAgICAgIEJJLlYuc2V0SW50MzIoNCwgdGhpcy5oaSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBCSS5WLmdldEJpZ0ludDY0KDAsIHRydWUpO1xuICAgIH1cbn1cbi8qKlxuICogbG9uZyAwIHNpbmdsZXRvbi5cbiAqL1xuUGJMb25nLlpFUk8gPSBuZXcgUGJMb25nKDAsIDApO1xuIiwiaW1wb3J0IHsgV2lyZVR5cGUgfSBmcm9tIFwiLi9iaW5hcnktZm9ybWF0LWNvbnRyYWN0XCI7XG5pbXBvcnQgeyBQYkxvbmcsIFBiVUxvbmcgfSBmcm9tIFwiLi9wYi1sb25nXCI7XG5pbXBvcnQgeyB2YXJpbnQzMnJlYWQsIHZhcmludDY0cmVhZCB9IGZyb20gXCIuL2dvb2ctdmFyaW50XCI7XG5jb25zdCBkZWZhdWx0c1JlYWQgPSB7XG4gICAgcmVhZFVua25vd25GaWVsZDogdHJ1ZSxcbiAgICByZWFkZXJGYWN0b3J5OiBieXRlcyA9PiBuZXcgQmluYXJ5UmVhZGVyKGJ5dGVzKSxcbn07XG4vKipcbiAqIE1ha2Ugb3B0aW9ucyBmb3IgcmVhZGluZyBiaW5hcnkgZGF0YSBmb3JtIHBhcnRpYWwgb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVJlYWRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHNSZWFkKSwgb3B0aW9ucykgOiBkZWZhdWx0c1JlYWQ7XG59XG5leHBvcnQgY2xhc3MgQmluYXJ5UmVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihidWYsIHRleHREZWNvZGVyKSB7XG4gICAgICAgIHRoaXMudmFyaW50NjQgPSB2YXJpbnQ2NHJlYWQ7IC8vIGRpcnR5IGNhc3QgZm9yIGB0aGlzYFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZCBhIGB1aW50MzJgIGZpZWxkLCBhbiB1bnNpZ25lZCAzMiBiaXQgdmFyaW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51aW50MzIgPSB2YXJpbnQzMnJlYWQ7IC8vIGRpcnR5IGNhc3QgZm9yIGB0aGlzYCBhbmQgYWNjZXNzIHRvIHByb3RlY3RlZCBgYnVmYFxuICAgICAgICB0aGlzLmJ1ZiA9IGJ1ZjtcbiAgICAgICAgdGhpcy5sZW4gPSBidWYubGVuZ3RoO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMudmlldyA9IG5ldyBEYXRhVmlldyhidWYuYnVmZmVyLCBidWYuYnl0ZU9mZnNldCwgYnVmLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLnRleHREZWNvZGVyID0gdGV4dERlY29kZXIgIT09IG51bGwgJiYgdGV4dERlY29kZXIgIT09IHZvaWQgMCA/IHRleHREZWNvZGVyIDogbmV3IFRleHREZWNvZGVyKFwidXRmLThcIiwge1xuICAgICAgICAgICAgZmF0YWw6IHRydWUsXG4gICAgICAgICAgICBpZ25vcmVCT006IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhIHRhZyAtIGZpZWxkIG51bWJlciBhbmQgd2lyZSB0eXBlLlxuICAgICAqL1xuICAgIHRhZygpIHtcbiAgICAgICAgbGV0IHRhZyA9IHRoaXMudWludDMyKCksIGZpZWxkTm8gPSB0YWcgPj4+IDMsIHdpcmVUeXBlID0gdGFnICYgNztcbiAgICAgICAgaWYgKGZpZWxkTm8gPD0gMCB8fCB3aXJlVHlwZSA8IDAgfHwgd2lyZVR5cGUgPiA1KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCB0YWc6IGZpZWxkIG5vIFwiICsgZmllbGRObyArIFwiIHdpcmUgdHlwZSBcIiArIHdpcmVUeXBlKTtcbiAgICAgICAgcmV0dXJuIFtmaWVsZE5vLCB3aXJlVHlwZV07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNraXAgb25lIGVsZW1lbnQgb24gdGhlIHdpcmUgYW5kIHJldHVybiB0aGUgc2tpcHBlZCBkYXRhLlxuICAgICAqIFN1cHBvcnRzIFdpcmVUeXBlLlN0YXJ0R3JvdXAgc2luY2UgdjIuMC4wLWFscGhhLjIzLlxuICAgICAqL1xuICAgIHNraXAod2lyZVR5cGUpIHtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBGYWxsVGhyb3VnaEluU3dpdGNoU3RhdGVtZW50SlNcbiAgICAgICAgc3dpdGNoICh3aXJlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBXaXJlVHlwZS5WYXJpbnQ6XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuYnVmW3RoaXMucG9zKytdICYgMHg4MCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLkJpdDY0OlxuICAgICAgICAgICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLkJpdDMyOlxuICAgICAgICAgICAgICAgIHRoaXMucG9zICs9IDQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZDpcbiAgICAgICAgICAgICAgICBsZXQgbGVuID0gdGhpcy51aW50MzIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBvcyArPSBsZW47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdpcmVUeXBlLlN0YXJ0R3JvdXA6XG4gICAgICAgICAgICAgICAgLy8gRnJvbSBkZXNjcmlwdG9yLnByb3RvOiBHcm91cCB0eXBlIGlzIGRlcHJlY2F0ZWQsIG5vdCBzdXBwb3J0ZWQgaW4gcHJvdG8zLlxuICAgICAgICAgICAgICAgIC8vIEJ1dCB3ZSBtdXN0IHN0aWxsIGJlIGFibGUgdG8gcGFyc2UgYW5kIHRyZWF0IGFzIHVua25vd24uXG4gICAgICAgICAgICAgICAgbGV0IHQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCh0ID0gdGhpcy50YWcoKVsxXSkgIT09IFdpcmVUeXBlLkVuZEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2tpcCh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbnQgc2tpcCB3aXJlIHR5cGUgXCIgKyB3aXJlVHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLnN1YmFycmF5KHN0YXJ0LCB0aGlzLnBvcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRocm93cyBlcnJvciBpZiBwb3NpdGlvbiBpbiBieXRlIGFycmF5IGlzIG91dCBvZiByYW5nZS5cbiAgICAgKi9cbiAgICBhc3NlcnRCb3VuZHMoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcyA+IHRoaXMubGVuKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJwcmVtYXR1cmUgRU9GXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGludDMyYCBmaWVsZCwgYSBzaWduZWQgMzIgYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBpbnQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudWludDMyKCkgfCAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHNpbnQzMmAgZmllbGQsIGEgc2lnbmVkLCB6aWd6YWctZW5jb2RlZCAzMi1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHNpbnQzMigpIHtcbiAgICAgICAgbGV0IHp6ZSA9IHRoaXMudWludDMyKCk7XG4gICAgICAgIC8vIGRlY29kZSB6aWd6YWdcbiAgICAgICAgcmV0dXJuICh6emUgPj4+IDEpIF4gLSh6emUgJiAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBpbnQ2NGAgZmllbGQsIGEgc2lnbmVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgaW50NjQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGJMb25nKC4uLnRoaXMudmFyaW50NjQoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgdWludDY0YCBmaWVsZCwgYW4gdW5zaWduZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICB1aW50NjQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGJVTG9uZyguLi50aGlzLnZhcmludDY0KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYHNpbnQ2NGAgZmllbGQsIGEgc2lnbmVkLCB6aWctemFnLWVuY29kZWQgNjQtYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBzaW50NjQoKSB7XG4gICAgICAgIGxldCBbbG8sIGhpXSA9IHRoaXMudmFyaW50NjQoKTtcbiAgICAgICAgLy8gZGVjb2RlIHppZyB6YWdcbiAgICAgICAgbGV0IHMgPSAtKGxvICYgMSk7XG4gICAgICAgIGxvID0gKChsbyA+Pj4gMSB8IChoaSAmIDEpIDw8IDMxKSBeIHMpO1xuICAgICAgICBoaSA9IChoaSA+Pj4gMSBeIHMpO1xuICAgICAgICByZXR1cm4gbmV3IFBiTG9uZyhsbywgaGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGJvb2xgIGZpZWxkLCBhIHZhcmlhbnQuXG4gICAgICovXG4gICAgYm9vbCgpIHtcbiAgICAgICAgbGV0IFtsbywgaGldID0gdGhpcy52YXJpbnQ2NCgpO1xuICAgICAgICByZXR1cm4gbG8gIT09IDAgfHwgaGkgIT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZml4ZWQzMmAgZmllbGQsIGFuIHVuc2lnbmVkLCBmaXhlZC1sZW5ndGggMzItYml0IGludGVnZXIuXG4gICAgICovXG4gICAgZml4ZWQzMigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy5nZXRVaW50MzIoKHRoaXMucG9zICs9IDQpIC0gNCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgc2ZpeGVkMzJgIGZpZWxkLCBhIHNpZ25lZCwgZml4ZWQtbGVuZ3RoIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHNmaXhlZDMyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEludDMyKCh0aGlzLnBvcyArPSA0KSAtIDQsIHRydWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgYGZpeGVkNjRgIGZpZWxkLCBhbiB1bnNpZ25lZCwgZml4ZWQtbGVuZ3RoIDY0IGJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGZpeGVkNjQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGJVTG9uZyh0aGlzLnNmaXhlZDMyKCksIHRoaXMuc2ZpeGVkMzIoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgZml4ZWQ2NGAgZmllbGQsIGEgc2lnbmVkLCBmaXhlZC1sZW5ndGggNjQtYml0IGludGVnZXIuXG4gICAgICovXG4gICAgc2ZpeGVkNjQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGJMb25nKHRoaXMuc2ZpeGVkMzIoKSwgdGhpcy5zZml4ZWQzMigpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBmbG9hdGAgZmllbGQsIDMyLWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgZmxvYXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuZ2V0RmxvYXQzMigodGhpcy5wb3MgKz0gNCkgLSA0LCB0cnVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIGBkb3VibGVgIGZpZWxkLCBhIDY0LWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgZG91YmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmdldEZsb2F0NjQoKHRoaXMucG9zICs9IDgpIC0gOCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgYnl0ZXNgIGZpZWxkLCBsZW5ndGgtZGVsaW1pdGVkIGFyYml0cmFyeSBkYXRhLlxuICAgICAqL1xuICAgIGJ5dGVzKCkge1xuICAgICAgICBsZXQgbGVuID0gdGhpcy51aW50MzIoKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgICAgIHRoaXMucG9zICs9IGxlbjtcbiAgICAgICAgdGhpcy5hc3NlcnRCb3VuZHMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBgc3RyaW5nYCBmaWVsZCwgbGVuZ3RoLWRlbGltaXRlZCBkYXRhIGNvbnZlcnRlZCB0byBVVEYtOCB0ZXh0LlxuICAgICAqL1xuICAgIHN0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dERlY29kZXIuZGVjb2RlKHRoaXMuYnl0ZXMoKSk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBhc3NlcnQgdGhhdCBjb25kaXRpb24gaXMgdHJ1ZSBvciB0aHJvdyBlcnJvciAod2l0aCBtZXNzYWdlKVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbiwgbXNnKSB7XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxufVxuLyoqXG4gKiBhc3NlcnQgdGhhdCB2YWx1ZSBjYW5ub3QgZXhpc3QgPSB0eXBlIGBuZXZlcmAuIHRocm93IHJ1bnRpbWUgZXJyb3IgaWYgaXQgZG9lcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5ldmVyKHZhbHVlLCBtc2cpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnICE9PSBudWxsICYmIG1zZyAhPT0gdm9pZCAwID8gbXNnIDogJ1VuZXhwZWN0ZWQgb2JqZWN0OiAnICsgdmFsdWUpO1xufVxuY29uc3QgRkxPQVQzMl9NQVggPSAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCBGTE9BVDMyX01JTiA9IC0zLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCBVSU5UMzJfTUFYID0gMHhGRkZGRkZGRiwgSU5UMzJfTUFYID0gMFg3RkZGRkZGRiwgSU5UMzJfTUlOID0gLTBYODAwMDAwMDA7XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SW50MzIoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09IFwibnVtYmVyXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBpbnQgMzI6ICcgKyB0eXBlb2YgYXJnKTtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoYXJnKSB8fCBhcmcgPiBJTlQzMl9NQVggfHwgYXJnIDwgSU5UMzJfTUlOKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgaW50IDMyOiAnICsgYXJnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRVSW50MzIoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09IFwibnVtYmVyXCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB1aW50IDMyOiAnICsgdHlwZW9mIGFyZyk7XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGFyZykgfHwgYXJnID4gVUlOVDMyX01BWCB8fCBhcmcgPCAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgdWludCAzMjogJyArIGFyZyk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RmxvYXQzMihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gXCJudW1iZXJcIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZsb2F0IDMyOiAnICsgdHlwZW9mIGFyZyk7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoYXJnKSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChhcmcgPiBGTE9BVDMyX01BWCB8fCBhcmcgPCBGTE9BVDMyX01JTilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGZsb2F0IDMyOiAnICsgYXJnKTtcbn1cbiIsImltcG9ydCB7IFBiTG9uZywgUGJVTG9uZyB9IGZyb20gXCIuL3BiLWxvbmdcIjtcbmltcG9ydCB7IHZhcmludDMyd3JpdGUsIHZhcmludDY0d3JpdGUgfSBmcm9tIFwiLi9nb29nLXZhcmludFwiO1xuaW1wb3J0IHsgYXNzZXJ0RmxvYXQzMiwgYXNzZXJ0SW50MzIsIGFzc2VydFVJbnQzMiB9IGZyb20gXCIuL2Fzc2VydFwiO1xuY29uc3QgZGVmYXVsdHNXcml0ZSA9IHtcbiAgICB3cml0ZVVua25vd25GaWVsZHM6IHRydWUsXG4gICAgd3JpdGVyRmFjdG9yeTogKCkgPT4gbmV3IEJpbmFyeVdyaXRlcigpLFxufTtcbi8qKlxuICogTWFrZSBvcHRpb25zIGZvciB3cml0aW5nIGJpbmFyeSBkYXRhIGZvcm0gcGFydGlhbCBvcHRpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYmluYXJ5V3JpdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHNXcml0ZSksIG9wdGlvbnMpIDogZGVmYXVsdHNXcml0ZTtcbn1cbmV4cG9ydCBjbGFzcyBCaW5hcnlXcml0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHRleHRFbmNvZGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmV2aW91cyBmb3JrIHN0YXRlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgICAgICAgdGhpcy50ZXh0RW5jb2RlciA9IHRleHRFbmNvZGVyICE9PSBudWxsICYmIHRleHRFbmNvZGVyICE9PSB2b2lkIDAgPyB0ZXh0RW5jb2RlciA6IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICB0aGlzLmJ1ZiA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gYWxsIGJ5dGVzIHdyaXR0ZW4gYW5kIHJlc2V0IHRoaXMgd3JpdGVyLlxuICAgICAqL1xuICAgIGZpbmlzaCgpIHtcbiAgICAgICAgdGhpcy5jaHVua3MucHVzaChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZikpOyAvLyBmbHVzaCB0aGUgYnVmZmVyXG4gICAgICAgIGxldCBsZW4gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2h1bmtzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgbGVuICs9IHRoaXMuY2h1bmtzW2ldLmxlbmd0aDtcbiAgICAgICAgbGV0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobGVuKTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaHVua3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJ5dGVzLnNldCh0aGlzLmNodW5rc1tpXSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIG9mZnNldCArPSB0aGlzLmNodW5rc1tpXS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgcmV0dXJuIGJ5dGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydCBhIG5ldyBmb3JrIGZvciBsZW5ndGgtZGVsaW1pdGVkIGRhdGEgbGlrZSBhIG1lc3NhZ2VcbiAgICAgKiBvciBhIHBhY2tlZCByZXBlYXRlZCBmaWVsZC5cbiAgICAgKlxuICAgICAqIE11c3QgYmUgam9pbmVkIGxhdGVyIHdpdGggYGpvaW4oKWAuXG4gICAgICovXG4gICAgZm9yaygpIHtcbiAgICAgICAgdGhpcy5zdGFjay5wdXNoKHsgY2h1bmtzOiB0aGlzLmNodW5rcywgYnVmOiB0aGlzLmJ1ZiB9KTtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBbXTtcbiAgICAgICAgdGhpcy5idWYgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEpvaW4gdGhlIGxhc3QgZm9yay4gV3JpdGUgaXRzIGxlbmd0aCBhbmQgYnl0ZXMsIHRoZW5cbiAgICAgKiByZXR1cm4gdG8gdGhlIHByZXZpb3VzIHN0YXRlLlxuICAgICAqL1xuICAgIGpvaW4oKSB7XG4gICAgICAgIC8vIGdldCBjaHVuayBvZiBmb3JrXG4gICAgICAgIGxldCBjaHVuayA9IHRoaXMuZmluaXNoKCk7XG4gICAgICAgIC8vIHJlc3RvcmUgcHJldmlvdXMgc3RhdGVcbiAgICAgICAgbGV0IHByZXYgPSB0aGlzLnN0YWNrLnBvcCgpO1xuICAgICAgICBpZiAoIXByZXYpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc3RhdGUsIGZvcmsgc3RhY2sgZW1wdHknKTtcbiAgICAgICAgdGhpcy5jaHVua3MgPSBwcmV2LmNodW5rcztcbiAgICAgICAgdGhpcy5idWYgPSBwcmV2LmJ1ZjtcbiAgICAgICAgLy8gd3JpdGUgbGVuZ3RoIG9mIGNodW5rIGFzIHZhcmludFxuICAgICAgICB0aGlzLnVpbnQzMihjaHVuay5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIGEgdGFnIChmaWVsZCBudW1iZXIgYW5kIHdpcmUgdHlwZSkuXG4gICAgICpcbiAgICAgKiBFcXVpdmFsZW50IHRvIGB1aW50MzIoIChmaWVsZE5vIDw8IDMgfCB0eXBlKSA+Pj4gMCApYC5cbiAgICAgKlxuICAgICAqIEdlbmVyYXRlZCBjb2RlIHNob3VsZCBjb21wdXRlIHRoZSB0YWcgYWhlYWQgb2YgdGltZSBhbmQgY2FsbCBgdWludDMyKClgLlxuICAgICAqL1xuICAgIHRhZyhmaWVsZE5vLCB0eXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVpbnQzMigoZmllbGRObyA8PCAzIHwgdHlwZSkgPj4+IDApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGNodW5rIG9mIHJhdyBieXRlcy5cbiAgICAgKi9cbiAgICByYXcoY2h1bmspIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jaHVua3MucHVzaChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZikpO1xuICAgICAgICAgICAgdGhpcy5idWYgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHVpbnQzMmAgdmFsdWUsIGFuIHVuc2lnbmVkIDMyIGJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgdWludDMyKHZhbHVlKSB7XG4gICAgICAgIGFzc2VydFVJbnQzMih2YWx1ZSk7XG4gICAgICAgIC8vIHdyaXRlIHZhbHVlIGFzIHZhcmludCAzMiwgaW5saW5lZCBmb3Igc3BlZWRcbiAgICAgICAgd2hpbGUgKHZhbHVlID4gMHg3Zikge1xuICAgICAgICAgICAgdGhpcy5idWYucHVzaCgodmFsdWUgJiAweDdmKSB8IDB4ODApO1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA+Pj4gNztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJ1Zi5wdXNoKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGludDMyYCB2YWx1ZSwgYSBzaWduZWQgMzIgYml0IHZhcmludC5cbiAgICAgKi9cbiAgICBpbnQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRJbnQzMih2YWx1ZSk7XG4gICAgICAgIHZhcmludDMyd3JpdGUodmFsdWUsIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGJvb2xgIHZhbHVlLCBhIHZhcmlhbnQuXG4gICAgICovXG4gICAgYm9vbCh2YWx1ZSkge1xuICAgICAgICB0aGlzLmJ1Zi5wdXNoKHZhbHVlID8gMSA6IDApO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgYnl0ZXNgIHZhbHVlLCBsZW5ndGgtZGVsaW1pdGVkIGFyYml0cmFyeSBkYXRhLlxuICAgICAqL1xuICAgIGJ5dGVzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudWludDMyKHZhbHVlLmJ5dGVMZW5ndGgpOyAvLyB3cml0ZSBsZW5ndGggb2YgY2h1bmsgYXMgdmFyaW50XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyh2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHN0cmluZ2AgdmFsdWUsIGxlbmd0aC1kZWxpbWl0ZWQgZGF0YSBjb252ZXJ0ZWQgdG8gVVRGLTggdGV4dC5cbiAgICAgKi9cbiAgICBzdHJpbmcodmFsdWUpIHtcbiAgICAgICAgbGV0IGNodW5rID0gdGhpcy50ZXh0RW5jb2Rlci5lbmNvZGUodmFsdWUpO1xuICAgICAgICB0aGlzLnVpbnQzMihjaHVuay5ieXRlTGVuZ3RoKTsgLy8gd3JpdGUgbGVuZ3RoIG9mIGNodW5rIGFzIHZhcmludFxuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBmbG9hdGAgdmFsdWUsIDMyLWJpdCBmbG9hdGluZyBwb2ludCBudW1iZXIuXG4gICAgICovXG4gICAgZmxvYXQodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0RmxvYXQzMih2YWx1ZSk7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKS5zZXRGbG9hdDMyKDAsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZG91YmxlYCB2YWx1ZSwgYSA2NC1iaXQgZmxvYXRpbmcgcG9pbnQgbnVtYmVyLlxuICAgICAqL1xuICAgIGRvdWJsZSh2YWx1ZSkge1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAgICAgbmV3IERhdGFWaWV3KGNodW5rLmJ1ZmZlcikuc2V0RmxvYXQ2NCgwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGZpeGVkMzJgIHZhbHVlLCBhbiB1bnNpZ25lZCwgZml4ZWQtbGVuZ3RoIDMyLWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIGZpeGVkMzIodmFsdWUpIHtcbiAgICAgICAgYXNzZXJ0VUludDMyKHZhbHVlKTtcbiAgICAgICAgbGV0IGNodW5rID0gbmV3IFVpbnQ4QXJyYXkoNCk7XG4gICAgICAgIG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpLnNldFVpbnQzMigwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHNmaXhlZDMyYCB2YWx1ZSwgYSBzaWduZWQsIGZpeGVkLWxlbmd0aCAzMi1iaXQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBzZml4ZWQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRJbnQzMih2YWx1ZSk7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDQpO1xuICAgICAgICBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKS5zZXRJbnQzMigwLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnJhdyhjaHVuayk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHNpbnQzMmAgdmFsdWUsIGEgc2lnbmVkLCB6aWd6YWctZW5jb2RlZCAzMi1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHNpbnQzMih2YWx1ZSkge1xuICAgICAgICBhc3NlcnRJbnQzMih2YWx1ZSk7XG4gICAgICAgIC8vIHppZ3phZyBlbmNvZGVcbiAgICAgICAgdmFsdWUgPSAoKHZhbHVlIDw8IDEpIF4gKHZhbHVlID4+IDMxKSkgPj4+IDA7XG4gICAgICAgIHZhcmludDMyd3JpdGUodmFsdWUsIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYGZpeGVkNjRgIHZhbHVlLCBhIHNpZ25lZCwgZml4ZWQtbGVuZ3RoIDY0LWJpdCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIHNmaXhlZDY0KHZhbHVlKSB7XG4gICAgICAgIGxldCBjaHVuayA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICBsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhjaHVuay5idWZmZXIpO1xuICAgICAgICBsZXQgbG9uZyA9IFBiTG9uZy5mcm9tKHZhbHVlKTtcbiAgICAgICAgdmlldy5zZXRJbnQzMigwLCBsb25nLmxvLCB0cnVlKTtcbiAgICAgICAgdmlldy5zZXRJbnQzMig0LCBsb25nLmhpLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmF3KGNodW5rKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgZml4ZWQ2NGAgdmFsdWUsIGFuIHVuc2lnbmVkLCBmaXhlZC1sZW5ndGggNjQgYml0IGludGVnZXIuXG4gICAgICovXG4gICAgZml4ZWQ2NCh2YWx1ZSkge1xuICAgICAgICBsZXQgY2h1bmsgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICAgICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoY2h1bmsuYnVmZmVyKTtcbiAgICAgICAgbGV0IGxvbmcgPSBQYlVMb25nLmZyb20odmFsdWUpO1xuICAgICAgICB2aWV3LnNldEludDMyKDAsIGxvbmcubG8sIHRydWUpO1xuICAgICAgICB2aWV3LnNldEludDMyKDQsIGxvbmcuaGksIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5yYXcoY2h1bmspO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIGBpbnQ2NGAgdmFsdWUsIGEgc2lnbmVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgaW50NjQodmFsdWUpIHtcbiAgICAgICAgbGV0IGxvbmcgPSBQYkxvbmcuZnJvbSh2YWx1ZSk7XG4gICAgICAgIHZhcmludDY0d3JpdGUobG9uZy5sbywgbG9uZy5oaSwgdGhpcy5idWYpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgYSBgc2ludDY0YCB2YWx1ZSwgYSBzaWduZWQsIHppZy16YWctZW5jb2RlZCA2NC1iaXQgdmFyaW50LlxuICAgICAqL1xuICAgIHNpbnQ2NCh2YWx1ZSkge1xuICAgICAgICBsZXQgbG9uZyA9IFBiTG9uZy5mcm9tKHZhbHVlKSwgXG4gICAgICAgIC8vIHppZ3phZyBlbmNvZGVcbiAgICAgICAgc2lnbiA9IGxvbmcuaGkgPj4gMzEsIGxvID0gKGxvbmcubG8gPDwgMSkgXiBzaWduLCBoaSA9ICgobG9uZy5oaSA8PCAxKSB8IChsb25nLmxvID4+PiAzMSkpIF4gc2lnbjtcbiAgICAgICAgdmFyaW50NjR3cml0ZShsbywgaGksIHRoaXMuYnVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIGEgYHVpbnQ2NGAgdmFsdWUsIGFuIHVuc2lnbmVkIDY0LWJpdCB2YXJpbnQuXG4gICAgICovXG4gICAgdWludDY0KHZhbHVlKSB7XG4gICAgICAgIGxldCBsb25nID0gUGJVTG9uZy5mcm9tKHZhbHVlKTtcbiAgICAgICAgdmFyaW50NjR3cml0ZShsb25nLmxvLCBsb25nLmhpLCB0aGlzLmJ1Zik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbiIsImNvbnN0IGRlZmF1bHRzV3JpdGUgPSB7XG4gICAgZW1pdERlZmF1bHRWYWx1ZXM6IGZhbHNlLFxuICAgIGVudW1Bc0ludGVnZXI6IGZhbHNlLFxuICAgIHVzZVByb3RvRmllbGROYW1lOiBmYWxzZSxcbiAgICBwcmV0dHlTcGFjZXM6IDAsXG59LCBkZWZhdWx0c1JlYWQgPSB7XG4gICAgaWdub3JlVW5rbm93bkZpZWxkczogZmFsc2UsXG59O1xuLyoqXG4gKiBNYWtlIG9wdGlvbnMgZm9yIHJlYWRpbmcgSlNPTiBkYXRhIGZyb20gcGFydGlhbCBvcHRpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24ganNvblJlYWRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHNSZWFkKSwgb3B0aW9ucykgOiBkZWZhdWx0c1JlYWQ7XG59XG4vKipcbiAqIE1ha2Ugb3B0aW9ucyBmb3Igd3JpdGluZyBKU09OIGRhdGEgZnJvbSBwYXJ0aWFsIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBqc29uV3JpdGVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0aW9ucyA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHNXcml0ZSksIG9wdGlvbnMpIDogZGVmYXVsdHNXcml0ZTtcbn1cbi8qKlxuICogTWVyZ2VzIEpTT04gd3JpdGUgb3IgcmVhZCBvcHRpb25zLiBMYXRlciB2YWx1ZXMgb3ZlcnJpZGUgZWFybGllciB2YWx1ZXMuIFR5cGUgcmVnaXN0cmllcyBhcmUgbWVyZ2VkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VKc29uT3B0aW9ucyhhLCBiKSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBsZXQgYyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgYSksIGIpO1xuICAgIGMudHlwZVJlZ2lzdHJ5ID0gWy4uLigoX2EgPSBhID09PSBudWxsIHx8IGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGEudHlwZVJlZ2lzdHJ5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSksIC4uLigoX2IgPSBiID09PSBudWxsIHx8IGIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGIudHlwZVJlZ2lzdHJ5KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSldO1xuICAgIHJldHVybiBjO1xufVxuIiwiLyoqXG4gKiBUaGUgc3ltYm9sIHVzZWQgYXMgYSBrZXkgb24gbWVzc2FnZSBvYmplY3RzIHRvIHN0b3JlIHRoZSBtZXNzYWdlIHR5cGUuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgaXMgYW4gZXhwZXJpbWVudGFsIGZlYXR1cmUgLSBpdCBpcyBoZXJlIHRvIHN0YXksIGJ1dFxuICogaW1wbGVtZW50YXRpb24gZGV0YWlscyBtYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICovXG5leHBvcnQgY29uc3QgTUVTU0FHRV9UWVBFID0gU3ltYm9sLmZvcihcInByb3RvYnVmLXRzL21lc3NhZ2UtdHlwZVwiKTtcbiIsIi8qKlxuICogQ29udmVydHMgc25ha2VfY2FzZSB0byBsb3dlckNhbWVsQ2FzZS5cbiAqXG4gKiBTaG91bGQgYmVoYXZlIGxpa2UgcHJvdG9jOlxuICogaHR0cHM6Ly9naXRodWIuY29tL3Byb3RvY29sYnVmZmVycy9wcm90b2J1Zi9ibG9iL2U4YWUxMzdjOTY0NDRlYTMxMzQ4NWVkMTExOGM1ZTQzYjIwOTljZjEvc3JjL2dvb2dsZS9wcm90b2J1Zi9jb21waWxlci9qYXZhL2phdmFfaGVscGVycy5jYyNMMTE4XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb3dlckNhbWVsQ2FzZShzbmFrZUNhc2UpIHtcbiAgICBsZXQgY2FwTmV4dCA9IGZhbHNlO1xuICAgIGNvbnN0IHNiID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzbmFrZUNhc2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG5leHQgPSBzbmFrZUNhc2UuY2hhckF0KGkpO1xuICAgICAgICBpZiAobmV4dCA9PSAnXycpIHtcbiAgICAgICAgICAgIGNhcE5leHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKC9cXGQvLnRlc3QobmV4dCkpIHtcbiAgICAgICAgICAgIHNiLnB1c2gobmV4dCk7XG4gICAgICAgICAgICBjYXBOZXh0ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYXBOZXh0KSB7XG4gICAgICAgICAgICBzYi5wdXNoKG5leHQudG9VcHBlckNhc2UoKSk7XG4gICAgICAgICAgICBjYXBOZXh0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaSA9PSAwKSB7XG4gICAgICAgICAgICBzYi5wdXNoKG5leHQudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzYi5wdXNoKG5leHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzYi5qb2luKCcnKTtcbn1cbiIsImltcG9ydCB7IGxvd2VyQ2FtZWxDYXNlIH0gZnJvbSBcIi4vbG93ZXItY2FtZWwtY2FzZVwiO1xuLyoqXG4gKiBTY2FsYXIgdmFsdWUgdHlwZXMuIFRoaXMgaXMgYSBzdWJzZXQgb2YgZmllbGQgdHlwZXMgZGVjbGFyZWQgYnkgcHJvdG9idWZcbiAqIGVudW0gZ29vZ2xlLnByb3RvYnVmLkZpZWxkRGVzY3JpcHRvclByb3RvLlR5cGUgVGhlIHR5cGVzIEdST1VQIGFuZCBNRVNTQUdFXG4gKiBhcmUgb21pdHRlZCwgYnV0IHRoZSBudW1lcmljYWwgdmFsdWVzIGFyZSBpZGVudGljYWwuXG4gKi9cbmV4cG9ydCB2YXIgU2NhbGFyVHlwZTtcbihmdW5jdGlvbiAoU2NhbGFyVHlwZSkge1xuICAgIC8vIDAgaXMgcmVzZXJ2ZWQgZm9yIGVycm9ycy5cbiAgICAvLyBPcmRlciBpcyB3ZWlyZCBmb3IgaGlzdG9yaWNhbCByZWFzb25zLlxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIkRPVUJMRVwiXSA9IDFdID0gXCJET1VCTEVcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJGTE9BVFwiXSA9IDJdID0gXCJGTE9BVFwiO1xuICAgIC8vIE5vdCBaaWdaYWcgZW5jb2RlZC4gIE5lZ2F0aXZlIG51bWJlcnMgdGFrZSAxMCBieXRlcy4gIFVzZSBUWVBFX1NJTlQ2NCBpZlxuICAgIC8vIG5lZ2F0aXZlIHZhbHVlcyBhcmUgbGlrZWx5LlxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIklOVDY0XCJdID0gM10gPSBcIklOVDY0XCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiVUlOVDY0XCJdID0gNF0gPSBcIlVJTlQ2NFwiO1xuICAgIC8vIE5vdCBaaWdaYWcgZW5jb2RlZC4gIE5lZ2F0aXZlIG51bWJlcnMgdGFrZSAxMCBieXRlcy4gIFVzZSBUWVBFX1NJTlQzMiBpZlxuICAgIC8vIG5lZ2F0aXZlIHZhbHVlcyBhcmUgbGlrZWx5LlxuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIklOVDMyXCJdID0gNV0gPSBcIklOVDMyXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiRklYRUQ2NFwiXSA9IDZdID0gXCJGSVhFRDY0XCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiRklYRUQzMlwiXSA9IDddID0gXCJGSVhFRDMyXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiQk9PTFwiXSA9IDhdID0gXCJCT09MXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiU1RSSU5HXCJdID0gOV0gPSBcIlNUUklOR1wiO1xuICAgIC8vIFRhZy1kZWxpbWl0ZWQgYWdncmVnYXRlLlxuICAgIC8vIEdyb3VwIHR5cGUgaXMgZGVwcmVjYXRlZCBhbmQgbm90IHN1cHBvcnRlZCBpbiBwcm90bzMuIEhvd2V2ZXIsIFByb3RvM1xuICAgIC8vIGltcGxlbWVudGF0aW9ucyBzaG91bGQgc3RpbGwgYmUgYWJsZSB0byBwYXJzZSB0aGUgZ3JvdXAgd2lyZSBmb3JtYXQgYW5kXG4gICAgLy8gdHJlYXQgZ3JvdXAgZmllbGRzIGFzIHVua25vd24gZmllbGRzLlxuICAgIC8vIFRZUEVfR1JPVVAgPSAxMCxcbiAgICAvLyBUWVBFX01FU1NBR0UgPSAxMSwgIC8vIExlbmd0aC1kZWxpbWl0ZWQgYWdncmVnYXRlLlxuICAgIC8vIE5ldyBpbiB2ZXJzaW9uIDIuXG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiQllURVNcIl0gPSAxMl0gPSBcIkJZVEVTXCI7XG4gICAgU2NhbGFyVHlwZVtTY2FsYXJUeXBlW1wiVUlOVDMyXCJdID0gMTNdID0gXCJVSU5UMzJcIjtcbiAgICAvLyBUWVBFX0VOVU0gPSAxNCxcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTRklYRUQzMlwiXSA9IDE1XSA9IFwiU0ZJWEVEMzJcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTRklYRUQ2NFwiXSA9IDE2XSA9IFwiU0ZJWEVENjRcIjtcbiAgICBTY2FsYXJUeXBlW1NjYWxhclR5cGVbXCJTSU5UMzJcIl0gPSAxN10gPSBcIlNJTlQzMlwiO1xuICAgIFNjYWxhclR5cGVbU2NhbGFyVHlwZVtcIlNJTlQ2NFwiXSA9IDE4XSA9IFwiU0lOVDY0XCI7XG59KShTY2FsYXJUeXBlIHx8IChTY2FsYXJUeXBlID0ge30pKTtcbi8qKlxuICogSmF2YVNjcmlwdCByZXByZXNlbnRhdGlvbiBvZiA2NCBiaXQgaW50ZWdyYWwgdHlwZXMuIEVxdWl2YWxlbnQgdG8gdGhlXG4gKiBmaWVsZCBvcHRpb24gXCJqc3R5cGVcIi5cbiAqXG4gKiBCeSBkZWZhdWx0LCBwcm90b2J1Zi10cyByZXByZXNlbnRzIDY0IGJpdCB0eXBlcyBhcyBgYmlnaW50YC5cbiAqXG4gKiBZb3UgY2FuIGNoYW5nZSB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgYnkgZW5hYmxpbmcgdGhlIHBsdWdpbiBwYXJhbWV0ZXJcbiAqIGBsb25nX3R5cGVfc3RyaW5nYCwgd2hpY2ggd2lsbCByZXByZXNlbnQgNjQgYml0IHR5cGVzIGFzIGBzdHJpbmdgLlxuICpcbiAqIEFsdGVybmF0aXZlbHksIHlvdSBjYW4gY2hhbmdlIHRoZSBiZWhhdmlvdXIgZm9yIGluZGl2aWR1YWwgZmllbGRzXG4gKiB3aXRoIHRoZSBmaWVsZCBvcHRpb24gXCJqc3R5cGVcIjpcbiAqXG4gKiBgYGBwcm90b2J1ZlxuICogdWludDY0IG15X2ZpZWxkID0gMSBbanN0eXBlID0gSlNfU1RSSU5HXTtcbiAqIHVpbnQ2NCBvdGhlcl9maWVsZCA9IDIgW2pzdHlwZSA9IEpTX05VTUJFUl07XG4gKiBgYGBcbiAqL1xuZXhwb3J0IHZhciBMb25nVHlwZTtcbihmdW5jdGlvbiAoTG9uZ1R5cGUpIHtcbiAgICAvKipcbiAgICAgKiBVc2UgSmF2YVNjcmlwdCBgYmlnaW50YC5cbiAgICAgKlxuICAgICAqIEZpZWxkIG9wdGlvbiBgW2pzdHlwZSA9IEpTX05PUk1BTF1gLlxuICAgICAqL1xuICAgIExvbmdUeXBlW0xvbmdUeXBlW1wiQklHSU5UXCJdID0gMF0gPSBcIkJJR0lOVFwiO1xuICAgIC8qKlxuICAgICAqIFVzZSBKYXZhU2NyaXB0IGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogRmllbGQgb3B0aW9uIGBbanN0eXBlID0gSlNfU1RSSU5HXWAuXG4gICAgICovXG4gICAgTG9uZ1R5cGVbTG9uZ1R5cGVbXCJTVFJJTkdcIl0gPSAxXSA9IFwiU1RSSU5HXCI7XG4gICAgLyoqXG4gICAgICogVXNlIEphdmFTY3JpcHQgYG51bWJlcmAuXG4gICAgICpcbiAgICAgKiBMYXJnZSB2YWx1ZXMgd2lsbCBsb29zZSBwcmVjaXNpb24uXG4gICAgICpcbiAgICAgKiBGaWVsZCBvcHRpb24gYFtqc3R5cGUgPSBKU19OVU1CRVJdYC5cbiAgICAgKi9cbiAgICBMb25nVHlwZVtMb25nVHlwZVtcIk5VTUJFUlwiXSA9IDJdID0gXCJOVU1CRVJcIjtcbn0pKExvbmdUeXBlIHx8IChMb25nVHlwZSA9IHt9KSk7XG4vKipcbiAqIFByb3RvYnVmIDIuMS4wIGludHJvZHVjZWQgcGFja2VkIHJlcGVhdGVkIGZpZWxkcy5cbiAqIFNldHRpbmcgdGhlIGZpZWxkIG9wdGlvbiBgW3BhY2tlZCA9IHRydWVdYCBlbmFibGVzIHBhY2tpbmcuXG4gKlxuICogSW4gcHJvdG8zLCBhbGwgcmVwZWF0ZWQgZmllbGRzIGFyZSBwYWNrZWQgYnkgZGVmYXVsdC5cbiAqIFNldHRpbmcgdGhlIGZpZWxkIG9wdGlvbiBgW3BhY2tlZCA9IGZhbHNlXWAgZGlzYWJsZXMgcGFja2luZy5cbiAqXG4gKiBQYWNrZWQgcmVwZWF0ZWQgZmllbGRzIGFyZSBlbmNvZGVkIHdpdGggYSBzaW5nbGUgdGFnLFxuICogdGhlbiBhIGxlbmd0aC1kZWxpbWl0ZXIsIHRoZW4gdGhlIGVsZW1lbnQgdmFsdWVzLlxuICpcbiAqIFVucGFja2VkIHJlcGVhdGVkIGZpZWxkcyBhcmUgZW5jb2RlZCB3aXRoIGEgdGFnIGFuZFxuICogdmFsdWUgZm9yIGVhY2ggZWxlbWVudC5cbiAqXG4gKiBgYnl0ZXNgIGFuZCBgc3RyaW5nYCBjYW5ub3QgYmUgcGFja2VkLlxuICovXG5leHBvcnQgdmFyIFJlcGVhdFR5cGU7XG4oZnVuY3Rpb24gKFJlcGVhdFR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgZmllbGQgaXMgbm90IHJlcGVhdGVkLlxuICAgICAqL1xuICAgIFJlcGVhdFR5cGVbUmVwZWF0VHlwZVtcIk5PXCJdID0gMF0gPSBcIk5PXCI7XG4gICAgLyoqXG4gICAgICogVGhlIGZpZWxkIGlzIHJlcGVhdGVkIGFuZCBzaG91bGQgYmUgcGFja2VkLlxuICAgICAqIEludmFsaWQgZm9yIGBieXRlc2AgYW5kIGBzdHJpbmdgLCB0aGV5IGNhbm5vdCBiZSBwYWNrZWQuXG4gICAgICovXG4gICAgUmVwZWF0VHlwZVtSZXBlYXRUeXBlW1wiUEFDS0VEXCJdID0gMV0gPSBcIlBBQ0tFRFwiO1xuICAgIC8qKlxuICAgICAqIFRoZSBmaWVsZCBpcyByZXBlYXRlZCBidXQgc2hvdWxkIG5vdCBiZSBwYWNrZWQuXG4gICAgICogVGhlIG9ubHkgdmFsaWQgcmVwZWF0IHR5cGUgZm9yIHJlcGVhdGVkIGBieXRlc2AgYW5kIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIFJlcGVhdFR5cGVbUmVwZWF0VHlwZVtcIlVOUEFDS0VEXCJdID0gMl0gPSBcIlVOUEFDS0VEXCI7XG59KShSZXBlYXRUeXBlIHx8IChSZXBlYXRUeXBlID0ge30pKTtcbi8qKlxuICogVHVybnMgUGFydGlhbEZpZWxkSW5mbyBpbnRvIEZpZWxkSW5mby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUZpZWxkSW5mbyhmaWVsZCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBmaWVsZC5sb2NhbE5hbWUgPSAoX2EgPSBmaWVsZC5sb2NhbE5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGxvd2VyQ2FtZWxDYXNlKGZpZWxkLm5hbWUpO1xuICAgIGZpZWxkLmpzb25OYW1lID0gKF9iID0gZmllbGQuanNvbk5hbWUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IGxvd2VyQ2FtZWxDYXNlKGZpZWxkLm5hbWUpO1xuICAgIGZpZWxkLnJlcGVhdCA9IChfYyA9IGZpZWxkLnJlcGVhdCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogUmVwZWF0VHlwZS5OTztcbiAgICBmaWVsZC5vcHQgPSAoX2QgPSBmaWVsZC5vcHQpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IChmaWVsZC5yZXBlYXQgPyBmYWxzZSA6IGZpZWxkLm9uZW9mID8gZmFsc2UgOiBmaWVsZC5raW5kID09IFwibWVzc2FnZVwiKTtcbiAgICByZXR1cm4gZmllbGQ7XG59XG4vKipcbiAqIFJlYWQgY3VzdG9tIGZpZWxkIG9wdGlvbnMgZnJvbSBhIGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUuXG4gKlxuICogQGRlcHJlY2F0ZWQgdXNlIHJlYWRGaWVsZE9wdGlvbigpXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkRmllbGRPcHRpb25zKG1lc3NhZ2VUeXBlLCBmaWVsZE5hbWUsIGV4dGVuc2lvbk5hbWUsIGV4dGVuc2lvblR5cGUpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgb3B0aW9ucyA9IChfYSA9IG1lc3NhZ2VUeXBlLmZpZWxkcy5maW5kKChtLCBpKSA9PiBtLmxvY2FsTmFtZSA9PSBmaWVsZE5hbWUgfHwgaSA9PSBmaWVsZE5hbWUpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3B0aW9ucztcbiAgICByZXR1cm4gb3B0aW9ucyAmJiBvcHRpb25zW2V4dGVuc2lvbk5hbWVdID8gZXh0ZW5zaW9uVHlwZS5mcm9tSnNvbihvcHRpb25zW2V4dGVuc2lvbk5hbWVdKSA6IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWFkRmllbGRPcHRpb24obWVzc2FnZVR5cGUsIGZpZWxkTmFtZSwgZXh0ZW5zaW9uTmFtZSwgZXh0ZW5zaW9uVHlwZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBvcHRpb25zID0gKF9hID0gbWVzc2FnZVR5cGUuZmllbGRzLmZpbmQoKG0sIGkpID0+IG0ubG9jYWxOYW1lID09IGZpZWxkTmFtZSB8fCBpID09IGZpZWxkTmFtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcHRpb25zO1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25WYWwgPSBvcHRpb25zW2V4dGVuc2lvbk5hbWVdO1xuICAgIGlmIChvcHRpb25WYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gb3B0aW9uVmFsO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5zaW9uVHlwZSA/IGV4dGVuc2lvblR5cGUuZnJvbUpzb24ob3B0aW9uVmFsKSA6IG9wdGlvblZhbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWFkTWVzc2FnZU9wdGlvbihtZXNzYWdlVHlwZSwgZXh0ZW5zaW9uTmFtZSwgZXh0ZW5zaW9uVHlwZSkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSBtZXNzYWdlVHlwZS5vcHRpb25zO1xuICAgIGNvbnN0IG9wdGlvblZhbCA9IG9wdGlvbnNbZXh0ZW5zaW9uTmFtZV07XG4gICAgaWYgKG9wdGlvblZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25WYWw7XG4gICAgfVxuICAgIHJldHVybiBleHRlbnNpb25UeXBlID8gZXh0ZW5zaW9uVHlwZS5mcm9tSnNvbihvcHRpb25WYWwpIDogb3B0aW9uVmFsO1xufVxuIiwiLyoqXG4gKiBJcyB0aGUgZ2l2ZW4gdmFsdWUgYSB2YWxpZCBvbmVvZiBncm91cD9cbiAqXG4gKiBXZSByZXByZXNlbnQgcHJvdG9idWYgYG9uZW9mYCBhcyBhbGdlYnJhaWMgZGF0YSB0eXBlcyAoQURUKSBpbiBnZW5lcmF0ZWRcbiAqIGNvZGUuIEJ1dCB3aGVuIHdvcmtpbmcgd2l0aCBtZXNzYWdlcyBvZiB1bmtub3duIHR5cGUsIHRoZSBBRFQgZG9lcyBub3RcbiAqIGhlbHAgdXMuXG4gKlxuICogVGhpcyB0eXBlIGd1YXJkIGNoZWNrcyBpZiB0aGUgZ2l2ZW4gb2JqZWN0IGFkaGVyZXMgdG8gdGhlIEFEVCBydWxlcywgd2hpY2hcbiAqIGFyZSBhcyBmb2xsb3dzOlxuICpcbiAqIDEpIE11c3QgYmUgYW4gb2JqZWN0LlxuICpcbiAqIDIpIE11c3QgaGF2ZSBhIFwib25lb2ZLaW5kXCIgZGlzY3JpbWluYXRvciBwcm9wZXJ0eS5cbiAqXG4gKiAzKSBJZiBcIm9uZW9mS2luZFwiIGlzIGB1bmRlZmluZWRgLCBubyBtZW1iZXIgZmllbGQgaXMgc2VsZWN0ZWQuIFRoZSBvYmplY3RcbiAqIG11c3Qgbm90IGhhdmUgYW55IG90aGVyIHByb3BlcnRpZXMuXG4gKlxuICogNCkgSWYgXCJvbmVvZktpbmRcIiBpcyBhIGBzdHJpbmdgLCB0aGUgbWVtYmVyIGZpZWxkIHdpdGggdGhpcyBuYW1lIGlzXG4gKiBzZWxlY3RlZC5cbiAqXG4gKiA1KSBJZiBhIG1lbWJlciBmaWVsZCBpcyBzZWxlY3RlZCwgdGhlIG9iamVjdCBtdXN0IGhhdmUgYSBzZWNvbmQgcHJvcGVydHlcbiAqIHdpdGggdGhpcyBuYW1lLiBUaGUgcHJvcGVydHkgbXVzdCBub3QgYmUgYHVuZGVmaW5lZGAuXG4gKlxuICogNikgTm8gZXh0cmEgcHJvcGVydGllcyBhcmUgYWxsb3dlZC4gVGhlIG9iamVjdCBoYXMgZWl0aGVyIG9uZSBwcm9wZXJ0eVxuICogKG5vIHNlbGVjdGlvbikgb3IgdHdvIHByb3BlcnRpZXMgKHNlbGVjdGlvbikuXG4gKlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPbmVvZkdyb3VwKGFueSkge1xuICAgIGlmICh0eXBlb2YgYW55ICE9ICdvYmplY3QnIHx8IGFueSA9PT0gbnVsbCB8fCAhYW55Lmhhc093blByb3BlcnR5KCdvbmVvZktpbmQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZW9mIGFueS5vbmVvZktpbmQpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgaWYgKGFueVthbnkub25lb2ZLaW5kXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhhbnkpLmxlbmd0aCA9PSAyO1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYW55KS5sZW5ndGggPT0gMTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBmaWVsZCBpbiBhIG9uZW9mIGdyb3VwLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0T25lb2ZWYWx1ZShvbmVvZiwga2luZCkge1xuICAgIHJldHVybiBvbmVvZltraW5kXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRPbmVvZlZhbHVlKG9uZW9mLCBraW5kLCB2YWx1ZSkge1xuICAgIGlmIChvbmVvZi5vbmVvZktpbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWxldGUgb25lb2Zbb25lb2Yub25lb2ZLaW5kXTtcbiAgICB9XG4gICAgb25lb2Yub25lb2ZLaW5kID0ga2luZDtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvbmVvZltraW5kXSA9IHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRVbmtub3duT25lb2ZWYWx1ZShvbmVvZiwga2luZCwgdmFsdWUpIHtcbiAgICBpZiAob25lb2Yub25lb2ZLaW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVsZXRlIG9uZW9mW29uZW9mLm9uZW9mS2luZF07XG4gICAgfVxuICAgIG9uZW9mLm9uZW9mS2luZCA9IGtpbmQ7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYga2luZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9uZW9mW2tpbmRdID0gdmFsdWU7XG4gICAgfVxufVxuLyoqXG4gKiBSZW1vdmVzIHRoZSBzZWxlY3RlZCBmaWVsZCBpbiBhIG9uZW9mIGdyb3VwLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIG1vZGlmeSBhIG9uZW9mIGdyb3VwIGlzIHRvIHNldFxuICogYSBuZXcgb2JqZWN0OlxuICpcbiAqIGBgYHRzXG4gKiBtZXNzYWdlLnJlc3VsdCA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJPbmVvZlZhbHVlKG9uZW9mKSB7XG4gICAgaWYgKG9uZW9mLm9uZW9mS2luZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGRlbGV0ZSBvbmVvZltvbmVvZi5vbmVvZktpbmRdO1xuICAgIH1cbiAgICBvbmVvZi5vbmVvZktpbmQgPSB1bmRlZmluZWQ7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHNlbGVjdGVkIHZhbHVlIG9mIHRoZSBnaXZlbiBvbmVvZiBncm91cC5cbiAqXG4gKiBOb3QgdGhhdCB0aGUgcmVjb21tZW5kZWQgd2F5IHRvIGFjY2VzcyBhIG9uZW9mIGdyb3VwIGlzIHRvIGNoZWNrXG4gKiB0aGUgXCJvbmVvZktpbmRcIiBwcm9wZXJ0eSBhbmQgbGV0IFR5cGVTY3JpcHQgbmFycm93IGRvd24gdGhlIHVuaW9uXG4gKiB0eXBlIGZvciB5b3U6XG4gKlxuICogYGBgdHNcbiAqIGlmIChtZXNzYWdlLnJlc3VsdC5vbmVvZktpbmQgPT09IFwiZXJyb3JcIikge1xuICogICBtZXNzYWdlLnJlc3VsdC5lcnJvcjsgLy8gc3RyaW5nXG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBJbiB0aGUgcmFyZSBjYXNlIHlvdSBqdXN0IG5lZWQgdGhlIHZhbHVlLCBhbmQgZG8gbm90IGNhcmUgYWJvdXRcbiAqIHdoaWNoIHByb3RvYnVmIGZpZWxkIGlzIHNlbGVjdGVkLCB5b3UgY2FuIHVzZSB0aGlzIGZ1bmN0aW9uXG4gKiBmb3IgY29udmVuaWVuY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3RlZE9uZW9mVmFsdWUob25lb2YpIHtcbiAgICBpZiAob25lb2Yub25lb2ZLaW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIG9uZW9mW29uZW9mLm9uZW9mS2luZF07XG59XG4iLCJpbXBvcnQgeyBMb25nVHlwZSwgU2NhbGFyVHlwZSB9IGZyb20gXCIuL3JlZmxlY3Rpb24taW5mb1wiO1xuaW1wb3J0IHsgaXNPbmVvZkdyb3VwIH0gZnJvbSBcIi4vb25lb2ZcIjtcbi8vIG5vaW5zcGVjdGlvbiBKU01ldGhvZENhbkJlU3RhdGljXG5leHBvcnQgY2xhc3MgUmVmbGVjdGlvblR5cGVDaGVjayB7XG4gICAgY29uc3RydWN0b3IoaW5mbykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZmllbGRzID0gKF9hID0gaW5mby5maWVsZHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAodGhpcy5kYXRhKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCByZXEgPSBbXSwga25vd24gPSBbXSwgb25lb2ZzID0gW107XG4gICAgICAgIGZvciAobGV0IGZpZWxkIG9mIHRoaXMuZmllbGRzKSB7XG4gICAgICAgICAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW9uZW9mcy5pbmNsdWRlcyhmaWVsZC5vbmVvZikpIHtcbiAgICAgICAgICAgICAgICAgICAgb25lb2ZzLnB1c2goZmllbGQub25lb2YpO1xuICAgICAgICAgICAgICAgICAgICByZXEucHVzaChmaWVsZC5vbmVvZik7XG4gICAgICAgICAgICAgICAgICAgIGtub3duLnB1c2goZmllbGQub25lb2YpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGtub3duLnB1c2goZmllbGQubG9jYWxOYW1lKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWVsZC5vcHQgfHwgZmllbGQucmVwZWF0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5wdXNoKGZpZWxkLmxvY2FsTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5yZXBlYXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnB1c2goZmllbGQubG9jYWxOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXEucHVzaChmaWVsZC5sb2NhbE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YSA9IHsgcmVxLCBrbm93biwgb25lb2ZzOiBPYmplY3QudmFsdWVzKG9uZW9mcykgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhlIGFyZ3VtZW50IGEgdmFsaWQgbWVzc2FnZSBhcyBzcGVjaWZpZWQgYnkgdGhlXG4gICAgICogcmVmbGVjdGlvbiBpbmZvcm1hdGlvbj9cbiAgICAgKlxuICAgICAqIENoZWNrcyBhbGwgZmllbGQgdHlwZXMgcmVjdXJzaXZlbHkuIFRoZSBgZGVwdGhgXG4gICAgICogc3BlY2lmaWVzIGhvdyBkZWVwIGludG8gdGhlIHN0cnVjdHVyZSB0aGUgY2hlY2sgd2lsbCBiZS5cbiAgICAgKlxuICAgICAqIFdpdGggYSBkZXB0aCBvZiAwLCBvbmx5IHRoZSBwcmVzZW5jZSBvZiBmaWVsZHNcbiAgICAgKiBpcyBjaGVja2VkLlxuICAgICAqXG4gICAgICogV2l0aCBhIGRlcHRoIG9mIDEgb3IgbW9yZSwgdGhlIGZpZWxkIHR5cGVzIGFyZSBjaGVja2VkLlxuICAgICAqXG4gICAgICogV2l0aCBhIGRlcHRoIG9mIDIgb3IgbW9yZSwgdGhlIG1lbWJlcnMgb2YgbWFwLCByZXBlYXRlZFxuICAgICAqIGFuZCBtZXNzYWdlIGZpZWxkcyBhcmUgY2hlY2tlZC5cbiAgICAgKlxuICAgICAqIE1lc3NhZ2UgZmllbGRzIHdpbGwgYmUgY2hlY2tlZCByZWN1cnNpdmVseSB3aXRoIGRlcHRoIC0gMS5cbiAgICAgKlxuICAgICAqIFRoZSBudW1iZXIgb2YgbWFwIGVudHJpZXMgLyByZXBlYXRlZCB2YWx1ZXMgYmVpbmcgY2hlY2tlZFxuICAgICAqIGlzIDwgZGVwdGguXG4gICAgICovXG4gICAgaXMobWVzc2FnZSwgZGVwdGgsIGFsbG93RXhjZXNzUHJvcGVydGllcyA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChkZXB0aCA8IDApXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IG51bGwgfHwgbWVzc2FnZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBtZXNzYWdlICE9ICdvYmplY3QnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnByZXBhcmUoKTtcbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhtZXNzYWdlKSwgZGF0YSA9IHRoaXMuZGF0YTtcbiAgICAgICAgLy8gaWYgYSByZXF1aXJlZCBmaWVsZCBpcyBtaXNzaW5nIGluIGFyZywgdGhpcyBjYW5ub3QgYmUgYSBUXG4gICAgICAgIGlmIChrZXlzLmxlbmd0aCA8IGRhdGEucmVxLmxlbmd0aCB8fCBkYXRhLnJlcS5zb21lKG4gPT4gIWtleXMuaW5jbHVkZXMobikpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWFsbG93RXhjZXNzUHJvcGVydGllcykge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGFyZyBjb250YWlucyBhIGtleSB3ZSBkb250IGtub3csIHRoaXMgaXMgbm90IGEgbGl0ZXJhbCBUXG4gICAgICAgICAgICBpZiAoa2V5cy5zb21lKGsgPT4gIWRhdGEua25vd24uaW5jbHVkZXMoaykpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBcIldpdGggYSBkZXB0aCBvZiAwLCBvbmx5IHRoZSBwcmVzZW5jZSBhbmQgYWJzZW5jZSBvZiBmaWVsZHMgaXMgY2hlY2tlZC5cIlxuICAgICAgICAvLyBcIldpdGggYSBkZXB0aCBvZiAxIG9yIG1vcmUsIHRoZSBmaWVsZCB0eXBlcyBhcmUgY2hlY2tlZC5cIlxuICAgICAgICBpZiAoZGVwdGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjaGVjayBvbmVvZiBncm91cFxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgZGF0YS5vbmVvZnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gbWVzc2FnZVtuYW1lXTtcbiAgICAgICAgICAgIGlmICghaXNPbmVvZkdyb3VwKGdyb3VwKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoZ3JvdXAub25lb2ZLaW5kID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBmaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoZiA9PiBmLmxvY2FsTmFtZSA9PT0gZ3JvdXAub25lb2ZLaW5kKTtcbiAgICAgICAgICAgIGlmICghZmllbGQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyB3ZSBmb3VuZCBubyBmaWVsZCwgYnV0IGhhdmUgYSBraW5kLCBzb21ldGhpbmcgaXMgd3JvbmdcbiAgICAgICAgICAgIGlmICghdGhpcy5maWVsZChncm91cFtncm91cC5vbmVvZktpbmRdLCBmaWVsZCwgYWxsb3dFeGNlc3NQcm9wZXJ0aWVzLCBkZXB0aCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIHR5cGVzXG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIGlmIChmaWVsZC5vbmVvZiAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZpZWxkKG1lc3NhZ2VbZmllbGQubG9jYWxOYW1lXSwgZmllbGQsIGFsbG93RXhjZXNzUHJvcGVydGllcywgZGVwdGgpKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZmllbGQoYXJnLCBmaWVsZCwgYWxsb3dFeGNlc3NQcm9wZXJ0aWVzLCBkZXB0aCkge1xuICAgICAgICBsZXQgcmVwZWF0ZWQgPSBmaWVsZC5yZXBlYXQ7XG4gICAgICAgIHN3aXRjaCAoZmllbGQua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkLm9wdDtcbiAgICAgICAgICAgICAgICBpZiAocmVwZWF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxhcnMoYXJnLCBmaWVsZC5ULCBkZXB0aCwgZmllbGQuTCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGFyKGFyZywgZmllbGQuVCwgZmllbGQuTCk7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkLm9wdDtcbiAgICAgICAgICAgICAgICBpZiAocmVwZWF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxhcnMoYXJnLCBTY2FsYXJUeXBlLklOVDMyLCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGFyKGFyZywgU2NhbGFyVHlwZS5JTlQzMik7XG4gICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKHJlcGVhdGVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhhcmcsIGZpZWxkLlQoKSwgYWxsb3dFeGNlc3NQcm9wZXJ0aWVzLCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZShhcmcsIGZpZWxkLlQoKSwgYWxsb3dFeGNlc3NQcm9wZXJ0aWVzLCBkZXB0aCk7XG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmcgIT0gJ29iamVjdCcgfHwgYXJnID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGRlcHRoIDwgMilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1hcEtleXMoYXJnLCBmaWVsZC5LLCBkZXB0aCkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLlYua2luZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsYXJzKE9iamVjdC52YWx1ZXMoYXJnKSwgZmllbGQuVi5ULCBkZXB0aCwgZmllbGQuVi5MKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxhcnMoT2JqZWN0LnZhbHVlcyhhcmcpLCBTY2FsYXJUeXBlLklOVDMyLCBkZXB0aCk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlcyhPYmplY3QudmFsdWVzKGFyZyksIGZpZWxkLlYuVCgpLCBhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMsIGRlcHRoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIG1lc3NhZ2UoYXJnLCB0eXBlLCBhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMsIGRlcHRoKSB7XG4gICAgICAgIGlmIChhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlLmlzQXNzaWduYWJsZShhcmcsIGRlcHRoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHlwZS5pcyhhcmcsIGRlcHRoKTtcbiAgICB9XG4gICAgbWVzc2FnZXMoYXJnLCB0eXBlLCBhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMsIGRlcHRoKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmcpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoZGVwdGggPCAyKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChhbGxvd0V4Y2Vzc1Byb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJnLmxlbmd0aCAmJiBpIDwgZGVwdGg7IGkrKylcbiAgICAgICAgICAgICAgICBpZiAoIXR5cGUuaXNBc3NpZ25hYmxlKGFyZ1tpXSwgZGVwdGggLSAxKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmcubGVuZ3RoICYmIGkgPCBkZXB0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmICghdHlwZS5pcyhhcmdbaV0sIGRlcHRoIC0gMSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2NhbGFyKGFyZywgdHlwZSwgbG9uZ1R5cGUpIHtcbiAgICAgICAgbGV0IGFyZ1R5cGUgPSB0eXBlb2YgYXJnO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQ2NDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICAgICAgc3dpdGNoIChsb25nVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIExvbmdUeXBlLkJJR0lOVDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmdUeXBlID09IFwiYmlnaW50XCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgTG9uZ1R5cGUuTlVNQkVSOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZ1R5cGUgPT0gXCJudW1iZXJcIiAmJiAhaXNOYU4oYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmdUeXBlID09IFwic3RyaW5nXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ1R5cGUgPT0gJ2Jvb2xlYW4nO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnVHlwZSA9PSAnc3RyaW5nJztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgVWludDhBcnJheTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyZ1R5cGUgPT0gJ251bWJlcicgJiYgIWlzTmFOKGFyZyk7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICAgICAgICAgIC8vIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgICAgIHJldHVybiBhcmdUeXBlID09ICdudW1iZXInICYmIE51bWJlci5pc0ludGVnZXIoYXJnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzY2FsYXJzKGFyZywgdHlwZSwgZGVwdGgsIGxvbmdUeXBlKSB7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShhcmcpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoZGVwdGggPCAyKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZy5sZW5ndGggJiYgaSA8IGRlcHRoOyBpKyspXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNjYWxhcihhcmdbaV0sIHR5cGUsIGxvbmdUeXBlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbWFwS2V5cyhtYXAsIHR5cGUsIGRlcHRoKSB7XG4gICAgICAgIGxldCBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNjYWxhcnMoa2V5cy5zbGljZSgwLCBkZXB0aCkubWFwKGsgPT4gcGFyc2VJbnQoaykpLCB0eXBlLCBkZXB0aCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsYXJzKGtleXMuc2xpY2UoMCwgZGVwdGgpLm1hcChrID0+IGsgPT0gJ3RydWUnID8gdHJ1ZSA6IGsgPT0gJ2ZhbHNlJyA/IGZhbHNlIDogayksIHR5cGUsIGRlcHRoKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGFycyhrZXlzLCB0eXBlLCBkZXB0aCwgTG9uZ1R5cGUuU1RSSU5HKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IExvbmdUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG4vKipcbiAqIFV0aWxpdHkgbWV0aG9kIHRvIGNvbnZlcnQgYSBQYkxvbmcgb3IgUGJVbG9uZyB0byBhIEphdmFTY3JpcHRcbiAqIHJlcHJlc2VudGF0aW9uIGR1cmluZyBydW50aW1lLlxuICpcbiAqIFdvcmtzIHdpdGggZ2VuZXJhdGVkIGZpZWxkIGluZm9ybWF0aW9uLCBgdW5kZWZpbmVkYCBpcyBlcXVpdmFsZW50XG4gKiB0byBgU1RSSU5HYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZmxlY3Rpb25Mb25nQ29udmVydChsb25nLCB0eXBlKSB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgTG9uZ1R5cGUuQklHSU5UOlxuICAgICAgICAgICAgcmV0dXJuIGxvbmcudG9CaWdJbnQoKTtcbiAgICAgICAgY2FzZSBMb25nVHlwZS5OVU1CRVI6XG4gICAgICAgICAgICByZXR1cm4gbG9uZy50b051bWJlcigpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgICAgICAvLyBjYXNlIExvbmdUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBsb25nLnRvU3RyaW5nKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaXNKc29uT2JqZWN0LCB0eXBlb2ZKc29uVmFsdWUgfSBmcm9tIFwiLi9qc29uLXR5cGluZ3NcIjtcbmltcG9ydCB7IGJhc2U2NGRlY29kZSB9IGZyb20gXCIuL2Jhc2U2NFwiO1xuaW1wb3J0IHsgTG9uZ1R5cGUsIFNjYWxhclR5cGUgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWluZm9cIjtcbmltcG9ydCB7IFBiTG9uZywgUGJVTG9uZyB9IGZyb20gXCIuL3BiLWxvbmdcIjtcbmltcG9ydCB7IGFzc2VydCwgYXNzZXJ0RmxvYXQzMiwgYXNzZXJ0SW50MzIsIGFzc2VydFVJbnQzMiB9IGZyb20gXCIuL2Fzc2VydFwiO1xuaW1wb3J0IHsgcmVmbGVjdGlvbkxvbmdDb252ZXJ0IH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1sb25nLWNvbnZlcnRcIjtcbi8qKlxuICogUmVhZHMgcHJvdG8zIG1lc3NhZ2VzIGluIGNhbm9uaWNhbCBKU09OIGZvcm1hdCB1c2luZyByZWZsZWN0aW9uIGluZm9ybWF0aW9uLlxuICpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9wcm90bzMjanNvblxuICovXG5leHBvcnQgY2xhc3MgUmVmbGVjdGlvbkpzb25SZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGluZm8pIHtcbiAgICAgICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICB9XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5mTWFwID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZk1hcCA9IHt9O1xuICAgICAgICAgICAgY29uc3QgZmllbGRzSW5wdXQgPSAoX2EgPSB0aGlzLmluZm8uZmllbGRzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgZmllbGRzSW5wdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZNYXBbZmllbGQubmFtZV0gPSBmaWVsZDtcbiAgICAgICAgICAgICAgICB0aGlzLmZNYXBbZmllbGQuanNvbk5hbWVdID0gZmllbGQ7XG4gICAgICAgICAgICAgICAgdGhpcy5mTWFwW2ZpZWxkLmxvY2FsTmFtZV0gPSBmaWVsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBDYW5ub3QgcGFyc2UgSlNPTiA8dHlwZSBvZiBqc29uVmFsdWU+IGZvciA8dHlwZSBuYW1lPiM8ZmllbGROYW1lPi5cbiAgICBhc3NlcnQoY29uZGl0aW9uLCBmaWVsZE5hbWUsIGpzb25WYWx1ZSkge1xuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAgICAgbGV0IHdoYXQgPSB0eXBlb2ZKc29uVmFsdWUoanNvblZhbHVlKTtcbiAgICAgICAgICAgIGlmICh3aGF0ID09IFwibnVtYmVyXCIgfHwgd2hhdCA9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgICAgICB3aGF0ID0ganNvblZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbm5vdCBwYXJzZSBKU09OICR7d2hhdH0gZm9yICR7dGhpcy5pbmZvLnR5cGVOYW1lfSMke2ZpZWxkTmFtZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhIG1lc3NhZ2UgZnJvbSBjYW5vbmljYWwgSlNPTiBmb3JtYXQgaW50byB0aGUgdGFyZ2V0IG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBSZXBlYXRlZCBmaWVsZHMgYXJlIGFwcGVuZGVkLiBNYXAgZW50cmllcyBhcmUgYWRkZWQsIG92ZXJ3cml0aW5nXG4gICAgICogZXhpc3Rpbmcga2V5cy5cbiAgICAgKlxuICAgICAqIElmIGEgbWVzc2FnZSBmaWVsZCBpcyBhbHJlYWR5IHByZXNlbnQsIGl0IHdpbGwgYmUgbWVyZ2VkIHdpdGggdGhlXG4gICAgICogbmV3IGRhdGEuXG4gICAgICovXG4gICAgcmVhZChpbnB1dCwgbWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnByZXBhcmUoKTtcbiAgICAgICAgY29uc3Qgb25lb2ZzSGFuZGxlZCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IFtqc29uS2V5LCBqc29uVmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGlucHV0KSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSB0aGlzLmZNYXBbanNvbktleV07XG4gICAgICAgICAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLmlnbm9yZVVua25vd25GaWVsZHMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRm91bmQgdW5rbm93biBmaWVsZCB3aGlsZSByZWFkaW5nICR7dGhpcy5pbmZvLnR5cGVOYW1lfSBmcm9tIEpTT04gZm9ybWF0LiBKU09OIGtleTogJHtqc29uS2V5fWApO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbG9jYWxOYW1lID0gZmllbGQubG9jYWxOYW1lO1xuICAgICAgICAgICAgLy8gaGFuZGxlIG9uZW9mIEFEVFxuICAgICAgICAgICAgbGV0IHRhcmdldDsgLy8gdGhpcyB3aWxsIGJlIHRoZSB0YXJnZXQgZm9yIHRoZSBmaWVsZCB2YWx1ZSwgd2hldGhlciBpdCBpcyBtZW1iZXIgb2YgYSBvbmVvZiBvciBub3RcbiAgICAgICAgICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICAgICAgICAgIGlmIChqc29uVmFsdWUgPT09IG51bGwgJiYgKGZpZWxkLmtpbmQgIT09ICdlbnVtJyB8fCBmaWVsZC5UKClbMF0gIT09ICdnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHNpbmNlIGpzb24gb2JqZWN0cyBhcmUgdW5vcmRlcmVkIGJ5IHNwZWNpZmljYXRpb24sIGl0IGlzIG5vdCBwb3NzaWJsZSB0byB0YWtlIHRoZSBsYXN0IG9mIG11bHRpcGxlIG9uZW9mc1xuICAgICAgICAgICAgICAgIGlmIChvbmVvZnNIYW5kbGVkLmluY2x1ZGVzKGZpZWxkLm9uZW9mKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNdWx0aXBsZSBtZW1iZXJzIG9mIHRoZSBvbmVvZiBncm91cCBcIiR7ZmllbGQub25lb2Z9XCIgb2YgJHt0aGlzLmluZm8udHlwZU5hbWV9IGFyZSBwcmVzZW50IGluIEpTT04uYCk7XG4gICAgICAgICAgICAgICAgb25lb2ZzSGFuZGxlZC5wdXNoKGZpZWxkLm9uZW9mKTtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBtZXNzYWdlW2ZpZWxkLm9uZW9mXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgb25lb2ZLaW5kOiBsb2NhbE5hbWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHdlIGhhdmUgaGFuZGxlZCBvbmVvZiBhYm92ZS4gd2UganVzdCBoYXZlIHJlYWQgdGhlIHZhbHVlIGludG8gYHRhcmdldGAuXG4gICAgICAgICAgICBpZiAoZmllbGQua2luZCA9PSAnbWFwJykge1xuICAgICAgICAgICAgICAgIGlmIChqc29uVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlucHV0XG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnQoaXNKc29uT2JqZWN0KGpzb25WYWx1ZSksIGZpZWxkLm5hbWUsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gb3VyIHRhcmdldCB0byBwdXQgbWFwIGVudHJpZXMgaW50b1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkT2JqID0gdGFyZ2V0W2xvY2FsTmFtZV07XG4gICAgICAgICAgICAgICAgLy8gcmVhZCBlbnRyaWVzXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbanNvbk9iaktleSwganNvbk9ialZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhqc29uVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0KGpzb25PYmpWYWx1ZSAhPT0gbnVsbCwgZmllbGQubmFtZSArIFwiIG1hcCB2YWx1ZVwiLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVhZCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBsZXQgdmFsO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLlYua2luZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBmaWVsZC5WLlQoKS5pbnRlcm5hbEpzb25SZWFkKGpzb25PYmpWYWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuZW51bShmaWVsZC5WLlQoKSwganNvbk9ialZhbHVlLCBmaWVsZC5uYW1lLCBvcHRpb25zLmlnbm9yZVVua25vd25GaWVsZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLnNjYWxhcihqc29uT2JqVmFsdWUsIGZpZWxkLlYuVCwgZmllbGQuVi5MLCBmaWVsZC5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VydCh2YWwgIT09IHVuZGVmaW5lZCwgZmllbGQubmFtZSArIFwiIG1hcCB2YWx1ZVwiLCBqc29uT2JqVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyByZWFkIGtleVxuICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0ganNvbk9iaktleTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLksgPT0gU2NhbGFyVHlwZS5CT09MKVxuICAgICAgICAgICAgICAgICAgICAgICAga2V5ID0ga2V5ID09IFwidHJ1ZVwiID8gdHJ1ZSA6IGtleSA9PSBcImZhbHNlXCIgPyBmYWxzZSA6IGtleTtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gdGhpcy5zY2FsYXIoa2V5LCBmaWVsZC5LLCBMb25nVHlwZS5TVFJJTkcsIGZpZWxkLm5hbWUpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkT2JqW2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZmllbGQucmVwZWF0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaW5wdXRcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydChBcnJheS5pc0FycmF5KGpzb25WYWx1ZSksIGZpZWxkLm5hbWUsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gb3VyIHRhcmdldCB0byBwdXQgYXJyYXkgZW50cmllcyBpbnRvXG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGRBcnIgPSB0YXJnZXRbbG9jYWxOYW1lXTtcbiAgICAgICAgICAgICAgICAvLyByZWFkIGFycmF5IGVudHJpZXNcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGpzb25JdGVtIG9mIGpzb25WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VydChqc29uSXRlbSAhPT0gbnVsbCwgZmllbGQubmFtZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB2YWw7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZmllbGQua2luZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSBmaWVsZC5UKCkuaW50ZXJuYWxKc29uUmVhZChqc29uSXRlbSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuZW51bShmaWVsZC5UKCksIGpzb25JdGVtLCBmaWVsZC5uYW1lLCBvcHRpb25zLmlnbm9yZVVua25vd25GaWVsZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLnNjYWxhcihqc29uSXRlbSwgZmllbGQuVCwgZmllbGQuTCwgZmllbGQubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlcnQodmFsICE9PSB1bmRlZmluZWQsIGZpZWxkLm5hbWUsIGpzb25WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkQXJyLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uVmFsdWUgPT09IG51bGwgJiYgZmllbGQuVCgpLnR5cGVOYW1lICE9ICdnb29nbGUucHJvdG9idWYuVmFsdWUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlcnQoZmllbGQub25lb2YgPT09IHVuZGVmaW5lZCwgZmllbGQubmFtZSArIFwiIChvbmVvZiBtZW1iZXIpXCIsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2xvY2FsTmFtZV0gPSBmaWVsZC5UKCkuaW50ZXJuYWxKc29uUmVhZChqc29uVmFsdWUsIG9wdGlvbnMsIHRhcmdldFtsb2NhbE5hbWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWwgPSB0aGlzLmVudW0oZmllbGQuVCgpLCBqc29uVmFsdWUsIGZpZWxkLm5hbWUsIG9wdGlvbnMuaWdub3JlVW5rbm93bkZpZWxkcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtsb2NhbE5hbWVdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uVmFsdWUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRbbG9jYWxOYW1lXSA9IHRoaXMuc2NhbGFyKGpzb25WYWx1ZSwgZmllbGQuVCwgZmllbGQuTCwgZmllbGQubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgZmFsc2VgIGZvciB1bnJlY29nbml6ZWQgc3RyaW5nIHJlcHJlc2VudGF0aW9ucy5cbiAgICAgKlxuICAgICAqIGdvb2dsZS5wcm90b2J1Zi5OdWxsVmFsdWUgYWNjZXB0cyBvbmx5IEpTT04gYG51bGxgIChvciB0aGUgb2xkIGBcIk5VTExfVkFMVUVcImApLlxuICAgICAqL1xuICAgIGVudW0odHlwZSwganNvbiwgZmllbGROYW1lLCBpZ25vcmVVbmtub3duRmllbGRzKSB7XG4gICAgICAgIGlmICh0eXBlWzBdID09ICdnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlJylcbiAgICAgICAgICAgIGFzc2VydChqc29uID09PSBudWxsIHx8IGpzb24gPT09IFwiTlVMTF9WQUxVRVwiLCBgVW5hYmxlIHRvIHBhcnNlIGZpZWxkICR7dGhpcy5pbmZvLnR5cGVOYW1lfSMke2ZpZWxkTmFtZX0sIGVudW0gJHt0eXBlWzBdfSBvbmx5IGFjY2VwdHMgbnVsbC5gKTtcbiAgICAgICAgaWYgKGpzb24gPT09IG51bGwpXG4gICAgICAgICAgICAvLyB3ZSByZXF1aXJlIDAgdG8gYmUgZGVmYXVsdCB2YWx1ZSBmb3IgYWxsIGVudW1zXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YganNvbikge1xuICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIGFzc2VydChOdW1iZXIuaXNJbnRlZ2VyKGpzb24pLCBgVW5hYmxlIHRvIHBhcnNlIGZpZWxkICR7dGhpcy5pbmZvLnR5cGVOYW1lfSMke2ZpZWxkTmFtZX0sIGVudW0gY2FuIG9ubHkgYmUgaW50ZWdyYWwgbnVtYmVyLCBnb3QgJHtqc29ufS5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBsZXQgbG9jYWxFbnVtTmFtZSA9IGpzb247XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVbMl0gJiYganNvbi5zdWJzdHJpbmcoMCwgdHlwZVsyXS5sZW5ndGgpID09PSB0eXBlWzJdKVxuICAgICAgICAgICAgICAgICAgICAvLyBsb29rdXAgd2l0aG91dCB0aGUgc2hhcmVkIHByZWZpeFxuICAgICAgICAgICAgICAgICAgICBsb2NhbEVudW1OYW1lID0ganNvbi5zdWJzdHJpbmcodHlwZVsyXS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGxldCBlbnVtTnVtYmVyID0gdHlwZVsxXVtsb2NhbEVudW1OYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVudW1OdW1iZXIgPT09ICd1bmRlZmluZWQnICYmIGlnbm9yZVVua25vd25GaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhc3NlcnQodHlwZW9mIGVudW1OdW1iZXIgPT0gXCJudW1iZXJcIiwgYFVuYWJsZSB0byBwYXJzZSBmaWVsZCAke3RoaXMuaW5mby50eXBlTmFtZX0jJHtmaWVsZE5hbWV9LCBlbnVtICR7dHlwZVswXX0gaGFzIG5vIHZhbHVlIGZvciBcIiR7anNvbn1cIi5gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW51bU51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnQoZmFsc2UsIGBVbmFibGUgdG8gcGFyc2UgZmllbGQgJHt0aGlzLmluZm8udHlwZU5hbWV9IyR7ZmllbGROYW1lfSwgY2Fubm90IHBhcnNlIGVudW0gdmFsdWUgZnJvbSAke3R5cGVvZiBqc29ufVwiLmApO1xuICAgIH1cbiAgICBzY2FsYXIoanNvbiwgdHlwZSwgbG9uZ1R5cGUsIGZpZWxkTmFtZSkge1xuICAgICAgICBsZXQgZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIC8vIGZsb2F0LCBkb3VibGU6IEpTT04gdmFsdWUgd2lsbCBiZSBhIG51bWJlciBvciBvbmUgb2YgdGhlIHNwZWNpYWwgc3RyaW5nIHZhbHVlcyBcIk5hTlwiLCBcIkluZmluaXR5XCIsIGFuZCBcIi1JbmZpbml0eVwiLlxuICAgICAgICAgICAgICAgIC8vIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLiBFeHBvbmVudCBub3RhdGlvbiBpcyBhbHNvIGFjY2VwdGVkLlxuICAgICAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZMT0FUOlxuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAuMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiTmFOXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk5hTjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiSW5maW5pdHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChqc29uID09PSBcIi1JbmZpbml0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcImVtcHR5IHN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uID09IFwic3RyaW5nXCIgJiYganNvbi50cmltKCkubGVuZ3RoICE9PSBqc29uLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFwiZXh0cmEgd2hpdGVzcGFjZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uICE9IFwic3RyaW5nXCIgJiYgdHlwZW9mIGpzb24gIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGZsb2F0ID0gTnVtYmVyKGpzb24pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzTmFOKGZsb2F0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFwibm90IGEgbnVtYmVyXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShmbG9hdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluZmluaXR5IGFuZCAtaW5maW5pdHkgYXJlIGhhbmRsZWQgYnkgc3RyaW5nIHJlcHJlc2VudGF0aW9uIGFib3ZlLCBzbyB0aGlzIGlzIGFuIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gXCJ0b28gbGFyZ2Ugb3Igc21hbGxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09IFNjYWxhclR5cGUuRkxPQVQpXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRGbG9hdDMyKGZsb2F0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZsb2F0O1xuICAgICAgICAgICAgICAgIC8vIGludDMyLCBmaXhlZDMyLCB1aW50MzI6IEpTT04gdmFsdWUgd2lsbCBiZSBhIGRlY2ltYWwgbnVtYmVyLiBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGludDMyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gPT0gXCJudW1iZXJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGludDMyID0ganNvbjtcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoanNvbiA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBcImVtcHR5IHN0cmluZ1wiO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YganNvbiA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi50cmltKCkubGVuZ3RoICE9PSBqc29uLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gXCJleHRyYSB3aGl0ZXNwYWNlXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50MzIgPSBOdW1iZXIoanNvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGludDMyID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT0gU2NhbGFyVHlwZS5VSU5UMzIpXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRVSW50MzIoaW50MzIpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRJbnQzMihpbnQzMik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnQzMjtcbiAgICAgICAgICAgICAgICAvLyBpbnQ2NCwgZml4ZWQ2NCwgdWludDY0OiBKU09OIHZhbHVlIHdpbGwgYmUgYSBkZWNpbWFsIHN0cmluZy4gRWl0aGVyIG51bWJlcnMgb3Igc3RyaW5ncyBhcmUgYWNjZXB0ZWQuXG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDY0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoanNvbiA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uTG9uZ0NvbnZlcnQoUGJMb25nLlpFUk8sIGxvbmdUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uICE9IFwibnVtYmVyXCIgJiYgdHlwZW9mIGpzb24gIT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVmbGVjdGlvbkxvbmdDb252ZXJ0KFBiTG9uZy5mcm9tKGpzb24pLCBsb25nVHlwZSk7XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVmbGVjdGlvbkxvbmdDb252ZXJ0KFBiVUxvbmcuWkVSTywgbG9uZ1R5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGpzb24gIT0gXCJudW1iZXJcIiAmJiB0eXBlb2YganNvbiAhPSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uTG9uZ0NvbnZlcnQoUGJVTG9uZy5mcm9tKGpzb24pLCBsb25nVHlwZSk7XG4gICAgICAgICAgICAgICAgLy8gYm9vbDpcbiAgICAgICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YganNvbiAhPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpzb247XG4gICAgICAgICAgICAgICAgLy8gc3RyaW5nOlxuICAgICAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICAgICAgICAgIGlmIChqc29uID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YganNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFwiZXh0cmEgd2hpdGVzcGFjZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChqc29uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IFwiaW52YWxpZCBVVEY4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganNvbjtcbiAgICAgICAgICAgICAgICAvLyBieXRlczogSlNPTiB2YWx1ZSB3aWxsIGJlIHRoZSBkYXRhIGVuY29kZWQgYXMgYSBzdHJpbmcgdXNpbmcgc3RhbmRhcmQgYmFzZTY0IGVuY29kaW5nIHdpdGggcGFkZGluZ3MuXG4gICAgICAgICAgICAgICAgLy8gRWl0aGVyIHN0YW5kYXJkIG9yIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZyB3aXRoL3dpdGhvdXQgcGFkZGluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gPT09IG51bGwgfHwganNvbiA9PT0gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBqc29uICE9PSAnc3RyaW5nJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0ZGVjb2RlKGpzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hc3NlcnQoZmFsc2UsIGZpZWxkTmFtZSArIChlID8gXCIgLSBcIiArIGUgOiBcIlwiKSwganNvbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYmFzZTY0ZW5jb2RlIH0gZnJvbSBcIi4vYmFzZTY0XCI7XG5pbXBvcnQgeyBQYkxvbmcsIFBiVUxvbmcgfSBmcm9tIFwiLi9wYi1sb25nXCI7XG5pbXBvcnQgeyBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG5pbXBvcnQgeyBhc3NlcnQsIGFzc2VydEZsb2F0MzIsIGFzc2VydEludDMyLCBhc3NlcnRVSW50MzIgfSBmcm9tIFwiLi9hc3NlcnRcIjtcbi8qKlxuICogV3JpdGVzIHByb3RvMyBtZXNzYWdlcyBpbiBjYW5vbmljYWwgSlNPTiBmb3JtYXQgdXNpbmcgcmVmbGVjdGlvblxuICogaW5mb3JtYXRpb24uXG4gKlxuICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9kb2NzL3Byb3RvMyNqc29uXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWZsZWN0aW9uSnNvbldyaXRlciB7XG4gICAgY29uc3RydWN0b3IoaW5mbykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZmllbGRzID0gKF9hID0gaW5mby5maWVsZHMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgbWVzc2FnZSB0byBhIEpTT04gb2JqZWN0LCBiYXNlZCBvbiB0aGUgZmllbGQgZGVzY3JpcHRvcnMuXG4gICAgICovXG4gICAgd3JpdGUobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBqc29uID0ge30sIHNvdXJjZSA9IG1lc3NhZ2U7XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIC8vIGZpZWxkIGlzIG5vdCBwYXJ0IG9mIGEgb25lb2YsIHNpbXBseSB3cml0ZSBhcyBpc1xuICAgICAgICAgICAgaWYgKCFmaWVsZC5vbmVvZikge1xuICAgICAgICAgICAgICAgIGxldCBqc29uVmFsdWUgPSB0aGlzLmZpZWxkKGZpZWxkLCBzb3VyY2VbZmllbGQubG9jYWxOYW1lXSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25WYWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICBqc29uW29wdGlvbnMudXNlUHJvdG9GaWVsZE5hbWUgPyBmaWVsZC5uYW1lIDogZmllbGQuanNvbk5hbWVdID0ganNvblZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZmllbGQgaXMgcGFydCBvZiBhIG9uZW9mXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IHNvdXJjZVtmaWVsZC5vbmVvZl07XG4gICAgICAgICAgICBpZiAoZ3JvdXAub25lb2ZLaW5kICE9PSBmaWVsZC5sb2NhbE5hbWUpXG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIG5vdCBzZWxlY3RlZCwgc2tpcFxuICAgICAgICAgICAgY29uc3Qgb3B0ID0gZmllbGQua2luZCA9PSAnc2NhbGFyJyB8fCBmaWVsZC5raW5kID09ICdlbnVtJ1xuICAgICAgICAgICAgICAgID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKSwgeyBlbWl0RGVmYXVsdFZhbHVlczogdHJ1ZSB9KSA6IG9wdGlvbnM7XG4gICAgICAgICAgICBsZXQganNvblZhbHVlID0gdGhpcy5maWVsZChmaWVsZCwgZ3JvdXBbZmllbGQubG9jYWxOYW1lXSwgb3B0KTtcbiAgICAgICAgICAgIGFzc2VydChqc29uVmFsdWUgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBqc29uW29wdGlvbnMudXNlUHJvdG9GaWVsZE5hbWUgPyBmaWVsZC5uYW1lIDogZmllbGQuanNvbk5hbWVdID0ganNvblZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBqc29uO1xuICAgIH1cbiAgICBmaWVsZChmaWVsZCwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGpzb25WYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGZpZWxkLmtpbmQgPT0gJ21hcCcpIHtcbiAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCk7XG4gICAgICAgICAgICBjb25zdCBqc29uT2JqID0ge307XG4gICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLlYua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZW50cnlLZXksIGVudHJ5VmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5zY2FsYXIoZmllbGQuVi5ULCBlbnRyeVZhbHVlLCBmaWVsZC5uYW1lLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQodmFsICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbk9ialtlbnRyeUtleS50b1N0cmluZygpXSA9IHZhbDsgLy8gSlNPTiBzdGFuZGFyZCBhbGxvd3Mgb25seSAoZG91YmxlIHF1b3RlZCkgc3RyaW5nIGFzIHByb3BlcnR5IGtleVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VUeXBlID0gZmllbGQuVi5UKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2VudHJ5S2V5LCBlbnRyeVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHRoaXMubWVzc2FnZShtZXNzYWdlVHlwZSwgZW50cnlWYWx1ZSwgZmllbGQubmFtZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQodmFsICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbk9ialtlbnRyeUtleS50b1N0cmluZygpXSA9IHZhbDsgLy8gSlNPTiBzdGFuZGFyZCBhbGxvd3Mgb25seSAoZG91YmxlIHF1b3RlZCkgc3RyaW5nIGFzIHByb3BlcnR5IGtleVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVudW1JbmZvID0gZmllbGQuVi5UKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgW2VudHJ5S2V5LCBlbnRyeVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydChlbnRyeVZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIGVudHJ5VmFsdWUgPT0gJ251bWJlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5lbnVtKGVudW1JbmZvLCBlbnRyeVZhbHVlLCBmaWVsZC5uYW1lLCBmYWxzZSwgdHJ1ZSwgb3B0aW9ucy5lbnVtQXNJbnRlZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCh2YWwgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uT2JqW2VudHJ5S2V5LnRvU3RyaW5nKCldID0gdmFsOyAvLyBKU09OIHN0YW5kYXJkIGFsbG93cyBvbmx5IChkb3VibGUgcXVvdGVkKSBzdHJpbmcgYXMgcHJvcGVydHkga2V5XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcyB8fCBPYmplY3Qua2V5cyhqc29uT2JqKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIGpzb25WYWx1ZSA9IGpzb25PYmo7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmllbGQucmVwZWF0KSB7XG4gICAgICAgICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheSh2YWx1ZSkpO1xuICAgICAgICAgICAgY29uc3QganNvbkFyciA9IFtdO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWwgPSB0aGlzLnNjYWxhcihmaWVsZC5ULCB2YWx1ZVtpXSwgZmllbGQubmFtZSwgZmllbGQub3B0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCh2YWwgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbnVtSW5mbyA9IGZpZWxkLlQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KHZhbHVlW2ldID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHZhbHVlW2ldID09ICdudW1iZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuZW51bShlbnVtSW5mbywgdmFsdWVbaV0sIGZpZWxkLm5hbWUsIGZpZWxkLm9wdCwgdHJ1ZSwgb3B0aW9ucy5lbnVtQXNJbnRlZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydCh2YWwgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyLnB1c2godmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlVHlwZSA9IGZpZWxkLlQoKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gdGhpcy5tZXNzYWdlKG1lc3NhZ2VUeXBlLCB2YWx1ZVtpXSwgZmllbGQubmFtZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQodmFsICE9PSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAganNvbkFyci5wdXNoKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhZGQgY29udmVydGVkIGFycmF5IHRvIGpzb24gb3V0cHV0XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcyB8fCBqc29uQXJyLmxlbmd0aCA+IDAgfHwgb3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcylcbiAgICAgICAgICAgICAgICBqc29uVmFsdWUgPSBqc29uQXJyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBqc29uVmFsdWUgPSB0aGlzLnNjYWxhcihmaWVsZC5ULCB2YWx1ZSwgZmllbGQubmFtZSwgZmllbGQub3B0LCBvcHRpb25zLmVtaXREZWZhdWx0VmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAganNvblZhbHVlID0gdGhpcy5lbnVtKGZpZWxkLlQoKSwgdmFsdWUsIGZpZWxkLm5hbWUsIGZpZWxkLm9wdCwgb3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcywgb3B0aW9ucy5lbnVtQXNJbnRlZ2VyKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAganNvblZhbHVlID0gdGhpcy5tZXNzYWdlKGZpZWxkLlQoKSwgdmFsdWUsIGZpZWxkLm5hbWUsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ganNvblZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGBudWxsYCBhcyB0aGUgZGVmYXVsdCBmb3IgZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZS5cbiAgICAgKi9cbiAgICBlbnVtKHR5cGUsIHZhbHVlLCBmaWVsZE5hbWUsIG9wdGlvbmFsLCBlbWl0RGVmYXVsdFZhbHVlcywgZW51bUFzSW50ZWdlcikge1xuICAgICAgICBpZiAodHlwZVswXSA9PSAnZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZScpXG4gICAgICAgICAgICByZXR1cm4gIWVtaXREZWZhdWx0VmFsdWVzICYmICFvcHRpb25hbCA/IHVuZGVmaW5lZCA6IG51bGw7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhc3NlcnQob3B0aW9uYWwpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT09IDAgJiYgIWVtaXREZWZhdWx0VmFsdWVzICYmICFvcHRpb25hbClcbiAgICAgICAgICAgIC8vIHdlIHJlcXVpcmUgMCB0byBiZSBkZWZhdWx0IHZhbHVlIGZvciBhbGwgZW51bXNcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpO1xuICAgICAgICBhc3NlcnQoTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSkpO1xuICAgICAgICBpZiAoZW51bUFzSW50ZWdlciB8fCAhdHlwZVsxXS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpXG4gICAgICAgICAgICAvLyBpZiB3ZSBkb24ndCBub3cgdGhlIGVudW0gdmFsdWUsIGp1c3QgcmV0dXJuIHRoZSBudW1iZXJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVbMl0pXG4gICAgICAgICAgICAvLyByZXN0b3JlIHRoZSBkcm9wcGVkIHByZWZpeFxuICAgICAgICAgICAgcmV0dXJuIHR5cGVbMl0gKyB0eXBlWzFdW3ZhbHVlXTtcbiAgICAgICAgcmV0dXJuIHR5cGVbMV1bdmFsdWVdO1xuICAgIH1cbiAgICBtZXNzYWdlKHR5cGUsIHZhbHVlLCBmaWVsZE5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5lbWl0RGVmYXVsdFZhbHVlcyA/IG51bGwgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0eXBlLmludGVybmFsSnNvbldyaXRlKHZhbHVlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgc2NhbGFyKHR5cGUsIHZhbHVlLCBmaWVsZE5hbWUsIG9wdGlvbmFsLCBlbWl0RGVmYXVsdFZhbHVlcykge1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYXNzZXJ0KG9wdGlvbmFsKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWQgPSBlbWl0RGVmYXVsdFZhbHVlcyB8fCBvcHRpb25hbDtcbiAgICAgICAgLy8gbm9pbnNwZWN0aW9uIEZhbGxUaHJvdWdoSW5Td2l0Y2hTdGF0ZW1lbnRKU1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIC8vIGludDMyLCBmaXhlZDMyLCB1aW50MzI6IEpTT04gdmFsdWUgd2lsbCBiZSBhIGRlY2ltYWwgbnVtYmVyLiBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC5cbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWQgPyAwIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFzc2VydEludDMyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UMzI6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWQgPyAwIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFzc2VydFVJbnQzMih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgLy8gZmxvYXQsIGRvdWJsZTogSlNPTiB2YWx1ZSB3aWxsIGJlIGEgbnVtYmVyIG9yIG9uZSBvZiB0aGUgc3BlY2lhbCBzdHJpbmcgdmFsdWVzIFwiTmFOXCIsIFwiSW5maW5pdHlcIiwgYW5kIFwiLUluZmluaXR5XCIuXG4gICAgICAgICAgICAvLyBFaXRoZXIgbnVtYmVycyBvciBzdHJpbmdzIGFyZSBhY2NlcHRlZC4gRXhwb25lbnQgbm90YXRpb24gaXMgYWxzbyBhY2NlcHRlZC5cbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgICAgICBhc3NlcnRGbG9hdDMyKHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWQgPyAwIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpO1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4odmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ05hTic7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnSW5maW5pdHknO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJy1JbmZpbml0eSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgLy8gc3RyaW5nOlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlZCA/ICcnIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIC8vIGJvb2w6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWQgPyBmYWxzZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBhc3NlcnQodHlwZW9mIHZhbHVlID09ICdib29sZWFuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgLy8gSlNPTiB2YWx1ZSB3aWxsIGJlIGEgZGVjaW1hbCBzdHJpbmcuIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PSAnYmlnaW50Jyk7XG4gICAgICAgICAgICAgICAgbGV0IHVsb25nID0gUGJVTG9uZy5mcm9tKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAodWxvbmcuaXNaZXJvKCkgJiYgIWVkKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bG9uZy50b1N0cmluZygpO1xuICAgICAgICAgICAgLy8gSlNPTiB2YWx1ZSB3aWxsIGJlIGEgZGVjaW1hbCBzdHJpbmcuIEVpdGhlciBudW1iZXJzIG9yIHN0cmluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgICAgICBhc3NlcnQodHlwZW9mIHZhbHVlID09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdmFsdWUgPT0gJ2JpZ2ludCcpO1xuICAgICAgICAgICAgICAgIGxldCBsb25nID0gUGJMb25nLmZyb20odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChsb25nLmlzWmVybygpICYmICFlZClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9uZy50b1N0cmluZygpO1xuICAgICAgICAgICAgLy8gYnl0ZXM6IEpTT04gdmFsdWUgd2lsbCBiZSB0aGUgZGF0YSBlbmNvZGVkIGFzIGEgc3RyaW5nIHVzaW5nIHN0YW5kYXJkIGJhc2U2NCBlbmNvZGluZyB3aXRoIHBhZGRpbmdzLlxuICAgICAgICAgICAgLy8gRWl0aGVyIHN0YW5kYXJkIG9yIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZyB3aXRoL3dpdGhvdXQgcGFkZGluZ3MgYXJlIGFjY2VwdGVkLlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJZVEVTOlxuICAgICAgICAgICAgICAgIGFzc2VydCh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpO1xuICAgICAgICAgICAgICAgIGlmICghdmFsdWUuYnl0ZUxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVkID8gXCJcIiA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZTY0ZW5jb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IExvbmdUeXBlLCBTY2FsYXJUeXBlIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG5pbXBvcnQgeyByZWZsZWN0aW9uTG9uZ0NvbnZlcnQgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWxvbmctY29udmVydFwiO1xuaW1wb3J0IHsgUGJMb25nLCBQYlVMb25nIH0gZnJvbSBcIi4vcGItbG9uZ1wiO1xuLyoqXG4gKiBDcmVhdGVzIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBhIHNjYWxhciB0eXBlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVmbGVjdGlvblNjYWxhckRlZmF1bHQodHlwZSwgbG9uZ1R5cGUgPSBMb25nVHlwZS5TVFJJTkcpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5VSU5UNjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GSVhFRDY0OlxuICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Mb25nQ29udmVydChQYlVMb25nLlpFUk8sIGxvbmdUeXBlKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDY0OlxuICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVENjQ6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICByZXR1cm4gcmVmbGVjdGlvbkxvbmdDb252ZXJ0KFBiTG9uZy5aRVJPLCBsb25nVHlwZSk7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgIHJldHVybiAwLjA7XG4gICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNUUklORzpcbiAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICAgICAgLy8gY2FzZSBTY2FsYXJUeXBlLlVJTlQzMjpcbiAgICAgICAgICAgIC8vIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAvLyBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgIC8vIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFVua25vd25GaWVsZEhhbmRsZXIsIFdpcmVUeXBlIH0gZnJvbSBcIi4vYmluYXJ5LWZvcm1hdC1jb250cmFjdFwiO1xuaW1wb3J0IHsgTG9uZ1R5cGUsIFNjYWxhclR5cGUgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWluZm9cIjtcbmltcG9ydCB7IHJlZmxlY3Rpb25Mb25nQ29udmVydCB9IGZyb20gXCIuL3JlZmxlY3Rpb24tbG9uZy1jb252ZXJ0XCI7XG5pbXBvcnQgeyByZWZsZWN0aW9uU2NhbGFyRGVmYXVsdCB9IGZyb20gXCIuL3JlZmxlY3Rpb24tc2NhbGFyLWRlZmF1bHRcIjtcbi8qKlxuICogUmVhZHMgcHJvdG8zIG1lc3NhZ2VzIGluIGJpbmFyeSBmb3JtYXQgdXNpbmcgcmVmbGVjdGlvbiBpbmZvcm1hdGlvbi5cbiAqXG4gKiBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL2RvY3MvZW5jb2RpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIFJlZmxlY3Rpb25CaW5hcnlSZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGluZm8pIHtcbiAgICAgICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICB9XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuZmllbGROb1RvRmllbGQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc0lucHV0ID0gKF9hID0gdGhpcy5pbmZvLmZpZWxkcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogW107XG4gICAgICAgICAgICB0aGlzLmZpZWxkTm9Ub0ZpZWxkID0gbmV3IE1hcChmaWVsZHNJbnB1dC5tYXAoZmllbGQgPT4gW2ZpZWxkLm5vLCBmaWVsZF0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyBhIG1lc3NhZ2UgZnJvbSBiaW5hcnkgZm9ybWF0IGludG8gdGhlIHRhcmdldCBtZXNzYWdlLlxuICAgICAqXG4gICAgICogUmVwZWF0ZWQgZmllbGRzIGFyZSBhcHBlbmRlZC4gTWFwIGVudHJpZXMgYXJlIGFkZGVkLCBvdmVyd3JpdGluZ1xuICAgICAqIGV4aXN0aW5nIGtleXMuXG4gICAgICpcbiAgICAgKiBJZiBhIG1lc3NhZ2UgZmllbGQgaXMgYWxyZWFkeSBwcmVzZW50LCBpdCB3aWxsIGJlIG1lcmdlZCB3aXRoIHRoZVxuICAgICAqIG5ldyBkYXRhLlxuICAgICAqL1xuICAgIHJlYWQocmVhZGVyLCBtZXNzYWdlLCBvcHRpb25zLCBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5wcmVwYXJlKCk7XG4gICAgICAgIGNvbnN0IGVuZCA9IGxlbmd0aCA9PT0gdW5kZWZpbmVkID8gcmVhZGVyLmxlbiA6IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICAvLyByZWFkIHRoZSB0YWcgYW5kIGZpbmQgdGhlIGZpZWxkXG4gICAgICAgICAgICBjb25zdCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpLCBmaWVsZCA9IHRoaXMuZmllbGROb1RvRmllbGQuZ2V0KGZpZWxkTm8pO1xuICAgICAgICAgICAgaWYgKCFmaWVsZCkge1xuICAgICAgICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgICAgICAgIGlmICh1ID09IFwidGhyb3dcIilcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy5pbmZvLnR5cGVOYW1lfWApO1xuICAgICAgICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKHRoaXMuaW5mby50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdGFyZ2V0IG9iamVjdCBmb3IgdGhlIGZpZWxkIHdlIGFyZSByZWFkaW5nXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gbWVzc2FnZSwgcmVwZWF0ZWQgPSBmaWVsZC5yZXBlYXQsIGxvY2FsTmFtZSA9IGZpZWxkLmxvY2FsTmFtZTtcbiAgICAgICAgICAgIC8vIGlmIGZpZWxkIGlzIG1lbWJlciBvZiBvbmVvZiBBRFQsIHVzZSBBRFQgYXMgdGFyZ2V0XG4gICAgICAgICAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXRbZmllbGQub25lb2ZdO1xuICAgICAgICAgICAgICAgIC8vIGlmIG90aGVyIG9uZW9mIG1lbWJlciBzZWxlY3RlZCwgc2V0IG5ldyBBRFRcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lm9uZW9mS2luZCAhPT0gbG9jYWxOYW1lKVxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBtZXNzYWdlW2ZpZWxkLm9uZW9mXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uZW9mS2luZDogbG9jYWxOYW1lXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBoYXZlIGhhbmRsZWQgb25lb2YgYWJvdmUsIHdlIGp1c3QgaGF2ZSByZWFkIHRoZSB2YWx1ZSBpbnRvIGB0YXJnZXRbbG9jYWxOYW1lXWBcbiAgICAgICAgICAgIHN3aXRjaCAoZmllbGQua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICBsZXQgVCA9IGZpZWxkLmtpbmQgPT0gXCJlbnVtXCIgPyBTY2FsYXJUeXBlLklOVDMyIDogZmllbGQuVDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IEwgPSBmaWVsZC5raW5kID09IFwic2NhbGFyXCIgPyBmaWVsZC5MIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVwZWF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhcnIgPSB0YXJnZXRbbG9jYWxOYW1lXTsgLy8gc2FmZSB0byBhc3N1bWUgcHJlc2VuY2Ugb2YgYXJyYXksIG9uZW9mIGNhbm5vdCBjb250YWluIHJlcGVhdGVkIHZhbHVlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpcmVUeXBlID09IFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCAmJiBUICE9IFNjYWxhclR5cGUuU1RSSU5HICYmIFQgIT0gU2NhbGFyVHlwZS5CWVRFUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlID0gcmVhZGVyLnVpbnQzMigpICsgcmVhZGVyLnBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHRoaXMuc2NhbGFyKHJlYWRlciwgVCwgTCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKHRoaXMuc2NhbGFyKHJlYWRlciwgVCwgTCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFtsb2NhbE5hbWVdID0gdGhpcy5zY2FsYXIocmVhZGVyLCBULCBMKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYXJyID0gdGFyZ2V0W2xvY2FsTmFtZV07IC8vIHNhZmUgdG8gYXNzdW1lIHByZXNlbmNlIG9mIGFycmF5LCBvbmVvZiBjYW5ub3QgY29udGFpbiByZXBlYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtc2cgPSBmaWVsZC5UKCkuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5wdXNoKG1zZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2xvY2FsTmFtZV0gPSBmaWVsZC5UKCkuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zLCB0YXJnZXRbbG9jYWxOYW1lXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICAgICAgbGV0IFttYXBLZXksIG1hcFZhbF0gPSB0aGlzLm1hcEVudHJ5KGZpZWxkLCByZWFkZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBzYWZlIHRvIGFzc3VtZSBwcmVzZW5jZSBvZiBtYXAgb2JqZWN0LCBvbmVvZiBjYW5ub3QgY29udGFpbiByZXBlYXRlZCB2YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0W2xvY2FsTmFtZV1bbWFwS2V5XSA9IG1hcFZhbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZCBhIG1hcCBmaWVsZCwgZXhwZWN0aW5nIGtleSBmaWVsZCA9IDEsIHZhbHVlIGZpZWxkID0gMlxuICAgICAqL1xuICAgIG1hcEVudHJ5KGZpZWxkLCByZWFkZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGxlbmd0aCA9IHJlYWRlci51aW50MzIoKTtcbiAgICAgICAgbGV0IGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIGxldCBrZXkgPSB1bmRlZmluZWQ7IC8vIGphdmFzY3JpcHQgb25seSBhbGxvd3MgbnVtYmVyIG9yIHN0cmluZyBmb3Igb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgICAgbGV0IHZhbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuSyA9PSBTY2FsYXJUeXBlLkJPT0wpXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSByZWFkZXIuYm9vbCgpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvbmcgdHlwZXMgYXJlIHJlYWQgYXMgc3RyaW5nLCBudW1iZXIgdHlwZXMgYXJlIG9rYXkgYXMgbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkgPSB0aGlzLnNjYWxhcihyZWFkZXIsIGZpZWxkLkssIExvbmdUeXBlLlNUUklORyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5WLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLnNjYWxhcihyZWFkZXIsIGZpZWxkLlYuVCwgZmllbGQuVi5MKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJlbnVtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IGZpZWxkLlYuVCgpLmludGVybmFsQmluYXJ5UmVhZChyZWFkZXIsIHJlYWRlci51aW50MzIoKSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgaW4gbWFwIGVudHJ5IGZvciAke3RoaXMuaW5mby50eXBlTmFtZX0jJHtmaWVsZC5uYW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGV0IGtleVJhdyA9IHJlZmxlY3Rpb25TY2FsYXJEZWZhdWx0KGZpZWxkLkspO1xuICAgICAgICAgICAga2V5ID0gZmllbGQuSyA9PSBTY2FsYXJUeXBlLkJPT0wgPyBrZXlSYXcudG9TdHJpbmcoKSA6IGtleVJhdztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBzd2l0Y2ggKGZpZWxkLlYua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICAgICAgdmFsID0gcmVmbGVjdGlvblNjYWxhckRlZmF1bHQoZmllbGQuVi5ULCBmaWVsZC5WLkwpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWVzc2FnZVwiOlxuICAgICAgICAgICAgICAgICAgICB2YWwgPSBmaWVsZC5WLlQoKS5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBba2V5LCB2YWxdO1xuICAgIH1cbiAgICBzY2FsYXIocmVhZGVyLCB0eXBlLCBsb25nVHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5JTlQzMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU1RSSU5HOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQk9PTDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5ET1VCTEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5kb3VibGUoKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5GTE9BVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmZsb2F0KCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Mb25nQ29udmVydChyZWFkZXIuaW50NjQoKSwgbG9uZ1R5cGUpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlVJTlQ2NDpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVmbGVjdGlvbkxvbmdDb252ZXJ0KHJlYWRlci51aW50NjQoKSwgbG9uZ1R5cGUpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVENjQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Mb25nQ29udmVydChyZWFkZXIuZml4ZWQ2NCgpLCBsb25nVHlwZSk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQzMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmZpeGVkMzIoKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5CWVRFUzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmJ5dGVzKCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgICAgIHJldHVybiByZWFkZXIudWludDMyKCk7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0ZJWEVEMzI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5zZml4ZWQzMigpO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDY0OlxuICAgICAgICAgICAgICAgIHJldHVybiByZWZsZWN0aW9uTG9uZ0NvbnZlcnQocmVhZGVyLnNmaXhlZDY0KCksIGxvbmdUeXBlKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UMzI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlYWRlci5zaW50MzIoKTtcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TSU5UNjQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25Mb25nQ29udmVydChyZWFkZXIuc2ludDY0KCksIGxvbmdUeXBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFVua25vd25GaWVsZEhhbmRsZXIsIFdpcmVUeXBlIH0gZnJvbSBcIi4vYmluYXJ5LWZvcm1hdC1jb250cmFjdFwiO1xuaW1wb3J0IHsgUmVwZWF0VHlwZSwgU2NhbGFyVHlwZSB9IGZyb20gXCIuL3JlZmxlY3Rpb24taW5mb1wiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIi4vYXNzZXJ0XCI7XG5pbXBvcnQgeyBQYkxvbmcsIFBiVUxvbmcgfSBmcm9tIFwiLi9wYi1sb25nXCI7XG4vKipcbiAqIFdyaXRlcyBwcm90bzMgbWVzc2FnZXMgaW4gYmluYXJ5IGZvcm1hdCB1c2luZyByZWZsZWN0aW9uIGluZm9ybWF0aW9uLlxuICpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9lbmNvZGluZ1xuICovXG5leHBvcnQgY2xhc3MgUmVmbGVjdGlvbkJpbmFyeVdyaXRlciB7XG4gICAgY29uc3RydWN0b3IoaW5mbykge1xuICAgICAgICB0aGlzLmluZm8gPSBpbmZvO1xuICAgIH1cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICBpZiAoIXRoaXMuZmllbGRzKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZHNJbnB1dCA9IHRoaXMuaW5mby5maWVsZHMgPyB0aGlzLmluZm8uZmllbGRzLmNvbmNhdCgpIDogW107XG4gICAgICAgICAgICB0aGlzLmZpZWxkcyA9IGZpZWxkc0lucHV0LnNvcnQoKGEsIGIpID0+IGEubm8gLSBiLm5vKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGZvcm1hdC5cbiAgICAgKi9cbiAgICB3cml0ZShtZXNzYWdlLCB3cml0ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5wcmVwYXJlKCk7XG4gICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgdGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSwgLy8gdGhpcyB3aWxsIGJlIG91ciBmaWVsZCB2YWx1ZSwgd2hldGhlciBpdCBpcyBtZW1iZXIgb2YgYSBvbmVvZiBvciBub3RcbiAgICAgICAgICAgIGVtaXREZWZhdWx0LCAvLyB3aGV0aGVyIHdlIGVtaXQgdGhlIGRlZmF1bHQgdmFsdWUgKG9ubHkgdHJ1ZSBmb3Igb25lb2YgbWVtYmVycylcbiAgICAgICAgICAgIHJlcGVhdGVkID0gZmllbGQucmVwZWF0LCBsb2NhbE5hbWUgPSBmaWVsZC5sb2NhbE5hbWU7XG4gICAgICAgICAgICAvLyBoYW5kbGUgb25lb2YgQURUXG4gICAgICAgICAgICBpZiAoZmllbGQub25lb2YpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IG1lc3NhZ2VbZmllbGQub25lb2ZdO1xuICAgICAgICAgICAgICAgIGlmIChncm91cC5vbmVvZktpbmQgIT09IGxvY2FsTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIGlmIGZpZWxkIGlzIG5vdCBzZWxlY3RlZCwgc2tpcFxuICAgICAgICAgICAgICAgIHZhbHVlID0gZ3JvdXBbbG9jYWxOYW1lXTtcbiAgICAgICAgICAgICAgICBlbWl0RGVmYXVsdCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG1lc3NhZ2VbbG9jYWxOYW1lXTtcbiAgICAgICAgICAgICAgICBlbWl0RGVmYXVsdCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgaGF2ZSBoYW5kbGVkIG9uZW9mIGFib3ZlLiB3ZSBqdXN0IGhhdmUgdG8gaG9ub3IgYGVtaXREZWZhdWx0YC5cbiAgICAgICAgICAgIHN3aXRjaCAoZmllbGQua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzY2FsYXJcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICBsZXQgVCA9IGZpZWxkLmtpbmQgPT0gXCJlbnVtXCIgPyBTY2FsYXJUeXBlLklOVDMyIDogZmllbGQuVDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoQXJyYXkuaXNBcnJheSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGVhdGVkID09IFJlcGVhdFR5cGUuUEFDS0VEKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFja2VkKHdyaXRlciwgVCwgZmllbGQubm8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NhbGFyKHdyaXRlciwgVCwgZmllbGQubm8sIGl0ZW0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnQoZmllbGQub3B0KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FsYXIod3JpdGVyLCBULCBmaWVsZC5ubywgdmFsdWUsIGVtaXREZWZhdWx0IHx8IGZpZWxkLm9wdCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXBlYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXNzZXJ0KEFycmF5LmlzQXJyYXkodmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2Uod3JpdGVyLCBvcHRpb25zLCBmaWVsZC5UKCksIGZpZWxkLm5vLCBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSh3cml0ZXIsIG9wdGlvbnMsIGZpZWxkLlQoKSwgZmllbGQubm8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydCh0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXModmFsdWUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXBFbnRyeSh3cml0ZXIsIG9wdGlvbnMsIGZpZWxkLCBrZXksIHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkodGhpcy5pbmZvLnR5cGVOYW1lLCBtZXNzYWdlLCB3cml0ZXIpO1xuICAgIH1cbiAgICBtYXBFbnRyeSh3cml0ZXIsIG9wdGlvbnMsIGZpZWxkLCBrZXksIHZhbHVlKSB7XG4gICAgICAgIHdyaXRlci50YWcoZmllbGQubm8sIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCk7XG4gICAgICAgIHdyaXRlci5mb3JrKCk7XG4gICAgICAgIC8vIGphdmFzY3JpcHQgb25seSBhbGxvd3MgbnVtYmVyIG9yIHN0cmluZyBmb3Igb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgICAgLy8gd2UgY29udmVydCBmcm9tIG91ciByZXByZXNlbnRhdGlvbiB0byB0aGUgcHJvdG9idWYgdHlwZVxuICAgICAgICBsZXQga2V5VmFsdWUgPSBrZXk7XG4gICAgICAgIHN3aXRjaCAoZmllbGQuSykge1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLklOVDMyOlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNGSVhFRDMyOlxuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQzMjpcbiAgICAgICAgICAgICAgICBrZXlWYWx1ZSA9IE51bWJlci5wYXJzZUludChrZXkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICAgICAgYXNzZXJ0KGtleSA9PSAndHJ1ZScgfHwga2V5ID09ICdmYWxzZScpO1xuICAgICAgICAgICAgICAgIGtleVZhbHVlID0ga2V5ID09ICd0cnVlJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyB3cml0ZSBrZXksIGV4cGVjdGluZyBrZXkgZmllbGQgbnVtYmVyID0gMVxuICAgICAgICB0aGlzLnNjYWxhcih3cml0ZXIsIGZpZWxkLkssIDEsIGtleVZhbHVlLCB0cnVlKTtcbiAgICAgICAgLy8gd3JpdGUgdmFsdWUsIGV4cGVjdGluZyB2YWx1ZSBmaWVsZCBudW1iZXIgPSAyXG4gICAgICAgIHN3aXRjaCAoZmllbGQuVi5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdzY2FsYXInOlxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGFyKHdyaXRlciwgZmllbGQuVi5ULCAyLCB2YWx1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdlbnVtJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxhcih3cml0ZXIsIFNjYWxhclR5cGUuSU5UMzIsIDIsIHZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21lc3NhZ2UnOlxuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSh3cml0ZXIsIG9wdGlvbnMsIGZpZWxkLlYuVCgpLCAyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgd3JpdGVyLmpvaW4oKTtcbiAgICB9XG4gICAgbWVzc2FnZSh3cml0ZXIsIG9wdGlvbnMsIGhhbmRsZXIsIGZpZWxkTm8sIHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBoYW5kbGVyLmludGVybmFsQmluYXJ5V3JpdGUodmFsdWUsIHdyaXRlci50YWcoZmllbGRObywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksIG9wdGlvbnMpO1xuICAgICAgICB3cml0ZXIuam9pbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhIHNpbmdsZSBzY2FsYXIgdmFsdWUuXG4gICAgICovXG4gICAgc2NhbGFyKHdyaXRlciwgdHlwZSwgZmllbGRObywgdmFsdWUsIGVtaXREZWZhdWx0KSB7XG4gICAgICAgIGxldCBbd2lyZVR5cGUsIG1ldGhvZCwgaXNEZWZhdWx0XSA9IHRoaXMuc2NhbGFySW5mbyh0eXBlLCB2YWx1ZSk7XG4gICAgICAgIGlmICghaXNEZWZhdWx0IHx8IGVtaXREZWZhdWx0KSB7XG4gICAgICAgICAgICB3cml0ZXIudGFnKGZpZWxkTm8sIHdpcmVUeXBlKTtcbiAgICAgICAgICAgIHdyaXRlclttZXRob2RdKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZSBhbiBhcnJheSBvZiBzY2FsYXIgdmFsdWVzIGluIHBhY2tlZCBmb3JtYXQuXG4gICAgICovXG4gICAgcGFja2VkKHdyaXRlciwgdHlwZSwgZmllbGRObywgdmFsdWUpIHtcbiAgICAgICAgaWYgKCF2YWx1ZS5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGFzc2VydCh0eXBlICE9PSBTY2FsYXJUeXBlLkJZVEVTICYmIHR5cGUgIT09IFNjYWxhclR5cGUuU1RSSU5HKTtcbiAgICAgICAgLy8gd3JpdGUgdGFnXG4gICAgICAgIHdyaXRlci50YWcoZmllbGRObywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKTtcbiAgICAgICAgLy8gYmVnaW4gbGVuZ3RoLWRlbGltaXRlZFxuICAgICAgICB3cml0ZXIuZm9yaygpO1xuICAgICAgICAvLyB3cml0ZSB2YWx1ZXMgd2l0aG91dCB0YWdzXG4gICAgICAgIGxldCBbLCBtZXRob2QsXSA9IHRoaXMuc2NhbGFySW5mbyh0eXBlKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHdyaXRlclttZXRob2RdKHZhbHVlW2ldKTtcbiAgICAgICAgLy8gZW5kIGxlbmd0aCBkZWxpbWl0ZWRcbiAgICAgICAgd3JpdGVyLmpvaW4oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGluZm9ybWF0aW9uIGZvciB3cml0aW5nIGEgc2NhbGFyIHZhbHVlLlxuICAgICAqXG4gICAgICogUmV0dXJucyB0dXBsZTpcbiAgICAgKiBbMF06IGFwcHJvcHJpYXRlIFdpcmVUeXBlXG4gICAgICogWzFdOiBuYW1lIG9mIHRoZSBhcHByb3ByaWF0ZSBtZXRob2Qgb2YgSUJpbmFyeVdyaXRlclxuICAgICAqIFsyXTogd2hldGhlciB0aGUgZ2l2ZW4gdmFsdWUgaXMgYSBkZWZhdWx0IHZhbHVlXG4gICAgICpcbiAgICAgKiBJZiBhcmd1bWVudCBgdmFsdWVgIGlzIG9taXR0ZWQsIFsyXSBpcyBhbHdheXMgZmFsc2UuXG4gICAgICovXG4gICAgc2NhbGFySW5mbyh0eXBlLCB2YWx1ZSkge1xuICAgICAgICBsZXQgdCA9IFdpcmVUeXBlLlZhcmludDtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIGxldCBpID0gdmFsdWUgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGQgPSB2YWx1ZSA9PT0gMDtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UMzI6XG4gICAgICAgICAgICAgICAgbSA9IFwiaW50MzJcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TVFJJTkc6XG4gICAgICAgICAgICAgICAgZCA9IGkgfHwgIXZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0ID0gV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkO1xuICAgICAgICAgICAgICAgIG0gPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkJPT0w6XG4gICAgICAgICAgICAgICAgZCA9IHZhbHVlID09PSBmYWxzZTtcbiAgICAgICAgICAgICAgICBtID0gXCJib29sXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDMyOlxuICAgICAgICAgICAgICAgIG0gPSBcInVpbnQzMlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkRPVUJMRTpcbiAgICAgICAgICAgICAgICB0ID0gV2lyZVR5cGUuQml0NjQ7XG4gICAgICAgICAgICAgICAgbSA9IFwiZG91YmxlXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRkxPQVQ6XG4gICAgICAgICAgICAgICAgdCA9IFdpcmVUeXBlLkJpdDMyO1xuICAgICAgICAgICAgICAgIG0gPSBcImZsb2F0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuSU5UNjQ6XG4gICAgICAgICAgICAgICAgZCA9IGkgfHwgUGJMb25nLmZyb20odmFsdWUpLmlzWmVybygpO1xuICAgICAgICAgICAgICAgIG0gPSBcImludDY0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuVUlOVDY0OlxuICAgICAgICAgICAgICAgIGQgPSBpIHx8IFBiVUxvbmcuZnJvbSh2YWx1ZSkuaXNaZXJvKCk7XG4gICAgICAgICAgICAgICAgbSA9IFwidWludDY0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuRklYRUQ2NDpcbiAgICAgICAgICAgICAgICBkID0gaSB8fCBQYlVMb25nLmZyb20odmFsdWUpLmlzWmVybygpO1xuICAgICAgICAgICAgICAgIHQgPSBXaXJlVHlwZS5CaXQ2NDtcbiAgICAgICAgICAgICAgICBtID0gXCJmaXhlZDY0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuQllURVM6XG4gICAgICAgICAgICAgICAgZCA9IGkgfHwgIXZhbHVlLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgdCA9IFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZDtcbiAgICAgICAgICAgICAgICBtID0gXCJieXRlc1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLkZJWEVEMzI6XG4gICAgICAgICAgICAgICAgdCA9IFdpcmVUeXBlLkJpdDMyO1xuICAgICAgICAgICAgICAgIG0gPSBcImZpeGVkMzJcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQzMjpcbiAgICAgICAgICAgICAgICB0ID0gV2lyZVR5cGUuQml0MzI7XG4gICAgICAgICAgICAgICAgbSA9IFwic2ZpeGVkMzJcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgU2NhbGFyVHlwZS5TRklYRUQ2NDpcbiAgICAgICAgICAgICAgICBkID0gaSB8fCBQYkxvbmcuZnJvbSh2YWx1ZSkuaXNaZXJvKCk7XG4gICAgICAgICAgICAgICAgdCA9IFdpcmVUeXBlLkJpdDY0O1xuICAgICAgICAgICAgICAgIG0gPSBcInNmaXhlZDY0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjYWxhclR5cGUuU0lOVDMyOlxuICAgICAgICAgICAgICAgIG0gPSBcInNpbnQzMlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBTY2FsYXJUeXBlLlNJTlQ2NDpcbiAgICAgICAgICAgICAgICBkID0gaSB8fCBQYkxvbmcuZnJvbSh2YWx1ZSkuaXNaZXJvKCk7XG4gICAgICAgICAgICAgICAgbSA9IFwic2ludDY0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0LCBtLCBpIHx8IGRdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHJlZmxlY3Rpb25TY2FsYXJEZWZhdWx0IH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1zY2FsYXItZGVmYXVsdFwiO1xuaW1wb3J0IHsgTUVTU0FHRV9UWVBFIH0gZnJvbSAnLi9tZXNzYWdlLXR5cGUtY29udHJhY3QnO1xuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIHRoZSBnZW5lcmljIG1lc3NhZ2UsIHVzaW5nIHRoZSBmaWVsZFxuICogaW5mb3JtYXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWZsZWN0aW9uQ3JlYXRlKHR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIHRlcm5hcnkgY2FuIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgdmVyc2lvbi5cbiAgICAgKiBUaGUgYE9iamVjdC5jcmVhdGUoKWAgY29kZSBwYXRoIHV0aWxpemVzIGEgbmV3IGBtZXNzYWdlUHJvdG90eXBlYFxuICAgICAqIHByb3BlcnR5IG9uIHRoZSBgSU1lc3NhZ2VUeXBlYCB3aGljaCBoYXMgdGhpcyBzYW1lIGBNRVNTQUdFX1RZUEVgXG4gICAgICogbm9uLWVudW1lcmFibGUgcHJvcGVydHkgb24gaXQuIERvaW5nIGl0IHRoaXMgd2F5IG1lYW5zIHRoYXQgd2Ugb25seVxuICAgICAqIHBheSB0aGUgY29zdCBvZiBgT2JqZWN0LmRlZmluZVByb3BlcnR5KClgIG9uY2UgcGVyIGBJTWVzc2FnZVR5cGVgXG4gICAgICogY2xhc3Mgb2Ygb25jZSBwZXIgXCJpbnN0YW5jZVwiLiBUaGUgZmFsc3kgY29kZSBwYXRoIGlzIG9ubHkgcHJvdmlkZWRcbiAgICAgKiBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgaW4gY2FzZXMgd2hlcmUgdGhlIHJ1bnRpbWUgbGlicmFyeSBpc1xuICAgICAqIHVwZGF0ZWQgd2l0aG91dCBhbHNvIHVwZGF0aW5nIHRoZSBnZW5lcmF0ZWQgY29kZS5cbiAgICAgKi9cbiAgICBjb25zdCBtc2cgPSB0eXBlLm1lc3NhZ2VQcm90b3R5cGVcbiAgICAgICAgPyBPYmplY3QuY3JlYXRlKHR5cGUubWVzc2FnZVByb3RvdHlwZSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIE1FU1NBR0VfVFlQRSwgeyB2YWx1ZTogdHlwZSB9KTtcbiAgICBmb3IgKGxldCBmaWVsZCBvZiB0eXBlLmZpZWxkcykge1xuICAgICAgICBsZXQgbmFtZSA9IGZpZWxkLmxvY2FsTmFtZTtcbiAgICAgICAgaWYgKGZpZWxkLm9wdClcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoZmllbGQub25lb2YpXG4gICAgICAgICAgICBtc2dbZmllbGQub25lb2ZdID0geyBvbmVvZktpbmQ6IHVuZGVmaW5lZCB9O1xuICAgICAgICBlbHNlIGlmIChmaWVsZC5yZXBlYXQpXG4gICAgICAgICAgICBtc2dbbmFtZV0gPSBbXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBtc2dbbmFtZV0gPSByZWZsZWN0aW9uU2NhbGFyRGVmYXVsdChmaWVsZC5ULCBmaWVsZC5MKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImVudW1cIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgcmVxdWlyZSAwIHRvIGJlIGRlZmF1bHQgdmFsdWUgZm9yIGFsbCBlbnVtc1xuICAgICAgICAgICAgICAgICAgICBtc2dbbmFtZV0gPSAwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgICAgIG1zZ1tuYW1lXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1zZztcbn1cbiIsIi8qKlxuICogQ29weSBwYXJ0aWFsIGRhdGEgaW50byB0aGUgdGFyZ2V0IG1lc3NhZ2UuXG4gKlxuICogSWYgYSBzaW5ndWxhciBzY2FsYXIgb3IgZW51bSBmaWVsZCBpcyBwcmVzZW50IGluIHRoZSBzb3VyY2UsIGl0XG4gKiByZXBsYWNlcyB0aGUgZmllbGQgaW4gdGhlIHRhcmdldC5cbiAqXG4gKiBJZiBhIHNpbmd1bGFyIG1lc3NhZ2UgZmllbGQgaXMgcHJlc2VudCBpbiB0aGUgc291cmNlLCBpdCBpcyBtZXJnZWRcbiAqIHdpdGggdGhlIHRhcmdldCBmaWVsZCBieSBjYWxsaW5nIG1lcmdlUGFydGlhbCgpIG9mIHRoZSByZXNwb25zaWJsZVxuICogbWVzc2FnZSB0eXBlLlxuICpcbiAqIElmIGEgcmVwZWF0ZWQgZmllbGQgaXMgcHJlc2VudCBpbiB0aGUgc291cmNlLCBpdHMgdmFsdWVzIHJlcGxhY2VcbiAqIGFsbCB2YWx1ZXMgaW4gdGhlIHRhcmdldCBhcnJheSwgcmVtb3ZpbmcgZXh0cmFuZW91cyB2YWx1ZXMuXG4gKiBSZXBlYXRlZCBtZXNzYWdlIGZpZWxkcyBhcmUgY29waWVkLCBub3QgbWVyZ2VkLlxuICpcbiAqIElmIGEgbWFwIGZpZWxkIGlzIHByZXNlbnQgaW4gdGhlIHNvdXJjZSwgZW50cmllcyBhcmUgYWRkZWQgdG8gdGhlXG4gKiB0YXJnZXQgbWFwLCByZXBsYWNpbmcgZW50cmllcyB3aXRoIHRoZSBzYW1lIGtleS4gRW50cmllcyB0aGF0IG9ubHlcbiAqIGV4aXN0IGluIHRoZSB0YXJnZXQgcmVtYWluLiBFbnRyaWVzIHdpdGggbWVzc2FnZSB2YWx1ZXMgYXJlIGNvcGllZCxcbiAqIG5vdCBtZXJnZWQuXG4gKlxuICogTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gZGlmZmVycyBmcm9tIHByb3RvYnVmIG1lcmdlIHNlbWFudGljcyxcbiAqIHdoaWNoIGFwcGVuZHMgcmVwZWF0ZWQgZmllbGRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVmbGVjdGlvbk1lcmdlUGFydGlhbChpbmZvLCB0YXJnZXQsIHNvdXJjZSkge1xuICAgIGxldCBmaWVsZFZhbHVlLCAvLyB0aGUgZmllbGQgdmFsdWUgd2UgYXJlIHdvcmtpbmcgd2l0aFxuICAgIGlucHV0ID0gc291cmNlLCBvdXRwdXQ7IC8vIHdoZXJlIHdlIHdhbnQgb3VyIGZpZWxkIHZhbHVlIHRvIGdvXG4gICAgZm9yIChsZXQgZmllbGQgb2YgaW5mby5maWVsZHMpIHtcbiAgICAgICAgbGV0IG5hbWUgPSBmaWVsZC5sb2NhbE5hbWU7XG4gICAgICAgIGlmIChmaWVsZC5vbmVvZikge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBpbnB1dFtmaWVsZC5vbmVvZl07IC8vIHRoaXMgaXMgdGhlIG9uZW9mYHMgZ3JvdXAgaW4gdGhlIHNvdXJjZVxuICAgICAgICAgICAgaWYgKChncm91cCA9PT0gbnVsbCB8fCBncm91cCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ3JvdXAub25lb2ZLaW5kKSA9PSB1bmRlZmluZWQpIHsgLy8gdGhlIHVzZXIgaXMgZnJlZSB0byBvbWl0XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIHdlIHNraXAgdGhpcyBmaWVsZCwgYW5kIGFsbCBvdGhlciBtZW1iZXJzIHRvb1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGRWYWx1ZSA9IGdyb3VwW25hbWVdOyAvLyBvdXIgdmFsdWUgY29tZXMgZnJvbSB0aGUgdGhlIG9uZW9mIGdyb3VwIG9mIHRoZSBzb3VyY2VcbiAgICAgICAgICAgIG91dHB1dCA9IHRhcmdldFtmaWVsZC5vbmVvZl07IC8vIGFuZCBvdXIgb3V0cHV0IGlzIHRoZSBvbmVvZiBncm91cCBvZiB0aGUgdGFyZ2V0XG4gICAgICAgICAgICBvdXRwdXQub25lb2ZLaW5kID0gZ3JvdXAub25lb2ZLaW5kOyAvLyBhbHdheXMgdXBkYXRlIGRpc2NyaW1pbmF0b3JcbiAgICAgICAgICAgIGlmIChmaWVsZFZhbHVlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvdXRwdXRbbmFtZV07IC8vIHJlbW92ZSBhbnkgZXhpc3RpbmcgdmFsdWVcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCBmdXJ0aGVyIHdvcmsgb24gZmllbGRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkVmFsdWUgPSBpbnB1dFtuYW1lXTsgLy8gd2UgYXJlIHVzaW5nIHRoZSBzb3VyY2UgZGlyZWN0bHlcbiAgICAgICAgICAgIG91dHB1dCA9IHRhcmdldDsgLy8gd2Ugd2FudCBvdXIgZmllbGQgdmFsdWUgdG8gZ28gZGlyZWN0bHkgaW50byB0aGUgdGFyZ2V0XG4gICAgICAgICAgICBpZiAoZmllbGRWYWx1ZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCBmdXJ0aGVyIHdvcmsgb24gZmllbGQsIGV4aXN0aW5nIHZhbHVlIGlzIHVzZWQgYXMgaXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQucmVwZWF0KVxuICAgICAgICAgICAgb3V0cHV0W25hbWVdLmxlbmd0aCA9IGZpZWxkVmFsdWUubGVuZ3RoOyAvLyByZXNpemUgdGFyZ2V0IGFycmF5IHRvIG1hdGNoIHNvdXJjZSBhcnJheVxuICAgICAgICAvLyBub3cgd2UganVzdCB3b3JrIHdpdGggYGZpZWxkVmFsdWVgIGFuZCBgb3V0cHV0YCB0byBtZXJnZSB0aGUgdmFsdWVcbiAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwic2NhbGFyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5yZXBlYXQpXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmllbGRWYWx1ZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dFtuYW1lXVtpXSA9IGZpZWxkVmFsdWVbaV07IC8vIG5vdCBhIHJlZmVyZW5jZSB0eXBlXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmFtZV0gPSBmaWVsZFZhbHVlOyAvLyBub3QgYSByZWZlcmVuY2UgdHlwZVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICBsZXQgVCA9IGZpZWxkLlQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQucmVwZWF0KVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkVmFsdWUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmFtZV1baV0gPSBULmNyZWF0ZShmaWVsZFZhbHVlW2ldKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChvdXRwdXRbbmFtZV0gPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0W25hbWVdID0gVC5jcmVhdGUoZmllbGRWYWx1ZSk7IC8vIG5vdGhpbmcgdG8gbWVyZ2Ugd2l0aFxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgVC5tZXJnZVBhcnRpYWwob3V0cHV0W25hbWVdLCBmaWVsZFZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXBcIjpcbiAgICAgICAgICAgICAgICAvLyBNYXAgYW5kIHJlcGVhdGVkIGZpZWxkcyBhcmUgc2ltcGx5IG92ZXJ3cml0dGVuLCBub3QgYXBwZW5kZWQgb3IgbWVyZ2VkXG4gICAgICAgICAgICAgICAgc3dpdGNoIChmaWVsZC5WLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihvdXRwdXRbbmFtZV0sIGZpZWxkVmFsdWUpOyAvLyBlbGVtZW50cyBhcmUgbm90IHJlZmVyZW5jZSB0eXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgVCA9IGZpZWxkLlYuVCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgayBvZiBPYmplY3Qua2V5cyhmaWVsZFZhbHVlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRbbmFtZV1ba10gPSBULmNyZWF0ZShmaWVsZFZhbHVlW2tdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IFNjYWxhclR5cGUgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWluZm9cIjtcbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHR3byBtZXNzYWdlIG9mIHRoZSBzYW1lIHR5cGUgaGF2ZSB0aGUgc2FtZSBmaWVsZCB2YWx1ZXMuXG4gKiBDaGVja3MgZm9yIGRlZXAgZXF1YWxpdHksIHRyYXZlcnNpbmcgcmVwZWF0ZWQgZmllbGRzLCBvbmVvZiBncm91cHMsIG1hcHNcbiAqIGFuZCBtZXNzYWdlcyByZWN1cnNpdmVseS5cbiAqIFdpbGwgYWxzbyByZXR1cm4gdHJ1ZSBpZiBib3RoIG1lc3NhZ2VzIGFyZSBgdW5kZWZpbmVkYC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZmxlY3Rpb25FcXVhbHMoaW5mbywgYSwgYikge1xuICAgIGlmIChhID09PSBiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoIWEgfHwgIWIpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBmaWVsZCBvZiBpbmZvLmZpZWxkcykge1xuICAgICAgICBsZXQgbG9jYWxOYW1lID0gZmllbGQubG9jYWxOYW1lO1xuICAgICAgICBsZXQgdmFsX2EgPSBmaWVsZC5vbmVvZiA/IGFbZmllbGQub25lb2ZdW2xvY2FsTmFtZV0gOiBhW2xvY2FsTmFtZV07XG4gICAgICAgIGxldCB2YWxfYiA9IGZpZWxkLm9uZW9mID8gYltmaWVsZC5vbmVvZl1bbG9jYWxOYW1lXSA6IGJbbG9jYWxOYW1lXTtcbiAgICAgICAgc3dpdGNoIChmaWVsZC5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwiZW51bVwiOlxuICAgICAgICAgICAgY2FzZSBcInNjYWxhclwiOlxuICAgICAgICAgICAgICAgIGxldCB0ID0gZmllbGQua2luZCA9PSBcImVudW1cIiA/IFNjYWxhclR5cGUuSU5UMzIgOiBmaWVsZC5UO1xuICAgICAgICAgICAgICAgIGlmICghKGZpZWxkLnJlcGVhdFxuICAgICAgICAgICAgICAgICAgICA/IHJlcGVhdGVkUHJpbWl0aXZlRXEodCwgdmFsX2EsIHZhbF9iKVxuICAgICAgICAgICAgICAgICAgICA6IHByaW1pdGl2ZUVxKHQsIHZhbF9hLCB2YWxfYikpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICAgICAgaWYgKCEoZmllbGQuVi5raW5kID09IFwibWVzc2FnZVwiXG4gICAgICAgICAgICAgICAgICAgID8gcmVwZWF0ZWRNc2dFcShmaWVsZC5WLlQoKSwgb2JqZWN0VmFsdWVzKHZhbF9hKSwgb2JqZWN0VmFsdWVzKHZhbF9iKSlcbiAgICAgICAgICAgICAgICAgICAgOiByZXBlYXRlZFByaW1pdGl2ZUVxKGZpZWxkLlYua2luZCA9PSBcImVudW1cIiA/IFNjYWxhclR5cGUuSU5UMzIgOiBmaWVsZC5WLlQsIG9iamVjdFZhbHVlcyh2YWxfYSksIG9iamVjdFZhbHVlcyh2YWxfYikpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICAgICAgICBsZXQgVCA9IGZpZWxkLlQoKTtcbiAgICAgICAgICAgICAgICBpZiAoIShmaWVsZC5yZXBlYXRcbiAgICAgICAgICAgICAgICAgICAgPyByZXBlYXRlZE1zZ0VxKFQsIHZhbF9hLCB2YWxfYilcbiAgICAgICAgICAgICAgICAgICAgOiBULmVxdWFscyh2YWxfYSwgdmFsX2IpKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuY29uc3Qgb2JqZWN0VmFsdWVzID0gT2JqZWN0LnZhbHVlcztcbmZ1bmN0aW9uIHByaW1pdGl2ZUVxKHR5cGUsIGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHR5cGUgIT09IFNjYWxhclR5cGUuQllURVMpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgYmEgPSBhO1xuICAgIGxldCBiYiA9IGI7XG4gICAgaWYgKGJhLmxlbmd0aCAhPT0gYmIubGVuZ3RoKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYS5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKGJhW2ldICE9IGJiW2ldKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gcmVwZWF0ZWRQcmltaXRpdmVFcSh0eXBlLCBhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKCFwcmltaXRpdmVFcSh0eXBlLCBhW2ldLCBiW2ldKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHJlcGVhdGVkTXNnRXEodHlwZSwgYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghdHlwZS5lcXVhbHMoYVtpXSwgYltpXSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4iLCJpbXBvcnQgeyBNRVNTQUdFX1RZUEUgfSBmcm9tIFwiLi9tZXNzYWdlLXR5cGUtY29udHJhY3RcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUZpZWxkSW5mbyB9IGZyb20gXCIuL3JlZmxlY3Rpb24taW5mb1wiO1xuaW1wb3J0IHsgUmVmbGVjdGlvblR5cGVDaGVjayB9IGZyb20gXCIuL3JlZmxlY3Rpb24tdHlwZS1jaGVja1wiO1xuaW1wb3J0IHsgUmVmbGVjdGlvbkpzb25SZWFkZXIgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWpzb24tcmVhZGVyXCI7XG5pbXBvcnQgeyBSZWZsZWN0aW9uSnNvbldyaXRlciB9IGZyb20gXCIuL3JlZmxlY3Rpb24tanNvbi13cml0ZXJcIjtcbmltcG9ydCB7IFJlZmxlY3Rpb25CaW5hcnlSZWFkZXIgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWJpbmFyeS1yZWFkZXJcIjtcbmltcG9ydCB7IFJlZmxlY3Rpb25CaW5hcnlXcml0ZXIgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWJpbmFyeS13cml0ZXJcIjtcbmltcG9ydCB7IHJlZmxlY3Rpb25DcmVhdGUgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWNyZWF0ZVwiO1xuaW1wb3J0IHsgcmVmbGVjdGlvbk1lcmdlUGFydGlhbCB9IGZyb20gXCIuL3JlZmxlY3Rpb24tbWVyZ2UtcGFydGlhbFwiO1xuaW1wb3J0IHsgdHlwZW9mSnNvblZhbHVlIH0gZnJvbSBcIi4vanNvbi10eXBpbmdzXCI7XG5pbXBvcnQgeyBqc29uUmVhZE9wdGlvbnMsIGpzb25Xcml0ZU9wdGlvbnMsIH0gZnJvbSBcIi4vanNvbi1mb3JtYXQtY29udHJhY3RcIjtcbmltcG9ydCB7IHJlZmxlY3Rpb25FcXVhbHMgfSBmcm9tIFwiLi9yZWZsZWN0aW9uLWVxdWFsc1wiO1xuaW1wb3J0IHsgYmluYXJ5V3JpdGVPcHRpb25zIH0gZnJvbSBcIi4vYmluYXJ5LXdyaXRlclwiO1xuaW1wb3J0IHsgYmluYXJ5UmVhZE9wdGlvbnMgfSBmcm9tIFwiLi9iaW5hcnktcmVhZGVyXCI7XG5jb25zdCBiYXNlRGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhPYmplY3QuZ2V0UHJvdG90eXBlT2Yoe30pKTtcbmNvbnN0IG1lc3NhZ2VUeXBlRGVzY3JpcHRvciA9IGJhc2VEZXNjcmlwdG9yc1tNRVNTQUdFX1RZUEVdID0ge307XG4vKipcbiAqIFRoaXMgc3RhbmRhcmQgbWVzc2FnZSB0eXBlIHByb3ZpZGVzIHJlZmxlY3Rpb24tYmFzZWRcbiAqIG9wZXJhdGlvbnMgdG8gd29yayB3aXRoIGEgbWVzc2FnZS5cbiAqL1xuZXhwb3J0IGNsYXNzIE1lc3NhZ2VUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBmaWVsZHMsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0Q2hlY2tEZXB0aCA9IDE2O1xuICAgICAgICB0aGlzLnR5cGVOYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBmaWVsZHMubWFwKG5vcm1hbGl6ZUZpZWxkSW5mbyk7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9O1xuICAgICAgICBtZXNzYWdlVHlwZURlc2NyaXB0b3IudmFsdWUgPSB0aGlzO1xuICAgICAgICB0aGlzLm1lc3NhZ2VQcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwsIGJhc2VEZXNjcmlwdG9ycyk7XG4gICAgICAgIHRoaXMucmVmVHlwZUNoZWNrID0gbmV3IFJlZmxlY3Rpb25UeXBlQ2hlY2sodGhpcyk7XG4gICAgICAgIHRoaXMucmVmSnNvblJlYWRlciA9IG5ldyBSZWZsZWN0aW9uSnNvblJlYWRlcih0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZKc29uV3JpdGVyID0gbmV3IFJlZmxlY3Rpb25Kc29uV3JpdGVyKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZkJpblJlYWRlciA9IG5ldyBSZWZsZWN0aW9uQmluYXJ5UmVhZGVyKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZkJpbldyaXRlciA9IG5ldyBSZWZsZWN0aW9uQmluYXJ5V3JpdGVyKHRoaXMpO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWUpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSByZWZsZWN0aW9uQ3JlYXRlKHRoaXMpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbCh0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lIHRoZSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogVW5rbm93biBmaWVsZHMgYXJlIGRpc2NhcmRlZC5cbiAgICAgKi9cbiAgICBjbG9uZShtZXNzYWdlKSB7XG4gICAgICAgIGxldCBjb3B5ID0gdGhpcy5jcmVhdGUoKTtcbiAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbCh0aGlzLCBjb3B5LCBtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIGNvcHk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB0d28gbWVzc2FnZSBvZiB0aGUgc2FtZSB0eXBlIGhhdmUgdGhlIHNhbWUgZmllbGQgdmFsdWVzLlxuICAgICAqIENoZWNrcyBmb3IgZGVlcCBlcXVhbGl0eSwgdHJhdmVyc2luZyByZXBlYXRlZCBmaWVsZHMsIG9uZW9mIGdyb3VwcywgbWFwc1xuICAgICAqIGFuZCBtZXNzYWdlcyByZWN1cnNpdmVseS5cbiAgICAgKiBXaWxsIGFsc28gcmV0dXJuIHRydWUgaWYgYm90aCBtZXNzYWdlcyBhcmUgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZXF1YWxzKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIHJlZmxlY3Rpb25FcXVhbHModGhpcywgYSwgYik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElzIHRoZSBnaXZlbiB2YWx1ZSBhc3NpZ25hYmxlIHRvIG91ciBtZXNzYWdlIHR5cGVcbiAgICAgKiBhbmQgY29udGFpbnMgbm8gW2V4Y2VzcyBwcm9wZXJ0aWVzXShodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay9pbnRlcmZhY2VzLmh0bWwjZXhjZXNzLXByb3BlcnR5LWNoZWNrcyk/XG4gICAgICovXG4gICAgaXMoYXJnLCBkZXB0aCA9IHRoaXMuZGVmYXVsdENoZWNrRGVwdGgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmVHlwZUNoZWNrLmlzKGFyZywgZGVwdGgsIGZhbHNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXMgdGhlIGdpdmVuIHZhbHVlIGFzc2lnbmFibGUgdG8gb3VyIG1lc3NhZ2UgdHlwZSxcbiAgICAgKiByZWdhcmRsZXNzIG9mIFtleGNlc3MgcHJvcGVydGllc10oaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svaW50ZXJmYWNlcy5odG1sI2V4Y2Vzcy1wcm9wZXJ0eS1jaGVja3MpP1xuICAgICAqL1xuICAgIGlzQXNzaWduYWJsZShhcmcsIGRlcHRoID0gdGhpcy5kZWZhdWx0Q2hlY2tEZXB0aCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZUeXBlQ2hlY2suaXMoYXJnLCBkZXB0aCwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvcHkgcGFydGlhbCBkYXRhIGludG8gdGhlIHRhcmdldCBtZXNzYWdlLlxuICAgICAqL1xuICAgIG1lcmdlUGFydGlhbCh0YXJnZXQsIHNvdXJjZSkge1xuICAgICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsKHRoaXMsIHRhcmdldCwgc291cmNlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IG1lc3NhZ2UgZnJvbSBiaW5hcnkgZm9ybWF0LlxuICAgICAqL1xuICAgIGZyb21CaW5hcnkoZGF0YSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgb3B0ID0gYmluYXJ5UmVhZE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVybmFsQmluYXJ5UmVhZChvcHQucmVhZGVyRmFjdG9yeShkYXRhKSwgZGF0YS5ieXRlTGVuZ3RoLCBvcHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGEgbmV3IG1lc3NhZ2UgZnJvbSBhIEpTT04gdmFsdWUuXG4gICAgICovXG4gICAgZnJvbUpzb24oanNvbiwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEpzb25SZWFkKGpzb24sIGpzb25SZWFkT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWQgYSBuZXcgbWVzc2FnZSBmcm9tIGEgSlNPTiBzdHJpbmcuXG4gICAgICogVGhpcyBpcyBlcXVpdmFsZW50IHRvIGBULmZyb21Kc29uKEpTT04ucGFyc2UoanNvbikpYC5cbiAgICAgKi9cbiAgICBmcm9tSnNvblN0cmluZyhqc29uLCBvcHRpb25zKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IEpTT04ucGFyc2UoanNvbik7XG4gICAgICAgIHJldHVybiB0aGlzLmZyb21Kc29uKHZhbHVlLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGUgdGhlIG1lc3NhZ2UgdG8gY2Fub25pY2FsIEpTT04gdmFsdWUuXG4gICAgICovXG4gICAgdG9Kc29uKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZSwganNvbldyaXRlT3B0aW9ucyhvcHRpb25zKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIG1lc3NhZ2UgdG8gY2Fub25pY2FsIEpTT04gc3RyaW5nLlxuICAgICAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byBgSlNPTi5zdHJpbmdpZnkoVC50b0pzb24odCkpYFxuICAgICAqL1xuICAgIHRvSnNvblN0cmluZyhtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgbGV0IHZhbHVlID0gdGhpcy50b0pzb24obWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSwgbnVsbCwgKF9hID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnByZXR0eVNwYWNlcykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBmb3JtYXQuXG4gICAgICovXG4gICAgdG9CaW5hcnkobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBsZXQgb3B0ID0gYmluYXJ5V3JpdGVPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2UsIG9wdC53cml0ZXJGYWN0b3J5KCksIG9wdCkuZmluaXNoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYW4gaW50ZXJuYWwgbWV0aG9kLiBJZiB5b3UganVzdCB3YW50IHRvIHJlYWQgYSBtZXNzYWdlIGZyb21cbiAgICAgKiBKU09OLCB1c2UgYGZyb21Kc29uKClgIG9yIGBmcm9tSnNvblN0cmluZygpYC5cbiAgICAgKlxuICAgICAqIFJlYWRzIEpTT04gdmFsdWUgYW5kIG1lcmdlcyB0aGUgZmllbGRzIGludG8gdGhlIHRhcmdldFxuICAgICAqIGFjY29yZGluZyB0byBwcm90b2J1ZiBydWxlcy4gSWYgdGhlIHRhcmdldCBpcyBvbWl0dGVkLFxuICAgICAqIGEgbmV3IGluc3RhbmNlIGlzIGNyZWF0ZWQgZmlyc3QuXG4gICAgICovXG4gICAgaW50ZXJuYWxKc29uUmVhZChqc29uLCBvcHRpb25zLCB0YXJnZXQpIHtcbiAgICAgICAgaWYgKGpzb24gIT09IG51bGwgJiYgdHlwZW9mIGpzb24gPT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgIT09IG51bGwgJiYgdGFyZ2V0ICE9PSB2b2lkIDAgPyB0YXJnZXQgOiB0aGlzLmNyZWF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5yZWZKc29uUmVhZGVyLnJlYWQoanNvbiwgbWVzc2FnZSwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byBwYXJzZSBtZXNzYWdlICR7dGhpcy50eXBlTmFtZX0gZnJvbSBKU09OICR7dHlwZW9mSnNvblZhbHVlKGpzb24pfS5gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBhbiBpbnRlcm5hbCBtZXRob2QuIElmIHlvdSBqdXN0IHdhbnQgdG8gd3JpdGUgYSBtZXNzYWdlXG4gICAgICogdG8gSlNPTiwgdXNlIGB0b0pzb24oKWAgb3IgYHRvSnNvblN0cmluZygpLlxuICAgICAqXG4gICAgICogV3JpdGVzIEpTT04gdmFsdWUgYW5kIHJldHVybnMgaXQuXG4gICAgICovXG4gICAgaW50ZXJuYWxKc29uV3JpdGUobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZKc29uV3JpdGVyLndyaXRlKG1lc3NhZ2UsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGFuIGludGVybmFsIG1ldGhvZC4gSWYgeW91IGp1c3Qgd2FudCB0byB3cml0ZSBhIG1lc3NhZ2VcbiAgICAgKiBpbiBiaW5hcnkgZm9ybWF0LCB1c2UgYHRvQmluYXJ5KClgLlxuICAgICAqXG4gICAgICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSBpbiBiaW5hcnkgZm9ybWF0IGFuZCBhcHBlbmRzIGl0IHRvIHRoZSBnaXZlblxuICAgICAqIHdyaXRlci4gUmV0dXJucyBwYXNzZWQgd3JpdGVyLlxuICAgICAqL1xuICAgIGludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZSwgd3JpdGVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucmVmQmluV3JpdGVyLndyaXRlKG1lc3NhZ2UsIHdyaXRlciwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMgYW4gaW50ZXJuYWwgbWV0aG9kLiBJZiB5b3UganVzdCB3YW50IHRvIHJlYWQgYSBtZXNzYWdlIGZyb21cbiAgICAgKiBiaW5hcnkgZGF0YSwgdXNlIGBmcm9tQmluYXJ5KClgLlxuICAgICAqXG4gICAgICogUmVhZHMgZGF0YSBmcm9tIGJpbmFyeSBmb3JtYXQgYW5kIG1lcmdlcyB0aGUgZmllbGRzIGludG9cbiAgICAgKiB0aGUgdGFyZ2V0IGFjY29yZGluZyB0byBwcm90b2J1ZiBydWxlcy4gSWYgdGhlIHRhcmdldCBpc1xuICAgICAqIG9taXR0ZWQsIGEgbmV3IGluc3RhbmNlIGlzIGNyZWF0ZWQgZmlyc3QuXG4gICAgICovXG4gICAgaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgbGVuZ3RoLCBvcHRpb25zLCB0YXJnZXQpIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgIT09IG51bGwgJiYgdGFyZ2V0ICE9PSB2b2lkIDAgPyB0YXJnZXQgOiB0aGlzLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLnJlZkJpblJlYWRlci5yZWFkKHJlYWRlciwgbWVzc2FnZSwgb3B0aW9ucywgbGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgbG93ZXJDYW1lbENhc2UgfSBmcm9tIFwiQHByb3RvYnVmLXRzL3J1bnRpbWVcIjtcbi8qKlxuICogVHVybnMgUGFydGlhbE1ldGhvZEluZm8gaW50byBNZXRob2RJbmZvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kSW5mbyhtZXRob2QsIHNlcnZpY2UpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICBsZXQgbSA9IG1ldGhvZDtcbiAgICBtLnNlcnZpY2UgPSBzZXJ2aWNlO1xuICAgIG0ubG9jYWxOYW1lID0gKF9hID0gbS5sb2NhbE5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGxvd2VyQ2FtZWxDYXNlKG0ubmFtZSk7XG4gICAgLy8gbm9pbnNwZWN0aW9uIFBvaW50bGVzc0Jvb2xlYW5FeHByZXNzaW9uSlNcbiAgICBtLnNlcnZlclN0cmVhbWluZyA9ICEhbS5zZXJ2ZXJTdHJlYW1pbmc7XG4gICAgLy8gbm9pbnNwZWN0aW9uIFBvaW50bGVzc0Jvb2xlYW5FeHByZXNzaW9uSlNcbiAgICBtLmNsaWVudFN0cmVhbWluZyA9ICEhbS5jbGllbnRTdHJlYW1pbmc7XG4gICAgbS5vcHRpb25zID0gKF9iID0gbS5vcHRpb25zKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB7fTtcbiAgICBtLmlkZW1wb3RlbmN5ID0gKF9jID0gbS5pZGVtcG90ZW5jeSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBtO1xufVxuLyoqXG4gKiBSZWFkIGN1c3RvbSBtZXRob2Qgb3B0aW9ucyBmcm9tIGEgZ2VuZXJhdGVkIHNlcnZpY2UgY2xpZW50LlxuICpcbiAqIEBkZXByZWNhdGVkIHVzZSByZWFkTWV0aG9kT3B0aW9uKClcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRNZXRob2RPcHRpb25zKHNlcnZpY2UsIG1ldGhvZE5hbWUsIGV4dGVuc2lvbk5hbWUsIGV4dGVuc2lvblR5cGUpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgb3B0aW9ucyA9IChfYSA9IHNlcnZpY2UubWV0aG9kcy5maW5kKChtLCBpKSA9PiBtLmxvY2FsTmFtZSA9PT0gbWV0aG9kTmFtZSB8fCBpID09PSBtZXRob2ROYW1lKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9wdGlvbnM7XG4gICAgcmV0dXJuIG9wdGlvbnMgJiYgb3B0aW9uc1tleHRlbnNpb25OYW1lXSA/IGV4dGVuc2lvblR5cGUuZnJvbUpzb24ob3B0aW9uc1tleHRlbnNpb25OYW1lXSkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVhZE1ldGhvZE9wdGlvbihzZXJ2aWNlLCBtZXRob2ROYW1lLCBleHRlbnNpb25OYW1lLCBleHRlbnNpb25UeXBlKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IG9wdGlvbnMgPSAoX2EgPSBzZXJ2aWNlLm1ldGhvZHMuZmluZCgobSwgaSkgPT4gbS5sb2NhbE5hbWUgPT09IG1ldGhvZE5hbWUgfHwgaSA9PT0gbWV0aG9kTmFtZSkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcHRpb25zO1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBjb25zdCBvcHRpb25WYWwgPSBvcHRpb25zW2V4dGVuc2lvbk5hbWVdO1xuICAgIGlmIChvcHRpb25WYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gb3B0aW9uVmFsO1xuICAgIH1cbiAgICByZXR1cm4gZXh0ZW5zaW9uVHlwZSA/IGV4dGVuc2lvblR5cGUuZnJvbUpzb24ob3B0aW9uVmFsKSA6IG9wdGlvblZhbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWFkU2VydmljZU9wdGlvbihzZXJ2aWNlLCBleHRlbnNpb25OYW1lLCBleHRlbnNpb25UeXBlKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHNlcnZpY2Uub3B0aW9ucztcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3Qgb3B0aW9uVmFsID0gb3B0aW9uc1tleHRlbnNpb25OYW1lXTtcbiAgICBpZiAob3B0aW9uVmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvblZhbDtcbiAgICB9XG4gICAgcmV0dXJuIGV4dGVuc2lvblR5cGUgPyBleHRlbnNpb25UeXBlLmZyb21Kc29uKG9wdGlvblZhbCkgOiBvcHRpb25WYWw7XG59XG4iLCJpbXBvcnQgeyBub3JtYWxpemVNZXRob2RJbmZvIH0gZnJvbSBcIi4vcmVmbGVjdGlvbi1pbmZvXCI7XG5leHBvcnQgY2xhc3MgU2VydmljZVR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHR5cGVOYW1lLCBtZXRob2RzLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMudHlwZU5hbWUgPSB0eXBlTmFtZTtcbiAgICAgICAgdGhpcy5tZXRob2RzID0gbWV0aG9kcy5tYXAoaSA9PiBub3JtYWxpemVNZXRob2RJbmZvKGksIHRoaXMpKTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge307XG4gICAgfVxufVxuIiwiLyoqXG4gKiBBbiBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGNhbGxpbmcgYSBSUEMgbWV0aG9kLlxuICovXG5leHBvcnQgY2xhc3MgUnBjRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgY29kZSA9ICdVTktOT1dOJywgbWV0YSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ1JwY0Vycm9yJztcbiAgICAgICAgLy8gc2VlIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rL3JlbGVhc2Utbm90ZXMvdHlwZXNjcmlwdC0yLTIuaHRtbCNleGFtcGxlXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBuZXcudGFyZ2V0LnByb3RvdHlwZSk7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMubWV0YSA9IG1ldGEgIT09IG51bGwgJiYgbWV0YSAhPT0gdm9pZCAwID8gbWV0YSA6IHt9O1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgbCA9IFt0aGlzLm5hbWUgKyAnOiAnICsgdGhpcy5tZXNzYWdlXTtcbiAgICAgICAgaWYgKHRoaXMuY29kZSkge1xuICAgICAgICAgICAgbC5wdXNoKCcnKTtcbiAgICAgICAgICAgIGwucHVzaCgnQ29kZTogJyArIHRoaXMuY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VydmljZU5hbWUgJiYgdGhpcy5tZXRob2ROYW1lKSB7XG4gICAgICAgICAgICBsLnB1c2goJ01ldGhvZDogJyArIHRoaXMuc2VydmljZU5hbWUgKyAnLycgKyB0aGlzLm1ldGhvZE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtID0gT2JqZWN0LmVudHJpZXModGhpcy5tZXRhKTtcbiAgICAgICAgaWYgKG0ubGVuZ3RoKSB7XG4gICAgICAgICAgICBsLnB1c2goJycpO1xuICAgICAgICAgICAgbC5wdXNoKCdNZXRhOicpO1xuICAgICAgICAgICAgZm9yIChsZXQgW2ssIHZdIG9mIG0pIHtcbiAgICAgICAgICAgICAgICBsLnB1c2goYCAgJHtrfTogJHt2fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsLmpvaW4oJ1xcbicpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IG1lcmdlQmluYXJ5T3B0aW9ucywgbWVyZ2VKc29uT3B0aW9ucyB9IGZyb20gXCJAcHJvdG9idWYtdHMvcnVudGltZVwiO1xuLyoqXG4gKiBNZXJnZXMgY3VzdG9tIFJQQyBvcHRpb25zIHdpdGggZGVmYXVsdHMuIFJldHVybnMgYSBuZXcgaW5zdGFuY2UgYW5kIGtlZXBzXG4gKiB0aGUgXCJkZWZhdWx0c1wiIGFuZCB0aGUgXCJvcHRpb25zXCIgdW5tb2RpZmllZC5cbiAqXG4gKiBNZXJnZXMgYFJwY01ldGFkYXRhYCBcIm1ldGFcIiwgb3ZlcndyaXRpbmcgdmFsdWVzIGZyb20gXCJkZWZhdWx0c1wiIHdpdGhcbiAqIHZhbHVlcyBmcm9tIFwib3B0aW9uc1wiLiBEb2VzIG5vdCBhcHBlbmQgdmFsdWVzIHRvIGV4aXN0aW5nIGVudHJpZXMuXG4gKlxuICogTWVyZ2VzIFwianNvbk9wdGlvbnNcIiwgaW5jbHVkaW5nIFwianNvbk9wdGlvbnMudHlwZVJlZ2lzdHJ5XCIsIGJ5IGNyZWF0aW5nXG4gKiBhIG5ldyBhcnJheSB0aGF0IGNvbnRhaW5zIHR5cGVzIGZyb20gXCJvcHRpb25zLmpzb25PcHRpb25zLnR5cGVSZWdpc3RyeVwiXG4gKiBmaXJzdCwgdGhlbiB0eXBlcyBmcm9tIFwiZGVmYXVsdHMuanNvbk9wdGlvbnMudHlwZVJlZ2lzdHJ5XCIuXG4gKlxuICogTWVyZ2VzIFwiYmluYXJ5T3B0aW9uc1wiLlxuICpcbiAqIE1lcmdlcyBcImludGVyY2VwdG9yc1wiIGJ5IGNyZWF0aW5nIGEgbmV3IGFycmF5IHRoYXQgY29udGFpbnMgaW50ZXJjZXB0b3JzXG4gKiBmcm9tIFwiZGVmYXVsdHNcIiBmaXJzdCwgdGhlbiBpbnRlcmNlcHRvcnMgZnJvbSBcIm9wdGlvbnNcIi5cbiAqXG4gKiBXb3JrcyB3aXRoIG9iamVjdHMgdGhhdCBleHRlbmQgYFJwY09wdGlvbnNgLCBidXQgb25seSBpZiB0aGUgYWRkZWRcbiAqIHByb3BlcnRpZXMgYXJlIG9mIHR5cGUgRGF0ZSwgcHJpbWl0aXZlIGxpa2Ugc3RyaW5nLCBib29sZWFuLCBvciBBcnJheVxuICogb2YgcHJpbWl0aXZlcy4gSWYgeW91IGhhdmUgb3RoZXIgcHJvcGVydHkgdHlwZXMsIHlvdSBoYXZlIHRvIG1lcmdlIHRoZW1cbiAqIHlvdXJzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VScGNPcHRpb25zKGRlZmF1bHRzLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKVxuICAgICAgICByZXR1cm4gZGVmYXVsdHM7XG4gICAgbGV0IG8gPSB7fTtcbiAgICBjb3B5KGRlZmF1bHRzLCBvKTtcbiAgICBjb3B5KG9wdGlvbnMsIG8pO1xuICAgIGZvciAobGV0IGtleSBvZiBPYmplY3Qua2V5cyhvcHRpb25zKSkge1xuICAgICAgICBsZXQgdmFsID0gb3B0aW9uc1trZXldO1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSBcImpzb25PcHRpb25zXCI6XG4gICAgICAgICAgICAgICAgby5qc29uT3B0aW9ucyA9IG1lcmdlSnNvbk9wdGlvbnMoZGVmYXVsdHMuanNvbk9wdGlvbnMsIG8uanNvbk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJpbmFyeU9wdGlvbnNcIjpcbiAgICAgICAgICAgICAgICBvLmJpbmFyeU9wdGlvbnMgPSBtZXJnZUJpbmFyeU9wdGlvbnMoZGVmYXVsdHMuYmluYXJ5T3B0aW9ucywgby5iaW5hcnlPcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgICAgICAgICAgby5tZXRhID0ge307XG4gICAgICAgICAgICAgICAgY29weShkZWZhdWx0cy5tZXRhLCBvLm1ldGEpO1xuICAgICAgICAgICAgICAgIGNvcHkob3B0aW9ucy5tZXRhLCBvLm1ldGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImludGVyY2VwdG9yc1wiOlxuICAgICAgICAgICAgICAgIG8uaW50ZXJjZXB0b3JzID0gZGVmYXVsdHMuaW50ZXJjZXB0b3JzID8gZGVmYXVsdHMuaW50ZXJjZXB0b3JzLmNvbmNhdCh2YWwpIDogdmFsLmNvbmNhdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvO1xufVxuZnVuY3Rpb24gY29weShhLCBpbnRvKSB7XG4gICAgaWYgKCFhKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IGMgPSBpbnRvO1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhhKSkge1xuICAgICAgICBpZiAodiBpbnN0YW5jZW9mIERhdGUpXG4gICAgICAgICAgICBjW2tdID0gbmV3IERhdGUodi5nZXRUaW1lKCkpO1xuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHYpKVxuICAgICAgICAgICAgY1trXSA9IHYuY29uY2F0KCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNba10gPSB2O1xuICAgIH1cbn1cbiIsImV4cG9ydCB2YXIgRGVmZXJyZWRTdGF0ZTtcbihmdW5jdGlvbiAoRGVmZXJyZWRTdGF0ZSkge1xuICAgIERlZmVycmVkU3RhdGVbRGVmZXJyZWRTdGF0ZVtcIlBFTkRJTkdcIl0gPSAwXSA9IFwiUEVORElOR1wiO1xuICAgIERlZmVycmVkU3RhdGVbRGVmZXJyZWRTdGF0ZVtcIlJFSkVDVEVEXCJdID0gMV0gPSBcIlJFSkVDVEVEXCI7XG4gICAgRGVmZXJyZWRTdGF0ZVtEZWZlcnJlZFN0YXRlW1wiUkVTT0xWRURcIl0gPSAyXSA9IFwiUkVTT0xWRURcIjtcbn0pKERlZmVycmVkU3RhdGUgfHwgKERlZmVycmVkU3RhdGUgPSB7fSkpO1xuLyoqXG4gKiBBIGRlZmVycmVkIHByb21pc2UuIFRoaXMgaXMgYSBcImNvbnRyb2xsZXJcIiBmb3IgYSBwcm9taXNlLCB3aGljaCBsZXRzIHlvdVxuICogcGFzcyBhIHByb21pc2UgYXJvdW5kIGFuZCByZWplY3Qgb3IgcmVzb2x2ZSBpdCBmcm9tIHRoZSBvdXRzaWRlLlxuICpcbiAqIFdhcm5pbmc6IFRoaXMgY2xhc3MgaXMgdG8gYmUgdXNlZCB3aXRoIGNhcmUuIFVzaW5nIGl0IGNhbiBtYWtlIGNvZGUgdmVyeVxuICogZGlmZmljdWx0IHRvIHJlYWQuIEl0IGlzIGludGVuZGVkIGZvciB1c2UgaW4gbGlicmFyeSBjb2RlIHRoYXQgZXhwb3Nlc1xuICogcHJvbWlzZXMsIG5vdCBmb3IgcmVndWxhciBidXNpbmVzcyBsb2dpYy5cbiAqL1xuZXhwb3J0IGNsYXNzIERlZmVycmVkIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcHJldmVudFVuaGFuZGxlZFJlamVjdGlvbldhcm5pbmcgLSBwcmV2ZW50cyB0aGUgd2FybmluZ1xuICAgICAqIFwiVW5oYW5kbGVkIFByb21pc2UgcmVqZWN0aW9uXCIgYnkgYWRkaW5nIGEgbm9vcCByZWplY3Rpb24gaGFuZGxlci5cbiAgICAgKiBXb3JraW5nIHdpdGggY2FsbHMgcmV0dXJuZWQgZnJvbSB0aGUgcnVudGltZS1ycGMgcGFja2FnZSBpbiBhblxuICAgICAqIGFzeW5jIGZ1bmN0aW9uIHVzdWFsbHkgbWVhbnMgYXdhaXRpbmcgb25lIGNhbGwgcHJvcGVydHkgYWZ0ZXJcbiAgICAgKiB0aGUgb3RoZXIuIFRoaXMgbWVhbnMgdGhhdCB0aGUgXCJzdGF0dXNcIiBpcyBub3QgYmVpbmcgYXdhaXRlZCB3aGVuXG4gICAgICogYW4gZWFybGllciBhd2FpdCBmb3IgdGhlIFwiaGVhZGVyc1wiIGlzIHJlamVjdGVkLiBUaGlzIGNhdXNlcyB0aGVcbiAgICAgKiBcInVuaGFuZGxlZCBwcm9taXNlIHJlamVjdFwiIHdhcm5pbmcuIEEgbW9yZSBjb3JyZWN0IGJlaGF2aW91ciBmb3JcbiAgICAgKiBjYWxscyBtaWdodCBiZSB0byBiZWNvbWUgYXdhcmUgd2hldGhlciBhdCBsZWFzdCBvbmUgb2YgdGhlXG4gICAgICogcHJvbWlzZXMgaXMgaGFuZGxlZCBhbmQgc3dhbGxvdyB0aGUgcmVqZWN0aW9uIHdhcm5pbmcgZm9yIHRoZVxuICAgICAqIG90aGVycy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihwcmV2ZW50VW5oYW5kbGVkUmVqZWN0aW9uV2FybmluZyA9IHRydWUpIHtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBEZWZlcnJlZFN0YXRlLlBFTkRJTkc7XG4gICAgICAgIHRoaXMuX3Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwcmV2ZW50VW5oYW5kbGVkUmVqZWN0aW9uV2FybmluZykge1xuICAgICAgICAgICAgdGhpcy5fcHJvbWlzZS5jYXRjaChfID0+IHsgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBwcm9taXNlLlxuICAgICAqL1xuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRlZmVycmVkIHByb21pc2UuXG4gICAgICovXG4gICAgZ2V0IHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlIHRoZSBwcm9taXNlLiBUaHJvd3MgaWYgdGhlIHByb21pc2UgaXMgYWxyZWFkeSByZXNvbHZlZCBvciByZWplY3RlZC5cbiAgICAgKi9cbiAgICByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBEZWZlcnJlZFN0YXRlLlBFTkRJTkcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGNhbm5vdCByZXNvbHZlICR7RGVmZXJyZWRTdGF0ZVt0aGlzLnN0YXRlXS50b0xvd2VyQ2FzZSgpfWApO1xuICAgICAgICB0aGlzLl9yZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBEZWZlcnJlZFN0YXRlLlJFU09MVkVEO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3QgdGhlIHByb21pc2UuIFRocm93cyBpZiB0aGUgcHJvbWlzZSBpcyBhbHJlYWR5IHJlc29sdmVkIG9yIHJlamVjdGVkLlxuICAgICAqL1xuICAgIHJlamVjdChyZWFzb24pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgIT09IERlZmVycmVkU3RhdGUuUEVORElORylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgY2Fubm90IHJlamVjdCAke0RlZmVycmVkU3RhdGVbdGhpcy5zdGF0ZV0udG9Mb3dlckNhc2UoKX1gKTtcbiAgICAgICAgdGhpcy5fcmVqZWN0KHJlYXNvbik7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gRGVmZXJyZWRTdGF0ZS5SRUpFQ1RFRDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzb2x2ZSB0aGUgcHJvbWlzZS4gSWdub3JlIGlmIG5vdCBwZW5kaW5nLlxuICAgICAqL1xuICAgIHJlc29sdmVQZW5kaW5nKHZhbCkge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IERlZmVycmVkU3RhdGUuUEVORElORylcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSh2YWwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWplY3QgdGhlIHByb21pc2UuIElnbm9yZSBpZiBub3QgcGVuZGluZy5cbiAgICAgKi9cbiAgICByZWplY3RQZW5kaW5nKHJlYXNvbikge1xuICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IERlZmVycmVkU3RhdGUuUEVORElORylcbiAgICAgICAgICAgIHRoaXMucmVqZWN0KHJlYXNvbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRGVmZXJyZWQsIERlZmVycmVkU3RhdGUgfSBmcm9tIFwiLi9kZWZlcnJlZFwiO1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG4vKipcbiAqIEEgYFJwY091dHB1dFN0cmVhbWAgdGhhdCB5b3UgY29udHJvbC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJwY091dHB1dFN0cmVhbUNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9saXMgPSB7XG4gICAgICAgICAgICBueHQ6IFtdLFxuICAgICAgICAgICAgbXNnOiBbXSxcbiAgICAgICAgICAgIGVycjogW10sXG4gICAgICAgICAgICBjbXA6IFtdLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgLy8gLS0tIFJwY091dHB1dFN0cmVhbSBhc3luYyBpdGVyYXRvciBBUElcbiAgICAgICAgLy8gaXRlcmF0b3Igc3RhdGUuXG4gICAgICAgIC8vIGlzIHVuZGVmaW5lZCB3aGVuIG5vIGl0ZXJhdG9yIGhhcyBiZWVuIGFjcXVpcmVkIHlldC5cbiAgICAgICAgdGhpcy5faXRTdGF0ZSA9IHsgcTogW10gfTtcbiAgICB9XG4gICAgLy8gLS0tIFJwY091dHB1dFN0cmVhbSBjYWxsYmFjayBBUElcbiAgICBvbk5leHQoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGlzKGNhbGxiYWNrLCB0aGlzLl9saXMubnh0KTtcbiAgICB9XG4gICAgb25NZXNzYWdlKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFkZExpcyhjYWxsYmFjaywgdGhpcy5fbGlzLm1zZyk7XG4gICAgfVxuICAgIG9uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGlzKGNhbGxiYWNrLCB0aGlzLl9saXMuZXJyKTtcbiAgICB9XG4gICAgb25Db21wbGV0ZShjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5hZGRMaXMoY2FsbGJhY2ssIHRoaXMuX2xpcy5jbXApO1xuICAgIH1cbiAgICBhZGRMaXMoY2FsbGJhY2ssIGxpc3QpIHtcbiAgICAgICAgbGlzdC5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGxldCBpID0gbGlzdC5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmIChpID49IDApXG4gICAgICAgICAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIHJlbW92ZSBhbGwgbGlzdGVuZXJzXG4gICAgY2xlYXJMaXMoKSB7XG4gICAgICAgIGZvciAobGV0IGwgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLl9saXMpKVxuICAgICAgICAgICAgbC5zcGxpY2UoMCwgbC5sZW5ndGgpO1xuICAgIH1cbiAgICAvLyAtLS0gQ29udHJvbGxlciBBUElcbiAgICAvKipcbiAgICAgKiBJcyB0aGlzIHN0cmVhbSBhbHJlYWR5IGNsb3NlZCBieSBhIGNvbXBsZXRpb24gb3IgZXJyb3I/XG4gICAgICovXG4gICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nsb3NlZCAhPT0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXQgbWVzc2FnZSwgY2xvc2Ugd2l0aCBlcnJvciwgb3IgY2xvc2Ugc3VjY2Vzc2Z1bGx5LCBidXQgb25seSBvbmVcbiAgICAgKiBhdCBhIHRpbWUuXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gd3JhcCBhIHN0cmVhbSBieSB1c2luZyB0aGUgb3RoZXIgc3RyZWFtJ3MgYG9uTmV4dGAuXG4gICAgICovXG4gICAgbm90aWZ5TmV4dChtZXNzYWdlLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgYXNzZXJ0KChtZXNzYWdlID8gMSA6IDApICsgKGVycm9yID8gMSA6IDApICsgKGNvbXBsZXRlID8gMSA6IDApIDw9IDEsICdvbmx5IG9uZSBlbWlzc2lvbiBhdCBhIHRpbWUnKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UpXG4gICAgICAgICAgICB0aGlzLm5vdGlmeU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgIGlmIChlcnJvcilcbiAgICAgICAgICAgIHRoaXMubm90aWZ5RXJyb3IoZXJyb3IpO1xuICAgICAgICBpZiAoY29tcGxldGUpXG4gICAgICAgICAgICB0aGlzLm5vdGlmeUNvbXBsZXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVtaXRzIGEgbmV3IG1lc3NhZ2UuIFRocm93cyBpZiBzdHJlYW0gaXMgY2xvc2VkLlxuICAgICAqXG4gICAgICogVHJpZ2dlcnMgb25OZXh0IGFuZCBvbk1lc3NhZ2UgY2FsbGJhY2tzLlxuICAgICAqL1xuICAgIG5vdGlmeU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBhc3NlcnQoIXRoaXMuY2xvc2VkLCAnc3RyZWFtIGlzIGNsb3NlZCcpO1xuICAgICAgICB0aGlzLnB1c2hJdCh7IHZhbHVlOiBtZXNzYWdlLCBkb25lOiBmYWxzZSB9KTtcbiAgICAgICAgdGhpcy5fbGlzLm1zZy5mb3JFYWNoKGwgPT4gbChtZXNzYWdlKSk7XG4gICAgICAgIHRoaXMuX2xpcy5ueHQuZm9yRWFjaChsID0+IGwobWVzc2FnZSwgdW5kZWZpbmVkLCBmYWxzZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHN0cmVhbSB3aXRoIGFuIGVycm9yLiBUaHJvd3MgaWYgc3RyZWFtIGlzIGNsb3NlZC5cbiAgICAgKlxuICAgICAqIFRyaWdnZXJzIG9uTmV4dCBhbmQgb25FcnJvciBjYWxsYmFja3MuXG4gICAgICovXG4gICAgbm90aWZ5RXJyb3IoZXJyb3IpIHtcbiAgICAgICAgYXNzZXJ0KCF0aGlzLmNsb3NlZCwgJ3N0cmVhbSBpcyBjbG9zZWQnKTtcbiAgICAgICAgdGhpcy5fY2xvc2VkID0gZXJyb3I7XG4gICAgICAgIHRoaXMucHVzaEl0KGVycm9yKTtcbiAgICAgICAgdGhpcy5fbGlzLmVyci5mb3JFYWNoKGwgPT4gbChlcnJvcikpO1xuICAgICAgICB0aGlzLl9saXMubnh0LmZvckVhY2gobCA9PiBsKHVuZGVmaW5lZCwgZXJyb3IsIGZhbHNlKSk7XG4gICAgICAgIHRoaXMuY2xlYXJMaXMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xvc2VzIHRoZSBzdHJlYW0gc3VjY2Vzc2Z1bGx5LiBUaHJvd3MgaWYgc3RyZWFtIGlzIGNsb3NlZC5cbiAgICAgKlxuICAgICAqIFRyaWdnZXJzIG9uTmV4dCBhbmQgb25Db21wbGV0ZSBjYWxsYmFja3MuXG4gICAgICovXG4gICAgbm90aWZ5Q29tcGxldGUoKSB7XG4gICAgICAgIGFzc2VydCghdGhpcy5jbG9zZWQsICdzdHJlYW0gaXMgY2xvc2VkJyk7XG4gICAgICAgIHRoaXMuX2Nsb3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucHVzaEl0KHsgdmFsdWU6IG51bGwsIGRvbmU6IHRydWUgfSk7XG4gICAgICAgIHRoaXMuX2xpcy5jbXAuZm9yRWFjaChsID0+IGwoKSk7XG4gICAgICAgIHRoaXMuX2xpcy5ueHQuZm9yRWFjaChsID0+IGwodW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpKTtcbiAgICAgICAgdGhpcy5jbGVhckxpcygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFzeW5jIGl0ZXJhdG9yICh0aGF0IGNhbiBiZSB1c2VkIHdpdGggYGZvciBhd2FpdCB7Li4ufWApXG4gICAgICogdG8gY29uc3VtZSB0aGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogU29tZSB0aGluZ3MgdG8gbm90ZTpcbiAgICAgKiAtIElmIGFuIGVycm9yIG9jY3VycywgdGhlIGBmb3IgYXdhaXRgIHdpbGwgdGhyb3cgaXQuXG4gICAgICogLSBJZiBhbiBlcnJvciBvY2N1cnJlZCBiZWZvcmUgdGhlIGBmb3IgYXdhaXRgIHdhcyBzdGFydGVkLCBgZm9yIGF3YWl0YFxuICAgICAqICAgd2lsbCByZS10aHJvdyBpdC5cbiAgICAgKiAtIElmIHRoZSBzdHJlYW0gaXMgYWxyZWFkeSBjb21wbGV0ZSwgdGhlIGBmb3IgYXdhaXRgIHdpbGwgYmUgZW1wdHkuXG4gICAgICogLSBJZiB5b3VyIGBmb3IgYXdhaXRgIGNvbnN1bWVzIHNsb3dlciB0aGFuIHRoZSBzdHJlYW0gcHJvZHVjZXMsXG4gICAgICogICBmb3IgZXhhbXBsZSBiZWNhdXNlIHlvdSBhcmUgcmVsYXlpbmcgbWVzc2FnZXMgaW4gYSBzbG93IG9wZXJhdGlvbixcbiAgICAgKiAgIG1lc3NhZ2VzIGFyZSBxdWV1ZWQuXG4gICAgICovXG4gICAgW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgLy8gaWYgd2UgYXJlIGNsb3NlZCwgd2UgYXJlIGRlZmluaXRlbHkgbm90IHJlY2VpdmluZyBhbnkgbW9yZSBtZXNzYWdlcy5cbiAgICAgICAgLy8gYnV0IHdlIGNhbid0IGxldCB0aGUgaXRlcmF0b3IgZ2V0IHN0dWNrLiB3ZSB3YW50IHRvIGVpdGhlcjpcbiAgICAgICAgLy8gYSkgZmluaXNoIHRoZSBuZXcgaXRlcmF0b3IgaW1tZWRpYXRlbHksIGJlY2F1c2Ugd2UgYXJlIGNvbXBsZXRlZFxuICAgICAgICAvLyBiKSByZWplY3QgdGhlIG5ldyBpdGVyYXRvciwgYmVjYXVzZSB3ZSBlcnJvcmVkXG4gICAgICAgIGlmICh0aGlzLl9jbG9zZWQgPT09IHRydWUpXG4gICAgICAgICAgICB0aGlzLnB1c2hJdCh7IHZhbHVlOiBudWxsLCBkb25lOiB0cnVlIH0pO1xuICAgICAgICBlbHNlIGlmICh0aGlzLl9jbG9zZWQgIT09IGZhbHNlKVxuICAgICAgICAgICAgdGhpcy5wdXNoSXQodGhpcy5fY2xvc2VkKTtcbiAgICAgICAgLy8gdGhlIGFzeW5jIGl0ZXJhdG9yXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5faXRTdGF0ZTtcbiAgICAgICAgICAgICAgICBhc3NlcnQoc3RhdGUsIFwiYmFkIHN0YXRlXCIpOyAvLyBpZiB3ZSBkb24ndCBoYXZlIGEgc3RhdGUgaGVyZSwgY29kZSBpcyBicm9rZW5cbiAgICAgICAgICAgICAgICAvLyB0aGVyZSBzaG91bGQgYmUgbm8gcGVuZGluZyByZXN1bHQuXG4gICAgICAgICAgICAgICAgLy8gZGlkIHRoZSBjb25zdW1lciBjYWxsIG5leHQoKSBiZWZvcmUgd2UgcmVzb2x2ZWQgb3VyIHByZXZpb3VzIHJlc3VsdCBwcm9taXNlP1xuICAgICAgICAgICAgICAgIGFzc2VydCghc3RhdGUucCwgXCJpdGVyYXRvciBjb250cmFjdCBicm9rZW5cIik7XG4gICAgICAgICAgICAgICAgLy8gZGlkIHdlIHByb2R1Y2UgZmFzdGVyIHRoYW4gdGhlIGl0ZXJhdG9yIGNvbnN1bWVkP1xuICAgICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgb2xkZXN0IHJlc3VsdCBmcm9tIHRoZSBxdWV1ZS5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3QgPSBzdGF0ZS5xLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFwidmFsdWVcIiBpbiBmaXJzdCkgPyBQcm9taXNlLnJlc29sdmUoZmlyc3QpIDogUHJvbWlzZS5yZWplY3QoZmlyc3QpO1xuICAgICAgICAgICAgICAgIC8vIHdlIGhhdmUgbm8gcmVzdWx0IEFUTSwgYnV0IHdlIHByb21pc2Ugb25lLlxuICAgICAgICAgICAgICAgIC8vIGFzIHNvb24gYXMgd2UgaGF2ZSBhIHJlc3VsdCwgd2UgbXVzdCByZXNvbHZlIHByb21pc2UuXG4gICAgICAgICAgICAgICAgc3RhdGUucCA9IG5ldyBEZWZlcnJlZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5wLnByb21pc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBcInB1c2hcIiBhIG5ldyBpdGVyYXRvciByZXN1bHQuXG4gICAgLy8gdGhpcyBlaXRoZXIgcmVzb2x2ZXMgYSBwZW5kaW5nIHByb21pc2UsIG9yIGVucXVldWVzIHRoZSByZXN1bHQuXG4gICAgcHVzaEl0KHJlc3VsdCkge1xuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLl9pdFN0YXRlO1xuICAgICAgICAvLyBpcyB0aGUgY29uc3VtZXIgd2FpdGluZyBmb3IgdXM/XG4gICAgICAgIGlmIChzdGF0ZS5wKSB7XG4gICAgICAgICAgICAvLyB5ZXMsIGNvbnN1bWVyIGlzIHdhaXRpbmcgZm9yIHRoaXMgcHJvbWlzZS5cbiAgICAgICAgICAgIGNvbnN0IHAgPSBzdGF0ZS5wO1xuICAgICAgICAgICAgYXNzZXJ0KHAuc3RhdGUgPT0gRGVmZXJyZWRTdGF0ZS5QRU5ESU5HLCBcIml0ZXJhdG9yIGNvbnRyYWN0IGJyb2tlblwiKTtcbiAgICAgICAgICAgIC8vIHJlc29sdmUgdGhlIHByb21pc2VcbiAgICAgICAgICAgIChcInZhbHVlXCIgaW4gcmVzdWx0KSA/IHAucmVzb2x2ZShyZXN1bHQpIDogcC5yZWplY3QocmVzdWx0KTtcbiAgICAgICAgICAgIC8vIG11c3QgY2xlYW51cCwgb3RoZXJ3aXNlIGl0ZXJhdG9yLm5leHQoKSB3b3VsZCBwaWNrIGl0IHVwIGFnYWluLlxuICAgICAgICAgICAgZGVsZXRlIHN0YXRlLnA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBhcmUgcHJvZHVjaW5nIGZhc3RlciB0aGFuIHRoZSBpdGVyYXRvciBjb25zdW1lcy5cbiAgICAgICAgICAgIC8vIHB1c2ggcmVzdWx0IG9udG8gcXVldWUuXG4gICAgICAgICAgICBzdGF0ZS5xLnB1c2gocmVzdWx0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuLyoqXG4gKiBBIHVuYXJ5IFJQQyBjYWxsLiBVbmFyeSBtZWFucyB0aGVyZSBpcyBleGFjdGx5IG9uZSBpbnB1dCBtZXNzYWdlIGFuZFxuICogZXhhY3RseSBvbmUgb3V0cHV0IG1lc3NhZ2UgdW5sZXNzIGFuIGVycm9yIG9jY3VycmVkLlxuICovXG5leHBvcnQgY2xhc3MgVW5hcnlDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihtZXRob2QsIHJlcXVlc3RIZWFkZXJzLCByZXF1ZXN0LCBoZWFkZXJzLCByZXNwb25zZSwgc3RhdHVzLCB0cmFpbGVycykge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLnRyYWlsZXJzID0gdHJhaWxlcnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHlvdSBhcmUgb25seSBpbnRlcmVzdGVkIGluIHRoZSBmaW5hbCBvdXRjb21lIG9mIHRoaXMgY2FsbCxcbiAgICAgKiB5b3UgY2FuIGF3YWl0IGl0IHRvIHJlY2VpdmUgYSBgRmluaXNoZWRVbmFyeUNhbGxgLlxuICAgICAqL1xuICAgIHRoZW4ob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZUZpbmlzaGVkKCkudGhlbih2YWx1ZSA9PiBvbmZ1bGZpbGxlZCA/IFByb21pc2UucmVzb2x2ZShvbmZ1bGZpbGxlZCh2YWx1ZSkpIDogdmFsdWUsIHJlYXNvbiA9PiBvbnJlamVjdGVkID8gUHJvbWlzZS5yZXNvbHZlKG9ucmVqZWN0ZWQocmVhc29uKSkgOiBQcm9taXNlLnJlamVjdChyZWFzb24pKTtcbiAgICB9XG4gICAgcHJvbWlzZUZpbmlzaGVkKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgbGV0IFtoZWFkZXJzLCByZXNwb25zZSwgc3RhdHVzLCB0cmFpbGVyc10gPSB5aWVsZCBQcm9taXNlLmFsbChbdGhpcy5oZWFkZXJzLCB0aGlzLnJlc3BvbnNlLCB0aGlzLnN0YXR1cywgdGhpcy50cmFpbGVyc10pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzOiB0aGlzLnJlcXVlc3RIZWFkZXJzLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHRoaXMucmVxdWVzdCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICB0cmFpbGVyc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG4vKipcbiAqIEEgc2VydmVyIHN0cmVhbWluZyBSUEMgY2FsbC4gVGhlIGNsaWVudCBwcm92aWRlcyBleGFjdGx5IG9uZSBpbnB1dCBtZXNzYWdlXG4gKiBidXQgdGhlIHNlcnZlciBtYXkgcmVzcG9uZCB3aXRoIDAsIDEsIG9yIG1vcmUgbWVzc2FnZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJTdHJlYW1pbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihtZXRob2QsIHJlcXVlc3RIZWFkZXJzLCByZXF1ZXN0LCBoZWFkZXJzLCByZXNwb25zZSwgc3RhdHVzLCB0cmFpbGVycykge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnJlc3BvbnNlcyA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhpcy50cmFpbGVycyA9IHRyYWlsZXJzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0ZWFkIG9mIGF3YWl0aW5nIHRoZSByZXNwb25zZSBzdGF0dXMgYW5kIHRyYWlsZXJzLCB5b3UgY2FuXG4gICAgICoganVzdCBhcyB3ZWxsIGF3YWl0IHRoaXMgY2FsbCBpdHNlbGYgdG8gcmVjZWl2ZSB0aGUgc2VydmVyIG91dGNvbWUuXG4gICAgICogWW91IHNob3VsZCBmaXJzdCBzZXR1cCBzb21lIGxpc3RlbmVycyB0byB0aGUgYHJlcXVlc3RgIHRvXG4gICAgICogc2VlIHRoZSBhY3R1YWwgbWVzc2FnZXMgdGhlIHNlcnZlciByZXBsaWVkIHdpdGguXG4gICAgICovXG4gICAgdGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlRmluaXNoZWQoKS50aGVuKHZhbHVlID0+IG9uZnVsZmlsbGVkID8gUHJvbWlzZS5yZXNvbHZlKG9uZnVsZmlsbGVkKHZhbHVlKSkgOiB2YWx1ZSwgcmVhc29uID0+IG9ucmVqZWN0ZWQgPyBQcm9taXNlLnJlc29sdmUob25yZWplY3RlZChyZWFzb24pKSA6IFByb21pc2UucmVqZWN0KHJlYXNvbikpO1xuICAgIH1cbiAgICBwcm9taXNlRmluaXNoZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgW2hlYWRlcnMsIHN0YXR1cywgdHJhaWxlcnNdID0geWllbGQgUHJvbWlzZS5hbGwoW3RoaXMuaGVhZGVycywgdGhpcy5zdGF0dXMsIHRoaXMudHJhaWxlcnNdKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogdGhpcy5yZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiB0aGlzLnJlcXVlc3QsXG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICAgICAgdHJhaWxlcnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbi8qKlxuICogQSBjbGllbnQgc3RyZWFtaW5nIFJQQyBjYWxsLiBUaGlzIG1lYW5zIHRoYXQgdGhlIGNsaWVudHMgc2VuZHMgMCwgMSwgb3JcbiAqIG1vcmUgbWVzc2FnZXMgdG8gdGhlIHNlcnZlciwgYW5kIHRoZSBzZXJ2ZXIgcmVwbGllcyB3aXRoIGV4YWN0bHkgb25lXG4gKiBtZXNzYWdlLlxuICovXG5leHBvcnQgY2xhc3MgQ2xpZW50U3RyZWFtaW5nQ2FsbCB7XG4gICAgY29uc3RydWN0b3IobWV0aG9kLCByZXF1ZXN0SGVhZGVycywgcmVxdWVzdCwgaGVhZGVycywgcmVzcG9uc2UsIHN0YXR1cywgdHJhaWxlcnMpIHtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMucmVxdWVzdEhlYWRlcnMgPSByZXF1ZXN0SGVhZGVycztcbiAgICAgICAgdGhpcy5yZXF1ZXN0cyA9IHJlcXVlc3Q7XG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMudHJhaWxlcnMgPSB0cmFpbGVycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zdGVhZCBvZiBhd2FpdGluZyB0aGUgcmVzcG9uc2Ugc3RhdHVzIGFuZCB0cmFpbGVycywgeW91IGNhblxuICAgICAqIGp1c3QgYXMgd2VsbCBhd2FpdCB0aGlzIGNhbGwgaXRzZWxmIHRvIHJlY2VpdmUgdGhlIHNlcnZlciBvdXRjb21lLlxuICAgICAqIE5vdGUgdGhhdCBpdCBtYXkgc3RpbGwgYmUgdmFsaWQgdG8gc2VuZCBtb3JlIHJlcXVlc3QgbWVzc2FnZXMuXG4gICAgICovXG4gICAgdGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlRmluaXNoZWQoKS50aGVuKHZhbHVlID0+IG9uZnVsZmlsbGVkID8gUHJvbWlzZS5yZXNvbHZlKG9uZnVsZmlsbGVkKHZhbHVlKSkgOiB2YWx1ZSwgcmVhc29uID0+IG9ucmVqZWN0ZWQgPyBQcm9taXNlLnJlc29sdmUob25yZWplY3RlZChyZWFzb24pKSA6IFByb21pc2UucmVqZWN0KHJlYXNvbikpO1xuICAgIH1cbiAgICBwcm9taXNlRmluaXNoZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgW2hlYWRlcnMsIHJlc3BvbnNlLCBzdGF0dXMsIHRyYWlsZXJzXSA9IHlpZWxkIFByb21pc2UuYWxsKFt0aGlzLmhlYWRlcnMsIHRoaXMucmVzcG9uc2UsIHRoaXMuc3RhdHVzLCB0aGlzLnRyYWlsZXJzXSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogdGhpcy5tZXRob2QsXG4gICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IHRoaXMucmVxdWVzdEhlYWRlcnMsXG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgICAgICAgdHJhaWxlcnNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuLyoqXG4gKiBBIGR1cGxleCBzdHJlYW1pbmcgUlBDIGNhbGwuIFRoaXMgbWVhbnMgdGhhdCB0aGUgY2xpZW50cyBzZW5kcyBhblxuICogYXJiaXRyYXJ5IGFtb3VudCBvZiBtZXNzYWdlcyB0byB0aGUgc2VydmVyLCB3aGlsZSBhdCB0aGUgc2FtZSB0aW1lLFxuICogdGhlIHNlcnZlciBzZW5kcyBhbiBhcmJpdHJhcnkgYW1vdW50IG9mIG1lc3NhZ2VzIHRvIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEdXBsZXhTdHJlYW1pbmdDYWxsIHtcbiAgICBjb25zdHJ1Y3RvcihtZXRob2QsIHJlcXVlc3RIZWFkZXJzLCByZXF1ZXN0LCBoZWFkZXJzLCByZXNwb25zZSwgc3RhdHVzLCB0cmFpbGVycykge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0SGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzO1xuICAgICAgICB0aGlzLnJlcXVlc3RzID0gcmVxdWVzdDtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gaGVhZGVycztcbiAgICAgICAgdGhpcy5yZXNwb25zZXMgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMudHJhaWxlcnMgPSB0cmFpbGVycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zdGVhZCBvZiBhd2FpdGluZyB0aGUgcmVzcG9uc2Ugc3RhdHVzIGFuZCB0cmFpbGVycywgeW91IGNhblxuICAgICAqIGp1c3QgYXMgd2VsbCBhd2FpdCB0aGlzIGNhbGwgaXRzZWxmIHRvIHJlY2VpdmUgdGhlIHNlcnZlciBvdXRjb21lLlxuICAgICAqIE5vdGUgdGhhdCBpdCBtYXkgc3RpbGwgYmUgdmFsaWQgdG8gc2VuZCBtb3JlIHJlcXVlc3QgbWVzc2FnZXMuXG4gICAgICovXG4gICAgdGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlRmluaXNoZWQoKS50aGVuKHZhbHVlID0+IG9uZnVsZmlsbGVkID8gUHJvbWlzZS5yZXNvbHZlKG9uZnVsZmlsbGVkKHZhbHVlKSkgOiB2YWx1ZSwgcmVhc29uID0+IG9ucmVqZWN0ZWQgPyBQcm9taXNlLnJlc29sdmUob25yZWplY3RlZChyZWFzb24pKSA6IFByb21pc2UucmVqZWN0KHJlYXNvbikpO1xuICAgIH1cbiAgICBwcm9taXNlRmluaXNoZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBsZXQgW2hlYWRlcnMsIHN0YXR1cywgdHJhaWxlcnNdID0geWllbGQgUHJvbWlzZS5hbGwoW3RoaXMuaGVhZGVycywgdGhpcy5zdGF0dXMsIHRoaXMudHJhaWxlcnNdKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiB0aGlzLm1ldGhvZCxcbiAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogdGhpcy5yZXF1ZXN0SGVhZGVycyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICB0cmFpbGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGFzc2VydE5ldmVyIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG4vKipcbiAqIENyZWF0ZXMgYSBcInN0YWNrXCIgb2Ygb2YgYWxsIGludGVyY2VwdG9ycyBzcGVjaWZpZWQgaW4gdGhlIGdpdmVuIGBScGNPcHRpb25zYC5cbiAqIFVzZWQgYnkgZ2VuZXJhdGVkIGNsaWVudCBpbXBsZW1lbnRhdGlvbnMuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YWNrSW50ZXJjZXB0KGtpbmQsIHRyYW5zcG9ydCwgbWV0aG9kLCBvcHRpb25zLCBpbnB1dCkge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICBpZiAoa2luZCA9PSBcInVuYXJ5XCIpIHtcbiAgICAgICAgbGV0IHRhaWwgPSAobXRkLCBpbnAsIG9wdCkgPT4gdHJhbnNwb3J0LnVuYXJ5KG10ZCwgaW5wLCBvcHQpO1xuICAgICAgICBmb3IgKGNvbnN0IGN1cnIgb2YgKChfYSA9IG9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkuZmlsdGVyKGkgPT4gaS5pbnRlcmNlcHRVbmFyeSkucmV2ZXJzZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gdGFpbDtcbiAgICAgICAgICAgIHRhaWwgPSAobXRkLCBpbnAsIG9wdCkgPT4gY3Vyci5pbnRlcmNlcHRVbmFyeShuZXh0LCBtdGQsIGlucCwgb3B0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFpbChtZXRob2QsIGlucHV0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGtpbmQgPT0gXCJzZXJ2ZXJTdHJlYW1pbmdcIikge1xuICAgICAgICBsZXQgdGFpbCA9IChtdGQsIGlucCwgb3B0KSA9PiB0cmFuc3BvcnQuc2VydmVyU3RyZWFtaW5nKG10ZCwgaW5wLCBvcHQpO1xuICAgICAgICBmb3IgKGNvbnN0IGN1cnIgb2YgKChfYiA9IG9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBbXSkuZmlsdGVyKGkgPT4gaS5pbnRlcmNlcHRTZXJ2ZXJTdHJlYW1pbmcpLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRhaWw7XG4gICAgICAgICAgICB0YWlsID0gKG10ZCwgaW5wLCBvcHQpID0+IGN1cnIuaW50ZXJjZXB0U2VydmVyU3RyZWFtaW5nKG5leHQsIG10ZCwgaW5wLCBvcHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWlsKG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoa2luZCA9PSBcImNsaWVudFN0cmVhbWluZ1wiKSB7XG4gICAgICAgIGxldCB0YWlsID0gKG10ZCwgb3B0KSA9PiB0cmFuc3BvcnQuY2xpZW50U3RyZWFtaW5nKG10ZCwgb3B0KTtcbiAgICAgICAgZm9yIChjb25zdCBjdXJyIG9mICgoX2MgPSBvcHRpb25zLmludGVyY2VwdG9ycykgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogW10pLmZpbHRlcihpID0+IGkuaW50ZXJjZXB0Q2xpZW50U3RyZWFtaW5nKS5yZXZlcnNlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSB0YWlsO1xuICAgICAgICAgICAgdGFpbCA9IChtdGQsIG9wdCkgPT4gY3Vyci5pbnRlcmNlcHRDbGllbnRTdHJlYW1pbmcobmV4dCwgbXRkLCBvcHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YWlsKG1ldGhvZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGlmIChraW5kID09IFwiZHVwbGV4XCIpIHtcbiAgICAgICAgbGV0IHRhaWwgPSAobXRkLCBvcHQpID0+IHRyYW5zcG9ydC5kdXBsZXgobXRkLCBvcHQpO1xuICAgICAgICBmb3IgKGNvbnN0IGN1cnIgb2YgKChfZCA9IG9wdGlvbnMuaW50ZXJjZXB0b3JzKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiBbXSkuZmlsdGVyKGkgPT4gaS5pbnRlcmNlcHREdXBsZXgpLnJldmVyc2UoKSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dCA9IHRhaWw7XG4gICAgICAgICAgICB0YWlsID0gKG10ZCwgb3B0KSA9PiBjdXJyLmludGVyY2VwdER1cGxleChuZXh0LCBtdGQsIG9wdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhaWwobWV0aG9kLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXNzZXJ0TmV2ZXIoa2luZCk7XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IGBzdGFja0ludGVyY2VwdCgpYCwgc3RpbGwgaGVyZSB0byBzdXBwb3J0IG9sZGVyIGdlbmVyYXRlZCBjb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFja1VuYXJ5SW50ZXJjZXB0b3JzKHRyYW5zcG9ydCwgbWV0aG9kLCBpbnB1dCwgb3B0aW9ucykge1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdChcInVuYXJ5XCIsIHRyYW5zcG9ydCwgbWV0aG9kLCBvcHRpb25zLCBpbnB1dCk7XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIHJlcGxhY2VkIGJ5IGBzdGFja0ludGVyY2VwdCgpYCwgc3RpbGwgaGVyZSB0byBzdXBwb3J0IG9sZGVyIGdlbmVyYXRlZCBjb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFja1NlcnZlclN0cmVhbWluZ0ludGVyY2VwdG9ycyh0cmFuc3BvcnQsIG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQoXCJzZXJ2ZXJTdHJlYW1pbmdcIiwgdHJhbnNwb3J0LCBtZXRob2QsIG9wdGlvbnMsIGlucHV0KTtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgYHN0YWNrSW50ZXJjZXB0KClgLCBzdGlsbCBoZXJlIHRvIHN1cHBvcnQgb2xkZXIgZ2VuZXJhdGVkIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YWNrQ2xpZW50U3RyZWFtaW5nSW50ZXJjZXB0b3JzKHRyYW5zcG9ydCwgbWV0aG9kLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0KFwiY2xpZW50U3RyZWFtaW5nXCIsIHRyYW5zcG9ydCwgbWV0aG9kLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQGRlcHJlY2F0ZWQgcmVwbGFjZWQgYnkgYHN0YWNrSW50ZXJjZXB0KClgLCBzdGlsbCBoZXJlIHRvIHN1cHBvcnQgb2xkZXIgZ2VuZXJhdGVkIGNvZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YWNrRHVwbGV4U3RyZWFtaW5nSW50ZXJjZXB0b3JzKHRyYW5zcG9ydCwgbWV0aG9kLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0KFwiZHVwbGV4XCIsIHRyYW5zcG9ydCwgbWV0aG9kLCBvcHRpb25zKTtcbn1cbiIsIi8vIEBnZW5lcmF0ZWQgYnkgcHJvdG9idWYtdHMgMi4xMS4xXG4vLyBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmlsZSBcImR5bmFtaWMucHJvdG9cIiAocGFja2FnZSBcImJpbGliaWxpLmFwcC5keW5hbWljLnYyXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHsgU2VydmljZVR5cGUgfSBmcm9tIFwiQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjXCI7XG5pbXBvcnQgdHlwZSB7IEJpbmFyeVdyaXRlT3B0aW9ucyB9IGZyb20gXCJAcHJvdG9idWYtdHMvcnVudGltZVwiO1xuaW1wb3J0IHR5cGUgeyBJQmluYXJ5V3JpdGVyIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG5pbXBvcnQgeyBXaXJlVHlwZSB9IGZyb20gXCJAcHJvdG9idWYtdHMvcnVudGltZVwiO1xuaW1wb3J0IHR5cGUgeyBCaW5hcnlSZWFkT3B0aW9ucyB9IGZyb20gXCJAcHJvdG9idWYtdHMvcnVudGltZVwiO1xuaW1wb3J0IHR5cGUgeyBJQmluYXJ5UmVhZGVyIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG5pbXBvcnQgeyBVbmtub3duRmllbGRIYW5kbGVyIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG5pbXBvcnQgdHlwZSB7IFBhcnRpYWxNZXNzYWdlIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG5pbXBvcnQgeyByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gXCJAcHJvdG9idWYtdHMvcnVudGltZVwiO1xuLyoqXG4gKiDliqjmgIHor6bmg4XpobUt5ZON5bqUXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluRGV0YWlsUmVwbHlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEeW5EZXRhaWxSZXBseSB7XG4gICAgLyoqXG4gICAgICog5Yqo5oCB6K+m5oOFXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bmFtaWNJdGVtIGl0ZW0gPSAxXG4gICAgICovXG4gICAgaXRlbT86IER5bmFtaWNJdGVtO1xufVxuLyoqXG4gKiDliqjmgIHor6bmg4XpobUt6K+35rGCXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluRGV0YWlsUmVxXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRHluRGV0YWlsUmVxIHtcbiAgICAvKipcbiAgICAgKiDliqjmgIFJRFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZHluYW1pY19pZCA9IDJcbiAgICAgKi9cbiAgICBkeW5hbWljSWQ6IHN0cmluZztcbn1cbi8qKlxuICog5Yqo5oCB5Y2h54mHXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY0l0ZW1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEeW5hbWljSXRlbSB7XG4gICAgLyoqXG4gICAgICog5Yqo5oCB5Y2h54mH57G75Z6LXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bmFtaWNUeXBlIGNhcmRfdHlwZSA9IDFcbiAgICAgKi9cbiAgICBjYXJkVHlwZTogRHluYW1pY1R5cGU7XG4gICAgLyoqXG4gICAgICog6L2s5Y+R57G75Z6L5LiL77yM5rqQ5Y2h54mH57G75Z6LXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bmFtaWNUeXBlIGl0ZW1fdHlwZSA9IDJcbiAgICAgKi9cbiAgICBpdGVtVHlwZTogRHluYW1pY1R5cGU7XG4gICAgLyoqXG4gICAgICog5qih5Z2X5YaF5a65XG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1vZHVsZSBtb2R1bGVzID0gM1xuICAgICAqL1xuICAgIG1vZHVsZXM6IE1vZHVsZVtdO1xuICAgIC8qKlxuICAgICAqIOaTjeS9nOebuOWFs+Wtl+autVxuICAgICAqIEV4dGVuZCBleHRlbmQgPSA0O1xuICAgICAqIOivpeWNoeeJh+S4i+mdouaYr+WQpuWQq+acieaKmOWPoOWNoVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBoYXNfZm9sZCA9IDVcbiAgICAgKi9cbiAgICBoYXNGb2xkOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICog6YCP5Lyg5Yiw5a6i5oi356uv55qE5Z+L54K55a2X5q6144CCXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXJ2ZXJfaW5mbyA9IDZcbiAgICAgKi9cbiAgICBzZXJ2ZXJJbmZvOiBzdHJpbmc7XG59XG4vKipcbiAqIOWKqOaAgeaooeWdl1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1vZHVsZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIE1vZHVsZSB7XG4gICAgLyoqXG4gICAgICog57G75Z6LXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bk1vZHVsZVR5cGUgbW9kdWxlX3R5cGUgPSAxXG4gICAgICovXG4gICAgbW9kdWxlVHlwZTogRHluTW9kdWxlVHlwZTtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgb25lb2Y6IG1vZHVsZV9pdGVtXG4gICAgICovXG4gICAgbW9kdWxlSXRlbToge1xuICAgICAgICBvbmVvZktpbmQ6IFwibW9kdWxlRHluYW1pY1wiO1xuICAgICAgICAvKipcbiAgICAgICAgICogLy8g55So5oi35qih5Z2XIDFcbiAgICAgICAgICogTW9kdWxlQXV0aG9yIG1vZHVsZV9hdXRob3IgPSAyO1xuICAgICAgICAgKiAvLyDkuonorq7pu4TmnaHmqKHlnZcgMlxuICAgICAgICAgKiBNb2R1bGVEaXNwdXRlIG1vZHVsZV9kaXNwdXRlID0gMztcbiAgICAgICAgICogLy8g5Yqo5oCB5q2j5paH5qih5Z2XIDNcbiAgICAgICAgICogTW9kdWxlRGVzYyBtb2R1bGVfZGVzYyA9IDQ7XG4gICAgICAgICAqIOWKqOaAgeWNoeaooeWdlyA0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTW9kdWxlRHluYW1pYyBtb2R1bGVfZHluYW1pYyA9IDVcbiAgICAgICAgICovXG4gICAgICAgIG1vZHVsZUR5bmFtaWM6IE1vZHVsZUR5bmFtaWM7IC8vIC8vIOeCuei1nuWklumcsijlup/lvIMpXHIgICAgICAgIC8vIE1vZHVsZUxpa2VVc2VyIG1vZHVsZV9saWtlVXNlciA9IDY7XHIgICAgICAgIC8vIC8vIOWwj+WNoeaooeWdlyA2XHIgICAgICAgIC8vIE1vZHVsZUV4dGVuZCBtb2R1bGVfZXh0ZW5kID0gNztcciAgICAgICAgLy8gLy8g5aSn5Y2h5qih5Z2XIDVcciAgICAgICAgLy8gTW9kdWxlQWRkaXRpb25hbCBtb2R1bGVfYWRkaXRpb25hbCA9IDg7XHIgICAgICAgIC8vIC8vIOiuoeaVsOaooeWdlyA4XHIgICAgICAgIC8vIE1vZHVsZVN0YXQgbW9kdWxlX3N0YXQgPSA5O1xyICAgICAgICAvLyAvLyDmipjlj6DmqKHlnZcgOVxyICAgICAgICAvLyBNb2R1bGVGb2xkIG1vZHVsZV9mb2xkID0gMTA7XHIgICAgICAgIC8vIC8vIOivhOiuuuWklumcsijlup/lvIMpXHIgICAgICAgIC8vIE1vZHVsZUNvbW1lbnQgbW9kdWxlX2NvbW1lbnQgPSAxMTtcciAgICAgICAgLy8gLy8g5aSW6Zyy5Lqk5LqS5qih5Z2XKOeCuei1nuOAgeivhOiuuikgN1xyICAgICAgICAvLyBNb2R1bGVJbnRlcmFjdGlvbiBtb2R1bGVfaW50ZXJhY3Rpb24gPSAxMjtcciAgICAgICAgLy8gLy8g6L2s5Y+R5Y2hLeWOn+WNoeeUqOaIt+aooeWdl1xyICAgICAgICAvLyBNb2R1bGVBdXRob3JGb3J3YXJkIG1vZHVsZV9hdXRob3JfZm9yd2FyZCA9IDEzO1xyICAgICAgICAvLyAvLyDlub/lkYrljaFcciAgICAgICAgLy8gTW9kdWxlQWQgbW9kdWxlX2FkID0gMTQ7XHIgICAgICAgIC8vIC8vIOmAmuagj1xyICAgICAgICAvLyBNb2R1bGVCYW5uZXIgbW9kdWxlX2Jhbm5lciA9IDE1O1xyICAgICAgICAvLyAvLyDojrflj5bnianmlpnlpLHotKVcciAgICAgICAgLy8gTW9kdWxlSXRlbU51bGwgbW9kdWxlX2l0ZW1fbnVsbCA9IDE2O1xyICAgICAgICAvLyAvLyDliIbkuqvnu4Tku7ZcciAgICAgICAgLy8gTW9kdWxlU2hhcmVJbmZvIG1vZHVsZV9zaGFyZV9pbmZvID0gMTc7XHIgICAgICAgIC8vIC8vIOebuOWFs+aOqOiNkOaooeWdl1xyICAgICAgICAvLyBNb2R1bGVSZWNvbW1lbmQgbW9kdWxlX3JlY29tbWVuZCA9IDE4O1xyICAgICAgICAvLyAvLyDpobbpg6jmqKHlnZdcciAgICAgICAgLy8gTW9kdWxlVG9wIG1vZHVsZV90b3AgPSAxOTtcciAgICAgICAgLy8gLy8g5bqV6YOo5qih5Z2XXHIgICAgICAgIC8vIE1vZHVsZUJ1dHRvbSBtb2R1bGVfYnV0dG9tID0gMjA7XHIgICAgICAgIC8vIC8vIOi9rOWPkeWNoeiuoeaVsOaooeWdl1xyICAgICAgICAvLyBNb2R1bGVTdGF0IG1vZHVsZV9zdGF0X2ZvcndhcmQgPSAyMTtcciAgICAgICAgLy8gLy9cciAgICAgICAgLy8gTW9kdWxlU3RvcnkgbW9kdWxlX3N0b3J5ID0gMjI7XHIgICAgICAgIC8vIC8vXHIgICAgICAgIC8vIE1vZHVsZVRvcGljIG1vZHVsZV90b3BpYyA9IDIzO1xyICAgICAgICAvLyAvL1xyICAgICAgICAvLyBNb2R1bGVUb3BpY0RldGFpbHNFeHQgbW9kdWxlX3RvcGljX2RldGFpbHNfZXh0ID0gMjQ7XHIgICAgICAgIC8vIC8vXHIgICAgICAgIC8vIE1vZHVsZVRvcFRhZyBtb2R1bGVfdG9wX3RhZyA9IDI1O1xyICAgICAgICAvLyAvL1xyICAgICAgICAvLyBNb2R1bGVUb3BpY0JyaWVmIG1vZHVsZV90b3BpY19icmllZiA9IDI2O1xyICAgICAgICAvLyAvL1xyICAgICAgICAvLyBNb2R1bGVUaXRsZSBtb2R1bGVfdGl0bGUgPSAyNztcciAgICAgICAgLy8gLy8gXHIgICAgICAgIC8vIE1vZHVsZUJ1dHRvbiBtb2R1bGVfYnV0dG9uID0gMjg7XHIgICAgICAgIC8vIC8vIFxyICAgICAgICAvLyBNb2R1bGVOb3RpY2UgbW9kdWxlX25vdGljZSA9IDI5O1xyICAgICAgICAvLyAvLyBcciAgICAgICAgLy8gTW9kdWxlT3B1c1N1bW1hcnkgbW9kdWxlX29wdXNfc3VtbWFyeSA9IDMwO1xyICAgICAgICAvLyAvLyBcciAgICAgICAgLy8gTW9kdWxlQ29weXJpZ2h0IG1vZHVsZV9jb3B5cmlnaHQgPSAzMTtcciAgICAgICAgLy8gLy8gXHIgICAgICAgIC8vIE1vZHVsZVBhcmFncmFwaCBtb2R1bGVfcGFyYWdyYXBoID0gMzI7XHIgICAgICAgIC8vIC8vIFxyICAgICAgICAvLyBNb2R1bGVCbG9ja2VkIG1vZHVsZV9ibG9ja2VkID0gMzM7XHIgICAgICAgIC8vIC8vIFxyICAgICAgICAvLyBNb2R1bGVUZXh0Tm90aWNlIG1vZHVsZV90ZXh0X25vdGljZSA9IDM0O1xyICAgICAgICAvLyAvLyBcciAgICAgICAgLy8gTW9kdWxlT3B1c0NvbGxlY3Rpb24gbW9kdWxlX29wdXNfY29sbGVjdGlvbiA9IDM1O1xyICAgIH0gfCB7XG4gICAgICAgIG9uZW9mS2luZDogdW5kZWZpbmVkO1xuICAgIH07XG59XG4vKipcbiAqIOWKqOaAgS3or6bmg4XmqKHlnZdcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5Nb2R1bGVEeW5hbWljXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTW9kdWxlRHluYW1pYyB7XG4gICAgLyoqXG4gICAgICog57G75Z6LXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1vZHVsZUR5bmFtaWNUeXBlIHR5cGUgPSAxXG4gICAgICovXG4gICAgdHlwZTogTW9kdWxlRHluYW1pY1R5cGU7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiBtb2R1bGVfaXRlbVxuICAgICAqL1xuICAgIG1vZHVsZUl0ZW06IHtcbiAgICAgICAgb25lb2ZLaW5kOiBcImR5bkFyY2hpdmVcIjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIOeov+S7tlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1kbER5bkFyY2hpdmUgZHluX2FyY2hpdmUgPSAyXG4gICAgICAgICAqL1xuICAgICAgICBkeW5BcmNoaXZlOiBNZGxEeW5BcmNoaXZlOyAvLyAvL3BnY1xyICAgICAgICAvLyBNZGxEeW5QR0MgZHluX3BnYyA9IDM7XHIgICAgICAgIC8vIC8v5LuY6LS56K++56iLLeezu+WIl1xyICAgICAgICAvLyBNZGxEeW5Db3VyU2Vhc29uIGR5bl9jb3VyX3NlYXNvbiA9IDQ7XHIgICAgICAgIC8vIC8v5LuY6LS56K++56iLLeaJueasoVxyICAgICAgICAvLyBNZGxEeW5Db3VyQmF0Y2ggZHluX2NvdXJfYmF0Y2ggPSA1O1xyICAgICAgICAvLyAvL+i9rOWPkeWNoVxyICAgICAgICAvLyBNZGxEeW5Gb3J3YXJkIGR5bl9mb3J3YXJkID0gNjtcciAgICAgICAgLy8gLy/lm77mlodcciAgICAgICAgLy8gTWRsRHluRHJhdyBkeW5fZHJhdyA9IDc7XHIgICAgICAgIC8vIC8v5LiT5qCPXHIgICAgICAgIC8vIE1kbER5bkFydGljbGUgZHluX2FydGljbGUgPSA4O1xyICAgICAgICAvLyAvL+mfs+mikVxyICAgICAgICAvLyBNZGxEeW5NdXNpYyBkeW5fbXVzaWMgPSA5O1xyICAgICAgICAvLyAvL+mAmueUqOWNoeaWuVxyICAgICAgICAvLyBNZGxEeW5Db21tb24gZHluX2NvbW1vbiA9IDEwO1xyICAgICAgICAvLyAvL+ebtOaSreWNoVxyICAgICAgICAvLyBNZGxEeW5MaXZlIGR5bl9jb21tb25fbGl2ZSA9IDExO1xyICAgICAgICAvLyAvL+aSreWNlVxyICAgICAgICAvLyBNZGxEeW5NZWRpYWxpc3QgZHluX21lZGlhbGlzdCA9IDEyO1xyICAgICAgICAvLyAvL+Wwj+eoi+W6j+WNoVxyICAgICAgICAvLyBNZGxEeW5BcHBsZXQgZHluX2FwcGxldCA9IDEzO1xyICAgICAgICAvLyAvL+iuoumYheWNoVxyICAgICAgICAvLyBNZGxEeW5TdWJzY3JpcHRpb24gZHluX3N1YnNjcmlwdGlvbiA9IDE0O1xyICAgICAgICAvLyAvL+ebtOaSreaOqOiNkOWNoVxyICAgICAgICAvLyBNZGxEeW5MaXZlUmNtZCBkeW5fbGl2ZV9yY21kID0gMTU7XHIgICAgICAgIC8vIC8vVUdD5ZCI6ZuGXHIgICAgICAgIC8vIE1kbER5blVHQ1NlYXNvbiBkeW5fdWdjX3NlYXNvbiA9IDE2O1xyICAgICAgICAvLyAvL+iuoumYheWNoVxyICAgICAgICAvLyBNZGxEeW5TdWJzY3JpcHRpb25OZXcgZHluX3N1YnNjcmlwdGlvbl9uZXcgPSAxNztcciAgICAgICAgLy8gLy/or77nqItcciAgICAgICAgLy8gTWRsRHluQ291clVwIGR5bl9jb3VyX2JhdGNoX3VwID0gMTg7XHIgICAgICAgIC8vIC8v6K+d6aKY6ZuG5ZCIXHIgICAgICAgIC8vIE1kbER5blRvcGljU2V0IGR5bl90b3BpY19zZXQgPSAxOTtcciAgICB9IHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICB9O1xufVxuLyoqXG4gKiDliqjmgIEt6K+m5oOF5qih5Z2XLeeov+S7tlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1kbER5bkFyY2hpdmVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZGxEeW5BcmNoaXZlIHtcbiAgICAvKipcbiAgICAgKiDmoIfpophcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRpdGxlID0gMVxuICAgICAqL1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICog5bCB6Z2i5Zu+XG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjb3ZlciA9IDJcbiAgICAgKi9cbiAgICBjb3Zlcjogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOenkuW8gOWcsOWdgFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXJpID0gM1xuICAgICAqL1xuICAgIHVyaTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOinhumikeWwgemdouWxleekuumhuSAxXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjb3Zlcl9sZWZ0X3RleHRfMSA9IDRcbiAgICAgKi9cbiAgICBjb3ZlckxlZnRUZXh0MTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOinhumikeWwgemdouWxleekuumhuSAyXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjb3Zlcl9sZWZ0X3RleHRfMiA9IDVcbiAgICAgKi9cbiAgICBjb3ZlckxlZnRUZXh0Mjogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOWwgemdouinhumikeWxleekuumhuSAzXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjb3Zlcl9sZWZ0X3RleHRfMyA9IDZcbiAgICAgKi9cbiAgICBjb3ZlckxlZnRUZXh0Mzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIGF2aWRcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50NjQgYXZpZCA9IDdcbiAgICAgKi9cbiAgICBhdmlkOiBiaWdpbnQ7XG4gICAgLyoqXG4gICAgICogY2lkXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDY0IGNpZCA9IDhcbiAgICAgKi9cbiAgICBjaWQ6IGJpZ2ludDtcbiAgICAvKipcbiAgICAgKiDop4bpopHmupDnsbvlnotcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTWVkaWFUeXBlIG1lZGlhX3R5cGUgPSA5XG4gICAgICovXG4gICAgbWVkaWFUeXBlOiBNZWRpYVR5cGU7XG4gICAgLyoqXG4gICAgICog5bC65a+45L+h5oGvXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkRpbWVuc2lvbiBkaW1lbnNpb24gPSAxMFxuICAgICAqL1xuICAgIGRpbWVuc2lvbj86IERpbWVuc2lvbjtcbiAgICAvKipcbiAgICAgKiDop5LmoIfvvIzlpJrkuKrop5LmoIfkuYvliY3mnInpl7Tot51cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuVmlkZW9CYWRnZSBiYWRnZSA9IDExXG4gICAgICovXG4gICAgYmFkZ2U6IFZpZGVvQmFkZ2VbXTtcbiAgICAvKipcbiAgICAgKiDmmK/lkKbog73lpJ/oh6rliqjmkq3mlL5cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBjYW5fcGxheSA9IDEyXG4gICAgICovXG4gICAgY2FuUGxheTogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBzdHlwZVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5WaWRlb1R5cGUgc3R5cGUgPSAxM1xuICAgICAqL1xuICAgIHN0eXBlOiBWaWRlb1R5cGU7XG4gICAgLyoqXG4gICAgICog5piv5ZCmUEdDXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNQR0MgPSAxNFxuICAgICAqL1xuICAgIGlzUEdDOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIGlubGluZeaSreaUvuWcsOWdgFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgaW5saW5lVVJMID0gMTVcbiAgICAgKi9cbiAgICBpbmxpbmVVUkw6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBQR0PnmoRlcGlkXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDY0IEVwaXNvZGVJZCA9IDE2XG4gICAgICovXG4gICAgZXBpc29kZUlkOiBiaWdpbnQ7XG4gICAgLyoqXG4gICAgICog5a2Q57G75Z6LXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIFN1YlR5cGUgPSAxN1xuICAgICAqL1xuICAgIHN1YlR5cGU6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBQR0PnmoRzc2lkXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDY0IFBnY1NlYXNvbklkID0gMThcbiAgICAgKi9cbiAgICBwZ2NTZWFzb25JZDogYmlnaW50O1xuICAgIC8qKlxuICAgICAqIOaSreaUvuaMiemSrlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcGxheV9pY29uID0gMTlcbiAgICAgKi9cbiAgICBwbGF5SWNvbjogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOaXtumVv1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQ2NCBkdXJhdGlvbiA9IDIwXG4gICAgICovXG4gICAgZHVyYXRpb246IGJpZ2ludDtcbiAgICAvKipcbiAgICAgKiDot7PovazlnLDlnYBcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGp1bXBfdXJsID0gMjFcbiAgICAgKi9cbiAgICBqdW1wVXJsOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICog55Wq5Ymn5piv5ZCm5Li66aKE6KeI6KeG6aKRXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfcHJldmlldyA9IDIyXG4gICAgICovXG4gICAgaXNQcmV2aWV3OiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIOaWsOinkuagh++8jOWkmuS4quinkuagh+S5i+WJjeayoeaciemXtOi3nVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5WaWRlb0JhZGdlIGJhZGdlX2NhdGVnb3J5ID0gMjNcbiAgICAgKi9cbiAgICBiYWRnZUNhdGVnb3J5OiBWaWRlb0JhZGdlW107XG4gICAgLyoqXG4gICAgICog5b2T5YmN5piv5ZCm5pivcGdj5q2j54mHXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfZmVhdHVyZSA9IDI0XG4gICAgICovXG4gICAgaXNGZWF0dXJlOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIOaYr+WQpuaYr+mihOe6puWPrOWbnlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5SZXNlcnZlVHlwZSByZXNlcnZlX3R5cGUgPSAyNVxuICAgICAqL1xuICAgIHJlc2VydmVUeXBlOiBSZXNlcnZlVHlwZTtcbiAgICAvKipcbiAgICAgKiBidmlkXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBidmlkID0gMjZcbiAgICAgKi9cbiAgICBidmlkOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICog5pKt5pS+5pWwXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIHZpZXcgPSAyN1xuICAgICAqL1xuICAgIHZpZXc6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIHNob3dfcHJlbWllcmVfYmFkZ2UgPSAyOFxuICAgICAqL1xuICAgIHNob3dQcmVtaWVyZUJhZGdlOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgcHJlbWllcmVfY2FyZCA9IDI5XG4gICAgICovXG4gICAgcHJlbWllcmVDYXJkOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgc2hvd19wcm9ncmVzcyA9IDMwXG4gICAgICovXG4gICAgc2hvd1Byb2dyZXNzOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDY0IHBhcnRfZHVyYXRpb24gPSAzMVxuICAgICAqL1xuICAgIHBhcnREdXJhdGlvbjogYmlnaW50O1xuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDY0IHBhcnRfcHJvZ3Jlc3MgPSAzMlxuICAgICAqL1xuICAgIHBhcnRQcm9ncmVzczogYmlnaW50O1xufVxuLyoqXG4gKiDlsLrlr7jkv6Hmga9cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5EaW1lbnNpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEaW1lbnNpb24ge1xuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDY0IGhlaWdodCA9IDFcbiAgICAgKi9cbiAgICBoZWlnaHQ6IGJpZ2ludDtcbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQ2NCB3aWR0aCA9IDJcbiAgICAgKi9cbiAgICB3aWR0aDogYmlnaW50O1xuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDY0IHJvdGF0ZSA9IDNcbiAgICAgKi9cbiAgICByb3RhdGU6IGJpZ2ludDtcbn1cbi8qKlxuICog6KeS5qCH5L+h5oGvXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuVmlkZW9CYWRnZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvQmFkZ2Uge1xuICAgIC8qKlxuICAgICAqIOaWh+ahiFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdGV4dCA9IDFcbiAgICAgKi9cbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICog5paH5qGI6aKc6ImyLeaXpemXtFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdGV4dF9jb2xvciA9IDJcbiAgICAgKi9cbiAgICB0ZXh0Q29sb3I6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiDmlofmoYjpopzoibIt5aSc6Ze0XG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB0ZXh0X2NvbG9yX25pZ2h0ID0gM1xuICAgICAqL1xuICAgIHRleHRDb2xvck5pZ2h0OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICog6IOM5pmv6aKc6ImyLeaXpemXtFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgYmdfY29sb3IgPSA0XG4gICAgICovXG4gICAgYmdDb2xvcjogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOiDjOaZr+minOiJsi3lpJzpl7RcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGJnX2NvbG9yX25pZ2h0ID0gNVxuICAgICAqL1xuICAgIGJnQ29sb3JOaWdodDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOi+ueahhuminOiJsi3ml6Xpl7RcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGJvcmRlcl9jb2xvciA9IDZcbiAgICAgKi9cbiAgICBib3JkZXJDb2xvcjogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIOi+ueahhuminOiJsi3lpJzpl7RcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGJvcmRlcl9jb2xvcl9uaWdodCA9IDdcbiAgICAgKi9cbiAgICBib3JkZXJDb2xvck5pZ2h0OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICog5qC35byPXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIGJnX3N0eWxlID0gOFxuICAgICAqL1xuICAgIGJnU3R5bGU6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiDog4zmma/pgI/mmI7luqYt5pel6Ze0XG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIGJnX2FscGhhID0gOVxuICAgICAqL1xuICAgIGJnQWxwaGE6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiDog4zmma/pgI/mmI7luqYt5aSc6Ze0XG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIGJnX2FscGhhX25pZ2h0ID0gMTBcbiAgICAgKi9cbiAgICBiZ0FscGhhTmlnaHQ6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRGV2aWNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlIHtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIGFwcF9pZCA9IDFcbiAgICAgKi9cbiAgICBhcHBJZDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgYnVpbGQgPSAyXG4gICAgICovXG4gICAgYnVpbGQ6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBidXZpZCA9IDNcbiAgICAgKi9cbiAgICBidXZpZDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG1vYmlfYXBwID0gNFxuICAgICAqL1xuICAgIG1vYmlBcHA6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBwbGF0Zm9ybSA9IDVcbiAgICAgKi9cbiAgICBwbGF0Zm9ybTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGRldmljZSA9IDZcbiAgICAgKi9cbiAgICBkZXZpY2U6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjaGFubmVsID0gN1xuICAgICAqL1xuICAgIGNoYW5uZWw6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBicmFuZCA9IDhcbiAgICAgKi9cbiAgICBicmFuZDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG1vZGVsID0gOVxuICAgICAqL1xuICAgIG1vZGVsOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgb3N2ZXIgPSAxMFxuICAgICAqL1xuICAgIG9zdmVyOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZnBfbG9jYWwgPSAxMVxuICAgICAqL1xuICAgIGZwTG9jYWw6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBmcF9yZW1vdGUgPSAxMlxuICAgICAqL1xuICAgIGZwUmVtb3RlOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdmVyc2lvbl9uYW1lID0gMTNcbiAgICAgKi9cbiAgICB2ZXJzaW9uTmFtZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGZwID0gMTRcbiAgICAgKi9cbiAgICBmcDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50NjQgZnRzID0gMTVcbiAgICAgKi9cbiAgICBmdHM6IGJpZ2ludDtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTWV0YWRhdGFcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXRhZGF0YSB7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgYWNjZXNzX2tleSA9IDFcbiAgICAgKi9cbiAgICBhY2Nlc3NLZXk6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtb2JpX2FwcCA9IDJcbiAgICAgKi9cbiAgICBtb2JpQXBwOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZGV2aWNlID0gM1xuICAgICAqL1xuICAgIGRldmljZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgYnVpbGQgPSA0XG4gICAgICovXG4gICAgYnVpbGQ6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjaGFubmVsID0gNVxuICAgICAqL1xuICAgIGNoYW5uZWw6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBidXZpZCA9IDZcbiAgICAgKi9cbiAgICBidXZpZDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHBsYXRmb3JtID0gN1xuICAgICAqL1xuICAgIHBsYXRmb3JtOiBzdHJpbmc7XG59XG4vKipcbiAqIOaemuS4vi3liqjmgIHnsbvlnotcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5EeW5hbWljVHlwZVxuICovXG5leHBvcnQgZW51bSBEeW5hbWljVHlwZSB7XG4gICAgLyoqXG4gICAgICog5Y2g5L2NXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogZHluX25vbmUgPSAwO1xuICAgICAqL1xuICAgIGR5bl9ub25lID0gMCxcbiAgICAvKipcbiAgICAgKiDovazlj5FcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBmb3J3YXJkID0gMTtcbiAgICAgKi9cbiAgICBmb3J3YXJkID0gMSxcbiAgICAvKipcbiAgICAgKiDnqL/ku7Y6IHVnY+OAgeWwj+inhumikeOAgeefreinhumikeOAgVVHQ+i9rFBHQ1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IGF2ID0gMjtcbiAgICAgKi9cbiAgICBhdiA9IDIsXG4gICAgLyoqXG4gICAgICogcGdj77ya55Wq5Ymn44CBUEdD55Wq5Ymn44CBUEdD55S15b2x44CBUEdD55S16KeG5Ymn44CBUEdD5Zu95Yib44CBUEdD57qq5b2V54mHXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogcGdjID0gMztcbiAgICAgKi9cbiAgICBwZ2MgPSAzLFxuICAgIC8qKlxuICAgICAqIOS7mOi0ueabtOaWsOaJueasoVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IGNvdXJzZXMgPSA0O1xuICAgICAqL1xuICAgIGNvdXJzZXMgPSA0LFxuICAgIC8qKlxuICAgICAqIOaKmOWPoFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IGZvbGQgPSA1O1xuICAgICAqL1xuICAgIGZvbGQgPSA1LFxuICAgIC8qKlxuICAgICAqIOe6r+aWh+Wtl1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IHdvcmQgPSA2O1xuICAgICAqL1xuICAgIHdvcmQgPSA2LFxuICAgIC8qKlxuICAgICAqIOWbvuaWh1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IGRyYXcgPSA3O1xuICAgICAqL1xuICAgIGRyYXcgPSA3LFxuICAgIC8qKlxuICAgICAqIOS4k+agjyDljp/ku4VwaG9uZeerr1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IGFydGljbGUgPSA4O1xuICAgICAqL1xuICAgIGFydGljbGUgPSA4LFxuICAgIC8qKlxuICAgICAqIOmfs+mikSDljp/ku4VwaG9uZeerr1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG11c2ljID0gOTtcbiAgICAgKi9cbiAgICBtdXNpYyA9IDksXG4gICAgLyoqXG4gICAgICog6YCa55So5Y2hIOaWueW9olxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IGNvbW1vbl9zcXVhcmUgPSAxMDtcbiAgICAgKi9cbiAgICBjb21tb25fc3F1YXJlID0gMTAsXG4gICAgLyoqXG4gICAgICog6YCa55So5Y2hIOerluW9olxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IGNvbW1vbl92ZXJ0aWNhbCA9IDExO1xuICAgICAqL1xuICAgIGNvbW1vbl92ZXJ0aWNhbCA9IDExLFxuICAgIC8qKlxuICAgICAqIOebtOaSreWNoSDlj6rmnInovazlj5HmgIFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBsaXZlID0gMTI7XG4gICAgICovXG4gICAgbGl2ZSA9IDEyLFxuICAgIC8qKlxuICAgICAqIOaSreWNlSDljp/ku4VwaG9uZeerryDlj6rmnInovazlj5HmgIFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZWRpYWxpc3QgPSAxMztcbiAgICAgKi9cbiAgICBtZWRpYWxpc3QgPSAxMyxcbiAgICAvKipcbiAgICAgKiDku5jotLnmm7TmlrDmibnmrKEg5Y+q5pyJ6L2s5Y+R5oCBXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogY291cnNlc19zZWFzb24gPSAxNDtcbiAgICAgKi9cbiAgICBjb3Vyc2VzX3NlYXNvbiA9IDE0LFxuICAgIC8qKlxuICAgICAqIOW5v+WRiuWNoVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IGFkID0gMTU7XG4gICAgICovXG4gICAgYWQgPSAxNSxcbiAgICAvKipcbiAgICAgKiDlsI/nqIvluo/ljaFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBhcHBsZXQgPSAxNjtcbiAgICAgKi9cbiAgICBhcHBsZXQgPSAxNixcbiAgICAvKipcbiAgICAgKiDorqLpmIXljaFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBzdWJzY3JpcHRpb24gPSAxNztcbiAgICAgKi9cbiAgICBzdWJzY3JpcHRpb24gPSAxNyxcbiAgICAvKipcbiAgICAgKiDnm7Tmkq3mjqjojZDljaFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBsaXZlX3JjbWQgPSAxODtcbiAgICAgKi9cbiAgICBsaXZlX3JjbWQgPSAxOCxcbiAgICAvKipcbiAgICAgKiDpgJrmoI9cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBiYW5uZXIgPSAxOTtcbiAgICAgKi9cbiAgICBiYW5uZXIgPSAxOSxcbiAgICAvKipcbiAgICAgKiDlkIjpm4bljaFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiB1Z2Nfc2Vhc29uID0gMjA7XG4gICAgICovXG4gICAgdWdjX3NlYXNvbiA9IDIwLFxuICAgIC8qKlxuICAgICAqIOaWsOiuoumYheWNoVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IHN1YnNjcmlwdGlvbl9uZXcgPSAyMTtcbiAgICAgKi9cbiAgICBzdWJzY3JpcHRpb25fbmV3ID0gMjEsXG4gICAgLyoqXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBzdG9yeSA9IDIyO1xuICAgICAqL1xuICAgIHN0b3J5ID0gMjIsXG4gICAgLyoqXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiB0b3BpY19yY21kID0gMjM7XG4gICAgICovXG4gICAgdG9waWNfcmNtZCA9IDIzLFxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogY291cl91cCA9IDI0O1xuICAgICAqL1xuICAgIGNvdXJfdXAgPSAyNCxcbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IHRvcGljX3NldCA9IDI1O1xuICAgICAqL1xuICAgIHRvcGljX3NldCA9IDI1LFxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbm90aWNlID0gMjY7XG4gICAgICovXG4gICAgbm90aWNlID0gMjYsXG4gICAgLyoqXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiB0ZXh0X25vdGljZSA9IDI3O1xuICAgICAqL1xuICAgIHRleHRfbm90aWNlID0gMjdcbn1cbi8qKlxuICog5Yqo5oCB5qih5Z2X57G75Z6LXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluTW9kdWxlVHlwZVxuICovXG5leHBvcnQgZW51bSBEeW5Nb2R1bGVUeXBlIHtcbiAgICAvKipcbiAgICAgKiDljaDkvY1cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtb2R1bGVfbm9uZSA9IDA7XG4gICAgICovXG4gICAgbW9kdWxlX25vbmUgPSAwLFxuICAgIC8qKlxuICAgICAqIOWPkeW4g+S6uuaooeWdl1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9hdXRob3IgPSAxO1xuICAgICAqL1xuICAgIG1vZHVsZV9hdXRob3IgPSAxLFxuICAgIC8qKlxuICAgICAqIOS6ieiuruWwj+m7hOadoVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9kaXNwdXRlID0gMjtcbiAgICAgKi9cbiAgICBtb2R1bGVfZGlzcHV0ZSA9IDIsXG4gICAgLyoqXG4gICAgICog5o+P6L+w5paH5qGIXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX2Rlc2MgPSAzO1xuICAgICAqL1xuICAgIG1vZHVsZV9kZXNjID0gMyxcbiAgICAvKipcbiAgICAgKiDliqjmgIHljaHniYdcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtb2R1bGVfZHluYW1pYyA9IDQ7XG4gICAgICovXG4gICAgbW9kdWxlX2R5bmFtaWMgPSA0LFxuICAgIC8qKlxuICAgICAqIOi9rOWPkeaooeWdl1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9mb3J3YXJkID0gNTtcbiAgICAgKi9cbiAgICBtb2R1bGVfZm9yd2FyZCA9IDUsXG4gICAgLyoqXG4gICAgICog54K56LWe55So5oi3KOW6n+W8gylcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtb2R1bGVfbGlrZVVzZXIgPSA2O1xuICAgICAqL1xuICAgIG1vZHVsZV9saWtlVXNlciA9IDYsXG4gICAgLyoqXG4gICAgICog5bCP5Y2h5qih5Z2XXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX2V4dGVuZCA9IDc7XG4gICAgICovXG4gICAgbW9kdWxlX2V4dGVuZCA9IDcsXG4gICAgLyoqXG4gICAgICog6ZmE5Yqg5Y2hXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX2FkZGl0aW9uYWwgPSA4O1xuICAgICAqL1xuICAgIG1vZHVsZV9hZGRpdGlvbmFsID0gOCxcbiAgICAvKipcbiAgICAgKiDorqHmlbDkv6Hmga9cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtb2R1bGVfc3RhdCA9IDk7XG4gICAgICovXG4gICAgbW9kdWxlX3N0YXQgPSA5LFxuICAgIC8qKlxuICAgICAqIOaKmOWPoFxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9mb2xkID0gMTA7XG4gICAgICovXG4gICAgbW9kdWxlX2ZvbGQgPSAxMCxcbiAgICAvKipcbiAgICAgKiDor4TorrrlpJbpnLIo5bqf5byDKVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9jb21tZW50ID0gMTE7XG4gICAgICovXG4gICAgbW9kdWxlX2NvbW1lbnQgPSAxMSxcbiAgICAvKipcbiAgICAgKiDlpJbpnLLkuqTkupLmqKHlnZco54K56LWe44CB6K+E6K66KVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9pbnRlcmFjdGlvbiA9IDEyO1xuICAgICAqL1xuICAgIG1vZHVsZV9pbnRlcmFjdGlvbiA9IDEyLFxuICAgIC8qKlxuICAgICAqIOi9rOWPkeWNoeeahOWPkeW4g+S6uuaooeWdl1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9hdXRob3JfZm9yd2FyZCA9IDEzO1xuICAgICAqL1xuICAgIG1vZHVsZV9hdXRob3JfZm9yd2FyZCA9IDEzLFxuICAgIC8qKlxuICAgICAqIOW5v+WRiuWNoeaooeWdl1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9hZCA9IDE0O1xuICAgICAqL1xuICAgIG1vZHVsZV9hZCA9IDE0LFxuICAgIC8qKlxuICAgICAqIOmAmuagj+aooeWdl1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9iYW5uZXIgPSAxNTtcbiAgICAgKi9cbiAgICBtb2R1bGVfYmFubmVyID0gMTUsXG4gICAgLyoqXG4gICAgICog6I635Y+W54mp5paZ5aSx6LSl5qih5Z2XXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX2l0ZW1fbnVsbCA9IDE2O1xuICAgICAqL1xuICAgIG1vZHVsZV9pdGVtX251bGwgPSAxNixcbiAgICAvKipcbiAgICAgKiDliIbkuqvnu4Tku7ZcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtb2R1bGVfc2hhcmVfaW5mbyA9IDE3O1xuICAgICAqL1xuICAgIG1vZHVsZV9zaGFyZV9pbmZvID0gMTcsXG4gICAgLyoqXG4gICAgICog55u45YWz5o6o6I2Q5qih5Z2XXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX3JlY29tbWVuZCA9IDE4O1xuICAgICAqL1xuICAgIG1vZHVsZV9yZWNvbW1lbmQgPSAxOCxcbiAgICAvKipcbiAgICAgKiDovazlj5HljaHorqHmlbDkv6Hmga9cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtb2R1bGVfc3RhdF9mb3J3YXJkID0gMTk7XG4gICAgICovXG4gICAgbW9kdWxlX3N0YXRfZm9yd2FyZCA9IDE5LFxuICAgIC8qKlxuICAgICAqIOmhtumDqOaooeWdl1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV90b3AgPSAyMDtcbiAgICAgKi9cbiAgICBtb2R1bGVfdG9wID0gMjAsXG4gICAgLyoqXG4gICAgICog5bqV6YOo5qih5Z2XXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX2JvdHRvbSA9IDIxO1xuICAgICAqL1xuICAgIG1vZHVsZV9ib3R0b20gPSAyMSxcbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9zdG9yeSA9IDIyO1xuICAgICAqL1xuICAgIG1vZHVsZV9zdG9yeSA9IDIyLFxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX3RvcGljID0gMjM7XG4gICAgICovXG4gICAgbW9kdWxlX3RvcGljID0gMjMsXG4gICAgLyoqXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtb2R1bGVfdG9waWNfZGV0YWlsc19leHQgPSAyNDtcbiAgICAgKi9cbiAgICBtb2R1bGVfdG9waWNfZGV0YWlsc19leHQgPSAyNCxcbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV90b3BfdGFnID0gMjU7XG4gICAgICovXG4gICAgbW9kdWxlX3RvcF90YWcgPSAyNSxcbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV90b3BpY19icmllZiA9IDI2O1xuICAgICAqL1xuICAgIG1vZHVsZV90b3BpY19icmllZiA9IDI2LFxuICAgIC8qKlxuICAgICAqXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX3RpdGxlID0gMjc7XG4gICAgICovXG4gICAgbW9kdWxlX3RpdGxlID0gMjcsXG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9idXR0b24gPSAyODtcbiAgICAgKi9cbiAgICBtb2R1bGVfYnV0dG9uID0gMjgsXG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9ub3RpY2UgPSAyOTtcbiAgICAgKi9cbiAgICBtb2R1bGVfbm90aWNlID0gMjksXG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9vcHVzX3N1bW1hcnkgPSAzMDtcbiAgICAgKi9cbiAgICBtb2R1bGVfb3B1c19zdW1tYXJ5ID0gMzAsXG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9jb3B5cmlnaHQgPSAzMTtcbiAgICAgKi9cbiAgICBtb2R1bGVfY29weXJpZ2h0ID0gMzEsXG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9wYXJhZ3JhcGggPSAzMjtcbiAgICAgKi9cbiAgICBtb2R1bGVfcGFyYWdyYXBoID0gMzIsXG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9ibG9ja2VkID0gMzM7XG4gICAgICovXG4gICAgbW9kdWxlX2Jsb2NrZWQgPSAzMyxcbiAgICAvKipcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbW9kdWxlX3RleHRfbm90aWNlID0gMzQ7XG4gICAgICovXG4gICAgbW9kdWxlX3RleHRfbm90aWNlID0gMzQsXG4gICAgLyoqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1vZHVsZV9vcHVzX2NvbGxlY3Rpb24gPSAzNTtcbiAgICAgKi9cbiAgICBtb2R1bGVfb3B1c19jb2xsZWN0aW9uID0gMzVcbn1cbi8qKlxuICog5Yqo5oCB6K+m5oOF5qih5Z2X57G75Z6LXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTW9kdWxlRHluYW1pY1R5cGVcbiAqL1xuZXhwb3J0IGVudW0gTW9kdWxlRHluYW1pY1R5cGUge1xuICAgIC8qKlxuICAgICAqIOeov+S7tlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1kbF9keW5fYXJjaGl2ZSA9IDA7XG4gICAgICovXG4gICAgbWRsX2R5bl9hcmNoaXZlID0gMCxcbiAgICAvKipcbiAgICAgKiBwZ2NcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZGxfZHluX3BnYyA9IDE7XG4gICAgICovXG4gICAgbWRsX2R5bl9wZ2MgPSAxLFxuICAgIC8qKlxuICAgICAqIOS7mOi0ueivvueoiy3ns7vliJdcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZGxfZHluX2NvdXJfc2Vhc29uID0gMjtcbiAgICAgKi9cbiAgICBtZGxfZHluX2NvdXJfc2Vhc29uID0gMixcbiAgICAvKipcbiAgICAgKiDku5jotLnor77nqIst5om55qyhXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbWRsX2R5bl9jb3VyX2JhdGNoID0gMztcbiAgICAgKi9cbiAgICBtZGxfZHluX2NvdXJfYmF0Y2ggPSAzLFxuICAgIC8qKlxuICAgICAqIOi9rOWPkeWNoVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1kbF9keW5fZm9yd2FyZCA9IDQ7XG4gICAgICovXG4gICAgbWRsX2R5bl9mb3J3YXJkID0gNCxcbiAgICAvKipcbiAgICAgKiDlm77mlodcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZGxfZHluX2RyYXcgPSA1O1xuICAgICAqL1xuICAgIG1kbF9keW5fZHJhdyA9IDUsXG4gICAgLyoqXG4gICAgICog5LiT5qCPXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbWRsX2R5bl9hcnRpY2xlID0gNjtcbiAgICAgKi9cbiAgICBtZGxfZHluX2FydGljbGUgPSA2LFxuICAgIC8qKlxuICAgICAqIOmfs+mikVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1kbF9keW5fbXVzaWMgPSA3O1xuICAgICAqL1xuICAgIG1kbF9keW5fbXVzaWMgPSA3LFxuICAgIC8qKlxuICAgICAqIOmAmueUqOWNoeaWuVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1kbF9keW5fY29tbW9uID0gODtcbiAgICAgKi9cbiAgICBtZGxfZHluX2NvbW1vbiA9IDgsXG4gICAgLyoqXG4gICAgICog55u05pKt5Y2hXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbWRsX2R5bl9saXZlID0gOTtcbiAgICAgKi9cbiAgICBtZGxfZHluX2xpdmUgPSA5LFxuICAgIC8qKlxuICAgICAqIOaSreWNlVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1kbF9keW5fbWVkaWFsaXN0ID0gMTA7XG4gICAgICovXG4gICAgbWRsX2R5bl9tZWRpYWxpc3QgPSAxMCxcbiAgICAvKipcbiAgICAgKiDlsI/nqIvluo/ljaFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZGxfZHluX2FwcGxldCA9IDExO1xuICAgICAqL1xuICAgIG1kbF9keW5fYXBwbGV0ID0gMTEsXG4gICAgLyoqXG4gICAgICog6K6i6ZiF5Y2hXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogbWRsX2R5bl9zdWJzY3JpcHRpb24gPSAxMjtcbiAgICAgKi9cbiAgICBtZGxfZHluX3N1YnNjcmlwdGlvbiA9IDEyLFxuICAgIC8qKlxuICAgICAqIOebtOaSreaOqOiNkOWNoVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IG1kbF9keW5fbGl2ZV9yY21kID0gMTM7XG4gICAgICovXG4gICAgbWRsX2R5bl9saXZlX3JjbWQgPSAxMyxcbiAgICAvKipcbiAgICAgKiBVR0PlkIjpm4ZcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZGxfZHluX3VnY19zZWFzb24gPSAxNDtcbiAgICAgKi9cbiAgICBtZGxfZHluX3VnY19zZWFzb24gPSAxNCxcbiAgICAvKipcbiAgICAgKiDorqLpmIXljaFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZGxfZHluX3N1YnNjcmlwdGlvbl9uZXcgPSAxNTtcbiAgICAgKi9cbiAgICBtZGxfZHluX3N1YnNjcmlwdGlvbl9uZXcgPSAxNSxcbiAgICAvKipcbiAgICAgKiDor77nqItcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZGxfZHluX2NvdXJfYmF0Y2hfdXAgPSAxNjtcbiAgICAgKi9cbiAgICBtZGxfZHluX2NvdXJfYmF0Y2hfdXAgPSAxNixcbiAgICAvKipcbiAgICAgKiDor53popjpm4blkIhcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBtZGxfZHluX3RvcGljX3NldCA9IDE3O1xuICAgICAqL1xuICAgIG1kbF9keW5fdG9waWNfc2V0ID0gMTdcbn1cbi8qKlxuICog5pKt5pS+5Zmo57G75Z6LXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTWVkaWFUeXBlXG4gKi9cbmV4cG9ydCBlbnVtIE1lZGlhVHlwZSB7XG4gICAgLyoqXG4gICAgICog5pys5ZywXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogTWVkaWFUeXBlTm9uZSA9IDA7XG4gICAgICovXG4gICAgTWVkaWFUeXBlTm9uZSA9IDAsXG4gICAgLyoqXG4gICAgICogVUdDXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogTWVkaWFUeXBlVUdDID0gMTtcbiAgICAgKi9cbiAgICBNZWRpYVR5cGVVR0MgPSAxLFxuICAgIC8qKlxuICAgICAqIFBHQ1xuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IE1lZGlhVHlwZVBHQyA9IDI7XG4gICAgICovXG4gICAgTWVkaWFUeXBlUEdDID0gMixcbiAgICAvKipcbiAgICAgKiDnm7Tmkq1cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBNZWRpYVR5cGVMaXZlID0gMztcbiAgICAgKi9cbiAgICBNZWRpYVR5cGVMaXZlID0gMyxcbiAgICAvKipcbiAgICAgKiDlsI/op4bpopFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBNZWRpYVR5cGVWQ1MgPSA0O1xuICAgICAqL1xuICAgIE1lZGlhVHlwZVZDUyA9IDRcbn1cbi8qKlxuICog6KeG6aKR57G75Z6LXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuVmlkZW9UeXBlXG4gKi9cbmV4cG9ydCBlbnVtIFZpZGVvVHlwZSB7XG4gICAgLyoqXG4gICAgICog5pmu6YCa6KeG6aKRXG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogdmlkZW9fdHlwZV9nZW5lcmFsID0gMDtcbiAgICAgKi9cbiAgICB2aWRlb190eXBlX2dlbmVyYWwgPSAwLFxuICAgIC8qKlxuICAgICAqIOWKqOaAgeinhumikVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IHZpZGVvX3R5cGVfZHluYW1pYyA9IDE7XG4gICAgICovXG4gICAgdmlkZW9fdHlwZV9keW5hbWljID0gMSxcbiAgICAvKipcbiAgICAgKiDnm7Tmkq3lm57mlL7op4bpopFcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiB2aWRlb190eXBlX3BsYXliYWNrID0gMjtcbiAgICAgKi9cbiAgICB2aWRlb190eXBlX3BsYXliYWNrID0gMixcbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IHZpZGVvX3R5cGVfc3RvcnkgPSAzO1xuICAgICAqL1xuICAgIHZpZGVvX3R5cGVfc3RvcnkgPSAzXG59XG4vKipcbiAqXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuUmVzZXJ2ZVR5cGVcbiAqL1xuZXhwb3J0IGVudW0gUmVzZXJ2ZVR5cGUge1xuICAgIC8qKlxuICAgICAqIOWNoOS9jVxuICAgICAqXG4gICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IHJlc2VydmVfbm9uZSA9IDA7XG4gICAgICovXG4gICAgcmVzZXJ2ZV9ub25lID0gMCxcbiAgICAvKipcbiAgICAgKiDpooTnuqblj6zlm55cbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiByZXNlcnZlX3JlY2FsbCA9IDE7XG4gICAgICovXG4gICAgcmVzZXJ2ZV9yZWNhbGwgPSAxXG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEeW5EZXRhaWxSZXBseSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RHluRGV0YWlsUmVwbHk+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5EeW5EZXRhaWxSZXBseVwiLCBbXG4gICAgICAgICAgICB7IG5vOiAxLCBuYW1lOiBcIml0ZW1cIiwga2luZDogXCJtZXNzYWdlXCIsIFQ6ICgpID0+IER5bmFtaWNJdGVtIH1cbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPER5bkRldGFpbFJlcGx5Pik6IER5bkRldGFpbFJlcGx5IHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSgodGhpcy5tZXNzYWdlUHJvdG90eXBlISkpO1xuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHJlZmxlY3Rpb25NZXJnZVBhcnRpYWw8RHluRGV0YWlsUmVwbHk+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5UmVhZChyZWFkZXI6IElCaW5hcnlSZWFkZXIsIGxlbmd0aDogbnVtYmVyLCBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucywgdGFyZ2V0PzogRHluRGV0YWlsUmVwbHkpOiBEeW5EZXRhaWxSZXBseSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gdGFyZ2V0ID8/IHRoaXMuY3JlYXRlKCksIGVuZCA9IHJlYWRlci5wb3MgKyBsZW5ndGg7XG4gICAgICAgIHdoaWxlIChyZWFkZXIucG9zIDwgZW5kKSB7XG4gICAgICAgICAgICBsZXQgW2ZpZWxkTm8sIHdpcmVUeXBlXSA9IHJlYWRlci50YWcoKTtcbiAgICAgICAgICAgIHN3aXRjaCAoZmllbGRObykge1xuICAgICAgICAgICAgICAgIGNhc2UgLyogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY0l0ZW0gaXRlbSAqLyAxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLml0ZW0gPSBEeW5hbWljSXRlbS5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMsIG1lc3NhZ2UuaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSA9PT0gXCJ0aHJvd1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKHRoaXMudHlwZU5hbWUsIG1lc3NhZ2UsIGZpZWxkTm8sIHdpcmVUeXBlLCBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlOiBEeW5EZXRhaWxSZXBseSwgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLCBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMpOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAgICAgLyogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY0l0ZW0gaXRlbSA9IDE7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLml0ZW0pXG4gICAgICAgICAgICBEeW5hbWljSXRlbS5pbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2UuaXRlbSwgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSwgb3B0aW9ucykuam9pbigpO1xuICAgICAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgd3JpdGVyKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluRGV0YWlsUmVwbHlcbiAqL1xuZXhwb3J0IGNvbnN0IER5bkRldGFpbFJlcGx5ID0gbmV3IER5bkRldGFpbFJlcGx5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIER5bkRldGFpbFJlcSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RHluRGV0YWlsUmVxPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluRGV0YWlsUmVxXCIsIFtcbiAgICAgICAgICAgIHsgbm86IDIsIG5hbWU6IFwiZHluYW1pY19pZFwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9XG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxEeW5EZXRhaWxSZXE+KTogRHluRGV0YWlsUmVxIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSgodGhpcy5tZXNzYWdlUHJvdG90eXBlISkpO1xuICAgICAgICBtZXNzYWdlLmR5bmFtaWNJZCA9IFwiXCI7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxEeW5EZXRhaWxSZXE+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5UmVhZChyZWFkZXI6IElCaW5hcnlSZWFkZXIsIGxlbmd0aDogbnVtYmVyLCBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucywgdGFyZ2V0PzogRHluRGV0YWlsUmVxKTogRHluRGV0YWlsUmVxIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgZHluYW1pY19pZCAqLyAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmR5bmFtaWNJZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1ID09PSBcInRocm93XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2U6IER5bkRldGFpbFJlcSwgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLCBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMpOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAgICAgLyogc3RyaW5nIGR5bmFtaWNfaWQgPSAyOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5keW5hbWljSWQgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuZHluYW1pY0lkKTtcbiAgICAgICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKHRoaXMudHlwZU5hbWUsIG1lc3NhZ2UsIHdyaXRlcik7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bkRldGFpbFJlcVxuICovXG5leHBvcnQgY29uc3QgRHluRGV0YWlsUmVxID0gbmV3IER5bkRldGFpbFJlcSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEeW5hbWljSXRlbSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RHluYW1pY0l0ZW0+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5EeW5hbWljSXRlbVwiLCBbXG4gICAgICAgICAgICB7IG5vOiAxLCBuYW1lOiBcImNhcmRfdHlwZVwiLCBraW5kOiBcImVudW1cIiwgVDogKCkgPT4gW1wiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY1R5cGVcIiwgRHluYW1pY1R5cGVdIH0sXG4gICAgICAgICAgICB7IG5vOiAyLCBuYW1lOiBcIml0ZW1fdHlwZVwiLCBraW5kOiBcImVudW1cIiwgVDogKCkgPT4gW1wiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY1R5cGVcIiwgRHluYW1pY1R5cGVdIH0sXG4gICAgICAgICAgICB7IG5vOiAzLCBuYW1lOiBcIm1vZHVsZXNcIiwga2luZDogXCJtZXNzYWdlXCIsIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLywgVDogKCkgPT4gTW9kdWxlIH0sXG4gICAgICAgICAgICB7IG5vOiA1LCBuYW1lOiBcImhhc19mb2xkXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDYsIG5hbWU6IFwic2VydmVyX2luZm9cIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8RHluYW1pY0l0ZW0+KTogRHluYW1pY0l0ZW0ge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKCh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKSk7XG4gICAgICAgIG1lc3NhZ2UuY2FyZFR5cGUgPSAwO1xuICAgICAgICBtZXNzYWdlLml0ZW1UeXBlID0gMDtcbiAgICAgICAgbWVzc2FnZS5tb2R1bGVzID0gW107XG4gICAgICAgIG1lc3NhZ2UuaGFzRm9sZCA9IDA7XG4gICAgICAgIG1lc3NhZ2Uuc2VydmVySW5mbyA9IFwiXCI7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxEeW5hbWljSXRlbT4odGhpcywgbWVzc2FnZSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlcjogSUJpbmFyeVJlYWRlciwgbGVuZ3RoOiBudW1iZXIsIG9wdGlvbnM6IEJpbmFyeVJlYWRPcHRpb25zLCB0YXJnZXQ/OiBEeW5hbWljSXRlbSk6IER5bmFtaWNJdGVtIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5EeW5hbWljVHlwZSBjYXJkX3R5cGUgKi8gMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jYXJkVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bmFtaWNUeXBlIGl0ZW1fdHlwZSAqLyAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLml0ZW1UeXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogcmVwZWF0ZWQgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTW9kdWxlIG1vZHVsZXMgKi8gMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2R1bGVzLnB1c2goTW9kdWxlLmludGVybmFsQmluYXJ5UmVhZChyZWFkZXIsIHJlYWRlci51aW50MzIoKSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGludDMyIGhhc19mb2xkICovIDU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaGFzRm9sZCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBzZXJ2ZXJfaW5mbyAqLyA2OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlcnZlckluZm8gPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSA9PT0gXCJ0aHJvd1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKHRoaXMudHlwZU5hbWUsIG1lc3NhZ2UsIGZpZWxkTm8sIHdpcmVUeXBlLCBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlOiBEeW5hbWljSXRlbSwgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLCBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMpOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAgICAgLyogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY1R5cGUgY2FyZF90eXBlID0gMTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuY2FyZFR5cGUgIT09IDApXG4gICAgICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5jYXJkVHlwZSk7XG4gICAgICAgIC8qIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bmFtaWNUeXBlIGl0ZW1fdHlwZSA9IDI7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLml0ZW1UeXBlICE9PSAwKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygyLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UuaXRlbVR5cGUpO1xuICAgICAgICAvKiByZXBlYXRlZCBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5Nb2R1bGUgbW9kdWxlcyA9IDM7ICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5tb2R1bGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgTW9kdWxlLmludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZS5tb2R1bGVzW2ldLCB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuZm9yaygpLCBvcHRpb25zKS5qb2luKCk7XG4gICAgICAgIC8qIGludDMyIGhhc19mb2xkID0gNTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuaGFzRm9sZCAhPT0gMClcbiAgICAgICAgICAgIHdyaXRlci50YWcoNSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLmhhc0ZvbGQpO1xuICAgICAgICAvKiBzdHJpbmcgc2VydmVyX2luZm8gPSA2OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5zZXJ2ZXJJbmZvICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg2LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnNlcnZlckluZm8pO1xuICAgICAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgd3JpdGVyKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY0l0ZW1cbiAqL1xuZXhwb3J0IGNvbnN0IER5bmFtaWNJdGVtID0gbmV3IER5bmFtaWNJdGVtJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIE1vZHVsZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8TW9kdWxlPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTW9kdWxlXCIsIFtcbiAgICAgICAgICAgIHsgbm86IDEsIG5hbWU6IFwibW9kdWxlX3R5cGVcIiwga2luZDogXCJlbnVtXCIsIFQ6ICgpID0+IFtcImJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bk1vZHVsZVR5cGVcIiwgRHluTW9kdWxlVHlwZV0gfSxcbiAgICAgICAgICAgIHsgbm86IDUsIG5hbWU6IFwibW9kdWxlX2R5bmFtaWNcIiwga2luZDogXCJtZXNzYWdlXCIsIG9uZW9mOiBcIm1vZHVsZUl0ZW1cIiwgVDogKCkgPT4gTW9kdWxlRHluYW1pYyB9XG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxNb2R1bGU+KTogTW9kdWxlIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSgodGhpcy5tZXNzYWdlUHJvdG90eXBlISkpO1xuICAgICAgICBtZXNzYWdlLm1vZHVsZVR5cGUgPSAwO1xuICAgICAgICBtZXNzYWdlLm1vZHVsZUl0ZW0gPSB7IG9uZW9mS2luZDogdW5kZWZpbmVkIH07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxNb2R1bGU+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5UmVhZChyZWFkZXI6IElCaW5hcnlSZWFkZXIsIGxlbmd0aDogbnVtYmVyLCBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucywgdGFyZ2V0PzogTW9kdWxlKTogTW9kdWxlIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5EeW5Nb2R1bGVUeXBlIG1vZHVsZV90eXBlICovIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubW9kdWxlVHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1vZHVsZUR5bmFtaWMgbW9kdWxlX2R5bmFtaWMgKi8gNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2R1bGVJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25lb2ZLaW5kOiBcIm1vZHVsZUR5bmFtaWNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZUR5bmFtaWM6IE1vZHVsZUR5bmFtaWMuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zLCAobWVzc2FnZS5tb2R1bGVJdGVtIGFzIGFueSkubW9kdWxlRHluYW1pYylcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1ID09PSBcInRocm93XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2U6IE1vZHVsZSwgd3JpdGVyOiBJQmluYXJ5V3JpdGVyLCBvcHRpb25zOiBCaW5hcnlXcml0ZU9wdGlvbnMpOiBJQmluYXJ5V3JpdGVyIHtcbiAgICAgICAgLyogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluTW9kdWxlVHlwZSBtb2R1bGVfdHlwZSA9IDE7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLm1vZHVsZVR5cGUgIT09IDApXG4gICAgICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5tb2R1bGVUeXBlKTtcbiAgICAgICAgLyogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTW9kdWxlRHluYW1pYyBtb2R1bGVfZHluYW1pYyA9IDU7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLm1vZHVsZUl0ZW0ub25lb2ZLaW5kID09PSBcIm1vZHVsZUR5bmFtaWNcIilcbiAgICAgICAgICAgIE1vZHVsZUR5bmFtaWMuaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlLm1vZHVsZUl0ZW0ubW9kdWxlRHluYW1pYywgd3JpdGVyLnRhZyg1LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSwgb3B0aW9ucykuam9pbigpO1xuICAgICAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgd3JpdGVyKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTW9kdWxlXG4gKi9cbmV4cG9ydCBjb25zdCBNb2R1bGUgPSBuZXcgTW9kdWxlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIE1vZHVsZUR5bmFtaWMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPE1vZHVsZUR5bmFtaWM+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoXCJiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5Nb2R1bGVEeW5hbWljXCIsIFtcbiAgICAgICAgICAgIHsgbm86IDEsIG5hbWU6IFwidHlwZVwiLCBraW5kOiBcImVudW1cIiwgVDogKCkgPT4gW1wiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTW9kdWxlRHluYW1pY1R5cGVcIiwgTW9kdWxlRHluYW1pY1R5cGVdIH0sXG4gICAgICAgICAgICB7IG5vOiAyLCBuYW1lOiBcImR5bl9hcmNoaXZlXCIsIGtpbmQ6IFwibWVzc2FnZVwiLCBvbmVvZjogXCJtb2R1bGVJdGVtXCIsIFQ6ICgpID0+IE1kbER5bkFyY2hpdmUgfVxuICAgICAgICBdKTtcbiAgICB9XG4gICAgY3JlYXRlKHZhbHVlPzogUGFydGlhbE1lc3NhZ2U8TW9kdWxlRHluYW1pYz4pOiBNb2R1bGVEeW5hbWljIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSgodGhpcy5tZXNzYWdlUHJvdG90eXBlISkpO1xuICAgICAgICBtZXNzYWdlLnR5cGUgPSAwO1xuICAgICAgICBtZXNzYWdlLm1vZHVsZUl0ZW0gPSB7IG9uZW9mS2luZDogdW5kZWZpbmVkIH07XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxNb2R1bGVEeW5hbWljPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyOiBJQmluYXJ5UmVhZGVyLCBsZW5ndGg6IG51bWJlciwgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsIHRhcmdldD86IE1vZHVsZUR5bmFtaWMpOiBNb2R1bGVEeW5hbWljIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5Nb2R1bGVEeW5hbWljVHlwZSB0eXBlICovIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudHlwZSA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1kbER5bkFyY2hpdmUgZHluX2FyY2hpdmUgKi8gMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2R1bGVJdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb25lb2ZLaW5kOiBcImR5bkFyY2hpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGR5bkFyY2hpdmU6IE1kbER5bkFyY2hpdmUuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zLCAobWVzc2FnZS5tb2R1bGVJdGVtIGFzIGFueSkuZHluQXJjaGl2ZSlcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1ID09PSBcInRocm93XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2U6IE1vZHVsZUR5bmFtaWMsIHdyaXRlcjogSUJpbmFyeVdyaXRlciwgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zKTogSUJpbmFyeVdyaXRlciB7XG4gICAgICAgIC8qIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1vZHVsZUR5bmFtaWNUeXBlIHR5cGUgPSAxOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9PSAwKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UudHlwZSk7XG4gICAgICAgIC8qIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1kbER5bkFyY2hpdmUgZHluX2FyY2hpdmUgPSAyOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5tb2R1bGVJdGVtLm9uZW9mS2luZCA9PT0gXCJkeW5BcmNoaXZlXCIpXG4gICAgICAgICAgICBNZGxEeW5BcmNoaXZlLmludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZS5tb2R1bGVJdGVtLmR5bkFyY2hpdmUsIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksIG9wdGlvbnMpLmpvaW4oKTtcbiAgICAgICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKHRoaXMudHlwZU5hbWUsIG1lc3NhZ2UsIHdyaXRlcik7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1vZHVsZUR5bmFtaWNcbiAqL1xuZXhwb3J0IGNvbnN0IE1vZHVsZUR5bmFtaWMgPSBuZXcgTW9kdWxlRHluYW1pYyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBNZGxEeW5BcmNoaXZlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxNZGxEeW5BcmNoaXZlPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTWRsRHluQXJjaGl2ZVwiLCBbXG4gICAgICAgICAgICB7IG5vOiAxLCBuYW1lOiBcInRpdGxlXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAyLCBuYW1lOiBcImNvdmVyXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAzLCBuYW1lOiBcInVyaVwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogNCwgbmFtZTogXCJjb3Zlcl9sZWZ0X3RleHRfMVwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogNSwgbmFtZTogXCJjb3Zlcl9sZWZ0X3RleHRfMlwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogNiwgbmFtZTogXCJjb3Zlcl9sZWZ0X3RleHRfM1wiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogNywgbmFtZTogXCJhdmlkXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8sIEw6IDAgLypMb25nVHlwZS5CSUdJTlQqLyB9LFxuICAgICAgICAgICAgeyBubzogOCwgbmFtZTogXCJjaWRcIiwga2luZDogXCJzY2FsYXJcIiwgVDogMyAvKlNjYWxhclR5cGUuSU5UNjQqLywgTDogMCAvKkxvbmdUeXBlLkJJR0lOVCovIH0sXG4gICAgICAgICAgICB7IG5vOiA5LCBuYW1lOiBcIm1lZGlhX3R5cGVcIiwga2luZDogXCJlbnVtXCIsIFQ6ICgpID0+IFtcImJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1lZGlhVHlwZVwiLCBNZWRpYVR5cGVdIH0sXG4gICAgICAgICAgICB7IG5vOiAxMCwgbmFtZTogXCJkaW1lbnNpb25cIiwga2luZDogXCJtZXNzYWdlXCIsIFQ6ICgpID0+IERpbWVuc2lvbiB9LFxuICAgICAgICAgICAgeyBubzogMTEsIG5hbWU6IFwiYmFkZ2VcIiwga2luZDogXCJtZXNzYWdlXCIsIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLywgVDogKCkgPT4gVmlkZW9CYWRnZSB9LFxuICAgICAgICAgICAgeyBubzogMTIsIG5hbWU6IFwiY2FuX3BsYXlcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICAgICAgICB7IG5vOiAxMywgbmFtZTogXCJzdHlwZVwiLCBraW5kOiBcImVudW1cIiwgVDogKCkgPT4gW1wiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuVmlkZW9UeXBlXCIsIFZpZGVvVHlwZV0gfSxcbiAgICAgICAgICAgIHsgbm86IDE0LCBuYW1lOiBcImlzUEdDXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgICAgICAgeyBubzogMTUsIG5hbWU6IFwiaW5saW5lVVJMXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAxNiwgbmFtZTogXCJFcGlzb2RlSWRcIiwga2luZDogXCJzY2FsYXJcIiwganNvbk5hbWU6IFwiRXBpc29kZUlkXCIsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8sIEw6IDAgLypMb25nVHlwZS5CSUdJTlQqLyB9LFxuICAgICAgICAgICAgeyBubzogMTcsIG5hbWU6IFwiU3ViVHlwZVwiLCBraW5kOiBcInNjYWxhclwiLCBqc29uTmFtZTogXCJTdWJUeXBlXCIsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDE4LCBuYW1lOiBcIlBnY1NlYXNvbklkXCIsIGtpbmQ6IFwic2NhbGFyXCIsIGpzb25OYW1lOiBcIlBnY1NlYXNvbklkXCIsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8sIEw6IDAgLypMb25nVHlwZS5CSUdJTlQqLyB9LFxuICAgICAgICAgICAgeyBubzogMTksIG5hbWU6IFwicGxheV9pY29uXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAyMCwgbmFtZTogXCJkdXJhdGlvblwiLCBraW5kOiBcInNjYWxhclwiLCBUOiAzIC8qU2NhbGFyVHlwZS5JTlQ2NCovLCBMOiAwIC8qTG9uZ1R5cGUuQklHSU5UKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDIxLCBuYW1lOiBcImp1bXBfdXJsXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAyMiwgbmFtZTogXCJpc19wcmV2aWV3XCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgICAgICAgeyBubzogMjMsIG5hbWU6IFwiYmFkZ2VfY2F0ZWdvcnlcIiwga2luZDogXCJtZXNzYWdlXCIsIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLywgVDogKCkgPT4gVmlkZW9CYWRnZSB9LFxuICAgICAgICAgICAgeyBubzogMjQsIG5hbWU6IFwiaXNfZmVhdHVyZVwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDI1LCBuYW1lOiBcInJlc2VydmVfdHlwZVwiLCBraW5kOiBcImVudW1cIiwgVDogKCkgPT4gW1wiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuUmVzZXJ2ZVR5cGVcIiwgUmVzZXJ2ZVR5cGVdIH0sXG4gICAgICAgICAgICB7IG5vOiAyNiwgbmFtZTogXCJidmlkXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAyNywgbmFtZTogXCJ2aWV3XCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDI4LCBuYW1lOiBcInNob3dfcHJlbWllcmVfYmFkZ2VcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICAgICAgICB7IG5vOiAyOSwgbmFtZTogXCJwcmVtaWVyZV9jYXJkXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgICAgICAgeyBubzogMzAsIG5hbWU6IFwic2hvd19wcm9ncmVzc1wiLCBraW5kOiBcInNjYWxhclwiLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDMxLCBuYW1lOiBcInBhcnRfZHVyYXRpb25cIiwga2luZDogXCJzY2FsYXJcIiwgVDogMyAvKlNjYWxhclR5cGUuSU5UNjQqLywgTDogMCAvKkxvbmdUeXBlLkJJR0lOVCovIH0sXG4gICAgICAgICAgICB7IG5vOiAzMiwgbmFtZTogXCJwYXJ0X3Byb2dyZXNzXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8sIEw6IDAgLypMb25nVHlwZS5CSUdJTlQqLyB9XG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxNZGxEeW5BcmNoaXZlPik6IE1kbER5bkFyY2hpdmUge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKCh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKSk7XG4gICAgICAgIG1lc3NhZ2UudGl0bGUgPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLmNvdmVyID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS51cmkgPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLmNvdmVyTGVmdFRleHQxID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5jb3ZlckxlZnRUZXh0MiA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuY292ZXJMZWZ0VGV4dDMgPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLmF2aWQgPSAwbjtcbiAgICAgICAgbWVzc2FnZS5jaWQgPSAwbjtcbiAgICAgICAgbWVzc2FnZS5tZWRpYVR5cGUgPSAwO1xuICAgICAgICBtZXNzYWdlLmJhZGdlID0gW107XG4gICAgICAgIG1lc3NhZ2UuY2FuUGxheSA9IGZhbHNlO1xuICAgICAgICBtZXNzYWdlLnN0eXBlID0gMDtcbiAgICAgICAgbWVzc2FnZS5pc1BHQyA9IGZhbHNlO1xuICAgICAgICBtZXNzYWdlLmlubGluZVVSTCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuZXBpc29kZUlkID0gMG47XG4gICAgICAgIG1lc3NhZ2Uuc3ViVHlwZSA9IDA7XG4gICAgICAgIG1lc3NhZ2UucGdjU2Vhc29uSWQgPSAwbjtcbiAgICAgICAgbWVzc2FnZS5wbGF5SWNvbiA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuZHVyYXRpb24gPSAwbjtcbiAgICAgICAgbWVzc2FnZS5qdW1wVXJsID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5pc1ByZXZpZXcgPSBmYWxzZTtcbiAgICAgICAgbWVzc2FnZS5iYWRnZUNhdGVnb3J5ID0gW107XG4gICAgICAgIG1lc3NhZ2UuaXNGZWF0dXJlID0gZmFsc2U7XG4gICAgICAgIG1lc3NhZ2UucmVzZXJ2ZVR5cGUgPSAwO1xuICAgICAgICBtZXNzYWdlLmJ2aWQgPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLnZpZXcgPSAwO1xuICAgICAgICBtZXNzYWdlLnNob3dQcmVtaWVyZUJhZGdlID0gZmFsc2U7XG4gICAgICAgIG1lc3NhZ2UucHJlbWllcmVDYXJkID0gZmFsc2U7XG4gICAgICAgIG1lc3NhZ2Uuc2hvd1Byb2dyZXNzID0gZmFsc2U7XG4gICAgICAgIG1lc3NhZ2UucGFydER1cmF0aW9uID0gMG47XG4gICAgICAgIG1lc3NhZ2UucGFydFByb2dyZXNzID0gMG47XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxNZGxEeW5BcmNoaXZlPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyOiBJQmluYXJ5UmVhZGVyLCBsZW5ndGg6IG51bWJlciwgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsIHRhcmdldD86IE1kbER5bkFyY2hpdmUpOiBNZGxEeW5BcmNoaXZlIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgdGl0bGUgKi8gMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS50aXRsZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgY292ZXIgKi8gMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jb3ZlciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgdXJpICovIDM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudXJpID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBjb3Zlcl9sZWZ0X3RleHRfMSAqLyA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvdmVyTGVmdFRleHQxID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBjb3Zlcl9sZWZ0X3RleHRfMiAqLyA1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvdmVyTGVmdFRleHQyID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBjb3Zlcl9sZWZ0X3RleHRfMyAqLyA2OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmNvdmVyTGVmdFRleHQzID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGludDY0IGF2aWQgKi8gNzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hdmlkID0gcmVhZGVyLmludDY0KCkudG9CaWdJbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQ2NCBjaWQgKi8gODpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaWQgPSByZWFkZXIuaW50NjQoKS50b0JpZ0ludCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1lZGlhVHlwZSBtZWRpYV90eXBlICovIDk6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UubWVkaWFUeXBlID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRGltZW5zaW9uIGRpbWVuc2lvbiAqLyAxMDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kaW1lbnNpb24gPSBEaW1lbnNpb24uaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zLCBtZXNzYWdlLmRpbWVuc2lvbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogcmVwZWF0ZWQgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuVmlkZW9CYWRnZSBiYWRnZSAqLyAxMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iYWRnZS5wdXNoKFZpZGVvQmFkZ2UuaW50ZXJuYWxCaW5hcnlSZWFkKHJlYWRlciwgcmVhZGVyLnVpbnQzMigpLCBvcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogYm9vbCBjYW5fcGxheSAqLyAxMjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jYW5QbGF5ID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5WaWRlb1R5cGUgc3R5cGUgKi8gMTM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc3R5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBib29sIGlzUEdDICovIDE0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlzUEdDID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgaW5saW5lVVJMICovIDE1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlubGluZVVSTCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQ2NCBFcGlzb2RlSWQgKi8gMTY6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZXBpc29kZUlkID0gcmVhZGVyLmludDY0KCkudG9CaWdJbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQzMiBTdWJUeXBlICovIDE3OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnN1YlR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQ2NCBQZ2NTZWFzb25JZCAqLyAxODpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wZ2NTZWFzb25JZCA9IHJlYWRlci5pbnQ2NCgpLnRvQmlnSW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIHBsYXlfaWNvbiAqLyAxOTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wbGF5SWNvbiA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQ2NCBkdXJhdGlvbiAqLyAyMDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kdXJhdGlvbiA9IHJlYWRlci5pbnQ2NCgpLnRvQmlnSW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIGp1bXBfdXJsICovIDIxOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmp1bXBVcmwgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogYm9vbCBpc19wcmV2aWV3ICovIDIyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlzUHJldmlldyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogcmVwZWF0ZWQgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuVmlkZW9CYWRnZSBiYWRnZV9jYXRlZ29yeSAqLyAyMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iYWRnZUNhdGVnb3J5LnB1c2goVmlkZW9CYWRnZS5pbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyLCByZWFkZXIudWludDMyKCksIG9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBib29sIGlzX2ZlYXR1cmUgKi8gMjQ6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuaXNGZWF0dXJlID0gcmVhZGVyLmJvb2woKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5SZXNlcnZlVHlwZSByZXNlcnZlX3R5cGUgKi8gMjU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucmVzZXJ2ZVR5cGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgYnZpZCAqLyAyNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGludDMyIHZpZXcgKi8gMjc6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmlldyA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGJvb2wgc2hvd19wcmVtaWVyZV9iYWRnZSAqLyAyODpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zaG93UHJlbWllcmVCYWRnZSA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogYm9vbCBwcmVtaWVyZV9jYXJkICovIDI5OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnByZW1pZXJlQ2FyZCA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogYm9vbCBzaG93X3Byb2dyZXNzICovIDMwOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNob3dQcm9ncmVzcyA9IHJlYWRlci5ib29sKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogaW50NjQgcGFydF9kdXJhdGlvbiAqLyAzMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5wYXJ0RHVyYXRpb24gPSByZWFkZXIuaW50NjQoKS50b0JpZ0ludCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGludDY0IHBhcnRfcHJvZ3Jlc3MgKi8gMzI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UucGFydFByb2dyZXNzID0gcmVhZGVyLmludDY0KCkudG9CaWdJbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1ID09PSBcInRocm93XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2U6IE1kbER5bkFyY2hpdmUsIHdyaXRlcjogSUJpbmFyeVdyaXRlciwgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zKTogSUJpbmFyeVdyaXRlciB7XG4gICAgICAgIC8qIHN0cmluZyB0aXRsZSA9IDE7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLnRpdGxlICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnRpdGxlKTtcbiAgICAgICAgLyogc3RyaW5nIGNvdmVyID0gMjsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuY292ZXIgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuY292ZXIpO1xuICAgICAgICAvKiBzdHJpbmcgdXJpID0gMzsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UudXJpICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygzLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnVyaSk7XG4gICAgICAgIC8qIHN0cmluZyBjb3Zlcl9sZWZ0X3RleHRfMSA9IDQ7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmNvdmVyTGVmdFRleHQxICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg0LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLmNvdmVyTGVmdFRleHQxKTtcbiAgICAgICAgLyogc3RyaW5nIGNvdmVyX2xlZnRfdGV4dF8yID0gNTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuY292ZXJMZWZ0VGV4dDIgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDUsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuY292ZXJMZWZ0VGV4dDIpO1xuICAgICAgICAvKiBzdHJpbmcgY292ZXJfbGVmdF90ZXh0XzMgPSA2OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5jb3ZlckxlZnRUZXh0MyAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoNiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5jb3ZlckxlZnRUZXh0Myk7XG4gICAgICAgIC8qIGludDY0IGF2aWQgPSA3OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5hdmlkICE9PSAwbilcbiAgICAgICAgICAgIHdyaXRlci50YWcoNywgV2lyZVR5cGUuVmFyaW50KS5pbnQ2NChtZXNzYWdlLmF2aWQpO1xuICAgICAgICAvKiBpbnQ2NCBjaWQgPSA4OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5jaWQgIT09IDBuKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg4LCBXaXJlVHlwZS5WYXJpbnQpLmludDY0KG1lc3NhZ2UuY2lkKTtcbiAgICAgICAgLyogYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTWVkaWFUeXBlIG1lZGlhX3R5cGUgPSA5OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5tZWRpYVR5cGUgIT09IDApXG4gICAgICAgICAgICB3cml0ZXIudGFnKDksIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5tZWRpYVR5cGUpO1xuICAgICAgICAvKiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5EaW1lbnNpb24gZGltZW5zaW9uID0gMTA7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmRpbWVuc2lvbilcbiAgICAgICAgICAgIERpbWVuc2lvbi5pbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2UuZGltZW5zaW9uLCB3cml0ZXIudGFnKDEwLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSwgb3B0aW9ucykuam9pbigpO1xuICAgICAgICAvKiByZXBlYXRlZCBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5WaWRlb0JhZGdlIGJhZGdlID0gMTE7ICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5iYWRnZS5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIFZpZGVvQmFkZ2UuaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlLmJhZGdlW2ldLCB3cml0ZXIudGFnKDExLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLmZvcmsoKSwgb3B0aW9ucykuam9pbigpO1xuICAgICAgICAvKiBib29sIGNhbl9wbGF5ID0gMTI7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmNhblBsYXkgIT09IGZhbHNlKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxMiwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2UuY2FuUGxheSk7XG4gICAgICAgIC8qIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLlZpZGVvVHlwZSBzdHlwZSA9IDEzOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5zdHlwZSAhPT0gMClcbiAgICAgICAgICAgIHdyaXRlci50YWcoMTMsIFdpcmVUeXBlLlZhcmludCkuaW50MzIobWVzc2FnZS5zdHlwZSk7XG4gICAgICAgIC8qIGJvb2wgaXNQR0MgPSAxNDsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuaXNQR0MgIT09IGZhbHNlKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxNCwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2UuaXNQR0MpO1xuICAgICAgICAvKiBzdHJpbmcgaW5saW5lVVJMID0gMTU7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmlubGluZVVSTCAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMTUsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuaW5saW5lVVJMKTtcbiAgICAgICAgLyogaW50NjQgRXBpc29kZUlkID0gMTY7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmVwaXNvZGVJZCAhPT0gMG4pXG4gICAgICAgICAgICB3cml0ZXIudGFnKDE2LCBXaXJlVHlwZS5WYXJpbnQpLmludDY0KG1lc3NhZ2UuZXBpc29kZUlkKTtcbiAgICAgICAgLyogaW50MzIgU3ViVHlwZSA9IDE3OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5zdWJUeXBlICE9PSAwKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxNywgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLnN1YlR5cGUpO1xuICAgICAgICAvKiBpbnQ2NCBQZ2NTZWFzb25JZCA9IDE4OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5wZ2NTZWFzb25JZCAhPT0gMG4pXG4gICAgICAgICAgICB3cml0ZXIudGFnKDE4LCBXaXJlVHlwZS5WYXJpbnQpLmludDY0KG1lc3NhZ2UucGdjU2Vhc29uSWQpO1xuICAgICAgICAvKiBzdHJpbmcgcGxheV9pY29uID0gMTk7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLnBsYXlJY29uICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxOSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5wbGF5SWNvbik7XG4gICAgICAgIC8qIGludDY0IGR1cmF0aW9uID0gMjA7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmR1cmF0aW9uICE9PSAwbilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMjAsIFdpcmVUeXBlLlZhcmludCkuaW50NjQobWVzc2FnZS5kdXJhdGlvbik7XG4gICAgICAgIC8qIHN0cmluZyBqdW1wX3VybCA9IDIxOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5qdW1wVXJsICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygyMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5qdW1wVXJsKTtcbiAgICAgICAgLyogYm9vbCBpc19wcmV2aWV3ID0gMjI7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmlzUHJldmlldyAhPT0gZmFsc2UpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDIyLCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5pc1ByZXZpZXcpO1xuICAgICAgICAvKiByZXBlYXRlZCBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5WaWRlb0JhZGdlIGJhZGdlX2NhdGVnb3J5ID0gMjM7ICovXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVzc2FnZS5iYWRnZUNhdGVnb3J5Lmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgVmlkZW9CYWRnZS5pbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2UuYmFkZ2VDYXRlZ29yeVtpXSwgd3JpdGVyLnRhZygyMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5mb3JrKCksIG9wdGlvbnMpLmpvaW4oKTtcbiAgICAgICAgLyogYm9vbCBpc19mZWF0dXJlID0gMjQ7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmlzRmVhdHVyZSAhPT0gZmFsc2UpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDI0LCBXaXJlVHlwZS5WYXJpbnQpLmJvb2wobWVzc2FnZS5pc0ZlYXR1cmUpO1xuICAgICAgICAvKiBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5SZXNlcnZlVHlwZSByZXNlcnZlX3R5cGUgPSAyNTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UucmVzZXJ2ZVR5cGUgIT09IDApXG4gICAgICAgICAgICB3cml0ZXIudGFnKDI1LCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UucmVzZXJ2ZVR5cGUpO1xuICAgICAgICAvKiBzdHJpbmcgYnZpZCA9IDI2OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5idmlkICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygyNiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5idmlkKTtcbiAgICAgICAgLyogaW50MzIgdmlldyA9IDI3OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS52aWV3ICE9PSAwKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygyNywgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLnZpZXcpO1xuICAgICAgICAvKiBib29sIHNob3dfcHJlbWllcmVfYmFkZ2UgPSAyODsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2hvd1ByZW1pZXJlQmFkZ2UgIT09IGZhbHNlKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygyOCwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2Uuc2hvd1ByZW1pZXJlQmFkZ2UpO1xuICAgICAgICAvKiBib29sIHByZW1pZXJlX2NhcmQgPSAyOTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UucHJlbWllcmVDYXJkICE9PSBmYWxzZSlcbiAgICAgICAgICAgIHdyaXRlci50YWcoMjksIFdpcmVUeXBlLlZhcmludCkuYm9vbChtZXNzYWdlLnByZW1pZXJlQ2FyZCk7XG4gICAgICAgIC8qIGJvb2wgc2hvd19wcm9ncmVzcyA9IDMwOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5zaG93UHJvZ3Jlc3MgIT09IGZhbHNlKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygzMCwgV2lyZVR5cGUuVmFyaW50KS5ib29sKG1lc3NhZ2Uuc2hvd1Byb2dyZXNzKTtcbiAgICAgICAgLyogaW50NjQgcGFydF9kdXJhdGlvbiA9IDMxOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5wYXJ0RHVyYXRpb24gIT09IDBuKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygzMSwgV2lyZVR5cGUuVmFyaW50KS5pbnQ2NChtZXNzYWdlLnBhcnREdXJhdGlvbik7XG4gICAgICAgIC8qIGludDY0IHBhcnRfcHJvZ3Jlc3MgPSAzMjsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UucGFydFByb2dyZXNzICE9PSAwbilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMzIsIFdpcmVUeXBlLlZhcmludCkuaW50NjQobWVzc2FnZS5wYXJ0UHJvZ3Jlc3MpO1xuICAgICAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgd3JpdGVyKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuTWRsRHluQXJjaGl2ZVxuICovXG5leHBvcnQgY29uc3QgTWRsRHluQXJjaGl2ZSA9IG5ldyBNZGxEeW5BcmNoaXZlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIERpbWVuc2lvbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RGltZW5zaW9uPiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFwiYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRGltZW5zaW9uXCIsIFtcbiAgICAgICAgICAgIHsgbm86IDEsIG5hbWU6IFwiaGVpZ2h0XCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8sIEw6IDAgLypMb25nVHlwZS5CSUdJTlQqLyB9LFxuICAgICAgICAgICAgeyBubzogMiwgbmFtZTogXCJ3aWR0aFwiLCBraW5kOiBcInNjYWxhclwiLCBUOiAzIC8qU2NhbGFyVHlwZS5JTlQ2NCovLCBMOiAwIC8qTG9uZ1R5cGUuQklHSU5UKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDMsIG5hbWU6IFwicm90YXRlXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8sIEw6IDAgLypMb25nVHlwZS5CSUdJTlQqLyB9XG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxEaW1lbnNpb24+KTogRGltZW5zaW9uIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSgodGhpcy5tZXNzYWdlUHJvdG90eXBlISkpO1xuICAgICAgICBtZXNzYWdlLmhlaWdodCA9IDBuO1xuICAgICAgICBtZXNzYWdlLndpZHRoID0gMG47XG4gICAgICAgIG1lc3NhZ2Uucm90YXRlID0gMG47XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxEaW1lbnNpb24+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5UmVhZChyZWFkZXI6IElCaW5hcnlSZWFkZXIsIGxlbmd0aDogbnVtYmVyLCBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucywgdGFyZ2V0PzogRGltZW5zaW9uKTogRGltZW5zaW9uIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQ2NCBoZWlnaHQgKi8gMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5oZWlnaHQgPSByZWFkZXIuaW50NjQoKS50b0JpZ0ludCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGludDY0IHdpZHRoICovIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uud2lkdGggPSByZWFkZXIuaW50NjQoKS50b0JpZ0ludCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGludDY0IHJvdGF0ZSAqLyAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnJvdGF0ZSA9IHJlYWRlci5pbnQ2NCgpLnRvQmlnSW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGxldCB1ID0gb3B0aW9ucy5yZWFkVW5rbm93bkZpZWxkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSA9PT0gXCJ0aHJvd1wiKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoYFVua25vd24gZmllbGQgJHtmaWVsZE5vfSAod2lyZSB0eXBlICR7d2lyZVR5cGV9KSBmb3IgJHt0aGlzLnR5cGVOYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHJlYWRlci5za2lwKHdpcmVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgKHUgPT09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uUmVhZCA6IHUpKHRoaXMudHlwZU5hbWUsIG1lc3NhZ2UsIGZpZWxkTm8sIHdpcmVUeXBlLCBkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG4gICAgaW50ZXJuYWxCaW5hcnlXcml0ZShtZXNzYWdlOiBEaW1lbnNpb24sIHdyaXRlcjogSUJpbmFyeVdyaXRlciwgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zKTogSUJpbmFyeVdyaXRlciB7XG4gICAgICAgIC8qIGludDY0IGhlaWdodCA9IDE7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmhlaWdodCAhPT0gMG4pXG4gICAgICAgICAgICB3cml0ZXIudGFnKDEsIFdpcmVUeXBlLlZhcmludCkuaW50NjQobWVzc2FnZS5oZWlnaHQpO1xuICAgICAgICAvKiBpbnQ2NCB3aWR0aCA9IDI7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLndpZHRoICE9PSAwbilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuVmFyaW50KS5pbnQ2NChtZXNzYWdlLndpZHRoKTtcbiAgICAgICAgLyogaW50NjQgcm90YXRlID0gMzsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2Uucm90YXRlICE9PSAwbilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMywgV2lyZVR5cGUuVmFyaW50KS5pbnQ2NChtZXNzYWdlLnJvdGF0ZSk7XG4gICAgICAgIGxldCB1ID0gb3B0aW9ucy53cml0ZVVua25vd25GaWVsZHM7XG4gICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICh1ID09IHRydWUgPyBVbmtub3duRmllbGRIYW5kbGVyLm9uV3JpdGUgOiB1KSh0aGlzLnR5cGVOYW1lLCBtZXNzYWdlLCB3cml0ZXIpO1xuICAgICAgICByZXR1cm4gd3JpdGVyO1xuICAgIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBiaWxpYmlsaS5hcHAuZHluYW1pYy52Mi5EaW1lbnNpb25cbiAqL1xuZXhwb3J0IGNvbnN0IERpbWVuc2lvbiA9IG5ldyBEaW1lbnNpb24kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9CYWRnZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9CYWRnZT4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImJpbGliaWxpLmFwcC5keW5hbWljLnYyLlZpZGVvQmFkZ2VcIiwgW1xuICAgICAgICAgICAgeyBubzogMSwgbmFtZTogXCJ0ZXh0XCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAyLCBuYW1lOiBcInRleHRfY29sb3JcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDMsIG5hbWU6IFwidGV4dF9jb2xvcl9uaWdodFwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogNCwgbmFtZTogXCJiZ19jb2xvclwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogNSwgbmFtZTogXCJiZ19jb2xvcl9uaWdodFwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogNiwgbmFtZTogXCJib3JkZXJfY29sb3JcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDcsIG5hbWU6IFwiYm9yZGVyX2NvbG9yX25pZ2h0XCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiA4LCBuYW1lOiBcImJnX3N0eWxlXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDksIG5hbWU6IFwiYmdfYWxwaGFcIiwga2luZDogXCJzY2FsYXJcIiwgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgICAgICAgICAgeyBubzogMTAsIG5hbWU6IFwiYmdfYWxwaGFfbmlnaHRcIiwga2luZDogXCJzY2FsYXJcIiwgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9XG4gICAgICAgIF0pO1xuICAgIH1cbiAgICBjcmVhdGUodmFsdWU/OiBQYXJ0aWFsTWVzc2FnZTxWaWRlb0JhZGdlPik6IFZpZGVvQmFkZ2Uge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKCh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKSk7XG4gICAgICAgIG1lc3NhZ2UudGV4dCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UudGV4dENvbG9yID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS50ZXh0Q29sb3JOaWdodCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYmdDb2xvciA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYmdDb2xvck5pZ2h0ID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5ib3JkZXJDb2xvciA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYm9yZGVyQ29sb3JOaWdodCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYmdTdHlsZSA9IDA7XG4gICAgICAgIG1lc3NhZ2UuYmdBbHBoYSA9IDA7XG4gICAgICAgIG1lc3NhZ2UuYmdBbHBoYU5pZ2h0ID0gMDtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPFZpZGVvQmFkZ2U+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5UmVhZChyZWFkZXI6IElCaW5hcnlSZWFkZXIsIGxlbmd0aDogbnVtYmVyLCBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucywgdGFyZ2V0PzogVmlkZW9CYWRnZSk6IFZpZGVvQmFkZ2Uge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLCBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyB0ZXh0ICovIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudGV4dCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgdGV4dF9jb2xvciAqLyAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRDb2xvciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgdGV4dF9jb2xvcl9uaWdodCAqLyAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnRleHRDb2xvck5pZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBiZ19jb2xvciAqLyA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJnQ29sb3IgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIGJnX2NvbG9yX25pZ2h0ICovIDU6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYmdDb2xvck5pZ2h0ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBib3JkZXJfY29sb3IgKi8gNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5ib3JkZXJDb2xvciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgYm9yZGVyX2NvbG9yX25pZ2h0ICovIDc6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYm9yZGVyQ29sb3JOaWdodCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQzMiBiZ19zdHlsZSAqLyA4OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJnU3R5bGUgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQzMiBiZ19hbHBoYSAqLyA5OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJnQWxwaGEgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQzMiBiZ19hbHBoYV9uaWdodCAqLyAxMDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5iZ0FscGhhTmlnaHQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHUgPSBvcHRpb25zLnJlYWRVbmtub3duRmllbGQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1ID09PSBcInRocm93XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihgVW5rbm93biBmaWVsZCAke2ZpZWxkTm99ICh3aXJlIHR5cGUgJHt3aXJlVHlwZX0pIGZvciAke3RoaXMudHlwZU5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gcmVhZGVyLnNraXAod2lyZVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAodSA9PT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25SZWFkIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgZmllbGRObywgd2lyZVR5cGUsIGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVdyaXRlKG1lc3NhZ2U6IFZpZGVvQmFkZ2UsIHdyaXRlcjogSUJpbmFyeVdyaXRlciwgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zKTogSUJpbmFyeVdyaXRlciB7XG4gICAgICAgIC8qIHN0cmluZyB0ZXh0ID0gMTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UudGV4dCAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS50ZXh0KTtcbiAgICAgICAgLyogc3RyaW5nIHRleHRfY29sb3IgPSAyOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS50ZXh0Q29sb3IgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UudGV4dENvbG9yKTtcbiAgICAgICAgLyogc3RyaW5nIHRleHRfY29sb3JfbmlnaHQgPSAzOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS50ZXh0Q29sb3JOaWdodCAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS50ZXh0Q29sb3JOaWdodCk7XG4gICAgICAgIC8qIHN0cmluZyBiZ19jb2xvciA9IDQ7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmJnQ29sb3IgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuYmdDb2xvcik7XG4gICAgICAgIC8qIHN0cmluZyBiZ19jb2xvcl9uaWdodCA9IDU7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLmJnQ29sb3JOaWdodCAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoNSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5iZ0NvbG9yTmlnaHQpO1xuICAgICAgICAvKiBzdHJpbmcgYm9yZGVyX2NvbG9yID0gNjsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9yZGVyQ29sb3IgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDYsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuYm9yZGVyQ29sb3IpO1xuICAgICAgICAvKiBzdHJpbmcgYm9yZGVyX2NvbG9yX25pZ2h0ID0gNzsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuYm9yZGVyQ29sb3JOaWdodCAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoNywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5ib3JkZXJDb2xvck5pZ2h0KTtcbiAgICAgICAgLyogaW50MzIgYmdfc3R5bGUgPSA4OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5iZ1N0eWxlICE9PSAwKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg4LCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UuYmdTdHlsZSk7XG4gICAgICAgIC8qIGludDMyIGJnX2FscGhhID0gOTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuYmdBbHBoYSAhPT0gMClcbiAgICAgICAgICAgIHdyaXRlci50YWcoOSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLmJnQWxwaGEpO1xuICAgICAgICAvKiBpbnQzMiBiZ19hbHBoYV9uaWdodCA9IDEwOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5iZ0FscGhhTmlnaHQgIT09IDApXG4gICAgICAgICAgICB3cml0ZXIudGFnKDEwLCBXaXJlVHlwZS5WYXJpbnQpLmludDMyKG1lc3NhZ2UuYmdBbHBoYU5pZ2h0KTtcbiAgICAgICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKHRoaXMudHlwZU5hbWUsIG1lc3NhZ2UsIHdyaXRlcik7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLlZpZGVvQmFkZ2VcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvQmFkZ2UgPSBuZXcgVmlkZW9CYWRnZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBEZXZpY2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPERldmljZT4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImJpbGliaWxpLmFwcC5keW5hbWljLnYyLkRldmljZVwiLCBbXG4gICAgICAgICAgICB7IG5vOiAxLCBuYW1lOiBcImFwcF9pZFwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICAgICAgICB7IG5vOiAyLCBuYW1lOiBcImJ1aWxkXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDMsIG5hbWU6IFwiYnV2aWRcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDQsIG5hbWU6IFwibW9iaV9hcHBcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDUsIG5hbWU6IFwicGxhdGZvcm1cIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDYsIG5hbWU6IFwiZGV2aWNlXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiA3LCBuYW1lOiBcImNoYW5uZWxcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDgsIG5hbWU6IFwiYnJhbmRcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDksIG5hbWU6IFwibW9kZWxcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDEwLCBuYW1lOiBcIm9zdmVyXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAxMSwgbmFtZTogXCJmcF9sb2NhbFwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogMTIsIG5hbWU6IFwiZnBfcmVtb3RlXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAxMywgbmFtZTogXCJ2ZXJzaW9uX25hbWVcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDE0LCBuYW1lOiBcImZwXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiAxNSwgbmFtZTogXCJmdHNcIiwga2luZDogXCJzY2FsYXJcIiwgVDogMyAvKlNjYWxhclR5cGUuSU5UNjQqLywgTDogMCAvKkxvbmdUeXBlLkJJR0lOVCovIH1cbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPERldmljZT4pOiBEZXZpY2Uge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gZ2xvYmFsVGhpcy5PYmplY3QuY3JlYXRlKCh0aGlzLm1lc3NhZ2VQcm90b3R5cGUhKSk7XG4gICAgICAgIG1lc3NhZ2UuYXBwSWQgPSAwO1xuICAgICAgICBtZXNzYWdlLmJ1aWxkID0gMDtcbiAgICAgICAgbWVzc2FnZS5idXZpZCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UubW9iaUFwcCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UucGxhdGZvcm0gPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLmRldmljZSA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuY2hhbm5lbCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYnJhbmQgPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLm1vZGVsID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5vc3ZlciA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuZnBMb2NhbCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuZnBSZW1vdGUgPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLnZlcnNpb25OYW1lID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5mcCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuZnRzID0gMG47XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmVmbGVjdGlvbk1lcmdlUGFydGlhbDxEZXZpY2U+KHRoaXMsIG1lc3NhZ2UsIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5UmVhZChyZWFkZXI6IElCaW5hcnlSZWFkZXIsIGxlbmd0aDogbnVtYmVyLCBvcHRpb25zOiBCaW5hcnlSZWFkT3B0aW9ucywgdGFyZ2V0PzogRGV2aWNlKTogRGV2aWNlIHtcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXJnZXQgPz8gdGhpcy5jcmVhdGUoKSwgZW5kID0gcmVhZGVyLnBvcyArIGxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlYWRlci5wb3MgPCBlbmQpIHtcbiAgICAgICAgICAgIGxldCBbZmllbGRObywgd2lyZVR5cGVdID0gcmVhZGVyLnRhZygpO1xuICAgICAgICAgICAgc3dpdGNoIChmaWVsZE5vKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQzMiBhcHBfaWQgKi8gMTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5hcHBJZCA9IHJlYWRlci5pbnQzMigpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGludDMyIGJ1aWxkICovIDI6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYnVpbGQgPSByZWFkZXIuaW50MzIoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgYnV2aWQgKi8gMzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5idXZpZCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgbW9iaV9hcHAgKi8gNDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5tb2JpQXBwID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBwbGF0Zm9ybSAqLyA1OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXRmb3JtID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBkZXZpY2UgKi8gNjpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5kZXZpY2UgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIGNoYW5uZWwgKi8gNzpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaGFubmVsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBicmFuZCAqLyA4OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJyYW5kID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBtb2RlbCAqLyA5OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vZGVsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBvc3ZlciAqLyAxMDpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5vc3ZlciA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgZnBfbG9jYWwgKi8gMTE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZnBMb2NhbCA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBzdHJpbmcgZnBfcmVtb3RlICovIDEyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZwUmVtb3RlID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyB2ZXJzaW9uX25hbWUgKi8gMTM6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UudmVyc2lvbk5hbWUgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIGZwICovIDE0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmZwID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIGludDY0IGZ0cyAqLyAxNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5mdHMgPSByZWFkZXIuaW50NjQoKS50b0JpZ0ludCgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgPT09IFwidGhyb3dcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KSh0aGlzLnR5cGVOYW1lLCBtZXNzYWdlLCBmaWVsZE5vLCB3aXJlVHlwZSwgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZTogRGV2aWNlLCB3cml0ZXI6IElCaW5hcnlXcml0ZXIsIG9wdGlvbnM6IEJpbmFyeVdyaXRlT3B0aW9ucyk6IElCaW5hcnlXcml0ZXIge1xuICAgICAgICAvKiBpbnQzMiBhcHBfaWQgPSAxOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5hcHBJZCAhPT0gMClcbiAgICAgICAgICAgIHdyaXRlci50YWcoMSwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLmFwcElkKTtcbiAgICAgICAgLyogaW50MzIgYnVpbGQgPSAyOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5idWlsZCAhPT0gMClcbiAgICAgICAgICAgIHdyaXRlci50YWcoMiwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLmJ1aWxkKTtcbiAgICAgICAgLyogc3RyaW5nIGJ1dmlkID0gMzsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuYnV2aWQgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuYnV2aWQpO1xuICAgICAgICAvKiBzdHJpbmcgbW9iaV9hcHAgPSA0OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5tb2JpQXBwICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg0LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLm1vYmlBcHApO1xuICAgICAgICAvKiBzdHJpbmcgcGxhdGZvcm0gPSA1OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5wbGF0Zm9ybSAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoNSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5wbGF0Zm9ybSk7XG4gICAgICAgIC8qIHN0cmluZyBkZXZpY2UgPSA2OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5kZXZpY2UgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDYsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuZGV2aWNlKTtcbiAgICAgICAgLyogc3RyaW5nIGNoYW5uZWwgPSA3OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5jaGFubmVsICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg3LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLmNoYW5uZWwpO1xuICAgICAgICAvKiBzdHJpbmcgYnJhbmQgPSA4OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5icmFuZCAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoOCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5icmFuZCk7XG4gICAgICAgIC8qIHN0cmluZyBtb2RlbCA9IDk7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLm1vZGVsICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg5LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLm1vZGVsKTtcbiAgICAgICAgLyogc3RyaW5nIG9zdmVyID0gMTA7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLm9zdmVyICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxMCwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5vc3Zlcik7XG4gICAgICAgIC8qIHN0cmluZyBmcF9sb2NhbCA9IDExOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5mcExvY2FsICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxMSwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5mcExvY2FsKTtcbiAgICAgICAgLyogc3RyaW5nIGZwX3JlbW90ZSA9IDEyOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5mcFJlbW90ZSAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMTIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuZnBSZW1vdGUpO1xuICAgICAgICAvKiBzdHJpbmcgdmVyc2lvbl9uYW1lID0gMTM7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLnZlcnNpb25OYW1lICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxMywgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS52ZXJzaW9uTmFtZSk7XG4gICAgICAgIC8qIHN0cmluZyBmcCA9IDE0OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5mcCAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMTQsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuZnApO1xuICAgICAgICAvKiBpbnQ2NCBmdHMgPSAxNTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuZnRzICE9PSAwbilcbiAgICAgICAgICAgIHdyaXRlci50YWcoMTUsIFdpcmVUeXBlLlZhcmludCkuaW50NjQobWVzc2FnZS5mdHMpO1xuICAgICAgICBsZXQgdSA9IG9wdGlvbnMud3JpdGVVbmtub3duRmllbGRzO1xuICAgICAgICBpZiAodSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAodSA9PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vbldyaXRlIDogdSkodGhpcy50eXBlTmFtZSwgbWVzc2FnZSwgd3JpdGVyKTtcbiAgICAgICAgcmV0dXJuIHdyaXRlcjtcbiAgICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRGV2aWNlXG4gKi9cbmV4cG9ydCBjb25zdCBEZXZpY2UgPSBuZXcgRGV2aWNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIE1ldGFkYXRhJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxNZXRhZGF0YT4ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihcImJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1ldGFkYXRhXCIsIFtcbiAgICAgICAgICAgIHsgbm86IDEsIG5hbWU6IFwiYWNjZXNzX2tleVwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogMiwgbmFtZTogXCJtb2JpX2FwcFwiLCBraW5kOiBcInNjYWxhclwiLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgICAgICAgeyBubzogMywgbmFtZTogXCJkZXZpY2VcIiwga2luZDogXCJzY2FsYXJcIiwgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgICAgICAgIHsgbm86IDQsIG5hbWU6IFwiYnVpbGRcIiwga2luZDogXCJzY2FsYXJcIiwgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyB9LFxuICAgICAgICAgICAgeyBubzogNSwgbmFtZTogXCJjaGFubmVsXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiA2LCBuYW1lOiBcImJ1dmlkXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICAgICAgICB7IG5vOiA3LCBuYW1lOiBcInBsYXRmb3JtXCIsIGtpbmQ6IFwic2NhbGFyXCIsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH1cbiAgICAgICAgXSk7XG4gICAgfVxuICAgIGNyZWF0ZSh2YWx1ZT86IFBhcnRpYWxNZXNzYWdlPE1ldGFkYXRhPik6IE1ldGFkYXRhIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGdsb2JhbFRoaXMuT2JqZWN0LmNyZWF0ZSgodGhpcy5tZXNzYWdlUHJvdG90eXBlISkpO1xuICAgICAgICBtZXNzYWdlLmFjY2Vzc0tleSA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UubW9iaUFwcCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuZGV2aWNlID0gXCJcIjtcbiAgICAgICAgbWVzc2FnZS5idWlsZCA9IDA7XG4gICAgICAgIG1lc3NhZ2UuY2hhbm5lbCA9IFwiXCI7XG4gICAgICAgIG1lc3NhZ2UuYnV2aWQgPSBcIlwiO1xuICAgICAgICBtZXNzYWdlLnBsYXRmb3JtID0gXCJcIjtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZWZsZWN0aW9uTWVyZ2VQYXJ0aWFsPE1ldGFkYXRhPih0aGlzLCBtZXNzYWdlLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cbiAgICBpbnRlcm5hbEJpbmFyeVJlYWQocmVhZGVyOiBJQmluYXJ5UmVhZGVyLCBsZW5ndGg6IG51bWJlciwgb3B0aW9uczogQmluYXJ5UmVhZE9wdGlvbnMsIHRhcmdldD86IE1ldGFkYXRhKTogTWV0YWRhdGEge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IHRhcmdldCA/PyB0aGlzLmNyZWF0ZSgpLCBlbmQgPSByZWFkZXIucG9zICsgbGVuZ3RoO1xuICAgICAgICB3aGlsZSAocmVhZGVyLnBvcyA8IGVuZCkge1xuICAgICAgICAgICAgbGV0IFtmaWVsZE5vLCB3aXJlVHlwZV0gPSByZWFkZXIudGFnKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGZpZWxkTm8pIHtcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBhY2Nlc3Nfa2V5ICovIDE6XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuYWNjZXNzS2V5ID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBtb2JpX2FwcCAqLyAyOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLm1vYmlBcHAgPSByZWFkZXIuc3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIGRldmljZSAqLyAzOlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmRldmljZSA9IHJlYWRlci5zdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAvKiBpbnQzMiBidWlsZCAqLyA0OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1aWxkID0gcmVhZGVyLmludDMyKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgLyogc3RyaW5nIGNoYW5uZWwgKi8gNTpcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5jaGFubmVsID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBidXZpZCAqLyA2OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmJ1dmlkID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIC8qIHN0cmluZyBwbGF0Zm9ybSAqLyA3OlxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnBsYXRmb3JtID0gcmVhZGVyLnN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBsZXQgdSA9IG9wdGlvbnMucmVhZFVua25vd25GaWVsZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHUgPT09IFwidGhyb3dcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKGBVbmtub3duIGZpZWxkICR7ZmllbGROb30gKHdpcmUgdHlwZSAke3dpcmVUeXBlfSkgZm9yICR7dGhpcy50eXBlTmFtZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSByZWFkZXIuc2tpcCh3aXJlVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1ICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICh1ID09PSB0cnVlID8gVW5rbm93bkZpZWxkSGFuZGxlci5vblJlYWQgOiB1KSh0aGlzLnR5cGVOYW1lLCBtZXNzYWdlLCBmaWVsZE5vLCB3aXJlVHlwZSwgZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgfVxuICAgIGludGVybmFsQmluYXJ5V3JpdGUobWVzc2FnZTogTWV0YWRhdGEsIHdyaXRlcjogSUJpbmFyeVdyaXRlciwgb3B0aW9uczogQmluYXJ5V3JpdGVPcHRpb25zKTogSUJpbmFyeVdyaXRlciB7XG4gICAgICAgIC8qIHN0cmluZyBhY2Nlc3Nfa2V5ID0gMTsgKi9cbiAgICAgICAgaWYgKG1lc3NhZ2UuYWNjZXNzS2V5ICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZygxLCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLmFjY2Vzc0tleSk7XG4gICAgICAgIC8qIHN0cmluZyBtb2JpX2FwcCA9IDI7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLm1vYmlBcHAgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDIsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UubW9iaUFwcCk7XG4gICAgICAgIC8qIHN0cmluZyBkZXZpY2UgPSAzOyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5kZXZpY2UgIT09IFwiXCIpXG4gICAgICAgICAgICB3cml0ZXIudGFnKDMsIFdpcmVUeXBlLkxlbmd0aERlbGltaXRlZCkuc3RyaW5nKG1lc3NhZ2UuZGV2aWNlKTtcbiAgICAgICAgLyogaW50MzIgYnVpbGQgPSA0OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5idWlsZCAhPT0gMClcbiAgICAgICAgICAgIHdyaXRlci50YWcoNCwgV2lyZVR5cGUuVmFyaW50KS5pbnQzMihtZXNzYWdlLmJ1aWxkKTtcbiAgICAgICAgLyogc3RyaW5nIGNoYW5uZWwgPSA1OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5jaGFubmVsICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg1LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLmNoYW5uZWwpO1xuICAgICAgICAvKiBzdHJpbmcgYnV2aWQgPSA2OyAqL1xuICAgICAgICBpZiAobWVzc2FnZS5idXZpZCAhPT0gXCJcIilcbiAgICAgICAgICAgIHdyaXRlci50YWcoNiwgV2lyZVR5cGUuTGVuZ3RoRGVsaW1pdGVkKS5zdHJpbmcobWVzc2FnZS5idXZpZCk7XG4gICAgICAgIC8qIHN0cmluZyBwbGF0Zm9ybSA9IDc7ICovXG4gICAgICAgIGlmIChtZXNzYWdlLnBsYXRmb3JtICE9PSBcIlwiKVxuICAgICAgICAgICAgd3JpdGVyLnRhZyg3LCBXaXJlVHlwZS5MZW5ndGhEZWxpbWl0ZWQpLnN0cmluZyhtZXNzYWdlLnBsYXRmb3JtKTtcbiAgICAgICAgbGV0IHUgPSBvcHRpb25zLndyaXRlVW5rbm93bkZpZWxkcztcbiAgICAgICAgaWYgKHUgIT09IGZhbHNlKVxuICAgICAgICAgICAgKHUgPT0gdHJ1ZSA/IFVua25vd25GaWVsZEhhbmRsZXIub25Xcml0ZSA6IHUpKHRoaXMudHlwZU5hbWUsIG1lc3NhZ2UsIHdyaXRlcik7XG4gICAgICAgIHJldHVybiB3cml0ZXI7XG4gICAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLk1ldGFkYXRhXG4gKi9cbmV4cG9ydCBjb25zdCBNZXRhZGF0YSA9IG5ldyBNZXRhZGF0YSRUeXBlKCk7XG4vKipcbiAqIEBnZW5lcmF0ZWQgU2VydmljZVR5cGUgZm9yIHByb3RvYnVmIHNlcnZpY2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY1xuICovXG5leHBvcnQgY29uc3QgRHluYW1pYyA9IG5ldyBTZXJ2aWNlVHlwZShcImJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bmFtaWNcIiwgW1xuICAgIHsgbmFtZTogXCJEeW5EZXRhaWxcIiwgb3B0aW9uczoge30sIEk6IER5bkRldGFpbFJlcSwgTzogRHluRGV0YWlsUmVwbHkgfVxuXSk7XG4iLCIvLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuMTEuMVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJkeW5hbWljLnByb3RvXCIgKHBhY2thZ2UgXCJiaWxpYmlsaS5hcHAuZHluYW1pYy52MlwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB0eXBlIHsgUnBjVHJhbnNwb3J0IH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lLXJwY1wiO1xuaW1wb3J0IHR5cGUgeyBTZXJ2aWNlSW5mbyB9IGZyb20gXCJAcHJvdG9idWYtdHMvcnVudGltZS1ycGNcIjtcbmltcG9ydCB7IER5bmFtaWMgfSBmcm9tIFwiLi9keW5hbWljXCI7XG5pbXBvcnQgeyBzdGFja0ludGVyY2VwdCB9IGZyb20gXCJAcHJvdG9idWYtdHMvcnVudGltZS1ycGNcIjtcbmltcG9ydCB0eXBlIHsgRHluRGV0YWlsUmVwbHkgfSBmcm9tIFwiLi9keW5hbWljXCI7XG5pbXBvcnQgdHlwZSB7IER5bkRldGFpbFJlcSB9IGZyb20gXCIuL2R5bmFtaWNcIjtcbmltcG9ydCB0eXBlIHsgVW5hcnlDYWxsIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lLXJwY1wiO1xuaW1wb3J0IHR5cGUgeyBScGNPcHRpb25zIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lLXJwY1wiO1xuLyoqXG4gKiB2MuWKqOaAgSwgcnBjIOaMieWtl+avjemhuuW6j+aOkuWIl1xuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBzZXJ2aWNlIGJpbGliaWxpLmFwcC5keW5hbWljLnYyLkR5bmFtaWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJRHluYW1pY0NsaWVudCB7XG4gICAgLyoqXG4gICAgICog5Yqo5oCB6K+m5oOF6aG1XG4gICAgICpcbiAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBEeW5EZXRhaWxcbiAgICAgKi9cbiAgICBkeW5EZXRhaWwoaW5wdXQ6IER5bkRldGFpbFJlcSwgb3B0aW9ucz86IFJwY09wdGlvbnMpOiBVbmFyeUNhbGw8RHluRGV0YWlsUmVxLCBEeW5EZXRhaWxSZXBseT47XG59XG4vKipcbiAqIHYy5Yqo5oCBLCBycGMg5oyJ5a2X5q+N6aG65bqP5o6S5YiXXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2UgYmlsaWJpbGkuYXBwLmR5bmFtaWMudjIuRHluYW1pY1xuICovXG5leHBvcnQgY2xhc3MgRHluYW1pY0NsaWVudCBpbXBsZW1lbnRzIElEeW5hbWljQ2xpZW50LCBTZXJ2aWNlSW5mbyB7XG4gICAgdHlwZU5hbWUgPSBEeW5hbWljLnR5cGVOYW1lO1xuICAgIG1ldGhvZHMgPSBEeW5hbWljLm1ldGhvZHM7XG4gICAgb3B0aW9ucyA9IER5bmFtaWMub3B0aW9ucztcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IF90cmFuc3BvcnQ6IFJwY1RyYW5zcG9ydCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiDliqjmgIHor6bmg4XpobVcbiAgICAgKlxuICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IER5bkRldGFpbFxuICAgICAqL1xuICAgIGR5bkRldGFpbChpbnB1dDogRHluRGV0YWlsUmVxLCBvcHRpb25zPzogUnBjT3B0aW9ucyk6IFVuYXJ5Q2FsbDxEeW5EZXRhaWxSZXEsIER5bkRldGFpbFJlcGx5PiB7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1swXSwgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PER5bkRldGFpbFJlcSwgRHluRGV0YWlsUmVwbHk+KFwidW5hcnlcIiwgdGhpcy5fdHJhbnNwb3J0LCBtZXRob2QsIG9wdCwgaW5wdXQpO1xuICAgIH1cbn1cbiIsImltcG9ydCAqIGFzIGdycGMgZnJvbSBcIkBncnBjL2dycGMtanNcIjtcbmltcG9ydCB7IGxpc3RFbnVtVmFsdWVzIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lXCI7XG4vKipcbiAqIElzIHRoZSBnaXZlbiBhcmd1bWVudCBhIFNlcnZpY2VFcnJvciBhcyBwcm92aWRlZFxuICogYnkgQGdycGMvZ3JwYy1qcz9cbiAqXG4gKiBBIFNlcnZpY2VFcnJvciBpcyBhIHNwZWNpYWxpemVkIEVycm9yIG9iamVjdCwgZXh0ZW5kZWRcbiAqIHdpdGggdGhlIHByb3BlcnRpZXMgXCJjb2RlXCIsIFwiZGV0YWlsc1wiIGFuZCBcIm1ldGFkYXRhXCIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NlcnZpY2VFcnJvcihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPSAnb2JqZWN0JyB8fCAhYXJnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHR5cGVvZiBhcmcuY29kZSA9PSAnbnVtYmVyJ1xuICAgICAgICAmJiB0eXBlb2YgYXJnLmRldGFpbHMgPT0gJ3N0cmluZydcbiAgICAgICAgJiYgdHlwZW9mIGFyZy5tZXRhZGF0YSA9PSAnb2JqZWN0J1xuICAgICAgICAmJiB0eXBlb2YgYXJnLm5hbWUgPT0gJ3N0cmluZydcbiAgICAgICAgJiYgdHlwZW9mIGFyZy5tZXNzYWdlID09ICdzdHJpbmcnO1xufVxuLyoqXG4gKiBQYXJzZSBhIGdSUEMgc3RhdHVzIGNvZGUgZnJvbSBhIHN0cmluZy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJwY0NvZGVUb0dycGMoZnJvbSkge1xuICAgIGxldCB2ID0gbGlzdEVudW1WYWx1ZXMoZ3JwYy5zdGF0dXMpLmZpbmQodiA9PiB2Lm5hbWUgPT09IGZyb20pO1xuICAgIHJldHVybiB2ID8gdi5udW1iZXIgOiB1bmRlZmluZWQ7XG59XG4vKipcbiAqIENvbnZlcnQgb3VyIFJQQyBNZXRhZGF0YSB0byBnUlBDIE1ldGFkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWV0YWRhdGFUb0dycGMoZnJvbSwgb3B0aW9ucywgaW5kZW1wb3RlbnRNZXRob2QpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge307XG4gICAgaWYgKGluZGVtcG90ZW50TWV0aG9kKVxuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7IGlkZW1wb3RlbnRSZXF1ZXN0OiB0cnVlIH0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IHRvID0gbmV3IGdycGMuTWV0YWRhdGEob3B0aW9ucyk7XG4gICAgY29uc3QgZGVjb2RlID0gKGssIHYpID0+IGsuZW5kc1dpdGgoJy1iaW4nKSA/IEJ1ZmZlci5mcm9tKHYsICdiYXNlNjQnKSA6IHY7XG4gICAgZm9yIChsZXQgayBvZiBPYmplY3Qua2V5cyhmcm9tKSkge1xuICAgICAgICBsZXQgdiA9IGZyb21ba107XG4gICAgICAgIGlmICh0eXBlb2YgdiA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdG8uYWRkKGssIGRlY29kZShrLCB2KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICAgICAgZm9yIChsZXQgdnYgb2Ygdikge1xuICAgICAgICAgICAgICAgIHRvLmFkZChrLCBkZWNvZGUoaywgdnYpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG87XG59XG4vKipcbiAqIENvbnZlcnQgZ1JQQyBNZXRhZGF0YSB0byBvdXIgUlBDIE1ldGFkYXRhLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWV0YWRhdGFGcm9tR3JwYyhmcm9tKSB7XG4gICAgY29uc3QgdG8gPSB7fTtcbiAgICBjb25zdCBoMiA9IGZyb20udG9IdHRwMkhlYWRlcnMoKTtcbiAgICBmb3IgKGxldCBrIG9mIE9iamVjdC5rZXlzKGgyKSkge1xuICAgICAgICBsZXQgdiA9IGgyW2tdO1xuICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHYgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRvW2tdID0gdi50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0b1trXSA9IHY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICAgICAgaWYgKHYubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgdG9ba10gPSB2WzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdG9ba10gPSB2O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0bztcbn1cbiIsImltcG9ydCB7IENsaWVudFN0cmVhbWluZ0NhbGwsIERlZmVycmVkLCBEZWZlcnJlZFN0YXRlLCBEdXBsZXhTdHJlYW1pbmdDYWxsLCBtZXJnZVJwY09wdGlvbnMsIFJwY0Vycm9yLCBScGNPdXRwdXRTdHJlYW1Db250cm9sbGVyLCBTZXJ2ZXJTdHJlYW1pbmdDYWxsLCBVbmFyeUNhbGwgfSBmcm9tIFwiQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjXCI7XG5pbXBvcnQgeyBDbGllbnQsIHN0YXR1cyBhcyBHcnBjU3RhdHVzIH0gZnJvbSBcIkBncnBjL2dycGMtanNcIjtcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gXCJAcHJvdG9idWYtdHMvcnVudGltZVwiO1xuaW1wb3J0IHsgbWV0YWRhdGFGcm9tR3JwYywgaXNTZXJ2aWNlRXJyb3IsIG1ldGFkYXRhVG9HcnBjIH0gZnJvbSBcIi4vdXRpbFwiO1xuZXhwb3J0IGNsYXNzIEdycGNUcmFuc3BvcnQge1xuICAgIGNvbnN0cnVjdG9yKGRlZmF1bHRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdE9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucztcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgQ2xpZW50KGRlZmF1bHRPcHRpb25zLmhvc3QsIGRlZmF1bHRPcHRpb25zLmNoYW5uZWxDcmVkZW50aWFscywgZGVmYXVsdE9wdGlvbnMuY2xpZW50T3B0aW9ucyk7XG4gICAgfVxuICAgIG1lcmdlT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBtZXJnZVJwY09wdGlvbnModGhpcy5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuICAgIHBpY2tDYWxsT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNhbGxPcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5jYWxsT3B0aW9ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjbyA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMudGltZW91dCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgY28uZGVhZGxpbmUgPSBEYXRlLm5vdygpICsgb3B0aW9ucy50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMudGltZW91dCkge1xuICAgICAgICAgICAgY28uZGVhZGxpbmUgPSBvcHRpb25zLnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvO1xuICAgIH1cbiAgICB1bmFyeShtZXRob2QsIGlucHV0LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgb3B0ID0gb3B0aW9ucywgbWV0YSA9IChfYSA9IG9wdC5tZXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSwgZ01ldGEgPSBtZXRhZGF0YVRvR3JwYyhtZXRhLCBvcHQubWV0YWRhdGFPcHRpb25zLCBtZXRob2QuaWRlbXBvdGVuY3kgPT09IFwiSURFTVBPVEVOVFwiKSwgZGVmSGVhZGVyID0gbmV3IERlZmVycmVkKCksIGRlZk1lc3NhZ2UgPSBuZXcgRGVmZXJyZWQoKSwgZGVmU3RhdHVzID0gbmV3IERlZmVycmVkKCksIGRlZlRyYWlsZXIgPSBuZXcgRGVmZXJyZWQoKSwgY2FsbCA9IG5ldyBVbmFyeUNhbGwobWV0aG9kLCBtZXRhLCBpbnB1dCwgZGVmSGVhZGVyLnByb21pc2UsIGRlZk1lc3NhZ2UucHJvbWlzZSwgZGVmU3RhdHVzLnByb21pc2UsIGRlZlRyYWlsZXIucHJvbWlzZSk7XG4gICAgICAgIGNvbnN0IGdDYWxsID0gdGhpcy5jbGllbnQubWFrZVVuYXJ5UmVxdWVzdChgLyR7bWV0aG9kLnNlcnZpY2UudHlwZU5hbWV9LyR7bWV0aG9kLm5hbWV9YCwgKHZhbHVlKSA9PiBCdWZmZXIuZnJvbShtZXRob2QuSS50b0JpbmFyeSh2YWx1ZSwgb3B0LmJpbmFyeU9wdGlvbnMpKSwgKHZhbHVlKSA9PiBtZXRob2QuTy5mcm9tQmluYXJ5KHZhbHVlLCBvcHQuYmluYXJ5T3B0aW9ucyksIGlucHV0LCBnTWV0YSwgdGhpcy5waWNrQ2FsbE9wdGlvbnMob3B0KSwgKGVyciwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlZk1lc3NhZ2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBScGNFcnJvcihlcnIuZGV0YWlscywgR3JwY1N0YXR1c1tlcnIuY29kZV0sIG1ldGFkYXRhRnJvbUdycGMoZXJyLm1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgICAgZS5tZXRob2ROYW1lID0gbWV0aG9kLm5hbWU7XG4gICAgICAgICAgICAgICAgZS5zZXJ2aWNlTmFtZSA9IG1ldGhvZC5zZXJ2aWNlLnR5cGVOYW1lO1xuICAgICAgICAgICAgICAgIGRlZkhlYWRlci5yZWplY3RQZW5kaW5nKGUpO1xuICAgICAgICAgICAgICAgIGRlZk1lc3NhZ2UucmVqZWN0UGVuZGluZyhlKTtcbiAgICAgICAgICAgICAgICBkZWZTdGF0dXMucmVqZWN0UGVuZGluZyhlKTtcbiAgICAgICAgICAgICAgICBkZWZUcmFpbGVyLnJlamVjdFBlbmRpbmcoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob3B0LmFib3J0KSB7XG4gICAgICAgICAgICBvcHQuYWJvcnQuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBldiA9PiB7XG4gICAgICAgICAgICAgICAgZ0NhbGwuY2FuY2VsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBnQ2FsbC5hZGRMaXN0ZW5lcignbWV0YWRhdGEnLCB2YWwgPT4ge1xuICAgICAgICAgICAgZGVmSGVhZGVyLnJlc29sdmUobWV0YWRhdGFGcm9tR3JwYyh2YWwpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdDYWxsLmFkZExpc3RlbmVyKCdzdGF0dXMnLCB2YWwgPT4ge1xuICAgICAgICAgICAgLy8gaWYgd2UgZ2V0IGEgc3RhdHVzICh2aWEgdHJhaWxlciksIGJ1dCBkaWQgbm90IGdldCBhIG1lc3NhZ2UsXG4gICAgICAgICAgICAvLyB3ZSByZXF1aXJlIHRoYXQgdGhlIHN0YXR1cyBpcyBhbiBlcnJvciBzdGF0dXMuXG4gICAgICAgICAgICBpZiAoZGVmTWVzc2FnZS5zdGF0ZSA9PT0gRGVmZXJyZWRTdGF0ZS5QRU5ESU5HICYmIHZhbC5jb2RlID09PSBHcnBjU3RhdHVzLk9LKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBScGNFcnJvcignZXhwZWN0ZWQgZXJyb3Igc3RhdHVzJywgR3JwY1N0YXR1c1tHcnBjU3RhdHVzLkRBVEFfTE9TU10pO1xuICAgICAgICAgICAgICAgIGUubWV0aG9kTmFtZSA9IG1ldGhvZC5uYW1lO1xuICAgICAgICAgICAgICAgIGUuc2VydmljZU5hbWUgPSBtZXRob2Quc2VydmljZS50eXBlTmFtZTtcbiAgICAgICAgICAgICAgICBkZWZNZXNzYWdlLnJlamVjdFBlbmRpbmcoZSk7XG4gICAgICAgICAgICAgICAgZGVmU3RhdHVzLnJlamVjdFBlbmRpbmcoZSk7XG4gICAgICAgICAgICAgICAgZGVmVHJhaWxlci5yZWplY3RQZW5kaW5nKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmU3RhdHVzLnJlc29sdmVQZW5kaW5nKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogR3JwY1N0YXR1c1t2YWwuY29kZV0sXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbDogdmFsLmRldGFpbHNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkZWZUcmFpbGVyLnJlc29sdmVQZW5kaW5nKG1ldGFkYXRhRnJvbUdycGModmFsLm1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG4gICAgc2VydmVyU3RyZWFtaW5nKG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBvcHQgPSBvcHRpb25zLCBtZXRhID0gKF9hID0gb3B0Lm1ldGEpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9LCBnTWV0YSA9IG1ldGFkYXRhVG9HcnBjKG1ldGEsIG9wdC5tZXRhZGF0YU9wdGlvbnMsIG1ldGhvZC5pZGVtcG90ZW5jeSA9PT0gXCJJREVNUE9URU5UXCIpLCBkZWZIZWFkZXIgPSBuZXcgRGVmZXJyZWQoKSwgb3V0U3RyZWFtID0gbmV3IFJwY091dHB1dFN0cmVhbUNvbnRyb2xsZXIoKSwgZGVmU3RhdHVzID0gbmV3IERlZmVycmVkKCksIGRlZlRyYWlsZXIgPSBuZXcgRGVmZXJyZWQoKSwgY2FsbCA9IG5ldyBTZXJ2ZXJTdHJlYW1pbmdDYWxsKG1ldGhvZCwgbWV0YSwgaW5wdXQsIGRlZkhlYWRlci5wcm9taXNlLCBvdXRTdHJlYW0sIGRlZlN0YXR1cy5wcm9taXNlLCBkZWZUcmFpbGVyLnByb21pc2UpO1xuICAgICAgICBjb25zdCBnQ2FsbCA9IHRoaXMuY2xpZW50Lm1ha2VTZXJ2ZXJTdHJlYW1SZXF1ZXN0KGAvJHttZXRob2Quc2VydmljZS50eXBlTmFtZX0vJHttZXRob2QubmFtZX1gLCAodmFsdWUpID0+IEJ1ZmZlci5mcm9tKG1ldGhvZC5JLnRvQmluYXJ5KHZhbHVlLCBvcHQuYmluYXJ5T3B0aW9ucykpLCAodmFsdWUpID0+IG1ldGhvZC5PLmZyb21CaW5hcnkodmFsdWUsIG9wdC5iaW5hcnlPcHRpb25zKSwgaW5wdXQsIGdNZXRhLCB0aGlzLnBpY2tDYWxsT3B0aW9ucyhvcHQpKTtcbiAgICAgICAgaWYgKG9wdC5hYm9ydCkge1xuICAgICAgICAgICAgb3B0LmFib3J0LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXYgPT4ge1xuICAgICAgICAgICAgICAgIGdDYWxsLmNhbmNlbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZ0NhbGwuYWRkTGlzdGVuZXIoJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBpc1NlcnZpY2VFcnJvcihlcnIpID8gbmV3IFJwY0Vycm9yKGVyci5kZXRhaWxzLCBHcnBjU3RhdHVzW2Vyci5jb2RlXSwgbWV0YWRhdGFGcm9tR3JwYyhlcnIubWV0YWRhdGEpKSA6IG5ldyBScGNFcnJvcihlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICBlLm1ldGhvZE5hbWUgPSBtZXRob2QubmFtZTtcbiAgICAgICAgICAgIGUuc2VydmljZU5hbWUgPSBtZXRob2Quc2VydmljZS50eXBlTmFtZTtcbiAgICAgICAgICAgIGRlZkhlYWRlci5yZWplY3RQZW5kaW5nKGUpO1xuICAgICAgICAgICAgaWYgKCFvdXRTdHJlYW0uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgb3V0U3RyZWFtLm5vdGlmeUVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmU3RhdHVzLnJlamVjdFBlbmRpbmcoZSk7XG4gICAgICAgICAgICBkZWZUcmFpbGVyLnJlamVjdFBlbmRpbmcoZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBnQ2FsbC5hZGRMaXN0ZW5lcignZW5kJywgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFvdXRTdHJlYW0uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgb3V0U3RyZWFtLm5vdGlmeUNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBnQ2FsbC5hZGRMaXN0ZW5lcignZGF0YScsIGFyZzEgPT4ge1xuICAgICAgICAgICAgYXNzZXJ0KG1ldGhvZC5PLmlzKGFyZzEpKTtcbiAgICAgICAgICAgIG91dFN0cmVhbS5ub3RpZnlNZXNzYWdlKGFyZzEpO1xuICAgICAgICB9KTtcbiAgICAgICAgZ0NhbGwuYWRkTGlzdGVuZXIoJ21ldGFkYXRhJywgdmFsID0+IHtcbiAgICAgICAgICAgIGRlZkhlYWRlci5yZXNvbHZlKG1ldGFkYXRhRnJvbUdycGModmFsKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBnQ2FsbC5hZGRMaXN0ZW5lcignc3RhdHVzJywgdmFsID0+IHtcbiAgICAgICAgICAgIGRlZlN0YXR1cy5yZXNvbHZlUGVuZGluZyh7XG4gICAgICAgICAgICAgICAgY29kZTogR3JwY1N0YXR1c1t2YWwuY29kZV0sXG4gICAgICAgICAgICAgICAgZGV0YWlsOiB2YWwuZGV0YWlsc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkZWZUcmFpbGVyLnJlc29sdmVQZW5kaW5nKG1ldGFkYXRhRnJvbUdycGModmFsLm1ldGFkYXRhKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbDtcbiAgICB9XG4gICAgY2xpZW50U3RyZWFtaW5nKG1ldGhvZCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IG9wdCA9IG9wdGlvbnMsIG1ldGEgPSAoX2EgPSBvcHQubWV0YSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDoge30sIGdNZXRhID0gbWV0YWRhdGFUb0dycGMobWV0YSwgb3B0Lm1ldGFkYXRhT3B0aW9ucywgbWV0aG9kLmlkZW1wb3RlbmN5ID09PSBcIklERU1QT1RFTlRcIiksIGRlZkhlYWRlciA9IG5ldyBEZWZlcnJlZCgpLCBkZWZNZXNzYWdlID0gbmV3IERlZmVycmVkKCksIGRlZlN0YXR1cyA9IG5ldyBEZWZlcnJlZCgpLCBkZWZUcmFpbGVyID0gbmV3IERlZmVycmVkKCksIGdDYWxsID0gdGhpcy5jbGllbnQubWFrZUNsaWVudFN0cmVhbVJlcXVlc3QoYC8ke21ldGhvZC5zZXJ2aWNlLnR5cGVOYW1lfS8ke21ldGhvZC5uYW1lfWAsICh2YWx1ZSkgPT4gQnVmZmVyLmZyb20obWV0aG9kLkkudG9CaW5hcnkodmFsdWUsIG9wdC5iaW5hcnlPcHRpb25zKSksICh2YWx1ZSkgPT4gbWV0aG9kLk8uZnJvbUJpbmFyeSh2YWx1ZSwgb3B0LmJpbmFyeU9wdGlvbnMpLCBnTWV0YSwgdGhpcy5waWNrQ2FsbE9wdGlvbnMob3B0KSwgKGVyciwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGRlZk1lc3NhZ2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBScGNFcnJvcihlcnIuZGV0YWlscywgR3JwY1N0YXR1c1tlcnIuY29kZV0sIG1ldGFkYXRhRnJvbUdycGMoZXJyLm1ldGFkYXRhKSk7XG4gICAgICAgICAgICAgICAgZS5tZXRob2ROYW1lID0gbWV0aG9kLm5hbWU7XG4gICAgICAgICAgICAgICAgZS5zZXJ2aWNlTmFtZSA9IG1ldGhvZC5zZXJ2aWNlLnR5cGVOYW1lO1xuICAgICAgICAgICAgICAgIGRlZkhlYWRlci5yZWplY3RQZW5kaW5nKGUpO1xuICAgICAgICAgICAgICAgIGRlZk1lc3NhZ2UucmVqZWN0UGVuZGluZyhlKTtcbiAgICAgICAgICAgICAgICBkZWZTdGF0dXMucmVqZWN0UGVuZGluZyhlKTtcbiAgICAgICAgICAgICAgICBkZWZUcmFpbGVyLnJlamVjdFBlbmRpbmcoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCBpblN0cmVhbSA9IG5ldyBHcnBjSW5wdXRTdHJlYW1XcmFwcGVyKGdDYWxsKSwgY2FsbCA9IG5ldyBDbGllbnRTdHJlYW1pbmdDYWxsKG1ldGhvZCwgbWV0YSwgaW5TdHJlYW0sIGRlZkhlYWRlci5wcm9taXNlLCBkZWZNZXNzYWdlLnByb21pc2UsIGRlZlN0YXR1cy5wcm9taXNlLCBkZWZUcmFpbGVyLnByb21pc2UpO1xuICAgICAgICBpZiAob3B0LmFib3J0KSB7XG4gICAgICAgICAgICBvcHQuYWJvcnQuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBldiA9PiB7XG4gICAgICAgICAgICAgICAgZ0NhbGwuY2FuY2VsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBnQ2FsbC5hZGRMaXN0ZW5lcignbWV0YWRhdGEnLCB2YWwgPT4ge1xuICAgICAgICAgICAgZGVmSGVhZGVyLnJlc29sdmUobWV0YWRhdGFGcm9tR3JwYyh2YWwpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdDYWxsLmFkZExpc3RlbmVyKCdzdGF0dXMnLCB2YWwgPT4ge1xuICAgICAgICAgICAgZGVmU3RhdHVzLnJlc29sdmVQZW5kaW5nKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBHcnBjU3RhdHVzW3ZhbC5jb2RlXSxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IHZhbC5kZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlZlRyYWlsZXIucmVzb2x2ZVBlbmRpbmcobWV0YWRhdGFGcm9tR3JwYyh2YWwubWV0YWRhdGEpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYWxsO1xuICAgIH1cbiAgICBkdXBsZXgobWV0aG9kLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3Qgb3B0ID0gb3B0aW9ucywgbWV0YSA9IChfYSA9IG9wdC5tZXRhKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSwgZ01ldGEgPSBtZXRhZGF0YVRvR3JwYyhtZXRhLCBvcHQubWV0YWRhdGFPcHRpb25zLCBtZXRob2QuaWRlbXBvdGVuY3kgPT09IFwiSURFTVBPVEVOVFwiKSwgZGVmSGVhZGVyID0gbmV3IERlZmVycmVkKCksIG91dFN0cmVhbSA9IG5ldyBScGNPdXRwdXRTdHJlYW1Db250cm9sbGVyKCksIGRlZlN0YXR1cyA9IG5ldyBEZWZlcnJlZCgpLCBkZWZUcmFpbGVyID0gbmV3IERlZmVycmVkKCksIGdDYWxsID0gdGhpcy5jbGllbnQubWFrZUJpZGlTdHJlYW1SZXF1ZXN0KGAvJHttZXRob2Quc2VydmljZS50eXBlTmFtZX0vJHttZXRob2QubmFtZX1gLCAodmFsdWUpID0+IEJ1ZmZlci5mcm9tKG1ldGhvZC5JLnRvQmluYXJ5KHZhbHVlLCBvcHQuYmluYXJ5T3B0aW9ucykpLCAodmFsdWUpID0+IG1ldGhvZC5PLmZyb21CaW5hcnkodmFsdWUsIG9wdC5iaW5hcnlPcHRpb25zKSwgZ01ldGEsIHRoaXMucGlja0NhbGxPcHRpb25zKG9wdCkpLCBpblN0cmVhbSA9IG5ldyBHcnBjSW5wdXRTdHJlYW1XcmFwcGVyKGdDYWxsKSwgY2FsbCA9IG5ldyBEdXBsZXhTdHJlYW1pbmdDYWxsKG1ldGhvZCwgbWV0YSwgaW5TdHJlYW0sIGRlZkhlYWRlci5wcm9taXNlLCBvdXRTdHJlYW0sIGRlZlN0YXR1cy5wcm9taXNlLCBkZWZUcmFpbGVyLnByb21pc2UpO1xuICAgICAgICBpZiAob3B0LmFib3J0KSB7XG4gICAgICAgICAgICBvcHQuYWJvcnQuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBldiA9PiB7XG4gICAgICAgICAgICAgICAgZ0NhbGwuY2FuY2VsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBnQ2FsbC5hZGRMaXN0ZW5lcignZXJyb3InLCBlcnIgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IGlzU2VydmljZUVycm9yKGVycikgPyBuZXcgUnBjRXJyb3IoZXJyLmRldGFpbHMsIEdycGNTdGF0dXNbZXJyLmNvZGVdLCBtZXRhZGF0YUZyb21HcnBjKGVyci5tZXRhZGF0YSkpIDogbmV3IFJwY0Vycm9yKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIGUubWV0aG9kTmFtZSA9IG1ldGhvZC5uYW1lO1xuICAgICAgICAgICAgZS5zZXJ2aWNlTmFtZSA9IG1ldGhvZC5zZXJ2aWNlLnR5cGVOYW1lO1xuICAgICAgICAgICAgZGVmSGVhZGVyLnJlamVjdFBlbmRpbmcoZSk7XG4gICAgICAgICAgICBpZiAoIW91dFN0cmVhbS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBvdXRTdHJlYW0ubm90aWZ5RXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZTdGF0dXMucmVqZWN0UGVuZGluZyhlKTtcbiAgICAgICAgICAgIGRlZlRyYWlsZXIucmVqZWN0UGVuZGluZyhlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdDYWxsLmFkZExpc3RlbmVyKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW91dFN0cmVhbS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBvdXRTdHJlYW0ubm90aWZ5Q29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGdDYWxsLmFkZExpc3RlbmVyKCdkYXRhJywgYXJnMSA9PiB7XG4gICAgICAgICAgICBhc3NlcnQobWV0aG9kLk8uaXMoYXJnMSkpO1xuICAgICAgICAgICAgb3V0U3RyZWFtLm5vdGlmeU1lc3NhZ2UoYXJnMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBnQ2FsbC5hZGRMaXN0ZW5lcignbWV0YWRhdGEnLCB2YWwgPT4ge1xuICAgICAgICAgICAgZGVmSGVhZGVyLnJlc29sdmUobWV0YWRhdGFGcm9tR3JwYyh2YWwpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdDYWxsLmFkZExpc3RlbmVyKCdzdGF0dXMnLCB2YWwgPT4ge1xuICAgICAgICAgICAgZGVmU3RhdHVzLnJlc29sdmVQZW5kaW5nKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBHcnBjU3RhdHVzW3ZhbC5jb2RlXSxcbiAgICAgICAgICAgICAgICBkZXRhaWw6IHZhbC5kZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlZlRyYWlsZXIucmVzb2x2ZVBlbmRpbmcobWV0YWRhdGFGcm9tR3JwYyh2YWwubWV0YWRhdGEpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYWxsO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuY2xvc2UoKTtcbiAgICB9XG59XG5jbGFzcyBHcnBjSW5wdXRTdHJlYW1XcmFwcGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihpbm5lcikge1xuICAgICAgICB0aGlzLmlubmVyID0gaW5uZXI7XG4gICAgfVxuICAgIHNlbmQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbm5lci53cml0ZShtZXNzYWdlLCByZXNvbHZlKTtcbiAgICAgICAgICAgIC8vIHRoaXMuaW5uZXIuZW5kKG1lc3NhZ2UsIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMuaW5uZXIuZW5kKCk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICB9XG59XG4iLCJpbXBvcnQge1xuICBhcHAsXG4gIEJyb3dzZXJXaW5kb3csXG4gIGlwY01haW4sXG4gIE1lbnUsXG4gIHByb3RvY29sLFxuICBzZXNzaW9uLFxuICBzY3JlZW4sXG59IGZyb20gXCJlbGVjdHJvblwiO1xuaW1wb3J0IHsgY3JlYXRlTG9nZ2VyIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9sb2dcIjtcbmltcG9ydCBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSBcImV2ZW50c1wiO1xuaW1wb3J0IE1vZHVsZSBmcm9tIFwibW9kdWxlXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0IHsgZXhlYywgZXhlY1N5bmMsIHNwYXduIH0gZnJvbSBcImNoaWxkX3Byb2Nlc3NcIjtcbmltcG9ydCB7IENoYW5uZWxDcmVkZW50aWFscyB9IGZyb20gXCJAZ3JwYy9ncnBjLWpzXCI7XG5pbXBvcnQgeyBEeW5hbWljQ2xpZW50IH0gZnJvbSBcIi4vZHluYW1pYy5jbGllbnRcIjtcbmltcG9ydCB7IEdycGNUcmFuc3BvcnQgfSBmcm9tIFwiQHByb3RvYnVmLXRzL2dycGMtdHJhbnNwb3J0XCI7XG5pbXBvcnQgdHlwZSB7IFJwY01ldGFkYXRhIH0gZnJvbSBcIkBwcm90b2J1Zi10cy9ydW50aW1lLXJwY1wiO1xuaW1wb3J0IHsgRGV2aWNlLCBEeW5EZXRhaWxSZXBseSwgTWV0YWRhdGEgfSBmcm9tIFwiLi9keW5hbWljXCI7XG5cbmNvbnN0IGxvZyA9IGNyZWF0ZUxvZ2dlcihcImVsZWN0cm9uLXRvb2xcIik7XG5leHBvcnQgY29uc3QgcGFyc2VFbGVjdHJvbkZsYWcgPSAoKSA9PiB7XG4gIC8vI3JlZ2lvbiBmbGFncyDop6PmnpBcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyRGF0YVBhdGggPSBhcHAuZ2V0UGF0aChcInVzZXJEYXRhXCIpO1xuICAgIGNvbnN0IGZsYWdQYXRoID0gYCR7dXNlckRhdGFQYXRofS9iaWxpYmlsaS1mbGFncy5jb25mYDtcbiAgICBsb2cuaW5mbyhcImZsYWdQYXRoOlwiLCBmbGFnUGF0aCk7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoZmxhZ1BhdGgpICYmIGZzLnN0YXRTeW5jKGZsYWdQYXRoKS5pc0ZpbGUoKSkge1xuICAgICAgY29uc3QgZmxhZ0RhdGEgPSBmcy5yZWFkRmlsZVN5bmMoZmxhZ1BhdGgpLnRvU3RyaW5nKCk7XG4gICAgICBjb25zdCBmbGFncyA9IGZsYWdEYXRhLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigoZSkgPT4gZSAmJiBlLmxlbmd0aCA+IDApO1xuICAgICAgZm9yIChsZXQgZmxhZyBvZiBmbGFncykge1xuICAgICAgICBpZiAoZmxhZy5zdGFydHNXaXRoKFwiLS1cIikpIGZsYWcgPSBmbGFnLnN1YnN0cmluZygyKTtcblxuICAgICAgICBjb25zdCBrdiA9IGZsYWcuc3BsaXQoXCI9XCIpO1xuICAgICAgICBpZiAoa3YubGVuZ3RoID4gMSkge1xuICAgICAgICAgIGxvZy5pbmZvKFwiYXBwZW5kIGZsYWc6XCIsIGAke2t2WzBdfT0ke2t2WzFdfWApO1xuICAgICAgICAgIGFwcC5jb21tYW5kTGluZS5hcHBlbmRTd2l0Y2goa3ZbMF0sIGt2WzFdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2cuaW5mbyhcImFwcGVuZCBmbGFnOlwiLCBrdlswXSk7XG4gICAgICAgICAgYXBwLmNvbW1hbmRMaW5lLmFwcGVuZEFyZ3VtZW50KGt2WzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBsb2cuZXJyb3IoXCJmbGFnIOino+aekOWksei0pVwiLCBlcnJvcik7XG4gIH1cbiAgLy8jZW5kcmVnaW9uIGZsYWdzIOino+aekFxufTtcblxuZXhwb3J0IGNvbnN0IGhvb2tJc1BhY2thZ2VkID0gKCkgPT4ge1xuICBjb25zdCBwa2dIYWNrID0ge1xuICAgIGlkeDogMCxcbiAgICBkYXRhOiBbXG4gICAgICB0cnVlLFxuICAgICAgdHJ1ZSxcbiAgICAgIHRydWUsIC8vIC5iaWxpYXBwXG4gICAgICB0cnVlLFxuICAgICAgZmFsc2UsXG4gICAgICB0cnVlLFxuICAgIF0sXG4gIH07XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcHAsIFwiaXNQYWNrYWdlZFwiLCB7XG4gICAgZ2V0KCkge1xuICAgICAgbGV0IHJldCA9IHBrZ0hhY2suZGF0YVtwa2dIYWNrLmlkeCsrXTtcbiAgICAgIGlmIChyZXQgPT09IHVuZGVmaW5lZCkgcmV0ID0gdHJ1ZTtcbiAgICAgIGxvZy5pbmZvKFwiZ2V0IGlzUGFja2FnZWRcIiwgcmV0KTtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbGl6ZUdsb2JhbERhdGEgPSAoKSA9PiB7XG4gIGdsb2JhbC5pc0ZpcmVkQnlFbnRyeSA9IHRydWU7XG4gIGdsb2JhbC5ib290c3RyYXBFdmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIGdsb2JhbC5ydW50aW1lQ29uZiA9IHtcbiAgICBleFdlYlByZWZlcmVuY2VzOiB7fVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZXBsYWNlQnJvd3NlcldpbmRvdyA9ICgpID0+IHtcbiAgY29uc3Qgb3JpZ2luYWxCcm93c2VyV2luZG93ID0gQnJvd3NlcldpbmRvdztcbiAgY29uc3QgaG9va0Jyb3dzZXJXaW5kb3cgPSAoT3JpZ2luYWxCcm93c2VyV2luZG93OiB0eXBlb2YgQnJvd3NlcldpbmRvdykgPT4ge1xuICAgIGZ1bmN0aW9uIEhvb2tlZEJyb3dzZXJXaW5kb3coXG4gICAgICBvcHRpb25zPzogRWxlY3Ryb24uQnJvd3NlcldpbmRvd0NvbnN0cnVjdG9yT3B0aW9uc1xuICAgICkge1xuICAgICAgLy8g5L+u5pS55oiW5aKe5Yqg5p6E6YCg5Ye95pWw55qE6YCJ6aG5XG4gICAgICB0cnkge1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgIG9wdGlvbnMuZnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICBpZiAob3B0aW9ucy53ZWJQcmVmZXJlbmNlcykge1xuICAgICAgICAgICAgb3B0aW9ucy53ZWJQcmVmZXJlbmNlcy5kZXZUb29scyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxvZy5pbmZvKFwiPT09PT09SG9va2VkQnJvd3NlcldpbmRvdzpcIiwgb3B0aW9ucyk7XG4gICAgICB9IGNhdGNoIChfZSkge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgICAgfVxuICAgICAgLy8g5L2/55So5L+u5pS55ZCO55qE6YCJ6aG56LCD55So5Y6f5aeL5p6E6YCg5Ye95pWwXG4gICAgICBjb25zdCBpbnN0YW5jZTogQnJvd3NlcldpbmRvdyA9IG5ldyBPcmlnaW5hbEJyb3dzZXJXaW5kb3cob3B0aW9ucyk7XG4gICAgICBpbnN0YW5jZS53ZWJDb250ZW50cy5vbihcImlwYy1tZXNzYWdlLXN5bmNcIiwgKGV2ZW50LCAuLi5hcmdzKSA9PiB7XG4gICAgICAgIGlmIChhcmdzWzBdID09PSBcImNvbmZpZy9yb2FtaW5nUEFDXCIpIHtcbiAgICAgICAgICBsb2cuaW5mbyhcInJlY2VpdmUgY29uZmlnL3JvYW1pbmdQQUM6IFwiLCAuLi5hcmdzKTtcbiAgICAgICAgICBjb25zdCBzZXMgPSBpbnN0YW5jZS53ZWJDb250ZW50cy5zZXNzaW9uO1xuICAgICAgICAgIHNlc1xuICAgICAgICAgICAgLnNldFByb3h5KHtcbiAgICAgICAgICAgICAgbW9kZTogXCJwYWNfc2NyaXB0XCIsXG4gICAgICAgICAgICAgIHBhY1NjcmlwdDogYXJnc1sxXSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoX3JlcykgPT4ge1xuICAgICAgICAgICAgICBsb2cuaW5mbyhcIj09PT1zZXQgcHJveHlcIik7XG4gICAgICAgICAgICAgIHNlcy5mb3JjZVJlbG9hZFByb3h5Q29uZmlnKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2VzLnJlc29sdmVQcm94eShcImFrYW1haS5uZXRcIikudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICBsb2cuaW5mbyhcInJlc29sdmVQcm94eSBha2FtYWkubmV0IC0tPiBcIiwgcmVzKTtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gcmVzLmxlbmd0aCA9PT0gMCA/IFwiZXJyb3JcIiA6IFwib2tcIjtcbiAgICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoID09PSAwKSBzZXMuc2V0UHJveHkoeyBtb2RlOiBcInN5c3RlbVwiIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICBsb2cuZXJyb3IoXCI9PT09c2V0IGVycm9yXCIsIGVycik7XG4gICAgICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gXCJlcnJvclwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gRGV2VG9vbHPliIfmjaJcbiAgICAgIGluc3RhbmNlLndlYkNvbnRlbnRzLm9uKFwiYmVmb3JlLWlucHV0LWV2ZW50XCIsIChfZXZlbnQsIGlucHV0KSA9PiB7XG4gICAgICAgIGlmIChpbnB1dC5rZXkgPT09IFwiRjEyXCIgJiYgaW5wdXQudHlwZSA9PT0gXCJrZXlVcFwiKSB7XG4gICAgICAgICAgaW5zdGFuY2Uud2ViQ29udGVudHMudG9nZ2xlRGV2VG9vbHMoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLy8g5aSN5Yi25Y6f5aeL5p6E6YCg5Ye95pWw55qE5Y6f5Z6L6ZO+5bm26L+b6KGM5pu/5o2iXG4gICAgSG9va2VkQnJvd3NlcldpbmRvdy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFxuICAgICAgT3JpZ2luYWxCcm93c2VyV2luZG93LnByb3RvdHlwZVxuICAgICk7XG4gICAgSG9va2VkQnJvd3NlcldpbmRvdy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBIb29rZWRCcm93c2VyV2luZG93O1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihIb29rZWRCcm93c2VyV2luZG93LCBPcmlnaW5hbEJyb3dzZXJXaW5kb3cpO1xuXG4gICAgcmV0dXJuIEhvb2tlZEJyb3dzZXJXaW5kb3c7XG4gIH07XG5cbiAgLy8g5L2/55So5pu/5o2i55qE5p6E6YCg5Ye95pWwXG4gIGNvbnN0IEhvb2tlZEJyb3dzZXJXaW5kb3cgPSBob29rQnJvd3NlcldpbmRvdyhvcmlnaW5hbEJyb3dzZXJXaW5kb3cpO1xuXG4gIGNvbnN0IE1vZHVsZUxvYWRIb29rOiBSZWNvcmQ8c3RyaW5nLCAobTogbmV2ZXIpID0+IHVua25vd24+ID0ge1xuICAgIGVsZWN0cm9uOiAobW9kdWxlOiB0eXBlb2YgRWxlY3Ryb24pID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLm1vZHVsZSxcbiAgICAgICAgQnJvd3NlcldpbmRvdzogSG9va2VkQnJvd3NlcldpbmRvdyxcbiAgICAgIH07XG4gICAgfSxcbiAgfTtcbiAgLy8gbG9nLmluZm8oJ01vZHVsZTonLCBNb2R1bGUpXG4gIGNvbnN0IG0gPSBNb2R1bGUgYXMgdW5rbm93biBhcyB7XG4gICAgX2xvYWQ6IChwYXRoOiBzdHJpbmcsIC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bjtcbiAgfTtcbiAgY29uc3Qgb3JpZ2luYWxfbG9hZCA9IG0uX2xvYWQ7XG4gIG0uX2xvYWQgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGxvYWRlZF9tb2R1bGUgPSBvcmlnaW5hbF9sb2FkKC4uLmFyZ3MpO1xuICAgIC8vIGNvbnNvbGUubG9nKCdsb2FkJywgYXJnc1swXSlcbiAgICBpZiAoTW9kdWxlTG9hZEhvb2tbYXJnc1swXV0pIHtcbiAgICAgIHJldHVybiBNb2R1bGVMb2FkSG9va1thcmdzWzBdXShsb2FkZWRfbW9kdWxlIGFzIG5ldmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGxvYWRlZF9tb2R1bGU7XG4gICAgfVxuICB9O1xufTtcbmV4cG9ydCBjb25zdCBlbGVjdHJvbk92ZXJ3cml0ZSA9ICgpID0+IHtcbiAge1xuICAgIGNvbnN0IGJ1aWxkRnJvbVRlbXBsYXRlID0gTWVudS5idWlsZEZyb21UZW1wbGF0ZTtcbiAgICBNZW51LmJ1aWxkRnJvbVRlbXBsYXRlID0gZnVuY3Rpb24gKFxuICAgICAgdGVtcGxhdGU6IEFycmF5PEVsZWN0cm9uLk1lbnVJdGVtQ29uc3RydWN0b3JPcHRpb25zIHwgRWxlY3Ryb24uTWVudUl0ZW0+XG4gICAgKSB7XG4gICAgICBpZiAodGVtcGxhdGVbMF0/LmxhYmVsID09IFwi6K6+572uXCIpIHtcbiAgICAgICAgdGVtcGxhdGUudW5zaGlmdCh7XG4gICAgICAgICAgbGFiZWw6IFwi6aaW6aG1XCIsXG4gICAgICAgICAgY2xpY2s6ICgpID0+XG4gICAgICAgICAgICBnbG9iYWwuYmlsaUFwcC5jb25maWdTZXJ2aWNlLm9wZW5NYWluV2luZG93UGFnZSQubmV4dCh7XG4gICAgICAgICAgICAgIHBhZ2U6IFwiUmVjb21tZW5kUGFnZVwiLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgICAgICBsb2cuaW5mbyhcIm1lbnUgbGlzdDpcIiwgdGVtcGxhdGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1aWxkRnJvbVRlbXBsYXRlLmFwcGx5KHRoaXMsIFt0ZW1wbGF0ZV0pO1xuICAgIH07XG4gIH1cbiAge1xuICAgIC8vIGhvb2sgbG9hZFVSTFxuICAgIGNvbnN0IG9yaWdpbmxvYWRVUkwgPSBCcm93c2VyV2luZG93LnByb3RvdHlwZS5sb2FkVVJMO1xuICAgIEJyb3dzZXJXaW5kb3cucHJvdG90eXBlLmxvYWRVUkwgPSBmdW5jdGlvbiAoXG4gICAgICB1cmw6IHN0cmluZyxcbiAgICAgIG9wdGlvbnM/OiBFbGVjdHJvbi5Mb2FkVVJMT3B0aW9uc1xuICAgICkge1xuICAgICAgdGhpcy5zZXRNaW5pbXVtU2l6ZSgzMDAsIDMwMCk7XG4gICAgICAvLyDorr7nva5VQe+8jOacieS6m+eVquWJp+aSreaUvumTvuaOpVdpbmRvd3PkvJo0MDNcbiAgICAgIHRoaXMud2ViQ29udGVudHMuc2V0VXNlckFnZW50KFxuICAgICAgICBcIk1vemlsbGEvNS4wIChYMTE7IExpbnV4IHg4Nl82NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgYmlsaWJpbGlfcGMvMS45LjEgQ2hyb21lLzk4LjAuNDc1OC4xNDEgRWxlY3Ryb24vMTcuNC4xMSBTYWZhcmkvNTM3LjM2XCJcbiAgICAgICk7XG4gICAgICBsb2cuaW5mbyhcIj09PT09bG9hZFVSTDpcIiwgdXJsKTtcbiAgICAgIHJldHVybiBvcmlnaW5sb2FkVVJMLmFwcGx5KHRoaXMsIFt1cmwsIG9wdGlvbnNdKTtcbiAgICB9O1xuICB9XG4gIHtcbiAgICAvLyBob29rIGxvYWRGaWxlXG4gICAgLy8g5LuO5paH5Lu25Yqg6L296aG16Z2iXG4gICAgY29uc3QgX2xvYWRGaWxlID0gQnJvd3NlcldpbmRvdy5wcm90b3R5cGUubG9hZEZpbGU7XG4gICAgQnJvd3NlcldpbmRvdy5wcm90b3R5cGUubG9hZEZpbGUgPSBmdW5jdGlvbiAoXG4gICAgICBmaWxlUGF0aDogc3RyaW5nLFxuICAgICAgb3B0aW9ucz86IEVsZWN0cm9uLkxvYWRGaWxlT3B0aW9uc1xuICAgICkge1xuICAgICAgbG9nLmluZm8oXCI9PT09PWxvYWRGaWxlOlwiLCBmaWxlUGF0aCk7XG4gICAgICByZXR1cm4gX2xvYWRGaWxlLmFwcGx5KHRoaXMsIFtmaWxlUGF0aCwgb3B0aW9uc10pO1xuICAgIH07XG4gIH1cbiAge1xuICAgIGNvbnN0IG9yaWdpbmFsQ2xvc2UgPSBCcm93c2VyV2luZG93LnByb3RvdHlwZS5jbG9zZTtcbiAgICBCcm93c2VyV2luZG93LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAvKipcbiAgICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tc29qb2NzL2JpbGliaWxpLWxpbnV4L2lzc3Vlcy8xNjlcbiAgICAgICAqIDEuIOS9v+eUqOi0puaIt+WvhueggeeZu+W9le+8jOmBh+WIsOmqjOivgeeggVxuICAgICAgICogMi4g5YWz6Zet6aqM6K+B56CB5by556qXIGxvZ2luUmlza1dpbmRvdy5jbG9zZVxuICAgICAgICogMy4g5YaN5qyh5L2/55So6LSm5oi35a+G56CB55m75b2VXG4gICAgICAgKiA0LiDmraTml7bkuI3lho3pnIDopoHpqozor4HnoIHvvIjot7Pov4fpqozor4HnoIHvvInvvIzmiafooYzmiJDlip/pgLvovpHvvIzlho3mrKHosIPnlKggbG9naW5SaXNrV2luZG93LmNsb3NlIOmUmeivr1xuICAgICAgICpcbiAgICAgICAqL1xuICAgICAgbG9nLmluZm8oXCItLS0tLS0tLS0tLS0tPmNsb3NlIHdpbmRvd1wiLCBhcmdzKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG9yaWdpbmFsQ2xvc2UuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICBpZiAodGhpcyA9PT0gZ2xvYmFsLmJpbGlBcHAuY29uZmlnU2VydmljZS5sb2dpbldpbmRvdykge1xuICAgICAgICBnbG9iYWwuYmlsaUFwcC5jb25maWdTZXJ2aWNlLmxvZ2luV2luZG93ID0gbnVsbDtcbiAgICAgIH0gZWxzZSBpZiAodGhpcyA9PT0gZ2xvYmFsLmJpbGlBcHAuY29uZmlnU2VydmljZS5sb2dpblJpc2tXaW5kb3cpIHtcbiAgICAgICAgZ2xvYmFsLmJpbGlBcHAuY29uZmlnU2VydmljZS5sb2dpblJpc2tXaW5kb3cgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9XG59XG5leHBvcnQgY29uc3QgZWxlY3Ryb25PdmVyd3JpdGVBZnRlclJlYWR5ID0gKCkgPT4ge1xuICB7XG4gICAgY29uc3QgY3Vyc29yVG9vbCA9ICgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBpbmZvID0gZXhlY1N5bmMoXCJjYXQgL3Byb2MvYnVzL2lucHV0L2RldmljZXNcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICBjb25zdCBkZXZpY2VzID0gaW5mb1xuICAgICAgICAgICAgLnNwbGl0KFwiXFxuXCIpXG4gICAgICAgICAgICAuZmlsdGVyKChlKSA9PiBlLnN0YXJ0c1dpdGgoXCJIOlwiKSlcbiAgICAgICAgICAgIC5maWx0ZXIoKGUpID0+IGUuaW5jbHVkZXMoXCJtb3VzZVwiKSlcbiAgICAgICAgICAgIC5tYXAoXG4gICAgICAgICAgICAgIChlKSA9PlxuICAgICAgICAgICAgICAgIGVcbiAgICAgICAgICAgICAgICAgIC5zcGxpdChcIj1cIilbMV1cbiAgICAgICAgICAgICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKGUxKSA9PiBlMS5zdGFydHNXaXRoKFwiZXZlbnRcIikpWzBdXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAubWFwKChlKSA9PiBgL2Rldi9pbnB1dC8ke2V9YClcbiAgICAgICAgICAgIC5qb2luKFwiLFwiKTtcbiAgICAgICAgICBleGVjKFxuICAgICAgICAgICAgYCR7cGF0aC5yZXNvbHZlKFxuICAgICAgICAgICAgICBfX2Rpcm5hbWUsXG4gICAgICAgICAgICAgIFwiLi4vY3Vyc29yLXRvb2xcIlxuICAgICAgICAgICAgKX0gLS1kZXZpY2VzIFwiJHtkZXZpY2VzfVwiYCxcbiAgICAgICAgICAgIChleCwgb3V0LCBlcnIpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGV4IHx8IGVycikge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUob3V0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IG9yaWdpbmFsID0gc2NyZWVuLmdldEN1cnNvclNjcmVlblBvaW50O1xuICAgIGxldCBjdXJzb3JUb29sRXJyb3IgPSBmYWxzZTtcbiAgICBsZXQgb2xkWCA9IDAsXG4gICAgICBvbGRZID0gMDtcbiAgICBzY3JlZW4uZ2V0Q3Vyc29yU2NyZWVuUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnZbXCJYREdfU0VTU0lPTl9UWVBFXCJdID09IFwid2F5bGFuZFwiICYmICFjdXJzb3JUb29sRXJyb3IpIHtcbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcG9pbnQgPSAoYXdhaXQgY3Vyc29yVG9vbCgpKS5yZXBsYWNlKFwiXFxuXCIsIFwiXCIpO1xuICAgICAgICAgICAgY29uc3QgZGV0YWlsID0gcG9pbnQuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgICAgb2xkWCA9IHBhcnNlSW50KGRldGFpbFswXSk7XG4gICAgICAgICAgICBvbGRZID0gcGFyc2VJbnQoZGV0YWlsWzFdKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIHg6IG9sZFgsXG4gICAgICAgICAgICAgIHk6IG9sZFksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY3Vyc29yVG9vbEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZXJyIGFzIHN0cmluZztcbiAgICAgICAgICAgIGxvZy5lcnJvcihcImVycm9yOlwiLCBlcnJvci5yZXBsYWNlKFwiXFxuXCIsIFwiXCIpKTtcbiAgICAgICAgICAgIGlmIChlcnJvci5pbmNsdWRlcyhcImZhaWxlZCB0byBhZGQgZGV2aWNlXCIpKSB7XG4gICAgICAgICAgICAgIGxvZy5pbmZvKFxuICAgICAgICAgICAgICAgIGBcXHgxQlszNm1OZWVkIGV4ZWN1dGU6IHN1ZG8gdXNlcm1vZCAtYUcgaW5wdXQgJHtwcm9jZXNzLmVudi5VU0VSTkFNRX0sIHRoZW4gcmVib290LlxceDFCWzBtYFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgIH1cbiAgICAgIGlmICghb2xkWCB8fCAhb2xkWSkge1xuICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgW10pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogb2xkWCxcbiAgICAgICAgeTogb2xkWSxcbiAgICAgIH07XG4gICAgfTtcbiAgfVxufTtcbmV4cG9ydCBjb25zdCByZWdpc3RlcklwY0hhbmRsZSA9ICgpID0+IHtcbiAgLy8g5aSE55CG5ZCv5Yqo57yT5oWi55qE6Zeu6aKYXG4gIC8qKlxuICAgKiDojrflj5bmlrnlvI/vvJpcbiAgICog5ZyocHJlbG9hZC5qc+S4reaLpuaIqmlwY1JlbmRlcmVyLnNlbmRTeW5j77yM5oqKbG9n6L6T5Ye65Yiw5paH5Lu25Lit44CCXG4gICAqIFxuICAgKiDlpoLkvZXmib7liLDlk6rph4zosIPnlKjvvJ9cbiAgICog6L+U5Zue5LiA5Lqb5LiN6IO95aSE55CG55qE5pWw5o2u77yM6K6p6YC76L6R5bGC5oql6ZSZ77yM5q+U5aaC5aSE55CGb2JqZWN055qE6L+U5ZuedW5kZWZpbmVk77yM5bCx5Lya5Zyo6LCD55So5aSE5oql6ZSZ44CCXG4gICAqL1xuICBpcGNNYWluLm9uKFwiYXBwL2dldFRoZW1lXCIsIChldmVudCkgPT4ge1xuICAgIC8vIOWcqOi/memHjOWkhOeQhuaVsOaNru+8jOeEtuWQjumAmui/hyBldmVudC5yZXR1cm5WYWx1ZSDlj5HpgIHov5Tlm57lgLxcbiAgICBldmVudC5yZXR1cm5WYWx1ZSA9IFwiYmlsaV9saWdodFwiO1xuICB9KTtcbiAgaXBjTWFpbi5vbihcImFwcC9tYWluUHJvY2Vzc1JlYWR5XCIsIChldmVudCkgPT4ge1xuICAgIC8vIOWcqOi/memHjOWkhOeQhuaVsOaNru+8jOeEtuWQjumAmui/hyBldmVudC5yZXR1cm5WYWx1ZSDlj5HpgIHov5Tlm57lgLxcbiAgICBldmVudC5yZXR1cm5WYWx1ZSA9IHRydWU7XG4gIH0pO1xuICBpcGNNYWluLm9uKCdhcHAvZ2V0SW5pdEluZm8nLCAoZXZlbnQpID0+IHtcbiAgICBsb2cuaW5mbygnZW1pdCBhcHAvZ2V0SW5pdEluZm8nKVxuICAgIGV2ZW50LnJldHVyblZhbHVlID0ge1xuICAgICAgSVNfTUFDOiBmYWxzZSxcbiAgICAgIElTX1dJTjogZmFsc2UsXG4gICAgICBJU19MSU5VWDogdHJ1ZSxcbiAgICAgIElTX0RFVjogZmFsc2UsXG4gICAgICBJU19SRUxFQVNFOiB0cnVlLFxuICAgICAgQVBQX1ZFUlNJT046ICcxLjE3LjUuNDY2NScsXG4gICAgICBJU19ERVZfTTogZmFsc2UsXG4gICAgICBKU0JfUFJFTE9BRF9VUkw6ICdiaWxpLXByZWxvYWQuanMnLFxuICAgICAgYXBwSWQ6ICcnLFxuICAgICAgcGxhdGZvcm06ICdsaW51eCdcbiAgICB9XG4gIH0pXG4gIGlwY01haW4ub24oJ2NvbmZpZy9kYXRhU3luYycsIChldmVudCwgZGF0YSkgPT4ge1xuICAgIGxvZy5pbmZvKCdyZWNlaXZlIGNvbmZpZy9kYXRhU3luYyBmcm9tOicsIGV2ZW50LnNlbmRlci5pZCwgZXZlbnQuc2VuZGVyLmdldFRpdGxlKCksIGRhdGEpO1xuICAgIGNvbnN0IHdpbmRvd3MgPSBCcm93c2VyV2luZG93LmdldEFsbFdpbmRvd3MoKTtcbiAgICBmb3IgKGNvbnN0IHdpbiBvZiB3aW5kb3dzKSB7XG4gICAgICBpZiAod2luLndlYkNvbnRlbnRzLmlkID09PSBldmVudC5zZW5kZXIuaWQpIGNvbnRpbnVlO1xuICAgICAgbG9nLmluZm8oJ25vdGlmeSBkYXRhU3luYyB0byB3aW5kb3c6Jywgd2luLmlkKTtcbiAgICAgIHdpbi53ZWJDb250ZW50cy5leGVjdXRlSmF2YVNjcmlwdChgd2luZG93LmRhdGFTeW5jKCcke2RhdGF9JylgKS50aGVuKHJlcyA9PiB7XG4gICAgICAgIGxvZy5pbmZvKCdkYXRhU3luYyByZXN1bHQ6JywgcmVzKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGxvZy5lcnJvcignZGF0YVN5bmMgZXJyb3I6JywgZXJyKTtcbiAgICAgIH0pXG4gICAgfVxuICAgIGxvZy5pbmZvKCdkYXRhU3luYyBlbmQuJyk7XG4gICAgZXZlbnQucmV0dXJuVmFsdWUgPSBcIm9rXCI7XG4gIH0pXG4gIGlwY01haW4uaGFuZGxlKFwic3BvbnNvci9kb3dubG9hZEF1ZGlvXCIsIGFzeW5jIChfLCB1cmwpID0+IHtcbiAgICBsb2cuaW5mbyhcInNwb25zb3IvZG93bmxvYWRBdWRpbzpcIiwgdXJsKTtcbiAgICAvLyAxLiDkuIvovb3mlofku7ZcbiAgICBjb25zdCB0ZW1wZmlsZSA9IHBhdGgucmVzb2x2ZShcbiAgICAgIG1vZHVsZS5yZXF1aXJlKFwib3NcIikudG1wZGlyKCksXG4gICAgICBcImJpbGliaWxpLXRhbnNjcmliZS5tcDNcIlxuICAgICk7XG4gICAgYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiB7IFJlZmVyZXI6IFwiaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL1wiIH0sXG4gICAgfSkudGhlbihhc3luYyAocmVzKSA9PiB7XG4gICAgICBjb25zdCBmaWxlU3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0odGVtcGZpbGUpO1xuICAgICAgY29uc3Qgd3JpdGVyID0gbmV3IFdyaXRhYmxlU3RyZWFtKHtcbiAgICAgICAgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgZmlsZVN0cmVhbS53cml0ZShjaHVuaywgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChlcnJvcikgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgZWxzZSByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgY2xvc2UoKSB7XG4gICAgICAgICAgZmlsZVN0cmVhbS5lbmQoKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDIwMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9YCk7XG4gICAgICBhd2FpdCByZXMuYm9keT8ucGlwZVRvKHdyaXRlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRlbXBmaWxlO1xuICB9KTtcbiAgaXBjTWFpbi5oYW5kbGUoXG4gICAgXCJzcG9uc29yL3RyYW5zY3JpYmVBdWRpb1wiLFxuICAgIChfLCBvcHRpb25zKSA9PlxuICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyAyLiDor63pn7PovazmloflrZdcbiAgICAgICAgbG9nLmluZm8oXCJzcG9uc29yL3RyYW5zY3JpYmVBdWRpbzpcIiwgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGZpbGUgPSBvcHRpb25zLmZpbGU7XG4gICAgICAgIGNvbnN0IHByb3h5ID0gb3B0aW9ucy5wcm94eTtcbiAgICAgICAgY29uc3QgbGliUGF0aCA9IG9wdGlvbnMubGliUGF0aDtcbiAgICAgICAgY29uc3QgdGFzayA9IHNwYXduKFxuICAgICAgICAgIHBhdGgucmVzb2x2ZShfX2Rpcm5hbWUsIFwiLi4vdHJhbnNjcmliZS5weVwiKSxcbiAgICAgICAgICBbZmlsZV0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgZW52OiB7XG4gICAgICAgICAgICAgIEhUVFBTX1BST1hZOiBwcm94eSxcbiAgICAgICAgICAgICAgSFRUUF9QUk9YWTogcHJveHksXG4gICAgICAgICAgICAgIExEX0xJQlJBUllfUEFUSDogYCR7cHJvY2Vzcy5lbnYuTERfTElCUkFSWV9QQVRIfToke2xpYlBhdGh9YCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBsZXQgc3Rkb3V0ID0gXCJcIjtcbiAgICAgICAgbGV0IHN0ZGVyciA9IFwiXCI7XG5cbiAgICAgICAgdGFzay5zdGRvdXQub24oXCJkYXRhXCIsIChtc2cpID0+IHtcbiAgICAgICAgICAvLyBjb25zb2xlLmluZm8oJ3N0ZG91dDonLCBtc2cudG9TdHJpbmcoKSlcbiAgICAgICAgICBzdGRvdXQgKz0gbXNnLnRvU3RyaW5nKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0YXNrLnN0ZGVyci5vbihcImRhdGFcIiwgKG1zZykgPT4ge1xuICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbygnc3RkZXJyOicsIG1zZy50b1N0cmluZygpKVxuICAgICAgICAgIHN0ZGVyciArPSBtc2cudG9TdHJpbmcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRhc2sub24oXCJjbG9zZVwiLCAoY29kZSkgPT4ge1xuICAgICAgICAgIGxvZy5pbmZvKFwiY2xvc2U6XCIsIGNvZGUsIHRhc2suZXhpdENvZGUpO1xuICAgICAgICAgIGlmIChzdGRlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChzdGRlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHN0ZG91dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pXG4gICk7XG5cbiAgaXBjTWFpbi5oYW5kbGUoXG4gICAgXCJyb2FtaW5nL3F1ZXJ5RHluYW1pY0RldGFpbFwiLFxuICAgIGFzeW5jIChfLCBkeW5hbWljSWQsIGFjY2Vzc0tleSkgPT4ge1xuICAgICAgbG9nLmluZm8oXCJkeW5hbWljIGlkOlwiLCBkeW5hbWljSWQsIGFjY2Vzc0tleSk7XG5cbiAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBHcnBjVHJhbnNwb3J0KHtcbiAgICAgICAgaG9zdDogXCJncnBjLmJpbGlhcGkubmV0XCIsXG4gICAgICAgIGNoYW5uZWxDcmVkZW50aWFsczogQ2hhbm5lbENyZWRlbnRpYWxzLmNyZWF0ZVNzbCgpLFxuICAgICAgICBjbGllbnRPcHRpb25zOiB7XG4gICAgICAgICAgXCJncnBjLnByaW1hcnlfdXNlcl9hZ2VudFwiOiBcIkRhbHZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQgMTA7IFJNWDIxMTcgQnVpbGQvUVAxQS4xOTA3MTEuMDIwKSA3LjYxLjAgb3MvYW5kcm9pZCBtb2RlbC9QaXhlbCBYTCBtb2JpX2FwcC9hbmRyb2lkIGJ1aWxkLzc2MTAzMDAgY2hhbm5lbC95aW5neW9uZ2JhbyBpbm5lclZlci83NjEwMzEwIG9zVmVyLzEwIG5ldHdvcmsvMiBncnBjLWphdmEtY3JvbmV0LzEuMzYuMVwiLFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBEeW5hbWljQ2xpZW50KHRyYW5zcG9ydCk7XG4gICAgICBjb25zdCBtZXRhOiBScGNNZXRhZGF0YSA9IHtcbiAgICAgICAgXCJ4LWJpbGktZ2FpYS12dG9rZW5cIjogXCJcIixcbiAgICAgICAgXCJ4LWJpbGktYXVyb3JhLWVpZFwiOiBcIlVsY0JRRmdIQjFNPVwiLFxuICAgICAgICBcIngtYmlsaS1hdXJvcmEtem9uZVwiOiBcIlwiLFxuICAgICAgICBcIngtYmlsaS10cmFjZS1pZFwiOiBcIjM0NDIxMWE3MWEwZGNmNDc0MzJiNjlhYzg0NjY2ZTc5OjQzMmI2OWFjODQ2NjZlNzk6MDowXCIsXG4gICAgICAgIFwieC1iaWxpLWZhd2tlcy1yZXEtYmluXCI6IFwiQ2dsaGJtUnliMmxrTmpRU0JIQnliMlFhQ0RsaE1qVTJOV00yXCIsXG4gICAgICB9O1xuXG4gICAgICBjb25zdCBkYXRhOiBNZXRhZGF0YSA9IHtcbiAgICAgICAgYWNjZXNzS2V5OiBhY2Nlc3NLZXksXG4gICAgICAgIG1vYmlBcHA6IFwiYW5kcm9pZFwiLFxuICAgICAgICBkZXZpY2U6IFwicGhvbmVcIixcbiAgICAgICAgYnVpbGQ6IDc2MTAzMDAsXG4gICAgICAgIGNoYW5uZWw6IFwieWluZ3lvbmdiYW9cIixcbiAgICAgICAgYnV2aWQ6IFwiWFU4RTVEMTg1NjhBQ0IxRkZFRkUxRTI3QjM0NTZCOUFGRkIyOFwiLFxuICAgICAgICBwbGF0Zm9ybTogXCJhbmRyb2lkXCIsXG4gICAgICB9O1xuICAgICAge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IEJ1ZmZlci5mcm9tKE1ldGFkYXRhLnRvQmluYXJ5KGRhdGEpKTtcbiAgICAgICAgbG9nLmluZm8oJ21ldGEgZGF0YTonLCBtZXRhZGF0YS50b1N0cmluZyhcImJhc2U2NFwiKSlcbiAgICAgICAgbWV0YVtcIngtYmlsaS1tZXRhZGF0YS1iaW5cIl0gPSBtZXRhZGF0YS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgIH1cbiAgICAgIG1ldGFbXCJhdXRob3JpemF0aW9uXCJdID0gYGlkZW50aWZ5X3YxICR7YWNjZXNzS2V5fWA7XG4gICAgICBjb25zdCBkZXZpY2U6IERldmljZSA9IHtcbiAgICAgICAgbW9iaUFwcDogXCJhbmRyb2lkXCIsXG4gICAgICAgIGRldmljZTogXCJwaG9uZVwiLFxuICAgICAgICBidWlsZDogNzYxMDMwMCxcbiAgICAgICAgY2hhbm5lbDogXCJ5aW5neW9uZ2Jhb1wiLFxuICAgICAgICBidXZpZDogXCJYVThFNUQxODU2OEFDQjFGRkVGRTFFMjdCMzQ1NkI5QUZGQjI4XCIsXG4gICAgICAgIHBsYXRmb3JtOiBcImFuZHJvaWRcIixcbiAgICAgICAgYXBwSWQ6IDUsXG4gICAgICAgIGJyYW5kOiBcInJlYWxtZVwiLFxuICAgICAgICBtb2RlbDogXCJQaXhlbCBYTFwiLFxuICAgICAgICBvc3ZlcjogXCIxMFwiLFxuICAgICAgICBmcExvY2FsOiBcIjhjYjU1ZmRmY2Y2NTU1MTNlMjBlNjM2ZjZjYWYwZTE0MjAyNDAzMjgxNDIzNTNiMjIzYWIzNDIwNzAwYjJiOGRcIixcbiAgICAgICAgZnBSZW1vdGU6IFwiOGNiNTVmZGZjZjY1NTUxM2UyMGU2MzZmNmNhZjBlMTQyMDI0MDMyODE0MjM1M2IyMjNhYjM0MjA3MDBiMmI4ZFwiLFxuICAgICAgICB2ZXJzaW9uTmFtZTogXCI3LjYxLjBcIixcbiAgICAgICAgZnA6IFwiOGNiNTVmZGZjZjY1NTUxM2UyMGU2MzZmNmNhZjBlMTQyMDI0MDMyODE0MjM1M2IyMjNhYjM0MjA3MDBiMmI4ZFwiLFxuICAgICAgICBmdHM6IDBuXG4gICAgICB9O1xuICAgICAgY29uc3QgZGV2aWNlRGF0YSA9IEJ1ZmZlci5mcm9tKERldmljZS50b0JpbmFyeShkZXZpY2UpKTtcbiAgICAgIC8vIOWbuuWumuaVsOaNrlxuICAgICAgbWV0YVtcIngtYmlsaS1kZXZpY2UtYmluXCJdID0gZGV2aWNlRGF0YS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgICAgIC8vIOWbuuWumuaVsOaNrlxuICAgICAgbWV0YVtcIngtYmlsaS1uZXR3b3JrLWJpblwiXSA9IFwiQ0FFYUJUUTJNREF4XCI7XG4gICAgICBtZXRhW1wieC1iaWxpLXJlc3RyaWN0aW9uLWJpblwiXSA9IFwiXCI7XG4gICAgICAvLyDlm7rlrprmlbDmja5cbiAgICAgIG1ldGFbXCJ4LWJpbGktbG9jYWxlLWJpblwiXSA9IFwiQ2dnS0FucG9HZ0pEVGhJSUNnSjZhQm9DUTA0XCI7XG5cbiAgICAgIG1ldGFbXCJ4LWJpbGktZXhwcy1iaW5cIl0gPSBcIlwiO1xuICAgICAgbWV0YVtcImJ1dmlkXCJdID0gXCJYVThFNUQxODU2OEFDQjFGRkVGRTFFMjdCMzQ1NkI5QUZGQjI4XCI7XG4gICAgICBtZXRhWydiaWxpLWh0dHAtZW5naW5lJ10gPSAnY3JvbmV0JztcbiAgICAgIG1ldGFbXCJ0ZVwiXSA9IFwidHJhaWxlcnNcIjtcbiAgICAgIGxvZy5pbmZvKCdtZXRhIGRhdGE6JywgbWV0YSlcbiAgICAgIGNvbnN0IHJlcURhdGEgPSB7XG4gICAgICAgIGR5bmFtaWNJZDogYCR7ZHluYW1pY0lkfWAsXG4gICAgICB9O1xuICAgICAgLy8gYWN0aW9uOiBzYXlIZWxsb1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgY2xpZW50LmR5bkRldGFpbChyZXFEYXRhLCB7IFxuICAgICAgICBtZXRhLFxuICAgICAgIH0pO1xuICAgICAgcmV0dXJuIER5bkRldGFpbFJlcGx5LnRvSnNvbihyZXN1bHQucmVzcG9uc2UsIHsgZW51bUFzSW50ZWdlcjogZmFsc2UsIHVzZVByb3RvRmllbGROYW1lOiB0cnVlIH0pO1xuICAgIH1cbiAgKTtcblxufTtcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyRXh0ZW5zaW9uID0gKCkgPT4ge1xuICBjb25zdCBleHRQYXRoID0gcGF0aC5qb2luKHBhdGguZGlybmFtZShhcHAuZ2V0QXBwUGF0aCgpKSwgXCJleHRlbnNpb25zXCIpO1xuICBzZXNzaW9uLmRlZmF1bHRTZXNzaW9uXG4gICAgLmxvYWRFeHRlbnNpb24oZXh0UGF0aCArIFwiL2JpbGliaWxpXCIsIHtcbiAgICAgIGFsbG93RmlsZUFjY2VzczogdHJ1ZSxcbiAgICB9KVxuICAgIC50aGVuKCh7IGlkIH0pID0+IHtcbiAgICAgIC8vIC4uLlxuICAgICAgbG9nLmluZm8oXCItLS0tLUxvYWQgRXh0ZW5zaW9uOlwiLCBpZCk7XG4gICAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJQcm90b2NvbCA9ICgpID0+IHtcbiAgLy8g6Ieq5a6a5LmJ5Y2P6K6u55qE5YW35L2T5a6e546wXG4gIHByb3RvY29sLnJlZ2lzdGVyU3RyaW5nUHJvdG9jb2woXCJyb2FtaW5nXCIsIGFzeW5jIChyZXEsIGNiKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ3JlZ2lzdGVySHR0cFByb3RvY29sJywgcmVxKVxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaChyZXEudXJsLnJlcGxhY2UoXCJyb2FtaW5nXCIsIFwiaHR0cHNcIiksIHtcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGNvb2tpZTogcmVxLmhlYWRlcnNbXCJ4LWNvb2tpZVwiXSxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjYihhd2FpdCByZXN1bHQuanNvbigpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNiKHtcbiAgICAgICAgc3RhdHVzQ29kZTogNTAwLFxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShlcnIpLFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBwcm90b2NvbC5yZWdpc3Rlckh0dHBQcm90b2NvbChcInJvYW1pbmctdGhwaWNcIiwgKHJlcSwgY2IpID0+IHtcbiAgICBjYih7XG4gICAgICB1cmw6IHJlcS51cmwucmVwbGFjZShcInJvYW1pbmctdGhwaWNcIiwgXCJodHRwc1wiKSxcbiAgICB9KTtcbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgbm9kZUpzT3ZlcldyaXRlID0gKCkgPT4ge1xuICB7XG4gICAgY29uc3QgY3AgPSBtb2R1bGUucmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIik7XG4gICAgY29uc3Qgb3JpZ2luYWxFUyA9IGNwLmV4ZWNTeW5jO1xuICAgIGNwLmV4ZWNTeW5jID0gZnVuY3Rpb24gKC4uLmFyZ3M6IHVua25vd25bXSkge1xuICAgICAgaWYgKGFyZ3NbMF0gPT09IFwic3dfdmVyc1wiKSByZXR1cm4gXCIxMC4wLjI2MTAwLjI2MDVcIjtcbiAgICAgIHJldHVybiBvcmlnaW5hbEVTLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBhcHAgfSBmcm9tIFwiZWxlY3Ryb25cIjtcbmltcG9ydCB7IGNyZWF0ZUJpbGliaWxpU2VydmVyIH0gZnJvbSBcIi4vY29tbW9uL2JpbGliaWxpXCI7XG5pbXBvcnQgeyBlbGVjdHJvbk92ZXJ3cml0ZSwgZWxlY3Ryb25PdmVyd3JpdGVBZnRlclJlYWR5LCBob29rSXNQYWNrYWdlZCwgaW5pdGlhbGl6ZUdsb2JhbERhdGEsIG5vZGVKc092ZXJXcml0ZSwgcGFyc2VFbGVjdHJvbkZsYWcsIHJlZ2lzdGVyRXh0ZW5zaW9uLCByZWdpc3RlcklwY0hhbmRsZSwgcmVnaXN0ZXJQcm90b2NvbCwgcmVwbGFjZUJyb3dzZXJXaW5kb3cgfSBmcm9tIFwiLi9jb21tb24vZWxlY3Ryb24tdG9vbFwiO1xuaW1wb3J0IHsgY3JlYXRlTG9nZ2VyLCBMb2dnZXIgfSBmcm9tIFwiLi4vY29tbW9uL2xvZ1wiO1xuKCgpID0+IHtcbiAgY29uc3QgbG9nID0gY3JlYXRlTG9nZ2VyKCdJbmRleCcpXG4gIExvZ2dlci5tb2R1bGVOYW1lID0gJ0luZGV4J1xuICBwYXJzZUVsZWN0cm9uRmxhZygpXG4gIGhvb2tJc1BhY2thZ2VkKClcbiAgaW5pdGlhbGl6ZUdsb2JhbERhdGEoKVxuICBjcmVhdGVCaWxpYmlsaVNlcnZlcigpXG4gIHJlcGxhY2VCcm93c2VyV2luZG93KClcbiAgZWxlY3Ryb25PdmVyd3JpdGUoKVxuICBub2RlSnNPdmVyV3JpdGUoKVxuICByZWdpc3RlcklwY0hhbmRsZSgpXG4gIC8vIOWKoOi9veS4u+S7o+eggVxuICBtb2R1bGUucmVxdWlyZShcIi4vbWFpbi9hcHAuanNcIilcbiAgLy8g5ZCv5YqoYXBwXG4gIGFwcC53aGVuUmVhZHkoKS50aGVuKCgpID0+IHtcbiAgICByZWdpc3RlclByb3RvY29sKClcbiAgICByZWdpc3RlckV4dGVuc2lvbigpXG4gICAgZWxlY3Ryb25PdmVyd3JpdGVBZnRlclJlYWR5KClcbiAgICBnbG9iYWwuYm9vdHN0cmFwQmlsaUFwcCgpO1xuICB9KTtcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL21zb2pvY3MvYmlsaWJpbGktbGludXgvaXNzdWVzLzE0N1xuICBwcm9jZXNzLm9uKFwidW5jYXVnaHRFeGNlcHRpb25cIiwgKGVycikgPT4ge1xuICAgIGxvZy5lcnJvcihcInVuY2F1Z2h0RXhjZXB0aW9uXCIsIGVycik7XG4gIH0pO1xufSkoKSJdLCJuYW1lcyI6WyJsb2ciLCJsZXZlbCIsIm5hbWVzcGFjZSIsImFyZ3MiLCJlIiwiZnVuYyIsImlzQmVmb3JlIiwic2VydmVyIiwicmVxIiwicmVzIiwicmVuZGVyUGF0aCIsInBhdGgiLCJ1cmwiLCJwIiwiZXJyIiwiYXBwIiwiU3RhdHVzIiwiTG9nVmVyYm9zaXR5IiwiUHJvcGFnYXRlIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJleHBvcnRzIiwidHJhY2UiLCJpc1RyYWNlckVuYWJsZWQiLCJjb25zdGFudHNfMSIsInJlcXVpcmUkJDAiLCJwcm9jZXNzXzEiLCJyZXF1aXJlJCQxIiwiY2xpZW50VmVyc2lvbiIsInJlcXVpcmUkJDIiLCJfbG9nZ2VyIiwibWVzc2FnZSIsIm9wdGlvbmFsUGFyYW1zIiwiX2xvZ1ZlcmJvc2l0eSIsImdldExvZ2dlciIsInNldExvZ2dlciIsImxvZ2dlciIsInNldExvZ2dlclZlcmJvc2l0eSIsInZlcmJvc2l0eSIsInNldmVyaXR5IiwibG9nRnVuY3Rpb24iLCJ0cmFjZXJzU3RyaW5nIiwiZW5hYmxlZFRyYWNlcnMiLCJkaXNhYmxlZFRyYWNlcnMiLCJ0cmFjZXJOYW1lIiwiYWxsRW5hYmxlZCIsInRyYWNlciIsInRleHQiLCJnZXRFcnJvck1lc3NhZ2UiLCJnZXRFcnJvckNvZGUiLCJlcnJvciIsImxvZ2dpbmdfMSIsImVycm9yXzEiLCJMRUdBTF9LRVlfUkVHRVgiLCJMRUdBTF9OT05fQklOQVJZX1ZBTFVFX1JFR0VYIiwiaXNMZWdhbEtleSIsImtleSIsImlzTGVnYWxOb25CaW5hcnlWYWx1ZSIsInZhbHVlIiwiaXNCaW5hcnlLZXkiLCJpc0N1c3RvbU1ldGFkYXRhIiwibm9ybWFsaXplS2V5IiwidmFsaWRhdGUiLCJNZXRhZGF0YSIsIm9wdGlvbnMiLCJleGlzdGluZ1ZhbHVlIiwicmVzdWx0IiwidmFsdWVzIiwidiIsIm5ld01ldGFkYXRhIiwibmV3SW50ZXJuYWxSZXByIiwiY2xvbmVkVmFsdWUiLCJvdGhlciIsIm1lcmdlZFZhbHVlIiwiYnVmVG9TdHJpbmciLCJoZWFkZXJzIiwidmFsIiwibWV0YWRhdGFfMSIsImlzQ3VycmVudE9hdXRoMkNsaWVudCIsImNsaWVudCIsIkNhbGxDcmVkZW50aWFscyIsIm1ldGFkYXRhR2VuZXJhdG9yIiwiU2luZ2xlQ2FsbENyZWRlbnRpYWxzIiwiZ29vZ2xlQ3JlZGVudGlhbHMiLCJjYWxsYmFjayIsImdldEhlYWRlcnMiLCJyZXNvbHZlIiwicmVqZWN0IiwibWV0YWRhdGEiLCJFbXB0eUNhbGxDcmVkZW50aWFscyIsIkNvbXBvc2VkQ2FsbENyZWRlbnRpYWxzIiwiY3JlZHMiLCJiYXNlIiwiZ2VuZXJhdGVkIiwiY3JlZCIsImdlbiIsImluZGV4IiwiZ2V0RGVmYXVsdFJvb3RzRGF0YSIsImZzIiwiREVGQVVMVF9ST09UU19GSUxFX1BBVEgiLCJkZWZhdWx0Um9vdHNEYXRhIiwicGFyc2VVcmkiLCJzcGxpdEhvc3RQb3J0IiwiY29tYmluZUhvc3RQb3J0IiwidXJpVG9TdHJpbmciLCJVUklfUkVHRVgiLCJ1cmlTdHJpbmciLCJwYXJzZWRVcmkiLCJOVU1CRVJfUkVHRVgiLCJob3N0RW5kIiwiaG9zdCIsInBvcnRTdHJpbmciLCJzcGxpdFBhdGgiLCJob3N0UG9ydCIsInVyaSIsInJlZ2lzdGVyUmVzb2x2ZXIiLCJyZWdpc3RlckRlZmF1bHRTY2hlbWUiLCJjcmVhdGVSZXNvbHZlciIsImdldERlZmF1bHRBdXRob3JpdHkiLCJtYXBVcmlEZWZhdWx0U2NoZW1lIiwidXJpX3BhcnNlcl8xIiwicmVnaXN0ZXJlZFJlc29sdmVycyIsImRlZmF1bHRTY2hlbWUiLCJzY2hlbWUiLCJyZXNvbHZlckNsYXNzIiwidGFyZ2V0IiwibGlzdGVuZXIiLCJjcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzIiwidGxzXzEiLCJjYWxsX2NyZWRlbnRpYWxzXzEiLCJ0bHNfaGVscGVyc18xIiwicmVxdWlyZSQkMyIsInJlc29sdmVyXzEiLCJyZXF1aXJlJCQ0IiwicmVxdWlyZSQkNSIsInJlcXVpcmUkJDYiLCJ2ZXJpZnlJc0J1ZmZlck9yTnVsbCIsIm9iaiIsImZyaWVuZGx5TmFtZSIsIkNoYW5uZWxDcmVkZW50aWFscyIsImNhbGxDcmVkZW50aWFscyIsIkNvbXBvc2VkQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCIsInJvb3RDZXJ0cyIsInByaXZhdGVLZXkiLCJjZXJ0Q2hhaW4iLCJ2ZXJpZnlPcHRpb25zIiwic2VjdXJlQ29udGV4dCIsIlNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwiLCJJbnNlY3VyZUNoYW5uZWxDcmVkZW50aWFsc0ltcGwiLCJjaGFubmVsVGFyZ2V0Iiwic29ja2V0IiwiZ2V0Q29ubmVjdGlvbk9wdGlvbnMiLCJjb25uZWN0aW9uT3B0aW9ucyIsInJlYWxUYXJnZXQiLCJwYXJzZWRUYXJnZXQiLCJ0YXJnZXRQYXRoIiwicmVtb3RlSG9zdCIsInNzbFRhcmdldE5hbWVPdmVycmlkZSIsIm9yaWdpbmFsQ2hlY2tTZXJ2ZXJJZGVudGl0eSIsImNlcnQiLCJTZWN1cmVDb25uZWN0b3JJbXBsIiwidGxzQ29ubmVjdE9wdGlvbnMiLCJ0bHNTb2NrZXQiLCJDZXJ0aWZpY2F0ZVByb3ZpZGVyQ2hhbm5lbENyZWRlbnRpYWxzSW1wbCIsImNhQ2VydGlmaWNhdGVQcm92aWRlciIsImlkZW50aXR5Q2VydGlmaWNhdGVQcm92aWRlciIsIndhdGNoZXIiLCJ1cGRhdGUiLCJwYXJlbnQiLCJjb25ubmVjdGlvbk9wdGlvbnMiLCJjbG9zZUNhbGxiYWNrIiwiZXJyb3JDYWxsYmFjayIsImNoYW5uZWxDcmVkZW50aWFscyIsImNvbWJpbmVkQ2FsbENyZWRlbnRpYWxzIiwiY3JlYXRlQ2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciIsInJlZ2lzdGVyTG9hZEJhbGFuY2VyVHlwZSIsInJlZ2lzdGVyRGVmYXVsdExvYWRCYWxhbmNlclR5cGUiLCJjcmVhdGVMb2FkQmFsYW5jZXIiLCJpc0xvYWRCYWxhbmNlck5hbWVSZWdpc3RlcmVkIiwicGFyc2VMb2FkQmFsYW5jaW5nQ29uZmlnIiwiZ2V0RGVmYXVsdENvbmZpZyIsInNlbGVjdExiQ29uZmlnRnJvbUxpc3QiLCJvdmVycmlkZXMiLCJfZSIsIl9mIiwiX2ciLCJfaCIsIl9qIiwiX2siLCJyZWdpc3RlcmVkTG9hZEJhbGFuY2VyVHlwZXMiLCJkZWZhdWx0TG9hZEJhbGFuY2VyVHlwZSIsInR5cGVOYW1lIiwibG9hZEJhbGFuY2VyVHlwZSIsImxvYWRCYWxhbmNpbmdDb25maWdUeXBlIiwiY29uZmlnIiwiY2hhbm5lbENvbnRyb2xIZWxwZXIiLCJyYXdDb25maWciLCJrZXlzIiwiY29uZmlncyIsImZhbGxiYWNrVG9kZWZhdWx0IiwidmFsaWRhdGVSZXRyeVRocm90dGxpbmciLCJ2YWxpZGF0ZVNlcnZpY2VDb25maWciLCJleHRyYWN0QW5kU2VsZWN0U2VydmljZUNvbmZpZyIsIm9zIiwiRFVSQVRJT05fUkVHRVgiLCJDTElFTlRfTEFOR1VBR0VfU1RSSU5HIiwidmFsaWRhdGVOYW1lIiwidmFsaWRhdGVSZXRyeVBvbGljeSIsInZhbGlkYXRlSGVkZ2luZ1BvbGljeSIsInZhbGlkYXRlTWV0aG9kQ29uZmlnIiwibmFtZSIsInRpbWVvdXRQYXJ0cyIsInZhbGlkYXRlTG9hZEJhbGFuY2luZ0NvbmZpZyIsIm1ldGhvZENvbmZpZyIsInNlZW5NZXRob2ROYW1lcyIsInNlZW5OYW1lIiwidmFsaWRhdGVDYW5hcnlDb25maWciLCJsYW5nIiwiYWxsb3dlZEZpZWxkcyIsImZpZWxkIiwidmFsaWRhdGVBbmRTZWxlY3RDYW5hcnlDb25maWciLCJwZXJjZW50YWdlIiwidmFsaWRhdGVkQ29uZmlnIiwiaG9zdG5hbWVNYXRjaGVkIiwiaG9zdG5hbWUiLCJsYW5ndWFnZU1hdGNoZWQiLCJsYW5ndWFnZSIsInR4dFJlY29yZCIsInJlY29yZCIsInJlY29yZFN0cmluZyIsInJlY29yZEpzb24iLCJDb25uZWN0aXZpdHlTdGF0ZSIsIlBpY2tSZXN1bHRUeXBlIiwiVW5hdmFpbGFibGVQaWNrZXIiLCJzdGF0dXMiLCJwaWNrQXJncyIsIlF1ZXVlUGlja2VyIiwibG9hZEJhbGFuY2VyIiwiY2hpbGRQaWNrZXIiLCJsb2dnaW5nIiwiVFJBQ0VSX05BTUUiLCJJTklUSUFMX0JBQ0tPRkZfTVMiLCJCQUNLT0ZGX01VTFRJUExJRVIiLCJNQVhfQkFDS09GRl9NUyIsIkJBQ0tPRkZfSklUVEVSIiwidW5pZm9ybVJhbmRvbSIsIm1pbiIsIm1heCIsIkJhY2tvZmZUaW1lb3V0IiwiZGVsYXkiLCJuZXh0QmFja29mZiIsImppdHRlck1hZ25pdHVkZSIsIm5vdyIsIm5ld0VuZFRpbWUiLCJsb2FkX2JhbGFuY2VyXzEiLCJjb25uZWN0aXZpdHlfc3RhdGVfMSIsIlRZUEVfTkFNRSIsIkNoaWxkTG9hZEJhbGFuY2VySGFuZGxlciIsInN1YmNoYW5uZWxBZGRyZXNzIiwic3ViY2hhbm5lbEFyZ3MiLCJjb25uZWN0aXZpdHlTdGF0ZSIsInBpY2tlciIsImVycm9yTWVzc2FnZSIsImxhdGVzdENoaWxkIiwibmV3Q2hpbGQiLCJjaGlsZCIsIm9sZENvbmZpZyIsIm5ld0NvbmZpZyIsImVuZHBvaW50TGlzdCIsImxiQ29uZmlnIiwicmVzb2x1dGlvbk5vdGUiLCJjaGlsZFRvVXBkYXRlIiwibmV3SGVscGVyIiwic2VydmljZV9jb25maWdfMSIsInBpY2tlcl8xIiwiYmFja29mZl90aW1lb3V0XzEiLCJyZXF1aXJlJCQ3IiwicmVxdWlyZSQkOCIsImNvbnN0YW50c18yIiwicmVxdWlyZSQkOSIsImxvYWRfYmFsYW5jZXJfY2hpbGRfaGFuZGxlcl8xIiwicmVxdWlyZSQkMTAiLCJOQU1FX01BVENIX0xFVkVMX09SREVSIiwiaGFzTWF0Y2hpbmdOYW1lIiwic2VydmljZSIsIm1ldGhvZCIsIm1hdGNoTGV2ZWwiLCJmaW5kTWF0Y2hpbmdDb25maWciLCJtZXRob2RDb25maWdzIiwiZ2V0RGVmYXVsdENvbmZpZ1NlbGVjdG9yIiwic2VydmljZUNvbmZpZyIsIm1ldGhvZE5hbWUiLCJzcGxpdE5hbWUiLCJ4IiwibWF0Y2hpbmdDb25maWciLCJSZXNvbHZpbmdMb2FkQmFsYW5jZXIiLCJjaGFubmVsT3B0aW9ucyIsIm9uU3VjY2Vzc2Z1bFJlc29sdXRpb24iLCJvbkZhaWxlZFJlc29sdXRpb24iLCJuZXdTdGF0ZSIsImJhY2tvZmZPcHRpb25zIiwiYXR0cmlidXRlcyIsInJlc3VsdEFjY2VwdGVkIiwid29ya2luZ1NlcnZpY2VDb25maWciLCJ3b3JraW5nQ29uZmlnTGlzdCIsImxvYWRCYWxhbmNpbmdDb25maWciLCJjaGFubmVsT3B0aW9uc0VxdWFsIiwib3B0aW9uczEiLCJvcHRpb25zMiIsImtleXMxIiwia2V5czIiLCJpIiwiaXNUY3BTdWJjaGFubmVsQWRkcmVzcyIsInN1YmNoYW5uZWxBZGRyZXNzRXF1YWwiLCJzdWJjaGFubmVsQWRkcmVzc1RvU3RyaW5nIiwic3RyaW5nVG9TdWJjaGFubmVsQWRkcmVzcyIsImVuZHBvaW50RXF1YWwiLCJlbmRwb2ludFRvU3RyaW5nIiwiZW5kcG9pbnRIYXNBZGRyZXNzIiwibmV0XzEiLCJhZGRyZXNzIiwiYWRkcmVzczEiLCJhZGRyZXNzMiIsIkRFRkFVTFRfUE9SVCIsImFkZHJlc3NTdHJpbmciLCJwb3J0IiwiZW5kcG9pbnQxIiwiZW5kcG9pbnQyIiwiZW5kcG9pbnQiLCJleHBlY3RlZEFkZHJlc3MiLCJlbmRwb2ludEVxdWFsVW5vcmRlcmVkIiwibWF0Y2hGb3VuZCIsIkVuZHBvaW50TWFwIiwiZW50cnkiLCJlbmRwb2ludHMiLCJyZW1vdmVkVmFsdWVzIiwiZm91bmRFbnRyeSIsIm1hcEVudHJ5IiwiciIsInQiLCJfXyIsInMiLCJuIiwiaCIsInZlcmIiLCJzdGVwIiwiYSIsIlRyZWVOb2RlIiwiVHJlZU5vZGVFbmFibGVJbmRleCIsIkNvbnRhaW5lckl0ZXJhdG9yIiwiQmFzZSIsIkNvbnRhaW5lciIsIlRyZWVDb250YWluZXIiLCJ1IiwiZiIsIm8iLCJkIiwiYyIsImwiLCJ0cmF2ZXJzYWwiLCJUcmVlSXRlcmF0b3IiLCJPcmRlcmVkTWFwSXRlcmF0b3IiLCJPcmRlcmVkTWFwIiwicmVnaXN0ZXJBZG1pblNlcnZpY2UiLCJhZGRBZG1pblNlcnZpY2VzVG9TZXJ2ZXIiLCJyZWdpc3RlcmVkQWRtaW5TZXJ2aWNlcyIsImdldFNlcnZpY2VEZWZpbml0aW9uIiwiZ2V0SGFuZGxlcnMiLCJjYWxsRXJyb3JGcm9tU3RhdHVzIiwiZXZlbnRzXzEiLCJzdHJlYW1fMSIsImNhbGxlclN0YWNrIiwic3RhY2siLCJDbGllbnRVbmFyeUNhbGxJbXBsIiwiQ2xpZW50UmVhZGFibGVTdHJlYW1JbXBsIiwiZGVzZXJpYWxpemUiLCJfc2l6ZSIsIkNsaWVudFdyaXRhYmxlU3RyZWFtSW1wbCIsInNlcmlhbGl6ZSIsImNodW5rIiwiZW5jb2RpbmciLCJjYiIsImNvbnRleHQiLCJmbGFncyIsIkNsaWVudER1cGxleFN0cmVhbUltcGwiLCJzdGF0dXNPckZyb21WYWx1ZSIsInN0YXR1c09yRnJvbUVycm9yIiwiaXNJbnRlcmNlcHRpbmdMaXN0ZW5lciIsIkludGVyY2VwdGluZ0xpc3RlbmVySW1wbCIsIm5leHRMaXN0ZW5lciIsIm1zZyIsInByb2Nlc3NlZFN0YXR1cyIsImdldEludGVyY2VwdGluZ0NhbGwiLCJjYWxsX2ludGVyZmFjZV8xIiwiSW50ZXJjZXB0b3JDb25maWd1cmF0aW9uRXJyb3IiLCJMaXN0ZW5lckJ1aWxkZXIiLCJvblJlY2VpdmVNZXRhZGF0YSIsIm9uUmVjZWl2ZU1lc3NhZ2UiLCJvblJlY2VpdmVTdGF0dXMiLCJSZXF1ZXN0ZXJCdWlsZGVyIiwic3RhcnQiLCJzZW5kTWVzc2FnZSIsImhhbGZDbG9zZSIsImNhbmNlbCIsImRlZmF1bHRMaXN0ZW5lciIsIm5leHQiLCJkZWZhdWx0UmVxdWVzdGVyIiwiSW50ZXJjZXB0aW5nQ2FsbCIsIm5leHRDYWxsIiwicmVxdWVzdGVyIiwiZGV0YWlscyIsImludGVyY2VwdGluZ0xpc3RlbmVyIiwiZnVsbEludGVyY2VwdGluZ0xpc3RlbmVyIiwibWQiLCJmaW5hbEludGVyY2VwdGluZ0xpc3RlbmVyIiwiZnVsbExpc3RlbmVyIiwiZmluYWxNZXNzYWdlIiwiZ2V0Q2FsbCIsImNoYW5uZWwiLCJkZWFkbGluZSIsInByb3BhZ2F0ZUZsYWdzIiwiY3JlZGVudGlhbHMiLCJjYWxsIiwiQmFzZUludGVyY2VwdGluZ0NhbGwiLCJtZXRob2REZWZpbml0aW9uIiwic2VyaWFsaXplZCIsInJlYWRFcnJvciIsImRlc2VyaWFsaXplZCIsIkJhc2VVbmFyeUludGVyY2VwdGluZ0NhbGwiLCJyZWNlaXZlZE1lc3NhZ2UiLCJ3cmFwcGVyTGlzdGVuZXIiLCJCYXNlU3RyZWFtaW5nSW50ZXJjZXB0aW5nQ2FsbCIsImdldEJvdHRvbUludGVyY2VwdGluZ0NhbGwiLCJpbnRlcmNlcHRvckFyZ3MiLCJpbnRlcmNlcHRvcnMiLCJwcm92aWRlciIsImludGVyY2VwdG9yIiwiaW50ZXJjZXB0b3JPcHRpb25zIiwibmV4dEludGVyY2VwdG9yIiwiY3VycmVudE9wdGlvbnMiLCJmaW5hbE9wdGlvbnMiLCJjYWxsXzEiLCJjaGFubmVsXzEiLCJjbGllbnRfaW50ZXJjZXB0b3JzXzEiLCJDSEFOTkVMX1NZTUJPTCIsIklOVEVSQ0VQVE9SX1NZTUJPTCIsIklOVEVSQ0VQVE9SX1BST1ZJREVSX1NZTUJPTCIsIkNBTExfSU5WT0NBVElPTl9UUkFOU0ZPUk1FUl9TWU1CT0wiLCJpc0Z1bmN0aW9uIiwiYXJnIiwiZ2V0RXJyb3JTdGFja1N0cmluZyIsIkNsaWVudCIsImNoYW5uZWxGYWN0b3J5T3ZlcnJpZGUiLCJjaGVja1N0YXRlIiwiYXJnMSIsImFyZzIiLCJhcmczIiwiYXJndW1lbnQiLCJjaGVja2VkQXJndW1lbnRzIiwiY2FsbFByb3BlcnRpZXMiLCJlbWl0dGVyIiwicmVzcG9uc2VNZXNzYWdlIiwicmVjZWl2ZWRTdGF0dXMiLCJjYWxsZXJTdGFja0Vycm9yIiwic3RyZWFtIiwibWFrZUNsaWVudENvbnN0cnVjdG9yIiwibG9hZFBhY2thZ2VEZWZpbml0aW9uIiwiY2xpZW50XzEiLCJyZXF1ZXN0ZXJGdW5jcyIsImlzUHJvdG90eXBlUG9sbHV0ZWQiLCJtZXRob2RzIiwic2VydmljZU5hbWUiLCJjbGFzc09wdGlvbnMiLCJTZXJ2aWNlQ2xpZW50SW1wbCIsImF0dHJzIiwibWV0aG9kVHlwZSIsIm1ldGhvZEZ1bmMiLCJwYXJ0aWFsIiwiZm4iLCJpc1Byb3RvYnVmVHlwZURlZmluaXRpb24iLCJwYWNrYWdlRGVmIiwic2VydmljZUZxbiIsIm5hbWVDb21wb25lbnRzIiwiY29tcCIsImN1cnJlbnQiLCJwYWNrYWdlTmFtZSIsInN5bWJvbFRhZyIsInJlQXNjaWlXb3JkIiwicmVMYXRpbiIsInJzQXN0cmFsUmFuZ2UiLCJyc0NvbWJvTWFya3NSYW5nZSIsInJzQ29tYm9TeW1ib2xzUmFuZ2UiLCJyc0RpbmdiYXRSYW5nZSIsInJzTG93ZXJSYW5nZSIsInJzTWF0aE9wUmFuZ2UiLCJyc05vbkNoYXJSYW5nZSIsInJzUHVuY3R1YXRpb25SYW5nZSIsInJzU3BhY2VSYW5nZSIsInJzVXBwZXJSYW5nZSIsInJzVmFyUmFuZ2UiLCJyc0JyZWFrUmFuZ2UiLCJyc0Fwb3MiLCJyc0FzdHJhbCIsInJzQnJlYWsiLCJyc0NvbWJvIiwicnNEaWdpdHMiLCJyc0RpbmdiYXQiLCJyc0xvd2VyIiwicnNNaXNjIiwicnNGaXR6IiwicnNNb2RpZmllciIsInJzTm9uQXN0cmFsIiwicnNSZWdpb25hbCIsInJzU3VyclBhaXIiLCJyc1VwcGVyIiwicnNaV0oiLCJyc0xvd2VyTWlzYyIsInJzVXBwZXJNaXNjIiwicnNPcHRMb3dlckNvbnRyIiwicnNPcHRVcHBlckNvbnRyIiwicmVPcHRNb2QiLCJyc09wdFZhciIsInJzT3B0Sm9pbiIsInJzU2VxIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImRlYnVycmVkTGV0dGVycyIsImZyZWVHbG9iYWwiLCJnbG9iYWwiLCJmcmVlU2VsZiIsInJvb3QiLCJhcnJheVJlZHVjZSIsImFycmF5IiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImluaXRBY2N1bSIsImxlbmd0aCIsImFzY2lpVG9BcnJheSIsInN0cmluZyIsImFzY2lpV29yZHMiLCJiYXNlUHJvcGVydHlPZiIsIm9iamVjdCIsImRlYnVyckxldHRlciIsImhhc1VuaWNvZGUiLCJoYXNVbmljb2RlV29yZCIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsInVuaWNvZGVXb3JkcyIsIm9iamVjdFByb3RvIiwib2JqZWN0VG9TdHJpbmciLCJTeW1ib2wiLCJzeW1ib2xQcm90byIsInN5bWJvbFRvU3RyaW5nIiwiYmFzZVNsaWNlIiwiZW5kIiwiYmFzZVRvU3RyaW5nIiwiaXNTeW1ib2wiLCJjYXN0U2xpY2UiLCJjcmVhdGVDYXNlRmlyc3QiLCJ0b1N0cmluZyIsInN0clN5bWJvbHMiLCJjaHIiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJ3b3JkcyIsImRlYnVyciIsImlzT2JqZWN0TGlrZSIsImNhbWVsQ2FzZSIsIndvcmQiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsInBhdHRlcm4iLCJndWFyZCIsImFzUHJvbWlzZSIsImN0eCIsInBhcmFtcyIsIm9mZnNldCIsInBlbmRpbmciLCJiYXNlNjQiLCJiNjQiLCJzNjQiLCJidWZmZXIiLCJwYXJ0cyIsImoiLCJiIiwiaW52YWxpZEVuY29kaW5nIiwiRXZlbnRFbWl0dGVyIiwiZXZ0IiwibGlzdGVuZXJzIiwiZmFjdG9yeSIsImYzMiIsImY4YiIsImxlIiwid3JpdGVGbG9hdF9mMzJfY3B5IiwiYnVmIiwicG9zIiwid3JpdGVGbG9hdF9mMzJfcmV2IiwicmVhZEZsb2F0X2YzMl9jcHkiLCJyZWFkRmxvYXRfZjMyX3JldiIsIndyaXRlRmxvYXRfaWVlZTc1NCIsIndyaXRlVWludCIsInNpZ24iLCJleHBvbmVudCIsIm1hbnRpc3NhIiwid3JpdGVVaW50TEUiLCJ3cml0ZVVpbnRCRSIsInJlYWRGbG9hdF9pZWVlNzU0IiwicmVhZFVpbnQiLCJ1aW50IiwicmVhZFVpbnRMRSIsInJlYWRVaW50QkUiLCJmNjQiLCJ3cml0ZURvdWJsZV9mNjRfY3B5Iiwid3JpdGVEb3VibGVfZjY0X3JldiIsInJlYWREb3VibGVfZjY0X2NweSIsInJlYWREb3VibGVfZjY0X3JldiIsIndyaXRlRG91YmxlX2llZWU3NTQiLCJvZmYwIiwib2ZmMSIsInJlYWREb3VibGVfaWVlZTc1NCIsImxvIiwiaGkiLCJ1dGY4IiwibGVuIiwiYzEiLCJjMiIsInBvb2wiLCJhbGxvYyIsInNsaWNlIiwic2l6ZSIsIlNJWkUiLCJNQVgiLCJzbGFiIiwiTG9uZ0JpdHMiLCJ1dGlsIiwiemVybyIsInplcm9IYXNoIiwidW5zaWduZWQiLCJjaGFyQ29kZUF0IiwiaGFzaCIsIm1hc2siLCJwYXJ0MCIsInBhcnQxIiwicGFydDIiLCJ0aGlzIiwicHJvcCIsIkJ1ZmZlciIsInNpemVPckFycmF5IiwiYml0cyIsIm1lcmdlIiwiZHN0Iiwic3JjIiwiaWZOb3RTZXQiLCJzdHIiLCJuZXdFcnJvciIsIkN1c3RvbUVycm9yIiwicHJvcGVydGllcyIsImZpZWxkTmFtZXMiLCJmaWVsZE1hcCIsIldyaXRlciIsIkJ1ZmZlcldyaXRlciIsIk9wIiwibm9vcCIsIlN0YXRlIiwid3JpdGVyIiwiY3JlYXRlIiwid3JpdGVCeXRlIiwid3JpdGVWYXJpbnQzMiIsIlZhcmludE9wIiwid3JpdGVWYXJpbnQ2NCIsIndyaXRlRml4ZWQzMiIsIndyaXRlQnl0ZXMiLCJoZWFkIiwidGFpbCIsIkJ1ZmZlcldyaXRlcl8iLCJ3cml0ZVN0cmluZ0J1ZmZlciIsIlJlYWRlciIsIkJ1ZmZlclJlYWRlciIsImluZGV4T3V0T2ZSYW5nZSIsInJlYWRlciIsIndyaXRlTGVuZ3RoIiwiY3JlYXRlX2FycmF5IiwicmVhZExvbmdWYXJpbnQiLCJyZWFkRml4ZWQzMl9lbmQiLCJyZWFkRml4ZWQ2NCIsIm5hdGl2ZUJ1ZmZlciIsImJ5dGVzIiwid2lyZVR5cGUiLCJCdWZmZXJSZWFkZXJfIiwiU2VydmljZSIsInJwY0ltcGwiLCJyZXF1ZXN0RGVsaW1pdGVkIiwicmVzcG9uc2VEZWxpbWl0ZWQiLCJycGNDYWxsIiwicmVxdWVzdEN0b3IiLCJyZXNwb25zZUN0b3IiLCJyZXF1ZXN0Iiwic2VsZiIsInJlc3BvbnNlIiwiZW5kZWRCeVJQQyIsInJwYyIsInByb3RvYnVmIiwiY29uZmlndXJlIiwiY29kZWdlbiIsImZ1bmN0aW9uUGFyYW1zIiwiZnVuY3Rpb25OYW1lIiwiYm9keSIsIkNvZGVnZW4iLCJmb3JtYXRTdHJpbmdPclNjb3BlIiwic291cmNlIiwic2NvcGVLZXlzIiwic2NvcGVQYXJhbXMiLCJzY29wZVZhbHVlcyIsInNjb3BlT2Zmc2V0IiwiZm9ybWF0UGFyYW1zIiwiZm9ybWF0T2Zmc2V0IiwiJDAiLCIkMSIsImZ1bmN0aW9uTmFtZU92ZXJyaWRlIiwiZmV0Y2giLCJpbnF1aXJlIiwiZmlsZW5hbWUiLCJjb250ZW50cyIsInhociIsImlzQWJzb2x1dGUiLCJub3JtYWxpemUiLCJhYnNvbHV0ZSIsInByZWZpeCIsIm9yaWdpblBhdGgiLCJpbmNsdWRlUGF0aCIsImFscmVhZHlOb3JtYWxpemVkIiwiTmFtZXNwYWNlIiwiUmVmbGVjdGlvbk9iamVjdCIsIkZpZWxkIiwiT25lT2YiLCJUeXBlIiwiRW51bSIsImpzb24iLCJhcnJheVRvSlNPTiIsInRvSlNPTk9wdGlvbnMiLCJyZXNlcnZlZCIsImlkIiwiY2xlYXJDYWNoZSIsIm5lc3RlZEpzb24iLCJucyIsIm5hbWVzIiwibmVzdGVkIiwicHJldiIsInB0ciIsInBhcnQiLCJlZGl0aW9uIiwiZmlsdGVyVHlwZXMiLCJwYXJlbnRBbHJlYWR5Q2hlY2tlZCIsImZsYXRQYXRoIiwiZm91bmQiLCJleGFjdCIsIlR5cGVfIiwiU2VydmljZV8iLCJFbnVtXyIsIk1hcEZpZWxkIiwidHlwZXMiLCJrZXlUeXBlIiwidHlwZSIsImNvbW1lbnQiLCJrZWVwQ29tbWVudHMiLCJmaWVsZElkIiwiZmllbGRLZXlUeXBlIiwiZmllbGRWYWx1ZVR5cGUiLCJwcm90b3R5cGUiLCJmaWVsZE5hbWUiLCJNZXRob2QiLCJyZXF1ZXN0VHlwZSIsInJlc3BvbnNlVHlwZSIsInJlcXVlc3RTdHJlYW0iLCJyZXNwb25zZVN0cmVhbSIsInBhcnNlZE9wdGlvbnMiLCJpbmhlcml0ZWQiLCJycGNTZXJ2aWNlIiwiTWVzc2FnZSIsImRlY29kZXIiLCJtaXNzaW5nIiwibXR5cGUiLCJyZWYiLCJyZmllbGQiLCJ2ZXJpZmllciIsImludmFsaWQiLCJleHBlY3RlZCIsImdlblZlcmlmeVZhbHVlIiwiZmllbGRJbmRleCIsImdlblZlcmlmeUtleSIsIm9uZW9mcyIsInNlZW5GaXJzdEZpZWxkIiwib25lb2ZQcm9wIiwiY29udmVydGVyIiwiZ2VuVmFsdWVQYXJ0aWFsX2Zyb21PYmplY3QiLCJkZWZhdWx0QWxyZWFkeUVtaXR0ZWQiLCJpc1Vuc2lnbmVkIiwiZmllbGRzIiwiZ2VuVmFsdWVQYXJ0aWFsX3RvT2JqZWN0IiwicmVwZWF0ZWRGaWVsZHMiLCJtYXBGaWVsZHMiLCJub3JtYWxGaWVsZHMiLCJhcnJheURlZmF1bHQiLCJoYXNLczIiLCJ3cmFwcGVycyIsInR5cGVfdXJsIiwiZ29vZ2xlQXBpIiwibWVzc2FnZU5hbWUiLCJlbmNvZGVyIiwicmVxdWlyZSQkMTEiLCJyZXF1aXJlJCQxMiIsInJlcXVpcmUkJDEzIiwicmVxdWlyZSQkMTQiLCJjdG9yIiwiY3RvclByb3BlcnRpZXMiLCJvbmVvZiIsImZ1bGxOYW1lIiwid3JhcHBlciIsIm9yaWdpbmFsVGhpcyIsIlJvb3QiLCJwYXJzZSIsImNvbW1vbiIsIlNZTkMiLCJsb2FkIiwic3luYyIsImZpbmlzaCIsImdldEJ1bmRsZWRGaWxlTmFtZSIsImlkeCIsImFsdG5hbWUiLCJwcm9jZXNzIiwicGFyc2VkIiwicmVzb2x2ZWQiLCJxdWV1ZWQiLCJ3ZWFrIiwiZXhwb3NlUmUiLCJ0cnlIYW5kbGVFeHRlbnNpb24iLCJleHRlbmRlZFR5cGUiLCJzaXN0ZXJGaWVsZCIsInBhcnNlXyIsImNvbW1vbl8iLCJ1dGlsTW9kdWxlIiwicm9vdHMiLCJzYWZlUHJvcEJhY2tzbGFzaFJlIiwic2FmZVByb3BRdW90ZVJlIiwiY2FtZWxDYXNlUmUiLCJkZWNvcmF0ZUVudW1JbmRleCIsImVubSIsInNldFByb3AiLCJwcmV2VmFsdWUiLCJiYWtlIiwicnVsZVJlIiwicnVsZSIsImV4dGVuZCIsImZlYXR1cmVzIiwiZmllbGRUeXBlIiwiZmllbGRSdWxlIiwiZGVmYXVsdFZhbHVlIiwiYWRkRmllbGRzVG9QYXJlbnQiLCJvbmVvZk5hbWUiLCJlZGl0aW9uczIwMjNEZWZhdWx0cyIsInByb3RvMkRlZmF1bHRzIiwicHJvdG8zRGVmYXVsdHMiLCJkZWZhdWx0cyIsInByb3RvRmVhdHVyZXMiLCJsZXhpY2FsUGFyZW50RmVhdHVyZXNDb3B5IiwicGFyZW50RmVhdHVyZXNDb3B5IiwicHJvcE5hbWUiLCJvcHQiLCJuZXdWYWx1ZSIsIm5ld09wdCIsImNsYXNzTmFtZSIsIlJvb3RfIiwiY29tbWVudHMiLCJ2YWx1ZXNPcHRpb25zIiwiZ2VuVHlwZVBhcnRpYWwiLCJpbmRleExpZ2h0TW9kdWxlIiwibG9hZFN5bmMiLCJyZXF1aXJlJCQxNSIsInJlcXVpcmUkJDE2IiwicmVxdWlyZSQkMTciLCJyZXF1aXJlJCQxOCIsInRva2VuaXplIiwiZGVsaW1SZSIsInN0cmluZ0RvdWJsZVJlIiwic3RyaW5nU2luZ2xlUmUiLCJzZXRDb21tZW50UmUiLCJzZXRDb21tZW50QWx0UmUiLCJzZXRDb21tZW50U3BsaXRSZSIsIndoaXRlc3BhY2VSZSIsInVuZXNjYXBlUmUiLCJ1bmVzY2FwZU1hcCIsInVuZXNjYXBlIiwiYWx0ZXJuYXRlQ29tbWVudE1vZGUiLCJsaW5lIiwibGFzdENvbW1lbnRMaW5lIiwic3RyaW5nRGVsaW0iLCJpbGxlZ2FsIiwic3ViamVjdCIsInJlYWRTdHJpbmciLCJyZSIsIm1hdGNoIiwicHVzaCIsImNoYXJBdCIsInNldENvbW1lbnQiLCJpc0xlYWRpbmciLCJsb29rYmFjayIsImNvbW1lbnRPZmZzZXQiLCJsaW5lcyIsImlzRG91YmxlU2xhc2hDb21tZW50TGluZSIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0IiwiZmluZEVuZE9mTGluZSIsImxpbmVUZXh0IiwiaXNDb21tZW50IiwiY3Vyc29yIiwicmVwZWF0IiwiY3VyciIsImlzRG9jIiwiaXNMZWFkaW5nQ29tbWVudCIsImRlbGltIiwidG9rZW4iLCJwZWVrIiwic2tpcCIsIm9wdGlvbmFsIiwiYWN0dWFsIiwiZXF1YWxzIiwiY21udCIsInRyYWlsaW5nTGluZSIsInJldCIsImJhc2UxMFJlIiwiYmFzZTEwTmVnUmUiLCJiYXNlMTZSZSIsImJhc2UxNk5lZ1JlIiwiYmFzZThSZSIsImJhc2U4TmVnUmUiLCJudW1iZXJSZSIsIm5hbWVSZSIsInR5cGVSZWZSZSIsInByZWZlclRyYWlsaW5nQ29tbWVudCIsInRuIiwicGtnIiwiaW1wb3J0cyIsIndlYWtJbXBvcnRzIiwidG9wTGV2ZWxPYmplY3RzIiwidG9wTGV2ZWxPcHRpb25zIiwiYXBwbHlDYXNlIiwicmVzb2x2ZUZpbGVGZWF0dXJlcyIsImluc2lkZVRyeUNhdGNoIiwicmVhZFZhbHVlIiwiYWNjZXB0VHlwZVJlZiIsInBhcnNlTnVtYmVyIiwicmVhZFJhbmdlcyIsImFjY2VwdFN0cmluZ3MiLCJwYXJzZUlkIiwiZHVtbXkiLCJpZkJsb2NrIiwicGFyc2VPcHRpb24iLCJwYXJzZUlubGluZU9wdGlvbnMiLCJhY2NlcHROZWdhdGl2ZSIsInBhcnNlUGFja2FnZSIsInBhcnNlSW1wb3J0Iiwid2hpY2hJbXBvcnRzIiwicGFyc2VTeW50YXgiLCJwYXJzZUVkaXRpb24iLCJwYXJzZUNvbW1vbiIsInBhcnNlVHlwZSIsInBhcnNlRW51bSIsInBhcnNlU2VydmljZSIsInBhcnNlRXh0ZW5zaW9uIiwiZm5JZiIsImZuRWxzZSIsInBhcnNlTWFwRmllbGQiLCJwYXJzZUZpZWxkIiwicGFyc2VPbmVPZiIsInBhcnNlR3JvdXAiLCJ2YWx1ZVR5cGUiLCJwYXJzZUVudW1WYWx1ZSIsIm9wdGlvbiIsImlzT3B0aW9uIiwicGFyZW5zVmFsdWUiLCJ0b2tlbnMiLCJvcHRpb25WYWx1ZSIsInBhcnNlT3B0aW9uVmFsdWUiLCJzZXRQYXJzZWRPcHRpb24iLCJvYmplY3RSZXN1bHQiLCJsYXN0VmFsdWUiLCJzZXRPcHRpb24iLCJzaW1wbGVWYWx1ZSIsInBhcnNlTWV0aG9kIiwiY29tbWVudFRleHQiLCJyZWZlcmVuY2UiLCJjb21tb25SZSIsInRpbWVUeXBlIiwiZmlsZSIsInNyY01vZHVsZSIsIiRwcm90b2J1ZiIsIm1vZHVsZSIsImRlc2NyaXB0b3IiLCJmaWxlRGVzY3JpcHRvciIsImZpbGVQYWNrYWdlIiwiZWRpdGlvbkZyb21EZXNjcmlwdG9yIiwib3B0cyIsImZyb21EZXNjcmlwdG9yT3B0aW9ucyIsImtzIiwic2V0IiwiUm9vdF90b0Rlc2NyaXB0b3JSZWN1cnNpdmUiLCJmaWxlcyIsImVkaXRpb25Ub0Rlc2NyaXB0b3IiLCJ0b0Rlc2NyaXB0b3JPcHRpb25zIiwidW5uYW1lZE1lc3NhZ2VJbmRleCIsImZpZWxkRGVzY3JpcHRvciIsInRvRGVzY3JpcHRvclR5cGUiLCJ2YWx1ZVR5cGVOYW1lIiwic2hvcnRuYW1lIiwiZnJvbURlc2NyaXB0b3JUeXBlIiwiZXh0ZW5kZWUiLCJwYWNrYWJsZURlc2NyaXB0b3JUeXBlIiwidW5uYW1lZEVudW1JbmRleCIsInVubmFtZWRPbmVvZkluZGV4IiwidW5uYW1lZFNlcnZpY2VJbmRleCIsInVubmFtZWRNZXRob2RJbmRleCIsInJlc29sdmVkVHlwZSIsImRlbGltaXRlZCIsImZyb21EZXNjcmlwdG9yT3B0aW9uc1JlY3Vyc2l2ZSIsIm5ld0tleSIsInVuZGVyU2NvcmUiLCJ0b0Rlc2NyaXB0b3JPcHRpb25zUmVjdXJzaXZlIiwiZnJvbSIsInRvIiwiZnJvbVBhdGgiLCJ0b1BhdGgiLCJrIiwiUHJvdG9idWYiLCJhZGRJbmNsdWRlUGF0aFJlc29sdmVyIiwiaW5jbHVkZVBhdGhzIiwib3JpZ2luYWxSZXNvbHZlUGF0aCIsIm9yaWdpbiIsImRpcmVjdG9yeSIsImZ1bGxQYXRoIiwibG9hZFByb3Rvc1dpdGhPcHRpb25zIiwibG9hZGVkUm9vdCIsImxvYWRQcm90b3NXaXRoT3B0aW9uc1N5bmMiLCJhZGRDb21tb25Qcm90b3MiLCJhcGlEZXNjcmlwdG9yIiwiZGVzY3JpcHRvckRlc2NyaXB0b3IiLCJzb3VyY2VDb250ZXh0RGVzY3JpcHRvciIsInR5cGVEZXNjcmlwdG9yIiwidXRpbF8xIiwiTG9uZyIsImlzQW55RXh0ZW5zaW9uIiwiSWRlbXBvdGVuY3lMZXZlbCIsImRlc2NyaXB0b3JPcHRpb25zIiwiam9pbk5hbWUiLCJiYXNlTmFtZSIsImlzSGFuZGxlZFJlZmxlY3Rpb25PYmplY3QiLCJpc05hbWVzcGFjZUJhc2UiLCJnZXRBbGxIYW5kbGVkUmVmbGVjdGlvbk9iamVjdHMiLCJwYXJlbnROYW1lIiwib2JqTmFtZSIsImN1cnJlbnRWYWx1ZSIsImNyZWF0ZURlc2VyaWFsaXplciIsImNscyIsImFyZ0J1ZiIsImNyZWF0ZVNlcmlhbGl6ZXIiLCJtYXBNZXRob2RPcHRpb25zIiwiaXRlbSIsImNyZWF0ZU1ldGhvZERlZmluaXRpb24iLCJmaWxlRGVzY3JpcHRvcnMiLCJjcmVhdGVNZXNzYWdlRGVmaW5pdGlvbiIsImNyZWF0ZVNlcnZpY2VEZWZpbml0aW9uIiwiZGVmIiwibWVzc2FnZURlc2NyaXB0b3IiLCJjcmVhdGVFbnVtRGVmaW5pdGlvbiIsImVudW1UeXBlIiwiZW51bURlc2NyaXB0b3IiLCJjcmVhdGVEZWZpbml0aW9uIiwiY3JlYXRlUGFja2FnZURlZmluaXRpb24iLCJidWZmZXJMaXN0IiwiY3JlYXRlUGFja2FnZURlZmluaXRpb25Gcm9tRGVzY3JpcHRvclNldCIsImRlY29kZWREZXNjcmlwdG9yU2V0IiwiZnJvbUpTT04iLCJsb2FkRmlsZURlc2NyaXB0b3JTZXRGcm9tQnVmZmVyIiwiZGVzY3JpcHRvclNldCIsImxvYWRGaWxlRGVzY3JpcHRvclNldEZyb21PYmplY3QiLCJ1bnJlZ2lzdGVyQ2hhbm5lbHpSZWYiLCJnZXRDaGFubmVsekhhbmRsZXJzIiwiZ2V0Q2hhbm5lbHpTZXJ2aWNlRGVmaW5pdGlvbiIsInNldHVwIiwib3JkZXJlZF9tYXBfMSIsInN1YmNoYW5uZWxfYWRkcmVzc18xIiwiYWRtaW5fMSIsIm1ha2VfY2xpZW50XzEiLCJjaGFubmVsUmVmVG9NZXNzYWdlIiwic3ViY2hhbm5lbFJlZlRvTWVzc2FnZSIsInNlcnZlclJlZlRvTWVzc2FnZSIsInNvY2tldFJlZlRvTWVzc2FnZSIsIlRBUkdFVF9SRVRBSU5FRF9UUkFDRVMiLCJERUZBVUxUX01BWF9SRVNVTFRTIiwiQ2hhbm5lbHpUcmFjZVN0dWIiLCJkYXRlVG9Qcm90b1RpbWVzdGFtcCIsIkNoYW5uZWx6VHJhY2UiLCJkZXNjcmlwdGlvbiIsInRpbWVzdGFtcCIsImV2ZW50IiwiQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXIiLCJ0cmFja2VyIiwidHJhY2tlZENoaWxkIiwiQ2hhbm5lbHpDaGlsZHJlblRyYWNrZXJTdHViIiwiQ2hhbm5lbHpDYWxsVHJhY2tlciIsIkNoYW5uZWx6Q2FsbFRyYWNrZXJTdHViIiwiZW50aXR5TWFwcyIsImdlbmVyYXRlUmVnaXN0ZXJGbiIsImtpbmQiLCJuZXh0SWQiLCJnZXROZXh0SWQiLCJlbnRpdHlNYXAiLCJnZXRJbmZvIiwiY2hhbm5lbHpFbmFibGVkIiwicGFyc2VJUHY2U2VjdGlvbiIsImFkZHJlc3NTZWN0aW9uIiwibnVtYmVyVmFsdWUiLCJwYXJzZUlQdjZDaHVuayIsImFkZHJlc3NDaHVuayIsImJ5dGVQYWlycyIsInNlY3Rpb24iLCJpc0lQdjZNYXBwZWRJUHY0IiwiaXBBZGRyZXNzIiwiaXB2NEFkZHJlc3NTdHJpbmdUb0J1ZmZlciIsInNlZ21lbnQiLCJpcEFkZHJlc3NTdHJpbmdUb0J1ZmZlciIsImxlZnRTZWN0aW9uIiwicmlnaHRTZWN0aW9uIiwiZG91YmxlQ29sb25JbmRleCIsImxlZnRCdWZmZXIiLCJyaWdodEJ1ZmZlciIsIm1pZGRsZUJ1ZmZlciIsImNvbm5lY3Rpdml0eVN0YXRlVG9NZXNzYWdlIiwic3RhdGUiLCJkYXRlIiwibWlsbGlzU2luY2VFcG9jaCIsImdldENoYW5uZWxNZXNzYWdlIiwiY2hhbm5lbEVudHJ5IiwicmVzb2x2ZWRJbmZvIiwiY2hhbm5lbFJlZiIsInN1YmNoYW5uZWxSZWYiLCJlbCIsIkdldENoYW5uZWwiLCJjaGFubmVsSWQiLCJHZXRUb3BDaGFubmVscyIsIm1heFJlc3VsdHMiLCJyZXN1bHRMaXN0Iiwic3RhcnRJZCIsImNoYW5uZWxFbnRyaWVzIiwiZ2V0U2VydmVyTWVzc2FnZSIsInNlcnZlckVudHJ5IiwibGlzdGVuU29ja2V0IiwiR2V0U2VydmVyIiwic2VydmVySWQiLCJHZXRTZXJ2ZXJzIiwic2VydmVyRW50cmllcyIsIkdldFN1YmNoYW5uZWwiLCJzdWJjaGFubmVsSWQiLCJzdWJjaGFubmVsRW50cnkiLCJzdWJjaGFubmVsTWVzc2FnZSIsInN1YmNoYW5uZWxBZGRyZXNzVG9BZGRyZXNzTWVzc2FnZSIsIkdldFNvY2tldCIsInNvY2tldElkIiwic29ja2V0RW50cnkiLCJzZWN1cml0eU1lc3NhZ2UiLCJzb2NrZXRNZXNzYWdlIiwiR2V0U2VydmVyU29ja2V0cyIsImFsbFNvY2tldHMiLCJsb2FkZWRDaGFubmVsekRlZmluaXRpb24iLCJsb2FkZXJMb2FkU3luYyIsImxvYWRlZFByb3RvIiwiZ2V0TmV4dENhbGxOdW1iZXIiLCJuZXh0Q2FsbE51bWJlciIsIkNvbXByZXNzaW9uQWxnb3JpdGhtcyIsIkJhc2VGaWx0ZXIiLCJ6bGliIiwiY29tcHJlc3Npb25fYWxnb3JpdGhtc18xIiwiZmlsdGVyXzEiLCJpc0NvbXByZXNzaW9uQWxnb3JpdGhtS2V5IiwiQ29tcHJlc3Npb25IYW5kbGVyIiwiY29tcHJlc3MiLCJtZXNzYWdlQnVmZmVyIiwib3V0cHV0IiwiZGF0YSIsImNvbXByZXNzZWQiLCJJZGVudGl0eUhhbmRsZXIiLCJEZWZsYXRlSGFuZGxlciIsIm1heFJlY3ZNZXNzYWdlTGVuZ3RoIiwidG90YWxMZW5ndGgiLCJtZXNzYWdlUGFydHMiLCJkZWNvbXByZXNzZXIiLCJHemlwSGFuZGxlciIsIlVua25vd25IYW5kbGVyIiwiY29tcHJlc3Npb25OYW1lIiwiZ2V0Q29tcHJlc3Npb25IYW5kbGVyIiwibWF4UmVjZWl2ZU1lc3NhZ2VTaXplIiwiQ29tcHJlc3Npb25GaWx0ZXIiLCJzaGFyZWRGaWx0ZXJDb25maWciLCJjb21wcmVzc2lvbkFsZ29yaXRobUtleSIsImNsaWVudFNlbGVjdGVkRW5jb2RpbmciLCJzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3MiLCJyZWNlaXZlRW5jb2RpbmciLCJzZXJ2ZXJTdXBwb3J0ZWRFbmNvZGluZ3NIZWFkZXIiLCJyZXNvbHZlZE1lc3NhZ2UiLCJDb21wcmVzc2lvbkZpbHRlckZhY3RvcnkiLCJyZXN0cmljdENvbnRyb2xQbGFuZVN0YXR1c0NvZGUiLCJJTkFQUFJPUFJJQVRFX0NPTlRST0xfUExBTkVfQ09ERVMiLCJjb2RlIiwibWluRGVhZGxpbmUiLCJnZXREZWFkbGluZVRpbWVvdXRTdHJpbmciLCJnZXRSZWxhdGl2ZVRpbWVvdXQiLCJkZWFkbGluZVRvU3RyaW5nIiwiZm9ybWF0RGF0ZURpZmZlcmVuY2UiLCJkZWFkbGluZUxpc3QiLCJtaW5WYWx1ZSIsImRlYWRsaW5lTXNlY3MiLCJ1bml0cyIsInRpbWVvdXRNcyIsInVuaXQiLCJmYWN0b3IiLCJhbW91bnQiLCJNQVhfVElNRU9VVF9USU1FIiwiZGVhZGxpbmVNcyIsInRpbWVvdXQiLCJkYXRlRGVhZGxpbmUiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiRmlsdGVyU3RhY2siLCJmaWx0ZXJzIiwiRmlsdGVyU3RhY2tGYWN0b3J5IiwiZmFjdG9yaWVzIiwiZmlsdGVyRmFjdG9yaWVzIiwiY2FsbF9udW1iZXJfMSIsImNoYW5uZWx6XzEiLCJjb21wcmVzc2lvbl9maWx0ZXJfMSIsImNvbnRyb2xfcGxhbmVfc3RhdHVzXzEiLCJkZWFkbGluZV8xIiwiZmlsdGVyX3N0YWNrXzEiLCJTdWJjaGFubmVsQ2FsbFdyYXBwZXIiLCJzdWJjaGFubmVsIiwiZmlsdGVyU3RhY2tGYWN0b3J5IiwiY2FsbE51bWJlciIsImZpbHRlcmVkTWV0YWRhdGEiLCJjcmVkc01ldGFkYXRhIiwiY2hpbGRMaXN0ZW5lciIsImZpbHRlcmVkTWVzc2FnZSIsImZpbHRlcmVkU3RhdHVzIiwiU2luZ2xlU3ViY2hhbm5lbENoYW5uZWwiLCJ0cnlUb0Nvbm5lY3QiLCJjdXJyZW50U3RhdGUiLCJjYWxsT3B0aW9ucyIsInNpbmdsZV9zdWJjaGFubmVsX2NoYW5uZWxfMSIsIktFRVBBTElWRV9NQVhfVElNRV9NUyIsIlN1YmNoYW5uZWwiLCJjb25uZWN0b3IiLCJhZGp1c3RlZEtlZXBhbGl2ZVRpbWUiLCJ0cmFuc3BvcnQiLCJ0b29NYW55UGluZ3MiLCJvbGRTdGF0ZXMiLCJwcmV2aW91c1N0YXRlIiwic3RhdHNUcmFja2VyIiwibmV3S2VlcGFsaXZlVGltZSIsImRhdGFXYXRjaGVyIiwiY3JlYXRlRGF0YVByb2R1Y2VyIiwiZXhpc3RpbmdQcm9kdWNlciIsIm5ld1Byb2R1Y2VyIiwiZG5zXzEiLCJlbnZpcm9ubWVudF8xIiwiREVGQVVMVF9NSU5fVElNRV9CRVRXRUVOX1JFU09MVVRJT05TX01TIiwiRG5zUmVzb2x2ZXIiLCJhZGRyZXNzTGlzdCIsImFsbEFkZHJlc3Nlc1N0cmluZyIsImFkZHIiLCJoZWFsdGhTdGF0dXMiLCJyZWNvcmRzIiwiYWNjIiwicGFyc2VDSURSIiwibWFwUHJveHlOYW1lIiwiZ2V0UHJveGllZENvbm5lY3Rpb24iLCJodHRwIiwidXJsXzEiLCJyZXNvbHZlcl9kbnNfMSIsImdldFByb3h5SW5mbyIsInByb3h5RW52IiwiZW52VmFyIiwicHJveHlVcmwiLCJ1c2VyQ3JlZCIsImdldE5vUHJveHlIb3N0TGlzdCIsIm5vUHJveHlTdHIiLCJjaWRyU3RyaW5nIiwic3BsaXRSYW5nZSIsInByZWZpeExlbmd0aCIsImlwVG9JbnQiLCJpcCIsIm9jdGV0IiwiaXNJcEluQ0lEUiIsImNpZHIiLCJzZXJ2ZXJIb3N0IiwiaG9zdE1hdGNoZXNOb1Byb3h5TGlzdCIsInBhcnNlZENJRFIiLCJub1Byb3h5UmVzdWx0IiwicHJveHlJbmZvIiwiZXh0cmFPcHRpb25zIiwic3BsaXRIb3N0UG9zdCIsInByb3h5QWRkcmVzc1N0cmluZyIsIlJlYWRTdGF0ZSIsIlN0cmVhbURlY29kZXIiLCJtYXhSZWFkTWVzc2FnZUxlbmd0aCIsInJlYWRIZWFkIiwidG9SZWFkIiwiZnJhbWVkTWVzc2FnZUJ1ZmZlcnMiLCJmcmFtZWRNZXNzYWdlIiwiaHR0cDIiLCJzdHJlYW1fZGVjb2Rlcl8xIiwiZ2V0U3lzdGVtRXJyb3JOYW1lIiwiZXJybm8iLCJudW0iLCJtYXBIdHRwU3RhdHVzQ29kZSIsIm1hcHBlZFN0YXR1c0NvZGUiLCJIdHRwMlN1YmNoYW5uZWxDYWxsIiwiaHR0cDJTdHJlYW0iLCJjYWxsRXZlbnRUcmFja2VyIiwiY2FsbElkIiwibWF4UmVjZWl2ZU1lc3NhZ2VMZW5ndGgiLCJoZWFkZXJzU3RyaW5nIiwiaGVhZGVyIiwibWVzc2FnZXMiLCJtYXBwZWRTdGF0dXMiLCJtZXNzYWdlQnl0ZXMiLCJtZXRhZGF0YU1hcCIsIm5leHRNZXNzYWdlIiwiaHR0cF9wcm94eV8xIiwibmV0Iiwic3ViY2hhbm5lbF9jYWxsXzEiLCJGTE9XX0NPTlRST0xfVFJBQ0VSX05BTUUiLCJIVFRQMl9IRUFERVJfQVVUSE9SSVRZIiwiSFRUUDJfSEVBREVSX0NPTlRFTlRfVFlQRSIsIkhUVFAyX0hFQURFUl9NRVRIT0QiLCJIVFRQMl9IRUFERVJfUEFUSCIsIkhUVFAyX0hFQURFUl9URSIsIkhUVFAyX0hFQURFUl9VU0VSX0FHRU5UIiwiS0VFUEFMSVZFX1RJTUVPVVRfTVMiLCJ0b29NYW55UGluZ3NEYXRhIiwiSHR0cDJUcmFuc3BvcnQiLCJzZXNzaW9uIiwicmVtb3RlTmFtZSIsImVycm9yQ29kZSIsImxhc3RTdHJlYW1JRCIsIm9wYXF1ZURhdGEiLCJoYWRFcnJvciIsInNldHRpbmdzIiwic2Vzc2lvblNvY2tldCIsInJlbW90ZUFkZHJlc3MiLCJsb2NhbEFkZHJlc3MiLCJ0bHNJbmZvIiwiY2lwaGVySW5mbyIsImNlcnRpZmljYXRlIiwicGVlckNlcnRpZmljYXRlIiwicGluZ1NlbmRFcnJvciIsImR1cmF0aW9uIiwicGF5bG9hZCIsInN1YmNoYW5uZWxDYWxsU3RhdHNUcmFja2VyIiwiZXZlbnRUcmFja2VyIiwic3VjY2VzcyIsIkh0dHAyU3ViY2hhbm5lbENvbm5lY3RvciIsInNlY3VyZUNvbm5lY3RSZXN1bHQiLCJjbG9zZUhhbmRsZXIiLCJyZXBvcnRlZEVycm9yIiwiZXJyb3JIYW5kbGVyIiwic2Vzc2lvbk9wdGlvbnMiLCJhdXRob3JpdHkiLCJkZWZhdWx0V2luIiwiY29ubldpbiIsImRlbHRhIiwicHJveGllZFNvY2tldCIsInNlY3VyZUNvbm5lY3RvciIsInRjcENvbm5lY3Rpb24iLCJnZXRTdWJjaGFubmVsUG9vbCIsImNoYW5uZWxfb3B0aW9uc18xIiwic3ViY2hhbm5lbF8xIiwidHJhbnNwb3J0XzEiLCJSRUZfQ0hFQ0tfSU5URVJWQUwiLCJTdWJjaGFubmVsUG9vbCIsImFsbFN1YmNoYW5uZWxzVW5yZWZlZCIsInJlZmVkU3ViY2hhbm5lbHMiLCJjaGFubmVsVGFyZ2V0VXJpIiwic3ViY2hhbm5lbFRhcmdldCIsImNoYW5uZWxBcmd1bWVudHMiLCJzdWJjaGFubmVsT2JqQXJyYXkiLCJzdWJjaGFubmVsT2JqIiwiZ2xvYmFsU3ViY2hhbm5lbFBvb2wiLCJMb2FkQmFsYW5jaW5nQ2FsbCIsImNhbGxDb25maWciLCJkZWFkbGluZUluZm8iLCJwcm9ncmVzcyIsImZpbmFsU3RhdHVzIiwiZmluYWxNZXRhZGF0YSIsInBpY2tSZXN1bHQiLCJzdWJjaGFubmVsU3RyaW5nIiwiUmVzb2x2aW5nQ2FsbCIsImhhbmRsZURlYWRsaW5lIiwiZGVhZGxpbmVFbmRUaW1lIiwiY29uZmlnUmVzdWx0IiwiY29uZmlnRGVhZGxpbmUiLCJmaWx0ZXJlZE1lc3NzYWdlIiwiUmV0cnlUaHJvdHRsZXIiLCJtYXhUb2tlbnMiLCJ0b2tlblJhdGlvIiwicHJldmlvdXNSZXRyeVRocm90dGxlciIsIk1lc3NhZ2VCdWZmZXJUcmFja2VyIiwidG90YWxMaW1pdCIsImxpbWl0UGVyQ2FsbCIsImN1cnJlbnRQZXJDYWxsIiwiUFJFVklPTlNfUlBDX0FUVEVNUFRTX01FVEFEQVRBX0tFWSIsIkRFRkFVTFRfTUFYX0FUVEVNUFRTX0xJTUlUIiwiUmV0cnlpbmdDYWxsIiwiYnVmZmVyVHJhY2tlciIsInJldHJ5VGhyb3R0bGVyIiwibWF4QXR0ZW1wdHNMaW1pdCIsInJldHJ5UG9saWN5IiwibGF0ZXN0Q2FsbCIsInN0YXR1c09iamVjdCIsIm1lc3NhZ2VJbmRleCIsImVhcmxpZXN0TmVlZGVkTWVzc2FnZUluZGV4IiwiYnVmZmVyRW50cnkiLCJtb3N0TWVzc2FnZXMiLCJjYWxsV2l0aE1vc3RNZXNzYWdlcyIsImNoaWxkQ2FsbCIsImxpc3QiLCJuZXh0QmFja29mZk1zIiwibWF4QmFja29mZlNlYyIsInB1c2hiYWNrIiwicmV0cnlEZWxheU1zIiwiY291bnQiLCJjYWxsSW5kZXgiLCJkZWxheU1zIiwicmV0cmllZCIsIm1kVmFsdWUiLCJoZWRnaW5nUG9saWN5IiwiaGVkZ2luZ0RlbGF5U3RyaW5nIiwiaGVkZ2luZ0RlbGF5U2VjIiwicHJldmlvdXNBdHRlbXB0cyIsImluaXRpYWxNZXRhZGF0YSIsInJlY2VpdmVkTWV0YWRhdGEiLCJjaGlsZEluZGV4Iiwid3JpdGVPYmoiLCJ1bmRlcmx5aW5nQ2FsbCIsImhhbGZDbG9zZUluZGV4IiwibmV3Q3JlZGVudGlhbHMiLCJCYXNlU3ViY2hhbm5lbFdyYXBwZXIiLCJjaGlsZEhlYWx0aHkiLCJoZWFsdGh5IiwiY2hhbm5lbF9jcmVkZW50aWFsc18xIiwicmVzb2x2aW5nX2xvYWRfYmFsYW5jZXJfMSIsInN1YmNoYW5uZWxfcG9vbF8xIiwibG9hZF9iYWxhbmNpbmdfY2FsbF8xIiwicmVzb2x2aW5nX2NhbGxfMSIsInJldHJ5aW5nX2NhbGxfMSIsInJlcXVpcmUkJDE5Iiwic3ViY2hhbm5lbF9pbnRlcmZhY2VfMSIsInJlcXVpcmUkJDIwIiwiTUlOX0lETEVfVElNRU9VVF9NUyIsIkRFRkFVTFRfSURMRV9USU1FT1VUX01TIiwiUkVUUllfVEhST1RUTEVSX01BUCIsIkRFRkFVTFRfUkVUUllfQlVGRkVSX1NJWkVfQllURVMiLCJERUZBVUxUX1BFUl9SUENfUkVUUllfQlVGRkVSX1NJWkVfQllURVMiLCJDaGFubmVsU3ViY2hhbm5lbFdyYXBwZXIiLCJjaGlsZFN1YmNoYW5uZWwiLCJrZWVwYWxpdmVUaW1lIiwiU2h1dGRvd25QaWNrZXIiLCJDaGFubmVsekluZm9UcmFja2VyIiwiSW50ZXJuYWxDaGFubmVsIiwib3JpZ2luYWxUYXJnZXRVcmkiLCJkZWZhdWx0U2NoZW1lTWFwUmVzdWx0IiwicHJveHlNYXBSZXN1bHQiLCJmaW5hbFN1YmNoYW5uZWxBcmdzIiwicXVldWVDb3B5IiwiY29uZmlnU2VsZWN0b3IiLCJsb2NhbFF1ZXVlIiwidmVyYm9zaXR5T3ZlcnJpZGUiLCJ3YXRjaGVyT2JqZWN0Iiwid2F0Y2hlckluZGV4Iiwid2F0Y2hlcnNDb3B5Iiwid3JhcHBlZFN1YmNoYW5uZWwiLCJleHRyYVBpY2tJbmZvIiwidGltZVNpbmNlTGFzdEFjdGl2aXR5IiwicGFyZW50Q2FsbCIsInRpbWVyIiwiZGVhZGxpbmVEYXRlIiwiaW50ZXJuYWxfY2hhbm5lbF8xIiwiQ2hhbm5lbEltcGxlbWVudGF0aW9uIiwic2VydmVyRXJyb3JUb1N0YXR1cyIsIm92ZXJyaWRlVHJhaWxlcnMiLCJTZXJ2ZXJVbmFyeUNhbGxJbXBsIiwicmVzcG9uc2VNZXRhZGF0YSIsIlNlcnZlclJlYWRhYmxlU3RyZWFtSW1wbCIsIlNlcnZlcldyaXRhYmxlU3RyZWFtSW1wbCIsIlNlcnZlckR1cGxleFN0cmVhbUltcGwiLCJjcmVhdGVDZXJ0aWZpY2F0ZVByb3ZpZGVyU2VydmVyQ3JlZGVudGlhbHMiLCJjcmVhdGVTZXJ2ZXJDcmVkZW50aWFsc1dpdGhJbnRlcmNlcHRvcnMiLCJTZXJ2ZXJDcmVkZW50aWFscyIsInNlcnZlckNvbnN0cnVjdG9yT3B0aW9ucyIsImNvbnRleHRPcHRpb25zIiwiSW5zZWN1cmVTZXJ2ZXJDcmVkZW50aWFscyIsImtleUNlcnRQYWlycyIsImNoZWNrQ2xpZW50Q2VydGlmaWNhdGUiLCJwYWlyIiwiU2VjdXJlU2VydmVyQ3JlZGVudGlhbHMiLCJjb25zdHJ1Y3Rvck9wdGlvbnMiLCJ0aGlzQ2VydCIsIm90aGVyQ2VydCIsInRoaXNLZXkiLCJvdGhlcktleSIsIkNlcnRpZmljYXRlUHJvdmlkZXJTZXJ2ZXJDcmVkZW50aWFscyIsInJlcXVpcmVDbGllbnRDZXJ0aWZpY2F0ZSIsInNlY3VyZUNvbnRleHRPcHRpb25zIiwiSW50ZXJjZXB0b3JTZXJ2ZXJDcmVkZW50aWFscyIsImNoaWxkQ3JlZGVudGlhbHMiLCJkdXJhdGlvbk1lc3NhZ2VUb0R1cmF0aW9uIiwibXNUb0R1cmF0aW9uIiwiZHVyYXRpb25Ub01zIiwiaXNEdXJhdGlvbiIsImlzRHVyYXRpb25NZXNzYWdlIiwicGFyc2VEdXJhdGlvbiIsImR1cmF0aW9uVG9TdHJpbmciLCJtaWxsaXMiLCJkdXJhdGlvblJlZ2V4Iiwic2NhbGVGYWN0b3IiLCJjcmVhdGVPcmNhQ2xpZW50IiwiY3JlYXRlTWV0cmljc1JlYWRlciIsImR1cmF0aW9uXzEiLCJsb2FkT3JjYVByb3RvIiwiUGVyUmVxdWVzdE1ldHJpY1JlY29yZGVyIiwiREVGQVVMVF9SRVBPUlRfSU5URVJWQUxfTVMiLCJTZXJ2ZXJNZXRyaWNSZWNvcmRlciIsInJlcG9ydEludGVydmFsIiwicmVwb3J0VGltZXIiLCJtZXRyaWNzIiwic2VydmljZURlZmluaXRpb24iLCJDbGllbnRDbGFzcyIsIlBBUlNFRF9MT0FEX1JFUE9SVF9LRVkiLCJwcmV2aW91c09uQ2FsbEVuZGVkIiwicGFyc2VkTG9hZFJlcG9ydCIsInNlcmlhbGl6ZWRMb2FkUmVwb3J0IiwiREFUQV9QUk9EVUNFUl9LRVkiLCJPb2JNZXRyaWNzRGF0YVdhdGNoZXIiLCJtZXRyaWNzTGlzdGVuZXIiLCJpbnRlcnZhbE1zIiwicHJvZHVjZXIiLCJjcmVhdGVPb2JNZXRyaWNzRGF0YVByb2R1Y2VyIiwiT29iTWV0cmljc0RhdGFQcm9kdWNlciIsIm5ld0ludGVydmFsIiwibWV0cmljc0NhbGwiLCJyZXBvcnQiLCJPcmNhT29iTWV0cmljc1N1YmNoYW5uZWxXcmFwcGVyIiwiaXNJbnRlcmNlcHRpbmdTZXJ2ZXJMaXN0ZW5lciIsImdldFNlcnZlckludGVyY2VwdGluZ0NhbGwiLCJvcmNhXzEiLCJTZXJ2ZXJMaXN0ZW5lckJ1aWxkZXIiLCJvblJlY2VpdmVIYWxmQ2xvc2UiLCJvbkNhbmNlbCIsIkludGVyY2VwdGluZ1NlcnZlckxpc3RlbmVySW1wbCIsImludGVyY2VwdGVkTWV0YWRhdGEiLCJSZXNwb25kZXJCdWlsZGVyIiwic2VuZE1ldGFkYXRhIiwic2VuZFN0YXR1cyIsImRlZmF1bHRTZXJ2ZXJMaXN0ZW5lciIsImRlZmF1bHRSZXNwb25kZXIiLCJTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsIiwicmVzcG9uZGVyIiwiaW50ZXJjZXB0ZWRMaXN0ZW5lciIsImZ1bGxJbnRlcmNlcHRlZExpc3RlbmVyIiwiaW50ZXJjZXB0ZWRNZXNzYWdlIiwiaW50ZXJjZXB0ZWRTdGF0dXMiLCJHUlBDX0FDQ0VQVF9FTkNPRElOR19IRUFERVIiLCJHUlBDX0VOQ09ESU5HX0hFQURFUiIsIkdSUENfTUVTU0FHRV9IRUFERVIiLCJHUlBDX1NUQVRVU19IRUFERVIiLCJHUlBDX1RJTUVPVVRfSEVBREVSIiwiREVBRExJTkVfUkVHRVgiLCJkZWFkbGluZVVuaXRzVG9NcyIsImRlZmF1bHRDb21wcmVzc2lvbkhlYWRlcnMiLCJkZWZhdWx0UmVzcG9uc2VIZWFkZXJzIiwiZGVmYXVsdFJlc3BvbnNlT3B0aW9ucyIsIkJhc2VTZXJ2ZXJJbnRlcmNlcHRpbmdDYWxsIiwiaGFuZGxlciIsInRpbWVvdXRIZWFkZXIiLCJlbmNvZGluZ0hlYWRlciIsImJ5dGVMZW5ndGgiLCJtZXNzYWdlQ29udGVudHMiLCJxdWV1ZUVudHJ5IiwiY29tcHJlc3NlZE1lc3NhZ2VFbmNvZGluZyIsImRlY29tcHJlc3NlZE1lc3NhZ2UiLCJuZXh0UXVldWVFbnRyeSIsInJhd01lc3NhZ2VzIiwiY3VzdG9tIiwic3RhdHVzTWV0YWRhdGEiLCJ0cmFpbGVyc1RvU2VuZCIsImJhc2VDYWxsIiwiX19ydW5Jbml0aWFsaXplcnMiLCJ0aGlzQXJnIiwiaW5pdGlhbGl6ZXJzIiwidXNlVmFsdWUiLCJfX2VzRGVjb3JhdGUiLCJkZXNjcmlwdG9ySW4iLCJkZWNvcmF0b3JzIiwiY29udGV4dEluIiwiZXh0cmFJbml0aWFsaXplcnMiLCJhY2NlcHQiLCJfIiwiZG9uZSIsInNlcnZlcl9jYWxsXzEiLCJzZXJ2ZXJfY3JlZGVudGlhbHNfMSIsInNlcnZlcl9pbnRlcmNlcHRvcnNfMSIsIlVOTElNSVRFRF9DT05ORUNUSU9OX0FHRV9NUyIsIk1BWF9DT05ORUNUSU9OX0lETEVfTVMiLCJrTWF4QWdlIiwic2VydmVyQ2FsbFRyYWNlIiwiZGVwcmVjYXRlIiwiZ2V0VW5pbXBsZW1lbnRlZFN0YXR1c1Jlc3BvbnNlIiwiZ2V0RGVmYXVsdEhhbmRsZXIiLCJoYW5kbGVyVHlwZSIsInVuaW1wbGVtZW50ZWRTdGF0dXNSZXNwb25zZSIsIlNlcnZlciIsIl9pbnN0YW5jZUV4dHJhSW5pdGlhbGl6ZXJzIiwiX3N0YXJ0X2RlY29yYXRvcnMiLCJzZXNzaW9uSW5mbyIsImltcGxlbWVudGF0aW9uIiwic2VydmljZUtleXMiLCJpbXBsRm4iLCJpbXBsIiwiYm91bmRBZGRyZXNzIiwiY2hhbm5lbHpSZWYiLCJodHRwMlNlcnZlciIsInNlY3VyZVNlcnZlck9wdGlvbnMiLCJhcmVDcmVkZW50aWFsc1ZhbGlkIiwiY3JlZHNXYXRjaGVyIiwic2VjdXJlU2VydmVyIiwiYm91bmRQb3J0T2JqZWN0Iiwib25FcnJvciIsImJvdW5kU3ViY2hhbm5lbEFkZHJlc3MiLCJmaXJzdEFkZHJlc3NSZXN1bHQiLCJyZXN0QWRkcmVzc1Jlc3VsdCIsInJlc3RBZGRyZXNzZXMiLCJhbGxSZXN1bHRzIiwiYmluZFJlc3VsdCIsImVycm9yU3RyaW5nIiwic2VlblJlc29sdXRpb24iLCJyZXNvbHZlckxpc3RlbmVyIiwicG9ydE51bWJlciIsImluaXRpYWxQb3J0VXJpIiwicG9ydFVyaSIsImRlZmVycmVkQ2FsbGJhY2siLCJwb3J0TnVtIiwic3BsaXRQb3J0IiwiY29tcGxldGlvblByb21pc2UiLCJmaW5hbFVyaSIsIm93bnNDaGFubmVselJlZiIsInNlc3Npb25zU2V0IiwiY29ubmVjdGlvbiIsImdyYWNlVGltZU1zIiwic2VydmVySW5mbyIsImFsbFNlc3Npb25zIiwiY2hhbm5lbHpJbmZvIiwid3JhcHBlZENhbGxiYWNrIiwicGVuZGluZ0NoZWNrcyIsIm1heWJlQ2FsbGJhY2siLCJzZXJ2ZXJLZXkiLCJzZXJ2ZXJTdHJpbmciLCJzZXNzaW9uU3RyaW5nIiwiY29udGVudFR5cGUiLCJjaGFubmVselNlc3Npb25JbmZvIiwiZXh0cmFJbnRlcmNlcHRvcnMiLCJoYW5kbGVVbmFyeSIsImhhbmRsZUNsaWVudFN0cmVhbWluZyIsImhhbmRsZVNlcnZlclN0cmVhbWluZyIsImhhbmRsZUJpZGlTdHJlYW1pbmciLCJzZXJ2ZXJBZGRyZXNzIiwic2VydmVyQWRkcmVzc1N0cmluZyIsInNlc3Npb25IYW5kbGVyIiwiY29ubmVjdGlvbkFnZVRpbWVyIiwiY29ubmVjdGlvbkFnZUdyYWNlVGltZXIiLCJrZWVwYWxpdmVUaW1lciIsInNlc3Npb25DbG9zZWRCeVNlcnZlciIsImlkbGVUaW1lb3V0T2JqIiwiaml0dGVyIiwiY2xlYXJLZWVwYWxpdmVUaW1lb3V0IiwiY2FuU2VuZFBpbmciLCJzZW5kUGluZyIsIm1heWJlU3RhcnRLZWVwYWxpdmVQaW5nVGltZXIiLCJjbGllbnRBZGRyZXNzIiwia2VlcGFsaXZlVGltZW91dCIsIl9tZXRhZGF0YSIsInJlc3BvbmQiLCJ0cmFpbGVyIiwicmVxdWVzdE1ldGFkYXRhIiwicmVxdWVzdE1lc3NhZ2UiLCJTdGF0dXNCdWlsZGVyIiwic2h1ZmZsZWQiLCJzdWJjaGFubmVsX2FkZHJlc3NfMiIsIkNPTk5FQ1RJT05fREVMQVlfSU5URVJWQUxfTVMiLCJQaWNrRmlyc3RMb2FkQmFsYW5jaW5nQ29uZmlnIiwic2h1ZmZsZUFkZHJlc3NMaXN0IiwiUGlja0ZpcnN0UGlja2VyIiwidGVtcCIsImludGVybGVhdmVBZGRyZXNzRmFtaWxpZXMiLCJpcHY2QWRkcmVzc2VzIiwiaXB2NEFkZHJlc3NlcyIsImlwdjZGaXJzdCIsImZpcnN0TGlzdCIsInNlY29uZExpc3QiLCJSRVBPUlRfSEVBTFRIX1NUQVRVU19PUFRJT05fTkFNRSIsIlBpY2tGaXJzdExvYWRCYWxhbmNlciIsInN0YXJ0SW5kZXgiLCJzdWJjaGFubmVsU3RhdGUiLCJzdWJjaGFubmVsSW5kZXgiLCJuZXdDaGlsZHJlbkxpc3QiLCJtYXliZUVuZHBvaW50TGlzdCIsInJhd0FkZHJlc3NMaXN0IiwiTEVBRl9DT05GSUciLCJMZWFmTG9hZEJhbGFuY2VyIiwiY2hpbGRDaGFubmVsQ29udHJvbEhlbHBlciIsIm5ld0VuZHBvaW50IiwibmV3T3B0aW9ucyIsInJlYWRGaWxlUHJvbWlzZSIsIkZpbGVXYXRjaGVyQ2VydGlmaWNhdGVQcm92aWRlciIsImNlcnRpZmljYXRlUmVzdWx0IiwicHJpdmF0ZUtleVJlc3VsdCIsImNhQ2VydGlmaWNhdGVSZXN1bHQiLCJ0aW1lU2luY2VMYXN0VXBkYXRlIiwibG9hZF9iYWxhbmNlcl9waWNrX2ZpcnN0XzEiLCJjZXJ0aWZpY2F0ZV9wcm92aWRlcl8xIiwiVWRzUmVzb2x2ZXIiLCJJUFY0X1NDSEVNRSIsIklQVjZfU0NIRU1FIiwiSXBSZXNvbHZlciIsImFkZHJlc3NlcyIsInBhdGhMaXN0IiwiUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWciLCJSb3VuZFJvYmluUGlja2VyIiwiY2hpbGRyZW4iLCJuZXh0SW5kZXgiLCJyb3RhdGVBcnJheSIsIlJvdW5kUm9iaW5Mb2FkQmFsYW5jZXIiLCJyZWFkeUNoaWxkcmVuIiwibmV4dFBpY2tlZEVuZHBvaW50IiwiZXhwZXJpbWVudGFsXzEiLCJPVVRMSUVSX0RFVEVDVElPTl9FTkFCTEVEIiwiZGVmYXVsdFN1Y2Nlc3NSYXRlRWplY3Rpb25Db25maWciLCJkZWZhdWx0RmFpbHVyZVBlcmNlbnRhZ2VFamVjdGlvbkNvbmZpZyIsInZhbGlkYXRlRmllbGRUeXBlIiwiZXhwZWN0ZWRUeXBlIiwib2JqZWN0TmFtZSIsImZ1bGxGaWVsZE5hbWUiLCJ2YWxpZGF0ZVBvc2l0aXZlRHVyYXRpb24iLCJ2YWxpZGF0ZVBlcmNlbnRhZ2UiLCJPdXRsaWVyRGV0ZWN0aW9uTG9hZEJhbGFuY2luZ0NvbmZpZyIsImJhc2VFamVjdGlvblRpbWVNcyIsIm1heEVqZWN0aW9uVGltZU1zIiwibWF4RWplY3Rpb25QZXJjZW50Iiwic3VjY2Vzc1JhdGVFamVjdGlvbiIsImZhaWx1cmVQZXJjZW50YWdlRWplY3Rpb24iLCJjaGlsZFBvbGljeSIsIk91dGxpZXJEZXRlY3Rpb25TdWJjaGFubmVsV3JhcHBlciIsImNyZWF0ZUVtcHR5QnVja2V0IiwiQ2FsbENvdW50ZXIiLCJPdXRsaWVyRGV0ZWN0aW9uUGlja2VyIiwid3JhcHBlZFBpY2tlciIsImNvdW50Q2FsbHMiLCJ3cmFwcGVkUGljayIsInN1YmNoYW5uZWxXcmFwcGVyIiwib25DYWxsRW5kZWQiLCJzdGF0dXNDb2RlIiwiT3V0bGllckRldGVjdGlvbkxvYWRCYWxhbmNlciIsIm9yaWdpbmFsU3ViY2hhbm5lbCIsImVqZWN0aW9uQ291bnQiLCJlamVjdGlvblRpbWVzdGFtcCIsInN1Y2Nlc3NSYXRlQ29uZmlnIiwidGFyZ2V0UmVxdWVzdFZvbHVtZSIsImFkZHJlc2VzV2l0aFRhcmdldFZvbHVtZSIsInN1Y2Nlc3NSYXRlcyIsInN1Y2Nlc3NlcyIsImZhaWx1cmVzIiwic3VjY2Vzc1JhdGVNZWFuIiwic3VjY2Vzc1JhdGVEZXZpYXRpb25TdW0iLCJyYXRlIiwiZGV2aWF0aW9uIiwic3VjY2Vzc1JhdGVWYXJpYW5jZSIsInN1Y2Nlc3NSYXRlU3RkZXYiLCJlamVjdGlvblRocmVzaG9sZCIsInN1Y2Nlc3NSYXRlIiwicmFuZG9tTnVtYmVyIiwiZmFpbHVyZVBlcmNlbnRhZ2VDb25maWciLCJhZGRyZXNzZXNXaXRoVGFyZ2V0Vm9sdW1lIiwicmV0dXJuVGltZSIsInJlbWFpbmluZ0RlbGF5IiwidG9wIiwibGVmdCIsInJpZ2h0IiwiUHJpb3JpdHlRdWV1ZSIsImNvbXBhcmF0b3IiLCJwb3BwZWRWYWx1ZSIsImJvdHRvbSIsInJlcGxhY2VkVmFsdWUiLCJub2RlIiwibWF4Q2hpbGQiLCJwcmlvcml0eV9xdWV1ZV8xIiwiREVGQVVMVF9PT0JfUkVQT1JUSU5HX1BFUklPRF9NUyIsIkRFRkFVTFRfQkxBQ0tPVVRfUEVSSU9EX01TIiwiREVGQVVMVF9XRUlHSFRfRVhQSVJBVElPTl9QRVJJT0RfTVMiLCJERUZBVUxUX1dFSUdIVF9VUERBVEVfUEVSSU9EX01TIiwiREVGQVVMVF9FUlJPUl9VVElMSVpBVElPTl9QRU5BTFRZIiwicGFyc2VEdXJhdGlvbkZpZWxkIiwiZHVyYXRpb25PYmplY3QiLCJwYXJzZWREdXJhdGlvbiIsIldlaWdodGVkUm91bmRSb2JpbkxvYWRCYWxhbmNpbmdDb25maWciLCJlbmFibGVPb2JMb2FkUmVwb3J0Iiwib29iTG9hZFJlcG9ydGluZ1BlcmlvZE1zIiwiYmxhY2tvdXRQZXJpb2RNcyIsIndlaWdodEV4cGlyYXRpb25QZXJpb2RNcyIsIndlaWdodFVwZGF0ZVBlcmlvZE1zIiwiZXJyb3JVdGlsaXphdGlvblBlbmFsdHkiLCJXZWlnaHRlZFJvdW5kUm9iaW5QaWNrZXIiLCJtZXRyaWNzSGFuZGxlciIsInBvc2l0aXZlV2VpZ2h0IiwiYXZlcmFnZVdlaWdodCIsIndlaWdodFN1bSIsIndlaWdodCIsInBlcmlvZCIsImNoaWxkUGljayIsImxvYWRSZXBvcnQiLCJXZWlnaHRlZFJvdW5kUm9iaW5Mb2FkQmFsYW5jZXIiLCJxcHMiLCJ1dGlsaXphdGlvbiIsIm5ld1dlaWdodCIsImJsYWNrb3V0UGVyaW9kIiwid2VpZ2h0ZWRQaWNrZXJzIiwiZW5kcG9pbnROYW1lIiwiY2hpbGRFbnRyeSIsInNlZW5FbmRwb2ludE5hbWVzIiwic2VydmVyXzEiLCJzdGF0dXNfYnVpbGRlcl8xIiwiZmlyc3QiLCJhZGRpdGlvbmFsIiwiY2xvc2VDbGllbnQiLCJ3YWl0Rm9yQ2xpZW50UmVhZHkiLCJsb2FkT2JqZWN0IiwiZm9ybWF0Iiwic2V0TG9nVmVyYm9zaXR5IiwiZ2V0Q2xpZW50Q2hhbm5lbCIsImV4cGVyaW1lbnRhbCIsInJlc29sdmVyX2RucyIsInJlc29sdmVyX3VkcyIsInJlc29sdmVyX2lwIiwicmVxdWlyZSQkMjEiLCJsb2FkX2JhbGFuY2VyX3BpY2tfZmlyc3QiLCJyZXF1aXJlJCQyMiIsImxvYWRfYmFsYW5jZXJfcm91bmRfcm9iaW4iLCJyZXF1aXJlJCQyMyIsImxvYWRfYmFsYW5jZXJfb3V0bGllcl9kZXRlY3Rpb24iLCJyZXF1aXJlJCQyNCIsImxvYWRfYmFsYW5jZXJfd2VpZ2h0ZWRfcm91bmRfcm9iaW4iLCJyZXF1aXJlJCQyNSIsImNoYW5uZWx6IiwiYmFzZTY0U3RyIiwiZXMiLCJieXRlUG9zIiwiZ3JvdXBQb3MiLCJVbmtub3duRmllbGRIYW5kbGVyIiwiZmllbGRObyIsImlzIiwibm8iLCJhbGwiLCJ1ZiIsIldpcmVUeXBlIiwibG93Qml0cyIsImhpZ2hCaXRzIiwic2hpZnQiLCJtaWRkbGVCeXRlIiwiaGFzTmV4dCIsImJ5dGUiLCJzcGxpdEJpdHMiLCJoYXNNb3JlQml0cyIsIlRXT19QV1JfMzJfREJMIiwiZGVjIiwibWludXMiLCJhZGQxZTZkaWdpdCIsImJlZ2luIiwiZGlnaXQxZTYiLCJiaXRzTG93IiwiYml0c0hpZ2giLCJsb3ciLCJtaWQiLCJoaWdoIiwiZGlnaXRBIiwiZGlnaXRCIiwiZGlnaXRDIiwiZGVjaW1hbEZyb20xZTciLCJkaWdpdDFlNyIsIm5lZWRMZWFkaW5nWmVyb3MiLCJyZWFkQnl0ZXMiLCJkdiIsImJpIiwicGJsIiwiZGVmYXVsdHNSZWFkIiwidGV4dERlY29kZXIiLCJ0YWciLCJ6emUiLCJjb25kaXRpb24iLCJkZWZhdWx0c1dyaXRlIiwidGV4dEVuY29kZXIiLCJ2aWV3IiwibG9uZyIsInNuYWtlQ2FzZSIsImNhcE5leHQiLCJzYiIsIlNjYWxhclR5cGUiLCJMb25nVHlwZSIsIlJlcGVhdFR5cGUiLCJhbnkiLCJpbmZvIiwia25vd24iLCJkZXB0aCIsImFsbG93RXhjZXNzUHJvcGVydGllcyIsImdyb3VwIiwicmVwZWF0ZWQiLCJsb25nVHlwZSIsImFyZ1R5cGUiLCJtYXAiLCJmaWVsZHNJbnB1dCIsImpzb25WYWx1ZSIsIndoYXQiLCJpbnB1dCIsIm9uZW9mc0hhbmRsZWQiLCJqc29uS2V5IiwibG9jYWxOYW1lIiwiZmllbGRPYmoiLCJqc29uT2JqS2V5IiwianNvbk9ialZhbHVlIiwiZmllbGRBcnIiLCJqc29uSXRlbSIsImlnbm9yZVVua25vd25GaWVsZHMiLCJsb2NhbEVudW1OYW1lIiwiZW51bU51bWJlciIsImZsb2F0IiwiaW50MzIiLCJqc29uT2JqIiwiZW50cnlLZXkiLCJlbnRyeVZhbHVlIiwibWVzc2FnZVR5cGUiLCJlbnVtSW5mbyIsImpzb25BcnIiLCJlbWl0RGVmYXVsdFZhbHVlcyIsImVudW1Bc0ludGVnZXIiLCJlZCIsInVsb25nIiwiVCIsIkwiLCJhcnIiLCJtYXBLZXkiLCJtYXBWYWwiLCJrZXlSYXciLCJlbWl0RGVmYXVsdCIsImtleVZhbHVlIiwiaXNEZWZhdWx0IiwibSIsImZpZWxkVmFsdWUiLCJ2YWxfYSIsInZhbF9iIiwiYmEiLCJiYiIsImNvcHkiLCJtZXRhIiwiaW50byIsIkRlZmVycmVkU3RhdGUiLCJwcmV2ZW50VW5oYW5kbGVkUmVqZWN0aW9uV2FybmluZyIsInJlYXNvbiIsImNvbXBsZXRlIiwiX19hd2FpdGVyIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJhZG9wdCIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwicmVxdWVzdEhlYWRlcnMiLCJ0cmFpbGVycyIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsIm10ZCIsImlucCIsIkR5bmFtaWNUeXBlIiwiRHluTW9kdWxlVHlwZSIsIk1vZHVsZUR5bmFtaWNUeXBlIiwiTWVkaWFUeXBlIiwiVmlkZW9UeXBlIiwiUmVzZXJ2ZVR5cGUiLCJfdHJhbnNwb3J0IiwiaW5kZW1wb3RlbnRNZXRob2QiLCJncnBjLk1ldGFkYXRhIiwiZGVjb2RlIiwidnYiLCJoMiIsImRlZmF1bHRPcHRpb25zIiwiY28iLCJnTWV0YSIsImRlZkhlYWRlciIsImRlZk1lc3NhZ2UiLCJkZWZTdGF0dXMiLCJkZWZUcmFpbGVyIiwiZ0NhbGwiLCJHcnBjU3RhdHVzIiwiZXYiLCJvdXRTdHJlYW0iLCJpblN0cmVhbSIsImlubmVyIiwiZmxhZ1BhdGgiLCJmbGFnIiwia3YiLCJwa2dIYWNrIiwib3JpZ2luYWxCcm93c2VyV2luZG93IiwiQnJvd3NlcldpbmRvdyIsIkhvb2tlZEJyb3dzZXJXaW5kb3ciLCJPcmlnaW5hbEJyb3dzZXJXaW5kb3ciLCJpbnN0YW5jZSIsInNlcyIsIl9yZXMiLCJfZXZlbnQiLCJNb2R1bGVMb2FkSG9vayIsIk1vZHVsZSIsIm9yaWdpbmFsX2xvYWQiLCJsb2FkZWRfbW9kdWxlIiwiYnVpbGRGcm9tVGVtcGxhdGUiLCJNZW51IiwidGVtcGxhdGUiLCJvcmlnaW5sb2FkVVJMIiwiX2xvYWRGaWxlIiwiZmlsZVBhdGgiLCJvcmlnaW5hbENsb3NlIiwiY3Vyc29yVG9vbCIsImRldmljZXMiLCJleGVjU3luYyIsImUxIiwiZXhlYyIsImV4Iiwib3V0Iiwib3JpZ2luYWwiLCJzY3JlZW4iLCJjdXJzb3JUb29sRXJyb3IiLCJvbGRYIiwib2xkWSIsImRldGFpbCIsImlwY01haW4iLCJ3aW5kb3dzIiwid2luIiwidGVtcGZpbGUiLCJmaWxlU3RyZWFtIiwicHJveHkiLCJsaWJQYXRoIiwidGFzayIsInNwYXduIiwic3Rkb3V0Iiwic3RkZXJyIiwiZHluYW1pY0lkIiwiYWNjZXNzS2V5IiwiZGV2aWNlIiwiZGV2aWNlRGF0YSIsInJlcURhdGEiLCJleHRQYXRoIiwicHJvdG9jb2wiLCJjcCIsIm9yaWdpbmFsRVMiXSwibWFwcGluZ3MiOiIya0JBQ00sU0FBVyxDQUVmLE1BQU8sRUFFUCxNQUFPLEVBRVAsS0FBTSxFQUVOLFFBQVMsRUFFVCxNQUFPLENBQ1QsRUFFTSxPQUFTLENBQUMsZ0JBQWlCLGVBQWlCLGdCQUFpQixpQkFBa0IsYUFBYSxFQUM1RixRQUFVLENBQUMsTUFBTyxRQUFTLE9BQVEsT0FBUSxPQUFPLEVBQ2xEQSxNQUFNLENBQ1YsSUFBSyxRQUFRLElBQ2IsS0FBTSxRQUFRLEtBQ2QsTUFBTyxRQUFRLE1BQ2YsS0FBTSxRQUFRLEtBQ2QsTUFBTyxRQUFRLE1BQ2YsTUFBTyxRQUFRLEtBQ2pCLEVBYU0saUJBQWlDLElBQU0sQ0FDM0MsTUFBTUMsRUFBUSxZQUFZLFFBQVEsY0FBYyxRQUFRLFVBQVUsR0FBSyxPQUN2RSxPQUFJQSxHQUFTLEtBQWEsU0FBUyxLQUMvQkEsSUFBVSxRQUFnQixTQUFTLE1BQ25DQSxJQUFVLFFBQWdCLFNBQVMsTUFDbkNBLElBQVUsT0FBZSxTQUFTLEtBQ2xDQSxJQUFVLFVBQWtCLFNBQVMsUUFDckNBLElBQVUsUUFBZ0IsU0FBUyxNQUNoQyxTQUFTLElBQ2xCLEdBQUEsRUFLTyxNQUFNLE1BQU8sQ0FFRCxZQUFxQyxDQUFBLEVBQ3JDLFdBQW9DLENBQUEsRUFDckQsT0FBYyxXQUFxQixHQUM1QixVQUFZLEdBQ0YsT0FBMkIsQ0FDMUMsVUFBVyxVQUFBLEVBR2IsWUFBYUMsRUFBWSxVQUFXLENBQ2xDLEtBQUssT0FBTyxVQUFZLElBQUlBLENBQVMsR0FDdkMsQ0FRTyxPQUFRQSxFQUFZLFVBQVcsQ0FDcEMsT0FBTyxJQUFJLE9BQU9BLENBQVMsQ0FDN0IsQ0FFUSxLQUFNRCxFQUFxQkUs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VSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUN4RCxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3hELEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDeEQsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDdkUsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDdkUsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUN4RCxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3hELEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDeEQsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDdkUsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDdkUsRUFBVSxJQUFNLEVBQVUsSUFDMUIsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQ3pDLEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3ZFLEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3ZFLEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUFLLEVBQVUsSUFDeEQsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUN4RCxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFDekMsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQ3pDLEVBQVUsSUFBTSxFQUFVLElBQUssRUFBVSxJQUN6QyxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFDekMsRUFBVSxJQUFNLEVBQVUsSUFBSyxFQUFVLElBQUssRUFBVSxJQUN4RCxFQUFVLElBQU0sRUFBVSxJQUFLLEVBQVUsSUFBSyxFQUFVLElBQ3hELEVBQVUsSUFBTSxF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R0FBQSIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlsyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzIsNzMsNzQsNzUsNzYsNzcsNzgsNzksODAsODEsODIsODMsODQsODUsODYsODcsODgsODksOTAsOTEsOTIsOTMsOTQsOTUsOTYsOTcsOTgsOTksMTAwLDEwMSwxMDIsMTAzLDEwNCwxMDUsMTA2LDEwNywxMDgsMTA5LDExMCwxMTEsMTEyLDExMywxMTQsMTE1LDExNiwxMTcsMTE4LDExOSwxMjAsMTIxLDEyMiwxMjMsMTI0LDEyNSwxMjYsMTI3LDEyOCwxMjksMTMwLDEzMSwxMzIsMTMzLDEzNCwxMzUsMTM2LDEzNywxMzgsMTM5LDE0MCwxNDEsMTQyLDE0MywxNDQsMTQ1LDE0NiwxNDcsMTQ4LDE0OSwxNTIsMTUzXX0=
